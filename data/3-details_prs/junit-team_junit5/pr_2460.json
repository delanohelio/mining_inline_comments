{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NDUyNzI1", "number": 2460, "title": "Reduce memory footprint", "bodyText": "With these changes I was able to go from ~57160 to ~125205 dynamic tests with a -Xmx64m and the sample project provided by @ben-manes in #2450 without compromising any functionality.\n\nI hereby agree to the terms of the JUnit Contributor License Agreement.\n\nDefinition of Done\n\n There are no TODOs left in the code\n Method preconditions are checked and documented in the method's Javadoc\n Coding conventions (e.g. for logging) have been followed\n Change is covered by automated tests including corner cases, errors, and exception handling\n Public API has Javadoc and @API annotations\n Change is documented in the User Guide and Release Notes\n All continuous integration builds pass", "createdAt": "2020-10-24T15:59:20Z", "url": "https://github.com/junit-team/junit5/pull/2460", "merged": true, "mergeCommit": {"oid": "0be0e784f6ad227eb323201891760440626d6f51"}, "closed": true, "closedAt": "2021-01-08T19:34:58Z", "author": {"login": "marcphilipp"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhoIlfgFqTU0MTA4NTIwNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABduN4HwgBqjQxODU3NzI2NDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMDg1MjA0", "url": "https://github.com/junit-team/junit5/pull/2460#pullrequestreview-541085204", "createdAt": "2020-11-30T16:36:19Z", "commit": {"oid": "9743eb1808b3a991cfe672d9333d81b0f5fc1118"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjozNjoxOVrOH8Dedw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjozNjoxOVrOH8Dedw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjczMzU1OQ==", "bodyText": "This has not changed, but how is this value of 16 chosen?", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r532733559", "createdAt": "2020-11-30T16:36:19Z", "author": {"login": "mmerdes"}, "path": "junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestPlan.java", "diffHunk": "@@ -101,11 +102,11 @@ protected TestPlan(boolean containsTests) {\n \t@API(status = DEPRECATED, since = \"1.4\")\n \tpublic void add(TestIdentifier testIdentifier) {\n \t\tPreconditions.notNull(testIdentifier, \"testIdentifier must not be null\");\n-\t\tallIdentifiers.put(testIdentifier.getUniqueId(), testIdentifier);\n-\t\tif (testIdentifier.getParentId().isPresent()) {\n-\t\t\tString parentId = testIdentifier.getParentId().get();\n+\t\tallIdentifiers.put(testIdentifier.getUniqueIdObject(), testIdentifier);\n+\t\tif (testIdentifier.getParentIdObject().isPresent()) {\n+\t\t\tUniqueId parentId = testIdentifier.getParentIdObject().get();\n \t\t\tSet<TestIdentifier> directChildren = children.computeIfAbsent(parentId,\n-\t\t\t\tkey -> Collections.synchronizedSet(new LinkedHashSet<>(16)));\n+\t\t\t\tkey -> synchronizedSet(new LinkedHashSet<>(16)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9743eb1808b3a991cfe672d9333d81b0f5fc1118"}, "originalPosition": 50}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9743eb1808b3a991cfe672d9333d81b0f5fc1118", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/9743eb1808b3a991cfe672d9333d81b0f5fc1118", "committedDate": "2020-10-24T15:56:52Z", "message": "Avoid storing all returned futures"}, "afterCommit": {"oid": "c71632866ab7c3d4a877a82af2934c675c4ae50d", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/c71632866ab7c3d4a877a82af2934c675c4ae50d", "committedDate": "2020-12-30T14:03:52Z", "message": "Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c71632866ab7c3d4a877a82af2934c675c4ae50d", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/c71632866ab7c3d4a877a82af2934c675c4ae50d", "committedDate": "2020-12-30T14:03:52Z", "message": "Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}, "afterCommit": {"oid": "90dd6fd28d27664b1d896e3b01655d84183ddc81", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/90dd6fd28d27664b1d896e3b01655d84183ddc81", "committedDate": "2020-12-30T22:01:29Z", "message": "Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90dd6fd28d27664b1d896e3b01655d84183ddc81", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/90dd6fd28d27664b1d896e3b01655d84183ddc81", "committedDate": "2020-12-30T22:01:29Z", "message": "Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}, "afterCommit": {"oid": "c5efbbdc49d63ae3ec4a42729297e065f3e2e02e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/c5efbbdc49d63ae3ec4a42729297e065f3e2e02e", "committedDate": "2020-12-31T11:59:35Z", "message": "Vintage: Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5efbbdc49d63ae3ec4a42729297e065f3e2e02e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/c5efbbdc49d63ae3ec4a42729297e065f3e2e02e", "committedDate": "2020-12-31T11:59:35Z", "message": "Vintage: Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}, "afterCommit": {"oid": "5ff753797bb3ab2ceca2596f6a7c1dcf0f7d3c2e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/5ff753797bb3ab2ceca2596f6a7c1dcf0f7d3c2e", "committedDate": "2020-12-31T12:34:36Z", "message": "Platform: Avoid SerializedForm reference\n\nPrior to this commit each `TestIdentifier` instance required memory for\nstoring a `null` reference."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ff753797bb3ab2ceca2596f6a7c1dcf0f7d3c2e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/5ff753797bb3ab2ceca2596f6a7c1dcf0f7d3c2e", "committedDate": "2020-12-31T12:34:36Z", "message": "Platform: Avoid SerializedForm reference\n\nPrior to this commit each `TestIdentifier` instance required memory for\nstoring a `null` reference."}, "afterCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/266e8f7249e0d1182b5e50e355bf4ac1840d91e4", "committedDate": "2020-12-31T12:37:20Z", "message": "Platform: Avoid SerializedForm reference\n\nPrior to this commit each `TestIdentifier` instance required memory for\nstoring a `null` reference."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNzk1MzUy", "url": "https://github.com/junit-team/junit5/pull/2460#pullrequestreview-561795352", "createdAt": "2021-01-05T13:41:45Z", "commit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxMzo0MTo0NVrOIOXocA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxMzo1MjoyMFrOIOX_bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkzODE2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate interface DynamicTaskState {\n          \n          \n            \n            \t@FunctionalInterface\n          \n          \n            \n            \tprivate interface DynamicTaskState {", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551938160", "createdAt": "2021-01-05T13:41:45Z", "author": {"login": "sbrannen"}, "path": "junit-platform-engine/src/main/java/org/junit/platform/engine/support/hierarchical/NodeTestTask.java", "diffHunk": "@@ -231,4 +245,20 @@ public void awaitFinished() throws InterruptedException {\n \t\t}\n \t}\n \n+\tprivate interface DynamicTaskState {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkzODk0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t * class match the files that {@code TestIdentifier} had prior to 5.8.\n          \n          \n            \n            \t * class match the fields that {@code TestIdentifier} had prior to 5.8.", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551938942", "createdAt": "2021-01-05T13:43:01Z", "author": {"login": "sbrannen"}, "path": "junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestIdentifier.java", "diffHunk": "@@ -216,4 +272,75 @@ public String toString() {\n \t\t// @formatter:on\n \t}\n \n+\tprivate void writeObject(ObjectOutputStream s) throws IOException {\n+\t\tSerializedForm serializedForm = new SerializedForm(this);\n+\t\tserializedForm.serialize(s);\n+\t}\n+\n+\tprivate void readObject(ObjectInputStream s) throws ClassNotFoundException, IOException {\n+\t\tSerializedForm serializedForm = SerializedForm.deserialize(s);\n+\t\tuniqueId = UniqueId.parse(serializedForm.uniqueId);\n+\t\tdisplayName = serializedForm.displayName;\n+\t\tsource = serializedForm.source;\n+\t\ttags = serializedForm.tags;\n+\t\ttype = serializedForm.type;\n+\t\tparentId = UniqueId.parse(serializedForm.parentId);\n+\t\tlegacyReportingName = serializedForm.legacyReportingName;\n+\t}\n+\n+\t/**\n+\t * Represents the serialized output of {@code TestIdentifier}. The fields on this\n+\t * class match the files that {@code TestIdentifier} had prior to 5.8.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 196}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkzOTQ0MQ==", "bodyText": "No need to make the constructor and methods public in this local class.", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551939441", "createdAt": "2021-01-05T13:43:55Z", "author": {"login": "sbrannen"}, "path": "junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestIdentifier.java", "diffHunk": "@@ -216,4 +272,75 @@ public String toString() {\n \t\t// @formatter:on\n \t}\n \n+\tprivate void writeObject(ObjectOutputStream s) throws IOException {\n+\t\tSerializedForm serializedForm = new SerializedForm(this);\n+\t\tserializedForm.serialize(s);\n+\t}\n+\n+\tprivate void readObject(ObjectInputStream s) throws ClassNotFoundException, IOException {\n+\t\tSerializedForm serializedForm = SerializedForm.deserialize(s);\n+\t\tuniqueId = UniqueId.parse(serializedForm.uniqueId);\n+\t\tdisplayName = serializedForm.displayName;\n+\t\tsource = serializedForm.source;\n+\t\ttags = serializedForm.tags;\n+\t\ttype = serializedForm.type;\n+\t\tparentId = UniqueId.parse(serializedForm.parentId);\n+\t\tlegacyReportingName = serializedForm.legacyReportingName;\n+\t}\n+\n+\t/**\n+\t * Represents the serialized output of {@code TestIdentifier}. The fields on this\n+\t * class match the files that {@code TestIdentifier} had prior to 5.8.\n+\t */\n+\tprivate static class SerializedForm implements Serializable {\n+\n+\t\tprivate static final long serialVersionUID = 1L;\n+\n+\t\tprivate final String uniqueId;\n+\t\tprivate final String parentId;\n+\t\tprivate final String displayName;\n+\t\tprivate final String legacyReportingName;\n+\t\tprivate final TestSource source;\n+\t\tprivate final Set<TestTag> tags;\n+\t\tprivate final Type type;\n+\n+\t\tpublic SerializedForm(TestIdentifier testIdentifier) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 210}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTk0MDkyNQ==", "bodyText": "I saw in the commit comment that this algorithm avoids the use of a RegEx if the display name looks right (or something to that effect).\nHow confident are you that this algorithm works well for custom JUnit 4 runners?", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551940925", "createdAt": "2021-01-05T13:46:31Z", "author": {"login": "sbrannen"}, "path": "junit-vintage-engine/src/main/java/org/junit/vintage/engine/descriptor/DescriptionUtils.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.vintage.engine.descriptor;\n+\n+import org.apiguardian.api.API;\n+import org.junit.runner.Description;\n+\n+@API(status = API.Status.INTERNAL, since = \"5.8\")\n+public class DescriptionUtils {\n+\n+\tprivate DescriptionUtils() {\n+\t}\n+\n+\tpublic static String getMethodName(Description description) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTk0MjA2OA==", "bodyText": "Did we decide on Ant-style pattern matching for wildcards in the consumers attribute?\nI honestly don't recall.", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551942068", "createdAt": "2021-01-05T13:48:35Z", "author": {"login": "sbrannen"}, "path": "junit-vintage-engine/src/main/java/org/junit/vintage/engine/discovery/IsPotentialJUnit4TestClass.java", "diffHunk": "@@ -10,16 +10,20 @@\n \n package org.junit.vintage.engine.discovery;\n \n+import static org.apiguardian.api.API.Status.INTERNAL;\n import static org.junit.platform.commons.util.ReflectionUtils.isAbstract;\n import static org.junit.platform.commons.util.ReflectionUtils.isInnerClass;\n import static org.junit.platform.commons.util.ReflectionUtils.isPublic;\n \n import java.util.function.Predicate;\n \n+import org.apiguardian.api.API;\n+\n /**\n  * @since 4.12\n  */\n-class IsPotentialJUnit4TestClass implements Predicate<Class<?>> {\n+@API(status = INTERNAL, since = \"5.8\", consumers = \"org.junit.vintage.**\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTk0NDA0Nw==", "bodyText": "At a first glance, this looked a bit suspect, but I suppose that VintageTestDescriptor#getType() will never conceivably return Type.CONTAINER_AND_TEST (not even in a future release of Vintage) -- right?", "url": "https://github.com/junit-team/junit5/pull/2460#discussion_r551944047", "createdAt": "2021-01-05T13:52:20Z", "author": {"login": "sbrannen"}, "path": "junit-vintage-engine/src/main/java/org/junit/vintage/engine/discovery/RunnerTestDescriptorPostProcessor.java", "diffHunk": "@@ -35,18 +35,17 @@\n \n \tprivate final UniqueIdReader uniqueIdReader = new UniqueIdReader();\n \tprivate final UniqueIdStringifier uniqueIdStringifier = new UniqueIdStringifier();\n-\tprivate final TestSourceProvider testSourceProvider;\n-\n-\tpublic RunnerTestDescriptorPostProcessor(TestSourceProvider testSourceProvider) {\n-\t\tthis.testSourceProvider = testSourceProvider;\n-\t}\n+\tprivate final TestSourceProvider testSourceProvider = new TestSourceProvider();\n \n \tvoid applyFiltersAndCreateDescendants(RunnerTestDescriptor runnerTestDescriptor) {\n \t\taddChildrenRecursively(runnerTestDescriptor);\n \t\trunnerTestDescriptor.applyFilters(this::addChildrenRecursively);\n \t}\n \n \tprivate void addChildrenRecursively(VintageTestDescriptor parent) {\n+\t\tif (parent.getDescription().isTest()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "266e8f7249e0d1182b5e50e355bf4ac1840d91e4"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0MTgwNzEx", "url": "https://github.com/junit-team/junit5/pull/2460#pullrequestreview-564180711", "createdAt": "2021-01-08T11:10:11Z", "commit": {"oid": "ffbafa654d153fbef048e6e56a6fd3786a44db08"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6abaa4fab1f7a1718704488f0f8a44e3dd843614", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/6abaa4fab1f7a1718704488f0f8a44e3dd843614", "committedDate": "2021-01-08T19:11:54Z", "message": "Jupiter: Don't retain dynamic TestDescriptors\n\nIn order to allow them to be garbage collected, dynamic test descriptors\nare no longer added to their parent\u2019s list of children. This is fine\nbecause they were never used in that list."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ad676da00ebd2147abddbe376d850352847b68b", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/3ad676da00ebd2147abddbe376d850352847b68b", "committedDate": "2021-01-08T19:11:54Z", "message": "Platform: Don't store String representation of unique IDs\n\nThis reduces the memory overhead of each `TestIdentifier` and each\n`UniqueId`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afe01a44e61cbe2196fa378f97a483acfce84544", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/afe01a44e61cbe2196fa378f97a483acfce84544", "committedDate": "2021-01-08T19:11:55Z", "message": "Platform: Link to undeprecated LegacyReportingUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f06491f0c57cbd4d00ad710bb3a256310fe37394", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/f06491f0c57cbd4d00ad710bb3a256310fe37394", "committedDate": "2021-01-08T19:11:55Z", "message": "Platform: Avoid large number of empty LinkedHashSets\n\nInstead of using a `LinkedHashSet` for empty or single-element sets of\ntags, we now use the immutable empty set for the most common case of no\ntags and `Collections.singleton` which is more memory efficient for\nSingle tag sets."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08d2f898b741678b1bb0c5af6e34a28c6ac3f817", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/08d2f898b741678b1bb0c5af6e34a28c6ac3f817", "committedDate": "2021-01-08T19:11:55Z", "message": "Platform: Avoid wasting memory from unnecessarily large ArrayLists\n\nThe list of segments of a `UniqueId` is immutable. Prior to this commit,\nwe were using an unsized `ArrayList` to store them which was wasteful\nsince the backing array was often too large."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "916732da5a538b299dc0236aa49c61c998cbfe07", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/916732da5a538b299dc0236aa49c61c998cbfe07", "committedDate": "2021-01-08T19:11:55Z", "message": "Platform: Avoid storing all returned futures\n\nInstead of storing all `Future` instances we now only store those that\nAre not yet finished."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "442e0e4cf1b43458600458177e8461f173ae7117", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/442e0e4cf1b43458600458177e8461f173ae7117", "committedDate": "2021-01-08T19:11:55Z", "message": "Vintage: Avoid evaluating regex if possible\n\n`Description.getMethod()` evaluates a regex every time it is called\nwhich is expensive for large test suites. `DescriptionUtils` now tries\ncomputing it without evaluating a regex first and only falls back on\n`Description.getMethod()` if the display name does not look as\nexpected."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67093e15060a69220e45a07e0aa6aeff86a9bd42", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/67093e15060a69220e45a07e0aa6aeff86a9bd42", "committedDate": "2021-01-08T19:11:55Z", "message": "Vintage: Cache test sources by description\n\nTest sources are now cached by description which avoids the overhead of\ncreating multiple instances for the same method, e.g. for parameterized\ntests or generative test suites that include the same class multiple\ntimes with different configurations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be2921f965ba2becafcbd72b75564c2a901ea92c", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/be2921f965ba2becafcbd72b75564c2a901ea92c", "committedDate": "2021-01-08T19:11:56Z", "message": "Vintage: Avoid allocation for descriptions without children\n\nThis eliminates allocation overhead for the most common case where a\n`Description` represents a test, i.e. does not have children."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfc73e5bead2018cbaa7ff1ca9fc70b9f06d7aa5", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/cfc73e5bead2018cbaa7ff1ca9fc70b9f06d7aa5", "committedDate": "2021-01-08T19:11:56Z", "message": "Vintage: Allow garbage collecting executed runners\n\nRunnerTestDescriptors can now be garbage collected after they have been\nexecuted because they are now removed from the list of children of the\nengine descriptor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1558b9a7475e8291ce33023d8fa9fcf8a64cc1f", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/b1558b9a7475e8291ce33023d8fa9fcf8a64cc1f", "committedDate": "2021-01-08T19:11:56Z", "message": "Platform: Avoid SerializedForm reference\n\nPrior to this commit each `TestIdentifier` instance required memory for\nstoring a `null` reference."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "092751ffc44c0ad4666a59a4732771d02803d87e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/092751ffc44c0ad4666a59a4732771d02803d87e", "committedDate": "2021-01-08T19:27:24Z", "message": "Document memory improvements in release notes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fad47fd162ef00079c6abe9b19b7d78be41609b0", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/fad47fd162ef00079c6abe9b19b7d78be41609b0", "committedDate": "2021-01-08T18:21:37Z", "message": "Add @FunctionalInterface"}, "afterCommit": {"oid": "092751ffc44c0ad4666a59a4732771d02803d87e", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/092751ffc44c0ad4666a59a4732771d02803d87e", "committedDate": "2021-01-08T19:27:24Z", "message": "Document memory improvements in release notes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3637, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}