{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjAwNzQx", "number": 1181, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMToxNTozMlrOFD8C1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMTozMzoxNlrOFD8bRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NjczODEzOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMToxNTozMlrOID0WGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNTozODo1MVrOID-MiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDg3NDI2NQ==", "bodyText": "We should add a master label here. Otherwise, the EE branch won't be triggered on the master branch.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1181#discussion_r540874265", "createdAt": "2020-12-11T11:15:32Z", "author": {"login": "koevskinikola"}, "path": "Jenkinsfile", "diffHunk": "@@ -101,31 +101,19 @@ pipeline {\n             params.EE_BRANCH_NAME = 'cambpm-ee-main/pipeline-master'\n           } else {\n             labels = JsonOutput.toJson(pullRequest.labels)\n+            shaCE = sh(script:\"git rev-parse HEAD\", returnStdout: true).trim()\n           }\n \n           if (cambpmWithLabels('webapp-integration','all-as','h2','websphere','weblogic','jbosseap','run','spring-boot','authorizations')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62373fd2572f127dd9c2e6518297c4fddbf890e9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAzNTY1Nw==", "bodyText": "As we discussed it will be triggered even without the master label.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1181#discussion_r541035657", "createdAt": "2020-12-11T15:38:51Z", "author": {"login": "yanavasileva"}, "path": "Jenkinsfile", "diffHunk": "@@ -101,31 +101,19 @@ pipeline {\n             params.EE_BRANCH_NAME = 'cambpm-ee-main/pipeline-master'\n           } else {\n             labels = JsonOutput.toJson(pullRequest.labels)\n+            shaCE = sh(script:\"git rev-parse HEAD\", returnStdout: true).trim()\n           }\n \n           if (cambpmWithLabels('webapp-integration','all-as','h2','websphere','weblogic','jbosseap','run','spring-boot','authorizations')) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDg3NDI2NQ=="}, "originalCommit": {"oid": "62373fd2572f127dd9c2e6518297c4fddbf890e9"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NjgwMDcwOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMTozMzoxNlrOID06cQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMTozMzoxNlrOID06cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDg4MzU2OQ==", "bodyText": "The method signatures for the downstream branch triggers should be updated if changes to the camunda/cambpm-jenkins-shared-library#7 PR are made.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1181#discussion_r540883569", "createdAt": "2020-12-11T11:33:16Z", "author": {"login": "koevskinikola"}, "path": "Jenkinsfile", "diffHunk": "@@ -101,31 +101,19 @@ pipeline {\n             params.EE_BRANCH_NAME = 'cambpm-ee-main/pipeline-master'\n           } else {\n             labels = JsonOutput.toJson(pullRequest.labels)\n+            shaCE = sh(script:\"git rev-parse HEAD\", returnStdout: true).trim()\n           }\n \n           if (cambpmWithLabels('webapp-integration','all-as','h2','websphere','weblogic','jbosseap','run','spring-boot','authorizations')) {\n-            build job: \"cambpm-ee/${params.EE_BRANCH_NAME}\", parameters: [\n-                    string(name: 'copyArtifactSelector', value: '<TriggeredBuildSelector plugin=\"copyartifact@1.45.1\">  <upstreamFilterStrategy>UseGlobalSetting</upstreamFilterStrategy>  <allowUpstreamDependencies>false</allowUpstreamDependencies></TriggeredBuildSelector>'),\n-                    booleanParam(name: 'STANDALONE', value: false),\n-                    string(name: 'CE_BRANCH_NAME', value: \"${env.BRANCH_NAME}\"),\n-                    string(name: 'PR_LABELS', value: labels)\n-            ], quietPeriod: 10, wait: false\n+            cambpmTriggerDownstream(\"cambpm-ee/${params.EE_BRANCH_NAME}\", labels, shaCE, true, true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62373fd2572f127dd9c2e6518297c4fddbf890e9"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4376, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}