{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNTM5MjY2", "number": 1211, "title": "[CAM-12911] chore(model-api): fix OSGi metadata", "bodyText": "Define proper camunda artifact name in sub module\n\nRelated to CAM-12911", "createdAt": "2020-12-17T01:22:00Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211", "merged": true, "mergeCommit": {"oid": "55bfdf5b624dc9efc1ca008139dbeec9a315b221"}, "closed": true, "closedAt": "2021-01-12T07:44:28Z", "author": {"login": "agustino-lim"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm5WSAgBqjQxMjI4NDIwMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvWGWBgFqTU2NjAwMTEyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e281fee799135528d70823ccdbd5d749c03c0d7", "author": {"user": null}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/9e281fee799135528d70823ccdbd5d749c03c0d7", "committedDate": "2020-12-17T01:20:25Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}, "afterCommit": {"oid": "d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "committedDate": "2020-12-17T01:34:26Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "committedDate": "2020-12-17T01:34:26Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}, "afterCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/50e60bcaf59b1833141bea293490cc37af968c44", "committedDate": "2020-12-17T06:09:53Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MzkxNDEx", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-554391411", "createdAt": "2020-12-17T08:53:37Z", "commit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwODo1MzozN1rOIHq9DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwOTowNDo0OFrOIHraYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxNDcwMA==", "bodyText": "When I create the artifact in its current state (without the change made here) I cannot see any scala.* entry in the Import-Package directive of the manifest file. I can only see camundajar.impl.scala.* entries in the Export-Package directive related to uses attributes. Would you mind explaining why this is necessary here?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544914700", "createdAt": "2020-12-17T08:53:37Z", "author": {"login": "tmetzke"}, "path": "engine-dmn/engine/pom.xml", "diffHunk": "@@ -110,6 +112,7 @@\n           <instructions>\n             <Import-Package>\n               org.junit*;resolution:=optional,\n+              scala.*;resolution:=optional,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxOTI3NQ==", "bodyText": "Since this property is not referenced anywhere yet, I am not entirely sure what you are intending to do with it. However, please make sure this property is not colliding with the current definition of the bundle plugin further down in this file as we do specifically exclude some *.impl.* packages from the export directive.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544919275", "createdAt": "2020-12-17T09:00:20Z", "author": {"login": "tmetzke"}, "path": "engine-dmn/feel-juel/pom.xml", "diffHunk": "@@ -15,6 +15,7 @@\n     <!-- We shade artifacts into the jar, so we need to generate \n     a dependency BOM for the license book -->\n     <skip-third-party-bom>false</skip-third-party-bom>\n+    <camunda.artifact>org.camunda.bpm.dmn.feel.impl.juel</camunda.artifact>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMTE2OQ==", "bodyText": "As mentioned in engine-dmn/engine/pom.xml, I am not entirely sure yet if this is necessary as I cannot see any entries of scala.* in the import directive but rather only camundajar.impl.scala.* entries in uses attributes in the export directive.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544921169", "createdAt": "2020-12-17T09:03:14Z", "author": {"login": "tmetzke"}, "path": "engine-dmn/feel-scala/pom.xml", "diffHunk": "@@ -64,4 +68,30 @@\n \n   </dependencies>\n \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.felix</groupId>\n+        <artifactId>maven-bundle-plugin</artifactId>\n+        <configuration>\n+          <instructions>\n+            <Import-Package>\n+              !scala.*,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMjIwOA==", "bodyText": "Would you mind explaining why you would want to exclude org.camunda.feel.* from import? It is a required dependency of this module as far as I know, therefore I do not yet understand why it should be excluded here.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544922208", "createdAt": "2020-12-17T09:04:48Z", "author": {"login": "tmetzke"}, "path": "engine-dmn/feel-scala/pom.xml", "diffHunk": "@@ -64,4 +68,30 @@\n \n   </dependencies>\n \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.felix</groupId>\n+        <artifactId>maven-bundle-plugin</artifactId>\n+        <configuration>\n+          <instructions>\n+            <Import-Package>\n+              !scala.*,\n+              !org.camunda.feel.*,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "committedDate": "2020-12-18T08:15:16Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50e60bcaf59b1833141bea293490cc37af968c44", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/50e60bcaf59b1833141bea293490cc37af968c44", "committedDate": "2020-12-17T06:09:53Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}, "afterCommit": {"oid": "80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "committedDate": "2020-12-18T08:15:16Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzE1Mjgx", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-555315281", "createdAt": "2020-12-18T09:09:23Z", "commit": {"oid": "80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/59a8265451e31d4c963e0f73c647e01af1da2b6a", "committedDate": "2020-12-18T13:47:52Z", "message": "chore(model-api): fix OSGi metadata\n\n* Define symbolic name using camunda.artifact property."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNTYzMDkx", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-561563091", "createdAt": "2021-01-05T07:25:30Z", "commit": {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNzoyNTozMVrOIOMl3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNzoyODozMVrOIOMp2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzI3OA==", "bodyText": "I am wondering if we can use the camunda.osgi.import.additional element here as well to define !javax.activation?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <camunda.osgi.import.pkg>\n          \n          \n            \n                  !javax.activation,\n          \n          \n            \n                  *\n          \n          \n            \n                </camunda.osgi.import.pkg>\n          \n          \n            \n                <camunda.osgi.import.additional>\n          \n          \n            \n                  !javax.activation\n          \n          \n            \n                </camunda.osgi.import.additional>", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551757278", "createdAt": "2021-01-05T07:25:31Z", "author": {"login": "tmetzke"}, "path": "typed-values/pom.xml", "diffHunk": "@@ -24,7 +24,13 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n-\n+  <properties>\n+    <camunda.artifact>org.camunda.bpm.engine.variable</camunda.artifact>\n+    <camunda.osgi.import.pkg>\n+      !javax.activation,\n+      *\n+    </camunda.osgi.import.pkg>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA==", "bodyText": "Could you shortly detail why you would want to remove that part?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551757558", "createdAt": "2021-01-05T07:26:20Z", "author": {"login": "tmetzke"}, "path": "parent/pom.xml", "diffHunk": "@@ -71,7 +71,6 @@\n       ${camunda.osgi.import.before.defaults},\n       ${camunda.osgi.import.defaults},\n       ${camunda.osgi.import.additional},\n-      org.camunda.*;${camunda.osgi.import.camunda.version},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ==", "bodyText": "This module is the only one where this is defined as an exclusion although all model-related modules contain such a package. Could you go into more detail why this is needed here?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551758299", "createdAt": "2021-01-05T07:28:31Z", "author": {"login": "tmetzke"}, "path": "model-api/bpmn-model/pom.xml", "diffHunk": "@@ -13,7 +13,13 @@\n \n   <name>camunda BPM - BPMN Model API</name>\n   <inceptionYear>2014</inceptionYear>\n-\n+  <properties>\n+    <camunda.artifact>org.camunda.bpm.model.bpmn</camunda.artifact>\n+    <camunda.osgi.export>\n+      !org.camunda.bpm.model.bpmn.schema,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0a9bae3c2c6d579f804d9dfb97fa8648b707c0a", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/b0a9bae3c2c6d579f804d9dfb97fa8648b707c0a", "committedDate": "2021-01-06T05:52:55Z", "message": "Update typed-values/pom.xml\n\nCo-authored-by: Tobias Metzke-Bernstein <tobias.metzke@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYzMjcxOTg4", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-563271988", "createdAt": "2021-01-07T07:52:22Z", "commit": {"oid": "b0a9bae3c2c6d579f804d9dfb97fa8648b707c0a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "committedDate": "2021-01-11T07:40:13Z", "message": "chore(model-api): fix OSGi metadata\n\n- Exclude gson package as the bundle is shaded\n- Fix version of org.camunda.bpm.engine.variable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1MzU2ODc5", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-565356879", "createdAt": "2021-01-11T13:34:46Z", "commit": {"oid": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxMzozNDo0NlrOIRVh1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxMzozOToxNFrOIRVsPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA0OTQzMQ==", "bodyText": "One thing that strikes me here: is it still necessary to include this import explicitly at all? It will be covered by the general * import, won't it?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555049431", "createdAt": "2021-01-11T13:34:46Z", "author": {"login": "tmetzke"}, "path": "engine/pom.xml", "diffHunk": "@@ -313,10 +313,11 @@\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n     <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*;${camunda.osgi.import.camunda.commons.version},\n+      org.camunda.bpm.engine.variable.*,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA1MjA5NA==", "bodyText": "Could you quickly comment on why GSON should be excluded here? Did you mean to make it optional? If so, why?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555052094", "createdAt": "2021-01-11T13:39:14Z", "author": {"login": "tmetzke"}, "path": "engine/pom.xml", "diffHunk": "@@ -313,10 +313,11 @@\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n     <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*;${camunda.osgi.import.camunda.commons.version},\n+      org.camunda.bpm.engine.variable.*,\n       org.camunda.commons.*;${camunda.osgi.import.camunda.commons.version},\n     </camunda.osgi.import.defaults>\n     <camunda.osgi.import.additional>\n+      !com.google.gson.*,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e19ed094f13a62c5de5001d9af10aa23f4241c7", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/1e19ed094f13a62c5de5001d9af10aa23f4241c7", "committedDate": "2021-01-12T00:50:05Z", "message": "chore(model-api): fix OSGi metadata\n\n- Remove default import as it's handled by *"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64d5a1977208cd433b22fc4c616582b72e7ec6eb", "author": {"user": {"login": "agustino-lim", "name": "Agustino Lim"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/64d5a1977208cd433b22fc4c616582b72e7ec6eb", "committedDate": "2021-01-12T01:20:16Z", "message": "chore(model-api): fix OSGi metadata\n\n- Exclude non Java package from exporting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1OTkzOTg1", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-565993985", "createdAt": "2021-01-12T07:23:27Z", "commit": {"oid": "1e19ed094f13a62c5de5001d9af10aa23f4241c7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNzoyMzoyN1rOIR0p-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNzoyMzoyN1rOIR0p-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1OTQxOA==", "bodyText": "If this is removed, what version will packages with org.camunda.commons.* receive? I guess we need to keep this line in the defaults and only remove the org.camunda.bpm.engine.variable.*, don't we?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555559418", "createdAt": "2021-01-12T07:23:27Z", "author": {"login": "tmetzke"}, "path": "engine/pom.xml", "diffHunk": "@@ -312,10 +312,6 @@\n       ${camunda.artifact}.container.*;${camunda.osgi.version};-noimport:=true,\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n-    <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*,\n-      org.camunda.commons.*;${camunda.osgi.import.camunda.commons.version},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e19ed094f13a62c5de5001d9af10aa23f4241c7"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2MDAxMTI1", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#pullrequestreview-566001125", "createdAt": "2021-01-12T07:36:31Z", "commit": {"oid": "64d5a1977208cd433b22fc4c616582b72e7ec6eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2126, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}