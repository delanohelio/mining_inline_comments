{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2OTU4NTMz", "number": 768, "title": "CAM-11709: feat(rest): add external task operation openapi endpoints", "bodyText": "Add OpenAPI documentation for operations on External Task (excluding\nquerying and counting);\nAdd missing Jackson links.\n\nRelated to CAM-11540, CAM-11709\n\u26a0\ufe0f The PR base is currently PR #766, I will rebase it to master once, that is merged.", "createdAt": "2020-04-01T12:18:55Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768", "merged": true, "mergeCommit": {"oid": "e4a8fc0ec4f1c9a0c5959ea89232c3f7b6bf5a87"}, "closed": true, "closedAt": "2020-04-01T15:31:39Z", "author": {"login": "koevskinikola"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTYhodAFqTM4NTU3NTQwNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTZcm3gFqTM4NTcwMDAzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTc1NDA0", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#pullrequestreview-385575404", "createdAt": "2020-04-01T13:18:54Z", "commit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMzoxODo1NFrOF_AMLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDoxNDozN1rOF_CrUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYwNzcyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    type = \"string\"\n          \n          \n            \n                    type = \"integer\",\n          \n          \n            \n                    format = \"int64\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401607727", "createdAt": "2020-04-01T13:18:54Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/models/org/camunda/bpm/engine/rest/dto/runtime/external-task/FetchExternalTaskTopicDto.ftl", "diffHunk": "@@ -0,0 +1,96 @@\n+<@lib.dto\n+    required = [ \"topicName\", \"lockDuration\" ] >\n+\n+    <@lib.property\n+        name = \"topicName\"\n+        type = \"string\"\n+        desc = \"**Mandatory.** The topic's name.\" />\n+\n+    <@lib.property\n+        name = \"lockDuration\"\n+        type = \"string\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYxMzAwOQ==", "bodyText": "missing property in docs-manual:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n               <@lib.property\n          \n          \n            \n                  name = \"processDefinitionVersionTag\"\n          \n          \n            \n                  type = \"string\"\n          \n          \n            \n                  desc = \"The version tag of the process definition the external task is defined in.\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401613009", "createdAt": "2020-04-01T13:26:20Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/models/org/camunda/bpm/engine/rest/dto/runtime/external-task/LockedExternalTaskDto.ftl", "diffHunk": "@@ -0,0 +1,98 @@\n+<@lib.dto\n+    title = \"LockedExternalTaskDto\" >\n+\n+  <@lib.property\n+      name = \"activityId\"\n+      type = \"string\"\n+      desc = \"The id of the activity that this external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"activityInstanceId\"\n+      type = \"string\"\n+      desc = \"The id of the activity instance that the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"errorMessage\"\n+      type = \"string\"\n+      desc = \"The full error message submitted with the latest reported failure executing this task;`null` if no failure\n+              was reported previously or if no error message was submitted\" />\n+\n+  <@lib.property\n+      name = \"errorDetails\"\n+      type = \"string\"\n+      desc = \"The error details submitted with the latest reported failure executing this task.`null` if no failure was\n+              reported previously or if no error details was submitted\" />\n+\n+  <@lib.property\n+      name = \"executionId\"\n+      type = \"string\"\n+      desc = \"The id of the execution that the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"id\"\n+      type = \"string\"\n+      desc = \"The id of the external task.\" />\n+\n+  <@lib.property\n+      name = \"lockExpirationTime\"\n+      type = \"string\"\n+      format = \"date-time\"\n+      desc = \"The date that the task's most recent lock expires or has expired.\" />\n+\n+  <@lib.property\n+      name = \"processDefinitionId\"\n+      type = \"string\"\n+      desc = \"The id of the process definition the external task is defined in.\" />\n+\n+  <@lib.property\n+      name = \"processDefinitionKey\"\n+      type = \"string\"\n+      desc = \"The key of the process definition the external task is defined in.\" />\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYxNjk5NQ==", "bodyText": "missing property in docs-manual:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n              <@lib.property\n          \n          \n            \n                  name = \"suspended\"\n          \n          \n            \n                  type = \"boolean\"\n          \n          \n            \n                  desc = \"Whether the process instance the external task belongs to is suspended.\" />", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401616995", "createdAt": "2020-04-01T13:31:55Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/models/org/camunda/bpm/engine/rest/dto/runtime/external-task/LockedExternalTaskDto.ftl", "diffHunk": "@@ -0,0 +1,98 @@\n+<@lib.dto\n+    title = \"LockedExternalTaskDto\" >\n+\n+  <@lib.property\n+      name = \"activityId\"\n+      type = \"string\"\n+      desc = \"The id of the activity that this external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"activityInstanceId\"\n+      type = \"string\"\n+      desc = \"The id of the activity instance that the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"errorMessage\"\n+      type = \"string\"\n+      desc = \"The full error message submitted with the latest reported failure executing this task;`null` if no failure\n+              was reported previously or if no error message was submitted\" />\n+\n+  <@lib.property\n+      name = \"errorDetails\"\n+      type = \"string\"\n+      desc = \"The error details submitted with the latest reported failure executing this task.`null` if no failure was\n+              reported previously or if no error details was submitted\" />\n+\n+  <@lib.property\n+      name = \"executionId\"\n+      type = \"string\"\n+      desc = \"The id of the execution that the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"id\"\n+      type = \"string\"\n+      desc = \"The id of the external task.\" />\n+\n+  <@lib.property\n+      name = \"lockExpirationTime\"\n+      type = \"string\"\n+      format = \"date-time\"\n+      desc = \"The date that the task's most recent lock expires or has expired.\" />\n+\n+  <@lib.property\n+      name = \"processDefinitionId\"\n+      type = \"string\"\n+      desc = \"The id of the process definition the external task is defined in.\" />\n+\n+  <@lib.property\n+      name = \"processDefinitionKey\"\n+      type = \"string\"\n+      desc = \"The key of the process definition the external task is defined in.\" />\n+\n+  <@lib.property\n+      name = \"processInstanceId\"\n+      type = \"string\"\n+      desc = \"The id of the process instance the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"tenantId\"\n+      type = \"string\"\n+      desc = \"The id of the tenant the external task belongs to.\" />\n+\n+  <@lib.property\n+      name = \"retries\"\n+      type = \"integer\"\n+      format = \"int32\"\n+      desc = \"The number of retries the task currently has left.\" />\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYyMDQ5NA==", "bodyText": "extend summary similar to docs-manual\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                   \"summary\": \"POST /external-task/fetchAndLock (2)\",\n          \n          \n            \n                                   \"summary\": \"POST /external-task/fetchAndLock (2) with all variables\",", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401620494", "createdAt": "2020-04-01T13:36:51Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/fetchAndLock/post.ftl", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"fetchAndLock\"\n+      tag = \"External Task\"\n+      desc = \"Fetches and locks a specific number of external tasks for execution by a worker. Query can be restricted\n+              to specific task topics and for each task topic an individual lock time can be provided.\" />\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"FetchExternalTasksDto\"\n+      examples = ['\"example-1\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (1)\",\n+                       \"description\": \"Request with variable filtering\",\n+                       \"value\": {\n+                         \"workerId\": \"aWorkerId\",\n+                         \"maxTasks\": 2,\n+                         \"usePriority\": true,\n+                         \"topics\": [\n+                           {\n+                             \"topicName\": \"createOrder\",\n+                             \"lockDuration\": 10000,\n+                             \"variables\": [\n+                               \"orderId\"\n+                             ]\n+                           }\n+                         ]\n+                       }\n+                     }',\n+                    '\"example-2\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (2)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYyMTAzNg==", "bodyText": "extend summary similar to docs-manual:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                   \"summary\": \"POST /external-task/fetchAndLock (2)\",\n          \n          \n            \n                                   \"summary\": \"POST /external-task/fetchAndLock (2) with all variables\",", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401621036", "createdAt": "2020-04-01T13:37:39Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/fetchAndLock/post.ftl", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"fetchAndLock\"\n+      tag = \"External Task\"\n+      desc = \"Fetches and locks a specific number of external tasks for execution by a worker. Query can be restricted\n+              to specific task topics and for each task topic an individual lock time can be provided.\" />\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"FetchExternalTasksDto\"\n+      examples = ['\"example-1\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (1)\",\n+                       \"description\": \"Request with variable filtering\",\n+                       \"value\": {\n+                         \"workerId\": \"aWorkerId\",\n+                         \"maxTasks\": 2,\n+                         \"usePriority\": true,\n+                         \"topics\": [\n+                           {\n+                             \"topicName\": \"createOrder\",\n+                             \"lockDuration\": 10000,\n+                             \"variables\": [\n+                               \"orderId\"\n+                             ]\n+                           }\n+                         ]\n+                       }\n+                     }',\n+                    '\"example-2\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (2)\",\n+                       \"description\": \"Request with all variables included\",\n+                       \"value\": {\n+                         \"workerId\": \"aWorkerId\",\n+                         \"maxTasks\": 2,\n+                         \"usePriority\": true,\n+                         \"topics\": [\n+                           {\n+                             \"topicName\": \"createOrder\",\n+                             \"lockDuration\": 10000,\n+                             \"processDefinitionId\": \"aProcessDefinitionId\",\n+                             \"tenantIdIn\": \"tenantOne\"\n+                           }\n+                         ]\n+                       }\n+                     }'\n+      ] />\n+\n+  \"responses\" : {\n+\n+    <@lib.response\n+        code = \"200\"\n+        dto = \"LockedExternalTaskDto\"\n+        array = true\n+        desc = \"Request successful.\"\n+        examples = ['\"example-1\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (1)\",\n+                       \"description\": \"Request with variable filtering\",\n+                       \"value\": [\n+                         {\n+                           \"activityId\": \"anActivityId\",\n+                           \"activityInstanceId\": \"anActivityInstanceId\",\n+                           \"errorMessage\": \"anErrorMessage\",\n+                           \"errorDetails\": \"anErrorDetails\",\n+                           \"executionId\": \"anExecutionId\",\n+                           \"id\": \"anExternalTaskId\",\n+                           \"lockExpirationTime\": \"2015-10-06T16:34:42.000+0200\",\n+                           \"processDefinitionId\": \"aProcessDefinitionId\",\n+                           \"processDefinitionKey\": \"aProcessDefinitionKey\",\n+                           \"processInstanceId\": \"aProcessInstanceId\",\n+                           \"tenantId\": null,\n+                           \"retries\": 3,\n+                           \"workerId\": \"aWorkerId\",\n+                           \"priority\": 4,\n+                           \"topicName\": \"createOrder\",\n+                           \"variables\": {\n+                             \"orderId\": {\n+                               \"type\": \"String\",\n+                               \"value\": \"1234\",\n+                               \"valueInfo\": {}\n+                             }\n+                           }\n+                         },\n+                         {\n+                           \"activityId\": \"anActivityId\",\n+                           \"activityInstanceId\": \"anActivityInstanceId\",\n+                           \"errorMessage\": \"anErrorMessage\",\n+                           \"errorDetails\": \"anotherErrorDetails\",\n+                           \"executionId\": \"anExecutionId\",\n+                           \"id\": \"anExternalTaskId\",\n+                           \"lockExpirationTime\": \"2015-10-06T16:34:42.000+0200\",\n+                           \"processDefinitionId\": \"aProcessDefinitionId\",\n+                           \"processDefinitionKey\": \"aProcessDefinitionKey\",\n+                           \"processInstanceId\": \"aProcessInstanceId\",\n+                           \"tenantId\": null,\n+                           \"retries\": 3,\n+                           \"workerId\": \"aWorkerId\",\n+                           \"priority\": 0,\n+                           \"topicName\": \"createOrder\",\n+                           \"variables\": {\n+                             \"orderId\": {\n+                               \"type\": \"String\",\n+                               \"value\": \"3456\",\n+                               \"valueInfo\": {}\n+                             }\n+                           }\n+                         }\n+                       ]\n+                     }',\n+                    '\"example-2\": {\n+                       \"summary\": \"POST /external-task/fetchAndLock (2)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYyNTI0Mw==", "bodyText": "wrong of this file it should be:\n\"/external-task/retries/put.ftl\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401625243", "createdAt": "2020-04-01T13:43:19Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/retries-sync/put.ftl", "diffHunk": "@@ -0,0 +1,46 @@\n+{\n+\n+  <@lib.endpointInfo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYyNzI2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                   \"summary\": \"PUT /external-task/retries-sync\",\n          \n          \n            \n                                   \"summary\": \"PUT /external-task/retries\",", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401627269", "createdAt": "2020-04-01T13:46:05Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/retries-sync/put.ftl", "diffHunk": "@@ -0,0 +1,46 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"setExternalTaskRetries\"\n+      tag = \"External Task\"\n+      desc = \"Sets the number of retries left to execute external tasks by id synchronously. If retries are set to 0, \n+              an incident is created.\" />\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"SetRetriesForExternalTasksDto\"\n+      examples = ['\"example-1\": {\n+                       \"summary\": \"PUT /external-task/retries-sync\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYzNjYzMQ==", "bodyText": "missing properties in the example:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                     \"tenantId\": \"aTenantId\"\n          \n          \n            \n                                     \"tenantId\": \"aTenantId\",\n          \n          \n            \n                                     \"suspended\": false,\n          \n          \n            \n                                     \"createUserId\": \"demo\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401636631", "createdAt": "2020-04-01T13:58:24Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/retries-async/post.ftl", "diffHunk": "@@ -0,0 +1,62 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"setExternalTaskRetriesAsync\"\n+      tag = \"External Task\"\n+      desc = \"Sets the number of retries left to execute external tasks by id asynchronously. If retries are set to 0,\n+              an incident is created.\" />\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"SetRetriesForExternalTasksDto\"\n+      examples = ['\"example-1\": {\n+                       \"summary\": \"POST /external-task/retries-async\",\n+                       \"value\": {\n+                         \"retries\": 123,\n+                         \"externalTaskIds\": [\n+                           \"anExternalTask\",\n+                           \"anotherExternalTask\"\n+                         ]\n+                       }\n+                     }'] />\n+\n+  \"responses\" : {\n+\n+    <@lib.response\n+        code = \"200\"\n+        dto = \"BatchDto\"\n+        desc = \"Request successful.\"\n+        examples = ['\"example-1\": {\n+                       \"summary\": \"Status 200 Response\",\n+                       \"value\": {\n+                         \"id\": \"aBatchId\",\n+                         \"type\": \"aBatchType\",\n+                         \"totalJobs\": 10,\n+                         \"batchJobsPerSeed\": 100,\n+                         \"invocationsPerBatchJob\": 1,\n+                         \"seedJobDefinitionId\": \"aSeedJobDefinitionId\",\n+                         \"monitorJobDefinitionId\": \"aMonitorJobDefinitionId\",\n+                         \"batchJobDefinitionId\": \"aBatchJobDefinitionId\",\n+                         \"tenantId\": \"aTenantId\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0MTI2Mg==", "bodyText": "suggestion for formatting:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          \"value\": \"\n          \n          \n            \n                            org.apache.ibatis.jdbc.RuntimeSqlException: org.apache.ibatis.jdbc.RuntimeSqlException: test cause\n          \n          \n            \n                          \"value\": \"org.apache.ibatis.jdbc.RuntimeSqlException: org.apache.ibatis.jdbc.RuntimeSqlException: test cause", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401641262", "createdAt": "2020-04-01T14:04:37Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/{id}/errorDetails/get.ftl", "diffHunk": "@@ -0,0 +1,54 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getExternalTaskErrorDetails\"\n+      tag = \"External Task\"\n+      desc = \"Retrieves the error details in the context of a running external task by id.\" />\n+\n+  \"parameters\" : [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        last = true\n+        desc = \"The id of the external task for which the error details should be retrieved.\"/>\n+\n+  ],\n+\n+  \"responses\" : {\n+\n+    \"200\": {\n+      \"description\": \"Request successful.\",\n+      \"content\": {\n+        \"text/plain\": {\n+          \"schema\": {\n+            \"type\": \"string\",\n+            \"description\": \"The error details for the external task.\"\n+          },\n+          \"examples\": {\n+            \"example-1\": {\n+              \"value\": \"\n+                org.apache.ibatis.jdbc.RuntimeSqlException: org.apache.ibatis.jdbc.RuntimeSqlException: test cause", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0ODE5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n                <@lib.response\n          \n          \n            \n                    code = \"204\"\n          \n          \n            \n                    desc = \"Request successful. In case, the external task has no error details.\" />", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401648196", "createdAt": "2020-04-01T14:14:12Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/{id}/errorDetails/get.ftl", "diffHunk": "@@ -0,0 +1,54 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getExternalTaskErrorDetails\"\n+      tag = \"External Task\"\n+      desc = \"Retrieves the error details in the context of a running external task by id.\" />\n+\n+  \"parameters\" : [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        last = true\n+        desc = \"The id of the external task for which the error details should be retrieved.\"/>\n+\n+  ],\n+\n+  \"responses\" : {\n+\n+    \"200\": {\n+      \"description\": \"Request successful.\",\n+      \"content\": {\n+        \"text/plain\": {\n+          \"schema\": {\n+            \"type\": \"string\",\n+            \"description\": \"The error details for the external task.\"\n+          },\n+          \"examples\": {\n+            \"example-1\": {\n+              \"value\": \"\n+                org.apache.ibatis.jdbc.RuntimeSqlException: org.apache.ibatis.jdbc.RuntimeSqlException: test cause\n+                  at org.camunda.bpm.engine.test.api.externaltask.ExternalTaskServiceTest.testHandleFailureWithErrorDetails(ExternalTaskServiceTest.java:1424)\n+                  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n+                  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n+                  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n+                \"\n+            }\n+          }\n+        }\n+      }\n+    },\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0ODQ2Ng==", "bodyText": "it seems to return 500 instead of 404\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    code = \"404\"\n          \n          \n            \n                    code = \"500\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#discussion_r401648466", "createdAt": "2020-04-01T14:14:37Z", "author": {"login": "yanavasileva"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/{id}/errorDetails/get.ftl", "diffHunk": "@@ -0,0 +1,54 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getExternalTaskErrorDetails\"\n+      tag = \"External Task\"\n+      desc = \"Retrieves the error details in the context of a running external task by id.\" />\n+\n+  \"parameters\" : [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        last = true\n+        desc = \"The id of the external task for which the error details should be retrieved.\"/>\n+\n+  ],\n+\n+  \"responses\" : {\n+\n+    \"200\": {\n+      \"description\": \"Request successful.\",\n+      \"content\": {\n+        \"text/plain\": {\n+          \"schema\": {\n+            \"type\": \"string\",\n+            \"description\": \"The error details for the external task.\"\n+          },\n+          \"examples\": {\n+            \"example-1\": {\n+              \"value\": \"\n+                org.apache.ibatis.jdbc.RuntimeSqlException: org.apache.ibatis.jdbc.RuntimeSqlException: test cause\n+                  at org.camunda.bpm.engine.test.api.externaltask.ExternalTaskServiceTest.testHandleFailureWithErrorDetails(ExternalTaskServiceTest.java:1424)\n+                  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n+                  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n+                  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n+                \"\n+            }\n+          }\n+        }\n+      }\n+    },\n+\n+    <@lib.response\n+        code = \"404\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f78a23d2628b2e83d7d100d1388904ff2e1367b"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f6bca945886698273c4618709717dde2213ba5b", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/8f6bca945886698273c4618709717dde2213ba5b", "committedDate": "2020-04-01T15:11:55Z", "message": "feat(rest): add external task query & count openapi endpoints\n\n* fix quotes in task variables endpoint\r\n\r\nRelated to CAM-11540, CAM-11697, PR (#766)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d39f7865b8e1d962afbda8781ec45603053285f", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/8d39f7865b8e1d962afbda8781ec45603053285f", "committedDate": "2020-04-01T15:17:21Z", "message": "feat(rest): add external task operation openapi endpoints\n\n* Add OpenAPI documentation for operations on External Task (excluding\n  querying and counting);\n* Add missing Jackson links.\n\nRelated to CAM-11540, CAM-11709"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8331539105e76a9bbd4c9bfbd85227ecd4ac0c74", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/8331539105e76a9bbd4c9bfbd85227ecd4ac0c74", "committedDate": "2020-04-01T15:17:21Z", "message": "SQUASH ME: fix formatting\n\nCo-Authored-By: yanavasileva <yanavasileva@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32d03846cb94d05d32b5ae6687555a471c3aa826", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/32d03846cb94d05d32b5ae6687555a471c3aa826", "committedDate": "2020-04-01T15:17:21Z", "message": "SQUASH ME: correct response type\n\nCo-Authored-By: yanavasileva <yanavasileva@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66a66240aae9ec0c4fde463c5d5f6d6d07517675", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/66a66240aae9ec0c4fde463c5d5f6d6d07517675", "committedDate": "2020-04-01T15:17:59Z", "message": "SQUASH ME: implement review hints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35a71ad37cf404718b684d9248eddf998ec5c5f3", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/35a71ad37cf404718b684d9248eddf998ec5c5f3", "committedDate": "2020-04-01T15:17:59Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4addc28f358d49e65b49e4940bbcfb96494e764c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/4addc28f358d49e65b49e4940bbcfb96494e764c", "committedDate": "2020-04-01T15:17:59Z", "message": "SQUASH ME: implement review hints"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f87768e33041fc14b8da8ef51e40f383f893e62f", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/f87768e33041fc14b8da8ef51e40f383f893e62f", "committedDate": "2020-04-01T14:54:04Z", "message": "SQUASH ME: correct response type\n\nCo-Authored-By: yanavasileva <yanavasileva@users.noreply.github.com>"}, "afterCommit": {"oid": "4addc28f358d49e65b49e4940bbcfb96494e764c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/4addc28f358d49e65b49e4940bbcfb96494e764c", "committedDate": "2020-04-01T15:17:59Z", "message": "SQUASH ME: implement review hints"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NzAwMDM5", "url": "https://github.com/camunda/camunda-bpm-platform/pull/768#pullrequestreview-385700039", "createdAt": "2020-04-01T15:29:32Z", "commit": {"oid": "4addc28f358d49e65b49e4940bbcfb96494e764c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1829, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}