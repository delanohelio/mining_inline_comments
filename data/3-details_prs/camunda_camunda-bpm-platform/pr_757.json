{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNjY4NTQ2", "number": 757, "title": "CAM-11553: feat(rest): add openapi task variables endpoints", "bodyText": "Related to CAM-11553", "createdAt": "2020-03-25T15:48:30Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757", "merged": true, "mergeCommit": {"oid": "14600ce04fe828a4aa21bc2ba189d33bc158bd7e"}, "closed": true, "closedAt": "2020-03-31T11:47:56Z", "author": {"login": "koevskinikola"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSrhWkAFqTM4MzYyNjcwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTBqyYgFqTM4NDY1MjQ3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNjI2NzA2", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#pullrequestreview-383626706", "createdAt": "2020-03-30T08:20:39Z", "commit": {"oid": "631ecd57e09a413017d17c694324e9bb0730f604"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoyMDozOVrOF9eiZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODo1OTo0NVrOF9gAJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwNzc4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    desc = \"The name of the variable to get\"/>\n          \n          \n            \n                    desc = \"The name of the variable to get.\"/>", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#discussion_r400007781", "createdAt": "2020-03-30T08:20:39Z", "author": {"login": "mboskamp"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/task/{id}/variables/{varName}/get.ftl", "diffHunk": "@@ -0,0 +1,96 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getTaskVariable\"\n+      tag = \"Task Variable\"\n+      desc = \"Retrieves a variable from the context of a given task.\n+              The variable must be visible from the task. It is visible from the task if it is a local task variable or\n+              declared in a parent scope of the task. See documentation on\n+              [visiblity of variables](${docsUrl}/user-guide/process-engine/variables/).\" />\n+\n+  \"parameters\" : [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        desc = \"The id of the task to retrieve the variable from.\"/>\n+\n+    <@lib.parameter\n+        name = \"varName\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        desc = \"The name of the variable to get\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631ecd57e09a413017d17c694324e9bb0730f604"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwODY4NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            should be deserialized on the server side (default `true`).\n          \n          \n            \n                            should be deserialized on the server side (default `true`).", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#discussion_r400008684", "createdAt": "2020-03-30T08:22:15Z", "author": {"login": "mboskamp"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/task/{id}/variables/{varName}/get.ftl", "diffHunk": "@@ -0,0 +1,96 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getTaskVariable\"\n+      tag = \"Task Variable\"\n+      desc = \"Retrieves a variable from the context of a given task.\n+              The variable must be visible from the task. It is visible from the task if it is a local task variable or\n+              declared in a parent scope of the task. See documentation on\n+              [visiblity of variables](${docsUrl}/user-guide/process-engine/variables/).\" />\n+\n+  \"parameters\" : [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        desc = \"The id of the task to retrieve the variable from.\"/>\n+\n+    <@lib.parameter\n+        name = \"varName\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        desc = \"The name of the variable to get\"/>\n+\n+    <@lib.parameter\n+        name = \"deserializeValue\"\n+        location = \"query\"\n+        type = \"boolean\"\n+        defaultValue = \"true\"\n+        last = true\n+        desc = \"Determines whether serializable variable values (typically variables that store custom Java objects)\n+                should be deserialized on the server side (default `true`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631ecd57e09a413017d17c694324e9bb0730f604"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAzMDU0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    desc = \"Update or delete could not be executed because the task is `null` or does not exist.. See the\n          \n          \n            \n                    desc = \"Update or delete could not be executed because the task is `null` or does not exist. See the", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#discussion_r400030542", "createdAt": "2020-03-30T08:57:50Z", "author": {"login": "mboskamp"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/task/{id}/variables/post.ftl", "diffHunk": "@@ -0,0 +1,70 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"modifyTaskVariables\"\n+      tag = \"Task Variable\"\n+      desc = \"Updates or deletes the variables visible from the task. Updates precede deletions. So, if a variable is\n+              updated AND deleted, the deletion overrides the update. A variable is visible from the task if it is a\n+              local task variable or declared in a parent scope of the task. See documentation on\n+              [visiblity of variables](${docsUrl}/user-guide/process-engine/variables/).\" />\n+\n+  \"parameters\": [\n+\n+    <@lib.parameter\n+        name = \"id\"\n+        location = \"path\"\n+        type = \"string\"\n+        required = true\n+        last  = true\n+        desc = \"The id of the task to set variables for.\"/>\n+\n+  ],\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"PatchVariablesDto\"\n+      examples = ['\"example-1\": {\n+                     \"summary\": \"POST `/task/aTaskId/variables`\",\n+                     \"description\": \"Status 204 Response: No content.\",\n+                     \"value\": {\n+                       \"modifications\": {\n+                         \"aVariable\": {\n+                           \"value\": \"aValue\",\n+                           \"type\": \"String\"\n+                         },\n+                         \"anotherVariable\": {\n+                           \"value\": 42,\n+                           \"type\": \"Integer\"\n+                         }\n+                       },\n+                       \"deletions\": [\n+                         \"aThirdVariable\",\n+                         \"FourthVariable\"\n+                       ]\n+                     }\n+                   }'\n+      ] />\n+\n+  \"responses\" : {\n+\n+    <@lib.response\n+        code = \"204\"\n+        desc = \"Request successful.\" />\n+\n+    <@lib.response\n+        code = \"400\"\n+        dto = \"ExceptionDto\"\n+        desc = \"The variable value or type is invalid. For example the value could not be parsed to an `Integer` value\n+                or the passed variable type is not supported. See the\n+                [Introduction](${docsUrl}/reference/rest/overview/#error-handling)\n+                for the error response format.\" />\n+\n+    <@lib.response\n+        code = \"500\"\n+        dto = \"ExceptionDto\"\n+        last = true\n+        desc = \"Update or delete could not be executed because the task is `null` or does not exist.. See the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631ecd57e09a413017d17c694324e9bb0730f604"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAzMTc4Mg==", "bodyText": "The description in the docs is not very good. Maybe we can fix it while we are at it?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#discussion_r400031782", "createdAt": "2020-03-30T08:59:45Z", "author": {"login": "mboskamp"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/task/{id}/variables/{varName}/put.ftl", "diffHunk": "@@ -0,0 +1,80 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"putTaskVariable\"\n+      tag = \"Task Variable\"\n+      desc = \"Sets a visible from the task. A variable is visible from the task if it is a local task variable or", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631ecd57e09a413017d17c694324e9bb0730f604"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84e2880a6ae1da6309d005bed5ab21b5b7f07650", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/84e2880a6ae1da6309d005bed5ab21b5b7f07650", "committedDate": "2020-03-31T10:08:48Z", "message": "feat(rest): add openapi task variables endpoints\n\nRelated to CAM-11553"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87653425dc10e0eeae64dcf1e69d837fd0dc1179", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/87653425dc10e0eeae64dcf1e69d837fd0dc1179", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: fix formatting\n\nCo-Authored-By: Miklas Boskamp <miklas.boskamp@camunda.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49add05b9dff36e58dcc8d641eec445b6540e88c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/49add05b9dff36e58dcc8d641eec445b6540e88c", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: fix formatting\n\nCo-Authored-By: Miklas Boskamp <miklas.boskamp@camunda.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2abff1a854e92912f5238b5a7d191d7b409336", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/aa2abff1a854e92912f5238b5a7d191d7b409336", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: fix formatting\n\nCo-Authored-By: Miklas Boskamp <miklas.boskamp@camunda.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0665333777dfd30e3a1e3017509723e64b04415", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/f0665333777dfd30e3a1e3017509723e64b04415", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: implement review hints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a8481736314abead84f0d6ac35c1394f3fd047a", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/5a8481736314abead84f0d6ac35c1394f3fd047a", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: improve description"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "261562d9000278020cfcbf842396eb62c35df7ac", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/261562d9000278020cfcbf842396eb62c35df7ac", "committedDate": "2020-03-31T10:03:58Z", "message": "SQUASH ME: improve description"}, "afterCommit": {"oid": "5a8481736314abead84f0d6ac35c1394f3fd047a", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/5a8481736314abead84f0d6ac35c1394f3fd047a", "committedDate": "2020-03-31T10:08:55Z", "message": "SQUASH ME: improve description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NjUyNDc2", "url": "https://github.com/camunda/camunda-bpm-platform/pull/757#pullrequestreview-384652476", "createdAt": "2020-03-31T11:47:17Z", "commit": {"oid": "5a8481736314abead84f0d6ac35c1394f3fd047a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1805, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}