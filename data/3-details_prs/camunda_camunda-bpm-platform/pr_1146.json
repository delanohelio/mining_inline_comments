{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NDczODQ1", "number": 1146, "title": "CAM-12799: optimize daily pipeline for db matrices", "bodyText": "", "createdAt": "2020-11-25T14:14:06Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1146", "merged": true, "mergeCommit": {"oid": "920a3cfb3156a1f62e274e6b7d1a81a88ed68294"}, "closed": true, "closedAt": "2020-11-26T16:56:41Z", "author": {"login": "koevskinikola"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgRYDMABqjQwNDIxMzA0OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgV6o2AH2gAyNTI3NDczODQ1OjcwNGIzNWYwYTk4MDVlMWZkOTUzMzZjMzY0NWNmNmE3MTRiZTQ4ZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29bf05bc6d643905de3b4308e3198dfdc96a6ef7", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/29bf05bc6d643905de3b4308e3198dfdc96a6ef7", "committedDate": "2020-11-25T14:56:02Z", "message": "WIP: comment stashes"}, "afterCommit": {"oid": "750828df3933df329763bfe75ae8633180c06bf6", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/750828df3933df329763bfe75ae8633180c06bf6", "committedDate": "2020-11-26T11:31:21Z", "message": "WIP: restructure pipeline\n\n* Refactor to single DB matrix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d1d9e800e22a3696861e5d096a3af42f6014abf3", "committedDate": "2020-11-26T12:35:09Z", "message": "feat(ci): restructure DB matrices\n\n* Refactor DB matrices into a single DB matrix with multiple axes. This\n  reduces the pipeline code and allows for more stages to be executed in\nparallel.\n\nRelated to CAM-12712, CAM-12799"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b80d3bef8cb40b7b17c2e3b6745d9060968ff54", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/4b80d3bef8cb40b7b17c2e3b6745d9060968ff54", "committedDate": "2020-11-26T12:08:05Z", "message": "WIP: add echo steps"}, "afterCommit": {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d1d9e800e22a3696861e5d096a3af42f6014abf3", "committedDate": "2020-11-26T12:35:09Z", "message": "feat(ci): restructure DB matrices\n\n* Refactor DB matrices into a single DB matrix with multiple axes. This\n  reduces the pipeline code and allows for more stages to be executed in\nparallel.\n\nRelated to CAM-12712, CAM-12799"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzEzMDk1", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1146#pullrequestreview-539313095", "createdAt": "2020-11-26T13:26:13Z", "commit": {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMzoyNjoxM1rOH6bXrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMzoyNjoxM1rOH6bXrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTAyNzg4NQ==", "bodyText": "rename to getMavenTargetAndProfile", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1146#discussion_r531027885", "createdAt": "2020-11-26T13:26:13Z", "author": {"login": "yanavasileva"}, "path": "Jenkinsfile", "diffHunk": "@@ -725,3 +610,30 @@ String getDbProfiles(String dbLabel) {\n String getDbExtras(String dbLabel) {\n   return getDbInfo(dbLabel).extra\n }\n+\n+String resolveMavenProfileInfo(String profile) {\n+  Map PROFILE_PATHS = [\n+      'engine-unit': [\n+          directory: 'engine/',\n+          command: 'clean test -P'],\n+      'engine-unit-authorizations': [\n+          directory: 'engine/',\n+          command: 'clean test -PcfgAuthorizationCheckRevokesAlways,'],\n+      'webapps-unit': [\n+          directory: 'webapps/',\n+          command: 'clean test -Dskip.frontend.build=true -P'],\n+      'webapps-unit-authorizations': [\n+          directory: 'webapps/',\n+          command: 'clean test -Dskip.frontend.build=true -PcfgAuthorizationCheckRevokesAlways,']\n+  ]\n+\n+  return PROFILE_PATHS[profile]\n+}\n+\n+String getMavenProfileCmd(String profile) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3"}, "originalPosition": 189}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "704b35f0a9805e1fd95336c3645cf6a714be48d5", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/704b35f0a9805e1fd95336c3645cf6a714be48d5", "committedDate": "2020-11-26T16:54:52Z", "message": "SQUASH ME: implement review hints"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2063, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}