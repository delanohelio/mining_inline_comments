{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NTQyMTYw", "number": 633, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNjo0MjozN1rODc3xKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzoyNjo0MVrODc4QJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjAwNDI3OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNjo0MjozN1rOFlJeuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMDo1MjoxNFrOFlzh8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ5Njk1Mw==", "bodyText": "Any specific reasons to add the groupId and version? This should be correctly inherited from the parent, doesn't it?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374496953", "createdAt": "2020-02-04T06:42:37Z", "author": {"login": "tmetzke"}, "path": "parent/pom.xml", "diffHunk": "@@ -3,12 +3,14 @@\n \n   <parent>\n     <groupId>org.camunda.bpm</groupId>\n-    <artifactId>camunda-bom</artifactId>\n+    <artifactId>camunda-root</artifactId>\n     <version>7.13.0-SNAPSHOT</version>\n-    <relativePath>../bom</relativePath>\n+    <relativePath>../</relativePath>\n   </parent>\n \n+  <groupId>org.camunda.bpm</groupId>\n   <artifactId>camunda-parent</artifactId>\n+  <version>7.13.0-SNAPSHOT</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyNjcxNA==", "bodyText": "Agree, I tested it without and seems ok. There are a couple of more places where we can clean the groupId and/or version:\n\nbom/pom.xml\ndatabase/pom.xml", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374526714", "createdAt": "2020-02-04T08:19:00Z", "author": {"login": "yanavasileva"}, "path": "parent/pom.xml", "diffHunk": "@@ -3,12 +3,14 @@\n \n   <parent>\n     <groupId>org.camunda.bpm</groupId>\n-    <artifactId>camunda-bom</artifactId>\n+    <artifactId>camunda-root</artifactId>\n     <version>7.13.0-SNAPSHOT</version>\n-    <relativePath>../bom</relativePath>\n+    <relativePath>../</relativePath>\n   </parent>\n \n+  <groupId>org.camunda.bpm</groupId>\n   <artifactId>camunda-parent</artifactId>\n+  <version>7.13.0-SNAPSHOT</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ5Njk1Mw=="}, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE4NTkwNA==", "bodyText": "Correct, it's a leftover. Initially I had this POM and the BOM as children of camunda-bpm-release-parent.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r375185904", "createdAt": "2020-02-05T10:52:14Z", "author": {"login": "ThorbenLindhauer"}, "path": "parent/pom.xml", "diffHunk": "@@ -3,12 +3,14 @@\n \n   <parent>\n     <groupId>org.camunda.bpm</groupId>\n-    <artifactId>camunda-bom</artifactId>\n+    <artifactId>camunda-root</artifactId>\n     <version>7.13.0-SNAPSHOT</version>\n-    <relativePath>../bom</relativePath>\n+    <relativePath>../</relativePath>\n   </parent>\n \n+  <groupId>org.camunda.bpm</groupId>\n   <artifactId>camunda-parent</artifactId>\n+  <version>7.13.0-SNAPSHOT</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ5Njk1Mw=="}, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjAxMzc1OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNjo0NzozNFrOFlJkEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNjo0NzozNFrOFlJkEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ5ODMyMA==", "bodyText": "If the BOM uses the properties in the dependencyManagement section and parent imports the BOM in its own dependencyManagement, the properties aren't necessary in the parent, are they?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374498320", "createdAt": "2020-02-04T06:47:34Z", "author": {"login": "tmetzke"}, "path": "pom.xml", "diffHunk": "@@ -23,6 +23,16 @@\n \n   <properties>\n     <license.includeTransitiveDependencies>false</license.includeTransitiveDependencies>\n+\n+    <!-- These properties are used in both the BOM as well as camunda-parent and subprojects -->\n+    <version.mybatis>3.5.3</version.mybatis>\n+    <version.joda-time>2.1</version.joda-time>\n+    <version.uuid-generator>3.2.0</version.uuid-generator>\n+    <version.camunda.commons>1.9.0</version.camunda.commons>\n+    <version.camunda.connect>1.3.0</version.camunda.connect>\n+    <version.camunda.spin>1.8.0</version.camunda.spin>\n+    <version.camunda.template-engines>1.1.0</version.camunda.template-engines>\n+    <version.camunda.ee.xslt-plugin>1.1.0</version.camunda.ee.xslt-plugin>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjAzNTI1OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzowMDozM1rOFlJwxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo0NzoyNlrOFmbkog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwMTU3Mw==", "bodyText": "Do you know why this wasn't necessary when the BOM was the parent of this?\nAny specific errors if we remove this that you already encountered? (Haven't tested yet myself)", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374501573", "createdAt": "2020-02-04T07:00:33Z", "author": {"login": "tmetzke"}, "path": "parent/pom.xml", "diffHunk": "@@ -622,6 +631,11 @@\n       <name>SpringSource Enterprise Bundle Repository - External Bundle Releases</name>\n       <url>http://repository.springsource.com/maven/bundles/external</url>\n     </repository>\n+\n+    <repository>\n+      <id>fix-maven-snapshots-issue-with-nexus</id>\n+      <url>allow-parent-pom-resolving-when-snapshot</url>\n+    </repository>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE4OTUzOQ==", "bodyText": "I have to check that one again. This was a bit of an attempt to keep the effective pom the same after the refactoring, but I'm not sure it is really needed.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r375189539", "createdAt": "2020-02-05T11:00:00Z", "author": {"login": "ThorbenLindhauer"}, "path": "parent/pom.xml", "diffHunk": "@@ -622,6 +631,11 @@\n       <name>SpringSource Enterprise Bundle Repository - External Bundle Releases</name>\n       <url>http://repository.springsource.com/maven/bundles/external</url>\n     </repository>\n+\n+    <repository>\n+      <id>fix-maven-snapshots-issue-with-nexus</id>\n+      <url>allow-parent-pom-resolving-when-snapshot</url>\n+    </repository>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwMTU3Mw=="}, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MTk1NA==", "bodyText": "I assume the repository entry must be present in every pom (4487ed5 has added this, but I don't understand the reasoning behind it). Looking at effective poms, this is inherited to any descendant pom.\nPreviously we had the BOM as the parent of every pom in the repo except for camunda-root, and that is where this dummy repo was configured. With the changes we made, it is probably sufficient to have them in camunda-root only. I will try that.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r375841954", "createdAt": "2020-02-06T13:47:26Z", "author": {"login": "ThorbenLindhauer"}, "path": "parent/pom.xml", "diffHunk": "@@ -622,6 +631,11 @@\n       <name>SpringSource Enterprise Bundle Repository - External Bundle Releases</name>\n       <url>http://repository.springsource.com/maven/bundles/external</url>\n     </repository>\n+\n+    <repository>\n+      <id>fix-maven-snapshots-issue-with-nexus</id>\n+      <url>allow-parent-pom-resolving-when-snapshot</url>\n+    </repository>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwMTU3Mw=="}, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjA3NTQ1OnYy", "diffSide": "RIGHT", "path": "engine-rest/engine-rest/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzoyMjoyMlrOFlKIXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMDo1OToxOFrOFlzu5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwNzYxNA==", "bodyText": "Just to understand this correctly:\nThis dependency is included so this project is definitely build after the BOM project?\nShouldn't this already be the case because\n\nthis project's parent is rest-root\nrest-root's parent is database-settings\ndatabase-settings' parent is parent\nparent depends on BOM to be build", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374507614", "createdAt": "2020-02-04T07:22:22Z", "author": {"login": "tmetzke"}, "path": "engine-rest/engine-rest/pom.xml", "diffHunk": "@@ -92,6 +92,18 @@\n       <version>1.6.5</version>\n       <scope>test</scope>\n     </dependency>\n+    \n+    <!--\n+      needed for offline shrinkwrap (in particular CustomJacksonDateFormatTest), \n+      BOM must be installed before this module is built\n+    -->\n+    <dependency>\n+      <groupId>org.camunda.bpm</groupId>\n+      <artifactId>camunda-bom</artifactId>\n+      <version>${project.version}</version>\n+      <type>pom</type>\n+      <scope>test</scope>\n+    </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE4OTIyMg==", "bodyText": "I though the same, but apparently it is not. You can try this out by removing the dependency here, removing the 7.13.0-SNAPSHOT bom from your local Maven repo and then building the reactor in offline mode (-o, so that the bom won't be fetched from remote). org.camunda.bpm.engine.rest.CustomJacksonDateFormatTest should fail then.\nMy theory is the following:\n\nThe bom pom is in the reactor so it can be resolved for imports and exports already before the bom module is built.\nThe test uses Shrinkwrap. Shrinkwrap seems to resolve the bom from the local Maven repo.\nAs the bom is not properly built yet, it is also not installed into the Maven repo.\n\nThat said, I have no documentation at hand supporting this claim :)", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r375189222", "createdAt": "2020-02-05T10:59:18Z", "author": {"login": "ThorbenLindhauer"}, "path": "engine-rest/engine-rest/pom.xml", "diffHunk": "@@ -92,6 +92,18 @@\n       <version>1.6.5</version>\n       <scope>test</scope>\n     </dependency>\n+    \n+    <!--\n+      needed for offline shrinkwrap (in particular CustomJacksonDateFormatTest), \n+      BOM must be installed before this module is built\n+    -->\n+    <dependency>\n+      <groupId>org.camunda.bpm</groupId>\n+      <artifactId>camunda-bom</artifactId>\n+      <version>${project.version}</version>\n+      <type>pom</type>\n+      <scope>test</scope>\n+    </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwNzYxNA=="}, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjA4MzU5OnYy", "diffSide": "RIGHT", "path": "qa/integration-tests-engine/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzoyNjo0MVrOFlKNUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzoyNjo0MVrOFlKNUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUwODg4MQ==", "bodyText": "Similar to camunda-engine-rest-core, shouldn't the BOM already reliably come first in the reactor build since\n\nthis project's parent is camunda-qa\ncamunda-qa's parent is database-settings\ndatabase-settings' parent is parent\nparent depends on BOM to be build", "url": "https://github.com/camunda/camunda-bpm-platform/pull/633#discussion_r374508881", "createdAt": "2020-02-04T07:26:41Z", "author": {"login": "tmetzke"}, "path": "qa/integration-tests-engine/pom.xml", "diffHunk": "@@ -176,6 +176,17 @@\n       -->\n     </dependency>\n \n+    <!--\n+      needed for offline shrinkwrap,\n+      BOM must be installed before this module is built\n+    -->\n+    <dependency>\n+      <groupId>org.camunda.bpm</groupId>\n+      <artifactId>camunda-bom</artifactId>\n+      <version>${project.version}</version>\n+      <type>pom</type>\n+      <scope>test</scope>\n+    </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7952c96c2a6c0beda6c9d0025c570f555d3876"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4733, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}