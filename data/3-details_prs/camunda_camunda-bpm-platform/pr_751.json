{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyODUxMjQ3", "number": 751, "title": "CAM-11679: re-integrate hook method for job execution", "bodyText": "", "createdAt": "2020-03-24T08:36:44Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/751", "merged": true, "mergeCommit": {"oid": "72ef90a7bd6c15fa4504867d0eda4b5f3511e33c"}, "closed": true, "closedAt": "2020-03-25T07:09:21Z", "author": {"login": "mboskamp"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQxgCqgH2gAyMzkyODUxMjQ3OjY1ZDkyZjJjOWM4MmZlODcxZDJjZDA5NTU2YTM4Y2JhOWQzMTgzYTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRCF1vgFqTM4MDg5Nzg3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "65d92f2c9c82fe871d2cd09556a38cba9d3183a9", "author": {"user": {"login": "mboskamp", "name": "Miklas Boskamp"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/65d92f2c9c82fe871d2cd09556a38cba9d3183a9", "committedDate": "2020-03-24T11:49:13Z", "message": "fix(engine): re-integrate executeJob hook method for job execution\n\nRelated to CAM-11679"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9a0061315dd27ac404fcb72872624c3e4c95b7e", "author": {"user": {"login": "mboskamp", "name": "Miklas Boskamp"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/a9a0061315dd27ac404fcb72872624c3e4c95b7e", "committedDate": "2020-03-24T08:35:52Z", "message": "fix(engine): re-integrate hook method for job execution\n\nRelated to CAM-11679"}, "afterCommit": {"oid": "65d92f2c9c82fe871d2cd09556a38cba9d3183a9", "author": {"user": {"login": "mboskamp", "name": "Miklas Boskamp"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/65d92f2c9c82fe871d2cd09556a38cba9d3183a9", "committedDate": "2020-03-24T11:49:13Z", "message": "fix(engine): re-integrate executeJob hook method for job execution\n\nRelated to CAM-11679"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNDU5OTI2", "url": "https://github.com/camunda/camunda-bpm-platform/pull/751#pullrequestreview-380459926", "createdAt": "2020-03-24T16:03:31Z", "commit": {"oid": "65d92f2c9c82fe871d2cd09556a38cba9d3183a9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNjowMzozMlrOF63fTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNjowMzozMlrOF63fTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI3MDg2Mw==", "bodyText": "@mboskamp, just to make sure I understand correctly since I'm not sure how to test this:\nEven though ExecuteJobHelper.executeJob is not called explicitly anymore, calling endoint.executeJob here ensures that the ExecuteJobHelper is called through an instance of JobExecutionHandler and the Process Data Context for logging feature is intact, i.e. MDC properties are still added?", "url": "https://github.com/camunda/camunda-bpm-platform/pull/751#discussion_r397270863", "createdAt": "2020-03-24T16:03:32Z", "author": {"login": "koevskinikola"}, "path": "javaee/jobexecutor-ra/src/main/java/org/camunda/bpm/container/impl/threading/ra/inflow/JcaInflowExecuteJobsRunnable.java", "diffHunk": "@@ -73,7 +73,6 @@ protected void executeJob(String nextJobId, CommandExecutor commandExecutor) {\n       } catch (ResourceException e) {\n         log.log(Level.WARNING, \"ResourceException while invoking beforeDelivery() on MessageEndpoint '\"+endpoint+\"'\", e);\n       }\n-      JobFailureCollector jobFailureCollector = null;\n       try {\n         jobFailureCollector = ((JobExecutionHandler)endpoint).executeJob(nextJobId, commandExecutor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65d92f2c9c82fe871d2cd09556a38cba9d3183a9"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODk3ODc0", "url": "https://github.com/camunda/camunda-bpm-platform/pull/751#pullrequestreview-380897874", "createdAt": "2020-03-25T07:08:59Z", "commit": {"oid": "65d92f2c9c82fe871d2cd09556a38cba9d3183a9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1793, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}