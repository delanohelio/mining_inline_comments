{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MjY0NDgy", "number": 892, "title": "CAM-12149: migration of JUnit 3 tests to JUnit 4", "bodyText": "A migration of JUnit3 tests to JUnit4in the Process Engine test suite.\nRelated to CAM-12149", "createdAt": "2020-07-10T07:02:17Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/892", "merged": true, "mergeCommit": {"oid": "09f57f849ffbd83656f7f5940271a84b4918ca24"}, "closed": true, "closedAt": "2020-07-24T13:50:39Z", "author": {"login": "koevskinikola"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczkaNnABqjM1MzQxMDYyMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4EWpiABqjM1ODQwMjk4ODg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7e3e7fe012723ba79a22f629ec2208ada7f0a042", "author": {"user": {"login": "yanavasileva", "name": null}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/7e3e7fe012723ba79a22f629ec2208ada7f0a042", "committedDate": "2020-07-10T14:19:28Z", "message": "chore(engine): adjust CompetingHistoryCleanupAcquisitionTest"}, "afterCommit": {"oid": "aef1dd8dfc193a381345e7366e41412c6ae86e55", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/aef1dd8dfc193a381345e7366e41412c6ae86e55", "committedDate": "2020-07-10T14:21:09Z", "message": "fix(test): make CompetingHistoryCleanupAcquisitionTest work with junit4"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dec7fefd87f20130edbd521bf5cc8688658ebc0", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/9dec7fefd87f20130edbd521bf5cc8688658ebc0", "committedDate": "2020-07-10T15:18:50Z", "message": "chore(test): add missing junit3 test"}, "afterCommit": {"oid": "66f7cdca1204d8af5b9c521ee14071c2f6e9873c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/66f7cdca1204d8af5b9c521ee14071c2f6e9873c", "committedDate": "2020-07-13T19:26:10Z", "message": "chore(test): migrate JPAVariableTest to juint4"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d028bcf9f6e6217c665a6252b2c557d3cfd72f6e", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d028bcf9f6e6217c665a6252b2c557d3cfd72f6e", "committedDate": "2020-07-14T19:55:36Z", "message": "chore(test): refactor concurrency tests"}, "afterCommit": {"oid": "d9403294f77a6777af46a126246d5da510f5b27c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d9403294f77a6777af46a126246d5da510f5b27c", "committedDate": "2020-07-14T19:59:55Z", "message": "chore(test): refactor concurrency tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9403294f77a6777af46a126246d5da510f5b27c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d9403294f77a6777af46a126246d5da510f5b27c", "committedDate": "2020-07-14T19:59:55Z", "message": "chore(test): refactor concurrency tests"}, "afterCommit": {"oid": "ce2259ee2496f7b85a3930816e96a933b1d612c0", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/ce2259ee2496f7b85a3930816e96a933b1d612c0", "committedDate": "2020-07-14T20:06:09Z", "message": "chore(test): refactor concurrency tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c44b3a6fdb3668a41b39f51d36f2a68d9ab2e6e", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/7c44b3a6fdb3668a41b39f51d36f2a68d9ab2e6e", "committedDate": "2020-07-14T20:09:31Z", "message": "chore(test): optimize imports"}, "afterCommit": {"oid": "02d5038266d9d4706d1fa8f0b98cb2d721158611", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/02d5038266d9d4706d1fa8f0b98cb2d721158611", "committedDate": "2020-07-14T20:27:23Z", "message": "chore(test): optimize imports"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d29e799ef6423619e41f79f99a369013460f8810", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d29e799ef6423619e41f79f99a369013460f8810", "committedDate": "2020-07-15T05:17:51Z", "message": "chore(test): add missing license header"}, "afterCommit": {"oid": "36f44cccb5777323fde565beb9fdc24eb282e205", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/36f44cccb5777323fde565beb9fdc24eb282e205", "committedDate": "2020-07-20T11:27:57Z", "message": "chore(test): port PmvTestCase & TestCase tests to JUnit4"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "575667be760c261995180693d9e61c05b4a53ea7", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/575667be760c261995180693d9e61c05b4a53ea7", "committedDate": "2020-07-20T15:05:34Z", "message": "refactor bootstrap rule: build engine in apply callback; use java 8 interface"}, "afterCommit": {"oid": "1d1d2898111ab9367473d26ee573304e79ab5b30", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/1d1d2898111ab9367473d26ee573304e79ab5b30", "committedDate": "2020-07-20T15:58:46Z", "message": "feat(test): refactor ProvidedProcessEngineRule class\n\n* Move the cached Process Engine from the PluggableProcessEngineTestCase\n  to the ProvidedProcessEngineRule."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDUyMDA0", "url": "https://github.com/camunda/camunda-bpm-platform/pull/892#pullrequestreview-452452004", "createdAt": "2020-07-21T13:24:14Z", "commit": {"oid": "1d1d2898111ab9367473d26ee573304e79ab5b30"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e27679cdb6deb08080ded4924b5101da96ce071", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/0e27679cdb6deb08080ded4924b5101da96ce071", "committedDate": "2020-07-23T19:44:40Z", "message": "chore(engine): replace PluggableProcessEngineTestCase\n\n* Replace PluggableProcessEngineTestCase with a test (source) class.\n  This will allow us to do larger changes to the base Test class without\nimpacting users that may be using the Runtime class.\n* Refactor test classes that use the runtime class with the new test\n  class.\n\nRelated to CAM-12149"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "403b9d4a083e432f796476396e906ba0de4d970f", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/403b9d4a083e432f796476396e906ba0de4d970f", "committedDate": "2020-07-23T19:45:33Z", "message": "chore(engine): replace ResourceProcessEngineTestCase\n\nRelated to CAM-12149"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89efbd2593effbf0c28114fdb7d62171b1a7c2a7", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/89efbd2593effbf0c28114fdb7d62171b1a7c2a7", "committedDate": "2020-07-23T19:46:05Z", "message": "chore(engine): replace CmmnProcessEngineTestCase\n\nRelated to CAM-12149"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de7f72b9401363c6bd51ebea8bc35d0e630ee633", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/de7f72b9401363c6bd51ebea8bc35d0e630ee633", "committedDate": "2020-07-23T15:17:09Z", "message": "SQUASH ME: implement review hints\n\n* Implement review hints.\n* Remove CmmnProcessEngineTestCase since it isn't used anymore"}, "afterCommit": {"oid": "31a6b740f95531ee16583f7317affbe90c1df133", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/31a6b740f95531ee16583f7317affbe90c1df133", "committedDate": "2020-07-23T20:00:30Z", "message": "chore(readme): update test writing instructions\n\nRelated to CAM-12149"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31a6b740f95531ee16583f7317affbe90c1df133", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/31a6b740f95531ee16583f7317affbe90c1df133", "committedDate": "2020-07-23T20:00:30Z", "message": "chore(readme): update test writing instructions\n\nRelated to CAM-12149"}, "afterCommit": {"oid": "454d60ede9605285978a373420beb74c15794a69", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/454d60ede9605285978a373420beb74c15794a69", "committedDate": "2020-07-23T20:03:57Z", "message": "chore(readme): update test writing instructions\n\nRelated to CAM-12149"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NzA4NjE2", "url": "https://github.com/camunda/camunda-bpm-platform/pull/892#pullrequestreview-454708616", "createdAt": "2020-07-24T08:17:32Z", "commit": {"oid": "454d60ede9605285978a373420beb74c15794a69"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODoxNzozMlrOG2m79w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODoxNzozMlrOG2m79w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxNDIzMQ==", "bodyText": "Do we really want to discourage using PluggableProcessEngineTest? It contains some common code that is quite handy to simply reuse (e.g. assigning the services to fields) instead of duplicating it.", "url": "https://github.com/camunda/camunda-bpm-platform/pull/892#discussion_r459914231", "createdAt": "2020-07-24T08:17:32Z", "author": {"login": "ThorbenLindhauer"}, "path": "CONTRIBUTING.md", "diffHunk": "@@ -51,18 +51,19 @@ Best practices for writing test cases:\n   ```\n * Project `camunda-engine`: If you need a process engine with custom configuration, use the JUnit rule `org.camunda.bpm.engine.test.util.ProcessEngineBootstrapRule` and chain it with `org.camunda.bpm.engine.test.util.ProvidedProcessEngineRule` like so:\n   ```\n-  protected ProcessEngineBootstrapRule bootstrapRule = new ProcessEngineBootstrapRule() {\n-    public ProcessEngineConfiguration configureEngine(ProcessEngineConfigurationImpl configuration) {\n+  protected ProcessEngineBootstrapRule bootstrapRule = new ProcessEngineBootstrapRule(configuration -> {\n       // apply configuration options here\n-\n-      return configuration;\n-    }\n-  };\n+  });\n   protected ProvidedProcessEngineRule engineRule = new ProvidedProcessEngineRule(bootstrapRule);\n \n   @Rule\n   public RuleChain ruleChain = RuleChain.outerRule(bootstrapRule).around(engineRule);\n   ```\n+* Some Test classes extend the `org.camunda.bpm.engine.test.util.PluggableProcessEngineTest` class. This is a \n+  compatibility class to ease the transition of Test classes from JUnit3 to JUnit4. If you need to modify the \n+  `ProcessEngineConfiguration` in a class that extends `PluggableProcessEngineTest`, please remove \n+  the `extends PluggableProcessEngineTest` inheritance, and add the necessary JUnit4 Rules and Process Engine Services \n+  directly in the class you are modifying, as described in the point above.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "454d60ede9605285978a373420beb74c15794a69"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfb915133b07369cd4ea5a2d2aca35544b172052", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/dfb915133b07369cd4ea5a2d2aca35544b172052", "committedDate": "2020-07-24T13:28:49Z", "message": "chore(engine): refactor junit3 test code to junit4\n\n* Migrate junit3 helper methods to ProcessEngineTestRule methods;\n* Port test classes to JUnit4;\n* Add missing dependencies after porting (e.g. JUnit Asserts);\n* Refactor test code to Java 8 syntax where possible.\n* Migrate authorization tests: Call authorization super.setUp after test setUp\n* Make JdbcStatementTimeoutTest work with junit4\n* Make CompetingHistoryCleanupAcquisitionTest work with junit4\n* Migrate JPAVariableTest to juint4\n* Refactor concurrency tests;\n\nRelated to CAM-12149"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228d1bc8d5e8d14ae3c12f687f65b076ad765d8c", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/228d1bc8d5e8d14ae3c12f687f65b076ad765d8c", "committedDate": "2020-07-24T13:30:21Z", "message": "chore(test): port PmvTestCase & TestCase tests to JUnit4\n\nRelated to CAM-12149"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "454d60ede9605285978a373420beb74c15794a69", "author": {"user": {"login": "koevskinikola", "name": "Nikola Koevski"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/454d60ede9605285978a373420beb74c15794a69", "committedDate": "2020-07-23T20:03:57Z", "message": "chore(readme): update test writing instructions\n\nRelated to CAM-12149"}, "afterCommit": {"oid": "d8e592eca30a9b99eca5ff2f0d462b1e226810b0", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d8e592eca30a9b99eca5ff2f0d462b1e226810b0", "committedDate": "2020-07-24T13:32:50Z", "message": "chore(test): improve test code and contribution docs\n\n* Make the ConcurrencyTestHelper class independent of the Process Engine\n  Configuration and Services;\n* Extract the CMMN test helper methods in a separate class (CmmnTest).\n* Refactor the ProvidedProcessEngineRule class: Move the cached Process Engine from the PluggableProcessEngineTestCase\n  to the ProvidedProcessEngineRule.\n* Remove unused CmmnProcessEngineTestCase class;\n* Convert ProcessEngineBootstrapRule static initializers into lambdas.\n* Update instructions on creating tests in CONTRIBUTING.md.\n\nRelated to CAM-12149"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b3e3787c4090a6d1489a1c07e03caf7ed3c92ab", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/0b3e3787c4090a6d1489a1c07e03caf7ed3c92ab", "committedDate": "2020-07-24T13:49:42Z", "message": "chore(test): improve test code and contribution docs\n\n* Make the ConcurrencyTestHelper class independent of the Process Engine\n  Configuration and Services;\n* Extract the CMMN test helper methods in a separate class (CmmnTest).\n* Refactor the ProvidedProcessEngineRule class: Move the cached Process Engine from the PluggableProcessEngineTestCase\n  to the ProvidedProcessEngineRule.\n* Remove unused CmmnProcessEngineTestCase class;\n* Convert ProcessEngineBootstrapRule static initializers into lambdas.\n* Update instructions on creating tests in CONTRIBUTING.md.\n\nRelated to CAM-12149"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8e592eca30a9b99eca5ff2f0d462b1e226810b0", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d8e592eca30a9b99eca5ff2f0d462b1e226810b0", "committedDate": "2020-07-24T13:32:50Z", "message": "chore(test): improve test code and contribution docs\n\n* Make the ConcurrencyTestHelper class independent of the Process Engine\n  Configuration and Services;\n* Extract the CMMN test helper methods in a separate class (CmmnTest).\n* Refactor the ProvidedProcessEngineRule class: Move the cached Process Engine from the PluggableProcessEngineTestCase\n  to the ProvidedProcessEngineRule.\n* Remove unused CmmnProcessEngineTestCase class;\n* Convert ProcessEngineBootstrapRule static initializers into lambdas.\n* Update instructions on creating tests in CONTRIBUTING.md.\n\nRelated to CAM-12149"}, "afterCommit": {"oid": "0b3e3787c4090a6d1489a1c07e03caf7ed3c92ab", "author": {"user": {"login": "ThorbenLindhauer", "name": "Thorben Lindhauer"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/0b3e3787c4090a6d1489a1c07e03caf7ed3c92ab", "committedDate": "2020-07-24T13:49:42Z", "message": "chore(test): improve test code and contribution docs\n\n* Make the ConcurrencyTestHelper class independent of the Process Engine\n  Configuration and Services;\n* Extract the CMMN test helper methods in a separate class (CmmnTest).\n* Refactor the ProvidedProcessEngineRule class: Move the cached Process Engine from the PluggableProcessEngineTestCase\n  to the ProvidedProcessEngineRule.\n* Remove unused CmmnProcessEngineTestCase class;\n* Convert ProcessEngineBootstrapRule static initializers into lambdas.\n* Update instructions on creating tests in CONTRIBUTING.md.\n\nRelated to CAM-12149"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2582, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}