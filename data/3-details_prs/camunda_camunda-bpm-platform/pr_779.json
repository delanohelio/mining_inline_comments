{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjAzNzM2", "number": 779, "title": "CAM-11492 : topic-names-rest-api", "bodyText": "I ran into an issue with squashing commits, and had to close the old pull request. I have since discovered the issue and it won't happen again.", "createdAt": "2020-04-09T19:28:11Z", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779", "merged": true, "mergeCommit": {"oid": "a2aae17a8bc5dc6a69591004d2b9132a75dfdf7c"}, "closed": true, "closedAt": "2020-04-28T06:01:57Z", "author": {"login": "epollum"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWUgPcABqjMyMjI1MzExODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb9gjOAFqTQwMTUxOTQ5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec6b81a8309715e12f12048a6a042ccc0ec5c658", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/ec6b81a8309715e12f12048a6a042ccc0ec5c658", "committedDate": "2020-04-09T19:27:14Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "committedDate": "2020-04-10T17:25:28Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "committedDate": "2020-04-10T17:25:28Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "68324147a5d70dbf815cb9660c9b91567b5118b5", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/68324147a5d70dbf815cb9660c9b91567b5118b5", "committedDate": "2020-04-10T17:53:30Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68324147a5d70dbf815cb9660c9b91567b5118b5", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/68324147a5d70dbf815cb9660c9b91567b5118b5", "committedDate": "2020-04-10T17:53:30Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "db03587d3da2d787ab4c202c9d71fa08341a5772", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/db03587d3da2d787ab4c202c9d71fa08341a5772", "committedDate": "2020-04-13T15:47:29Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db03587d3da2d787ab4c202c9d71fa08341a5772", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/db03587d3da2d787ab4c202c9d71fa08341a5772", "committedDate": "2020-04-13T15:47:29Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2fce28d24d5259553926af8b774c7ae7b9a43ff", "committedDate": "2020-04-13T15:49:12Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2Mzg3ODMz", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#pullrequestreview-396387833", "createdAt": "2020-04-20T12:01:12Z", "commit": {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjowMToxMlrOGIRBLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjo0NToyNFrOGISpYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMDYyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Providing no parameters will return a list of all distinct topic names with external tasks.\n          \n          \n            \n                  Providing no parameters will return a list of all distinct topic names with external tasks.\"", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411320620", "createdAt": "2020-04-20T12:01:12Z", "author": {"login": "tasso94"}, "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/external-task/topic-names/get.ftl", "diffHunk": "@@ -0,0 +1,50 @@\n+{\n+\n+  <@lib.endpointInfo\n+      id = \"getTopicNames\"\n+      tag = \"External Task\"\n+      desc = \"Queries for distinct topic names of external tasks that fulfill given parameters.\n+      Query can be restricted to only tasks with retries left, tasks that are locked, or tasks\n+      that are unlocked. The parameters withLockedTasks and withUnlockedTasks are\n+      exclusive. Setting them both to true will return an empty list.\n+      Providing no parameters will return a list of all distinct topic names with external tasks.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0NzI5Ng==", "bodyText": "Let's use a dedicated DTO instead of List<String> to remain consistent with all other existing REST API endpoints:\n\nIntroduce a new DTO class (e. g. ExternalTaskTopicNameDto) located under org.camunda.bpm.engine.rest.dto.externaltask\n\nThe class should have the attribute topicName of type String\nIntroduce a getter & setter for the attribute\n\n\nConvert the list of strings to a list of ExternalTaskTopicNameDtos\nChange the method signature to return List<ExternalTaskTopicNameDto>", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411347296", "createdAt": "2020-04-20T12:45:24Z", "author": {"login": "tasso94"}, "path": "engine-rest/engine-rest/src/main/java/org/camunda/bpm/engine/rest/ExternalTaskRestService.java", "diffHunk": "@@ -91,4 +91,11 @@\n   @Produces(MediaType.APPLICATION_JSON)\n   BatchDto setRetriesAsync(SetRetriesForExternalTasksDto retriesDto);\n \n+  @GET\n+  @Path(\"/topic-names\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  List<String> getTopicNames(@QueryParam(\"withLockedTasks\") boolean withLockedTasks,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2fce28d24d5259553926af8b774c7ae7b9a43ff", "committedDate": "2020-04-13T15:49:12Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "committedDate": "2020-04-20T17:26:54Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "committedDate": "2020-04-20T17:26:54Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "5b604500d25649c1981da84d28135bf0305d19ca", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/5b604500d25649c1981da84d28135bf0305d19ca", "committedDate": "2020-04-20T17:29:13Z", "message": "\"feat(api): get list of topic names\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b604500d25649c1981da84d28135bf0305d19ca", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/5b604500d25649c1981da84d28135bf0305d19ca", "committedDate": "2020-04-20T17:29:13Z", "message": "\"feat(api): get list of topic names\""}, "afterCommit": {"oid": "4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "committedDate": "2020-04-27T14:25:47Z", "message": "feat(api): get list of topic names\n\nrelated to CAM-11492"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "committedDate": "2020-04-27T14:25:47Z", "message": "feat(api): get list of topic names\n\nrelated to CAM-11492"}, "afterCommit": {"oid": "9343c1befb779589cde087c6ca2cffa9bfcb5c31", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/9343c1befb779589cde087c6ca2cffa9bfcb5c31", "committedDate": "2020-04-27T15:45:16Z", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "committedDate": "2020-04-28T05:54:04Z", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9343c1befb779589cde087c6ca2cffa9bfcb5c31", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/9343c1befb779589cde087c6ca2cffa9bfcb5c31", "committedDate": "2020-04-27T15:45:16Z", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492"}, "afterCommit": {"oid": "cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "author": {"user": {"login": "epollum", "name": "Emma"}}, "url": "https://github.com/camunda/camunda-bpm-platform/commit/cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "committedDate": "2020-04-28T05:54:04Z", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNTE5NDk1", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#pullrequestreview-401519495", "createdAt": "2020-04-28T06:01:48Z", "commit": {"oid": "cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1843, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}