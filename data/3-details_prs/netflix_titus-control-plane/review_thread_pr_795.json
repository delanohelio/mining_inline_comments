{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxNjc1MDU1", "number": 795, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1MjoyNlrODkV9VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOToxNjowN1rODkY-MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDM1MDkzOnYy", "diffSide": "RIGHT", "path": "titus-api/src/main/java/com/netflix/titus/api/jobmanager/model/job/sanitizer/SchedulingConstraintSetValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1MjoyNlrOFwnIFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1MjoyNlrOFwnIFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUxNzAxNA==", "bodyText": "protected? We want clients to call the original validator method?", "url": "https://github.com/Netflix/titus-control-plane/pull/795#discussion_r386517014", "createdAt": "2020-03-02T16:52:26Z", "author": {"login": "tbak"}, "path": "titus-api/src/main/java/com/netflix/titus/api/jobmanager/model/job/sanitizer/SchedulingConstraintSetValidator.java", "diffHunk": "@@ -53,7 +54,7 @@ public void initialize(SchedulingConstraintSet constraintAnnotation) {\n     }\n \n     @Override\n-    public boolean isValid(Container container, ConstraintValidatorContext context) {\n+    public boolean isValid(Container container, ConstraintValidatorContextWrapper context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDM1NjA1OnYy", "diffSide": "RIGHT", "path": "titus-common/src/main/java/com/netflix/titus/common/model/sanitizer/internal/AbstractConstraintValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1Mzo0MVrOFwnLQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1Mzo0MVrOFwnLQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUxNzgyNA==", "bodyText": "protected?", "url": "https://github.com/Netflix/titus-control-plane/pull/795#discussion_r386517824", "createdAt": "2020-03-02T16:53:41Z", "author": {"login": "tbak"}, "path": "titus-common/src/main/java/com/netflix/titus/common/model/sanitizer/internal/AbstractConstraintValidator.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.netflix.titus.common.model.sanitizer.internal;\n+\n+import javax.validation.ConstraintValidator;\n+import javax.validation.ConstraintValidatorContext;\n+import java.lang.annotation.Annotation;\n+\n+public abstract class AbstractConstraintValidator<A extends Annotation, T> implements ConstraintValidator<A, T> {\n+\n+    @Override\n+    final public boolean isValid(T type, ConstraintValidatorContext context) {\n+        return this.isValid(type, new ConstraintValidatorContextWrapper(context));\n+    }\n+\n+    abstract public boolean isValid(T type, ConstraintValidatorContextWrapper wrapper);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDM3MjI3OnYy", "diffSide": "RIGHT", "path": "titus-common/src/main/java/com/netflix/titus/common/model/sanitizer/internal/ConstraintValidatorContextWrapper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo1NzozNlrOFwnVAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMDozNjoxOVrOFwuXPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUyMDMyMA==", "bodyText": "Replace this class with Function< String, ConstraintViolationBuilder >, and the default implementation as here?", "url": "https://github.com/Netflix/titus-control-plane/pull/795#discussion_r386520320", "createdAt": "2020-03-02T16:57:36Z", "author": {"login": "tbak"}, "path": "titus-common/src/main/java/com/netflix/titus/common/model/sanitizer/internal/ConstraintValidatorContextWrapper.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.netflix.titus.common.model.sanitizer.internal;\n+\n+import javax.validation.ConstraintValidatorContext;\n+\n+public class ConstraintValidatorContextWrapper {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYzNTU4Mg==", "bodyText": "Thank you for the feedback. Please review the updates.", "url": "https://github.com/Netflix/titus-control-plane/pull/795#discussion_r386635582", "createdAt": "2020-03-02T20:36:19Z", "author": {"login": "joshi-keyur"}, "path": "titus-common/src/main/java/com/netflix/titus/common/model/sanitizer/internal/ConstraintValidatorContextWrapper.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.netflix.titus.common.model.sanitizer.internal;\n+\n+import javax.validation.ConstraintValidatorContext;\n+\n+public class ConstraintValidatorContextWrapper {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUyMDMyMA=="}, "originalCommit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDg0NDY0OnYy", "diffSide": "RIGHT", "path": "titus-api/src/main/java/com/netflix/titus/api/jobmanager/model/job/sanitizer/SchedulingConstraintValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOToxNjowN1rOFwr5Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOToxNjowN1rOFwr5Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTE1NQ==", "bodyText": "minor: weird indentation here", "url": "https://github.com/Netflix/titus-control-plane/pull/795#discussion_r386595155", "createdAt": "2020-03-02T19:16:07Z", "author": {"login": "fabiokung"}, "path": "titus-api/src/main/java/com/netflix/titus/api/jobmanager/model/job/sanitizer/SchedulingConstraintValidator.java", "diffHunk": "@@ -66,17 +65,16 @@\n \n     @Override\n     public void initialize(SchedulingConstraint constraintAnnotation) {\n-    }\n+   }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4079, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}