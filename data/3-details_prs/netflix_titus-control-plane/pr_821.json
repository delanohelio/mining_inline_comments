{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzE1NDE2", "number": 821, "title": "Minor Improvements", "bodyText": "Description of the Change\n\nChange jobDescriptor pod annotation payload to use the json API representation.\nAdd ipv4 task attribute to be more explicit that it is an ipv4 address.\nAdd ipv6 task attribute if the container has an ipv6 address.\nAdd job id and job application name to passthrough attributes.", "createdAt": "2020-03-25T00:06:10Z", "url": "https://github.com/Netflix/titus-control-plane/pull/821", "merged": true, "mergeCommit": {"oid": "73a3963c1c21d75a10fa6b1eadae8a897fac550c"}, "closed": true, "closedAt": "2020-03-25T15:44:05Z", "author": {"login": "corindwyer"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ8BIygH2gAyMzkzMzE1NDE2OmE3Mjc0MGE3ZjQ1YWU5ODNkMDZlMTAyZmRmZTIxODNlOWRkN2NlZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRJK26AFqTM4MTI1NzU1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0", "author": {"user": {"login": "corindwyer", "name": "Corin Dwyer"}}, "url": "https://github.com/Netflix/titus-control-plane/commit/a72740a7f45ae983d06e102fdfe2183e9dd7cee0", "committedDate": "2020-03-25T00:04:25Z", "message": "change jobDescriptor annotation payload to use the json API representation\nadd explicit ipv4 task attribute\nadd ipv6 task attribute if the container has an ipv6 address\nadd job id and application to passthrough attributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNzgyMzc1", "url": "https://github.com/Netflix/titus-control-plane/pull/821#pullrequestreview-380782375", "createdAt": "2020-03-25T00:13:41Z", "commit": {"oid": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMjU3NTU5", "url": "https://github.com/Netflix/titus-control-plane/pull/821#pullrequestreview-381257559", "createdAt": "2020-03-25T15:23:40Z", "commit": {"oid": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToyMzo0MFrOF7gdXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToyMzo0MFrOF7gdXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0MjEwOA==", "bodyText": "Does it mean this field is not processed yet by VK?", "url": "https://github.com/Netflix/titus-control-plane/pull/821#discussion_r397942108", "createdAt": "2020-03-25T15:23:40Z", "author": {"login": "tbak"}, "path": "titus-server-master/src/main/java/com/netflix/titus/master/mesos/kubeapiserver/KubeUtil.java", "diffHunk": "@@ -234,8 +238,13 @@ public static String getNodeIpV4Address(V1Node node) {\n         annotations.put(\"containerInfo\", encodedContainerInfo);\n \n         if (includeJobDescriptor) {\n-            String jobDescriptorJson = CommonObjectMappers.writeValueAsString(ObjectMappers.storeMapper(), job.getJobDescriptor());\n-            annotations.put(\"jobDescriptor\", StringExt.gzipAndBase64Encode(jobDescriptorJson));\n+            JobDescriptor grpcJobDescriptor = GrpcJobManagementModelConverters.toGrpcJobDescriptor(job.getJobDescriptor());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 488, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}