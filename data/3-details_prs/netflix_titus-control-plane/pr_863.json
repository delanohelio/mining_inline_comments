{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5MDc0NTA3", "number": 863, "title": "Support remote data plane region", "bodyText": "Description of the Change\nAn aws configuration property is added for data plane region. When set, this property drives the AWS region the agent resources are fetched from. Otherwise, we fallback to default behavior.", "createdAt": "2020-06-06T09:04:48Z", "url": "https://github.com/Netflix/titus-control-plane/pull/863", "merged": true, "mergeCommit": {"oid": "c5b6038c18eb4770a66c0fc0124bf1bf1f429c26"}, "closed": true, "closedAt": "2020-06-08T20:12:41Z", "author": {"login": "joshi-keyur"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcI5v8dAH2gAyNDI5MDc0NTA3Ojk3N2JkZGM3YmZlYWVhY2MzM2QxNWI4MjE1N2FmZjk1YTZmOWI0OGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpTm-ugFqTQyNjQ0MzY2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "977bddc7bfeaeacc33d15b82157aff95a6f9b48f", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/977bddc7bfeaeacc33d15b82157aff95a6f9b48f", "committedDate": "2020-02-29T00:54:26Z", "message": "Refactoring ConstraintValidators to sanitize violation message so it is not an EL expression"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/59b0d7d80b1dc3c194b5e7b59d2dff898514cc8c", "committedDate": "2020-02-29T01:35:15Z", "message": "Merge pull request #3 from joshi-keyur/VUL-1981/sanitize-violation-message\n\nRefactoring ConstraintValidators to sanitize violation message templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b10fc85d64c5ae72663a0de03d3d48bf916af138", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/b10fc85d64c5ae72663a0de03d3d48bf916af138", "committedDate": "2020-03-02T20:35:03Z", "message": "Replacing the Wrapper class with a Function which sanitizes the string message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eb082394c84d191cc6de9318260b5866ae0ea3f", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/9eb082394c84d191cc6de9318260b5866ae0ea3f", "committedDate": "2020-03-03T19:24:20Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eebceece71c91139503a318afc7ebeeb678ed356", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/eebceece71c91139503a318afc7ebeeb678ed356", "committedDate": "2020-03-03T22:20:36Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb750fa731641fd1538b2b8057146c114509a858", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/bb750fa731641fd1538b2b8057146c114509a858", "committedDate": "2020-03-11T00:15:42Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e88f776c66c32702286e2ad3e9b1a5888c388804", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/e88f776c66c32702286e2ad3e9b1a5888c388804", "committedDate": "2020-03-16T00:47:46Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "205853bb81846f2fa265db2570d392cdcbc54326", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/205853bb81846f2fa265db2570d392cdcbc54326", "committedDate": "2020-03-31T21:47:21Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9737864bccf7114edbb2ab78e0028f483ad613fb", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/9737864bccf7114edbb2ab78e0028f483ad613fb", "committedDate": "2020-04-10T23:31:27Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ab2af94f2e309ccae885329c53b92f7b68e724c", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/4ab2af94f2e309ccae885329c53b92f7b68e724c", "committedDate": "2020-04-14T00:45:06Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a3d0749cd9ff5ac92bebce1c49d275ace83f3d2", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/2a3d0749cd9ff5ac92bebce1c49d275ace83f3d2", "committedDate": "2020-04-14T19:45:50Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2acb17cade27bce3a36dc7d03f7ed98d831a0cf4", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/2acb17cade27bce3a36dc7d03f7ed98d831a0cf4", "committedDate": "2020-04-14T23:40:02Z", "message": "WIP: Introduce schedulerName to ApplicationSLA and use default scheduler value \"fenzo\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26d9906ff53d600ac8b7aeb6ff739b58be4f7f24", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/26d9906ff53d600ac8b7aeb6ff739b58be4f7f24", "committedDate": "2020-04-15T23:56:07Z", "message": "PR review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4c2f61677fbcf244420437b2a9c64dbc9a2f3ec", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/b4c2f61677fbcf244420437b2a9c64dbc9a2f3ec", "committedDate": "2020-04-16T17:03:04Z", "message": "Fixed typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa13bb987e90b423cf4ca08b20572c7b2ed64493", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/fa13bb987e90b423cf4ca08b20572c7b2ed64493", "committedDate": "2020-04-17T21:37:17Z", "message": "Handle updates by removing previous instance from the scheduler cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21fe05c2b85279e2c3943cc593a4703c5d015397", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/21fe05c2b85279e2c3943cc593a4703c5d015397", "committedDate": "2020-04-17T21:39:24Z", "message": "Additional tests for find-by-scheduler and update operations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4d1e147bb2ff7ffa077ccfa13b1a379f1966472", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/f4d1e147bb2ff7ffa077ccfa13b1a379f1966472", "committedDate": "2020-04-17T21:44:55Z", "message": "Merge pull request #4 from joshi-keyur/ApplicationSLA-model-extension\n\nAdd schedulerName attribute to ApplicationSLA and supporting API changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c667ac71a53d71d8a07884a4721d157e50e57b6e", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/c667ac71a53d71d8a07884a4721d157e50e57b6e", "committedDate": "2020-04-18T00:25:21Z", "message": "Removing Jackson annotations and moving to ApplicationSlaMixIn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "960dc44d5704b1a667bbf1e4b1a47a650ebed680", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/960dc44d5704b1a667bbf1e4b1a47a650ebed680", "committedDate": "2020-04-21T06:22:33Z", "message": "Added error logging and more integration tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c93df457a58c4cc7018e8b4f2f2fb2ca2c67182", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/5c93df457a58c4cc7018e8b4f2f2fb2ca2c67182", "committedDate": "2020-04-21T07:18:49Z", "message": "Partially reverting the change to fix broken integration tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e97936e821c5d5ce8872eecebfbd1dd84ac08374", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/e97936e821c5d5ce8872eecebfbd1dd84ac08374", "committedDate": "2020-04-22T04:43:20Z", "message": "Removing TODO comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b0271e79d4277cd2e30b1e74adf7b1f0acb102", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/e7b0271e79d4277cd2e30b1e74adf7b1f0acb102", "committedDate": "2020-04-22T22:24:20Z", "message": "Formatting changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bf829749eebe77a903db8d388c49f696be40d85", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/3bf829749eebe77a903db8d388c49f696be40d85", "committedDate": "2020-05-19T05:07:54Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2063e96091b71807f0cc15a0cd24cd4df236cbd", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/b2063e96091b71807f0cc15a0cd24cd4df236cbd", "committedDate": "2020-06-01T21:01:51Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "439b60f1d576cb9231a506e949aeff6488736acd", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/439b60f1d576cb9231a506e949aeff6488736acd", "committedDate": "2020-06-06T08:52:30Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/2674e899826b894de29f4eab59ae47fbd9a9e027", "committedDate": "2020-06-06T08:58:27Z", "message": "Support for remote data plane region"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MzYzNzkz", "url": "https://github.com/Netflix/titus-control-plane/pull/863#pullrequestreview-426363793", "createdAt": "2020-06-08T15:35:14Z", "commit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNTozNToxNFrOGgkLvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNTozNToxNFrOGgkLvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgwMDQ0NQ==", "bodyText": "This code looks identical in all provider classes. We should move it to a utility class and share one implementation.", "url": "https://github.com/Netflix/titus-control-plane/pull/863#discussion_r436800445", "createdAt": "2020-06-08T15:35:14Z", "author": {"login": "tbak"}, "path": "titus-ext/aws/src/main/java/com/netflix/titus/ext/aws/AmazonAutoScalingAsyncProvider.java", "diffHunk": "@@ -33,7 +34,11 @@\n \n     @Inject\n     public AmazonAutoScalingAsyncProvider(AwsConfiguration configuration, AWSCredentialsProvider credentialProvider) {\n-        String region = configuration.getRegion().trim().toLowerCase();\n+        String region = configuration.getDataPlaneRegion().trim().toLowerCase();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2Mzg3MzUw", "url": "https://github.com/Netflix/titus-control-plane/pull/863#pullrequestreview-426387350", "createdAt": "2020-06-08T16:00:39Z", "commit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNjowMDozOVrOGglRhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNjowMTowM1rOGglSsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgxODMwOA==", "bodyText": "like above, this logic appears many times.", "url": "https://github.com/Netflix/titus-control-plane/pull/863#discussion_r436818308", "createdAt": "2020-06-08T16:00:39Z", "author": {"login": "corindwyer"}, "path": "titus-ext/aws/src/main/java/com/netflix/titus/ext/aws/AmazonClientProvider.java", "diffHunk": "@@ -34,7 +35,10 @@ public AmazonElasticLoadBalancingAsync getLoadBalancingClient(String accountId)\n             synchronized (this) {\n                 client = loadBalancerClients.get(accountId);\n                 if (client == null) {\n-                    String region = configuration.getRegion().trim().toLowerCase();\n+                    String region = configuration.getDataPlaneRegion().trim().toLowerCase();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgxODYwOA==", "bodyText": "same as above", "url": "https://github.com/Netflix/titus-control-plane/pull/863#discussion_r436818608", "createdAt": "2020-06-08T16:01:03Z", "author": {"login": "corindwyer"}, "path": "titus-ext/aws/src/main/java/com/netflix/titus/ext/aws/AmazonEC2AsyncProvider.java", "diffHunk": "@@ -33,7 +34,11 @@\n \n     @Inject\n     public AmazonEC2AsyncProvider(AwsConfiguration configuration, AWSCredentialsProvider credentialProvider) {\n-        String region = configuration.getRegion().trim().toLowerCase();\n+        String region = configuration.getDataPlaneRegion().trim().toLowerCase();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2674e899826b894de29f4eab59ae47fbd9a9e027"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a254fb373c5b027649f6c3217c96f8ac1606308", "author": {"user": {"login": "joshi-keyur", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/7a254fb373c5b027649f6c3217c96f8ac1606308", "committedDate": "2020-06-08T16:18:57Z", "message": "Add util class for resolving data plane region"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDA2MjY0", "url": "https://github.com/Netflix/titus-control-plane/pull/863#pullrequestreview-426406264", "createdAt": "2020-06-08T16:22:31Z", "commit": {"oid": "7a254fb373c5b027649f6c3217c96f8ac1606308"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDQzNjY2", "url": "https://github.com/Netflix/titus-control-plane/pull/863#pullrequestreview-426443666", "createdAt": "2020-06-08T17:07:45Z", "commit": {"oid": "7a254fb373c5b027649f6c3217c96f8ac1606308"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 529, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}