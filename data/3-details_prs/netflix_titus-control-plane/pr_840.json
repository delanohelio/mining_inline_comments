{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NTYxNTMy", "number": 840, "title": "Change task dependency rules to avoid issues caused by the recent gradle upgrade", "bodyText": "protobuf tasks are now created lazily which broke the previous override rule setup", "createdAt": "2020-04-22T21:37:45Z", "url": "https://github.com/Netflix/titus-control-plane/pull/840", "merged": true, "mergeCommit": {"oid": "138c8592e1c875b531179b604e0c62a4db88b054"}, "closed": true, "closedAt": "2020-04-22T22:07:07Z", "author": {"login": "tbak"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaPRmngH2gAyNDA3NTYxNTMyOjUwMDc5ZmY3OGNhNDViOGU5ZjUzYjk4MTc4ZjRhMTYxNzgwOTEwNzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaPnOaAFqTM5ODYyMDQ2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50079ff78ca45b8e9f53b98178f4a16178091073", "author": {"user": {"login": "tbak", "name": null}}, "url": "https://github.com/Netflix/titus-control-plane/commit/50079ff78ca45b8e9f53b98178f4a16178091073", "committedDate": "2020-04-22T21:35:55Z", "message": "Change task dependency rules to avoid issues caused by the recent gradle upgrade"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjExMTIy", "url": "https://github.com/Netflix/titus-control-plane/pull/840#pullrequestreview-398611122", "createdAt": "2020-04-22T21:42:05Z", "commit": {"oid": "50079ff78ca45b8e9f53b98178f4a16178091073"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMTo0MjowNVrOGKNFZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMTo0MjowNVrOGKNFZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM1MzMxOQ==", "bodyText": "could this be done inside the gradle JVM instead of shelling out here? Shelling out has all sorts of implications and assumptions about where it is running\nE.g.: https://docs.gradle.org/current/userguide/working_with_files.html#sec:moving_files_example or directly registering a task of type: Copy instead of type: Exec", "url": "https://github.com/Netflix/titus-control-plane/pull/840#discussion_r413353319", "createdAt": "2020-04-22T21:42:05Z", "author": {"login": "fabiokung"}, "path": "titus-common-grpc-api/build.gradle", "diffHunk": "@@ -22,13 +22,11 @@ dependencies {\n }\n \n if (project.hasProperty(\"idlLocal\")) {\n-    task extractProto {\n-        doLast {\n-            copy {\n-                from '../../titus-api-definitions/src/main/proto'\n-                into new File(buildDir, \"extracted-protos/main\")\n-            }\n-        }\n+    tasks.register('copyProtos', Exec) {\n+        commandLine \"/bin/bash\", \"-c\", \"cp -R \" + new File(buildDir, '../../../titus-api-definitions/src/main/proto/netflix')  + \" \" + new File(buildDir, \"extracted-protos/main\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50079ff78ca45b8e9f53b98178f4a16178091073"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjE5NzQ0", "url": "https://github.com/Netflix/titus-control-plane/pull/840#pullrequestreview-398619744", "createdAt": "2020-04-22T21:58:13Z", "commit": {"oid": "50079ff78ca45b8e9f53b98178f4a16178091073"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjIwNDYy", "url": "https://github.com/Netflix/titus-control-plane/pull/840#pullrequestreview-398620462", "createdAt": "2020-04-22T21:59:32Z", "commit": {"oid": "50079ff78ca45b8e9f53b98178f4a16178091073"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 502, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}