{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMTI3OTIx", "number": 1488, "title": "Make encoding profiles support odd widths/heights", "bodyText": "Your pull request should\u2026\n\n have a concise title\n close an accompanying issue if one exists\n be against the correct branch (features can only go into develop)\n include migration scripts and documentation, if appropriate\n pass automated testing\n have a clean commit history\n have proper commit messages (title and body) for all commits\n have appropriate tags applied\n\nFixes #1486", "createdAt": "2020-03-24T17:04:46Z", "url": "https://github.com/opencast/opencast/pull/1488", "merged": true, "mergeCommit": {"oid": "5fa79e3d531dee6cbc3c5aed2dc2dce8910e668f"}, "closed": true, "closedAt": "2020-03-26T12:44:19Z", "author": {"login": "t-schroeder"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ4aSYAFqTM4MDY0Njk0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRZkJNABqjMxNjc2MTM5NDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNjQ2OTQ0", "url": "https://github.com/opencast/opencast/pull/1488#pullrequestreview-380646944", "createdAt": "2020-03-24T19:52:15Z", "commit": {"oid": "3850dcd85d1e241391db756933b982ea573864b4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTo1MjoxNVrOF7AoNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTo1MjoxNVrOF7AoNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyMDU5OQ==", "bodyText": "Wouldn't force_original_aspect_ratio=decrease and force_divisible_by=2 make way more sense than chaining two scale filters? I know that the latter option is somewhat new but the release of 9.x is also quite some time off.\nEssentially:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              -filter:v crop='floor(iw/2)*2:floor(ih/2)*2',scale='-2:min(ih\\\\,1080)',fps=fps=25 \\\n          \n          \n            \n              -filter:v scale=1920:1080:force_original_aspect_ratio=decrease:force_divisible_by=2,fps=25 \\", "url": "https://github.com/opencast/opencast/pull/1488#discussion_r397420599", "createdAt": "2020-03-24T19:52:15Z", "author": {"login": "lkiesow"}, "path": "etc/encoding/adaptive-streaming-movies.properties", "diffHunk": "@@ -40,7 +40,7 @@ profile.adaptive-1080p.http.suffix = -preview.mp4\n profile.adaptive-1080p.http.ffmpeg.command = -i #{in.video.path} \\\n   -c:v libx264 -crf 23 -maxrate 4000k -bufsize 8000k -profile:v high -level 4.0 -pix_fmt yuv420p \\\n   -x264opts keyint=25:min-keyint=25:no-scenecut -movflags +faststart \\\n-  -filter:v scale='-2:min(ih\\\\,1080)',fps=fps=25 \\\n+  -filter:v crop='floor(iw/2)*2:floor(ih/2)*2',scale='-2:min(ih\\\\,1080)',fps=fps=25 \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3850dcd85d1e241391db756933b982ea573864b4"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe284cd63f8f9d5e01d91c9b36189827a128f1fc", "author": {"user": {"login": "t-schroeder", "name": "Tim Schroeder"}}, "url": "https://github.com/opencast/opencast/commit/fe284cd63f8f9d5e01d91c9b36189827a128f1fc", "committedDate": "2020-03-26T10:27:28Z", "message": "Make encoding profiles support odd widths/heights"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3850dcd85d1e241391db756933b982ea573864b4", "author": {"user": {"login": "t-schroeder", "name": "Tim Schroeder"}}, "url": "https://github.com/opencast/opencast/commit/3850dcd85d1e241391db756933b982ea573864b4", "committedDate": "2020-03-24T17:02:11Z", "message": "Make encoding profiles support odd widths/heights"}, "afterCommit": {"oid": "fe284cd63f8f9d5e01d91c9b36189827a128f1fc", "author": {"user": {"login": "t-schroeder", "name": "Tim Schroeder"}}, "url": "https://github.com/opencast/opencast/commit/fe284cd63f8f9d5e01d91c9b36189827a128f1fc", "committedDate": "2020-03-26T10:27:28Z", "message": "Make encoding profiles support odd widths/heights"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1928, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}