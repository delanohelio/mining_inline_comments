{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5Mzc4OTc3", "number": 1858, "title": "User and role provider for Canvas LMS", "bodyText": "This PR provide user and role provider for Canvas LMS.\nThe structure of the code borrows ideas from userdirectory-sakai, and have some additional features.\n\nTake advantage of #1814, provide default values for config file. Only two properties are enough for setting up.\nRestrict the LTI roles to sites which can be accessed by the current user.\nUsing annotation to register bundle instead of using XML file.\n\nNote, #1814 is included as a commit in this PR.\n\n have a concise title\n close an accompanying issue if one exists\n be against the correct branch (features can only go into develop)\n include migration scripts and documentation, if appropriate\n pass automated testing\n have a clean commit history\n have proper commit messages (title and body) for all commits\n have appropriate tags applied", "createdAt": "2020-09-18T15:11:44Z", "url": "https://github.com/opencast/opencast/pull/1858", "merged": true, "mergeCommit": {"oid": "c2a296d814aad5bcfb38bed2feb20a1817cd7805"}, "closed": true, "closedAt": "2020-10-05T13:03:41Z", "author": {"login": "Gao-Jun"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKG81EgH2gAyNDg5Mzc4OTc3OjZjYmNmNmUzYmJiMWU2YjAwZGFhN2MyYmEyYzg4ZmUxNzRjMmQ2Mjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOom3pAFqTUwMTEzNTM1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6cbcf6e3bbb1e6b00daa7c2ba2c88fe174c2d627", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/6cbcf6e3bbb1e6b00daa7c2ba2c88fe174c2d627", "committedDate": "2020-09-18T15:02:21Z", "message": "Add a 'defaultValue' to getComponentContextProperty"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84decdd4ff9524ce5f3fe03f19ebaed93b0b13bc", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/84decdd4ff9524ce5f3fe03f19ebaed93b0b13bc", "committedDate": "2020-09-18T15:02:34Z", "message": "User and role provider for Canvas LMS"}, "afterCommit": {"oid": "781529f6ccb7564aa0cba9fded4afb4160078b68", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/781529f6ccb7564aa0cba9fded4afb4160078b68", "committedDate": "2020-09-18T16:00:02Z", "message": "User and role provider for Canvas LMS\n\n\nUser and role provider for Canvas LMS"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2629897908a0c12b2f41e1d925d6f3a1263d44f7", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/2629897908a0c12b2f41e1d925d6f3a1263d44f7", "committedDate": "2020-09-19T07:53:45Z", "message": "User and role provider for Canvas LMS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "781529f6ccb7564aa0cba9fded4afb4160078b68", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/781529f6ccb7564aa0cba9fded4afb4160078b68", "committedDate": "2020-09-18T16:00:02Z", "message": "User and role provider for Canvas LMS\n\n\nUser and role provider for Canvas LMS"}, "afterCommit": {"oid": "2629897908a0c12b2f41e1d925d6f3a1263d44f7", "author": {"user": {"login": "Gao-Jun", "name": "Gao Jun"}}, "url": "https://github.com/opencast/opencast/commit/2629897908a0c12b2f41e1d925d6f3a1263d44f7", "committedDate": "2020-09-19T07:53:45Z", "message": "User and role provider for Canvas LMS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTM1MzUw", "url": "https://github.com/opencast/opencast/pull/1858#pullrequestreview-501135350", "createdAt": "2020-10-02T13:29:40Z", "commit": {"oid": "2629897908a0c12b2f41e1d925d6f3a1263d44f7"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzoyOTo0MFrOHbtqvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjoxNDo0M1rOHbzjNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyMTgyMw==", "bodyText": "CouRseID_Learner\nI'll fix this at merge time.", "url": "https://github.com/opencast/opencast/pull/1858#discussion_r498821823", "createdAt": "2020-10-02T13:29:40Z", "author": {"login": "gregorydlogan"}, "path": "docs/guides/admin/docs/configuration/security.user.canvas.md", "diffHunk": "@@ -0,0 +1,71 @@\n+### What it does\n+\n+The [Canvas LMS](https://www.instructure.com/canvas/) User Provider enriches Opencast users\n+with a set of roles made up of the user's membership in Canvas sites, of the form\n+SITEID_Role. For example, an Opencast user who is also a Canvas user and a member\n+of the Canvas site `CourseID` with the Canvas role `Student` will be granted the\n+Opencast role `CouseID_Learner`. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2629897908a0c12b2f41e1d925d6f3a1263d44f7"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxODE5OA==", "bodyText": "It might be a good idea to clarify in the docs that this provider only supports a single organization.  IOW if you are hosting multiple orgs then you can only have one hooked up to Canvas.", "url": "https://github.com/opencast/opencast/pull/1858#discussion_r498918198", "createdAt": "2020-10-02T16:14:43Z", "author": {"login": "gregorydlogan"}, "path": "etc/org.opencastproject.userdirectory.canvas.CanvasUserRoleProvider.cfg.template", "diffHunk": "@@ -0,0 +1,29 @@\n+# Canvas UserDirectoryProvider configuration\n+\n+# This is an an optional service which is not enabled by default. To enable it,\n+# edit etc/org.apache.karaf.features.cfg and add opencast-canvas to the featuresBoot option.\n+\n+# The organization for this provider\n+# default: mh_default_org\n+org.opencastproject.userdirectory.canvas.org=mh_default_org", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2629897908a0c12b2f41e1d925d6f3a1263d44f7"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1836, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}