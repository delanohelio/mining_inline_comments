{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxOTA1MTk0", "number": 1594, "title": "Fix Calculation of Aspect Ratio", "bodyText": "This patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player.\nTo test this, you can use the following workflow to directly publish an audio file:\n\nhttps://data.lkiesow.io/opencast/publish-audio.xml\n\nYour pull request should\u2026\n\n have a concise title\n close an accompanying issue if one exists\n be against the correct branch (features can only go into develop)\n include migration scripts and documentation, if appropriate\n pass automated testing\n have a clean commit history\n have proper commit messages (title and body) for all commits\n have appropriate tags applied", "createdAt": "2020-05-22T12:59:00Z", "url": "https://github.com/opencast/opencast/pull/1594", "merged": true, "mergeCommit": {"oid": "bb31c8a363aef0f62d05a9c7525f268dd8770204"}, "closed": true, "closedAt": "2020-05-22T16:09:38Z", "author": {"login": "lkiesow"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj0BeDAFqTQxNzAwMDkzNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcj0aleABqjMzNjUyODYxMDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDAwOTM0", "url": "https://github.com/opencast/opencast/pull/1594#pullrequestreview-417000934", "createdAt": "2020-05-22T15:30:06Z", "commit": {"oid": "ec752332e7d353d39b060d2b3fe49218454cee71"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTozMDowNlrOGZbTUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTozMDowNlrOGZbTUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNDg5Nw==", "bodyText": "This conditional check on aspectRatio looks useful in that it makes sure aspectRatio exists before attempting to extract attribute 1 and 2 from  it. The additional \"aspectRatio[2]\" check does not appear to be useful, because it throws an exception, as before, when aspectRatio does have an attribute number 2  (zero is never used on this object?).", "url": "https://github.com/opencast/opencast/pull/1594#discussion_r429314897", "createdAt": "2020-05-22T15:30:06Z", "author": {"login": "karendolan"}, "path": "modules/engage-theodul-plugin-video-videojs/src/main/resources/static/main.js", "diffHunk": "@@ -969,7 +969,7 @@ define(['require', 'jquery', 'underscore', 'backbone', 'basil', 'bowser', 'engag\n   }\n \n   Engage.on(plugin.events.aspectRatioSet.getName(), function (param) {\n-    if (param === undefined) {\n+    if (param === undefined && aspectRatio && aspectRatio[2]) {\n       Engage.trigger(plugin.events.aspectRatioSet.getName(), [aspectRatio[1], aspectRatio[2], (aspectRatio[1] / aspectRatio[2]) * 100]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec752332e7d353d39b060d2b3fe49218454cee71"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26a7904f946dbbee4c79dd264638f796f60e8ab5", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/26a7904f946dbbee4c79dd264638f796f60e8ab5", "committedDate": "2020-05-22T15:57:07Z", "message": "Fix Calculation of Aspect Ratio\n\nThis patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec752332e7d353d39b060d2b3fe49218454cee71", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/ec752332e7d353d39b060d2b3fe49218454cee71", "committedDate": "2020-05-22T12:55:27Z", "message": "Fix Calculation of Aspect Ratio\n\nThis patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player."}, "afterCommit": {"oid": "26a7904f946dbbee4c79dd264638f796f60e8ab5", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/26a7904f946dbbee4c79dd264638f796f60e8ab5", "committedDate": "2020-05-22T15:57:07Z", "message": "Fix Calculation of Aspect Ratio\n\nThis patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1890, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}