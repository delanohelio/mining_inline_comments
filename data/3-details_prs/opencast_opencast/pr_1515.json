{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjI5NTIy", "number": 1515, "title": "Studio-upload workflow should generate search preview images", "bodyText": "The search preview image generation tasks are missing in the studio-upload workflow. These images are used by media module and especially the LTI series tool.\nAlso the player preview images should be generated in higher resolution in general.\nYour pull request should\u2026\n\n have a concise title\n close an accompanying issue if one exists\n be against the correct branch (features can only go into develop)\n include migration scripts and documentation, if appropriate\n pass automated testing\n have a clean commit history\n have proper commit messages (title and body) for all commits\n have appropriate tags applied", "createdAt": "2020-04-09T20:29:46Z", "url": "https://github.com/opencast/opencast/pull/1515", "merged": true, "mergeCommit": {"oid": "30466bfd490df4df69999dcb50367699652f1afb"}, "closed": true, "closedAt": "2020-04-23T16:42:05Z", "author": {"login": "wsmirnow"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWCCrUgH2gAyNDAxNjI5NTIyOmMzNzQ4MzQ3YzNjMDhkNTRhMWQwZTIzNmI0YTkzZjYyMDdiYTkyNDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWD9liAH2gAyNDAxNjI5NTIyOmY2ODJiM2VlMGQ4NTMyYzliM2ZjNTI4OWMxMjQ1Y2Y1ZWY1NTkzZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c3748347c3c08d54a1d0e236b4a93f6207ba9244", "author": {"user": {"login": "wsmirnow", "name": "Waldemar Smirnow"}}, "url": "https://github.com/opencast/opencast/commit/c3748347c3c08d54a1d0e236b4a93f6207ba9244", "committedDate": "2020-04-09T19:55:09Z", "message": "studio-upload workflow should generate search preview images\n\nThe search preview image generation tasks are missing in the studio-upload workflow. These images are used by media module and especially the LTI series tool.\nAlso the player preview images should be generated in higher resolution in general."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMTE2MDk5", "url": "https://github.com/opencast/opencast/pull/1515#pullrequestreview-391116099", "createdAt": "2020-04-09T20:39:55Z", "commit": {"oid": "c3748347c3c08d54a1d0e236b4a93f6207ba9244"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQyMDozOTo1NVrOGDomCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQyMDo0NDoxNlrOGDoucA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NDAwOQ==", "bodyText": "indentation", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406464009", "createdAt": "2020-04-09T20:39:55Z", "author": {"login": "lkiesow"}, "path": "etc/workflows/studio-upload.xml", "diffHunk": "@@ -214,72 +216,74 @@\n       </configurations>\n     </operation>\n \n-    <!-- Encode to engage player preview images -->\n+    <!-- Encode to engage search result thumbnails -->\n \n     <operation\n-        id=\"image\"\n-        exception-handler-workflow=\"partial-error\"\n-        description=\"Creating player preview image\">\n+      id=\"image\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3748347c3c08d54a1d0e236b4a93f6207ba9244"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NjE2MA==", "bodyText": "That's not what this is doing but more than that, why not create the correct flavor in the first place? It doesn't really make sense to move it just after creating it.", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406466160", "createdAt": "2020-04-09T20:44:16Z", "author": {"login": "lkiesow"}, "path": "etc/workflows/studio-upload.xml", "diffHunk": "@@ -214,72 +216,74 @@\n       </configurations>\n     </operation>\n \n-    <!-- Encode to engage player preview images -->\n+    <!-- Encode to engage search result thumbnails -->\n \n     <operation\n-        id=\"image\"\n-        exception-handler-workflow=\"partial-error\"\n-        description=\"Creating player preview image\">\n+      id=\"image\"\n+      exception-handler-workflow=\"partial-error\"\n+      description=\"Creating search result default thumbnails\">\n       <configurations>\n-        <configuration key=\"source-flavor\">*/prepared</configuration>\n-        <configuration key=\"target-flavor\">*/player+preview</configuration>\n+        <configuration key=\"source-flavors\">*/prepared</configuration>\n+        <configuration key=\"target-flavor\">*/search+preview</configuration>\n         <configuration key=\"target-tags\">engage-download</configuration>\n-        <configuration key=\"encoding-profile\">player-preview.http</configuration>\n+        <configuration key=\"encoding-profile\">search-cover.http</configuration>\n         <configuration key=\"time\">1</configuration>\n       </configurations>\n     </operation>\n \n-    <!-- Encode to feed cover images -->\n+    <!-- Encode to engage player preview images -->\n \n     <operation\n         id=\"image\"\n         exception-handler-workflow=\"partial-error\"\n-        description=\"Creating feed cover image\">\n+        description=\"Creating player preview image\">\n       <configurations>\n-        <configuration key=\"source-flavor\">*/prepared</configuration>\n-        <configuration key=\"source-tags\"></configuration>\n-        <configuration key=\"target-flavor\">*/feed+preview</configuration>\n-        <configuration key=\"target-tags\">atom,rss</configuration>\n-        <configuration key=\"encoding-profile\">feed-cover.http</configuration>\n+        <configuration key=\"source-flavors\">*/prepared</configuration>\n+        <configuration key=\"target-flavor\">*/player+preview</configuration>\n+        <configuration key=\"target-tags\">engage-download</configuration>\n+        <configuration key=\"encoding-profile\">player-preview.http</configuration>\n         <configuration key=\"time\">1</configuration>\n       </configurations>\n     </operation>\n \n-    <!-- Create a cover image with the default template -->\n-\n     <operation\n         id=\"tag\"\n-        description=\"Removing unneeded presenter-cover from download publication\">\n+        exception-handler-workflow=\"partial-error\"\n+        description=\"Tagging source material for archival\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3748347c3c08d54a1d0e236b4a93f6207ba9244"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f682b3ee0d8532c9b3fc5289c1245cf5ef5593e0", "author": {"user": {"login": "wsmirnow", "name": "Waldemar Smirnow"}}, "url": "https://github.com/opencast/opencast/commit/f682b3ee0d8532c9b3fc5289c1245cf5ef5593e0", "committedDate": "2020-04-09T22:09:24Z", "message": "Review comments solved"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1870, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}