{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MTI1Mzg4", "number": 2049, "title": "Endtime of segments fixed in the editor", "bodyText": "fixes #2021\nAdded a check to the \"segment update\" function in the editor. If the endtime of a segment is larger than the total duration of the video, it will be set to the end of the video.", "createdAt": "2020-11-05T15:02:01Z", "url": "https://github.com/opencast/opencast/pull/2049", "merged": true, "mergeCommit": {"oid": "1a221000150f6474c42beae79494c3ab30c59136"}, "closed": true, "closedAt": "2020-12-09T19:36:51Z", "author": {"login": "marwyg"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZjw_mABqjM5NjI4NjI3MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiiblrABqjQwNjcyNTM3NzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56669ecc4fffaa51532f89563f3a9e57ae3ad3d4", "author": {"user": null}, "url": "https://github.com/opencast/opencast/commit/56669ecc4fffaa51532f89563f3a9e57ae3ad3d4", "committedDate": "2020-11-05T14:50:51Z", "message": "Endtime of segments fixed in the editor"}, "afterCommit": {"oid": "ddff20e03c4d522253b0fa0708d5a8235ef4e1c0", "author": {"user": null}, "url": "https://github.com/opencast/opencast/commit/ddff20e03c4d522253b0fa0708d5a8235ef4e1c0", "committedDate": "2020-11-05T15:05:06Z", "message": "Endtime of segments fixed in the editor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyOTE0MTM1", "url": "https://github.com/opencast/opencast/pull/2049#pullrequestreview-532914135", "createdAt": "2020-11-18T00:07:43Z", "commit": {"oid": "ddff20e03c4d522253b0fa0708d5a8235ef4e1c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwMDowNzo0M1rOH1QjqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwMDowNzo0M1rOH1QjqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTYwNzg0OQ==", "bodyText": "Could this be added to the loop before it? Is there any issue that \"segment.endTime\" will still be old time that is greater than scope.video.duration? In other words, should the \"if\" check happen before segment.endTime is assigned?", "url": "https://github.com/opencast/opencast/pull/2049#discussion_r525607849", "createdAt": "2020-11-18T00:07:43Z", "author": {"login": "karendolan"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/directives/segmentsDirective.js", "diffHunk": "@@ -181,6 +181,11 @@ angular.module('adminNg.directives')\n              * Make sure that times are updates if needed.\n              */\n         scope.$root.$on('segmentTimesUpdated', function () {\n+          angular.forEach(scope.video.segments, function (segment) {\n+            if (segment.end > scope.video.duration) {\n+              segment.end = scope.video.duration;\n+            }\n+          });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddff20e03c4d522253b0fa0708d5a8235ef4e1c0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d7748e483e6022792c413c92685b8c91687ae26", "author": {"user": null}, "url": "https://github.com/opencast/opencast/commit/1d7748e483e6022792c413c92685b8c91687ae26", "committedDate": "2020-12-03T12:37:01Z", "message": "Endtime of segments fixed in the editor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ddff20e03c4d522253b0fa0708d5a8235ef4e1c0", "author": {"user": null}, "url": "https://github.com/opencast/opencast/commit/ddff20e03c4d522253b0fa0708d5a8235ef4e1c0", "committedDate": "2020-11-05T15:05:06Z", "message": "Endtime of segments fixed in the editor"}, "afterCommit": {"oid": "1d7748e483e6022792c413c92685b8c91687ae26", "author": {"user": null}, "url": "https://github.com/opencast/opencast/commit/1d7748e483e6022792c413c92685b8c91687ae26", "committedDate": "2020-12-03T12:37:01Z", "message": "Endtime of segments fixed in the editor"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1736, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}