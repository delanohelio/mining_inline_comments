{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMTUzNjAz", "number": 1636, "title": "Support Serverless HLS", "bodyText": "This is a rough pull request for serverless HLS.\nIt has been tested with ffmpeg 4.2.3, but it should work with 4.1.x.\nThe demo workflow is fast-HLS.xml.\nI changed paella to ignore mp4s if there is a master playlist, which may not be the correct behavior if you want to allow users to play mp4s as well as HLS.", "createdAt": "2020-06-10T01:56:38Z", "url": "https://github.com/opencast/opencast/pull/1636", "merged": true, "mergeCommit": {"oid": "812f0d7da28ec870fb98fa4f89fc54853823467f"}, "closed": true, "closedAt": "2020-09-29T15:32:21Z", "author": {"login": "phoebem"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcptTqfgH2gAyNDMyMTUzNjAzOmZjY2E0OGY2Yjg4N2JlMDA5Y2E2NDFkMDY0YWYyMmEzZTMzM2IzNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNp-EKgFqTQ5ODYxOTM1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcca48f6b887be009ca641d064af22a3e333b367", "author": {"user": {"login": "phoebem", "name": "phoebe miller"}}, "url": "https://github.com/opencast/opencast/commit/fcca48f6b887be009ca641d064af22a3e333b367", "committedDate": "2020-06-09T23:04:11Z", "message": "Serverless HLS\n\n- AdaptivePlaylist track creation and manipulation\n- Adjustment of some workflows to accept source-tags\n- FFmpeg encoding profiles tested on ffmpeg 4.2.3 (requires 4.1+)\n- Composer changes to encode HLS with ffmpeg\n- Encoding profile changes to accept manifest type and mimetype\n- Inspection changes to inspect playlists and add metadata\n- FastHLS.xml as demo workflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6992190d1a6c340dc97482647a6049de67af8abe", "author": {"user": {"login": "phoebem", "name": "phoebe miller"}}, "url": "https://github.com/opencast/opencast/commit/6992190d1a6c340dc97482647a6049de67af8abe", "committedDate": "2020-06-09T23:44:59Z", "message": "Formating and truncated video files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1426448420a7b4cee7ec0c6d307712cf2c89cdc", "author": {"user": {"login": "phoebem", "name": "phoebe miller"}}, "url": "https://github.com/opencast/opencast/commit/a1426448420a7b4cee7ec0c6d307712cf2c89cdc", "committedDate": "2020-06-10T15:06:15Z", "message": "space"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec69541ce21ecafa06e7720d37bf6811fbb9a58c", "author": {"user": {"login": "phoebem", "name": "phoebe miller"}}, "url": "https://github.com/opencast/opencast/commit/ec69541ce21ecafa06e7720d37bf6811fbb9a58c", "committedDate": "2020-06-10T19:52:54Z", "message": "javadoc changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDUzMzM2", "url": "https://github.com/opencast/opencast/pull/1636#pullrequestreview-434053336", "createdAt": "2020-06-19T12:54:33Z", "commit": {"oid": "ec69541ce21ecafa06e7720d37bf6811fbb9a58c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjo1NDozM1rOGmTzHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjo1NDozM1rOGmTzHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjgyMzQ1NQ==", "bodyText": "@phoebem That delete line is not in DCE's deploy. Is it needed here because the version of OC develop Paella prefers mp4 to hls source?", "url": "https://github.com/opencast/opencast/pull/1636#discussion_r442823455", "createdAt": "2020-06-19T12:54:33Z", "author": {"login": "karendolan"}, "path": "modules/engage-paella-player/src/main/paella-opencast/plugins/es.upv.paella.opencast.loader/03_oc_search_converter.js", "diffHunk": "@@ -258,6 +277,13 @@ class OpencastToPaellaConverter {\n         }\n       }\n     });\n+    // HLS-VOD Where there's a master HLS index, remove all non-master HLS sources\n+    if (hasAdaptiveMasterTrack && currentStream.sources.hls) {\n+      var filteredHls = currentStream.sources.hls.filter(track => track.master);\n+      currentStream.sources.hls = filteredHls;\n+      /****  NOTE: This is a hack to force it to play HLS as a demo, probably wrong, Please fix ****/\n+      delete currentStream.sources.mp4;\n+    }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec69541ce21ecafa06e7720d37bf6811fbb9a58c"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab2a27392fd7a6d4b67d7ebad27fc105b75792f8", "author": {"user": {"login": "phoebem", "name": "phoebe miller"}}, "url": "https://github.com/opencast/opencast/commit/ab2a27392fd7a6d4b67d7ebad27fc105b75792f8", "committedDate": "2020-06-25T21:39:35Z", "message": "play HLS if available,but preserve mp4"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjE5MzU3", "url": "https://github.com/opencast/opencast/pull/1636#pullrequestreview-498619357", "createdAt": "2020-09-29T15:32:09Z", "commit": {"oid": "ab2a27392fd7a6d4b67d7ebad27fc105b75792f8"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1843, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}