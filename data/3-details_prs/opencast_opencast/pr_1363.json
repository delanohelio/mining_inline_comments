{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MTc3ODg2", "number": 1363, "title": "Added the adopter registration form for statistics.", "bodyText": "The adopter registration form should automatically popup after the login. The idea of this form is, that an Admin can fill it out and submit it to receive news per e-mail. Furthermore he can check some boxes to allow us to receive technical data from him for statistic purposes. At the moment, no data will be send. This pull request contains just the form for the registration. The form data will be saved locally.\nClicking on the \"X\" in the top right corner will close the window. It will popup again when the page is reloaded. Clicking on the \"Not now\" button will prevent the popup to appear the next ~30 days. Clicking on the (?) in the top right corner of opencast, the form can be reopened again and the data can be changed.", "createdAt": "2020-01-17T14:52:51Z", "url": "https://github.com/opencast/opencast/pull/1363", "merged": true, "mergeCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "closed": true, "closedAt": "2020-01-23T19:42:34Z", "author": {"login": "marwyg"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7PmAagH2gAyMzY0MTc3ODg2OmRlZGQ0ZDk2NmVjNmEyZWFjNGExODI2MzMzN2ZkYTUyNDJhMjQyZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9PMDXgFqTM0NzI4Mjc3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4", "author": {"user": {"login": "marwyg", "name": "Martin Wygas"}}, "url": "https://github.com/opencast/opencast/commit/dedd4d966ec6a2eac4a18263337fda5242a242d4", "committedDate": "2020-01-17T14:26:33Z", "message": "Added the adopter registration form for statistics."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3MjgyNzc1", "url": "https://github.com/opencast/opencast/pull/1363#pullrequestreview-347282775", "createdAt": "2020-01-23T13:10:52Z", "commit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 39, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMzoxMDo1MlrOFg9jRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOTowMjozM1rOFhJQ5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDEwNzIwNA==", "bodyText": "This needs to get in all distributions which contain the admin interface.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370107204", "createdAt": "2020-01-23T13:10:52Z", "author": {"login": "lkiesow"}, "path": "assemblies/karaf-features/src/main/feature/feature.xml", "diffHunk": "@@ -263,6 +263,8 @@\n     <bundle start-level=\"82\">mvn:org.opencastproject/opencast-workflow-condition-parser/${project.version}</bundle>\n     <bundle start-level=\"82\">mvn:org.opencastproject/opencast-workflow-service-impl/${project.version}</bundle>\n     <bundle start-level=\"82\">mvn:org.opencastproject/opencast-workflow-workflowoperation/${project.version}</bundle>\n+    <bundle start-level=\"82\">mvn:org.opencastproject/opencast-adopter-statistics-impl/${project.version}</bundle>\n+    <bundle start-level=\"82\">mvn:org.opencastproject/opencast-adopter-statistics-api/${project.version}</bundle>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDEwODAxNw==", "bodyText": "We probably don't need to be that careful with sizes. Let's use the default of 255 characters\nEDIT: The auto-generated database tables have longer columns already.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370108017", "createdAt": "2020-01-23T13:12:42Z", "author": {"login": "lkiesow"}, "path": "docs/scripts/ddl/mysql5.sql", "diffHunk": "@@ -598,3 +598,25 @@ CREATE TABLE oc_transcription_service_job (\n   PRIMARY KEY (id),\n   CONSTRAINT FK_oc_transcription_service_job_provider_id FOREIGN KEY (provider_id) REFERENCES oc_transcription_service_provider (id) ON DELETE CASCADE\n ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n+\n+CREATE TABLE oc_statistic_registration (\n+  adopter_key VARCHAR(36) NOT NULL,\n+  username VARCHAR(128) NOT NULL,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDEwOTY5Mw==", "bodyText": "This should probably be visible for ROLE_ADMIN only", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370109693", "createdAt": "2020-01-23T13:16:22Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/index.html", "diffHunk": "@@ -79,6 +79,9 @@\n             <li>\n               <a translate=\"HELP.HOTKEY_CHEAT_SHEET\" ng-click=\"showHotkeyCheatSheet()\"></a>\n             </li>\n+            <li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDEyMDU3OQ==", "bodyText": "Is there something to do?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370120579", "createdAt": "2020-01-23T13:38:20Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDEyMjk5MA==", "bodyText": "What's inputAction state 1 and 3?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370122990", "createdAt": "2020-01-23T13:42:56Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1MjE3Mw==", "bodyText": "We can limit this to ROLE_ADMIN. No one else should be able to see/put/post these data, right? This goes for all the rules.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370252173", "createdAt": "2020-01-23T17:22:47Z", "author": {"login": "lkiesow"}, "path": "etc/security/mh_default_org.xml", "diffHunk": "@@ -103,6 +103,7 @@\n     <sec:intercept-url pattern=\"/admin-ng/statistics/*.json\" method=\"GET\" access=\"ROLE_ADMIN, ROLE_ADMIN_UI\" />\n     <sec:intercept-url pattern=\"/admin-ng/statistics/export.csv\" method=\"GET\" access=\"ROLE_ADMIN, ROLE_ADMIN_UI\" />\n     <sec:intercept-url pattern=\"/assets/assets/**\" method=\"GET\" access=\"ROLE_ADMIN, ROLE_UI_EVENTS_DETAILS_ASSETS_VIEW\" />\n+    <sec:intercept-url pattern=\"/admin-ng/adopter/**\" method=\"GET\" access=\"ROLE_ADMIN, ROLE_ADMIN_UI\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1Mzg2MA==", "bodyText": "Is it implemented?\nIf not \u2192 do we need to implement it?\nIf not \u2192 do we need this at all?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370253860", "createdAt": "2020-01-23T17:26:22Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {\n+        return;\n+      }\n+\n+      $scope.state = $scope.states[$scope.state]['nextState'][inputAction];\n+\n+      if($scope.state === 'close'){\n+        $scope.close();\n+      } else if($scope.state === 'skip') {\n+        $scope.notNow();\n+      } else if($scope.state === 'save') {\n+        $scope.save();\n+      } else if($scope.state === 'update') {\n+        $scope.updateProfile();\n+      } else if($scope.state === 'delete') {\n+        $scope.deleteProfile();\n+      }\n+    };\n+\n+    // THE POST-REQUEST\n+    $scope.save = function () {\n+      if($scope.adopterRegistrationForm.$valid) {\n+        AuthService.getUser().$promise.then(function(authObject) {\n+          AdopterRegistrationResource.save($scope.adopter,\n+            function ($response, header) {\n+              // success callback\n+              $scope.nextState(0);\n+            }, function(error) {\n+              // error callback\n+              $scope.nextState(1);\n+            });\n+        }).catch(angular.noop);\n+      }\n+    };\n+\n+    $scope.notNow = function () {\n+      $scope.adopter.organisationName = 'N/A';\n+      $scope.adopter.country = 'N/A';\n+      $scope.adopter.postalCode = 'N/A';\n+      $scope.adopter.city = 'N/A';\n+\n+      AuthService.getUser().$promise.then(function(authObject) {\n+        AdopterRegistrationResource.save($scope.adopter,\n+          function ($response, header) {\n+            // success callback\n+          }, function(error) {\n+            // error callback\n+          });\n+      }).catch(angular.noop);\n+    };\n+\n+    $scope.updateProfile = function () {\n+      // TODO: Perform real PUT-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1NDM2Mg==", "bodyText": "Tell me if I'm wrong but success is always true, isn't it ;-)", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370254362", "createdAt": "2020-01-23T17:27:18Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {\n+        return;\n+      }\n+\n+      $scope.state = $scope.states[$scope.state]['nextState'][inputAction];\n+\n+      if($scope.state === 'close'){\n+        $scope.close();\n+      } else if($scope.state === 'skip') {\n+        $scope.notNow();\n+      } else if($scope.state === 'save') {\n+        $scope.save();\n+      } else if($scope.state === 'update') {\n+        $scope.updateProfile();\n+      } else if($scope.state === 'delete') {\n+        $scope.deleteProfile();\n+      }\n+    };\n+\n+    // THE POST-REQUEST\n+    $scope.save = function () {\n+      if($scope.adopterRegistrationForm.$valid) {\n+        AuthService.getUser().$promise.then(function(authObject) {\n+          AdopterRegistrationResource.save($scope.adopter,\n+            function ($response, header) {\n+              // success callback\n+              $scope.nextState(0);\n+            }, function(error) {\n+              // error callback\n+              $scope.nextState(1);\n+            });\n+        }).catch(angular.noop);\n+      }\n+    };\n+\n+    $scope.notNow = function () {\n+      $scope.adopter.organisationName = 'N/A';\n+      $scope.adopter.country = 'N/A';\n+      $scope.adopter.postalCode = 'N/A';\n+      $scope.adopter.city = 'N/A';\n+\n+      AuthService.getUser().$promise.then(function(authObject) {\n+        AdopterRegistrationResource.save($scope.adopter,\n+          function ($response, header) {\n+            // success callback\n+          }, function(error) {\n+            // error callback\n+          });\n+      }).catch(angular.noop);\n+    };\n+\n+    $scope.updateProfile = function () {\n+      // TODO: Perform real PUT-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too\n+      if($scope.adopterRegistrationForm.$valid) {\n+        $timeout(function() {\n+          var success = true;\n+          if(success) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1NDcyMA==", "bodyText": "This can go, right?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370254720", "createdAt": "2020-01-23T17:27:57Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {\n+        return;\n+      }\n+\n+      $scope.state = $scope.states[$scope.state]['nextState'][inputAction];\n+\n+      if($scope.state === 'close'){\n+        $scope.close();\n+      } else if($scope.state === 'skip') {\n+        $scope.notNow();\n+      } else if($scope.state === 'save') {\n+        $scope.save();\n+      } else if($scope.state === 'update') {\n+        $scope.updateProfile();\n+      } else if($scope.state === 'delete') {\n+        $scope.deleteProfile();\n+      }\n+    };\n+\n+    // THE POST-REQUEST\n+    $scope.save = function () {\n+      if($scope.adopterRegistrationForm.$valid) {\n+        AuthService.getUser().$promise.then(function(authObject) {\n+          AdopterRegistrationResource.save($scope.adopter,\n+            function ($response, header) {\n+              // success callback\n+              $scope.nextState(0);\n+            }, function(error) {\n+              // error callback\n+              $scope.nextState(1);\n+            });\n+        }).catch(angular.noop);\n+      }\n+    };\n+\n+    $scope.notNow = function () {\n+      $scope.adopter.organisationName = 'N/A';\n+      $scope.adopter.country = 'N/A';\n+      $scope.adopter.postalCode = 'N/A';\n+      $scope.adopter.city = 'N/A';\n+\n+      AuthService.getUser().$promise.then(function(authObject) {\n+        AdopterRegistrationResource.save($scope.adopter,\n+          function ($response, header) {\n+            // success callback\n+          }, function(error) {\n+            // error callback\n+          });\n+      }).catch(angular.noop);\n+    };\n+\n+    $scope.updateProfile = function () {\n+      // TODO: Perform real PUT-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too\n+      if($scope.adopterRegistrationForm.$valid) {\n+        $timeout(function() {\n+          var success = true;\n+          if(success) {\n+            Notifications.add('success', 'ADOPTER_PROFILE_UPDATED');\n+          } else {\n+            Notifications.add('error', 'ADOPTER_PROFILE_NOT_UPDATED');\n+          }\n+          $scope.nextState(0);\n+        }, 2000);\n+      }\n+      //AdopterRegistrationResource.update($scope.adopter, function($response) {});", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1NTU5Mg==", "bodyText": "same here", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370255592", "createdAt": "2020-01-23T17:29:31Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {\n+        return;\n+      }\n+\n+      $scope.state = $scope.states[$scope.state]['nextState'][inputAction];\n+\n+      if($scope.state === 'close'){\n+        $scope.close();\n+      } else if($scope.state === 'skip') {\n+        $scope.notNow();\n+      } else if($scope.state === 'save') {\n+        $scope.save();\n+      } else if($scope.state === 'update') {\n+        $scope.updateProfile();\n+      } else if($scope.state === 'delete') {\n+        $scope.deleteProfile();\n+      }\n+    };\n+\n+    // THE POST-REQUEST\n+    $scope.save = function () {\n+      if($scope.adopterRegistrationForm.$valid) {\n+        AuthService.getUser().$promise.then(function(authObject) {\n+          AdopterRegistrationResource.save($scope.adopter,\n+            function ($response, header) {\n+              // success callback\n+              $scope.nextState(0);\n+            }, function(error) {\n+              // error callback\n+              $scope.nextState(1);\n+            });\n+        }).catch(angular.noop);\n+      }\n+    };\n+\n+    $scope.notNow = function () {\n+      $scope.adopter.organisationName = 'N/A';\n+      $scope.adopter.country = 'N/A';\n+      $scope.adopter.postalCode = 'N/A';\n+      $scope.adopter.city = 'N/A';\n+\n+      AuthService.getUser().$promise.then(function(authObject) {\n+        AdopterRegistrationResource.save($scope.adopter,\n+          function ($response, header) {\n+            // success callback\n+          }, function(error) {\n+            // error callback\n+          });\n+      }).catch(angular.noop);\n+    };\n+\n+    $scope.updateProfile = function () {\n+      // TODO: Perform real PUT-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too\n+      if($scope.adopterRegistrationForm.$valid) {\n+        $timeout(function() {\n+          var success = true;\n+          if(success) {\n+            Notifications.add('success', 'ADOPTER_PROFILE_UPDATED');\n+          } else {\n+            Notifications.add('error', 'ADOPTER_PROFILE_NOT_UPDATED');\n+          }\n+          $scope.nextState(0);\n+        }, 2000);\n+      }\n+      //AdopterRegistrationResource.update($scope.adopter, function($response) {});\n+    };\n+\n+    $scope.deleteProfile = function () {\n+      // TODO: Perform real DELETE-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too\n+      $timeout(function() {\n+        var success = true;\n+        if(success) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1NTg5NA==", "bodyText": "Why a timeout?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370255894", "createdAt": "2020-01-23T17:30:07Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/modules/registration/controllers/registrationController.js", "diffHunk": "@@ -0,0 +1,137 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// Controller for creating a new event. This is a wizard, so it implements a state machine design pattern.\n+angular.module('adminNg.controllers')\n+.controller('RegistrationCtrl', ['$scope', '$timeout', 'Table', 'AdopterRegistrationStates',\n+  'AdopterRegistrationResource', 'CountryResource', 'NewEventStates', 'NewEventResource', 'EVENT_TAB_CHANGE',\n+  'Notifications', 'Modal', 'AuthService',\n+  function ($scope, $timeout, Table, AdopterRegistrationStates, AdopterRegistrationResource, CountryResource,\n+    NewEventStates, NewEventResource, EVENT_TAB_CHANGE, Notifications, Modal, AuthService) {\n+\n+    $scope.state = AdopterRegistrationStates.getInitialState($scope.$parent.resourceId);\n+\n+    $scope.states = AdopterRegistrationStates.get($scope.$parent.resourceId);\n+    // TODO: CountryResource is in fact a service, but should be a resource. Look at countryResource.js\n+    //       for more information\n+    $scope.countries = CountryResource.getCountries();\n+\n+    // Filling the form fields\n+    $scope.adopter = new AdopterRegistrationResource();\n+    AdopterRegistrationResource.get({}, function (adopter) {\n+      for (var field in adopter) {\n+        $scope.adopter[field] = adopter[field];\n+      }\n+    });\n+\n+    $scope.registered = false;\n+\n+    $scope.nextState = function (inputAction) {\n+      if($scope.state == 'form' && $scope.adopterRegistrationForm.$invalid\n+          && (inputAction == 1 || inputAction == 3)) {\n+        return;\n+      }\n+\n+      $scope.state = $scope.states[$scope.state]['nextState'][inputAction];\n+\n+      if($scope.state === 'close'){\n+        $scope.close();\n+      } else if($scope.state === 'skip') {\n+        $scope.notNow();\n+      } else if($scope.state === 'save') {\n+        $scope.save();\n+      } else if($scope.state === 'update') {\n+        $scope.updateProfile();\n+      } else if($scope.state === 'delete') {\n+        $scope.deleteProfile();\n+      }\n+    };\n+\n+    // THE POST-REQUEST\n+    $scope.save = function () {\n+      if($scope.adopterRegistrationForm.$valid) {\n+        AuthService.getUser().$promise.then(function(authObject) {\n+          AdopterRegistrationResource.save($scope.adopter,\n+            function ($response, header) {\n+              // success callback\n+              $scope.nextState(0);\n+            }, function(error) {\n+              // error callback\n+              $scope.nextState(1);\n+            });\n+        }).catch(angular.noop);\n+      }\n+    };\n+\n+    $scope.notNow = function () {\n+      $scope.adopter.organisationName = 'N/A';\n+      $scope.adopter.country = 'N/A';\n+      $scope.adopter.postalCode = 'N/A';\n+      $scope.adopter.city = 'N/A';\n+\n+      AuthService.getUser().$promise.then(function(authObject) {\n+        AdopterRegistrationResource.save($scope.adopter,\n+          function ($response, header) {\n+            // success callback\n+          }, function(error) {\n+            // error callback\n+          });\n+      }).catch(angular.noop);\n+    };\n+\n+    $scope.updateProfile = function () {\n+      // TODO: Perform real PUT-Request to save adopter\n+      // TODO: Endpoint needs to be implemented too\n+      if($scope.adopterRegistrationForm.$valid) {\n+        $timeout(function() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI2ODE5MA==", "bodyText": "\u201cOpencast Registration\u201d is pretty generic. What about \u201cRegister Opencast\u201d or \u201eAdoptrer Registration\u201c?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370268190", "createdAt": "2020-01-23T17:56:39Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/resources/public/org/opencastproject/adminui/languages/lang-en_US.json", "diffHunk": "@@ -82,7 +82,8 @@\n      \"USERS_GUIDE\": \"User's Guide\",\n      \"DOCUMENTATION\": \"Documentation\",\n      \"REST_DOC\": \"REST API Docs\",\n-     \"HOTKEY_CHEAT_SHEET\": \"Keyboard Shortcuts\"\n+     \"HOTKEY_CHEAT_SHEET\": \"Keyboard Shortcuts\",\n+     \"ADOPTER_REGISTRATION\": \"Opencast Registration\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTMyNg==", "bodyText": "I would probably drop the image.\nI don't think we have concent from all people on the picture.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370271326", "createdAt": "2020-01-23T18:03:02Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MjQ0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                       \"INFORMATION_PARAGRAPH_3\": \"You can help us to gather that information with quick registration.\"\n          \n          \n            \n                       \"INFORMATION_PARAGRAPH_3\": \"You can help us with a quick registration.\"", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370272445", "createdAt": "2020-01-23T18:05:32Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/resources/public/org/opencastproject/adminui/languages/lang-en_US.json", "diffHunk": "@@ -336,6 +341,66 @@\n        \"TITLE\": \"Statistics\"\n      }\n    },\n+   \"ADOPTER_REGISTRATION\": {\n+      \"MODAL\": {\n+         \"CAPTION\": \"Registration\",\n+         \"SKIP\": \"Not now\",\n+         \"CONTINUE\": \"Continue\",\n+         \"BACK\": \"Back\",\n+         \"LEGAL_INFO_STATE\": {\n+           \"HEADER\": \"Terms of use & privacy policy\"\n+         },\n+         \"INFORMATION_STATE\": {\n+           \"HEADER\": \"Thank you for using Opencast!\",\n+           \"HEADER_HELP_US\": \"Help us to make Opencast even better!\",\n+           \"INFORMATION_PARAGRAPH_1\": \"Our developers are constantly working to provide you the best possible user experience.\",\n+           \"INFORMATION_PARAGRAPH_2\": \"To achieve that, we need to learn more about who uses Opencast and how it gets used.\",\n+           \"INFORMATION_PARAGRAPH_3\": \"You can help us to gather that information with quick registration.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MjcxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                       \"HEADER_HELP_US\": \"Help us to make Opencast even better!\",\n          \n          \n            \n                       \"HEADER_HELP_US\": \"Help us make Opencast even better.\",", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370272718", "createdAt": "2020-01-23T18:06:09Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/resources/public/org/opencastproject/adminui/languages/lang-en_US.json", "diffHunk": "@@ -336,6 +341,66 @@\n        \"TITLE\": \"Statistics\"\n      }\n    },\n+   \"ADOPTER_REGISTRATION\": {\n+      \"MODAL\": {\n+         \"CAPTION\": \"Registration\",\n+         \"SKIP\": \"Not now\",\n+         \"CONTINUE\": \"Continue\",\n+         \"BACK\": \"Back\",\n+         \"LEGAL_INFO_STATE\": {\n+           \"HEADER\": \"Terms of use & privacy policy\"\n+         },\n+         \"INFORMATION_STATE\": {\n+           \"HEADER\": \"Thank you for using Opencast!\",\n+           \"HEADER_HELP_US\": \"Help us to make Opencast even better!\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MzQ0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                       \"INFORMATION_PARAGRAPH_2\": \"To achieve that, we need to learn more about who uses Opencast and how it gets used.\",\n          \n          \n            \n                       \"INFORMATION_PARAGRAPH_2\": \"For that, we need to know more about who uses Opencast and how it is used.\",", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370273446", "createdAt": "2020-01-23T18:07:44Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/resources/public/org/opencastproject/adminui/languages/lang-en_US.json", "diffHunk": "@@ -336,6 +341,66 @@\n        \"TITLE\": \"Statistics\"\n      }\n    },\n+   \"ADOPTER_REGISTRATION\": {\n+      \"MODAL\": {\n+         \"CAPTION\": \"Registration\",\n+         \"SKIP\": \"Not now\",\n+         \"CONTINUE\": \"Continue\",\n+         \"BACK\": \"Back\",\n+         \"LEGAL_INFO_STATE\": {\n+           \"HEADER\": \"Terms of use & privacy policy\"\n+         },\n+         \"INFORMATION_STATE\": {\n+           \"HEADER\": \"Thank you for using Opencast!\",\n+           \"HEADER_HELP_US\": \"Help us to make Opencast even better!\",\n+           \"INFORMATION_PARAGRAPH_1\": \"Our developers are constantly working to provide you the best possible user experience.\",\n+           \"INFORMATION_PARAGRAPH_2\": \"To achieve that, we need to learn more about who uses Opencast and how it gets used.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDcyMw==", "bodyText": "This menu stays open if you click this link. It shouldn't.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370274723", "createdAt": "2020-01-23T18:10:41Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/index.html", "diffHunk": "@@ -79,6 +79,9 @@\n             <li>\n               <a translate=\"HELP.HOTKEY_CHEAT_SHEET\" ng-click=\"showHotkeyCheatSheet()\"></a>\n             </li>\n+            <li>\n+              <a translate=\"HELP.ADOPTER_REGISTRATION\" ng-click=\"showAdopterRegistrationModal()\"></a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTUwMw==", "bodyText": "I don't think this comment makes much sense", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370275503", "createdAt": "2020-01-23T18:12:18Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Nzg1Mw==", "bodyText": "The icon looks weird within the text.\nThe icon looks weirder with the help in brackets before the icon.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370277853", "createdAt": "2020-01-23T18:17:21Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3ODIyNg==", "bodyText": "can this go?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370278226", "createdAt": "2020-01-23T18:18:03Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3OTAyMg==", "bodyText": "Maybe better to not require anything?\nRight now the required fields look weird and have some side effects.\n@rrolf ?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370279022", "createdAt": "2020-01-23T18:19:30Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 168}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3OTg2OQ==", "bodyText": "delete this?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <!--<div class=\"form-group-pair\"> -->", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370279869", "createdAt": "2020-01-23T18:21:22Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 226}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3OTk0OQ==", "bodyText": "\u2026and this.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <!-- </div> -->", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370279949", "createdAt": "2020-01-23T18:21:32Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 234}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MDQwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <!-- <div class=\"form-group-pair\"> -->", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370280401", "createdAt": "2020-01-23T18:22:34Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_lastname\" ng-model=\"adopter.lastName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_lastname\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.LAST_NAME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_street\" ng-model=\"adopter.street\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_street\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.STREET\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <!-- <div class=\"form-group-pair\"> -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 257}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MDgzMQ==", "bodyText": "delete this.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370280831", "createdAt": "2020-01-23T18:23:30Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_lastname\" ng-model=\"adopter.lastName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_lastname\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.LAST_NAME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_street\" ng-model=\"adopter.street\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_street\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.STREET\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <!-- <div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_streetnumber\" ng-model=\"adopter.streetNo\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_streetnumber\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.NUMBER\"></label>\n+              </div>\n+              <!--<div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_addressadd\" ng-model=\"adopter.adressAdditional\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_addressadd\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ADDITIONAL_ADRESS_INFO\"></label>\n+              </div>\n+\n+            </div>\n+            -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 274}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MTQ4Mw==", "bodyText": "We should add a rough explanation about what type of data is transmitted.\nSame for the checkboxes below.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370281483", "createdAt": "2020-01-23T18:24:59Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_lastname\" ng-model=\"adopter.lastName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_lastname\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.LAST_NAME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_street\" ng-model=\"adopter.street\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_street\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.STREET\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <!-- <div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_streetnumber\" ng-model=\"adopter.streetNo\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_streetnumber\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.NUMBER\"></label>\n+              </div>\n+              <!--<div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_addressadd\" ng-model=\"adopter.adressAdditional\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_addressadd\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ADDITIONAL_ADRESS_INFO\"></label>\n+              </div>\n+\n+            </div>\n+            -->\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input id=\"adopter_emailadr\" type=\"email\" ng-model-options=\"{ debounce: 300 }\" ng-model=\"adopter.email\" class=\"form-control\">\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_emailadr\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.MAIL\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group form-group-checkbox\">\n+              <input type=\"checkbox\"\n+                     id=\"adopter_contactme\"\n+                     ng-model=\"adopter.contactMe\"\n+                     ng-model-options=\"{ allowInvalid: true }\"\n+                     class=\"form-control\">\n+              <label\n+                for=\"adopter_contactme\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_ME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          </fieldset>\n+          <fieldset>\n+            <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.WHICH_DATA_TO_SHARE\"></legend>\n+\t              <div class=\"form-group form-group-checkbox\">\n+\t\t              <input type=\"checkbox\"\n+\t\t                     id=\"adopter_allows_statistics\"\n+\t\t                     ng-model=\"adopter.allowsStatistics\"\n+\t\t                     ng-model-options=\"{ allowInvalid: true }\"\n+\t\t                     class=\"form-control\">\n+\t\t              <label\n+\t\t                for=\"adopter_allows_statistics\"\n+\t\t                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.USAGE_STATISTICS\"></label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 311}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MjExNg==", "bodyText": "Indentation.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370282116", "createdAt": "2020-01-23T18:26:25Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_lastname\" ng-model=\"adopter.lastName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_lastname\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.LAST_NAME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_street\" ng-model=\"adopter.street\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_street\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.STREET\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <!-- <div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_streetnumber\" ng-model=\"adopter.streetNo\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_streetnumber\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.NUMBER\"></label>\n+              </div>\n+              <!--<div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_addressadd\" ng-model=\"adopter.adressAdditional\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_addressadd\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ADDITIONAL_ADRESS_INFO\"></label>\n+              </div>\n+\n+            </div>\n+            -->\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input id=\"adopter_emailadr\" type=\"email\" ng-model-options=\"{ debounce: 300 }\" ng-model=\"adopter.email\" class=\"form-control\">\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_emailadr\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.MAIL\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group form-group-checkbox\">\n+              <input type=\"checkbox\"\n+                     id=\"adopter_contactme\"\n+                     ng-model=\"adopter.contactMe\"\n+                     ng-model-options=\"{ allowInvalid: true }\"\n+                     class=\"form-control\">\n+              <label\n+                for=\"adopter_contactme\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_ME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          </fieldset>\n+          <fieldset>\n+            <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.WHICH_DATA_TO_SHARE\"></legend>\n+\t              <div class=\"form-group form-group-checkbox\">\n+\t\t              <input type=\"checkbox\"\n+\t\t                     id=\"adopter_allows_statistics\"\n+\t\t                     ng-model=\"adopter.allowsStatistics\"\n+\t\t                     ng-model-options=\"{ allowInvalid: true }\"\n+\t\t                     class=\"form-control\">\n+\t\t              <label\n+\t\t                for=\"adopter_allows_statistics\"\n+\t\t                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.USAGE_STATISTICS\"></label>\n+\t\t            </div>\n+                <div class=\"form-group form-group-checkbox\">\n+                  <input type=\"checkbox\"\n+                         id=\"adopter_allows_err_reports\"\n+                         ng-model=\"adopter.allowsErrorReports\"\n+                         ng-model-options=\"{ allowInvalid: true }\"\n+                         class=\"form-control\">\n+                  <label\n+                    for=\"adopter_allows_err_reports\"\n+                    translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ERROR_REPORTS\"></label>\n+                </div>\n+                <div class=\"form-group form-group-checkbox\">\n+                  <input type=\"checkbox\"\n+                         id=\"adopter_allows_tech_data\"\n+                         ng-model=\"adopter.allowsTechData\"\n+                         ng-model-options=\"{ allowInvalid: true }\"\n+                         class=\"form-control\">\n+                  <label\n+                    for=\"adopter_allows_tech_data\"\n+                    translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.TECHNICAL_SERVER_DATA\"></label>\n+                </div>\n+                <hr/>\n+                <div class=\"form-group form-group-checkbox\">\n+\t\t\t             <input type=\"checkbox\" id=\"agreement-terms-of-use\" class=\"form-control\" ng-model=\"tos_agreed\" required>\n+\t\t\t             <label\n+\t\t\t               for=\"agreement-terms-of-use\">\n+                     <span translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_BEFORE\"></span>\n+                     <span\n+                       translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_LINK\"\n+                       class=\"link\"\n+                       ng-click=\"nextState(2)\"></span>\n+                     <span translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_AFTER\"></span>\n+\t\t               </label>\n+\t\t\t           </div>\n+          </fieldset>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 346}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MjMyNg==", "bodyText": "delete this?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370282326", "createdAt": "2020-01-23T18:26:50Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/partials/modals/registration-modal.html", "diffHunk": "@@ -0,0 +1,385 @@\n+<section ng-show=\"open\" id=\"registration-modal\" ng-keyup=\"keyUp($event)\"\n+  tabindex=\"1\" class=\"modal active modal-open modal-animation\"\n+  ng-controller=\"RegistrationCtrl\">\n+  <header>\n+    <a ng-show=\"states[state]['buttons']['close']\" ng-click=\"nextState(0)\"\n+      class=\"fa fa-times close-modal\"></a>\n+    <h2 translate=\"ADOPTER_REGISTRATION.MODAL.CAPTION\">\n+      <!--Registration-->\n+    </h2>\n+  </header>\n+\n+  <div ng-show=\"state == 'information'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"col\">\n+            <h3 translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.HEADER_HELP_US\"></h3>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_1\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_2\"></p>\n+            <br />\n+            <p translate=\"ADOPTER_REGISTRATION.MODAL.INFORMATION_STATE.INFORMATION_PARAGRAPH_3\"></p>\n+          </div>\n+          <div class=\"col\">\n+            <img src=\"img/summit_valencia.jpg\">\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'legal_info'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.LEGAL_INFO_STATE.HEADER\">\n+          <!-- Thank you for using Opencast! -->\n+        </h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <div class=\"scrollbox\">\n+            <ng-include\n+              src=\"'modules/registration/partials/terms-of-use.html'\">\n+              </ng-include>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'skip'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- If you want to register later on, you can do that at  -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+            <br />\n+            <!--\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.SKIP_STATE.TEXT_DEACTIVATE_INFO\">\n+              Also you can deactivate this  automatic registration request there.\n+            </span>\n+            -->\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'delete_submit'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <p>\n+          <span translate=\"ADOPTER_REGISTRATION.MODAL.DELETE_SUBMIT_STATE.TEXT\"></span>\n+        </p>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'save' || state == 'delete' || state == 'update'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <div class=\"row spinner-container\">\n+          <i class=\"fa fa-spinner fa-spin fa-4x fa-fw\"></i>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'thank_you'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_TO_PATH\">\n+              <!-- You can change your data at   -->\n+            </span>\n+            <b>\n+              (<span translate=\"HELP.HELP\"></span>)\n+              <span class=\"fa fa-question-circle\"></span>\n+              >\n+              <span translate=\"HELP.ADOPTER_REGISTRATION\"></span>\n+            </b>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.THANK_YOU_STATE.TEXT_LEADING_AFTER_PATH\">\n+              <!-- at any time. -->\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <div ng-show=\"state == 'error'\" class=\"modal-content\"\n+       style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div class=\"registration-header\">\n+        <h2 translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.HEADER\"></h2>\n+      </div>\n+      <div>\n+        <div class=\"row\">\n+          <p>\n+            <span translate=\"ADOPTER_REGISTRATION.MODAL.ERROR.TEXT\">\n+            </span>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <form name=\"adopterRegistrationForm\">\n+  <div ng-show=\"state == 'form'\" class=\"modal-content\"\n+    style=\"display: block;\">\n+    <div class=\"modal-body\">\n+      <div>\n+        <fieldset>\n+        <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_organisation\" ng-model=\"adopter.organisationName\" class=\"form-control\" required>\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_organisation\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ORGANISATION\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_department\" ng-model=\"adopter.departmentName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_department\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.DEPARTMENT\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+              <div class=\"form-group\">\n+                <select id=\"adopter_country\"\n+                        class=\"form-control\"\n+                        ng-model=\"adopter.country\"\n+                        required>\n+\n+                  <option value=\"\"></option>\n+                  <option ng-repeat=\"country in countries | orderBy:'name'\" value=\"{{country.code}}\">{{country.name}}</option>\n+                </select>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_country\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.COUNTRY\"></label>\n+              </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group-pair\">\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_postalcode\" ng-model=\"adopter.postalCode\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_postalcode\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.POSTAL_CODE\"></label>\n+              </div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_city\" ng-model=\"adopter.city\" class=\"form-control\" required>\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_city\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CITY\"></label>\n+              </div>\n+            </div>\n+            </div>\n+          </div>\n+        </fieldset>\n+        <fieldset>\n+         <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_INFO\"></legend>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <!--<div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_firstname\" ng-model=\"adopter.firstName\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_firstname\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.FIRST_NAME\"></label>\n+              </div>\n+            <!-- </div> -->\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_lastname\" ng-model=\"adopter.lastName\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_lastname\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.LAST_NAME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input type=\"text\" id=\"adopter_street\" ng-model=\"adopter.street\" class=\"form-control\">\n+              <label\n+                class=\"form-control-placeholder\"\n+                for=\"adopter_street\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.STREET\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <!-- <div class=\"form-group-pair\"> -->\n+              <div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_streetnumber\" ng-model=\"adopter.streetNo\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_streetnumber\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.NUMBER\"></label>\n+              </div>\n+              <!--<div class=\"form-group\">\n+                <input type=\"text\" id=\"adopter_addressadd\" ng-model=\"adopter.adressAdditional\" class=\"form-control\">\n+                <label\n+                  class=\"form-control-placeholder\"\n+                  for=\"adopter_addressadd\"\n+                  translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ADDITIONAL_ADRESS_INFO\"></label>\n+              </div>\n+\n+            </div>\n+            -->\n+            </div>\n+          </div>\n+          <div class=\"row\">\n+            <div class=\"col\">\n+            <div class=\"form-group\">\n+              <input id=\"adopter_emailadr\" type=\"email\" ng-model-options=\"{ debounce: 300 }\" ng-model=\"adopter.email\" class=\"form-control\">\n+              <label\n+\t              class=\"form-control-placeholder\"\n+\t              for=\"adopter_emailadr\"\n+\t              translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.MAIL\"></label>\n+            </div>\n+            </div>\n+            <div class=\"col\">\n+            <div class=\"form-group form-group-checkbox\">\n+              <input type=\"checkbox\"\n+                     id=\"adopter_contactme\"\n+                     ng-model=\"adopter.contactMe\"\n+                     ng-model-options=\"{ allowInvalid: true }\"\n+                     class=\"form-control\">\n+              <label\n+                for=\"adopter_contactme\"\n+                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.CONTACT_ME\"></label>\n+            </div>\n+            </div>\n+          </div>\n+          </fieldset>\n+          <fieldset>\n+            <legend translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.WHICH_DATA_TO_SHARE\"></legend>\n+\t              <div class=\"form-group form-group-checkbox\">\n+\t\t              <input type=\"checkbox\"\n+\t\t                     id=\"adopter_allows_statistics\"\n+\t\t                     ng-model=\"adopter.allowsStatistics\"\n+\t\t                     ng-model-options=\"{ allowInvalid: true }\"\n+\t\t                     class=\"form-control\">\n+\t\t              <label\n+\t\t                for=\"adopter_allows_statistics\"\n+\t\t                translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.USAGE_STATISTICS\"></label>\n+\t\t            </div>\n+                <div class=\"form-group form-group-checkbox\">\n+                  <input type=\"checkbox\"\n+                         id=\"adopter_allows_err_reports\"\n+                         ng-model=\"adopter.allowsErrorReports\"\n+                         ng-model-options=\"{ allowInvalid: true }\"\n+                         class=\"form-control\">\n+                  <label\n+                    for=\"adopter_allows_err_reports\"\n+                    translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.ERROR_REPORTS\"></label>\n+                </div>\n+                <div class=\"form-group form-group-checkbox\">\n+                  <input type=\"checkbox\"\n+                         id=\"adopter_allows_tech_data\"\n+                         ng-model=\"adopter.allowsTechData\"\n+                         ng-model-options=\"{ allowInvalid: true }\"\n+                         class=\"form-control\">\n+                  <label\n+                    for=\"adopter_allows_tech_data\"\n+                    translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.TECHNICAL_SERVER_DATA\"></label>\n+                </div>\n+                <hr/>\n+                <div class=\"form-group form-group-checkbox\">\n+\t\t\t             <input type=\"checkbox\" id=\"agreement-terms-of-use\" class=\"form-control\" ng-model=\"tos_agreed\" required>\n+\t\t\t             <label\n+\t\t\t               for=\"agreement-terms-of-use\">\n+                     <span translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_BEFORE\"></span>\n+                     <span\n+                       translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_LINK\"\n+                       class=\"link\"\n+                       ng-click=\"nextState(2)\"></span>\n+                     <span translate=\"ADOPTER_REGISTRATION.MODAL.FORM_STATE.READ_TERMS_OF_USE_AFTER\"></span>\n+\t\t               </label>\n+\t\t\t           </div>\n+          </fieldset>\n+      </div>\n+    </div>\n+  </div>\n+\n+  <footer>\n+    <div class=\"pull-right\" ng-show=\"states[state]['buttons']['submit']\">\n+      <a ng-hide=\"state == 'form'\" class=\"continue-registration\" ng-click=\"nextState(1)\"\n+        translate=\"{{states[state]['buttons']['submitButtonText']}}\"></a>\n+      <a ng-show=\"state == 'form' && !registered\"\n+         class=\"submit inactive\"\n+         ng-class=\"{inactive: adopterRegistrationForm.$invalid}\"\n+         ng-click=\"nextState(1)\"\n+         translate=\"{{states[state]['buttons']['submitButtonText']}}\"></a>\n+      <a ng-show=\"state == 'form' && registered\"\n+         class=\"submit inactive\"\n+         ng-class=\"{inactive: adopterRegistrationForm.$invalid}\"\n+         ng-click=\"nextState(3)\"\n+         translate=\"UPDATE\"></a>\n+    </div>\n+    <a ng-show=\"states[state]['buttons']['back']\" class=\"cancel\"\n+      ng-click=\"nextState(0)\" translate=\"ADOPTER_REGISTRATION.MODAL.BACK\"></a>\n+    <a ng-show=\"state == 'form' && registered\"\n+       class=\"danger\"\n+       ng-click=\"nextState(4)\"\n+       translate=\"DELETE\"></a>\n+\n+    <a ng-show=\"states[state]['buttons']['skip']\" class=\"cancel\"\n+       ng-click=\"nextState(2)\" translate=\"ADOPTER_REGISTRATION.MODAL.SKIP\"></a>\n+\n+    <!--<div ng-show=\"states[state]['buttons']['skip']\"\n+      class=\"skip-registration\">\n+      <div class=\"skip-registration-text\">\n+        <span class=\"link\" ng-click=\"nextState(2)\" translate=\"ADOPTER_REGISTRATION.MODAL.SKIP\"></span>\n+      </div>\n+      -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 381}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4Mzk5NA==", "bodyText": "Instead of implementing our own, maybe use:\n\nhttps://www.npmjs.com/package/country-codes-list\nor https://www.npmjs.com/package/country-list\nor https://www.npmjs.com/package/countries-list\nor \u2026\n\nNot a high priority.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370283994", "createdAt": "2020-01-23T18:30:26Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/scripts/shared/resources/countryResource.js", "diffHunk": "@@ -0,0 +1,1036 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+'use strict';\n+\n+// TODO: This is a Service not a $resource, but should be implemented as one\n+// TODO: 1. Implement a CountryEndpoint 2. Make this a $resource\n+angular.module('adminNg.resources')\n+.factory('CountryResource', function () {\n+\n+  var countries = {};\n+\n+  countries.getCountries = function() {\n+    return [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4NDU1Nw==", "bodyText": "Intentionally empty?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370284557", "createdAt": "2020-01-23T18:31:35Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/styles/extensions/views/modals/_registration.scss", "diffHunk": "@@ -0,0 +1,247 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+\n+#registration-modal {\n+\n+    .modal-body {\n+      padding: 3% 3% 3% 3%;\n+    }\n+\n+    .modal-content {\n+        background-color: $primary-color-white;\n+        //background-color: $white;\n+        .row {\n+            margin: 6px 0;\n+        }\n+\n+    fieldset {\n+      margin: 0px 0px 5px 0px;\n+      border: $thin-border-stroke $main-border-color;\n+      border-radius: $main-border-radius;\n+      legend {\n+        font-weight: bold;\n+        color: $medium-prim-color;\n+        padding: 0px 3px;\n+      }\n+      padding: 0px 20px;\n+    }\n+\n+    hr {\n+      border: none;\n+      height: 1px;\n+      color: $main-border-color;\n+      background-color: $main-border-color;\n+      margin: 2px 0px;\n+    }\n+\n+    p {\n+      color: $dark-prim-color;\n+      font-size: 15px;\n+      line-height: 1.25;\n+    }\n+\n+    b {\n+      color: $dark-prim-color;\n+      font-weight: 700;\n+    }\n+\n+    .form-group {\n+      font-family: \"Open Sans\", Helvetica, sans-serif;\n+      position: relative;\n+      margin-bottom: 0.3rem;\n+\n+      select {\n+        height: $input-height;\n+        padding-left: 17px;\n+      }\n+      select:-moz-focusring {\n+        color: transparent;\n+        text-shadow: 0 0 0 #000;\n+      }\n+\n+      display: inline-block;\n+      width: 100%;\n+    }\n+    .form-group-checkbox {\n+      margin-bottom: 2px;\n+      input, label {\n+        width: auto;\n+        vertical-align: middle;\n+        margin-top: 6px;\n+      }\n+      label {\n+        display: inline-block;\n+      }\n+    }\n+\n+    .form-group-checkbox:last-child {\n+      margin-bottom: 8px;\n+    }\n+\n+    .form-group-pair {\n+      .form-group:first-child {\n+        float:left;\n+        width:33%;\n+        margin-right:1.5%\n+      }\n+      .form-group:last-child {\n+        float:right;\n+        width:64%;\n+        margin-left:1.5%\n+      }\n+    }\n+    .form-control {\n+      width: 100%;\n+      padding-top: 8px;\n+    }\n+\n+    .form-control-placeholder {\n+      position: absolute;\n+      top: 0;\n+      padding: 13px 0 0 17px;\n+      transition: all 200ms;\n+      opacity: 0.5;\n+    }\n+\n+    .form-control:focus + .form-control-placeholder,\n+    .form-control.ng-not-empty + .form-control-placeholder {\n+      font-size: 70%;\n+      font-weight: 700;\n+      transform: translate3d(0, -35%, 0);\n+      opacity: 1;\n+      color: #4b4b4b\n+    }\n+\n+    .form-control:focus + .form-control-placeholder {\n+      color: #378dd4;\n+    }\n+\n+    .form-control.ng-invalid.ng-dirty + .form-control-placeholder{\n+      color: red;\n+    }\n+\n+    .form-control:required + label:after {\n+        color: #e32;\n+        content: ' *';\n+        display:inline;\n+    }\n+    .scrollbox {\n+      h1 {\n+        color: $dark-prim-color;\n+        font-size: 18px;\n+        font-weight: 600;\n+        margin-bottom: 20px;\n+        margin-top: 10px;\n+      }\n+      background-color: $white;\n+      border: $thin-border-stroke $main-border-color;\n+      border-radius: $main-border-radius;\n+      max-height: 350px;\n+      padding: 10px;\n+      overflow: auto;\n+    }\n+    .spinner-container {\n+      text-align: center;\n+    }\n+    .registration-header {\n+        padding: 10px 0;\n+        padding-top: 0;\n+        color: $medium-prim-color;\n+        font-size: 12px;\n+        line-height: 20px;\n+        width: 100%;\n+        margin-bottom: 0;\n+\n+        h2 {\n+          font-size: 31px;\n+          color: $dark-prim-color;\n+        }\n+\n+        &.for-header {\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 180}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4NDcwNw==", "bodyText": "Inhomogenous indentation.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370284707", "createdAt": "2020-01-23T18:31:54Z", "author": {"login": "lkiesow"}, "path": "modules/admin-ui/src/main/webapp/styles/extensions/views/modals/_registration.scss", "diffHunk": "@@ -0,0 +1,247 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+\n+#registration-modal {\n+\n+    .modal-body {\n+      padding: 3% 3% 3% 3%;\n+    }\n+\n+    .modal-content {\n+        background-color: $primary-color-white;\n+        //background-color: $white;\n+        .row {\n+            margin: 6px 0;\n+        }\n+\n+    fieldset {\n+      margin: 0px 0px 5px 0px;\n+      border: $thin-border-stroke $main-border-color;\n+      border-radius: $main-border-radius;\n+      legend {\n+        font-weight: bold;\n+        color: $medium-prim-color;\n+        padding: 0px 3px;\n+      }\n+      padding: 0px 20px;\n+    }\n+\n+    hr {\n+      border: none;\n+      height: 1px;\n+      color: $main-border-color;\n+      background-color: $main-border-color;\n+      margin: 2px 0px;\n+    }\n+\n+    p {\n+      color: $dark-prim-color;\n+      font-size: 15px;\n+      line-height: 1.25;\n+    }\n+\n+    b {\n+      color: $dark-prim-color;\n+      font-weight: 700;\n+    }\n+\n+    .form-group {\n+      font-family: \"Open Sans\", Helvetica, sans-serif;\n+      position: relative;\n+      margin-bottom: 0.3rem;\n+\n+      select {\n+        height: $input-height;\n+        padding-left: 17px;\n+      }\n+      select:-moz-focusring {\n+        color: transparent;\n+        text-shadow: 0 0 0 #000;\n+      }\n+\n+      display: inline-block;\n+      width: 100%;\n+    }\n+    .form-group-checkbox {\n+      margin-bottom: 2px;\n+      input, label {\n+        width: auto;\n+        vertical-align: middle;\n+        margin-top: 6px;\n+      }\n+      label {\n+        display: inline-block;\n+      }\n+    }\n+\n+    .form-group-checkbox:last-child {\n+      margin-bottom: 8px;\n+    }\n+\n+    .form-group-pair {\n+      .form-group:first-child {\n+        float:left;\n+        width:33%;\n+        margin-right:1.5%\n+      }\n+      .form-group:last-child {\n+        float:right;\n+        width:64%;\n+        margin-left:1.5%\n+      }\n+    }\n+    .form-control {\n+      width: 100%;\n+      padding-top: 8px;\n+    }\n+\n+    .form-control-placeholder {\n+      position: absolute;\n+      top: 0;\n+      padding: 13px 0 0 17px;\n+      transition: all 200ms;\n+      opacity: 0.5;\n+    }\n+\n+    .form-control:focus + .form-control-placeholder,\n+    .form-control.ng-not-empty + .form-control-placeholder {\n+      font-size: 70%;\n+      font-weight: 700;\n+      transform: translate3d(0, -35%, 0);\n+      opacity: 1;\n+      color: #4b4b4b\n+    }\n+\n+    .form-control:focus + .form-control-placeholder {\n+      color: #378dd4;\n+    }\n+\n+    .form-control.ng-invalid.ng-dirty + .form-control-placeholder{\n+      color: red;\n+    }\n+\n+    .form-control:required + label:after {\n+        color: #e32;\n+        content: ' *';\n+        display:inline;\n+    }\n+    .scrollbox {\n+      h1 {\n+        color: $dark-prim-color;\n+        font-size: 18px;\n+        font-weight: 600;\n+        margin-bottom: 20px;\n+        margin-top: 10px;\n+      }\n+      background-color: $white;\n+      border: $thin-border-stroke $main-border-color;\n+      border-radius: $main-border-radius;\n+      max-height: 350px;\n+      padding: 10px;\n+      overflow: auto;\n+    }\n+    .spinner-container {\n+      text-align: center;\n+    }\n+    .registration-header {\n+        padding: 10px 0;\n+        padding-top: 0;\n+        color: $medium-prim-color;\n+        font-size: 12px;\n+        line-height: 20px;\n+        width: 100%;\n+        margin-bottom: 0;\n+\n+        h2 {\n+          font-size: 31px;\n+          color: $dark-prim-color;\n+        }\n+\n+        &.for-header {\n+        }\n+\n+        &.for-footer {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 182}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4ODMwOQ==", "bodyText": "If you don't need it \u2192 delete it", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370288309", "createdAt": "2020-01-23T18:39:41Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/pom.xml", "diffHunk": "@@ -0,0 +1,125 @@\n+<?xml version=\"1.0\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <artifactId>opencast-adopter-statistics-impl</artifactId>\n+  <packaging>bundle</packaging>\n+  <name>Opencast :: adopter-statistics-impl</name>\n+  <parent>\n+    <groupId>org.opencastproject</groupId>\n+    <artifactId>base</artifactId>\n+    <version>9-SNAPSHOT</version>\n+    <relativePath>../../pom.xml</relativePath>\n+  </parent>\n+  <properties>\n+    <opencast.basedir>${project.basedir}/../..</opencast.basedir>\n+    <checkstyle.skip>false</checkstyle.skip>\n+  </properties>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.opencastproject</groupId>\n+      <artifactId>opencast-adopter-statistics-api</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.opencastproject</groupId>\n+      <artifactId>opencast-common</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.entwinemedia.common</groupId>\n+      <artifactId>functional</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>\n+\n+\n+\n+    <!--<dependency>\n+          <groupId>javax.ws.rs</groupId>\n+          <artifactId>jsr311-api</artifactId>\n+        </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.persistence</groupId>\n+      <artifactId>javax.persistence</artifactId>\n+      <version>2.1.0</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.persistence</groupId>\n+      <artifactId>jakarta.persistence</artifactId>\n+      <version>2.2.3</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>jakarta.ws.rs</groupId>\n+      <artifactId>jakarta.ws.rs-api</artifactId>\n+      <version>2.1.6</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>javax.ws.rs</groupId>\n+      <artifactId>jsr311-api</artifactId>\n+      <version>1.1.1</version>\n+    </dependency>\n+-->\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4ODk4Mg==", "bodyText": "How did this dependency happen?\nWhat's the index service used for?\nCan we get rid of this dependency?\nWe should never specify specific Opencast package versions in here.", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370288982", "createdAt": "2020-01-23T18:41:09Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/pom.xml", "diffHunk": "@@ -0,0 +1,125 @@\n+<?xml version=\"1.0\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <artifactId>opencast-adopter-statistics-impl</artifactId>\n+  <packaging>bundle</packaging>\n+  <name>Opencast :: adopter-statistics-impl</name>\n+  <parent>\n+    <groupId>org.opencastproject</groupId>\n+    <artifactId>base</artifactId>\n+    <version>9-SNAPSHOT</version>\n+    <relativePath>../../pom.xml</relativePath>\n+  </parent>\n+  <properties>\n+    <opencast.basedir>${project.basedir}/../..</opencast.basedir>\n+    <checkstyle.skip>false</checkstyle.skip>\n+  </properties>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.opencastproject</groupId>\n+      <artifactId>opencast-adopter-statistics-api</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.opencastproject</groupId>\n+      <artifactId>opencast-common</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.entwinemedia.common</groupId>\n+      <artifactId>functional</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>\n+\n+\n+\n+    <!--<dependency>\n+          <groupId>javax.ws.rs</groupId>\n+          <artifactId>jsr311-api</artifactId>\n+        </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.persistence</groupId>\n+      <artifactId>javax.persistence</artifactId>\n+      <version>2.1.0</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.persistence</groupId>\n+      <artifactId>jakarta.persistence</artifactId>\n+      <version>2.2.3</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>jakarta.ws.rs</groupId>\n+      <artifactId>jakarta.ws.rs-api</artifactId>\n+      <version>2.1.6</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>javax.ws.rs</groupId>\n+      <artifactId>jsr311-api</artifactId>\n+      <version>1.1.1</version>\n+    </dependency>\n+-->\n+\n+    <dependency>\n+      <groupId>jakarta.ws.rs</groupId>\n+      <artifactId>jakarta.ws.rs-api</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.persistence</groupId>\n+      <artifactId>jakarta.persistence</artifactId>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.opencastproject</groupId>\n+      <artifactId>opencast-index-service</artifactId>\n+      <version>9-SNAPSHOT</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4OTY4Mg==", "bodyText": "Not that f isn't a wonderful name but what about using form? ;-)", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370289682", "createdAt": "2020-01-23T18:42:39Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/Controller.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import static com.entwinemedia.fn.data.json.Jsons.f;\n+import static com.entwinemedia.fn.data.json.Jsons.obj;\n+import static com.entwinemedia.fn.data.json.Jsons.v;\n+import static javax.servlet.http.HttpServletResponse.SC_BAD_REQUEST;\n+import static javax.servlet.http.HttpServletResponse.SC_OK;\n+\n+import org.opencastproject.index.service.util.RestUtils;\n+import org.opencastproject.util.doc.rest.RestQuery;\n+import org.opencastproject.util.doc.rest.RestResponse;\n+import org.opencastproject.util.doc.rest.RestService;\n+\n+import com.entwinemedia.fn.data.json.Field;\n+import com.entwinemedia.fn.data.json.JValue;\n+import com.entwinemedia.fn.data.json.Jsons;\n+import com.google.gson.Gson;\n+import com.google.gson.reflect.TypeToken;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.reflect.Type;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Map;\n+\n+import javax.servlet.http.HttpServletResponse;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+/**\n+ * The REST endpoint for the adopter statistics service\n+ */\n+@Path(\"/\")\n+@RestService(name = \"registrationController\",\n+        title = \"Adopter Statistics Registration Service Endpoint\",\n+        abstractText = \"Rest Endpoint for the registration form.\",\n+        notes = {\"Provides operations regarding the adopter registration form\"})\n+public class Controller {\n+\n+  /** The logger */\n+  private static final Logger logger = LoggerFactory.getLogger(Controller.class);\n+\n+  /** The rest docs */\n+  protected String docs;\n+\n+  /** The service that provides methods for the registration */\n+  protected Service registrationService;\n+\n+  public void setRegistrationService(Service registrationService) {\n+    this.registrationService = registrationService;\n+  }\n+\n+\n+  private static final Type stringMapType = new TypeToken<Map<String, String>>() { }.getType();\n+  private static final Gson gson = new Gson();\n+  private static final SimpleDateFormat jsonDateFormat = new SimpleDateFormat(\"yyyy/MM/dd\");\n+\n+\n+  @GET\n+  @Path(\"registration\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"getregistrationform\", description = \"GETs the form data for the current logged in user\", reponses = {\n+          @RestResponse(description = \"Successful retrieved form data.\", responseCode = HttpServletResponse.SC_OK),\n+          @RestResponse(description = \"The underlying service could not output something.\", responseCode = HttpServletResponse.SC_INTERNAL_SERVER_ERROR) }, returnDescription = \"GETs the form data for a specific user.\")\n+  public Response getRegistrationForm() throws Exception {\n+\n+    logger.info(\"Retrieving statistics registration form for logged in user\");\n+    return RestUtils.okJson(formToJson(registrationService.retrieveFormData()));\n+  }\n+\n+  @POST\n+  @Path(\"registration\")\n+  @Consumes({MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON})\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"saveregistrationform\",\n+          description = \"Saves the adopter statistics registration form\",\n+          returnDescription = \"Status\", reponses = {\n+          @RestResponse(responseCode = SC_OK, description = \"Theme created\"),\n+          @RestResponse(responseCode = SC_BAD_REQUEST, description = \"The theme references a non-existing file\") })\n+  public Response register(String data) {\n+\n+    Map<String, String> dataMap = gson.fromJson(data, stringMapType);\n+    Form f = jsonToForm(dataMap);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MTIzMQ==", "bodyText": "Much simpler and you don't need any null checks: ` BooleanUtils.toBoolean\u00b4", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370291231", "createdAt": "2020-01-23T18:45:55Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/Controller.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import static com.entwinemedia.fn.data.json.Jsons.f;\n+import static com.entwinemedia.fn.data.json.Jsons.obj;\n+import static com.entwinemedia.fn.data.json.Jsons.v;\n+import static javax.servlet.http.HttpServletResponse.SC_BAD_REQUEST;\n+import static javax.servlet.http.HttpServletResponse.SC_OK;\n+\n+import org.opencastproject.index.service.util.RestUtils;\n+import org.opencastproject.util.doc.rest.RestQuery;\n+import org.opencastproject.util.doc.rest.RestResponse;\n+import org.opencastproject.util.doc.rest.RestService;\n+\n+import com.entwinemedia.fn.data.json.Field;\n+import com.entwinemedia.fn.data.json.JValue;\n+import com.entwinemedia.fn.data.json.Jsons;\n+import com.google.gson.Gson;\n+import com.google.gson.reflect.TypeToken;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.reflect.Type;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Map;\n+\n+import javax.servlet.http.HttpServletResponse;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+/**\n+ * The REST endpoint for the adopter statistics service\n+ */\n+@Path(\"/\")\n+@RestService(name = \"registrationController\",\n+        title = \"Adopter Statistics Registration Service Endpoint\",\n+        abstractText = \"Rest Endpoint for the registration form.\",\n+        notes = {\"Provides operations regarding the adopter registration form\"})\n+public class Controller {\n+\n+  /** The logger */\n+  private static final Logger logger = LoggerFactory.getLogger(Controller.class);\n+\n+  /** The rest docs */\n+  protected String docs;\n+\n+  /** The service that provides methods for the registration */\n+  protected Service registrationService;\n+\n+  public void setRegistrationService(Service registrationService) {\n+    this.registrationService = registrationService;\n+  }\n+\n+\n+  private static final Type stringMapType = new TypeToken<Map<String, String>>() { }.getType();\n+  private static final Gson gson = new Gson();\n+  private static final SimpleDateFormat jsonDateFormat = new SimpleDateFormat(\"yyyy/MM/dd\");\n+\n+\n+  @GET\n+  @Path(\"registration\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"getregistrationform\", description = \"GETs the form data for the current logged in user\", reponses = {\n+          @RestResponse(description = \"Successful retrieved form data.\", responseCode = HttpServletResponse.SC_OK),\n+          @RestResponse(description = \"The underlying service could not output something.\", responseCode = HttpServletResponse.SC_INTERNAL_SERVER_ERROR) }, returnDescription = \"GETs the form data for a specific user.\")\n+  public Response getRegistrationForm() throws Exception {\n+\n+    logger.info(\"Retrieving statistics registration form for logged in user\");\n+    return RestUtils.okJson(formToJson(registrationService.retrieveFormData()));\n+  }\n+\n+  @POST\n+  @Path(\"registration\")\n+  @Consumes({MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON})\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"saveregistrationform\",\n+          description = \"Saves the adopter statistics registration form\",\n+          returnDescription = \"Status\", reponses = {\n+          @RestResponse(responseCode = SC_OK, description = \"Theme created\"),\n+          @RestResponse(responseCode = SC_BAD_REQUEST, description = \"The theme references a non-existing file\") })\n+  public Response register(String data) {\n+\n+    Map<String, String> dataMap = gson.fromJson(data, stringMapType);\n+    Form f = jsonToForm(dataMap);\n+\n+    try {\n+      registrationService.saveFormData(f);\n+    } catch (Exception e) {\n+      return Response.serverError().build();\n+    }\n+\n+    return Response.ok().build();\n+  }\n+\n+  @GET\n+  @Produces(MediaType.TEXT_HTML)\n+  @Path(\"docs\")\n+  public String getDocs() {\n+    return docs;\n+  }\n+\n+  /**\n+   * Constructs a form object from a map\n+   * @param dataMap Form data as map\n+   *\n+   * @return The form object\n+   */\n+  private Form jsonToForm(Map<String, String> dataMap) {\n+    Form f = new Form();\n+    f.setOrganisationName(dataMap.get(\"organisationName\"));\n+    f.setDepartmentName(dataMap.get(\"departmentName\"));\n+    f.setFirstName(dataMap.get(\"firstName\"));\n+    f.setLastName(dataMap.get(\"lastName\"));\n+    f.setEmail(dataMap.get(\"email\"));\n+    f.setCountry(dataMap.get(\"country\"));\n+    f.setPostalCode(dataMap.get(\"postalCode\"));\n+    f.setCity(dataMap.get(\"city\"));\n+    f.setStreet(dataMap.get(\"street\"));\n+    f.setStreetNo(dataMap.get(\"streetNo\"));\n+    f.setDateModified(new Date());\n+\n+    String contactMe = dataMap.get(\"contactMe\");\n+    if (contactMe != null) {\n+      f.setContactMe(Boolean.parseBoolean(contactMe));\n+    }\n+\n+    String allowStatistics = dataMap.get(\"allowsStatistics\");\n+    if (allowStatistics != null) {\n+      f.setAllowsStatistics(Boolean.parseBoolean(allowStatistics));\n+    }\n+\n+    String allowErrorReports = dataMap.get(\"allowsErrorReports\");\n+    if (allowErrorReports != null) {\n+      f.setAllowsErrorReports(Boolean.parseBoolean(allowErrorReports));\n+    }\n+\n+    String allowTechData = dataMap.get(\"allowsTechData\");\n+    if (allowTechData != null) {\n+      f.setAllowsTechData(Boolean.parseBoolean(allowTechData));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MzM5MQ==", "bodyText": "You are using GSON anyway and could use it for serialization here which should be much simpler \u2013 basically just:\nString jsonString = gson.toJson(form);", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370293391", "createdAt": "2020-01-23T18:50:22Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/Controller.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import static com.entwinemedia.fn.data.json.Jsons.f;\n+import static com.entwinemedia.fn.data.json.Jsons.obj;\n+import static com.entwinemedia.fn.data.json.Jsons.v;\n+import static javax.servlet.http.HttpServletResponse.SC_BAD_REQUEST;\n+import static javax.servlet.http.HttpServletResponse.SC_OK;\n+\n+import org.opencastproject.index.service.util.RestUtils;\n+import org.opencastproject.util.doc.rest.RestQuery;\n+import org.opencastproject.util.doc.rest.RestResponse;\n+import org.opencastproject.util.doc.rest.RestService;\n+\n+import com.entwinemedia.fn.data.json.Field;\n+import com.entwinemedia.fn.data.json.JValue;\n+import com.entwinemedia.fn.data.json.Jsons;\n+import com.google.gson.Gson;\n+import com.google.gson.reflect.TypeToken;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.lang.reflect.Type;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Map;\n+\n+import javax.servlet.http.HttpServletResponse;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+/**\n+ * The REST endpoint for the adopter statistics service\n+ */\n+@Path(\"/\")\n+@RestService(name = \"registrationController\",\n+        title = \"Adopter Statistics Registration Service Endpoint\",\n+        abstractText = \"Rest Endpoint for the registration form.\",\n+        notes = {\"Provides operations regarding the adopter registration form\"})\n+public class Controller {\n+\n+  /** The logger */\n+  private static final Logger logger = LoggerFactory.getLogger(Controller.class);\n+\n+  /** The rest docs */\n+  protected String docs;\n+\n+  /** The service that provides methods for the registration */\n+  protected Service registrationService;\n+\n+  public void setRegistrationService(Service registrationService) {\n+    this.registrationService = registrationService;\n+  }\n+\n+\n+  private static final Type stringMapType = new TypeToken<Map<String, String>>() { }.getType();\n+  private static final Gson gson = new Gson();\n+  private static final SimpleDateFormat jsonDateFormat = new SimpleDateFormat(\"yyyy/MM/dd\");\n+\n+\n+  @GET\n+  @Path(\"registration\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"getregistrationform\", description = \"GETs the form data for the current logged in user\", reponses = {\n+          @RestResponse(description = \"Successful retrieved form data.\", responseCode = HttpServletResponse.SC_OK),\n+          @RestResponse(description = \"The underlying service could not output something.\", responseCode = HttpServletResponse.SC_INTERNAL_SERVER_ERROR) }, returnDescription = \"GETs the form data for a specific user.\")\n+  public Response getRegistrationForm() throws Exception {\n+\n+    logger.info(\"Retrieving statistics registration form for logged in user\");\n+    return RestUtils.okJson(formToJson(registrationService.retrieveFormData()));\n+  }\n+\n+  @POST\n+  @Path(\"registration\")\n+  @Consumes({MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON})\n+  @Produces(MediaType.APPLICATION_JSON)\n+  @RestQuery(name = \"saveregistrationform\",\n+          description = \"Saves the adopter statistics registration form\",\n+          returnDescription = \"Status\", reponses = {\n+          @RestResponse(responseCode = SC_OK, description = \"Theme created\"),\n+          @RestResponse(responseCode = SC_BAD_REQUEST, description = \"The theme references a non-existing file\") })\n+  public Response register(String data) {\n+\n+    Map<String, String> dataMap = gson.fromJson(data, stringMapType);\n+    Form f = jsonToForm(dataMap);\n+\n+    try {\n+      registrationService.saveFormData(f);\n+    } catch (Exception e) {\n+      return Response.serverError().build();\n+    }\n+\n+    return Response.ok().build();\n+  }\n+\n+  @GET\n+  @Produces(MediaType.TEXT_HTML)\n+  @Path(\"docs\")\n+  public String getDocs() {\n+    return docs;\n+  }\n+\n+  /**\n+   * Constructs a form object from a map\n+   * @param dataMap Form data as map\n+   *\n+   * @return The form object\n+   */\n+  private Form jsonToForm(Map<String, String> dataMap) {\n+    Form f = new Form();\n+    f.setOrganisationName(dataMap.get(\"organisationName\"));\n+    f.setDepartmentName(dataMap.get(\"departmentName\"));\n+    f.setFirstName(dataMap.get(\"firstName\"));\n+    f.setLastName(dataMap.get(\"lastName\"));\n+    f.setEmail(dataMap.get(\"email\"));\n+    f.setCountry(dataMap.get(\"country\"));\n+    f.setPostalCode(dataMap.get(\"postalCode\"));\n+    f.setCity(dataMap.get(\"city\"));\n+    f.setStreet(dataMap.get(\"street\"));\n+    f.setStreetNo(dataMap.get(\"streetNo\"));\n+    f.setDateModified(new Date());\n+\n+    String contactMe = dataMap.get(\"contactMe\");\n+    if (contactMe != null) {\n+      f.setContactMe(Boolean.parseBoolean(contactMe));\n+    }\n+\n+    String allowStatistics = dataMap.get(\"allowsStatistics\");\n+    if (allowStatistics != null) {\n+      f.setAllowsStatistics(Boolean.parseBoolean(allowStatistics));\n+    }\n+\n+    String allowErrorReports = dataMap.get(\"allowsErrorReports\");\n+    if (allowErrorReports != null) {\n+      f.setAllowsErrorReports(Boolean.parseBoolean(allowErrorReports));\n+    }\n+\n+    String allowTechData = dataMap.get(\"allowsTechData\");\n+    if (allowTechData != null) {\n+      f.setAllowsTechData(Boolean.parseBoolean(allowTechData));\n+    }\n+\n+    return f;\n+  }\n+\n+  /**\n+   * @return The JSON representation of the form.\n+   */\n+  private JValue formToJson(IForm iform) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5NjAxNw==", "bodyText": "Why by username?\nIn which scenario is this used?", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370296017", "createdAt": "2020-01-23T18:55:58Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/Form.java", "diffHunk": "@@ -0,0 +1,340 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import org.opencastproject.security.api.Organization;\n+import org.opencastproject.util.EqualsUtil;\n+\n+import java.util.Date;\n+\n+import javax.persistence.Access;\n+import javax.persistence.AccessType;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.Id;\n+import javax.persistence.NamedQueries;\n+import javax.persistence.NamedQuery;\n+import javax.persistence.Table;\n+import javax.persistence.Temporal;\n+import javax.persistence.TemporalType;\n+\n+/**\n+ * JPA-annotated registration form object\n+ */\n+@Entity\n+@Access(AccessType.FIELD)\n+@Table(name = \"oc_statistic_registration\")\n+@NamedQueries({\n+        @NamedQuery(name = \"Form.findByUsername\", query = \"Select f FROM Form f where f.username = :username\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5ODQzNQ==", "bodyText": "You don't need to cast this if you use the TypedQuery interface above:\nTypedQuery<Integer> q = em.createQuery(\u2026, Integerclass);", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370298435", "createdAt": "2020-01-23T19:01:04Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/FormRepositoryImpl.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.util.Date;\n+import java.util.UUID;\n+\n+import javax.persistence.EntityManager;\n+import javax.persistence.EntityManagerFactory;\n+import javax.persistence.EntityTransaction;\n+import javax.persistence.NoResultException;\n+import javax.persistence.Query;\n+\n+/**\n+ * Repository that handles registration forms for the adopter statistics\n+ */\n+public class FormRepositoryImpl implements FormRepository {\n+\n+  /**\n+   * The factory used to generate the entity manager.\n+   */\n+  protected EntityManagerFactory emf = null;\n+\n+  /**\n+   * Logging utilities\n+   */\n+  private static final Logger logger = LoggerFactory.getLogger(FormRepository.class);\n+\n+  /**\n+   * The setter for OSGI.\n+   *\n+   * @param emf The entity manager factory.\n+   */\n+  void setEntityManagerFactory(EntityManagerFactory emf) {\n+    this.emf = emf;\n+  }\n+\n+  @Override\n+  public void save(IForm f) throws FormRepositoryException {\n+    Form form = (Form) f;\n+    EntityManager em = null;\n+    EntityTransaction tx = null;\n+    try {\n+      em = emf.createEntityManager();\n+      tx = em.getTransaction();\n+      tx.begin();\n+      Form dbForm = findByUsername(form.getUsername(), em);\n+      if (dbForm == null) {\n+        if (countEntries(em) > 0) {\n+          throw new FormRepositoryException(\"There must be just one form entry in the DB\");\n+        }\n+        // There is no entry in the DB yet, so we create a UUID\n+        form.setAdopterKey(UUID.randomUUID().toString());\n+        form.setDateCreated(new Date());\n+        em.persist(form);\n+      } else {\n+        dbForm.merge(form);\n+        em.merge(dbForm);\n+      }\n+      tx.commit();\n+    } catch (Exception e) {\n+      logger.error(\"Could not update adopter statistics registration form: {}\", e.getMessage());\n+      if (tx.isActive()) {\n+        tx.rollback();\n+      }\n+      throw new FormRepositoryException(e);\n+    } finally {\n+      if (em != null)\n+        em.close();\n+    }\n+  }\n+\n+  private int countEntries(EntityManager em) {\n+    Query q = em.createNamedQuery(\"Form.findAllCount\");\n+    try {\n+      return ((Number) q.getSingleResult()).intValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5OTEwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class ServiceImpl implements Service {\n          \n          \n            \n            public class AdopterRegistrationServiceImpl implements Service {", "url": "https://github.com/opencast/opencast/pull/1363#discussion_r370299109", "createdAt": "2020-01-23T19:02:33Z", "author": {"login": "lkiesow"}, "path": "modules/adopter-statistics-impl/src/main/java/org/opencastproject/adopterstatistics/registration/ServiceImpl.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/**\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ *\n+ * The Apereo Foundation licenses this file to you under the Educational\n+ * Community License, Version 2.0 (the \"License\"); you may not use this file\n+ * except in compliance with the License. You may obtain a copy of the License\n+ * at:\n+ *\n+ *   http://opensource.org/licenses/ecl2.txt\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ *\n+ */\n+\n+package org.opencastproject.adopterstatistics.registration;\n+\n+import org.opencastproject.security.api.SecurityService;\n+import org.opencastproject.security.api.User;\n+import org.opencastproject.util.NotFoundException;\n+\n+/**\n+ * This service is used for registration and retrieving form data for\n+ * the logged in user in the context of adopter statistics.\n+ */\n+public class ServiceImpl implements Service {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dedd4d966ec6a2eac4a18263337fda5242a242d4"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1956, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}