{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MTQ5MTA5", "number": 1750, "title": "HTTPS with Apache httpd", "bodyText": "This patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy.\nYour pull request should\u2026\n\n have a concise title\n close an accompanying issue if one exists\n be against the correct branch (features can only go into develop)\n include migration scripts and documentation, if appropriate\n pass automated testing\n have a clean commit history\n have proper commit messages (title and body) for all commits\n have appropriate tags applied", "createdAt": "2020-08-09T12:57:55Z", "url": "https://github.com/opencast/opencast/pull/1750", "merged": true, "mergeCommit": {"oid": "7431709e568817e85748ff83b1be7e2308c05471"}, "closed": true, "closedAt": "2020-10-05T10:59:10Z", "author": {"login": "lkiesow"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9NRCJABqjM2MzY0NDg0MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPhpYdABqjM4Mzk4MTU5MDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16c6f756e9af81e1df918ee8b4001df3b2662518", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/16c6f756e9af81e1df918ee8b4001df3b2662518", "committedDate": "2020-08-09T12:55:50Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}, "afterCommit": {"oid": "748fc8369654bb3f7554fb0118b6e836f204499b", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/748fc8369654bb3f7554fb0118b6e836f204499b", "committedDate": "2020-08-09T13:00:55Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1OTIxMDg0", "url": "https://github.com/opencast/opencast/pull/1750#pullrequestreview-465921084", "createdAt": "2020-08-12T13:34:49Z", "commit": {"oid": "748fc8369654bb3f7554fb0118b6e836f204499b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMzozNDo0OVrOG_hjjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMzozNjo1OFrOG_hpIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI2MzI0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            > refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.\n          \n          \n            \n            > Refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.", "url": "https://github.com/opencast/opencast/pull/1750#discussion_r469263246", "createdAt": "2020-08-12T13:34:49Z", "author": {"login": "Arnei"}, "path": "docs/guides/admin/docs/configuration/https/apache-httpd.md", "diffHunk": "@@ -0,0 +1,79 @@\n+Enable HTTPS using Apache httpd\n+===============================\n+\n+> [Using Nginx as reverse proxy for Opencast](nginx.md) is the preferred way of running Opencast.\n+> refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748fc8369654bb3f7554fb0118b6e836f204499b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI2NDY3Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Als enable secure cookies in `etc/org.ops4j.pax.web.cfg`:\n          \n          \n            \n            Also enable secure cookies in `etc/org.ops4j.pax.web.cfg`:", "url": "https://github.com/opencast/opencast/pull/1750#discussion_r469264672", "createdAt": "2020-08-12T13:36:58Z", "author": {"login": "Arnei"}, "path": "docs/guides/admin/docs/configuration/https/apache-httpd.md", "diffHunk": "@@ -0,0 +1,79 @@\n+Enable HTTPS using Apache httpd\n+===============================\n+\n+> [Using Nginx as reverse proxy for Opencast](nginx.md) is the preferred way of running Opencast.\n+> refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.\n+\n+This guide will help you to configure httpd to act as HTTP(S) proxy for Opencast.\n+\n+\n+Opencast Configuration\n+----------------------\n+\n+Make sure to use `https` as protocol for `org.opencastproject.server.url` in `etc/custom.properties`.\n+\n+```ini\n+org.opencastproject.server.url=https://example.opencast.org\n+```\n+\n+Als enable secure cookies in `etc/org.ops4j.pax.web.cfg`:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748fc8369654bb3f7554fb0118b6e836f204499b"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09bc9e895d1d44e699cc3bee677b4eefb1fc9278", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/09bc9e895d1d44e699cc3bee677b4eefb1fc9278", "committedDate": "2020-08-12T15:09:26Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Arne Wilken <Arnei@users.noreply.github.com>"}, "afterCommit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/38c177a6c8b994ab1b152823289f2eca9ceaa270", "committedDate": "2020-08-12T15:10:25Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwOTE0Njk2", "url": "https://github.com/opencast/opencast/pull/1750#pullrequestreview-500914696", "createdAt": "2020-10-02T07:33:18Z", "commit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNzozMzoxOFrOHbjsVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNzozMzoxOFrOHbjsVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1ODM4OQ==", "bodyText": "I think these lines should also go into nginx-documentation.", "url": "https://github.com/opencast/opencast/pull/1750#discussion_r498658389", "createdAt": "2020-10-02T07:33:18Z", "author": {"login": "pascalseeland"}, "path": "docs/guides/admin/docs/configuration/https/apache-httpd.md", "diffHunk": "@@ -0,0 +1,79 @@\n+Enable HTTPS using Apache httpd\n+===============================\n+\n+> [Using Nginx as reverse proxy for Opencast](nginx.md) is the preferred way of running Opencast.\n+> Refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.\n+\n+This guide will help you to configure httpd to act as HTTP(S) proxy for Opencast.\n+\n+\n+Opencast Configuration\n+----------------------\n+\n+Make sure to use `https` as protocol for `org.opencastproject.server.url` in `etc/custom.properties`.\n+\n+```ini\n+org.opencastproject.server.url=https://example.opencast.org\n+```\n+\n+Also enable secure cookies in `etc/org.ops4j.pax.web.cfg`:\n+\n+```ini\n+org.ops4j.pax.web.session.cookie.secure=true\n+org.ops4j.pax.web.session.cookie.httpOnly=true\n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwOTE5NzY2", "url": "https://github.com/opencast/opencast/pull/1750#pullrequestreview-500919766", "createdAt": "2020-10-02T07:42:16Z", "commit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNzo0MjoxNlrOHbj7jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNzo0MjoxNlrOHbj7jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY2MjI4NQ==", "bodyText": "This should be example.opencast.org as mentioned in line 42 to be consistent", "url": "https://github.com/opencast/opencast/pull/1750#discussion_r498662285", "createdAt": "2020-10-02T07:42:16Z", "author": {"login": "pascalseeland"}, "path": "docs/guides/admin/docs/configuration/https/apache-httpd.md", "diffHunk": "@@ -0,0 +1,79 @@\n+Enable HTTPS using Apache httpd\n+===============================\n+\n+> [Using Nginx as reverse proxy for Opencast](nginx.md) is the preferred way of running Opencast.\n+> Refer to the [Nginx guide for configuration instructions](nginx.md) for that type of setup.\n+\n+This guide will help you to configure httpd to act as HTTP(S) proxy for Opencast.\n+\n+\n+Opencast Configuration\n+----------------------\n+\n+Make sure to use `https` as protocol for `org.opencastproject.server.url` in `etc/custom.properties`.\n+\n+```ini\n+org.opencastproject.server.url=https://example.opencast.org\n+```\n+\n+Also enable secure cookies in `etc/org.ops4j.pax.web.cfg`:\n+\n+```ini\n+org.ops4j.pax.web.session.cookie.secure=true\n+org.ops4j.pax.web.session.cookie.httpOnly=true\n+```\n+\n+No other configuration is required.\n+Do not enable TLS in Opencast.\n+Listen to local connections only.\n+Both are the default settings.\n+\n+\n+Minimal Set-up\n+--------------\n+\n+> Note that this guide does not give any security advice but is meant to provide a minimal working example which works\n+> well with Opencast.\n+\n+The following configuration is an example for `/etc/httpd/conf.d/opencast.conf`.\n+Note that depending on your distributions packaging, often `conf.d` or `sites-enabled` directories are used.\n+Adjust the file path accordingly.\n+\n+Explanations for the configuration directives are provided inline. Please make sure to replace `example.opencast.org`\n+with your node's domain name.\n+\n+The main goals of this set-up are:\n+\n+- Always redirect to HTTPS\n+- Proxy to Opencast and take care of TLS\n+- Avoid caching\n+\n+\n+```\n+<VirtualHost *:80>\n+  ServerName opencast.lkiesow.io", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270"}, "originalPosition": 54}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "38c177a6c8b994ab1b152823289f2eca9ceaa270", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/38c177a6c8b994ab1b152823289f2eca9ceaa270", "committedDate": "2020-08-12T15:10:25Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}, "afterCommit": {"oid": "1f6a4e58fefd2b32ea93556d9b330cecef8a2e8a", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/1f6a4e58fefd2b32ea93556d9b330cecef8a2e8a", "committedDate": "2020-10-02T10:02:59Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTAwNzI2", "url": "https://github.com/opencast/opencast/pull/1750#pullrequestreview-501900726", "createdAt": "2020-10-05T10:00:31Z", "commit": {"oid": "1f6a4e58fefd2b32ea93556d9b330cecef8a2e8a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7431709e568817e85748ff83b1be7e2308c05471", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/7431709e568817e85748ff83b1be7e2308c05471", "committedDate": "2020-10-05T10:57:48Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f6a4e58fefd2b32ea93556d9b330cecef8a2e8a", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/1f6a4e58fefd2b32ea93556d9b330cecef8a2e8a", "committedDate": "2020-10-02T10:02:59Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}, "afterCommit": {"oid": "7431709e568817e85748ff83b1be7e2308c05471", "author": {"user": {"login": "lkiesow", "name": "Lars Kiesow"}}, "url": "https://github.com/opencast/opencast/commit/7431709e568817e85748ff83b1be7e2308c05471", "committedDate": "2020-10-05T10:57:48Z", "message": "HTTPS with Apache httpd\n\nThis patch documents how to enable HTTPS for Opencast using Apache httpd\nas reverse proxy."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1800, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}