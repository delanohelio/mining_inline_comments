{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3ODgwMDA1", "number": 965, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjo1OToyNVrOEN6Axw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzowMjo0NVrOEN6FwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMDE3NDE1OnYy", "diffSide": "RIGHT", "path": "src/main/java/run/halo/app/service/impl/PostServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjo1OToyNVrOGwxbJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzowMzo0M1rOGwxk8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NDU5OA==", "bodyText": "\u4e0d\u5efa\u8bae\u8fd9\u6837\u8ba1\u7b97\u5b57\u6570\uff0c\u5efa\u8bae\u4f7f\u7528\u6e32\u67d3\u597d\u7684 html \u6587\u6863\uff0c\u5e76\u6e05\u9664 html \u6807\u7b7e\uff0c\u8fd9\u6837\u7b97\u51fa\u6765\u7684\u5b57\u6570\u7406\u8bba\u4e0a\u5e94\u8be5\u66f4\u7cbe\u51c6\u70b9\u3002", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453794598", "createdAt": "2020-07-13T16:59:25Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/service/impl/PostServiceImpl.java", "diffHunk": "@@ -750,6 +756,8 @@ private PostDetailVO createOrUpdate(@NonNull Post post, Set<Integer> tagIds,\n                                         Set<Integer> categoryIds, Set<PostMeta> metas) {\n         Assert.notNull(post, \"Post param must not be null\");\n \n+        post.setWordCount((long) post.getOriginalContent().trim().length());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NzEwNw==", "bodyText": "\u53e6\u5916\uff0c\u8fd9\u91cc\u8c8c\u4f3c\u53ea\u4fee\u6539\u4e86 PostService\uff0cSheetService \u4e5f\u9700\u8981\u4fee\u6539\u54e6\u3002", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453797107", "createdAt": "2020-07-13T17:03:43Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/service/impl/PostServiceImpl.java", "diffHunk": "@@ -750,6 +756,8 @@ private PostDetailVO createOrUpdate(@NonNull Post post, Set<Integer> tagIds,\n                                         Set<Integer> categoryIds, Set<PostMeta> metas) {\n         Assert.notNull(post, \"Post param must not be null\");\n \n+        post.setWordCount((long) post.getOriginalContent().trim().length());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NDU5OA=="}, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMDE4Njg4OnYy", "diffSide": "RIGHT", "path": "src/main/java/run/halo/app/model/entity/BasePost.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzowMjo0NVrOGwxi9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzowMjo0NVrOGwxi9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NjU5OQ==", "bodyText": "\u8fd9\u91cc\u76f4\u63a5 word_count \u5c31\u884c\u4e86", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453796599", "createdAt": "2020-07-13T17:02:45Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/model/entity/BasePost.java", "diffHunk": "@@ -151,6 +152,13 @@\n     @Column(name = \"meta_description\", length = 1023)\n     private String metaDescription;\n \n+    /**\n+     * Content word count\n+     */\n+    @Column(name = \"content_word_count\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2002, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}