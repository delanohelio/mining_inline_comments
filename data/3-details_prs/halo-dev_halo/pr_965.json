{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3ODgwMDA1", "number": 965, "title": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528", "bodyText": "", "createdAt": "2020-07-12T10:17:48Z", "url": "https://github.com/halo-dev/halo/pull/965", "merged": true, "mergeCommit": {"oid": "41edec82137e749ea838031837dcb6b32ce1d23f"}, "closed": true, "closedAt": "2020-07-21T13:58:05Z", "author": {"login": "cetr"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0J5nIgH2gAyNDQ3ODgwMDA1OmIzZmEzMTkwYmU0ZWQ4YWViNWI1Yjg5Y2VlYzZmMDRlMmNiZmYxODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3GqmugFqTQ1MjQ4NDQ2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b3fa3190be4ed8aeb5b5b89ceec6f04e2cbff182", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/b3fa3190be4ed8aeb5b5b89ceec6f04e2cbff182", "committedDate": "2020-07-12T10:02:13Z", "message": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/933d9acb44797271510b634f467cf2b7242188a6", "committedDate": "2020-07-12T10:42:18Z", "message": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDMzNDU0", "url": "https://github.com/halo-dev/halo/pull/965#pullrequestreview-447433454", "createdAt": "2020-07-13T16:59:25Z", "commit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjo1OToyNVrOGwxbJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzowMzo0M1rOGwxk8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NDU5OA==", "bodyText": "\u4e0d\u5efa\u8bae\u8fd9\u6837\u8ba1\u7b97\u5b57\u6570\uff0c\u5efa\u8bae\u4f7f\u7528\u6e32\u67d3\u597d\u7684 html \u6587\u6863\uff0c\u5e76\u6e05\u9664 html \u6807\u7b7e\uff0c\u8fd9\u6837\u7b97\u51fa\u6765\u7684\u5b57\u6570\u7406\u8bba\u4e0a\u5e94\u8be5\u66f4\u7cbe\u51c6\u70b9\u3002", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453794598", "createdAt": "2020-07-13T16:59:25Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/service/impl/PostServiceImpl.java", "diffHunk": "@@ -750,6 +756,8 @@ private PostDetailVO createOrUpdate(@NonNull Post post, Set<Integer> tagIds,\n                                         Set<Integer> categoryIds, Set<PostMeta> metas) {\n         Assert.notNull(post, \"Post param must not be null\");\n \n+        post.setWordCount((long) post.getOriginalContent().trim().length());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NjU5OQ==", "bodyText": "\u8fd9\u91cc\u76f4\u63a5 word_count \u5c31\u884c\u4e86", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453796599", "createdAt": "2020-07-13T17:02:45Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/model/entity/BasePost.java", "diffHunk": "@@ -151,6 +152,13 @@\n     @Column(name = \"meta_description\", length = 1023)\n     private String metaDescription;\n \n+    /**\n+     * Content word count\n+     */\n+    @Column(name = \"content_word_count\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NzEwNw==", "bodyText": "\u53e6\u5916\uff0c\u8fd9\u91cc\u8c8c\u4f3c\u53ea\u4fee\u6539\u4e86 PostService\uff0cSheetService \u4e5f\u9700\u8981\u4fee\u6539\u54e6\u3002", "url": "https://github.com/halo-dev/halo/pull/965#discussion_r453797107", "createdAt": "2020-07-13T17:03:43Z", "author": {"login": "ruibaby"}, "path": "src/main/java/run/halo/app/service/impl/PostServiceImpl.java", "diffHunk": "@@ -750,6 +756,8 @@ private PostDetailVO createOrUpdate(@NonNull Post post, Set<Integer> tagIds,\n                                         Set<Integer> categoryIds, Set<PostMeta> metas) {\n         Assert.notNull(post, \"Post param must not be null\");\n \n+        post.setWordCount((long) post.getOriginalContent().trim().length());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NDU5OA=="}, "originalCommit": {"oid": "933d9acb44797271510b634f467cf2b7242188a6"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2b274accaa8abed2d11637926fc6cf5248f2375", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/f2b274accaa8abed2d11637926fc6cf5248f2375", "committedDate": "2020-07-13T18:07:48Z", "message": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e04415c3e3656764e4b513243e2239a83528f0a2", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/e04415c3e3656764e4b513243e2239a83528f0a2", "committedDate": "2020-07-13T18:08:29Z", "message": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66720c73559803ac0e9291072f95677e64f7c046", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/66720c73559803ac0e9291072f95677e64f7c046", "committedDate": "2020-07-13T18:16:58Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec7694357d4183c96c117c88479b28396ff7899", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/2ec7694357d4183c96c117c88479b28396ff7899", "committedDate": "2020-07-13T18:49:21Z", "message": "Merge branch 'master' of https://github.com/coortop/halo into temp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81074eebd8d3f3fd186977c092df3dc88741ba77", "author": {"user": {"login": "cetr", "name": "\u77e5\u96e8"}}, "url": "https://github.com/halo-dev/halo/commit/81074eebd8d3f3fd186977c092df3dc88741ba77", "committedDate": "2020-07-13T18:58:26Z", "message": "feat: \u6587\u7ae0\u8868\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1\u5b57\u6bb5\uff0c\u4e3b\u9898\u53ef\u4f7f\u7528${post.wordCount}\u8c03\u7528"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDg0NDY4", "url": "https://github.com/halo-dev/halo/pull/965#pullrequestreview-452484468", "createdAt": "2020-07-21T13:57:53Z", "commit": {"oid": "81074eebd8d3f3fd186977c092df3dc88741ba77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4127, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}