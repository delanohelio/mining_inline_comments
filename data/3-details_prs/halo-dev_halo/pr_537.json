{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5ODY4ODQ1", "number": 537, "title": "feat: support freemarker template Inheritance #534", "bodyText": "\u8ba9\u6a21\u677f\u652f\u6301\u4ee5\u4e0b\u5199\u6cd5\uff1a\n<!DOCTYPE html>\n<html>\n    <head>\n        <title>Base Layout</title>\n        <@layout.block name=\"head\">\n            <script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.10.1.min.js\"></script>\n        </@layout.block>\n    </head>\n    <body>\n        <@layout.block name=\"header\">\n            <h1>Base Layout</h1>\n        </@layout.block>\n        <div class=\"base\">\n            <@layout.block name=\"contents\">\n                <h2>Contents will be here</h2>\n            </@layout.block>\n        </div>\n        <@layout.block name=\"footer\">\n            <div>Footer base</div>\n        </@layout.block>\n    </body>\n</html>\n\n<@layout.extends name=\"layouts/base.ftl\">\n    <@layout.put block=\"head\">\n        <script src=\"//ajax.googleapis.com/ajax/libs/mootools/1.4.5/mootools-yui-compressed.js\"></script>\n    </@layout.put>\n    <@layout.put block=\"header\" type=\"prepend\">\n        <h2>Index Page</h2>\n    </@layout.put>\n    <@layout.put block=\"contents\">\n        <p>blah.. blah..</p>\n    </@layout.put>\n    <@layout.put block=\"footer\" type=\"replace\">\n        <hr/>\n        <div class=\"footer\">Footer replaced by index</div>\n    </@layout.put>\n</@layout.extends>", "createdAt": "2020-02-01T07:35:17Z", "url": "https://github.com/halo-dev/halo/pull/537", "merged": true, "mergeCommit": {"oid": "63122ef62586c8e43b3efbd44dcc6b531b84f007"}, "closed": true, "closedAt": "2020-02-01T09:14:36Z", "author": {"login": "ruibaby"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_-rjxgH2gAyMzY5ODY4ODQ1OmFlNmQ3NzNjNGQ1MTVhMThmYWE1MGI1OGNiM2RmNDAyNTM0ZDQ0OGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAAFESgFqTM1MTg3NDMxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae6d773c4d515a18faa50b58cb3df402534d448c", "author": {"user": {"login": "ruibaby", "name": "Ryan Wang"}}, "url": "https://github.com/halo-dev/halo/commit/ae6d773c4d515a18faa50b58cb3df402534d448c", "committedDate": "2020-02-01T07:33:51Z", "message": "feat: #534"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODcxMzQ2", "url": "https://github.com/halo-dev/halo/pull/537#pullrequestreview-351871346", "createdAt": "2020-02-01T07:45:31Z", "commit": {"oid": "ae6d773c4d515a18faa50b58cb3df402534d448c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzo0NTozMVrOFkcyyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzo0NTozMVrOFkcyyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NDgwOQ==", "bodyText": "HashMap\u7684\u53c2\u6570\u4e3a\u4e86\u9632\u6b62\u6269\u5bb9\u521d\u59cb\u5bb9\u91cf\u5e94\u8bbe\u7f6e\u4e3a\u5b9e\u9645\u5bb9\u91cf / 0.75 + 1\u8fd9\u91cc\u5e94\u8be5\u662f5", "url": "https://github.com/halo-dev/halo/pull/537#discussion_r373764809", "createdAt": "2020-02-01T07:45:31Z", "author": {"login": "guqing"}, "path": "src/main/java/run/halo/app/config/WebMvcAutoConfiguration.java", "diffHunk": "@@ -114,6 +120,16 @@ public void addFormatters(FormatterRegistry registry) {\n         registry.addConverterFactory(new StringToEnumConverterFactory());\n     }\n \n+    @Bean\n+    public Map<String, TemplateModel> freemarkerLayoutDirectives() {\n+        Map<String, TemplateModel> freemarkerLayoutDirectives = new HashMap<>(3);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae6d773c4d515a18faa50b58cb3df402534d448c"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dce969cec347f98361296f37ff614160d84ebeef", "author": {"user": {"login": "ruibaby", "name": "Ryan Wang"}}, "url": "https://github.com/halo-dev/halo/commit/dce969cec347f98361296f37ff614160d84ebeef", "committedDate": "2020-02-01T07:50:59Z", "message": "Merge branch 'dev' of https://github.com/halo-dev/halo into freemarker-template-inheritance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODcxNTM5", "url": "https://github.com/halo-dev/halo/pull/537#pullrequestreview-351871539", "createdAt": "2020-02-01T07:51:33Z", "commit": {"oid": "ae6d773c4d515a18faa50b58cb3df402534d448c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzo1MTozM1rOFkczwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzo1MTozM1rOFkczwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTA1Ng==", "bodyText": "\u8fd9\u91cc\u540c\u4e0a", "url": "https://github.com/halo-dev/halo/pull/537#discussion_r373765056", "createdAt": "2020-02-01T07:51:33Z", "author": {"login": "guqing"}, "path": "src/main/java/run/halo/app/config/WebMvcAutoConfiguration.java", "diffHunk": "@@ -142,6 +158,13 @@ public FreeMarkerConfigurer freemarkerConfig(HaloProperties haloProperties) thro\n         // Set predefined freemarker configuration\n         configurer.setConfiguration(configuration);\n \n+        // Set layout variable\n+        Map<String, Object> freemarkerVariables = new HashMap<>(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae6d773c4d515a18faa50b58cb3df402534d448c"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bd26ff7fe8752b4d67e8c361c83b8fdefbc291f", "author": {"user": {"login": "ruibaby", "name": "Ryan Wang"}}, "url": "https://github.com/halo-dev/halo/commit/4bd26ff7fe8752b4d67e8c361c83b8fdefbc291f", "committedDate": "2020-02-01T09:05:09Z", "message": "fix: HashMap initialCapacity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10981ec017a076dbe72cdb5a948062409fe9b232", "author": {"user": {"login": "ruibaby", "name": "Ryan Wang"}}, "url": "https://github.com/halo-dev/halo/commit/10981ec017a076dbe72cdb5a948062409fe9b232", "committedDate": "2020-02-01T09:09:24Z", "message": "Merge branch 'dev' of https://github.com/halo-dev/halo into freemarker-template-inheritance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODc0MzEw", "url": "https://github.com/halo-dev/halo/pull/537#pullrequestreview-351874310", "createdAt": "2020-02-01T09:11:37Z", "commit": {"oid": "10981ec017a076dbe72cdb5a948062409fe9b232"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4209, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}