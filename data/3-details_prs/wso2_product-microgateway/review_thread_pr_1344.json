{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MDk5Nzk0", "number": 1344, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjozNlrOEQdLgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjozNlrOEQdLgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NjkwNzUzOnYy", "diffSide": "RIGHT", "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjozNlrOG0nbLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoyMzoyOFrOG0nltQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA==", "bodyText": "Better to mention which operation this is. Otherwise user have to go through all operations to find which operation is causing the issue.", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457825068", "createdAt": "2020-07-21T04:12:36Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "diffHunk": "@@ -129,6 +129,13 @@ public BallerinaOperation buildContext(Operation operation, ExtendedAPI api) thr\n         this.scope = OpenAPICodegenUtils.getMgwResourceScope(operation);\n         //set resource level endpoint configuration\n         setEpConfigDTO(operation);\n+        //If production/sandbox endpoints for both API and Operation is not available, Error should be thrown.\n+        if (api.getEndpointConfigRepresentation().getProdEndpointList() == null &&\n+                api.getEndpointConfigRepresentation().getSandboxEndpointList() == null\n+                && !hasProdEpConfig\n+                && !hasSandEpConfig) {\n+            throw new CLICompileTimeException(\"The endpoint Configuration is not provided for the operation.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNzAzNw==", "bodyText": "This was implemented in such a way that the exception thrown in here is caught from the method above. Otherwise, we need to pass the operation name, path information to this layer. This is a sample error message.\nmicro-gw: Error while parsing information under path:/products/{productId}in the API \"Online-Store-Api:v1.0.0\".\n        -Error while parsing the information under GET resource.\n        -The endpoint Configuration is not provided for the operation.", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457827037", "createdAt": "2020-07-21T04:20:38Z", "author": {"login": "VirajSalaka"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "diffHunk": "@@ -129,6 +129,13 @@ public BallerinaOperation buildContext(Operation operation, ExtendedAPI api) thr\n         this.scope = OpenAPICodegenUtils.getMgwResourceScope(operation);\n         //set resource level endpoint configuration\n         setEpConfigDTO(operation);\n+        //If production/sandbox endpoints for both API and Operation is not available, Error should be thrown.\n+        if (api.getEndpointConfigRepresentation().getProdEndpointList() == null &&\n+                api.getEndpointConfigRepresentation().getSandboxEndpointList() == null\n+                && !hasProdEpConfig\n+                && !hasSandEpConfig) {\n+            throw new CLICompileTimeException(\"The endpoint Configuration is not provided for the operation.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA=="}, "originalCommit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNzc2NQ==", "bodyText": "Great", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457827765", "createdAt": "2020-07-21T04:23:28Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "diffHunk": "@@ -129,6 +129,13 @@ public BallerinaOperation buildContext(Operation operation, ExtendedAPI api) thr\n         this.scope = OpenAPICodegenUtils.getMgwResourceScope(operation);\n         //set resource level endpoint configuration\n         setEpConfigDTO(operation);\n+        //If production/sandbox endpoints for both API and Operation is not available, Error should be thrown.\n+        if (api.getEndpointConfigRepresentation().getProdEndpointList() == null &&\n+                api.getEndpointConfigRepresentation().getSandboxEndpointList() == null\n+                && !hasProdEpConfig\n+                && !hasSandEpConfig) {\n+            throw new CLICompileTimeException(\"The endpoint Configuration is not provided for the operation.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA=="}, "originalCommit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1099, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}