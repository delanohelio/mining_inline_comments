{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNDg1MTk4", "number": 931, "title": "API Level auth providers as an Array", "bodyText": "Purpose\nProvide API Level auth providers as an Array to the services.mustache\nIssues\n\nFixes #915\n#940\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: No\n\nTested environments\n\ncatalina\njava version \"1.8.0_201\"\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-01-14T07:24:43Z", "url": "https://github.com/wso2/product-microgateway/pull/931", "merged": true, "mergeCommit": {"oid": "f938f5632c3d39c613d7e8179b274e42f3d0f85a"}, "closed": true, "closedAt": "2020-01-16T03:40:32Z", "author": {"login": "AmaliMatharaarachchi"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6LtWzAH2gAyMzYyNDg1MTk4OmIwYzRhYjc2NTE2YWFjYjQxZDM3MjEzYjQxOTg4ZDhhZWI2ZDMyNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6xyw8AFqTM0MzY1ODY3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0c4ab76516aacb41d37213b41988d8aeb6d3265", "author": {"user": {"login": "AmaliMatharaarachchi", "name": "Amali Matharaarachchi"}}, "url": "https://github.com/wso2/product-microgateway/commit/b0c4ab76516aacb41d37213b41988d8aeb6d3265", "committedDate": "2020-01-14T07:21:02Z", "message": "API Level auth providers as an Array"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e124e827741b2e9bb258a3257f56cfa2258c75b9", "author": {"user": {"login": "AmaliMatharaarachchi", "name": "Amali Matharaarachchi"}}, "url": "https://github.com/wso2/product-microgateway/commit/e124e827741b2e9bb258a3257f56cfa2258c75b9", "committedDate": "2020-01-14T09:01:20Z", "message": "Fix code in basic auth"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d50f4a8eb81b3fc3616fda59f8fbc8c51c97684", "author": {"user": {"login": "AmaliMatharaarachchi", "name": "Amali Matharaarachchi"}}, "url": "https://github.com/wso2/product-microgateway/commit/9d50f4a8eb81b3fc3616fda59f8fbc8c51c97684", "committedDate": "2020-01-14T10:15:17Z", "message": "code formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjU2MjQ0", "url": "https://github.com/wso2/product-microgateway/pull/931#pullrequestreview-343656244", "createdAt": "2020-01-16T03:31:11Z", "commit": {"oid": "9d50f4a8eb81b3fc3616fda59f8fbc8c51c97684"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjU4Njc2", "url": "https://github.com/wso2/product-microgateway/pull/931#pullrequestreview-343658676", "createdAt": "2020-01-16T03:43:19Z", "commit": {"oid": "9d50f4a8eb81b3fc3616fda59f8fbc8c51c97684"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0MzoyMFrOFeNNiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0MzoyMFrOFeNNiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODA1OQ==", "bodyText": "Lets remove this logic. We need to honour the values comes from the swagger.  If the security definitions are not defined by default oauth and jwt should be added.", "url": "https://github.com/wso2/product-microgateway/pull/931#discussion_r367218059", "createdAt": "2020-01-16T03:43:20Z", "author": {"login": "Rajith90"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/utils/OpenAPICodegenUtils.java", "diffHunk": "@@ -951,4 +952,19 @@ private static boolean isResourceEpUnavailable(Operation operation) {\n         }\n         return false;\n     }\n+\n+    public static List<String> setAuthProviders(BasicAuth basicAuth) {\n+        List<String> authProviders = new ArrayList<>();\n+        if (basicAuth != null && basicAuth.isOptional()) {\n+            authProviders.add(APISecurity.basic.name());\n+            authProviders.add(APISecurity.oauth2.name());\n+            authProviders.add(APISecurity.jwt.name());\n+        } else if (basicAuth != null && basicAuth.isRequired()) {\n+            authProviders.add(APISecurity.basic.name());\n+        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d50f4a8eb81b3fc3616fda59f8fbc8c51c97684"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1220, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}