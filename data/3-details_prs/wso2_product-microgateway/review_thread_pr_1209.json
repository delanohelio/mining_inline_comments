{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3Mjk0MTY3", "number": 1209, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo0Nzo0NFrOD1EDjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMzowNzoxN1rOD1EWBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTY3NTY3OnYy", "diffSide": "RIGHT", "path": "components/micro-gateway-cli/src/main/resources/templates/httpEndpoint.mustache", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo0Nzo0NFrOGKUIxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo0Nzo0NFrOGKUIxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2ODg2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            });\n          \n          \n            \n            });", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413468869", "createdAt": "2020-04-23T02:47:44Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-cli/src/main/resources/templates/httpEndpoint.mustache", "diffHunk": "@@ -1,4 +1,4 @@\n http:Client {{qualifiedServiceName}}_{{endpointUrlType}} = new (\n-{{#if endpoints.0.isEtcdEnabled}}gateway:etcdSetup(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{name}}_{{endpointUrlType}}_0_etcdKey\",\"{{endpoints.0.endpointUrl}}\",\"{{endpoints.0.etcdKey}}\"){{else}}gateway:retrieveConfig(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{endpoints.0.endpointUrl}}\"){{/if}},\n+{{#if endpoints.0.isEtcdEnabled}}gateway:etcdSetup(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{name}}_{{endpointUrlType}}_0_etcdKey\",\"{{{endpoints.0.endpointUrl}}}\",\"{{endpoints.0.etcdKey}}\"){{else}}gateway:retrieveConfig(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{{endpoints.0.endpointUrl}}}\"){{/if}},\n { {{>http2}}{{>http2settings}}{{>caching}}{{>basicAuth}}{{>secureSocket}}\n });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTY3NjA0OnYy", "diffSide": "RIGHT", "path": "components/micro-gateway-cli/src/main/resources/templates/httpResourceEndpoint.mustache", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo0ODowMFrOGKUJBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo0ODowMFrOGKUJBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2ODkzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            });\n          \n          \n            \n            });", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413468934", "createdAt": "2020-04-23T02:48:00Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-cli/src/main/resources/templates/httpResourceEndpoint.mustache", "diffHunk": "@@ -1,5 +1,5 @@\n http:Client {{operationId}}_{{endpointUrlType}} = new (\n {{#if endpoints.0.isEtcdEnabled}}gateway:etcdSetup(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\n-\"{{name}}_{{endpointUrlType}}_0_etcdKey\", \"{{endpoints.0.endpointUrl}}\", \"{{endpoints.0.etcdKey}}\"){{else}}gateway:retrieveConfig(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{endpoints.0.endpointUrl}}\"){{/if}},\n+\"{{name}}_{{endpointUrlType}}_0_etcdKey\", \"{{{endpoints.0.endpointUrl}}}\", \"{{endpoints.0.etcdKey}}\"){{else}}gateway:retrieveConfig(\"{{name}}_{{endpointUrlType}}_endpoint_0\",\"{{{endpoints.0.endpointUrl}}}\"){{/if}},\n { {{>http2}}{{>caching}}{{>basicAuth}}{{>secureSocket}}\n });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTY4Mzc4OnYy", "diffSide": "RIGHT", "path": "tests/src/test/java/org/wso2/micro/gateway/tests/endpoints/ResourceLevelEndpointsTestCase.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo1MToyM1rOGKUNJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo1MToyM1rOGKUNJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2OTk5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Test(description = \"Test Invoking the resource which  endpoint defined at resource level \"\n          \n          \n            \n                @Test(description = \"Test Invoking the resource which endpoint defined at resource level \"", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413469991", "createdAt": "2020-04-23T02:51:23Z", "author": {"login": "praminda"}, "path": "tests/src/test/java/org/wso2/micro/gateway/tests/endpoints/ResourceLevelEndpointsTestCase.java", "diffHunk": "@@ -67,6 +67,19 @@ public void testPerResourceEndpoint() throws Exception {\n         Assert.assertEquals(response.getResponseCode(), 200, \"Response code mismatched\");\n     }\n \n+    @Test(description = \"Test Invoking the resource which  endpoint defined at resource level \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTY5Mjc5OnYy", "diffSide": "RIGHT", "path": "tests/src/test/resources/openAPIs/common_api.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo1NDo0NFrOGKURxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjo1NDo0NFrOGKURxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3MTE3NQ==", "bodyText": "Shall we remove this part since we don't validate the response content? Just to keep the swagger short and simple?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      content:\n          \n          \n            \n                        application/xml:\n          \n          \n            \n                          schema:\n          \n          \n            \n                            type: array\n          \n          \n            \n                            items:\n          \n          \n            \n                              $ref: \"#/components/schemas/Pet\"\n          \n          \n            \n                        application/json:\n          \n          \n            \n                          schema:\n          \n          \n            \n                            type: array\n          \n          \n            \n                            items:\n          \n          \n            \n                              $ref: \"#/components/schemas/Pet\"", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413471175", "createdAt": "2020-04-23T02:54:44Z", "author": {"login": "praminda"}, "path": "tests/src/test/resources/openAPIs/common_api.yaml", "diffHunk": "@@ -121,6 +121,49 @@ paths:\n           description: Invalid status value\n       security:\n         - petstore_auth: []\n+  /pet/findByStatusNew:\n+    get:\n+      tags:\n+        - pet\n+      summary: Finds Pets by status\n+      description: Multiple status values can be provided with comma separated strings\n+      operationId: findPetsByStatus\n+      x-wso2-production-endpoints:\n+        urls:\n+          - https://localhost:2380/v1/pet/findByStatusNew?value1=foo&value2=bar\n+      parameters:\n+        - name: status\n+          in: query\n+          description: Status values that need to be considered for filter\n+          required: true\n+          explode: true\n+          schema:\n+            type: array\n+            items:\n+              type: string\n+              enum:\n+                - available\n+                - pending\n+                - sold\n+              default: available\n+      responses:\n+        \"200\":\n+          description: successful operation\n+          content:\n+            application/xml:\n+              schema:\n+                type: array\n+                items:\n+                  $ref: \"#/components/schemas/Pet\"\n+            application/json:\n+              schema:\n+                type: array\n+                items:\n+                  $ref: \"#/components/schemas/Pet\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTcxODc3OnYy", "diffSide": "RIGHT", "path": "tests/src/test/resources/openAPIs/common_api.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMzowNTozNFrOGKUfvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMzowNTozNFrOGKUfvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3NDc0OA==", "bodyText": "Just to keep things simple\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      explode: true\n          \n          \n            \n                      schema:\n          \n          \n            \n                        type: array\n          \n          \n            \n                        items:\n          \n          \n            \n                          type: string\n          \n          \n            \n                          enum:\n          \n          \n            \n                            - available\n          \n          \n            \n                            - pending\n          \n          \n            \n                            - sold\n          \n          \n            \n                          default: available", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413474748", "createdAt": "2020-04-23T03:05:34Z", "author": {"login": "praminda"}, "path": "tests/src/test/resources/openAPIs/common_api.yaml", "diffHunk": "@@ -121,6 +121,49 @@ paths:\n           description: Invalid status value\n       security:\n         - petstore_auth: []\n+  /pet/findByStatusNew:\n+    get:\n+      tags:\n+        - pet\n+      summary: Finds Pets by status\n+      description: Multiple status values can be provided with comma separated strings\n+      operationId: findPetsByStatus\n+      x-wso2-production-endpoints:\n+        urls:\n+          - https://localhost:2380/v1/pet/findByStatusNew?value1=foo&value2=bar\n+      parameters:\n+        - name: status\n+          in: query\n+          description: Status values that need to be considered for filter\n+          required: true\n+          explode: true\n+          schema:\n+            type: array\n+            items:\n+              type: string\n+              enum:\n+                - available\n+                - pending\n+                - sold\n+              default: available", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTcyMjkzOnYy", "diffSide": "RIGHT", "path": "tests/src/test/java/org/wso2/micro/gateway/tests/grpc/GrpcServer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMzowNzoxN1rOGKUh-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNDoyMjoyM1rOGKquDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3NTMyMw==", "bodyText": "Any reason to change the port? If there is an specific reason, better if you can put that in the PR description. It might be useful later.", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413475323", "createdAt": "2020-04-23T03:07:17Z", "author": {"login": "praminda"}, "path": "tests/src/test/java/org/wso2/micro/gateway/tests/grpc/GrpcServer.java", "diffHunk": "@@ -31,7 +31,7 @@\n \n     public void start() throws IOException {\n         /* The port on which the server should run */\n-        int port = 50051;\n+        int port = 50075;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzgzODg2MQ==", "bodyText": "There seems to be port conflict with mac. Its better to use a different port", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413838861", "createdAt": "2020-04-23T14:22:23Z", "author": {"login": "Rajith90"}, "path": "tests/src/test/java/org/wso2/micro/gateway/tests/grpc/GrpcServer.java", "diffHunk": "@@ -31,7 +31,7 @@\n \n     public void start() throws IOException {\n         /* The port on which the server should run */\n-        int port = 50051;\n+        int port = 50075;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3NTMyMw=="}, "originalCommit": {"oid": "161810d51862fd21b67547850d00bc7a43633844"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1206, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}