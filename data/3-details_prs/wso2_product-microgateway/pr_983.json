{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjM3NjAz", "number": 983, "title": "Fix #982 - Improve performance in throttle and pre auth filter", "bodyText": "Purpose\nImprove performance in throttle and pre authentication filter\nIssues\n\nFixes #982\nAutomation tests\n\nUnit tests added: Yes/No\nIntegration tests added: Yes/No\n\nTested environments\n\nNot Tested\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-02-11T12:42:30Z", "url": "https://github.com/wso2/product-microgateway/pull/983", "merged": true, "mergeCommit": {"oid": "d8a74bd1651cdee7092f2c6a4a891a821ff415c3"}, "closed": true, "closedAt": "2020-02-12T11:18:29Z", "author": {"login": "Rajith90"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDREODgH2gAyMzczNjM3NjAzOjJkNmU2Yzg4OGRhNjFiZjJiNTE4ZDg0MTg3NTVmNGMwNDcwYzIxYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDkesnABqjMwMzAzOTA2NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2d6e6c888da61bf2b518d8418755f4c0470c21b8", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/2d6e6c888da61bf2b518d8418755f4c0470c21b8", "committedDate": "2020-02-11T12:40:51Z", "message": "Fix #982 - Improve performance in throttle and pre auth filter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MTc4MDY0", "url": "https://github.com/wso2/product-microgateway/pull/983#pullrequestreview-357178064", "createdAt": "2020-02-12T04:09:36Z", "commit": {"oid": "2d6e6c888da61bf2b518d8418755f4c0470c21b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjE0NjQw", "url": "https://github.com/wso2/product-microgateway/pull/983#pullrequestreview-357214640", "createdAt": "2020-02-12T06:32:16Z", "commit": {"oid": "2d6e6c888da61bf2b518d8418755f4c0470c21b8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNjozMjoxNlrOFojCKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNjozMjoxNlrOFojCKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA2MTM1NQ==", "bodyText": "FYI, We can just return policy here without the else block", "url": "https://github.com/wso2/product-microgateway/pull/983#discussion_r378061355", "createdAt": "2020-02-12T06:32:16Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-core/src/main/ballerina/src/gateway/utils/throttle_util.bal", "diffHunk": "@@ -172,3 +172,16 @@ public function getGlobalThrottleStream() returns stream<GlobalThrottleStreamDTO\n public function getIsStreamsInitialized() returns boolean {\n     return isStreamsInitialized;\n }\n+\n+public function getResourceTier(string resourceName) returns string {\n+    TierConfiguration? tier = resourceTierAnnotationMap[resourceName];\n+    string? policy = (tier is TierConfiguration) ? tier.policy : ();\n+    if (policy is string) {\n+        if (policy.length() == 0) {\n+            return UNLIMITED_TIER;\n+        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d6e6c888da61bf2b518d8418755f4c0470c21b8"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjE0Njcw", "url": "https://github.com/wso2/product-microgateway/pull/983#pullrequestreview-357214670", "createdAt": "2020-02-12T06:32:22Z", "commit": {"oid": "2d6e6c888da61bf2b518d8418755f4c0470c21b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf86be0a5f523037554a0fda5cb1649f22193c66", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/bf86be0a5f523037554a0fda5cb1649f22193c66", "committedDate": "2020-02-12T11:17:44Z", "message": "Remove appending underscore to resource names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce8b8f023fd7dd4727b4caf79cc012243d4480b4", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/ce8b8f023fd7dd4727b4caf79cc012243d4480b4", "committedDate": "2020-02-12T10:11:36Z", "message": "Remove appending underscore to resource names"}, "afterCommit": {"oid": "bf86be0a5f523037554a0fda5cb1649f22193c66", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/bf86be0a5f523037554a0fda5cb1649f22193c66", "committedDate": "2020-02-12T11:17:44Z", "message": "Remove appending underscore to resource names"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1154, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}