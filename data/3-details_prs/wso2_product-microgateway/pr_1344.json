{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MDk5Nzk0", "number": 1344, "title": "Fix 1176", "bodyText": "Purpose\nFix the microgateway project build failure, where all the resource endpoints are defined but no API Level endpoint is provided.\nIssues\n\nFixes #1176\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: Yes\n\nTested environments\n\nMacOS Mojave\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-07-21T04:08:36Z", "url": "https://github.com/wso2/product-microgateway/pull/1344", "merged": true, "mergeCommit": {"oid": "e87940f84010aa04f0003d3226e492af0cefb832"}, "closed": true, "closedAt": "2020-07-21T05:27:01Z", "author": {"login": "VirajSalaka"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc23mP-gH2gAyNDU0MDk5Nzk0OjBkMzRlMTI4ZmVlYzZiOTI3NWM2OWFiMGVlNzc2ZDRjZjA0NGQwMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2-cyYgFqTQ1MjExNjQyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0d34e128feec6b9275c69ab0ee776d4cf044d020", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/0d34e128feec6b9275c69ab0ee776d4cf044d020", "committedDate": "2020-07-20T20:24:33Z", "message": "Bug fix: #1176 - When the resource level production endpoints are provided for all the resources without an API level production endpoint, microgateway project build fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/0b430d14774267e706dd6335a3662bc4ad7bae42", "committedDate": "2020-07-21T04:06:25Z", "message": "add integration tests for resource endpoints alone scenario"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTEzMjY3", "url": "https://github.com/wso2/product-microgateway/pull/1344#pullrequestreview-452113267", "createdAt": "2020-07-21T04:12:36Z", "commit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjozNlrOG0nbLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjozNlrOG0nbLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTA2OA==", "bodyText": "Better to mention which operation this is. Otherwise user have to go through all operations to find which operation is causing the issue.", "url": "https://github.com/wso2/product-microgateway/pull/1344#discussion_r457825068", "createdAt": "2020-07-21T04:12:36Z", "author": {"login": "praminda"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/model/template/service/BallerinaOperation.java", "diffHunk": "@@ -129,6 +129,13 @@ public BallerinaOperation buildContext(Operation operation, ExtendedAPI api) thr\n         this.scope = OpenAPICodegenUtils.getMgwResourceScope(operation);\n         //set resource level endpoint configuration\n         setEpConfigDTO(operation);\n+        //If production/sandbox endpoints for both API and Operation is not available, Error should be thrown.\n+        if (api.getEndpointConfigRepresentation().getProdEndpointList() == null &&\n+                api.getEndpointConfigRepresentation().getSandboxEndpointList() == null\n+                && !hasProdEpConfig\n+                && !hasSandEpConfig) {\n+            throw new CLICompileTimeException(\"The endpoint Configuration is not provided for the operation.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTE2NDIx", "url": "https://github.com/wso2/product-microgateway/pull/1344#pullrequestreview-452116421", "createdAt": "2020-07-21T04:23:33Z", "commit": {"oid": "0b430d14774267e706dd6335a3662bc4ad7bae42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 933, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}