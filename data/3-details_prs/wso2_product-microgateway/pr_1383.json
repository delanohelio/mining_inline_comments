{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NjA5OTY5", "number": 1383, "title": "Set the ballerina thread pool size to 100", "bodyText": "Purpose\nSet the ballerina thread pool size to 100 in order to enhance performance. In addition, users can override this configuration by providing the environmental variable.\nexport BALLERINA_MAX_POOL_SIZE=50\nIssues\n\nFixes #1384\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: No\n\nTested environments\n\nMacOS Mojave\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-08-13T20:12:14Z", "url": "https://github.com/wso2/product-microgateway/pull/1383", "merged": true, "mergeCommit": {"oid": "58fe7fe8ac5fe489e1720f931a8445b364148e65"}, "closed": true, "closedAt": "2020-08-14T05:43:24Z", "author": {"login": "VirajSalaka"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-lvT4gH2gAyNDY3NjA5OTY5OmViZTg3MTFiMGRjODRlNTgzMzY0MDc2MjNkNDkzNWIwZDcyN2RmZTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-t6u6AFqTQ2NzMxODU0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ebe8711b0dc84e58336407623d4935b0d727dfe9", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/ebe8711b0dc84e58336407623d4935b0d727dfe9", "committedDate": "2020-08-13T20:07:33Z", "message": "set ballerina thread pool size as 100"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjY1NTMx", "url": "https://github.com/wso2/product-microgateway/pull/1383#pullrequestreview-467265531", "createdAt": "2020-08-14T02:14:15Z", "commit": {"oid": "ebe8711b0dc84e58336407623d4935b0d727dfe9"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjoxNDoxNlrOHAlQzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjoxODo0NVrOHAlUyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3MjU1OA==", "bodyText": "What is meant by +set here?", "url": "https://github.com/wso2/product-microgateway/pull/1383#discussion_r470372558", "createdAt": "2020-08-14T02:14:16Z", "author": {"login": "praminda"}, "path": "distribution/resources/bin/gateway", "diffHunk": "@@ -167,6 +167,13 @@ if [ -e \"$GW_HOME/bin/gateway.pid\" ]; then\n   PID=`cat \"$GW_HOME\"/bin/gateway.pid`\n fi\n \n+# set the ballerina thread pool size\n+if [ -z \"${BALLERINA_MAX_POOL_SIZE+set}\" ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe8711b0dc84e58336407623d4935b0d727dfe9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3MjY5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            REM set the ballerina thread pool size\n          \n          \n            \n            REM Set the ballerina thread pool size", "url": "https://github.com/wso2/product-microgateway/pull/1383#discussion_r470372694", "createdAt": "2020-08-14T02:14:49Z", "author": {"login": "praminda"}, "path": "distribution/resources/bin/gateway.bat", "diffHunk": "@@ -205,6 +207,15 @@ REM Check JAVA availability\n     )\n     EXIT /B 0\n \n+REM set the ballerina thread pool size", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe8711b0dc84e58336407623d4935b0d727dfe9"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3MzU3OQ==", "bodyText": "Do we need to echo this? Thread pool size is something very internal to even ballerina as I know.", "url": "https://github.com/wso2/product-microgateway/pull/1383#discussion_r470373579", "createdAt": "2020-08-14T02:18:45Z", "author": {"login": "praminda"}, "path": "distribution/resources/bin/gateway.bat", "diffHunk": "@@ -205,6 +207,15 @@ REM Check JAVA availability\n     )\n     EXIT /B 0\n \n+REM set the ballerina thread pool size\n+:setBallerinaWorkerPoolSize\n+    IF \"%BALLERINA_MAX_POOL_SIZE%\"==\"\" (\n+        SET BALLERINA_MAX_POOL_SIZE=100\n+    ) else (\n+        ECHO Info: Ballerina thread pool size is set to %BALLERINA_MAX_POOL_SIZE%", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe8711b0dc84e58336407623d4935b0d727dfe9"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91bcabc28fef56ba13b55d8feac9262c28884780", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/91bcabc28fef56ba13b55d8feac9262c28884780", "committedDate": "2020-08-14T04:48:49Z", "message": "Update distribution/resources/bin/gateway.bat\n\nCo-authored-by: Praminda <pramindabj@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79b3d70e29eccef9bafc3704d6c937c44ddc2b6d", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/79b3d70e29eccef9bafc3704d6c937c44ddc2b6d", "committedDate": "2020-08-14T05:11:37Z", "message": "resolve commented issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dd4f9752cc504bba0c3f988f54c2630b769a79b", "author": {"user": {"login": "VirajSalaka", "name": "Viraj Salaka"}}, "url": "https://github.com/wso2/product-microgateway/commit/8dd4f9752cc504bba0c3f988f54c2630b769a79b", "committedDate": "2020-08-14T05:11:53Z", "message": "Merge branch 'change-pool-size' of https://github.com/VirajSalaka/product-microgateway into change-pool-size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MzE4NTQ5", "url": "https://github.com/wso2/product-microgateway/pull/1383#pullrequestreview-467318549", "createdAt": "2020-08-14T05:39:16Z", "commit": {"oid": "8dd4f9752cc504bba0c3f988f54c2630b769a79b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 950, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}