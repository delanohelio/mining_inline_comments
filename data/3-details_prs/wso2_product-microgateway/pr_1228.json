{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDU4MDAy", "number": 1228, "title": "Fix multiple jms subscription", "bodyText": "Purpose\n\nThere was an issue when multiple JMS subcribers (two mgw nodes) trying to connect to same TM for distributed throttling. Changing the subscriber type fixes the issue.\nIssues\n\nFixes #1227\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: No\n\nTested environments\n\nMacOS\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-05-06T12:14:10Z", "url": "https://github.com/wso2/product-microgateway/pull/1228", "merged": true, "mergeCommit": {"oid": "ac837163ddcf809ad0b78e3c7eea93a8d13ccdc9"}, "closed": true, "closedAt": "2020-05-13T10:22:37Z", "author": {"login": "praminda"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcenmYlAH2gAyNDE0MDU4MDAyOmI5YjQ2OWM4ZDBkNTAxNWJlMmIyNDgzMmU0OGJiY2Y4M2I3YWQyOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg2KHhgFqTQxMDc4NTY4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b9b469c8d0d5015be2b24832e48bbcf83b7ad290", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/b9b469c8d0d5015be2b24832e48bbcf83b7ad290", "committedDate": "2020-05-06T12:12:02Z", "message": "throttle: Fix multiple jms subscription\n\nThere was an issue when multiple JMS subcribers (two mgw nodes)\ntrying to connect to same TM for distributed throttling. Changing\nthe subscriber type fixes the issue."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NTU5NTIy", "url": "https://github.com/wso2/product-microgateway/pull/1228#pullrequestreview-406559522", "createdAt": "2020-05-06T12:25:33Z", "commit": {"oid": "b9b469c8d0d5015be2b24832e48bbcf83b7ad290"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMjoyNTozM1rOGRQfIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMjoyNTozM1rOGRQfIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc0OTA5MQ==", "bodyText": "Why we need to pass empty string. I think we can use\ncreateConsumer(dest);", "url": "https://github.com/wso2/product-microgateway/pull/1228#discussion_r420749091", "createdAt": "2020-05-06T12:25:33Z", "author": {"login": "Rajith90"}, "path": "components/micro-gateway-core/src/main/ballerina/src/gateway/services/throttle_event_listener.bal", "diffHunk": "@@ -84,7 +84,7 @@ public function startSubscriberService() returns @tainted jms:MessageConsumer |\n             return session;\n         } else {\n             jms:Destination dest = check session->createTopic(\"throttleData\");\n-            jms:MessageConsumer | error subscriberEndpoint = trap session->createDurableSubscriber(dest, \"sub-1\");\n+            jms:MessageConsumer | error subscriberEndpoint = trap session->createConsumer(dest, \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9b469c8d0d5015be2b24832e48bbcf83b7ad290"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af686025fed0f23dd26f3fe4072052aa414b1558", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/af686025fed0f23dd26f3fe4072052aa414b1558", "committedDate": "2020-05-06T12:35:53Z", "message": "Remove unwanted argument"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1bab044e660d001fc6188790b59911bdfe202ee", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/a1bab044e660d001fc6188790b59911bdfe202ee", "committedDate": "2020-05-13T10:17:20Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNzg1Njg3", "url": "https://github.com/wso2/product-microgateway/pull/1228#pullrequestreview-410785687", "createdAt": "2020-05-13T10:17:35Z", "commit": {"oid": "a1bab044e660d001fc6188790b59911bdfe202ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1082, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}