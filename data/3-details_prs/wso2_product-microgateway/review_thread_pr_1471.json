{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NzE0NDQ0", "number": 1471, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjo1ODo1NVrOE2E45g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjo1ODo1NVrOE2E45g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTM4NjYyOnYy", "diffSide": "RIGHT", "path": "filter-core/src/main/java/org/wso2/micro/gateway/filter/core/config/MGWConfiguration.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjo1ODo1NVrOHutEuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwNDozMDoxOFrOHveoSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODczNTAzMw==", "bodyText": "Is it better to have environmental variable or a system variable? In the ballerina gateway, we used system.GetProperty() method to assign this. But in the control plane implementation, the environmental variable is used as there is no such concept in golang.", "url": "https://github.com/wso2/product-microgateway/pull/1471#discussion_r518735033", "createdAt": "2020-11-06T12:58:55Z", "author": {"login": "VirajSalaka"}, "path": "filter-core/src/main/java/org/wso2/micro/gateway/filter/core/config/MGWConfiguration.java", "diffHunk": "@@ -76,9 +76,9 @@ public static MGWConfiguration getInstance() throws MGWException {\n      * Initialize the configuration provider class by reading the Mgw Configuration file.\n      */\n     private void init() throws KeyStoreException {\n-        InputStream configFile = MGWConfiguration.class.getClassLoader().getResourceAsStream(\"mgw-config.toml\");\n-        configToml = new Toml().read(configFile);\n-\n+        String home = System.getenv(\"FILTER_HOME\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51e84427af92394e2ea39b64e754d682eb8bf032"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU0MzUyOA==", "bodyText": "overriding ENV is easier when working with containers and local filter chain bootup. thats why I made it a ENV", "url": "https://github.com/wso2/product-microgateway/pull/1471#discussion_r519543528", "createdAt": "2020-11-09T04:12:38Z", "author": {"login": "praminda"}, "path": "filter-core/src/main/java/org/wso2/micro/gateway/filter/core/config/MGWConfiguration.java", "diffHunk": "@@ -76,9 +76,9 @@ public static MGWConfiguration getInstance() throws MGWException {\n      * Initialize the configuration provider class by reading the Mgw Configuration file.\n      */\n     private void init() throws KeyStoreException {\n-        InputStream configFile = MGWConfiguration.class.getClassLoader().getResourceAsStream(\"mgw-config.toml\");\n-        configToml = new Toml().read(configFile);\n-\n+        String home = System.getenv(\"FILTER_HOME\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODczNTAzMw=="}, "originalCommit": {"oid": "51e84427af92394e2ea39b64e754d682eb8bf032"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTU0Njk1NA==", "bodyText": "Ack", "url": "https://github.com/wso2/product-microgateway/pull/1471#discussion_r519546954", "createdAt": "2020-11-09T04:30:18Z", "author": {"login": "VirajSalaka"}, "path": "filter-core/src/main/java/org/wso2/micro/gateway/filter/core/config/MGWConfiguration.java", "diffHunk": "@@ -76,9 +76,9 @@ public static MGWConfiguration getInstance() throws MGWException {\n      * Initialize the configuration provider class by reading the Mgw Configuration file.\n      */\n     private void init() throws KeyStoreException {\n-        InputStream configFile = MGWConfiguration.class.getClassLoader().getResourceAsStream(\"mgw-config.toml\");\n-        configToml = new Toml().read(configFile);\n-\n+        String home = System.getenv(\"FILTER_HOME\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODczNTAzMw=="}, "originalCommit": {"oid": "51e84427af92394e2ea39b64e754d682eb8bf032"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1159, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}