{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxMjE0MDcz", "number": 968, "title": "Build command fails on windows", "bodyText": "Purpose\n\nBallerina doesn't like it when ballerina.toml contains Windows path separator '' in library paths. Therefore we need to convert widows path separator \\ to / to make ballerina work on windows\nIssues\n\nFixes #930\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: No\n\nTested environments\n\nMacOS\nWindows Server 2016\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-02-05T07:00:04Z", "url": "https://github.com/wso2/product-microgateway/pull/968", "merged": true, "mergeCommit": {"oid": "25cf98e3430d7b151716169d8154b3deb51faf9e"}, "closed": true, "closedAt": "2020-02-06T06:29:43Z", "author": {"login": "praminda"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBTAgEgFqTM1MzU4MzQyOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBktyWABqjMwMTI2NTM0NzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNTgzNDI5", "url": "https://github.com/wso2/product-microgateway/pull/968#pullrequestreview-353583429", "createdAt": "2020-02-05T09:48:45Z", "commit": {"oid": "ceba7de589dbbb7e53b17d2a44e185feb8bf8b4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwOTo0ODo0NVrOFlxifQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwOTo0ODo0NVrOFlxifQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE1MzI3Nw==", "bodyText": "Why we need unixHomePath when using windows", "url": "https://github.com/wso2/product-microgateway/pull/968#discussion_r375153277", "createdAt": "2020-02-05T09:48:45Z", "author": {"login": "Rajith90"}, "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/cmd/BuildCmd.java", "diffHunk": "@@ -274,7 +274,10 @@ private void updateProjectOrganizationName(String projectName) throws IOExceptio\n         String templateFile = CmdUtils.getMicroGWConfResourceLocation() + File.separator\n                 + CliConstants.BALLERINA_TOML_FILE;\n         String fileContent = CmdUtils.readFileAsString(templateFile, false);\n-        fileContent = fileContent.replace(CliConstants.MICROGW_HOME_PLACEHOLDER, CmdUtils.getCLIHome());\n+\n+        // Windows paths contains '\\' separator which causes issues when included in ballerina.toml\n+        String unixHomePath = CmdUtils.getCLIHome().replace('\\\\', '/');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceba7de589dbbb7e53b17d2a44e185feb8bf8b4b"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjIyMjk1", "url": "https://github.com/wso2/product-microgateway/pull/968#pullrequestreview-354222295", "createdAt": "2020-02-06T06:23:44Z", "commit": {"oid": "ceba7de589dbbb7e53b17d2a44e185feb8bf8b4b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4463658451d566cfd47719c9fdca149aa35511d", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/c4463658451d566cfd47719c9fdca149aa35511d", "committedDate": "2020-02-06T06:25:52Z", "message": "cli: Build command fails on windows\n\nFixes #930\n\nBallerina doesn't like it when ballerina.toml contains Windows\npath separator '\\' in library paths."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ceba7de589dbbb7e53b17d2a44e185feb8bf8b4b", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/ceba7de589dbbb7e53b17d2a44e185feb8bf8b4b", "committedDate": "2020-02-05T06:53:41Z", "message": "cli: Build command fails on windows\n\nFixes #930\n\nBallerina doesn't like it when ballerina.toml contains Windows\npath separator '\\' in library paths."}, "afterCommit": {"oid": "c4463658451d566cfd47719c9fdca149aa35511d", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/c4463658451d566cfd47719c9fdca149aa35511d", "committedDate": "2020-02-06T06:25:52Z", "message": "cli: Build command fails on windows\n\nFixes #930\n\nBallerina doesn't like it when ballerina.toml contains Windows\npath separator '\\' in library paths."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1138, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}