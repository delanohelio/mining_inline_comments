{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzgzNjgz", "number": 1240, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDo0MDoxN1rOD-QGqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwNzozNDoxNVrOFUY-xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjAyMTU1OnYy", "diffSide": "RIGHT", "path": "internal/pkg/oasparser/models/apiDefinition/openApi.go", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDo0MDoxN1rOGYPKfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDo0MDoxN1rOGYPKfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NzQ1Mg==", "bodyText": "Remove these empty lines", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428067452", "createdAt": "2020-05-20T14:40:17Z", "author": {"login": "menakaj"}, "path": "internal/pkg/oasparser/models/apiDefinition/openApi.go", "diffHunk": "@@ -126,3 +126,5 @@ func IsServerUrlIsAvailable(swagger3 openapi3.Swagger) bool {\n \t}\n }\n \n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjAyNTI4OnYy", "diffSide": "RIGHT", "path": "internal/pkg/oasparser/config/config.go", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDo0MTowOFrOGYPNBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwNzoyMjowMFrOGYo2yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODEwMQ==", "bodyText": "These should be taken from a configuration file.", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428068101", "createdAt": "2020-05-20T14:41:08Z", "author": {"login": "menakaj"}, "path": "internal/pkg/oasparser/config/config.go", "diffHunk": "@@ -23,5 +23,5 @@ const (\n \tLISTENER_PORT     uint32 = 10000\n \tAPI_DEFAULT_PORT   uint32 = 8080\n \tMANAGER_STATPREFIX    string = \"ingress_http\"\n-\tCLUSTER_CONNECT_TIMEOUT    = 5 * time.Second\n+\tCLUSTER_CONNECT_TIMEOUT    = 20 * time.Second", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4MjY0Mg==", "bodyText": "that means config.toml ?  so everything should be moved to config.toml ?", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428082642", "createdAt": "2020-05-20T14:59:15Z", "author": {"login": "chashikajw"}, "path": "internal/pkg/oasparser/config/config.go", "diffHunk": "@@ -23,5 +23,5 @@ const (\n \tLISTENER_PORT     uint32 = 10000\n \tAPI_DEFAULT_PORT   uint32 = 8080\n \tMANAGER_STATPREFIX    string = \"ingress_http\"\n-\tCLUSTER_CONNECT_TIMEOUT    = 5 * time.Second\n+\tCLUSTER_CONNECT_TIMEOUT    = 20 * time.Second", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODEwMQ=="}, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzNTQ5NA==", "bodyText": "Need to move configurations that should be done by users. Like Listener port, connection timeout etc.\nWe can keep a default value and use it if not configured.", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428235494", "createdAt": "2020-05-20T18:48:54Z", "author": {"login": "menakaj"}, "path": "internal/pkg/oasparser/config/config.go", "diffHunk": "@@ -23,5 +23,5 @@ const (\n \tLISTENER_PORT     uint32 = 10000\n \tAPI_DEFAULT_PORT   uint32 = 8080\n \tMANAGER_STATPREFIX    string = \"ingress_http\"\n-\tCLUSTER_CONNECT_TIMEOUT    = 5 * time.Second\n+\tCLUSTER_CONNECT_TIMEOUT    = 20 * time.Second", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODEwMQ=="}, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQ4ODM5Mg==", "bodyText": "done", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428488392", "createdAt": "2020-05-21T07:22:00Z", "author": {"login": "chashikajw"}, "path": "internal/pkg/oasparser/config/config.go", "diffHunk": "@@ -23,5 +23,5 @@ const (\n \tLISTENER_PORT     uint32 = 10000\n \tAPI_DEFAULT_PORT   uint32 = 8080\n \tMANAGER_STATPREFIX    string = \"ingress_http\"\n-\tCLUSTER_CONNECT_TIMEOUT    = 5 * time.Second\n+\tCLUSTER_CONNECT_TIMEOUT    = 20 * time.Second", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODEwMQ=="}, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjAyNzM2OnYy", "diffSide": "RIGHT", "path": "internal/pkg/oasparser/configGenerator.go", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDo0MTozM1rOGYPOVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwNzoyMjowNlrOGYo2-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODQzOA==", "bodyText": "Remove unnecessary lines. Fix in other places as well.", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428068438", "createdAt": "2020-05-20T14:41:33Z", "author": {"login": "menakaj"}, "path": "internal/pkg/oasparser/configGenerator.go", "diffHunk": "@@ -51,20 +51,28 @@ func GetProductionSources(location string) ([]types.Resource, []types.Resource,\n \t\tendpointsP = append(endpointsP,endpoints...)\n \t}\n \n-\tvHost_NameP := \"serviceProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\tenvoyNodeProd := new(envoy.EnvoyNode)\n \n-\tvHostP, _ := e.CreateVirtualHost(vHost_NameP, routesP)\n+\tif len(mgwSwaggers) > 0 {\n+\t\tvHost_NameP := \"serviceProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n \n-\tlistenerNameP := \"listenerProd_1\"\n-\trouteConfigNameP := \"routeProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\t\tvHostP, _ := e.CreateVirtualHost(vHost_NameP, routesP)\n \n-\tlistnerProd := e.CreateListener(listenerNameP, routeConfigNameP, vHostP)\n+\t\tlistenerNameP := \"listenerProd_1\"\n+\t\trouteConfigNameP := \"routeProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\n+\t\tlistnerProd := e.CreateListener(listenerNameP, routeConfigNameP, vHostP)\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQ4ODQ0MA==", "bodyText": "done", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r428488440", "createdAt": "2020-05-21T07:22:06Z", "author": {"login": "chashikajw"}, "path": "internal/pkg/oasparser/configGenerator.go", "diffHunk": "@@ -51,20 +51,28 @@ func GetProductionSources(location string) ([]types.Resource, []types.Resource,\n \t\tendpointsP = append(endpointsP,endpoints...)\n \t}\n \n-\tvHost_NameP := \"serviceProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\tenvoyNodeProd := new(envoy.EnvoyNode)\n \n-\tvHostP, _ := e.CreateVirtualHost(vHost_NameP, routesP)\n+\tif len(mgwSwaggers) > 0 {\n+\t\tvHost_NameP := \"serviceProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n \n-\tlistenerNameP := \"listenerProd_1\"\n-\trouteConfigNameP := \"routeProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\t\tvHostP, _ := e.CreateVirtualHost(vHost_NameP, routesP)\n \n-\tlistnerProd := e.CreateListener(listenerNameP, routeConfigNameP, vHostP)\n+\t\tlistenerNameP := \"listenerProd_1\"\n+\t\trouteConfigNameP := \"routeProd_\" + strings.Replace(mgwSwaggers[0].GetTitle(), \" \", \"\", -1) + mgwSwaggers[0].GetVersion()\n+\n+\t\tlistnerProd := e.CreateListener(listenerNameP, routeConfigNameP, vHostP)\n+\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2ODQzOA=="}, "originalCommit": {"oid": "47273acc1412bb5fa35485a8f9e2954da1222220"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU2OTI1MTI2OnYy", "diffSide": "RIGHT", "path": "config/tomlConfigParser.go", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwNzozNDoxNVrOIcYOVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QxNDoyNDo1OVrOIfEylg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjYyNzkyNQ==", "bodyText": "Add the license header.", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r566627925", "createdAt": "2021-01-29T07:34:15Z", "author": {"login": "pubudu538"}, "path": "config/tomlConfigParser.go", "diffHunk": "@@ -0,0 +1,36 @@\n+package config", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c841c5f7cab1e026b3ae47085b5735a4e72ba4d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTQ1NTI1NA==", "bodyText": "This is already fixed", "url": "https://github.com/wso2/product-microgateway/pull/1240#discussion_r569455254", "createdAt": "2021-02-03T14:24:59Z", "author": {"login": "chashikajw"}, "path": "config/tomlConfigParser.go", "diffHunk": "@@ -0,0 +1,36 @@\n+package config", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjYyNzkyNQ=="}, "originalCommit": {"oid": "8c841c5f7cab1e026b3ae47085b5735a4e72ba4d"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1222, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}