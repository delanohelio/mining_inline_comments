{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MDU0Mjk1", "number": 1140, "title": "Fixes issues in windows scripts ", "bodyText": "Purpose\n\nThere were few usability issues and incompatibilities in the windows env. This PR will fix those.\nIssues\n\nFixes #1067\nFixes #1107\nFixes #428\nAutomation tests\n\nUnit tests added: No\nIntegration tests added: No\n\nTested environments\n\nMacOS catalina\nWindows server 2016\n\nMaintainers: Check before merge\n\n Assigned 'Type' label\n Assigned the project\n Validated respective github issues\n Assigned milestone to the github issue(s)", "createdAt": "2020-03-16T08:02:09Z", "url": "https://github.com/wso2/product-microgateway/pull/1140", "merged": true, "mergeCommit": {"oid": "a3d544f0b73af8e24aac6f17fa46102c5198e154"}, "closed": true, "closedAt": "2020-03-17T11:33:13Z", "author": {"login": "praminda"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOJd1IgH2gAyMzg5MDU0Mjk1OjA4ZmJiZjJjNzFjZmExMWQzMzQ5ZGNhMWIxMTU3YTg4YmE4OTQ1YTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOhDgRgH2gAyMzg5MDU0Mjk1OjdlMWIzNmU4YTQyNzBjYTEzZTBkOGNiZTdjZTA5MDI1MWYxY2Y3NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "08fbbf2c71cfa11d3349dca1b1157a88ba8945a8", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/08fbbf2c71cfa11d3349dca1b1157a88ba8945a8", "committedDate": "2020-03-16T08:02:45Z", "message": "cli: windows: Set internal JRE\n\nFixes #1067\n\nInternal JRE was not selected when external JRE is not available.\nThis caused the toolkit to be unusable in windows ENVs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a794bb78fdad82f1acb5008c10b9f698b7e0540", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/4a794bb78fdad82f1acb5008c10b9f698b7e0540", "committedDate": "2020-03-16T08:02:45Z", "message": "runtime: cli: Fix error log in startup\n\nFixes #1107\n\nNo need to pass the command name to tools lib now. It only contain\none command at the moment.\nCONF_OUT_FILE is not written to disk if observability configuration\nis not found on the micro-gw.conf file. Therefore error log should\nnot be printed if CONF_OUT_FILE is not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98219e8f007f904ecbdf6c2d61a85b54df37f7d0", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/98219e8f007f904ecbdf6c2d61a85b54df37f7d0", "committedDate": "2020-03-16T08:02:45Z", "message": "cli: runtime: Add version command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6742a58c80736062da57b95b7b01178cd197b24", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/f6742a58c80736062da57b95b7b01178cd197b24", "committedDate": "2020-03-16T08:02:45Z", "message": "cli: build: Fix build status message\n\nHaving the build status message in a separate line make thing look\nunproffessional. Therefore this commit take required actions to\nget the status message in to the same line as \" Generating sources\"\nmessage.\nProto compiler download messages were replaced with progress dots,\nif we need to debug any issue with the download we can request for\nthe log while as it contains the file name and few other info."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fffc637af673070630ec27add9b41f6b4bf41296", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/fffc637af673070630ec27add9b41f6b4bf41296", "committedDate": "2020-03-16T07:55:30Z", "message": "cli: build: Fix build status message\n\nHaving the build status message in a separate line make thing look\nunproffessional. Therefore this commit take required actions to\nget the status message in to the same line as \" Generating sources\"\nmessage.\nProto compiler download messages were replaced with progress dots,\nif we need to debug any issue with the download we can request for\nthe log while as it contains the file name and few other info."}, "afterCommit": {"oid": "f6742a58c80736062da57b95b7b01178cd197b24", "author": {"user": {"login": "praminda", "name": "Praminda"}}, "url": "https://github.com/wso2/product-microgateway/commit/f6742a58c80736062da57b95b7b01178cd197b24", "committedDate": "2020-03-16T08:02:45Z", "message": "cli: build: Fix build status message\n\nHaving the build status message in a separate line make thing look\nunproffessional. Therefore this commit take required actions to\nget the status message in to the same line as \" Generating sources\"\nmessage.\nProto compiler download messages were replaced with progress dots,\nif we need to debug any issue with the download we can request for\nthe log while as it contains the file name and few other info."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0OTg2NTQw", "url": "https://github.com/wso2/product-microgateway/pull/1140#pullrequestreview-374986540", "createdAt": "2020-03-16T08:09:14Z", "commit": {"oid": "f6742a58c80736062da57b95b7b01178cd197b24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODowOToxNVrOF2pOJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODowOToxNVrOF2pOJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0Mjc4OQ==", "bodyText": "IMO, we should check if an executable java file is inside the JAVA_HOME as well. And besides that, we should check if it is java 1.8", "url": "https://github.com/wso2/product-microgateway/pull/1140#discussion_r392842789", "createdAt": "2020-03-16T08:09:15Z", "author": {"login": "VirajSalaka"}, "path": "distribution/resources/bin/micro-gw.bat", "diffHunk": "@@ -52,37 +50,20 @@ SET BALLERINA_HOME=%MICROGW_HOME%\\lib\\platform\n if NOT EXIST %BALLERINA_HOME% SET BALLERINA_HOME=\"%MICROGW_HOME%\\lib\"\n \n SET PATH=%BALLERINA_HOME%\\bin\\;%PATH%\n-if %verbose%==T ECHO BALLERINA_HOME environment variable is set to %BALLERINA_HOME%\n-if %verbose%==T ECHO MICROGW_HOME environment variable is set to %MICROGW_HOME%\n \n REM Check JAVA availability\n-:checkJavaHome\n-\tif \"%JAVA_HOME%\" == \"\" goto noJavaHome\n-\tif NOT EXIST \"%JAVA_HOME%\\bin\\java.exe\" goto noJavaHome\n-goto checkJava\n+if EXIST \"%JAVA_HOME%\" (\n+\tECHO JAVA_HOME: %JAVA_HOME%\n+) else (\n+\tSET JAVA_HOME=%MICROGW_HOME%\\lib\\jdk8u202-b08-jre\n+)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6742a58c80736062da57b95b7b01178cd197b24"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1OTUwNzE0", "url": "https://github.com/wso2/product-microgateway/pull/1140#pullrequestreview-375950714", "createdAt": "2020-03-17T11:31:37Z", "commit": {"oid": "f6742a58c80736062da57b95b7b01178cd197b24"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e1b36e8a4270ca13e0d8cbe7ce090251f1cf765", "author": {"user": {"login": "Rajith90", "name": "Rajith Roshan"}}, "url": "https://github.com/wso2/product-microgateway/commit/7e1b36e8a4270ca13e0d8cbe7ce090251f1cf765", "committedDate": "2020-03-17T11:31:43Z", "message": "Merge branch 'master' into gh-win"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1042, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}