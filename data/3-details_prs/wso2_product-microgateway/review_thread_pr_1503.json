{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTE5NzM3", "number": 1503, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxNzoyMFrOE98AEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxODo1M1rOE98CJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMzgxNjUwOnYy", "diffSide": "RIGHT", "path": "distribution/resources/bin/gateway.bat", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxNzoyMFrOH64opw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxNzoyMFrOH64opw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUwNzM2Nw==", "bodyText": "How about renaming this as setupAndRun because this label setup the java args and start the gateway\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                CALL :setJavaArgs %*\n          \n          \n            \n                CALL :setupAndRun %*", "url": "https://github.com/wso2/product-microgateway/pull/1503#discussion_r531507367", "createdAt": "2020-11-27T10:17:20Z", "author": {"login": "praminda"}, "path": "distribution/resources/bin/gateway.bat", "diffHunk": "@@ -112,7 +112,7 @@ IF EXIST %CONF_OUT_FILE% DEL /Q /F %CONF_OUT_FILE%\n     SET usage_path=%GW_HOME%\\api-usage-data\n     CALL SET USAGE_DATA_PATH=%%usage_path:\\=%separator%%%\n \n-    CALL :startGateway %*\n+    CALL :setJavaArgs %*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ff1f069d283e5fdefc1e4d32d4232e183248bd4"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMzgxNjc3OnYy", "diffSide": "LEFT", "path": "distribution/resources/bin/gateway.bat", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxNzoyM1rOH64ozg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxNzoyM1rOH64ozg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUwNzQwNg==", "bodyText": "This will use heap dump path with single quotes. @praminda hope that would be okay?", "url": "https://github.com/wso2/product-microgateway/pull/1503#discussion_r531507406", "createdAt": "2020-11-27T10:17:23Z", "author": {"login": "VirajSalaka"}, "path": "distribution/resources/bin/gateway.bat", "diffHunk": "@@ -132,14 +132,10 @@ REM Start the gateway using internal ballerina distribution as the runtime\n     IF %ERRORLEVEL% NEQ 0 (\n         ECHO WARN: Can't find powershell in the system!\n         ECHO WARN: STDERR and STDOUT will be piped to %GW_HOME%\\logs\\microgateway.log\n-        SET JAVA_ARGS=-Xms%JAVA_XMS_VALUE% -Xmx%JAVA_XMX_VALUE% -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\"%GW_HOME%\\heap-dump.hprof\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ff1f069d283e5fdefc1e4d32d4232e183248bd4"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMzgyMTgyOnYy", "diffSide": "RIGHT", "path": "distribution/resources/bin/gateway.bat", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxODo1M1rOH64r7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDoxODo1M1rOH64r7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUwODIwNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            :setJavaArgs\n          \n          \n            \n            :setupAndRun", "url": "https://github.com/wso2/product-microgateway/pull/1503#discussion_r531508207", "createdAt": "2020-11-27T10:18:53Z", "author": {"login": "praminda"}, "path": "distribution/resources/bin/gateway.bat", "diffHunk": "@@ -232,14 +228,15 @@ REM We need to issolate the jar file path and wrap it with quotes\n     GOTO :buildBalArgs\n \n REM add the system variable containing log4j properties file\n-:setLog4jProperties\n-    SET LOG4J_CONFIGURATION_FILE=%GW_HOME%\\conf\\log4j2.properties\n-    IF EXIST %LOG4J_CONFIGURATION_FILE% (\n-        SET JAVA_ARGS=%JAVA_ARGS% -Dlog4j.configurationFile=%LOG4J_CONFIGURATION_FILE%\n+:setJavaArgs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ff1f069d283e5fdefc1e4d32d4232e183248bd4"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1173, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}