{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4NTMxNTQy", "number": 7676, "title": "KEYCLOAK-16606 add default value to mandatory LDAP attributes", "bodyText": "The default empty value of \" \" does not always meet LDAP attribute syntax requierements.\nThis is the case for for example posixAccount uidNumber and gidNumber attributes.\nThis patch adds ability to set default value for attribute", "createdAt": "2020-12-12T22:24:55Z", "url": "https://github.com/keycloak/keycloak/pull/7676", "merged": true, "mergeCommit": {"oid": "91a51c2dbeb770e0202e89b438fc16963a5eed21"}, "closed": true, "closedAt": "2021-01-15T20:58:05Z", "author": {"login": "jiri-lunacek"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdtNQjAABqjQxNzA2MzAxMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdwfXBOAFqTU2OTYxMzIwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7d9e4d2a86d76de0e8ff396d72f9b3e7e9d8a628", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/7d9e4d2a86d76de0e8ff396d72f9b3e7e9d8a628", "committedDate": "2020-12-12T22:21:40Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}, "afterCommit": {"oid": "acd6475a265c23f8dc15f22d758da1acf9984710", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/acd6475a265c23f8dc15f22d758da1acf9984710", "committedDate": "2021-01-05T16:10:10Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "acd6475a265c23f8dc15f22d758da1acf9984710", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/acd6475a265c23f8dc15f22d758da1acf9984710", "committedDate": "2021-01-05T16:10:10Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}, "afterCommit": {"oid": "500c0f2c55db1b6a5d471279ca44c089f1abc024", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/500c0f2c55db1b6a5d471279ca44c089f1abc024", "committedDate": "2021-01-05T16:44:09Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2NTAzMzI1", "url": "https://github.com/keycloak/keycloak/pull/7676#pullrequestreview-566503325", "createdAt": "2021-01-12T17:25:49Z", "commit": {"oid": "500c0f2c55db1b6a5d471279ca44c089f1abc024"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQxNzoyNTo0OVrOISMRnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQxNzoyNTo0OVrOISMRnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTk0NjM5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return attributeDefaultValue == null ? LDAPConstants.EMPTY_ATTRIBUTE_VALUE : attributeDefaultValue;\n          \n          \n            \n                    return (attributeDefaultValue == null || attributeDefaultValue.trim().isEmpty()) ? LDAPConstants.EMPTY_ATTRIBUTE_VALUE : attributeDefaultValue;", "url": "https://github.com/keycloak/keycloak/pull/7676#discussion_r555946396", "createdAt": "2021-01-12T17:25:49Z", "author": {"login": "hmlnarik"}, "path": "federation/ldap/src/main/java/org/keycloak/storage/ldap/mappers/UserAttributeLDAPStorageMapper.java", "diffHunk": "@@ -425,6 +427,11 @@ public void beforeLDAPQuery(LDAPQuery query) {\n         }\n     }\n \n+    private String getAttributeDefaultValue() {\n+        String attributeDefaultValue = mapperModel.getConfig().getFirst(ATTRIBUTE_DEFAULT_VALUE);\n+        return attributeDefaultValue == null ? LDAPConstants.EMPTY_ATTRIBUTE_VALUE : attributeDefaultValue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "500c0f2c55db1b6a5d471279ca44c089f1abc024"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "310b95db042d77b213f262ffd5b9f5ecd61216da", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/310b95db042d77b213f262ffd5b9f5ecd61216da", "committedDate": "2021-01-15T14:55:53Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "500c0f2c55db1b6a5d471279ca44c089f1abc024", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/500c0f2c55db1b6a5d471279ca44c089f1abc024", "committedDate": "2021-01-05T16:44:09Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}, "afterCommit": {"oid": "310b95db042d77b213f262ffd5b9f5ecd61216da", "author": {"user": null}, "url": "https://github.com/keycloak/keycloak/commit/310b95db042d77b213f262ffd5b9f5ecd61216da", "committedDate": "2021-01-15T14:55:53Z", "message": "KEYCLOAK-16606 add default value to mandatory LDAP attributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY5NjEzMjA4", "url": "https://github.com/keycloak/keycloak/pull/7676#pullrequestreview-569613208", "createdAt": "2021-01-15T20:57:48Z", "commit": {"oid": "310b95db042d77b213f262ffd5b9f5ecd61216da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3327, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}