{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwODYwNTk1", "number": 6842, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzoxNlrODmsSkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzo1NlrODmsUBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxODk4MTMxOnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/services/resources/admin/ClientResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzoxNlrOF0QK8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDozMzo1OVrOF0Rmdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTIxNw==", "bodyText": "I think node is the hostname of a node, so an IP address or domain, with/without ports. So this would probably break things as ':' is marked as a reserved character.\n@mposolda ??", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390335217", "createdAt": "2020-03-10T14:03:16Z", "author": {"login": "stianst"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/ClientResource.java", "diffHunk": "@@ -565,6 +566,9 @@ public void registerNode(Map<String, String> formParams) {\n         if (node == null) {\n             throw new BadRequestException(\"Node not found in params\");\n         }\n+        \n+        ReservedCharValidator.validate(node);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM1ODY0Nw==", "bodyText": "Yes, it is hostname of a node, so an IP address or domain. However it is without ports. So this validation should be ok.", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390358647", "createdAt": "2020-03-10T14:33:59Z", "author": {"login": "mposolda"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/ClientResource.java", "diffHunk": "@@ -565,6 +566,9 @@ public void registerNode(Map<String, String> formParams) {\n         if (node == null) {\n             throw new BadRequestException(\"Node not found in params\");\n         }\n+        \n+        ReservedCharValidator.validate(node);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTIxNw=="}, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxODk4NTAwOnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/services/resources/admin/IdentityProvidersResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzo1NlrOF0QNQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDozNToyM1rOF0RqbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTgxMA==", "bodyText": "Should this be data.get(\"alias\").toString()?", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390335810", "createdAt": "2020-03-10T14:03:56Z", "author": {"login": "stianst"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/IdentityProvidersResource.java", "diffHunk": "@@ -134,6 +135,9 @@ public Response getIdentityProviders(@PathParam(\"provider_id\") String providerId\n         if (!(data.containsKey(\"providerId\") && data.containsKey(\"fromUrl\"))) {\n             throw new BadRequestException();\n         }\n+        \n+        ReservedCharValidator.validate((String)data.get(\"alias\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM1OTY2MA==", "bodyText": "@stianst I guess it depends on what you want to happen if somehow \"alias\" is not a string.  That would be an error.  With a cast you get ClassCastException.  With toString(), you get unpredictable results.", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390359660", "createdAt": "2020-03-10T14:35:23Z", "author": {"login": "ssilvert"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/IdentityProvidersResource.java", "diffHunk": "@@ -134,6 +135,9 @@ public Response getIdentityProviders(@PathParam(\"provider_id\") String providerId\n         if (!(data.containsKey(\"providerId\") && data.containsKey(\"fromUrl\"))) {\n             throw new BadRequestException();\n         }\n+        \n+        ReservedCharValidator.validate((String)data.get(\"alias\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTgxMA=="}, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3798, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}