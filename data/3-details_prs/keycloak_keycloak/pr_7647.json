{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MzY0ODIw", "number": 7647, "title": "KEYCLOAK-16489 Add ability to run model tests with LDAP", "bodyText": "", "createdAt": "2020-11-30T07:58:22Z", "url": "https://github.com/keycloak/keycloak/pull/7647", "merged": true, "mergeCommit": {"oid": "8c0c542f09bcc6fa165f7868a1097d64fc4f38d7"}, "closed": true, "closedAt": "2020-12-07T19:54:07Z", "author": {"login": "hmlnarik"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhieQCgBqjQwNTExMDc2MTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjzGN4AFqTU0NjAyMDk3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97e2f537cf77bc4b6464a4853998fb75e5c5906e", "author": {"user": {"login": "hmlnarik", "name": "Hynek Mlna\u0159\u00edk"}}, "url": "https://github.com/keycloak/keycloak/commit/97e2f537cf77bc4b6464a4853998fb75e5c5906e", "committedDate": "2020-11-30T07:57:32Z", "message": "KEYCLOAK-16489 Add ability to run model tests with LDAP"}, "afterCommit": {"oid": "bda5e20f63aa82ee3c822e922b6c7ebdf339f131", "author": {"user": {"login": "hmlnarik", "name": "Hynek Mlna\u0159\u00edk"}}, "url": "https://github.com/keycloak/keycloak/commit/bda5e20f63aa82ee3c822e922b6c7ebdf339f131", "committedDate": "2020-11-30T10:06:04Z", "message": "KEYCLOAK-16489 Add ability to run model tests with LDAP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab15a9271a5e9f16870e88a96c782c5d7b5f7c26", "author": {"user": {"login": "hmlnarik", "name": "Hynek Mlna\u0159\u00edk"}}, "url": "https://github.com/keycloak/keycloak/commit/ab15a9271a5e9f16870e88a96c782c5d7b5f7c26", "committedDate": "2020-11-30T11:46:07Z", "message": "KEYCLOAK-16489 Add ability to run model tests with LDAP"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bda5e20f63aa82ee3c822e922b6c7ebdf339f131", "author": {"user": {"login": "hmlnarik", "name": "Hynek Mlna\u0159\u00edk"}}, "url": "https://github.com/keycloak/keycloak/commit/bda5e20f63aa82ee3c822e922b6c7ebdf339f131", "committedDate": "2020-11-30T10:06:04Z", "message": "KEYCLOAK-16489 Add ability to run model tests with LDAP"}, "afterCommit": {"oid": "ab15a9271a5e9f16870e88a96c782c5d7b5f7c26", "author": {"user": {"login": "hmlnarik", "name": "Hynek Mlna\u0159\u00edk"}}, "url": "https://github.com/keycloak/keycloak/commit/ab15a9271a5e9f16870e88a96c782c5d7b5f7c26", "committedDate": "2020-11-30T11:46:07Z", "message": "KEYCLOAK-16489 Add ability to run model tests with LDAP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODE3MjE2", "url": "https://github.com/keycloak/keycloak/pull/7647#pullrequestreview-543817216", "createdAt": "2020-12-03T10:34:24Z", "commit": {"oid": "ab15a9271a5e9f16870e88a96c782c5d7b5f7c26"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDozNDoyNFrOH-Sb0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMDozNDoyNFrOH-Sb0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA3NTc5Mw==", "bodyText": "When I run this combination locally I get\nCaused by: org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.poll(DriverManagerConnectionProviderImpl.java:322)\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:189)\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106)\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254)\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:262)\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236)\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86)\n\tat org.keycloak.connections.jpa.JpaKeycloakTransaction.begin(JpaKeycloakTransaction.java:42)\n\tat org.keycloak.services.DefaultKeycloakTransactionManager.enlist(DefaultKeycloakTransactionManager.java:54)\n\tat org.keycloak.connections.jpa.DefaultJpaConnectionProviderFactory.create(DefaultJpaConnectionProviderFactory.java:92)\n\tat org.keycloak.connections.jpa.DefaultJpaConnectionProviderFactory.create(DefaultJpaConnectionProviderFactory.java:59)\n\tat org.keycloak.services.DefaultKeycloakSession.getProvider(DefaultKeycloakSession.java:274)\n\tat org.keycloak.models.jpa.JpaUserProviderFactory.create(JpaUserProviderFactory.java:51)\n\tat org.keycloak.models.jpa.JpaUserProviderFactory.create(JpaUserProviderFactory.java:33)\n\tat org.keycloak.services.DefaultKeycloakSession.getProvider(DefaultKeycloakSession.java:274)\n\tat org.keycloak.services.DefaultKeycloakSession.userLocalStorage(DefaultKeycloakSession.java:194)\n\tat org.keycloak.storage.UserStorageManager.localStorage(UserStorageManager.java:78)\n\tat org.keycloak.storage.UserStorageManager.lambda$addUser$4(UserStorageManager.java:193)\n\nI need to investigate it further to know what is going on and if it's only env issue on my end.", "url": "https://github.com/keycloak/keycloak/pull/7647#discussion_r535075793", "createdAt": "2020-12-03T10:34:24Z", "author": {"login": "vramik"}, "path": "testsuite/model/pom.xml", "diffHunk": "@@ -127,14 +132,28 @@\n         <profile>\n             <id>jpa-federation+infinispan</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab15a9271a5e9f16870e88a96c782c5d7b5f7c26"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDIwOTc2", "url": "https://github.com/keycloak/keycloak/pull/7647#pullrequestreview-546020976", "createdAt": "2020-12-07T10:36:32Z", "commit": {"oid": "ab15a9271a5e9f16870e88a96c782c5d7b5f7c26"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3279, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}