{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5OTU1NTYy", "number": 7078, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDowNjoxM1rOD9uolg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDo1NTozMFrOD9-CbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MDUzNzgyOnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDowNjoxM1rOGXZP5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzowMjozM1rOGXfU-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDEwMw==", "bodyText": "@stianst I believe we need the pull request event here. Something like:\non: [push, pull_request]", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427184103", "createdAt": "2020-05-19T10:06:13Z", "author": {"login": "abstractj"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90504b744fbe3e7144d300516d65e820ad1a3db0"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI4MzcwNQ==", "bodyText": "Updated", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427283705", "createdAt": "2020-05-19T13:02:33Z", "author": {"login": "stianst"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDEwMw=="}, "originalCommit": {"oid": "90504b744fbe3e7144d300516d65e820ad1a3db0"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MzA2MTU3OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDo1NTozMFrOGXySgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNTowMTo0NlrOGYQOoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ==", "bodyText": "The GH actions documentation suggests something like:\n- name: Cache Maven packages\n    uses: actions/cache@v1\n    with:\n      path: ~/.m2\n      key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}\n      restore-keys: ${{ runner.os }}-m2\n\nNot sure what is the benefit of n1hility/cache@v2 but I'd assume that https://github.com/marketplace/actions/cache is the GH supported version.", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427594371", "createdAt": "2020-05-19T20:55:30Z", "author": {"login": "abstractj"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  build:\n+    name: Build\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: actions/setup-java@v1\n+        with:\n+          java-version: 1.8\n+      - name: Compute cache restore key\n+        # Always recompute on a push so that the maven repo doesnt grow indefinitely with old versions\n+        run: |\n+          if ${{ github.event_name == 'pull_request' }}; then echo \"::set-env name=COMPUTED_RESTORE_KEY::q2maven-\"; fi\n+      - name: Cache Maven Repository\n+        id: cache-maven\n+        uses: n1hility/cache@v2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc2MDM4Nw==", "bodyText": "I stole this from Quarkus - I'm not sure either. Looks like it's working fine though.", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427760387", "createdAt": "2020-05-20T06:03:54Z", "author": {"login": "stianst"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  build:\n+    name: Build\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: actions/setup-java@v1\n+        with:\n+          java-version: 1.8\n+      - name: Compute cache restore key\n+        # Always recompute on a push so that the maven repo doesnt grow indefinitely with old versions\n+        run: |\n+          if ${{ github.event_name == 'pull_request' }}; then echo \"::set-env name=COMPUTED_RESTORE_KEY::q2maven-\"; fi\n+      - name: Cache Maven Repository\n+        id: cache-maven\n+        uses: n1hility/cache@v2", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}, "originalCommit": {"oid": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzNzM5NQ==", "bodyText": "From what I tried, yes. I was wondering if would be better to use the official release, but that's not a deal breaker for me.", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427937395", "createdAt": "2020-05-20T11:31:19Z", "author": {"login": "abstractj"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  build:\n+    name: Build\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: actions/setup-java@v1\n+        with:\n+          java-version: 1.8\n+      - name: Compute cache restore key\n+        # Always recompute on a push so that the maven repo doesnt grow indefinitely with old versions\n+        run: |\n+          if ${{ github.event_name == 'pull_request' }}; then echo \"::set-env name=COMPUTED_RESTORE_KEY::q2maven-\"; fi\n+      - name: Cache Maven Repository\n+        id: cache-maven\n+        uses: n1hility/cache@v2", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}, "originalCommit": {"oid": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NDg5Ng==", "bodyText": "I just assumed that Quarkus folks had some good reason, but happy to just use the default as well. Let's switch to that", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r428084896", "createdAt": "2020-05-20T15:01:46Z", "author": {"login": "stianst"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  build:\n+    name: Build\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: actions/setup-java@v1\n+        with:\n+          java-version: 1.8\n+      - name: Compute cache restore key\n+        # Always recompute on a push so that the maven repo doesnt grow indefinitely with old versions\n+        run: |\n+          if ${{ github.event_name == 'pull_request' }}; then echo \"::set-env name=COMPUTED_RESTORE_KEY::q2maven-\"; fi\n+      - name: Cache Maven Repository\n+        id: cache-maven\n+        uses: n1hility/cache@v2", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}, "originalCommit": {"oid": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3644, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}