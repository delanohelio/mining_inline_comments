{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MzQ2NTQ5", "number": 6964, "title": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POS\u2026", "bodyText": "\u2026T or REDIRECT URL is an empty string\n\nFixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted", "createdAt": "2020-04-06T02:32:59Z", "url": "https://github.com/keycloak/keycloak/pull/6964", "merged": true, "mergeCommit": {"oid": "da1138a8d289cfa826458528fd38396654ac9e84"}, "closed": true, "closedAt": "2020-04-27T12:25:05Z", "author": {"login": "sguilhen"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZaBwFAFqTM5NjIwNTYyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbuY0pgFqTQwMDg5OTcyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MjA1NjIz", "url": "https://github.com/keycloak/keycloak/pull/6964#pullrequestreview-396205623", "createdAt": "2020-04-20T07:33:37Z", "commit": {"oid": "50d98aac93757a021aeeccbf4a09b13ddcd86173"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNzozMzozOFrOGIHDdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNzozMzozOFrOGIHDdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE1NzM2Nw==", "bodyText": "Should we use trim() here? Similarly to this: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/SamlService.java#L726\nIf yes it should be fixed also here: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/installation/SamlSPDescriptorClientInstallation.java#L59\nBTW: there is also a copy&paste bug. Should we fix it here or in separate Jira?", "url": "https://github.com/keycloak/keycloak/pull/6964#discussion_r411157367", "createdAt": "2020-04-20T07:33:38Z", "author": {"login": "mhajas"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlService.java", "diffHunk": "@@ -307,7 +307,7 @@ protected Response loginRequest(String relayState, AuthnRequestType requestAbstr\n                 } else {\n                     redirect = client.getAttribute(SamlProtocol.SAML_ASSERTION_CONSUMER_URL_REDIRECT_ATTRIBUTE);\n                 }\n-                if (redirect == null) {\n+                if (redirect == null || redirect.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50d98aac93757a021aeeccbf4a09b13ddcd86173"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09", "author": {"user": {"login": "sguilhen", "name": "Stefan Guilhen"}}, "url": "https://github.com/keycloak/keycloak/commit/927e44719ab001cd57f466be1a2e2ed36ad08d09", "committedDate": "2020-04-27T02:08:56Z", "message": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POST or REDIRECT URL is an empty string\n - Fixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50d98aac93757a021aeeccbf4a09b13ddcd86173", "author": {"user": {"login": "sguilhen", "name": "Stefan Guilhen"}}, "url": "https://github.com/keycloak/keycloak/commit/50d98aac93757a021aeeccbf4a09b13ddcd86173", "committedDate": "2020-04-06T02:26:40Z", "message": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POST or REDIRECT URL is an empty string\n - Fixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted"}, "afterCommit": {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09", "author": {"user": {"login": "sguilhen", "name": "Stefan Guilhen"}}, "url": "https://github.com/keycloak/keycloak/commit/927e44719ab001cd57f466be1a2e2ed36ad08d09", "committedDate": "2020-04-27T02:08:56Z", "message": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POST or REDIRECT URL is an empty string\n - Fixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNjUwOTU0", "url": "https://github.com/keycloak/keycloak/pull/6964#pullrequestreview-400650954", "createdAt": "2020-04-27T06:13:04Z", "commit": {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwODk5NzI3", "url": "https://github.com/keycloak/keycloak/pull/6964#pullrequestreview-400899727", "createdAt": "2020-04-27T12:24:47Z", "commit": {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3130, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}