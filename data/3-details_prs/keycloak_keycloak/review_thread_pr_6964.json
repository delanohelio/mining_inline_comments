{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MzQ2NTQ5", "number": 6964, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNzozMzozOFrODzllXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNzozMzozOFrODzllXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDE5NzQxOnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/protocol/saml/SamlService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNzozMzozOFrOGIHDdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwMjowODoyMlrOGMN0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE1NzM2Nw==", "bodyText": "Should we use trim() here? Similarly to this: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/SamlService.java#L726\nIf yes it should be fixed also here: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/installation/SamlSPDescriptorClientInstallation.java#L59\nBTW: there is also a copy&paste bug. Should we fix it here or in separate Jira?", "url": "https://github.com/keycloak/keycloak/pull/6964#discussion_r411157367", "createdAt": "2020-04-20T07:33:38Z", "author": {"login": "mhajas"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlService.java", "diffHunk": "@@ -307,7 +307,7 @@ protected Response loginRequest(String relayState, AuthnRequestType requestAbstr\n                 } else {\n                     redirect = client.getAttribute(SamlProtocol.SAML_ASSERTION_CONSUMER_URL_REDIRECT_ATTRIBUTE);\n                 }\n-                if (redirect == null) {\n+                if (redirect == null || redirect.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50d98aac93757a021aeeccbf4a09b13ddcd86173"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTQ2MjQ1NA==", "bodyText": "I think it doesn't hurt, changing to use trim(). Fixing the copy&paste bug as well.", "url": "https://github.com/keycloak/keycloak/pull/6964#discussion_r415462454", "createdAt": "2020-04-27T02:08:22Z", "author": {"login": "sguilhen"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlService.java", "diffHunk": "@@ -307,7 +307,7 @@ protected Response loginRequest(String relayState, AuthnRequestType requestAbstr\n                 } else {\n                     redirect = client.getAttribute(SamlProtocol.SAML_ASSERTION_CONSUMER_URL_REDIRECT_ATTRIBUTE);\n                 }\n-                if (redirect == null) {\n+                if (redirect == null || redirect.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE1NzM2Nw=="}, "originalCommit": {"oid": "50d98aac93757a021aeeccbf4a09b13ddcd86173"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3704, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}