{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNTg1MzYx", "number": 7435, "title": "[KEYCLOAK-14255] - CLI Improvements", "bodyText": "Adding message to startup when the value of properties differ from those set into the server image\nMinor refactoring\nExport and Import Commands\nHelp Command Improvements", "createdAt": "2020-09-21T22:07:09Z", "url": "https://github.com/keycloak/keycloak/pull/7435", "merged": true, "mergeCommit": {"oid": "267be2d416306f6788b69d2613a6ec78d79cdf34"}, "closed": true, "closedAt": "2020-09-23T13:47:12Z", "author": {"login": "pedroigor"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLMW2IgBqjM3OTEwMDEwMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLszK5gFqTQ5NDY3MzE4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f82b9f971acbd2320aebcf8c860c1351fb904d3d", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/f82b9f971acbd2320aebcf8c860c1351fb904d3d", "committedDate": "2020-09-21T21:53:06Z", "message": "[KEYCLOAK-14255] - Messages when property value differ from the server image"}, "afterCommit": {"oid": "06211c4b4d92a00e5890403450bfec54233775d0", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/06211c4b4d92a00e5890403450bfec54233775d0", "committedDate": "2020-09-21T23:53:59Z", "message": "[KEYCLOAK-14255] - Messages when property value differ from the server image"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60f362092055ecdb1079c66b9747d66edc9b2134", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/60f362092055ecdb1079c66b9747d66edc9b2134", "committedDate": "2020-09-22T01:38:58Z", "message": "[KEYCLOAK-14255] - Export and Import commands"}, "afterCommit": {"oid": "a04d3302c7b49fb5ab057969ac61858f97725558", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/a04d3302c7b49fb5ab057969ac61858f97725558", "committedDate": "2020-09-22T20:34:07Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a04d3302c7b49fb5ab057969ac61858f97725558", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/a04d3302c7b49fb5ab057969ac61858f97725558", "committedDate": "2020-09-22T20:34:07Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}, "afterCommit": {"oid": "aff64c4b30337390ffd4fc28472ac081f66d4319", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/aff64c4b30337390ffd4fc28472ac081f66d4319", "committedDate": "2020-09-23T02:43:59Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aff64c4b30337390ffd4fc28472ac081f66d4319", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/aff64c4b30337390ffd4fc28472ac081f66d4319", "committedDate": "2020-09-23T02:43:59Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}, "afterCommit": {"oid": "494f9014462a344ad947de64e67e9bca53bf1022", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/494f9014462a344ad947de64e67e9bca53bf1022", "committedDate": "2020-09-23T12:05:20Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06134dcf638a58b7a220935e6e267355948a4dfd", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/06134dcf638a58b7a220935e6e267355948a4dfd", "committedDate": "2020-09-23T12:09:56Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "494f9014462a344ad947de64e67e9bca53bf1022", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/494f9014462a344ad947de64e67e9bca53bf1022", "committedDate": "2020-09-23T12:05:20Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}, "afterCommit": {"oid": "06134dcf638a58b7a220935e6e267355948a4dfd", "author": {"user": {"login": "pedroigor", "name": "Pedro Igor"}}, "url": "https://github.com/keycloak/keycloak/commit/06134dcf638a58b7a220935e6e267355948a4dfd", "committedDate": "2020-09-23T12:09:56Z", "message": "[KEYCLOAK-14255] - More improvements to CLI"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjI3NTk1", "url": "https://github.com/keycloak/keycloak/pull/7435#pullrequestreview-494627595", "createdAt": "2020-09-23T12:54:57Z", "commit": {"oid": "06134dcf638a58b7a220935e6e267355948a4dfd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjo1NDo1N1rOHWsMWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjo1NDo1N1rOHWsMWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzU1NDc3Nw==", "bodyText": "Do we need to exit after \"import\" ?\nI see it will have some advantage as \"export\" and \"import\" are separate commands. On the other hand, it will always add some overhead (EG. admin will first need to run command for \"import\" and then separate command for \"start\"). Also will it makes sense to have this in the non-quarkus distribution as well to have consistent behaviour for non-quarkus and quarkus distributions regarding export/import?", "url": "https://github.com/keycloak/keycloak/pull/7435#discussion_r493554777", "createdAt": "2020-09-23T12:54:57Z", "author": {"login": "mposolda"}, "path": "quarkus/runtime/src/main/java/org/keycloak/connections/jpa/QuarkusJpaConnectionProviderFactory.java", "diffHunk": "@@ -395,6 +397,7 @@ protected ExportImportManager createMasterRealm(ExportImportManager exportImport\n \n         if (exportImportManager.isRunImport()) {\n             exportImportManager.runImport();\n+            Quarkus.asyncExit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06134dcf638a58b7a220935e6e267355948a4dfd"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjczMTgy", "url": "https://github.com/keycloak/keycloak/pull/7435#pullrequestreview-494673182", "createdAt": "2020-09-23T13:42:07Z", "commit": {"oid": "06134dcf638a58b7a220935e6e267355948a4dfd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3414, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}