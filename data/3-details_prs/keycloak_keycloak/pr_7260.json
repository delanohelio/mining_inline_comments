{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjQ5MTI4", "number": 7260, "title": "KEYCLOAK-12249 added test to test that time is localized", "bodyText": "", "createdAt": "2020-07-13T13:16:43Z", "url": "https://github.com/keycloak/keycloak/pull/7260", "merged": true, "mergeCommit": {"oid": "ace64c1f0c48917dd98f6fca81067ef6784d2725"}, "closed": true, "closedAt": "2020-07-15T18:57:39Z", "author": {"login": "edewit"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0y3DmABqjM1NDMzODQ5OTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1OYykgFqTQ0OTE5NDMzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fae5d535e01cd0c31f3af4f34c0a7cbf71b816ac", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/fae5d535e01cd0c31f3af4f34c0a7cbf71b816ac", "committedDate": "2020-07-13T13:15:46Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}, "afterCommit": {"oid": "53e0550bbe8206794ad92c77417a61bccc4d04ac", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/53e0550bbe8206794ad92c77417a61bccc4d04ac", "committedDate": "2020-07-14T09:45:17Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53e0550bbe8206794ad92c77417a61bccc4d04ac", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/53e0550bbe8206794ad92c77417a61bccc4d04ac", "committedDate": "2020-07-14T09:45:17Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}, "afterCommit": {"oid": "72f893a13c7cc426fa3d1098a27311d7402dc7ef", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/72f893a13c7cc426fa3d1098a27311d7402dc7ef", "committedDate": "2020-07-14T12:27:25Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72f893a13c7cc426fa3d1098a27311d7402dc7ef", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/72f893a13c7cc426fa3d1098a27311d7402dc7ef", "committedDate": "2020-07-14T12:27:25Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}, "afterCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/8f5d359ff0af19ebc25f506f98184871acae5495", "committedDate": "2020-07-14T14:10:25Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjA4Njg1", "url": "https://github.com/keycloak/keycloak/pull/7260#pullrequestreview-448208685", "createdAt": "2020-07-14T15:18:16Z", "commit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjU0MjEx", "url": "https://github.com/keycloak/keycloak/pull/7260#pullrequestreview-448654211", "createdAt": "2020-07-15T06:10:29Z", "commit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxMDoyOVrOGxvovA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoyMjo0M1rOGxv6Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxMzg4NA==", "bodyText": "Just out of curiosity, what's the reason to make changes on WelcomeScreen page object?", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454813884", "createdAt": "2020-07-15T06:10:29Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/WelcomeScreen.java", "diffHunk": "@@ -41,21 +41,21 @@\n     @FindBy(xpath = \"//*[@id='\" + ROOT_ELEMENT_ID + \"']//header\")\n     private WelcomeScreenHeader header;\n \n-    @FindBy(xpath = \"//*[@id='landing-personal-info']/a\")\n+    @FindBy(xpath = \"//a[@id='landing-personal-info']\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxNDMyMQ==", "bodyText": "Please don't use star imports. It's somewhere specified in our code style but can't find it right now. Correct, @ssilvert?", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454814321", "createdAt": "2020-07-15T06:11:38Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "diffHunk": "@@ -46,12 +49,10 @@\n import static org.hamcrest.Matchers.hasProperty;\n import static org.hamcrest.Matchers.is;\n import static org.hamcrest.Matchers.not;\n-import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.assertThat;\n-import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxNjIxMw==", "bodyText": "This is not needed. We don't care about exact time of the session.", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454816213", "createdAt": "2020-07-15T06:16:35Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "diffHunk": "@@ -229,6 +231,34 @@ public void timesTests() {\n         assertEquals(startedAt.plusSeconds(ssoLifespan), expiresAt);\n     }\n \n+    @Test\n+    public void timeLocaleTest() {\n+        String sessionId = createSession(Browsers.CHROME);\n+        testingClient.server().run(session -> {\n+            RealmModel realm = session.realms().getRealmByName(TEST);\n+            UserSessionModel userSession = session.sessions().getUserSession(realm, sessionId);\n+\n+            userSession.setLastSessionRefresh(Time.currentTime());\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxODM1OQ==", "bodyText": "Locale is not specified in the formatter. Is that intentional? I know it defaults to English in most cases but not sure what happens if someone runs the test on a machine with different locale.", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454818359", "createdAt": "2020-07-15T06:22:43Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/InternationalizationTest.java", "diffHunk": "@@ -93,6 +105,34 @@ public void userAttributeTest() {\n         assertCustomLocalePersonalInfo();\n     }\n \n+    @Test\n+    public void shouldDisplayTimeUsingSelectedLocale() {\n+        signingInPage.navigateTo();\n+        loginToAccount();\n+        SigningInPage.UserCredential passwordCred =\n+                passwordCredentialType.getUserCredential(testUserResource().credentials().get(0).getId());\n+\n+        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MMMM d, yyyy, h:mm a\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "745b79510c2fe137920d04d7d3a33e106e4094bb", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/745b79510c2fe137920d04d7d3a33e106e4094bb", "committedDate": "2020-07-15T07:18:33Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/8f5d359ff0af19ebc25f506f98184871acae5495", "committedDate": "2020-07-14T14:10:25Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}, "afterCommit": {"oid": "745b79510c2fe137920d04d7d3a33e106e4094bb", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/745b79510c2fe137920d04d7d3a33e106e4094bb", "committedDate": "2020-07-15T07:18:33Z", "message": "KEYCLOAK-12249 added test to test that time is localized"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDI4OTU3", "url": "https://github.com/keycloak/keycloak/pull/7260#pullrequestreview-449028957", "createdAt": "2020-07-15T14:44:08Z", "commit": {"oid": "745b79510c2fe137920d04d7d3a33e106e4094bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MTk0MzM4", "url": "https://github.com/keycloak/keycloak/pull/7260#pullrequestreview-449194338", "createdAt": "2020-07-15T17:49:49Z", "commit": {"oid": "745b79510c2fe137920d04d7d3a33e106e4094bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2844, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}