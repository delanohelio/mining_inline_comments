{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNDc4OTA5", "number": 6930, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMjowMTowMlrODrnPFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoyNzoyOFrODrpPFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MDU4MTk5OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/SigningInPage.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMjowMTowMlrOF8DmNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMjowMTowMlrOF8DmNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUxNzgxNA==", "bodyText": "Please rename this method:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    public boolean isNotSetUpLinkVisible() {\n          \n          \n            \n                    public boolean isNotSetUpLabelVisible() {\n          \n      \n    \n    \n  \n\nIt's actually a label (or just a text, to be precise), not a link. ;)", "url": "https://github.com/keycloak/keycloak/pull/6930#discussion_r398517814", "createdAt": "2020-03-26T12:01:02Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/SigningInPage.java", "diffHunk": "@@ -124,6 +125,24 @@ public boolean isSetUpLinkVisible() {\n             }\n         }\n \n+        public boolean isNotSetUpLinkVisible() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f255eee6fe059844640afde4ddbf0eddf4c054d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MDkwNjU0OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/SigningInTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoyNjo0MlrOF8Gwkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoyNjo0MlrOF8Gwkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU2OTYxOA==", "bodyText": "Before this, we need to disable given required action and also add an assert to check that the setup link is not visible. We could also check the user credential count didn't change after that. Something like:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assertFalse(\"Not set up link is visible\", otpCredentialType.isNotSetUpLinkVisible());\n          \n          \n            \n                    assertTrue(\"Title is not visible\", otpCredentialType.isTitleVisible());\n          \n          \n            \n                    assertTrue(\"Set up link is not visible\", otpCredentialType.isSetUpLinkVisible());\n          \n          \n            \n            \n          \n          \n            \n                    RequiredActionProviderRepresentation requiredAction = new RequiredActionProviderRepresentation();\n          \n          \n            \n                    requiredAction.setEnabled(false);\n          \n          \n            \n                    testRealmResource().flows().updateRequiredAction(CONFIGURE_TOTP.name(), requiredAction);\n          \n          \n            \n            \n          \n          \n            \n                    assertFalse(\"Set up link is visible\", otpCredentialType.isSetUpLinkVisible());\n          \n          \n            \n                    assertFalse(\"Not set up link is visible\", otpCredentialType.isNotSetUpLinkVisible());\n          \n          \n            \n                    assertTrue(\"Title is not visible\", otpCredentialType.isTitleVisible());\n          \n          \n            \n                    assertEquals(2, otpCredentialType.getUserCredentialsCount());", "url": "https://github.com/keycloak/keycloak/pull/6930#discussion_r398569618", "createdAt": "2020-03-26T13:26:42Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/SigningInTest.java", "diffHunk": "@@ -240,6 +240,9 @@ public void otpTest() {\n         assertEquals(2, otpCredentialType.getUserCredentialsCount());\n         assertUserCredential(label2, true, otp2);\n \n+        assertFalse(\"Not set up link is visible\", otpCredentialType.isNotSetUpLinkVisible());\n+        assertTrue(\"Title is not visible\", otpCredentialType.isTitleVisible());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f255eee6fe059844640afde4ddbf0eddf4c054d"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MDkwOTY1OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/SigningInTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoyNzoyOFrOF8Gyew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoyNzoyOFrOF8Gyew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3MDEwNw==", "bodyText": "Same as above in otpTest.", "url": "https://github.com/keycloak/keycloak/pull/6930#discussion_r398570107", "createdAt": "2020-03-26T13:27:28Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/SigningInTest.java", "diffHunk": "@@ -286,6 +289,9 @@ private void testWebAuthn(boolean passwordless) {\n         assertEquals(2, credentialType.getUserCredentialsCount());\n         assertUserCredential(label2, true, webAuthn2);\n \n+        assertFalse(\"Not set up link is visible\", credentialType.isNotSetUpLinkVisible());\n+        assertTrue(\"Title is visible\", credentialType.isTitleVisible());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f255eee6fe059844640afde4ddbf0eddf4c054d"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3760, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}