{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDEwODAy", "number": 7643, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTozODowNVrOFYj_fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTo0Nzo0MVrOFYkOpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxMjk5ODM5OnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/keys/JavaKeystoreKeyProvider.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTozODowNVrOIioSkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTozODowNVrOIioSkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzE4MjYxMA==", "bodyText": "This should be better orElseGet(Collections::emptyList).", "url": "https://github.com/keycloak/keycloak/pull/7643#discussion_r573182610", "createdAt": "2021-02-09T19:38:05Z", "author": {"login": "pedroigor"}, "path": "services/src/main/java/org/keycloak/keys/JavaKeystoreKeyProvider.java", "diffHunk": "@@ -62,7 +59,12 @@ protected KeyWrapper loadKey(RealmModel realm, ComponentModel model) {\n                 certificate = CertificateUtils.generateV1SelfSignedCertificate(keyPair, realm.getName());\n             }\n \n-            return createKeyWrapper(keyPair, certificate);\n+            final List<X509Certificate> certificateChain = Optional.ofNullable(keyStore.getCertificateChain(model.get(JavaKeystoreKeyProviderFactory.KEY_ALIAS_KEY)))\n+                    .map(certificates -> (X509Certificate[]) certificates)\n+                    .map(Arrays::asList)\n+                    .orElseGet(ArrayList::new);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e951172f656cb0d926e1a32a67f59fc19271c30d"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxMzAzNzE4OnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/keys/AbstractRsaKeyProvider.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTo0Nzo0MVrOIioqOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxOTo0Nzo0MVrOIioqOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzE4ODY2NQ==", "bodyText": "Use Collections.emptyList().", "url": "https://github.com/keycloak/keycloak/pull/7643#discussion_r573188665", "createdAt": "2021-02-09T19:47:41Z", "author": {"login": "pedroigor"}, "path": "services/src/main/java/org/keycloak/keys/AbstractRsaKeyProvider.java", "diffHunk": "@@ -66,6 +62,10 @@ public AbstractRsaKeyProvider(RealmModel realm, ComponentModel model) {\n     }\n \n     protected KeyWrapper createKeyWrapper(KeyPair keyPair, X509Certificate certificate) {\n+        return createKeyWrapper(keyPair, certificate, new ArrayList<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e951172f656cb0d926e1a32a67f59fc19271c30d"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3207, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}