{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NjI4NjQz", "number": 6810, "title": "KEYCLOAK-11155 split on first '=' instead of all", "bodyText": "", "createdAt": "2020-02-20T08:56:03Z", "url": "https://github.com/keycloak/keycloak/pull/6810", "merged": true, "mergeCommit": {"oid": "8297c0c878946c1eaf47f5757a0c654a5182a196"}, "closed": true, "closedAt": "2020-02-27T08:12:52Z", "author": {"login": "edewit"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGH97GAFqTM2MTc2MDIxMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIW0iDAFqTM2NTQ4MDQ5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzYwMjEw", "url": "https://github.com/keycloak/keycloak/pull/6810#pullrequestreview-361760210", "createdAt": "2020-02-20T09:46:36Z", "commit": {"oid": "3d2023fb884bfd1aad2bc8500c7e25ed490fb670"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwOTo0NjozNlrOFsMoMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwOTo0NjozNlrOFsMoMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg4ODU2MA==", "bodyText": "@edewit Could you remove the unrelated whitespace changes from your commit?", "url": "https://github.com/keycloak/keycloak/pull/6810#discussion_r381888560", "createdAt": "2020-02-20T09:46:36Z", "author": {"login": "jonkoops"}, "path": "adapters/oidc/js/src/main/resources/keycloak.js", "diffHunk": "@@ -18,9 +18,9 @@\n (function(root, factory) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d2023fb884bfd1aad2bc8500c7e25ed490fb670"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d2023fb884bfd1aad2bc8500c7e25ed490fb670", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/3d2023fb884bfd1aad2bc8500c7e25ed490fb670", "committedDate": "2020-02-20T08:55:35Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}, "afterCommit": {"oid": "e0a3cf8ed269669c95f53dd921c769174d3bacfa", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/e0a3cf8ed269669c95f53dd921c769174d3bacfa", "committedDate": "2020-02-20T15:39:35Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e0a3cf8ed269669c95f53dd921c769174d3bacfa", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/e0a3cf8ed269669c95f53dd921c769174d3bacfa", "committedDate": "2020-02-20T15:39:35Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}, "afterCommit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/303514c73fd5b8fafcb9602c73f4b6fdafc6774a", "committedDate": "2020-02-21T09:29:32Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzOTQwODY2", "url": "https://github.com/keycloak/keycloak/pull/6810#pullrequestreview-363940866", "createdAt": "2020-02-25T08:19:12Z", "commit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwODoxOToxM1rOFt8Srw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMToxMTo1N1rOFuCIXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzcxODA2Mw==", "bodyText": "We shouldn't change testAppUrl. When this url is changed, other tests will use it as well. Could you please change the testAppUrl variable to final by using AuthServerTestEnricher.getAuthServerContextRoot method?", "url": "https://github.com/keycloak/keycloak/pull/6810#discussion_r383718063", "createdAt": "2020-02-25T08:19:13Z", "author": {"login": "mhajas"}, "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/javascript/JavascriptAdapterTest.java", "diffHunk": "@@ -474,6 +474,23 @@ public void testLocationHeaderInResponse() {\n                         });\n     }\n \n+    @Test\n+    public void equalsSignInRedirectUrl() {\n+\n+        testAppUrl = authServerContextRootPage.toString().replace(\"localhost\", NIP_IO_URL) + JAVASCRIPT_URL + \"/index.html?test=bla=bla&super=man\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzcyMTE4OA==", "bodyText": "This is always true. You need to use driver1.getCurrentUrl() in order to find out current url in browser.", "url": "https://github.com/keycloak/keycloak/pull/6810#discussion_r383721188", "createdAt": "2020-02-25T08:25:55Z", "author": {"login": "mhajas"}, "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/javascript/JavascriptAdapterTest.java", "diffHunk": "@@ -474,6 +474,23 @@ public void testLocationHeaderInResponse() {\n                         });\n     }\n \n+    @Test\n+    public void equalsSignInRedirectUrl() {\n+\n+        testAppUrl = authServerContextRootPage.toString().replace(\"localhost\", NIP_IO_URL) + JAVASCRIPT_URL + \"/index.html?test=bla=bla&super=man\";\n+        jsDriver.navigate().to(testAppUrl);\n+\n+        JSObjectBuilder arguments = defaultArguments();\n+\n+        testExecutor.init(arguments, this::assertInitNotAuth)\n+                .login(this::assertOnLoginPage)\n+                .loginForm(testUser, this::assertOnTestAppUrl)\n+                .init(arguments, (driver1, output1, events2) -> {\n+                    assertTrue(testAppUrl.contains(\"bla=bla\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzgxMzcyNw==", "bodyText": "Remove empty line", "url": "https://github.com/keycloak/keycloak/pull/6810#discussion_r383813727", "createdAt": "2020-02-25T11:11:57Z", "author": {"login": "mhajas"}, "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/javascript/JavascriptAdapterTest.java", "diffHunk": "@@ -474,6 +474,23 @@ public void testLocationHeaderInResponse() {\n                         });\n     }\n \n+    @Test\n+    public void equalsSignInRedirectUrl() {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ace90521b5884d2daef2bb68ce0caed3957c5a2c", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/ace90521b5884d2daef2bb68ce0caed3957c5a2c", "committedDate": "2020-02-25T12:43:09Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "303514c73fd5b8fafcb9602c73f4b6fdafc6774a", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/303514c73fd5b8fafcb9602c73f4b6fdafc6774a", "committedDate": "2020-02-21T09:29:32Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}, "afterCommit": {"oid": "ace90521b5884d2daef2bb68ce0caed3957c5a2c", "author": {"user": {"login": "edewit", "name": "Erik Jan de Wit"}}, "url": "https://github.com/keycloak/keycloak/commit/ace90521b5884d2daef2bb68ce0caed3957c5a2c", "committedDate": "2020-02-25T12:43:09Z", "message": "KEYCLOAK-11155 split on first '=' instead of all"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTU5NDY1", "url": "https://github.com/keycloak/keycloak/pull/6810#pullrequestreview-364159465", "createdAt": "2020-02-25T13:58:33Z", "commit": {"oid": "ace90521b5884d2daef2bb68ce0caed3957c5a2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTc0NTgx", "url": "https://github.com/keycloak/keycloak/pull/6810#pullrequestreview-364174581", "createdAt": "2020-02-25T14:18:54Z", "commit": {"oid": "ace90521b5884d2daef2bb68ce0caed3957c5a2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NDgwNDkz", "url": "https://github.com/keycloak/keycloak/pull/6810#pullrequestreview-365480493", "createdAt": "2020-02-27T08:12:46Z", "commit": {"oid": "ace90521b5884d2daef2bb68ce0caed3957c5a2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2519, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}