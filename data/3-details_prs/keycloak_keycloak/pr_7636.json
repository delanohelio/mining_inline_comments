{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NjgwNTI5", "number": 7636, "title": "KEYCLOAK-14846 default roles processing", "bodyText": "", "createdAt": "2020-11-23T12:00:45Z", "url": "https://github.com/keycloak/keycloak/pull/7636", "merged": true, "mergeCommit": {"oid": "1402d021deb014310027ba506e6cfa7686b315b4"}, "closed": true, "closedAt": "2021-01-08T12:55:49Z", "author": {"login": "vramik"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf8SaPABqjQwMzc1MDc1NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABduIQysAFqTU2NDIzODA4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26c6485c091d06dd72b6b87ac3374140452240c7", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/26c6485c091d06dd72b6b87ac3374140452240c7", "committedDate": "2020-11-23T12:10:45Z", "message": "KEYCLOAK-14846 remove DefaultRoles.java"}, "afterCommit": {"oid": "b6b8f607f5ec34a60fd66967a13c30361366b236", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/b6b8f607f5ec34a60fd66967a13c30361366b236", "committedDate": "2020-11-25T11:03:05Z", "message": "KEYCLOAK-14846 remove DefaultRoles.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6b8f607f5ec34a60fd66967a13c30361366b236", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/b6b8f607f5ec34a60fd66967a13c30361366b236", "committedDate": "2020-11-25T11:03:05Z", "message": "KEYCLOAK-14846 remove DefaultRoles.java"}, "afterCommit": {"oid": "db0b243bb7631d08f634198a7cf4895730c92787", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/db0b243bb7631d08f634198a7cf4895730c92787", "committedDate": "2020-11-25T11:09:59Z", "message": "KEYCLOAK-14846 remove DefaultRoles.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ed2997df4fd51348fe34b2335715ae8bf656860", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/5ed2997df4fd51348fe34b2335715ae8bf656860", "committedDate": "2020-11-25T13:14:47Z", "message": "KEYCLOAK-14846 fix import"}, "afterCommit": {"oid": "237f043cf5e091e3d1e8e5f28b2b1f148e8561da", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/237f043cf5e091e3d1e8e5f28b2b1f148e8561da", "committedDate": "2020-11-25T13:20:10Z", "message": "KEYCLOAK-14846 fix import"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "237f043cf5e091e3d1e8e5f28b2b1f148e8561da", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/237f043cf5e091e3d1e8e5f28b2b1f148e8561da", "committedDate": "2020-11-25T13:20:10Z", "message": "KEYCLOAK-14846 fix import"}, "afterCommit": {"oid": "a26736834ff9f09383d9377ecebc79c0586138b1", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/a26736834ff9f09383d9377ecebc79c0586138b1", "committedDate": "2020-11-25T16:13:50Z", "message": "KEYCLOAK-14846 fix import"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6a6d281908585b5539629ded4329992a2452c89", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/b6a6d281908585b5539629ded4329992a2452c89", "committedDate": "2020-11-30T18:43:04Z", "message": "KEYCLOAK-14846 fix tests"}, "afterCommit": {"oid": "2362cb45dd4f9865ddcd29254351fbb4a480e816", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/2362cb45dd4f9865ddcd29254351fbb4a480e816", "committedDate": "2020-11-30T20:18:45Z", "message": "KEYCLOAK-14846 rebase"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2362cb45dd4f9865ddcd29254351fbb4a480e816", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/2362cb45dd4f9865ddcd29254351fbb4a480e816", "committedDate": "2020-11-30T20:18:45Z", "message": "KEYCLOAK-14846 rebase"}, "afterCommit": {"oid": "a239d0c998f1cd6e4b03745c8e95f8404a2a1c86", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/a239d0c998f1cd6e4b03745c8e95f8404a2a1c86", "committedDate": "2020-12-01T21:21:46Z", "message": "KEYCLOAK-14846 fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d604dddd9c51f761015827dcd00ee7b00a98f7e5", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d604dddd9c51f761015827dcd00ee7b00a98f7e5", "committedDate": "2020-12-02T23:22:24Z", "message": "KEYCLOAK-14846 SQL migrate default roles"}, "afterCommit": {"oid": "b77443f88b2cb572c1d9cd4332c2c50625ec326d", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/b77443f88b2cb572c1d9cd4332c2c50625ec326d", "committedDate": "2020-12-02T23:39:05Z", "message": "KEYCLOAK-14846 SQL migrate default roles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NzY1NDM4", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-544765438", "createdAt": "2020-12-04T08:57:49Z", "commit": {"oid": "b77443f88b2cb572c1d9cd4332c2c50625ec326d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwODo1Nzo1MFrOH_HEiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwOTowNToxNlrOH_HWQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkzODE4NQ==", "bodyText": "Is this flush call needed?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r535938185", "createdAt": "2020-12-04T08:57:50Z", "author": {"login": "hmlnarik"}, "path": "model/jpa/src/main/java/org/keycloak/models/jpa/RealmAdapter.java", "diffHunk": "@@ -1204,6 +1159,20 @@ public void setMasterAdminClient(ClientModel client) {\n         em.flush();\n     }\n \n+    @Override\n+    public void setDefaultRole(RoleModel role) {\n+        realm.setDefaultRoleId(role.getId());\n+        em.flush();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77443f88b2cb572c1d9cd4332c2c50625ec326d"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk0MjcyMQ==", "bodyText": "Can we do without this change?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r535942721", "createdAt": "2020-12-04T09:05:16Z", "author": {"login": "hmlnarik"}, "path": "testsuite/integration-arquillian/tests/base/src/test/resources/migration-test/migration-realm-1.9.8.Final.json", "diffHunk": "@@ -324,7 +324,7 @@\n     \"clientRoles\" : { },\n     \"subGroups\" : [ ]\n   } ],\n-  \"defaultRoles\" : [ \"offline_access\" ],\n+  \"defaultRoles\" : [ \"offline_access\", \"master-test-realm-role\" ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77443f88b2cb572c1d9cd4332c2c50625ec326d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDY2Mzg4", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-546066388", "createdAt": "2020-12-07T11:37:55Z", "commit": {"oid": "5314d629274ceb03556244c15f0dfefaeb6d71d6"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMTozNzo1NlrOIAionA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDozMToyN1rOIAphiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQzODM2NA==", "bodyText": "Should be this commented block removed? If no should we add some comment why it is there?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r537438364", "createdAt": "2020-12-07T11:37:56Z", "author": {"login": "mhajas"}, "path": "model/infinispan/src/main/java/org/keycloak/models/cache/infinispan/RealmAdapter.java", "diffHunk": "@@ -724,29 +724,39 @@ public void removeDefaultGroup(GroupModel group) {\n \n     }\n \n-    @Override\n-    public Stream<String> getDefaultRolesStream() {\n-        if (isUpdated()) return updated.getDefaultRolesStream();\n-        return cached.getDefaultRoles().stream();\n-    }\n-\n-    @Override\n-    public void addDefaultRole(String name) {\n-        getDelegateForUpdate();\n-        updated.addDefaultRole(name);\n-    }\n-\n-    @Override\n-    public void updateDefaultRoles(String... defaultRoles) {\n-        getDelegateForUpdate();\n-        updated.updateDefaultRoles(defaultRoles);\n-    }\n-\n-    @Override\n-    public void removeDefaultRoles(String... defaultRoles) {\n-        getDelegateForUpdate();\n-        updated.removeDefaultRoles(defaultRoles);\n-\n+//    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5314d629274ceb03556244c15f0dfefaeb6d71d6"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ0MjY1OQ==", "bodyText": "If I understand this correctly, this interface will basically stop working in newer versions. Should we provide an implementation of this that uses the composite default role in the background to stay backward compatible?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r537442659", "createdAt": "2020-12-07T11:45:24Z", "author": {"login": "mhajas"}, "path": "server-spi/src/main/java/org/keycloak/models/RoleContainerModel.java", "diffHunk": "@@ -71,60 +67,40 @@\n     Stream<RoleModel> searchForRolesStream(String search, Integer first, Integer max);\n \n     /**\n-     * Returns all the default role names of this object.\n-     * @return List of the default role names of this object. Never returns {@code null}.\n-     * @deprecated use the stream variant instead\n+     * @deprecated Default roles are now managed by {@link org.keycloak.models.RealmModel#getDefaultRole()}\n      */\n     @Deprecated\n     default List<String> getDefaultRoles() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5314d629274ceb03556244c15f0dfefaeb6d71d6"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ1NzM4Mg==", "bodyText": "Is it possible that defaultRole is null? Or we can be sure default role always exists?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r537457382", "createdAt": "2020-12-07T12:09:23Z", "author": {"login": "mhajas"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/RoleByIdResource.java", "diffHunk": "@@ -104,6 +106,11 @@ protected RoleModel getRoleModel(String id) {\n     @DELETE\n     @NoCache\n     public void deleteRole(final @PathParam(\"role-id\") String id) {\n+        if (realm.getDefaultRole().getId().equals(id)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5314d629274ceb03556244c15f0dfefaeb6d71d6"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU1MTI0MA==", "bodyText": "This seems like a duplicity of this: https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/admin/resources/js/services.js#L1059\nIf I understand it correctly this function should provide all functionality necessary for default tab to work, so we could remove almost all code from here and add just call to roleControl() function. Have you tried it?", "url": "https://github.com/keycloak/keycloak/pull/7636#discussion_r537551240", "createdAt": "2020-12-07T14:31:27Z", "author": {"login": "mhajas"}, "path": "themes/src/main/resources/theme/base/admin/resources/js/controllers/realm.js", "diffHunk": "@@ -747,99 +747,119 @@ module.controller('RealmPasswordPolicyCtrl', function($scope, Realm, realm, $htt\n     };\n });\n \n-module.controller('RealmDefaultRolesCtrl', function ($scope, $route, Realm, realm, roles, Notifications, ClientRole, Client) {\n+module.controller('RealmDefaultRolesCtrl', function ($scope, $route, realm, roles, Notifications, ClientRole, Client, RoleRealmComposites, RoleClientComposites, ComponentUtils, $http) {\n \n     console.log('RealmDefaultRolesCtrl');\n \n     $scope.realm = realm;\n-\n-    $scope.availableRealmRoles = [];\n+    $scope.availableRealmRoles = angular.copy(roles);\n     $scope.selectedRealmRoles = [];\n     $scope.selectedRealmDefRoles = [];\n \n     $scope.availableClientRoles = [];\n     $scope.selectedClientRoles = [];\n     $scope.selectedClientDefRoles = [];\n \n-    if (!$scope.realm.hasOwnProperty('defaultRoles') || $scope.realm.defaultRoles === null) {\n-        $scope.realm.defaultRoles = [];\n+    for (var j = 0; j < $scope.availableRealmRoles.length; j++) {\n+        if ($scope.availableRealmRoles[j].id === realm.defaultRole.id) {\n+            var realmRole = $scope.availableRealmRoles[j];\n+            var idx = $scope.availableRealmRoles.indexOf(realmRole);\n+            $scope.availableRealmRoles.splice(idx, 1);\n+            break;\n+        }\n     }\n \n-    // Populate available roles. Available roles are neither already assigned\n-    for (var i = 0; i < roles.length; i++) {\n-        var item = roles[i].name;\n-\n-        if ($scope.realm.defaultRoles.indexOf(item) < 0) {\n-            $scope.availableRealmRoles.push(item);\n+    $scope.realmMappings = RoleRealmComposites.query({realm : realm.realm, role : realm.defaultRole.id}, function(){\n+        for (var i = 0; i < $scope.realmMappings.length; i++) {\n+            var role = $scope.realmMappings[i];\n+            for (var j = 0; j < $scope.availableRealmRoles.length; j++) {\n+                var realmRole = $scope.availableRealmRoles[j];\n+                if (realmRole.id === role.id) {\n+                    var idx = $scope.availableRealmRoles.indexOf(realmRole);\n+                    if (idx !== -1) {\n+                        $scope.availableRealmRoles.splice(idx, 1);\n+                        break;\n+                    }\n+                }\n+            }\n         }\n-    }\n+    });\n \n     $scope.addRealmDefaultRole = function () {\n \n-        // Remove selected roles from the Available roles and add them to realm default roles (move from left to right).\n-        for (var i = 0; i < $scope.selectedRealmRoles.length; i++) {\n-            var selectedRole = $scope.selectedRealmRoles[i];\n-\n-            $scope.realm.defaultRoles.push(selectedRole);\n-\n-            var index = $scope.availableRealmRoles.indexOf(selectedRole);\n-            if (index > -1) {\n-                $scope.availableRealmRoles.splice(index, 1);\n+        $scope.selectedRealmRolesToAdd = JSON.parse('[' + $scope.selectedRealmRoles + ']');\n+        $http.post(authUrl + '/admin/realms/' + realm.realm + '/roles-by-id/' + realm.defaultRole.id + '/composites',\n+            $scope.selectedRealmRolesToAdd).then(function() {\n+            // Remove selected roles from the Available roles and add them to realm default roles (move from left to right).\n+            for (var i = 0; i < $scope.selectedRealmRolesToAdd.length; i++) {\n+                var selectedRole = $scope.selectedRealmRolesToAdd[i];\n+                var index = ComponentUtils.findIndexById($scope.availableRealmRoles, selectedRole.id);\n+                if (index > -1) {\n+                    $scope.availableRealmRoles.splice(index, 1);\n+                    $scope.realmMappings.push(selectedRole);\n+                }\n             }\n-        }\n-\n-        $scope.selectedRealmRoles = [];\n \n-        // Update/save the realm with new default roles.\n-        Realm.update($scope.realm, function () {\n-            Notifications.success(\"Realm default roles updated.\");\n+            $scope.selectedRealmRoles = [];\n+            $scope.selectedRealmRolesToAdd = [];\n+            Notifications.success(\"Default roles updated.\");\n         });\n     };\n \n     $scope.deleteRealmDefaultRole = function () {\n \n-        // Remove selected roles from the realm default roles and add them to available roles (move from right to left).\n-        for (var i = 0; i < $scope.selectedRealmDefRoles.length; i++) {\n-            $scope.availableRealmRoles.push($scope.selectedRealmDefRoles[i]);\n-\n-            var index = $scope.realm.defaultRoles.indexOf($scope.selectedRealmDefRoles[i]);\n-            if (index > -1) {\n-                $scope.realm.defaultRoles.splice(index, 1);\n+        $scope.selectedClientRolesToRemove = JSON.parse('[' + $scope.selectedRealmDefRoles + ']');\n+        $http.delete(authUrl + '/admin/realms/' + realm.realm + '/roles-by-id/' + realm.defaultRole.id + '/composites',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5314d629274ceb03556244c15f0dfefaeb6d71d6"}, "originalPosition": 100}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MDUyNDUx", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-547052451", "createdAt": "2020-12-08T10:32:49Z", "commit": {"oid": "9298fc123d3e8415d9800133d52f44dd08529ba5"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4be37efe6a28caee2a22b02fb4ad68098d55ee80", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/4be37efe6a28caee2a22b02fb4ad68098d55ee80", "committedDate": "2020-12-08T10:42:18Z", "message": "KEYCLOAK-14846 handle possible NPE in RoleByIdResource"}, "afterCommit": {"oid": "b33672f629e6437ec5d0235323bd51b3713421a9", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/b33672f629e6437ec5d0235323bd51b3713421a9", "committedDate": "2020-12-08T11:04:51Z", "message": "KEYCLOAK-14846 rebase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MTE3MDYx", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-548117061", "createdAt": "2020-12-09T12:07:18Z", "commit": {"oid": "d7cc6fd72f4e32b675c4197d2006662a45413a3f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7cc6fd72f4e32b675c4197d2006662a45413a3f", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d7cc6fd72f4e32b675c4197d2006662a45413a3f", "committedDate": "2020-12-08T13:13:22Z", "message": "KEYCLOAK-14846 handle possible NPE in RoleByIdResource"}, "afterCommit": {"oid": "d7056927e2d5877bdf7826b6ee318b8328e571a7", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d7056927e2d5877bdf7826b6ee318b8328e571a7", "committedDate": "2020-12-10T18:20:30Z", "message": "KEYCLOAK-14846 rebase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTMxMTM0", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-549931134", "createdAt": "2020-12-11T09:27:15Z", "commit": {"oid": "d7056927e2d5877bdf7826b6ee318b8328e571a7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7056927e2d5877bdf7826b6ee318b8328e571a7", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d7056927e2d5877bdf7826b6ee318b8328e571a7", "committedDate": "2020-12-10T18:20:30Z", "message": "KEYCLOAK-14846 rebase"}, "afterCommit": {"oid": "1f4c838079a40c2317502ac479d604f5e4343251", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/1f4c838079a40c2317502ac479d604f5e4343251", "committedDate": "2020-12-10T22:47:01Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTA0ODYz", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-551104863", "createdAt": "2020-12-14T07:38:23Z", "commit": {"oid": "1f4c838079a40c2317502ac479d604f5e4343251"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNDMxNDgw", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-551431480", "createdAt": "2020-12-14T14:40:02Z", "commit": {"oid": "1f4c838079a40c2317502ac479d604f5e4343251"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjc3MzYy", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-552277362", "createdAt": "2020-12-15T09:52:02Z", "commit": {"oid": "1f4c838079a40c2317502ac479d604f5e4343251"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f4c838079a40c2317502ac479d604f5e4343251", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/1f4c838079a40c2317502ac479d604f5e4343251", "committedDate": "2020-12-10T22:47:01Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "05e8936d415f2727ee47c8ebe1a667b26fe9bcec", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/05e8936d415f2727ee47c8ebe1a667b26fe9bcec", "committedDate": "2020-12-16T22:53:32Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05e8936d415f2727ee47c8ebe1a667b26fe9bcec", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/05e8936d415f2727ee47c8ebe1a667b26fe9bcec", "committedDate": "2020-12-16T22:53:32Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "2d7bc6b059d1ff9537f488987ffe0e8f21bd3246", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/2d7bc6b059d1ff9537f488987ffe0e8f21bd3246", "committedDate": "2020-12-17T22:10:46Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d7bc6b059d1ff9537f488987ffe0e8f21bd3246", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/2d7bc6b059d1ff9537f488987ffe0e8f21bd3246", "committedDate": "2020-12-17T22:10:46Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "d51a2ee917395fabf9d575eb65e698058c067b96", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d51a2ee917395fabf9d575eb65e698058c067b96", "committedDate": "2020-12-18T00:18:53Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d51a2ee917395fabf9d575eb65e698058c067b96", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/d51a2ee917395fabf9d575eb65e698058c067b96", "committedDate": "2020-12-18T00:18:53Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "fb9950abab067dd52a9a99025dd3c0a34ccff567", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/fb9950abab067dd52a9a99025dd3c0a34ccff567", "committedDate": "2020-12-18T08:43:16Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb9950abab067dd52a9a99025dd3c0a34ccff567", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/fb9950abab067dd52a9a99025dd3c0a34ccff567", "committedDate": "2020-12-18T08:43:16Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "486478996664412dc2b6997bad7b27664be45db4", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/486478996664412dc2b6997bad7b27664be45db4", "committedDate": "2021-01-05T10:07:27Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "486478996664412dc2b6997bad7b27664be45db4", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/486478996664412dc2b6997bad7b27664be45db4", "committedDate": "2021-01-05T10:07:27Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "7905645920a337ad0e57ff752b469d8d86b285e5", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/7905645920a337ad0e57ff752b469d8d86b285e5", "committedDate": "2021-01-05T19:06:56Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7905645920a337ad0e57ff752b469d8d86b285e5", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/7905645920a337ad0e57ff752b469d8d86b285e5", "committedDate": "2021-01-05T19:06:56Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "79874296348dc3e1c9f56052b9513c215a4698c0", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/79874296348dc3e1c9f56052b9513c215a4698c0", "committedDate": "2021-01-06T00:02:25Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43f58a354fd61e04241b87ce95eac3805b981dde", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/43f58a354fd61e04241b87ce95eac3805b981dde", "committedDate": "2021-01-06T10:53:12Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79874296348dc3e1c9f56052b9513c215a4698c0", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/79874296348dc3e1c9f56052b9513c215a4698c0", "committedDate": "2021-01-06T00:02:25Z", "message": "KEYCLOAK-14846 Default roles processing"}, "afterCommit": {"oid": "43f58a354fd61e04241b87ce95eac3805b981dde", "author": {"user": {"login": "vramik", "name": "Vlasta Ramik"}}, "url": "https://github.com/keycloak/keycloak/commit/43f58a354fd61e04241b87ce95eac3805b981dde", "committedDate": "2021-01-06T10:53:12Z", "message": "KEYCLOAK-14846 Default roles processing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0MjM4MDgw", "url": "https://github.com/keycloak/keycloak/pull/7636#pullrequestreview-564238080", "createdAt": "2021-01-08T12:55:20Z", "commit": {"oid": "43f58a354fd61e04241b87ce95eac3805b981dde"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3265, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}