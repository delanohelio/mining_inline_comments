{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NDE0NDQ5", "number": 6937, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjoyNzozMlrODr22cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjoyNzozMlrODr22cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzE0MDM0OnYy", "diffSide": "RIGHT", "path": "services/src/main/java/org/keycloak/services/resources/admin/UsersResource.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjoyNzozMlrOF8cwdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwOTowMjoxMlrOF8oV-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkzMDAzNg==", "bodyText": "Instead of all these changes to UsersResource isn't better to just change org.keycloak.storage.UserStorageManager#searchForUser and call the expected method depending on the SEARCH filter? Something like this:\nif (attributes.containsKey(UserModel.SEARCH)) {\n                    return ((UserQueryProvider)provider).searchForUser(attributes.get(UserModel.SEARCH), realm, first, max);\n                } else {\n                    return ((UserQueryProvider)provider).searchForUser(attributes, realm, first, max);                    \n                }", "url": "https://github.com/keycloak/keycloak/pull/6937#discussion_r398930036", "createdAt": "2020-03-26T22:27:32Z", "author": {"login": "pedroigor"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/UsersResource.java", "diffHunk": "@@ -325,7 +338,7 @@ public Integer getUsersCount(@QueryParam(\"search\") String search,\n             }\n         }\n \n-        List<UserModel> userModels = session.users().searchForUser(attributes, realm, firstResult, maxResults);\n+        List<UserModel> userModels = searchImpl.get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b968d092a96cbd377c662dc041840b3b69a5896f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExOTg2NQ==", "bodyText": "@pedroigor +1, Updated PR per your suggestion.", "url": "https://github.com/keycloak/keycloak/pull/6937#discussion_r399119865", "createdAt": "2020-03-27T09:02:12Z", "author": {"login": "mposolda"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/UsersResource.java", "diffHunk": "@@ -325,7 +338,7 @@ public Integer getUsersCount(@QueryParam(\"search\") String search,\n             }\n         }\n \n-        List<UserModel> userModels = session.users().searchForUser(attributes, realm, firstResult, maxResults);\n+        List<UserModel> userModels = searchImpl.get();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkzMDAzNg=="}, "originalCommit": {"oid": "b968d092a96cbd377c662dc041840b3b69a5896f"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3690, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}