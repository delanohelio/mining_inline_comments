{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Njc3ODI1", "number": 7007, "title": "KEYCLOAK-13962  SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url", "bodyText": "Problem\nDuring a SAML login, the destinationUrl used to post the SAML request is not affected by the org.keycloak.protocol.saml.preprocessor.SamlAuthenticationPreprocessor.\nIf a SAML preprocessor modifies a destination url, the request should be posted accordingly.\nSolution\nWhen posting the SAML request, use the destination url available on the request itself and not a variable defined earlier.\nSteps to reproduce\n\nDefine a SamlAuthenticationPreprocessor that modifies the request's destinationUrl (for instance, by adding a query parameter to the url.\nWhen the request is posted, this new url will not be used", "createdAt": "2020-04-24T17:33:40Z", "url": "https://github.com/keycloak/keycloak/pull/7007", "merged": true, "mergeCommit": {"oid": "0d5b5abb4ddd86da146a964e9b0bd0cab705beed"}, "closed": true, "closedAt": "2020-07-24T22:10:44Z", "author": {"login": "looorent"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxUzENgH2gAyNDA4Njc3ODI1OjhmYTYxNDEzYjU0YmZmMDFmZTQ1M2M2N2NlYTVkNjVjZTZjOWEyYjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4LgjMgFqTQ1NTIxMDg4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8fa61413b54bff01fe453c67cea5d65ce6c9a2b3", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/8fa61413b54bff01fe453c67cea5d65ce6c9a2b3", "committedDate": "2020-07-03T15:02:15Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3be1b7a7981344c22461323cc753eca87bfd2123", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/3be1b7a7981344c22461323cc753eca87bfd2123", "committedDate": "2020-07-03T10:20:35Z", "message": "KEYCLOAK-13962 Take SamlAuthenticationPreprocessor into account to create an appropriate destination url"}, "afterCommit": {"oid": "8fa61413b54bff01fe453c67cea5d65ce6c9a2b3", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/8fa61413b54bff01fe453c67cea5d65ce6c9a2b3", "committedDate": "2020-07-03T15:02:15Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/6664c6b7fe16af9ac4be569c00bbb5e8267638bc", "committedDate": "2020-07-03T17:05:03Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1Mzc4ODQz", "url": "https://github.com/keycloak/keycloak/pull/7007#pullrequestreview-445378843", "createdAt": "2020-07-09T08:02:09Z", "commit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwODowMjowOVrOGvGGTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwODowNDo0N1rOGvGLow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNjE3Mg==", "bodyText": "There should be no exception thrown. The destination is attribute only mandatory in certain cases, see the SAML spec above.\nThe code should be similar to:\nif (authnRequest.getDestination() != null) {\n    destinationUrl = authnRequest.getDestination().toString();\n}\nSimilar code needs to be in keycloakInitiatedBrowserLogout and backchannelLogout methods.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452036172", "createdAt": "2020-07-09T08:02:09Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -121,6 +125,10 @@ public Response performLogin(AuthenticationRequest request) {\n                 authnRequest = it.next().beforeSendingLoginRequest(authnRequest, request.getAuthenticationSession());\n             }\n \n+            destinationUrl = ofNullable(authnRequest.getDestination())\n+                    .map(URI::toString)\n+                    .orElseThrow(() -> new IdentityBrokerException(\"No destination in login request\"));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNzEyNg==", "bodyText": "Remove, destination is optional per spec.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452037126", "createdAt": "2020-07-09T08:04:03Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -212,6 +220,9 @@ protected LogoutRequestType buildLogoutRequest(UserSessionModel userSession, Uri\n         for (Iterator<SamlAuthenticationPreprocessor> it = SamlSessionUtils.getSamlAuthenticationPreprocessorIterator(session); it.hasNext();) {\n             logoutRequest = it.next().beforeSendingLogoutRequest(logoutRequest, userSession, null);\n         }\n+        if (logoutRequest.getDestination() == null) {\n+            throw new IdentityBrokerException(\"No destination in logout request\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNzIzNg==", "bodyText": "Remove, destination is optional per spec.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452037236", "createdAt": "2020-07-09T08:04:13Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlProtocol.java", "diffHunk": "@@ -538,6 +538,10 @@ public ResponseType transformLoginResponse(List<ProtocolMapperProcessor<SAMLLogi\n             response = (ResponseType) it.next().beforeSendingResponse(response, clientSessionCtx.getClientSession());\n         }\n \n+        if (response.getDestination() == null) {\n+            throw new RuntimeException(\"No destination in login response\");\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNzI2Ng==", "bodyText": "Remove, destination is optional per spec.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452037266", "createdAt": "2020-07-09T08:04:18Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlProtocol.java", "diffHunk": "@@ -745,6 +749,9 @@ protected LogoutRequestType createLogoutRequest(String logoutUrl, AuthenticatedC\n         for (Iterator<SamlAuthenticationPreprocessor> it = SamlSessionUtils.getSamlAuthenticationPreprocessorIterator(session); it.hasNext();) {\n             logoutRequest = it.next().beforeSendingLogoutRequest(logoutRequest, clientSession.getUserSession(), clientSession);\n         }\n+        if (logoutRequest.getDestination() == null) {\n+            throw new RuntimeException(\"No destination in logout request\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNzI5OQ==", "bodyText": "Remove, destination is optional per spec.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452037299", "createdAt": "2020-07-09T08:04:23Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/services/resources/IdentityBrokerService.java", "diffHunk": "@@ -523,6 +523,9 @@ public Response authenticated(BrokeredIdentityContext context) {\n             for(Iterator<SamlAuthenticationPreprocessor> it = SamlSessionUtils.getSamlAuthenticationPreprocessorIterator(session); it.hasNext();) {\n                 loginResponse = it.next().beforeProcessingLoginResponse(loginResponse, authenticationSession);\n             }\n+            if (loginResponse.getDestination() == null) {\n+                throw new RuntimeException(\"No destination in login response\");\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzNzUzOQ==", "bodyText": "Remove, destination is optional per spec.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r452037539", "createdAt": "2020-07-09T08:04:47Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLEndpoint.java", "diffHunk": "@@ -334,6 +334,12 @@ protected Response logoutRequest(LogoutRequestType request, String relayState) {\n                 }\n             }\n \n+            if (request.getDestination() == null) {\n+                event.detail(Details.REASON, \"no_destination_in_logout_request\");\n+                event.error(Errors.INVALID_SAML_AUTHN_REQUEST);\n+                return ErrorPage.error(session, null, Response.Status.BAD_REQUEST, Messages.INVALID_REQUEST);\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6664c6b7fe16af9ac4be569c00bbb5e8267638bc"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d356aed27d48872c30e6581f093a792db5392c50", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/d356aed27d48872c30e6581f093a792db5392c50", "committedDate": "2020-07-09T09:43:06Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/9090ac225f38ae79df5c8f70cfc2acd22740280b", "committedDate": "2020-07-09T09:44:40Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODE0MTk5", "url": "https://github.com/keycloak/keycloak/pull/7007#pullrequestreview-446814199", "createdAt": "2020-07-11T16:41:01Z", "commit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxNjo0MTowMVrOGwN3uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxNjo0MToyNlrOGwN34g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxMjA4OA==", "bodyText": "Please do remove the else part. In case destination is not set, the original value of singleLogoutServiceUrl should be used for submission.", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r453212088", "createdAt": "2020-07-11T16:41:01Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -162,6 +167,12 @@ public void backchannelLogout(KeycloakSession session, UserSessionModel userSess\n         JaxrsSAML2BindingBuilder binding = buildLogoutBinding(session, userSession, realm);\n         try {\n             LogoutRequestType logoutRequest = buildLogoutRequest(userSession, uriInfo, realm, singleLogoutServiceUrl);\n+            if (logoutRequest.getDestination() != null) {\n+                singleLogoutServiceUrl = logoutRequest.getDestination().toString();\n+            } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxMjA5NQ==", "bodyText": "Same as above", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r453212095", "createdAt": "2020-07-11T16:41:12Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -186,6 +197,11 @@ public Response keycloakInitiatedBrowserLogout(KeycloakSession session, UserSess\n        } else {\n             try {\n                 LogoutRequestType logoutRequest = buildLogoutRequest(userSession, uriInfo, realm, singleLogoutServiceUrl);\n+                if (logoutRequest.getDestination() != null) {\n+                    singleLogoutServiceUrl = logoutRequest.getDestination().toString();\n+                } else {\n+                    return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxMjEzMA==", "bodyText": "Remove unrelated change", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r453212130", "createdAt": "2020-07-11T16:41:26Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -54,6 +54,7 @@\n import java.util.Set;\n import java.util.TreeSet;\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MDc2NTI3", "url": "https://github.com/keycloak/keycloak/pull/7007#pullrequestreview-447076527", "createdAt": "2020-07-13T09:19:47Z", "commit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwOToxOTo0OFrOGwgLyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwOToyMTozNlrOGwgQWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMjEzNw==", "bodyText": "I managed this case exactly as it is done a few lines above. This method does not support blank values for singleLogoutServiceUrl, should we allow blank values after building the logout request anyway?\n\n  \n    \n      keycloak/services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java\n    \n    \n         Line 163\n      in\n      f8a4f66\n    \n    \n    \n    \n\n        \n          \n           if (singleLogoutServiceUrl == null || singleLogoutServiceUrl.trim().equals(\"\") || !getConfig().isBackchannelSupported()) return;", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r453512137", "createdAt": "2020-07-13T09:19:48Z", "author": {"login": "looorent"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -162,6 +167,12 @@ public void backchannelLogout(KeycloakSession session, UserSessionModel userSess\n         JaxrsSAML2BindingBuilder binding = buildLogoutBinding(session, userSession, realm);\n         try {\n             LogoutRequestType logoutRequest = buildLogoutRequest(userSession, uriInfo, realm, singleLogoutServiceUrl);\n+            if (logoutRequest.getDestination() != null) {\n+                singleLogoutServiceUrl = logoutRequest.getDestination().toString();\n+            } else {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxMjA4OA=="}, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMzMwNQ==", "bodyText": "Same answer as above. This is inspired from this existing line:\n\n  \n    \n      keycloak/services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java\n    \n    \n         Line 183\n      in\n      f8a4f66\n    \n    \n    \n    \n\n        \n          \n           if (singleLogoutServiceUrl == null || singleLogoutServiceUrl.trim().equals(\"\")) return null;", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r453513305", "createdAt": "2020-07-13T09:21:36Z", "author": {"login": "looorent"}, "path": "services/src/main/java/org/keycloak/broker/saml/SAMLIdentityProvider.java", "diffHunk": "@@ -186,6 +197,11 @@ public Response keycloakInitiatedBrowserLogout(KeycloakSession session, UserSess\n        } else {\n             try {\n                 LogoutRequestType logoutRequest = buildLogoutRequest(userSession, uriInfo, realm, singleLogoutServiceUrl);\n+                if (logoutRequest.getDestination() != null) {\n+                    singleLogoutServiceUrl = logoutRequest.getDestination().toString();\n+                } else {\n+                    return null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxMjA5NQ=="}, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDAxMjIw", "url": "https://github.com/keycloak/keycloak/pull/7007#pullrequestreview-448401220", "createdAt": "2020-07-14T19:28:44Z", "commit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOToyODo0NVrOGxiIIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOToyODo0NVrOGxiIIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU5MjU0NQ==", "bodyText": "Remove unrelated change", "url": "https://github.com/keycloak/keycloak/pull/7007#discussion_r454592545", "createdAt": "2020-07-14T19:28:45Z", "author": {"login": "hmlnarik"}, "path": "services/src/main/java/org/keycloak/protocol/saml/SamlProtocol.java", "diffHunk": "@@ -745,7 +745,7 @@ protected LogoutRequestType createLogoutRequest(String logoutUrl, AuthenticatedC\n         for (Iterator<SamlAuthenticationPreprocessor> it = SamlSessionUtils.getSamlAuthenticationPreprocessorIterator(session); it.hasNext();) {\n             logoutRequest = it.next().beforeSendingLogoutRequest(logoutRequest, clientSession.getUserSession(), clientSession);\n         }\n-        \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9090ac225f38ae79df5c8f70cfc2acd22740280b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91eabbb9a0019f28f10f18b3255ba9e3d618e443", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/91eabbb9a0019f28f10f18b3255ba9e3d618e443", "committedDate": "2020-07-15T09:48:45Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22f6d5d75e982c9a00ee0b0b6586b67ee117eecf", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/22f6d5d75e982c9a00ee0b0b6586b67ee117eecf", "committedDate": "2020-07-15T09:51:02Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53d1bb8861dd3c80ee395e4430c1bc47f4ee5dd5", "author": {"user": {"login": "looorent", "name": "Lorent Lempereur"}}, "url": "https://github.com/keycloak/keycloak/commit/53d1bb8861dd3c80ee395e4430c1bc47f4ee5dd5", "committedDate": "2020-07-15T15:06:00Z", "message": "KEYCLOAK-13962 SAML2 Identity Provider - During login phase, SamlAuthenticationPreprocessors are not taken into account to produce an appropriate destination url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjEwODg1", "url": "https://github.com/keycloak/keycloak/pull/7007#pullrequestreview-455210885", "createdAt": "2020-07-24T22:10:21Z", "commit": {"oid": "53d1bb8861dd3c80ee395e4430c1bc47f4ee5dd5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3179, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}