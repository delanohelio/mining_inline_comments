{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwODkzOTkw", "number": 7315, "title": "KEYCLOAK-14972 Add independent GroupProvider interface", "bodyText": "", "createdAt": "2020-08-01T08:03:12Z", "url": "https://github.com/keycloak/keycloak/pull/7315", "merged": true, "mergeCommit": {"oid": "ae39760a62285004900b1b595c6acaa3367935fe"}, "closed": true, "closedAt": "2020-08-13T19:13:13Z", "author": {"login": "mhajas"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7oF3AgFqTQ2MDkwODc4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-fuumgFqTQ2Njc0MjU4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTA4Nzg2", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-460908786", "createdAt": "2020-08-04T15:10:13Z", "commit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MDQ4MjUz", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-465048253", "createdAt": "2020-08-11T13:10:49Z", "commit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzoxMDo0OVrOG-3DXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzoxMzoyMlrOG-3Jaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2Njg3OA==", "bodyText": "Missing header", "url": "https://github.com/keycloak/keycloak/pull/7315#discussion_r468566878", "createdAt": "2020-08-11T13:10:49Z", "author": {"login": "sguilhen"}, "path": "server-spi-private/src/main/java/org/keycloak/models/GroupProviderFactory.java", "diffHunk": "@@ -0,0 +1,6 @@\n+package org.keycloak.models;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2NzU2Mw==", "bodyText": "Missing header", "url": "https://github.com/keycloak/keycloak/pull/7315#discussion_r468567563", "createdAt": "2020-08-11T13:11:55Z", "author": {"login": "sguilhen"}, "path": "server-spi/src/main/java/org/keycloak/models/GroupProvider.java", "diffHunk": "@@ -0,0 +1,181 @@\n+package org.keycloak.models;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2ODQyNw==", "bodyText": "Shouldn't we have Stream variants for these methods? - I'm assuming this will come in a separate PR as part of the streamification epic, so this looks ok for this PR.", "url": "https://github.com/keycloak/keycloak/pull/7315#discussion_r468568427", "createdAt": "2020-08-11T13:13:22Z", "author": {"login": "sguilhen"}, "path": "server-spi/src/main/java/org/keycloak/models/GroupProvider.java", "diffHunk": "@@ -0,0 +1,181 @@\n+package org.keycloak.models;\n+\n+import org.keycloak.provider.Provider;\n+\n+import java.util.List;\n+\n+/**\n+ *\n+ * Provider of group records\n+ * @author mhajas\n+ *\n+ */\n+public interface GroupProvider extends Provider {\n+\n+    /**\n+     * Returns a group from the given realm with the corresponding id\n+     * \n+     * @param id Id.\n+     * @param realm Realm.\n+     * @return GroupModel with the corresponding id.\n+     * @deprecated Use method {@code getGroupById(realm, id)}\n+     */\n+    default GroupModel getGroupById(String id, RealmModel realm) {\n+        return getGroupById(realm, id);\n+    }\n+\n+    /**\n+     * Returns a group from the given realm with the corresponding id\n+     *\n+     * @param realm Realm.\n+     * @param id Id.\n+     * @return GroupModel with the corresponding id.\n+     */\n+    GroupModel getGroupById(RealmModel realm, String id);\n+\n+    /**\n+     * Returns groups for the given realm.\n+     *\n+     * @param realm Realm.\n+     * @return List of groups in the Realm.\n+     */\n+    List<GroupModel> getGroups(RealmModel realm);\n+\n+    /**\n+     * Returns a number of groups/top level groups (i.e. groups without parent group) for the given realm.\n+     *\n+     * @param realm Realm.\n+     * @param onlyTopGroups When true the function returns a count of top level groups only.\n+     * @return Number of groups/top level groups.\n+     */\n+    Long getGroupsCount(RealmModel realm, Boolean onlyTopGroups);\n+\n+    /**\n+     * Returns number of groups with the given string in name for the given realm.\n+     *\n+     * @param realm Realm.\n+     * @param search Searched string.\n+     * @return Number of groups with the given string in its name.\n+     */\n+    Long getGroupsCountByNameContaining(RealmModel realm, String search);\n+\n+    /**\n+     * Returns groups with the given role in the given realm.\n+     *\n+     * @param realm Realm.\n+     * @param role Role.\n+     * @param firstResult First result to return. Ignored if negative.\n+     * @param maxResults Maximum number of results to return. Ignored if negative.\n+     * @return List of groups with the given role.\n+     */\n+    List<GroupModel> getGroupsByRole(RealmModel realm, RoleModel role, int firstResult, int maxResults);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c"}, "originalPosition": 71}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77a34aa3bfde1ecee84c09f20325e61bcc330e6c", "author": {"user": {"login": "mhajas", "name": "Michal Hajas"}}, "url": "https://github.com/keycloak/keycloak/commit/77a34aa3bfde1ecee84c09f20325e61bcc330e6c", "committedDate": "2020-08-01T08:00:19Z", "message": "KEYCLOAK-14972 Add independent GroupProvider interface"}, "afterCommit": {"oid": "dcef545fd273f8189ec33bb93b60ddf57a861f44", "author": {"user": {"login": "mhajas", "name": "Michal Hajas"}}, "url": "https://github.com/keycloak/keycloak/commit/dcef545fd273f8189ec33bb93b60ddf57a861f44", "committedDate": "2020-08-11T14:46:48Z", "message": "KEYCLOAK-14972 Add independent GroupProvider interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MTUzODAz", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-465153803", "createdAt": "2020-08-11T14:58:43Z", "commit": {"oid": "dcef545fd273f8189ec33bb93b60ddf57a861f44"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjczNzMx", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-465273731", "createdAt": "2020-08-11T17:20:45Z", "commit": {"oid": "dcef545fd273f8189ec33bb93b60ddf57a861f44"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MzI4NjU4", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-465328658", "createdAt": "2020-08-11T18:37:20Z", "commit": {"oid": "dcef545fd273f8189ec33bb93b60ddf57a861f44"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "750c68acce2644fd65b6c2f86e1afe6a2e6431dd", "author": {"user": {"login": "mhajas", "name": "Michal Hajas"}}, "url": "https://github.com/keycloak/keycloak/commit/750c68acce2644fd65b6c2f86e1afe6a2e6431dd", "committedDate": "2020-08-13T12:25:34Z", "message": "KEYCLOAK-14972 Add independent GroupProvider interface"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dcef545fd273f8189ec33bb93b60ddf57a861f44", "author": {"user": {"login": "mhajas", "name": "Michal Hajas"}}, "url": "https://github.com/keycloak/keycloak/commit/dcef545fd273f8189ec33bb93b60ddf57a861f44", "committedDate": "2020-08-11T14:46:48Z", "message": "KEYCLOAK-14972 Add independent GroupProvider interface"}, "afterCommit": {"oid": "750c68acce2644fd65b6c2f86e1afe6a2e6431dd", "author": {"user": {"login": "mhajas", "name": "Michal Hajas"}}, "url": "https://github.com/keycloak/keycloak/commit/750c68acce2644fd65b6c2f86e1afe6a2e6431dd", "committedDate": "2020-08-13T12:25:34Z", "message": "KEYCLOAK-14972 Add independent GroupProvider interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NzQyNTgw", "url": "https://github.com/keycloak/keycloak/pull/7315#pullrequestreview-466742580", "createdAt": "2020-08-13T13:07:29Z", "commit": {"oid": "750c68acce2644fd65b6c2f86e1afe6a2e6431dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2890, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}