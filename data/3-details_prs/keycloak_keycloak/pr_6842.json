{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwODYwNTk1", "number": 6842, "title": "KEYCLOAK-12768: Prevent reserved characters in URLs", "bodyText": "", "createdAt": "2020-02-27T13:47:38Z", "url": "https://github.com/keycloak/keycloak/pull/6842", "merged": true, "mergeCommit": {"oid": "fff8571cfd7127799443398a5c7059d6d1b4f48d"}, "closed": true, "closedAt": "2020-03-18T06:40:26Z", "author": {"login": "ssilvert"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMCGrugH2gAyMzgwODYwNTk1OmE4ZWQ3YjY1MWJhYjgzMmFiYzUzMjIyMDkxYTNkNDM2YThjZDYwMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOxfBJgFqTM3NjU5NjI1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013", "author": {"user": {"login": "ssilvert", "name": "Stan Silvert"}}, "url": "https://github.com/keycloak/keycloak/commit/a8ed7b651bab832abc53222091a3d436a8cd6013", "committedDate": "2020-03-09T18:20:17Z", "message": "KEYCLOAK-12768: Prevent reserved characters in URLs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "538c0816e8fa2268aeb181e55efe219e0bb349c7", "author": {"user": {"login": "ssilvert", "name": "Stan Silvert"}}, "url": "https://github.com/keycloak/keycloak/commit/538c0816e8fa2268aeb181e55efe219e0bb349c7", "committedDate": "2020-02-27T13:44:47Z", "message": "KEYCLOAK-12768: Prevent reserved characters in URLs"}, "afterCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013", "author": {"user": {"login": "ssilvert", "name": "Stan Silvert"}}, "url": "https://github.com/keycloak/keycloak/commit/a8ed7b651bab832abc53222091a3d436a8cd6013", "committedDate": "2020-03-09T18:20:17Z", "message": "KEYCLOAK-12768: Prevent reserved characters in URLs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxOTc5NDU1", "url": "https://github.com/keycloak/keycloak/pull/6842#pullrequestreview-371979455", "createdAt": "2020-03-10T14:03:16Z", "commit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzoxNlrOF0QK8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowMzo1NlrOF0QNQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTIxNw==", "bodyText": "I think node is the hostname of a node, so an IP address or domain, with/without ports. So this would probably break things as ':' is marked as a reserved character.\n@mposolda ??", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390335217", "createdAt": "2020-03-10T14:03:16Z", "author": {"login": "stianst"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/ClientResource.java", "diffHunk": "@@ -565,6 +566,9 @@ public void registerNode(Map<String, String> formParams) {\n         if (node == null) {\n             throw new BadRequestException(\"Node not found in params\");\n         }\n+        \n+        ReservedCharValidator.validate(node);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNTgxMA==", "bodyText": "Should this be data.get(\"alias\").toString()?", "url": "https://github.com/keycloak/keycloak/pull/6842#discussion_r390335810", "createdAt": "2020-03-10T14:03:56Z", "author": {"login": "stianst"}, "path": "services/src/main/java/org/keycloak/services/resources/admin/IdentityProvidersResource.java", "diffHunk": "@@ -134,6 +135,9 @@ public Response getIdentityProviders(@PathParam(\"provider_id\") String providerId\n         if (!(data.containsKey(\"providerId\") && data.containsKey(\"fromUrl\"))) {\n             throw new BadRequestException();\n         }\n+        \n+        ReservedCharValidator.validate((String)data.get(\"alias\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NTk2MjUy", "url": "https://github.com/keycloak/keycloak/pull/6842#pullrequestreview-376596252", "createdAt": "2020-03-18T06:40:15Z", "commit": {"oid": "a8ed7b651bab832abc53222091a3d436a8cd6013"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2551, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}