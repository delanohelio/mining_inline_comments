{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMzQxMTI5", "number": 7103, "title": "KEYCLOAK-12729 Add password policy not-email", "bodyText": "Added test cases and initial translations", "createdAt": "2020-05-23T23:44:06Z", "url": "https://github.com/keycloak/keycloak/pull/7103", "merged": true, "mergeCommit": {"oid": "df94cefbc1016e4d6d37c77e4b29cb49c0bdffb7"}, "closed": true, "closedAt": "2020-08-21T12:55:08Z", "author": {"login": "thomasdarimont"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsvjOnAFqTQzMzkyNTI1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBEWBZAFqTQ3MjQ2MzEzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTI1MjU5", "url": "https://github.com/keycloak/keycloak/pull/7103#pullrequestreview-433925259", "createdAt": "2020-06-19T09:19:02Z", "commit": {"oid": "43e98ebf09d96146111396f9693870e401b6b686"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwOToxOTowMlrOGmN-UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwOToxOTozMVrOGmN_Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjcyODAxNw==", "bodyText": "@thomasdarimont As you pointed, you are missing cleanup of those things after the test method.", "url": "https://github.com/keycloak/keycloak/pull/7103#discussion_r442728017", "createdAt": "2020-06-19T09:19:02Z", "author": {"login": "mposolda"}, "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/forms/RegisterTest.java", "diffHunk": "@@ -491,6 +491,28 @@ public void registerUserNotUsernamePasswordPolicy() {\n         assertEquals(\"Please specify username.\", registerPage.getError());\n     }\n \n+    // KEYCLOAK-12729\n+    @Test\n+    public void registerUserNotEmailPasswordPolicy() {\n+\n+        RealmRepresentation notEmailRealm = RealmBuilder.create().passwordPolicy(\"notEmail\").build();\n+        notEmailRealm.setRegistrationEmailAsUsername(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43e98ebf09d96146111396f9693870e401b6b686"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjcyODIyNg==", "bodyText": "I guess this probably worth cleanup as well.", "url": "https://github.com/keycloak/keycloak/pull/7103#discussion_r442728226", "createdAt": "2020-06-19T09:19:31Z", "author": {"login": "mposolda"}, "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/account/AccountFormServiceTest.java", "diffHunk": "@@ -412,6 +413,23 @@ public void changePasswordWithNotUsernamePolicy() {\n         events.expectAccount(EventType.UPDATE_PASSWORD).assertEvent();\n     }\n \n+    @Test\n+    public void changePasswordWithNotEmailPolicy() {\n+        setPasswordPolicy(\"notEmail(1)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43e98ebf09d96146111396f9693870e401b6b686"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e54d71632e9bf1b9d2bb822017cf72abce6a4cc", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/7e54d71632e9bf1b9d2bb822017cf72abce6a4cc", "committedDate": "2020-08-21T08:40:40Z", "message": "KEYCLOAK-12729 Add password policy not-email\n\nAdded test cases and initial translations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43e98ebf09d96146111396f9693870e401b6b686", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/43e98ebf09d96146111396f9693870e401b6b686", "committedDate": "2020-05-23T23:43:01Z", "message": "KEYCLOAK-12729 Add password policy not-email\n\nAdded test cases and initial translations"}, "afterCommit": {"oid": "90e0afcbb84c99dce0973fe32a31c3091717d105", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/90e0afcbb84c99dce0973fe32a31c3091717d105", "committedDate": "2020-08-21T09:16:28Z", "message": "KEYCLOAK-12729 Revise password policy not-email tests\n\n- Added missing cleanup to RegisterTest\n- Revised test-setup for AccountFormServiceTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bd379f3e3cf49ee9c6a7f48ee8ef57e5ec2f9cf", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/7bd379f3e3cf49ee9c6a7f48ee8ef57e5ec2f9cf", "committedDate": "2020-08-21T09:22:51Z", "message": "KEYCLOAK-12729 Revise password policy not-email tests\n\n- Added missing cleanup to RegisterTest\n- Revised test-setup for AccountFormServiceTest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90e0afcbb84c99dce0973fe32a31c3091717d105", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/90e0afcbb84c99dce0973fe32a31c3091717d105", "committedDate": "2020-08-21T09:16:28Z", "message": "KEYCLOAK-12729 Revise password policy not-email tests\n\n- Added missing cleanup to RegisterTest\n- Revised test-setup for AccountFormServiceTest"}, "afterCommit": {"oid": "7bd379f3e3cf49ee9c6a7f48ee8ef57e5ec2f9cf", "author": {"user": {"login": "thomasdarimont", "name": "Thomas Darimont"}}, "url": "https://github.com/keycloak/keycloak/commit/7bd379f3e3cf49ee9c6a7f48ee8ef57e5ec2f9cf", "committedDate": "2020-08-21T09:22:51Z", "message": "KEYCLOAK-12729 Revise password policy not-email tests\n\n- Added missing cleanup to RegisterTest\n- Revised test-setup for AccountFormServiceTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNDYzMTM3", "url": "https://github.com/keycloak/keycloak/pull/7103#pullrequestreview-472463137", "createdAt": "2020-08-21T12:54:50Z", "commit": {"oid": "7bd379f3e3cf49ee9c6a7f48ee8ef57e5ec2f9cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3083, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}