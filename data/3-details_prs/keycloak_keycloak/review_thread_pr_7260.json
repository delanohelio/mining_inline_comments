{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjQ5MTI4", "number": 7260, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxMDoyOVrOEOijSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoyMjo0M1rOEOivFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjgxNjA4OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/WelcomeScreen.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxMDoyOVrOGxvovA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNzoxNDo1NVrOGxxSUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxMzg4NA==", "bodyText": "Just out of curiosity, what's the reason to make changes on WelcomeScreen page object?", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454813884", "createdAt": "2020-07-15T06:10:29Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/WelcomeScreen.java", "diffHunk": "@@ -41,21 +41,21 @@\n     @FindBy(xpath = \"//*[@id='\" + ROOT_ELEMENT_ID + \"']//header\")\n     private WelcomeScreenHeader header;\n \n-    @FindBy(xpath = \"//*[@id='landing-personal-info']/a\")\n+    @FindBy(xpath = \"//a[@id='landing-personal-info']\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg0MDkxNA==", "bodyText": "I'm also fixing a test in this PR", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454840914", "createdAt": "2020-07-15T07:14:55Z", "author": {"login": "edewit"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/page/WelcomeScreen.java", "diffHunk": "@@ -41,21 +41,21 @@\n     @FindBy(xpath = \"//*[@id='\" + ROOT_ELEMENT_ID + \"']//header\")\n     private WelcomeScreenHeader header;\n \n-    @FindBy(xpath = \"//*[@id='landing-personal-info']/a\")\n+    @FindBy(xpath = \"//a[@id='landing-personal-info']\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxMzg4NA=="}, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjgxODk5OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxMTozOFrOGxvqcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxMTozOFrOGxvqcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxNDMyMQ==", "bodyText": "Please don't use star imports. It's somewhere specified in our code style but can't find it right now. Correct, @ssilvert?", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454814321", "createdAt": "2020-07-15T06:11:38Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "diffHunk": "@@ -46,12 +49,10 @@\n import static org.hamcrest.Matchers.hasProperty;\n import static org.hamcrest.Matchers.is;\n import static org.hamcrest.Matchers.not;\n-import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.assertThat;\n-import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjgzMjE1OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxNjozNVrOGxvx1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoxNjozNVrOGxvx1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxNjIxMw==", "bodyText": "This is not needed. We don't care about exact time of the session.", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454816213", "createdAt": "2020-07-15T06:16:35Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/DeviceActivityTest.java", "diffHunk": "@@ -229,6 +231,34 @@ public void timesTests() {\n         assertEquals(startedAt.plusSeconds(ssoLifespan), expiresAt);\n     }\n \n+    @Test\n+    public void timeLocaleTest() {\n+        String sessionId = createSession(Browsers.CHROME);\n+        testingClient.server().run(session -> {\n+            RealmModel realm = session.realms().getRealmByName(TEST);\n+            UserSessionModel userSession = session.sessions().getUserSession(realm, sessionId);\n+\n+            userSession.setLastSessionRefresh(Time.currentTime());\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjg0NjI4OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/InternationalizationTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoyMjo0M1rOGxv6Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjoyMjo0M1rOGxv6Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgxODM1OQ==", "bodyText": "Locale is not specified in the formatter. Is that intentional? I know it defaults to English in most cases but not sure what happens if someone runs the test on a machine with different locale.", "url": "https://github.com/keycloak/keycloak/pull/7260#discussion_r454818359", "createdAt": "2020-07-15T06:22:43Z", "author": {"login": "vmuzikar"}, "path": "testsuite/integration-arquillian/tests/other/base-ui/src/test/java/org/keycloak/testsuite/ui/account2/InternationalizationTest.java", "diffHunk": "@@ -93,6 +105,34 @@ public void userAttributeTest() {\n         assertCustomLocalePersonalInfo();\n     }\n \n+    @Test\n+    public void shouldDisplayTimeUsingSelectedLocale() {\n+        signingInPage.navigateTo();\n+        loginToAccount();\n+        SigningInPage.UserCredential passwordCred =\n+                passwordCredentialType.getUserCredential(testUserResource().credentials().get(0).getId());\n+\n+        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MMMM d, yyyy, h:mm a\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f5d359ff0af19ebc25f506f98184871acae5495"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3470, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}