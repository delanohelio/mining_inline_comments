{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NzIwNTgy", "number": 2127, "title": "Fix completion with allOf element", "bodyText": "Fixes #2126\n@ImMorpheus please check that this works for you. I have written a couple of test commands (below) which work, but want to make sure it works with you too.\n        Sponge.getCommandManager().register(this.pluginContainer, CommandSpec.builder()\n                .arguments(GenericArguments.allOf(GenericArguments.player(Text.of(\"player\"))))\n                .executor((src, args) -> {\n                    Collection<Player> playerCollection = args.getAll(\"player\");\n                    src.sendMessage(Text.of(\"Selected players: \", playerCollection\n                            .stream()\n                            .map(User::getName)\n                            .collect(Collectors.joining(\", \"))));\n                    return CommandResult.success();\n                })\n                .build(), \"allofplayers\");\n\n        final Collection<String> choices = ImmutableList.of(\"bacon\", \"eggs\", \"sausages\", \"beans\", \"spam\", \"sponge\");\n        Sponge.getCommandManager().register(this.pluginContainer, CommandSpec.builder()\n                .arguments(GenericArguments.allOf(GenericArguments.choices(\n                                    Text.of(\"choices\"),\n                                    () -> choices,\n                                    input -> {\n                                        if (choices.contains(input.toLowerCase())) {\n                                            return input;\n                                        }\n                                        return null;\n                                    }\n                                )))\n                .executor((src, args) -> {\n                    Collection<String> playerCollection = args.getAll(\"choices\");\n                    src.sendMessage(Text.of(\"Selected choices: \", String.join(\", \", playerCollection)));\n                    return CommandResult.success();\n                })\n                .build(), \"allofchoices\");", "createdAt": "2020-06-02T17:18:04Z", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2127", "merged": true, "mergeCommit": {"oid": "96bb9d1b806a4ac8758d53f2784f4acf5fe66218"}, "closed": true, "closedAt": "2020-06-02T17:42:12Z", "author": {"login": "dualspiral"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnYeQhAFqTQyMjkwODU5NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnYgJnABqjMzOTg3NzQzNDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyOTA4NTk0", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2127#pullrequestreview-422908594", "createdAt": "2020-06-02T17:39:13Z", "commit": {"oid": "7bff6de3b48913bad7f6eaf9f86cbf7793805409"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzozOToyMFrOGd8qAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzozOToyMFrOGd8qAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA1NTY4MQ==", "bodyText": "is be the last\ntypo ?", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2127#discussion_r434055681", "createdAt": "2020-06-02T17:39:20Z", "author": {"login": "ImMorpheus"}, "path": "src/main/java/org/spongepowered/api/command/args/CommandArgs.java", "diffHunk": "@@ -65,6 +65,22 @@ public boolean hasNext() {\n         return this.index + 1 < this.args.size();\n     }\n \n+    /**\n+     * Returns true if:\n+     *\n+     * <ul>\n+     *     <li>The next element returned by {@link #next()} is be the last</li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bff6de3b48913bad7f6eaf9f86cbf7793805409"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "committedDate": "2020-06-02T17:41:49Z", "message": "Fix completion with allOf element\n\nFixes #2126"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7bff6de3b48913bad7f6eaf9f86cbf7793805409", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/7bff6de3b48913bad7f6eaf9f86cbf7793805409", "committedDate": "2020-06-02T17:10:14Z", "message": "Fix completion with allOf element\n\nFixes #2126"}, "afterCommit": {"oid": "96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "committedDate": "2020-06-02T17:41:49Z", "message": "Fix completion with allOf element\n\nFixes #2126"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 742, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}