{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NjI4NTMz", "number": 2244, "title": "Genericize Palettes", "bodyText": "SpongeAPI | SpongeCommon\nPalettes and their evolution\nMostly as a request for WorldEdits' better handling, we seek to improve palettes to be more generic outside the purview of being indexing on CatalogTypes alone. As Minecraft evolves, the handling of what a BlockState is allowed to contain increasingly becomes more and more data driven. As such, we need to less focus on a ResourceKey based object and more of a \"here's a palette of object definitions that are defined by the Palette's PaletteType.\nPaletteType and the encoder/decoder\nPreviously, we made Palette intrinsically serializable by building it up based on an index of ints to either BlockState or some other CatalogType. Now, we need to be able to serialize these Palettes  based on a predefinition from their PaletteType that already defines the type of object the Palette will support. As such, the String encoder/decoder will be maintained at the PaletteType level, and less so on the Palette itself.", "createdAt": "2020-10-05T06:46:18Z", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2244", "merged": true, "mergeCommit": {"oid": "c55fcbba6a7821469816e5980920179952455413"}, "closed": true, "closedAt": "2020-11-13T08:24:44Z", "author": {"login": "gabizou"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPl7O0gFqTUwMjE5OTQ4NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcCWbEgBqjM5OTIyMzE4MDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMTk5NDg0", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2244#pullrequestreview-502199484", "createdAt": "2020-10-05T15:57:16Z", "commit": {"oid": "50ea6c02ac093d0cd3c3200d1b1c2547175054d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNTo1NzoxNlrOHcjkbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNTo1NzoxNlrOHcjkbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcwNDk0MA==", "bodyText": "Just call it stream", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2244#discussion_r499704940", "createdAt": "2020-10-05T15:57:16Z", "author": {"login": "Zidane"}, "path": "src/main/java/org/spongepowered/api/world/schematic/Palette.java", "diffHunk": "@@ -72,30 +73,52 @@\n      */\n     Optional<Integer> get(T type);\n \n-    /**\n-     * Gets the identifier for the given {@code type T} from the mapping. If the\n-     * {@code type T} is not yet registered in the mapping then it is registered and\n-     * given the next available identifier.\n-     *\n-     * @param type The type\n-     * @return The identifier\n-     */\n-    int getOrAssign(T type);\n-\n-    /**\n-     * Removes the given {@code type T} from the mapping.\n-     *\n-     * <p>Note that if this palette is considered a global palette, removal is not supported.</p>\n-     *\n-     * @param type The type to remove\n-     * @return If the type existed in the mapping\n-     */\n-    boolean remove(T type);\n \n     /**\n      * Gets all {@code type T}s contained in this palette.\n      *\n      * @return All contained types\n      */\n-    Collection<T> getEntries();\n+    Stream<T> getEntries();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50ea6c02ac093d0cd3c3200d1b1c2547175054d3"}, "originalPosition": 47}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50ea6c02ac093d0cd3c3200d1b1c2547175054d3", "author": {"user": {"login": "gabizou", "name": "Gabriel Harris-Rouquette"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/50ea6c02ac093d0cd3c3200d1b1c2547175054d3", "committedDate": "2020-10-05T06:38:03Z", "message": "Introduce more generic Palettes\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>"}, "afterCommit": {"oid": "6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "author": {"user": {"login": "gabizou", "name": "Gabriel Harris-Rouquette"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "committedDate": "2020-11-13T07:36:55Z", "message": "Modify Palette to return OptionalInts\n\nPreviously, we used Optional<Integer> because of\na use of representing the value being not belonging\nof a registry or something thereof, instead, it's\nbetter to return the actual OptionalInt that will\nremain unboxed as a value.\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c55fcbba6a7821469816e5980920179952455413", "author": {"user": {"login": "gabizou", "name": "Gabriel Harris-Rouquette"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/c55fcbba6a7821469816e5980920179952455413", "committedDate": "2020-11-13T07:41:41Z", "message": "Introduce more generic Palettes\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "author": {"user": {"login": "gabizou", "name": "Gabriel Harris-Rouquette"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/6cbbe34ccfae6a9baf436b93c28572a1ae9e84a8", "committedDate": "2020-11-13T07:36:55Z", "message": "Modify Palette to return OptionalInts\n\nPreviously, we used Optional<Integer> because of\na use of representing the value being not belonging\nof a registry or something thereof, instead, it's\nbetter to return the actual OptionalInt that will\nremain unboxed as a value.\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>"}, "afterCommit": {"oid": "c55fcbba6a7821469816e5980920179952455413", "author": {"user": {"login": "gabizou", "name": "Gabriel Harris-Rouquette"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/c55fcbba6a7821469816e5980920179952455413", "committedDate": "2020-11-13T07:41:41Z", "message": "Introduce more generic Palettes\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 700, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}