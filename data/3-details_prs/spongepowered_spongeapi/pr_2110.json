{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTYyNjQ1", "number": 2110, "title": "Add new functions to replace stopFilter and skipFilter", "bodyText": "These functions have been deprecated and replaced with whilst and select, along with clearer javadocs.\n* Fix bug where a BlockRay containing a ContinueAfterFilter will give a different result upon ray reset.\n@Zidane - I did see your comments, but I mostly used Github for the diff! This is a better thing to review.\nNote that selectWhen is what you suggested completeWhen should be. In my first iteration, I got the function of skipFilter wrong... - selectWhen is meant to indicate there can be multiple selections, they just have a BlockRay#next() call between them.", "createdAt": "2020-04-15T20:04:48Z", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2110", "merged": true, "mergeCommit": {"oid": "bd284c2285db20792bddc554615b9fefcf0e8986"}, "closed": true, "closedAt": "2020-06-09T16:14:55Z", "author": {"login": "dualspiral"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcms4IKAFqTQyMTUwMTg1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmtkziAFqTQyMTUwNTY4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTAxODU4", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2110#pullrequestreview-421501858", "createdAt": "2020-05-31T14:52:12Z", "commit": {"oid": "be2a675d15f2bc442e1e5224c54c5d768a62370b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNDo1MjoxMlrOGc5deA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNDo1MjoxMlrOGc5deA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1NDc0NA==", "bodyText": "Move lastHit.getExtent().getBlockType(lastHit.getBlockX(), lastHit.getBlockY(), lastHit.getBlockZ()) outside the loop", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2110#discussion_r432954744", "createdAt": "2020-05-31T14:52:12Z", "author": {"login": "ImMorpheus"}, "path": "src/main/java/org/spongepowered/api/util/blockray/BlockRay.java", "diffHunk": "@@ -790,8 +927,32 @@ public Vector3d position() {\n     }\n \n     /**\n-     * Extends a filter by a number of blocks, regardless of what the extended\n-     * filter does.\n+     * A filter that will return {@code true} when the {@link BlockRayHit}\n+     * represents <strong>any</strong> of the supplied {@link BlockType}s.\n+     *\n+     * @param types The type of block to allow\n+     * @param <E> The extent to be applied in\n+     * @return The filter instance\n+     */\n+    public static <E extends Extent> Predicate<BlockRayHit<E>> blockTypeFilter(final BlockType... types) {\n+        return lastHit -> {\n+            for (BlockType type : types) {\n+                if (lastHit.getExtent().getBlockType(lastHit.getBlockX(), lastHit.getBlockY(), lastHit.getBlockZ()).equals(type)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be2a675d15f2bc442e1e5224c54c5d768a62370b"}, "originalPosition": 418}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d443802d91e00651b6219e8e9410cbd68cb927f", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/2d443802d91e00651b6219e8e9410cbd68cb927f", "committedDate": "2020-05-31T15:36:39Z", "message": "Add new functions to replace stopFilter and skipFilter\n\nThese functions have been deprecated and replaced with continueWhen and selectWhen, along with clearer javadocs.\n\n* Fix bug where a BlockRay containing a ContinueAfterFilter will give a different result upon ray reset."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1be9b3e4a88dc772ba059d55ff3be329ec1de360", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/1be9b3e4a88dc772ba059d55ff3be329ec1de360", "committedDate": "2020-05-31T15:36:39Z", "message": "Remove effectively duplicated JDs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d97f037e38d2a97c355b4c640537c26a0093fb53", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/d97f037e38d2a97c355b4c640537c26a0093fb53", "committedDate": "2020-05-31T15:36:39Z", "message": "Let's word this better too..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73532da4d77e8367b6a7c0a55fe4e4b93231b7b9", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/73532da4d77e8367b6a7c0a55fe4e4b93231b7b9", "committedDate": "2020-05-31T15:36:39Z", "message": "Update the class JD with the new methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cffa6966a52d06279de6327fede24dedb843a780", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/cffa6966a52d06279de6327fede24dedb843a780", "committedDate": "2020-05-31T15:36:39Z", "message": "More clarifications..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c89c2b7a46236e24dd484ebe2490e96bf1b0eb", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/e1c89c2b7a46236e24dd484ebe2490e96bf1b0eb", "committedDate": "2020-05-31T15:36:39Z", "message": "select and whilst (name pending)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1ac513cdd9ca8a801be06804424755d2abac664", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/e1ac513cdd9ca8a801be06804424755d2abac664", "committedDate": "2020-05-31T15:38:02Z", "message": "Don't unnecessarily calculate the target block type in blockTypeFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be2a675d15f2bc442e1e5224c54c5d768a62370b", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/be2a675d15f2bc442e1e5224c54c5d768a62370b", "committedDate": "2020-04-15T21:33:44Z", "message": "select and whilst (name pending)"}, "afterCommit": {"oid": "e1ac513cdd9ca8a801be06804424755d2abac664", "author": {"user": {"login": "dualspiral", "name": "Daniel Naylor"}}, "url": "https://github.com/SpongePowered/SpongeAPI/commit/e1ac513cdd9ca8a801be06804424755d2abac664", "committedDate": "2020-05-31T15:38:02Z", "message": "Don't unnecessarily calculate the target block type in blockTypeFilter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTA1Njg1", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2110#pullrequestreview-421505685", "createdAt": "2020-05-31T15:41:08Z", "commit": {"oid": "e1ac513cdd9ca8a801be06804424755d2abac664"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 728, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}