{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNjgwMjAw", "number": 5634, "title": "Fix #5635: unauthorized ajax request redirect", "bodyText": "", "createdAt": "2020-03-03T00:22:58Z", "url": "https://github.com/primefaces/primefaces/pull/5634", "merged": true, "mergeCommit": {"oid": "820ae4a17ec35ea8d3be4cd45469608a77624f8d"}, "closed": true, "closedAt": "2020-03-05T14:43:52Z", "author": {"login": "mP1"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKBGpAgFqTM2NzkyMTAzMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKJj0wABqjMwOTQwNDMxMzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3OTIxMDMx", "url": "https://github.com/primefaces/primefaces/pull/5634#pullrequestreview-367921031", "createdAt": "2020-03-03T12:02:25Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMjowMjoyNlrOFxDDmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMjowMjoyNlrOFxDDmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk3NDYxNg==", "bodyText": "What if location is NULL?  Shouldn't it then just call cfg.onerror.call if no location URL is found?", "url": "https://github.com/primefaces/primefaces/pull/5634#discussion_r386974616", "createdAt": "2020-03-03T12:02:26Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/core/core.ajax.js", "diffHunk": "@@ -538,6 +538,12 @@ if (!PrimeFaces.ajax) {\n \n                 var jqXhr = $.ajax(xhrOptions)\n                     .fail(function(xhr, status, errorThrown) {\n+                        if (xhr.status == 401) {\n+                            var location = xhr.getResponseHeader(\"Location\");\n+                            PrimeFaces.debug('Unauthorized status received. Redirecting to ' + location);\n+                            window.location = location;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77883e995fe8ef1a4dbd9f94af27677089b9a722", "author": {"user": {"login": "mP1", "name": "Miroslav Pokorny"}}, "url": "https://github.com/primefaces/primefaces/commit/77883e995fe8ef1a4dbd9f94af27677089b9a722", "committedDate": "2020-03-03T21:53:20Z", "message": "unauthorized ajax request redirect"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "77883e995fe8ef1a4dbd9f94af27677089b9a722", "author": {"user": {"login": "mP1", "name": "Miroslav Pokorny"}}, "url": "https://github.com/primefaces/primefaces/commit/77883e995fe8ef1a4dbd9f94af27677089b9a722", "committedDate": "2020-03-03T21:53:20Z", "message": "unauthorized ajax request redirect"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2899, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}