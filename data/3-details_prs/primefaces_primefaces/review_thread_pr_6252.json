{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODA0MTg3", "number": 6252, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToyNTo1N1rOEch-fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxMToxMDo0NFrOEdK_Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzUyMjUyOnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToyNTo1N1rOHHHrCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMDo0MjozMFrOHHqeMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIyNzc4NA==", "bodyText": "Not sure why you moved this out of the init method?  Usually initialization of values like this is done in the init method.", "url": "https://github.com/primefaces/primefaces/pull/6252#discussion_r477227784", "createdAt": "2020-08-26T11:25:57Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "diffHunk": "@@ -54,6 +75,14 @@ PrimeFaces.widget.MenuButton = PrimeFaces.widget.BaseWidget.extend({\n      * @private\n      */\n     bindEvents: function() {\n+        this.menuId = this.jqId + '_menu';\n+        this.button = this.jq.children('button');\n+        this.menu = this.jq.children('.ui-menu');\n+        this.menuitems = this.jq.find('.ui-menuitem');\n+        this.cfg.disabled = this.button.is(':disabled');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20ecf547c76f719d93106d43cb691bf19ed89c27"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzc5NzkzOQ==", "bodyText": "If initialization is in init method, bindEvents called from TieredMenu#init before initialization and raised script error\ncaused by undefined reference.\nBut I found another solution. I'll fix this.\nI'm sorry for my lack of experience with JavaScript.", "url": "https://github.com/primefaces/primefaces/pull/6252#discussion_r477797939", "createdAt": "2020-08-27T00:42:30Z", "author": {"login": "maruTA-bis5"}, "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "diffHunk": "@@ -54,6 +75,14 @@ PrimeFaces.widget.MenuButton = PrimeFaces.widget.BaseWidget.extend({\n      * @private\n      */\n     bindEvents: function() {\n+        this.menuId = this.jqId + '_menu';\n+        this.button = this.jq.children('button');\n+        this.menu = this.jq.children('.ui-menu');\n+        this.menuitems = this.jq.find('.ui-menuitem');\n+        this.cfg.disabled = this.button.is(':disabled');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIyNzc4NA=="}, "originalCommit": {"oid": "20ecf547c76f719d93106d43cb691bf19ed89c27"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MDI0MjI3OnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxMToxMDo0NFrOHILZ2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxMzo0ODoxNlrOHIRNbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMzNzQ5Nw==", "bodyText": "You can remove the @OverRide and @inheritdoc here as now that you have renamed the method its no longer overriding the parent.", "url": "https://github.com/primefaces/primefaces/pull/6252#discussion_r478337497", "createdAt": "2020-08-27T11:10:44Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "diffHunk": "@@ -35,11 +35,37 @@ PrimeFaces.widget.MenuButton = PrimeFaces.widget.BaseWidget.extend({\n         this.cfg.disabled = this.button.is(':disabled');\n \n         if(!this.cfg.disabled) {\n-            this.bindEvents();\n+            this.bindButtonEvents();\n             PrimeFaces.utils.registerDynamicOverlay(this, this.menu, this.id + '_menu');\n         }\n     },\n \n+    /**\n+     * @override\n+     * @inheritdoc\n+     * @param {JQuery} menuitem \n+     * @param {JQuery} submenu \n+     */\n+    showSubmenu: function(menuitem, submenu) {\n+        var pos = {\n+            my: 'left top',\n+            at: 'right top',\n+            of: menuitem,\n+            collision: 'flipfit'\n+        };\n+\n+        //avoid queuing multiple runs\n+        if(this.timeoutId) {\n+            clearTimeout(this.timeoutId);\n+        }\n+\n+        this.timeoutId = setTimeout(function () {\n+           submenu.css('z-index', PrimeFaces.nextZindex())\n+                  .show()\n+                  .position(pos)\n+        }, this.cfg.delay);\n+    },\n+\n     /**\n      * @override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0347d94ac35ee27e7ed6950f63dfcc42dcce06fb"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQyNzAzNQ==", "bodyText": "bindButtonEvents method does not have @override and @inheritdoc. This line is for refresh method.", "url": "https://github.com/primefaces/primefaces/pull/6252#discussion_r478427035", "createdAt": "2020-08-27T13:40:31Z", "author": {"login": "maruTA-bis5"}, "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "diffHunk": "@@ -35,11 +35,37 @@ PrimeFaces.widget.MenuButton = PrimeFaces.widget.BaseWidget.extend({\n         this.cfg.disabled = this.button.is(':disabled');\n \n         if(!this.cfg.disabled) {\n-            this.bindEvents();\n+            this.bindButtonEvents();\n             PrimeFaces.utils.registerDynamicOverlay(this, this.menu, this.id + '_menu');\n         }\n     },\n \n+    /**\n+     * @override\n+     * @inheritdoc\n+     * @param {JQuery} menuitem \n+     * @param {JQuery} submenu \n+     */\n+    showSubmenu: function(menuitem, submenu) {\n+        var pos = {\n+            my: 'left top',\n+            at: 'right top',\n+            of: menuitem,\n+            collision: 'flipfit'\n+        };\n+\n+        //avoid queuing multiple runs\n+        if(this.timeoutId) {\n+            clearTimeout(this.timeoutId);\n+        }\n+\n+        this.timeoutId = setTimeout(function () {\n+           submenu.css('z-index', PrimeFaces.nextZindex())\n+                  .show()\n+                  .position(pos)\n+        }, this.cfg.delay);\n+    },\n+\n     /**\n      * @override", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMzNzQ5Nw=="}, "originalCommit": {"oid": "0347d94ac35ee27e7ed6950f63dfcc42dcce06fb"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQzMjYyMQ==", "bodyText": "sorry the way the review looks the code folding confused me. I see it in the raw file now.", "url": "https://github.com/primefaces/primefaces/pull/6252#discussion_r478432621", "createdAt": "2020-08-27T13:48:16Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/menu/menu.menubutton.js", "diffHunk": "@@ -35,11 +35,37 @@ PrimeFaces.widget.MenuButton = PrimeFaces.widget.BaseWidget.extend({\n         this.cfg.disabled = this.button.is(':disabled');\n \n         if(!this.cfg.disabled) {\n-            this.bindEvents();\n+            this.bindButtonEvents();\n             PrimeFaces.utils.registerDynamicOverlay(this, this.menu, this.id + '_menu');\n         }\n     },\n \n+    /**\n+     * @override\n+     * @inheritdoc\n+     * @param {JQuery} menuitem \n+     * @param {JQuery} submenu \n+     */\n+    showSubmenu: function(menuitem, submenu) {\n+        var pos = {\n+            my: 'left top',\n+            at: 'right top',\n+            of: menuitem,\n+            collision: 'flipfit'\n+        };\n+\n+        //avoid queuing multiple runs\n+        if(this.timeoutId) {\n+            clearTimeout(this.timeoutId);\n+        }\n+\n+        this.timeoutId = setTimeout(function () {\n+           submenu.css('z-index', PrimeFaces.nextZindex())\n+                  .show()\n+                  .position(pos)\n+        }, this.cfg.delay);\n+    },\n+\n     /**\n      * @override", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMzNzQ5Nw=="}, "originalCommit": {"oid": "0347d94ac35ee27e7ed6950f63dfcc42dcce06fb"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2051, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}