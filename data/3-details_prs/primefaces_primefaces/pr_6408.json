{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxODE3NzUx", "number": 6408, "title": "#6404: DataExporter: should not require ajax=\"false\"", "bodyText": "Showcase-PR: primefaces/primefaces-showcase#209", "createdAt": "2020-10-12T21:03:12Z", "url": "https://github.com/primefaces/primefaces/pull/6408", "merged": true, "mergeCommit": {"oid": "252a4d8228b37daeb4a05644bf29d9ca82325127"}, "closed": true, "closedAt": "2020-11-02T20:16:28Z", "author": {"login": "christophs78"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR6cX7AH2gAyNTAxODE3NzUxOjU3Y2RiYmNjNDM1MjQ1ZmVlYTJmNjBmODJiNTZiMGUyOWY5MzUyYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYqPz5AH2gAyNTAxODE3NzUxOmRhYjc5NjczNzRlZWRlZDA5NWY2ZDEwNDQzOGIyMDcxMmI3M2U0NTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "57cdbbcc435245feea2f60f82b56b0e29f9352c2", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/57cdbbcc435245feea2f60f82b56b0e29f9352c2", "committedDate": "2020-10-12T20:59:26Z", "message": "#6404: DataExporter: should not require ajax=\"false\""}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MzUzOTk3", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-507353997", "createdAt": "2020-10-13T11:57:11Z", "commit": {"oid": "57cdbbcc435245feea2f60f82b56b0e29f9352c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMTo1NzoxMVrOHgjCDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMTo1OTozOFrOHgjHvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5MDQ0NQ==", "bodyText": "Didn't know if there was a better way to include this?  I guess there is no renderer to attach to so I guess this is OK.", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r503890445", "createdAt": "2020-10-13T11:57:11Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/export/DataExporter.java", "diffHunk": "@@ -64,11 +66,13 @@\n     private ValueExpression exporter;\n \n     public DataExporter() {\n+        ResourceUtils.addComponentResource(FacesContext.getCurrentInstance(), \"filedownload/filedownload.js\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57cdbbcc435245feea2f60f82b56b0e29f9352c2"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5MTM3NQ==", "bodyText": "Could this be !LangUtils.isValueBlank(attributeName) ?", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r503891375", "createdAt": "2020-10-13T11:58:43Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/util/DynamicContentSrcBuilder.java", "diffHunk": "@@ -65,8 +65,12 @@ else if (value instanceof String) {\n         }\n         else if (value instanceof StreamedContent) {\n             StreamedContent streamedContent = (StreamedContent) value;\n+            ValueExpression ve = null;\n+            if (attributeName != null && attributeName.length() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57cdbbcc435245feea2f60f82b56b0e29f9352c2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5MTkwMw==", "bodyText": "I wonder if this could be moved to ResourceUtils as a static method and reused between FileDownload and this?", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r503891903", "createdAt": "2020-10-13T11:59:38Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExcelExporter.java", "diffHunk": "@@ -227,6 +243,35 @@ protected Sheet createSheet(Workbook wb, String sheetName, ExcelOptions options)\n         return wb.createSheet(sheetName);\n     }\n \n+\n+    protected String getMonitorKeyCookieName(FacesContext context, ELContext elContext) {\n+        String monitorKeyCookieName = Constants.DOWNLOAD_COOKIE + context.getViewRoot().getViewId().replace('/', '_');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57cdbbcc435245feea2f60f82b56b0e29f9352c2"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e01dcdd24d03420cad073653d4f6c9c82aa77ac", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/4e01dcdd24d03420cad073653d4f6c9c82aa77ac", "committedDate": "2020-10-13T19:07:40Z", "message": "#6404: DataExporter: should not require ajax=\"false\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "838e47bc4869963597cc395c4f6ee65f220794ee", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/838e47bc4869963597cc395c4f6ee65f220794ee", "committedDate": "2020-10-13T19:22:21Z", "message": "#6404: DataExporter: should not require ajax=\"false\"\n\nCSV and XML"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NzcwNzcy", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-507770772", "createdAt": "2020-10-13T19:42:42Z", "commit": {"oid": "838e47bc4869963597cc395c4f6ee65f220794ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67da788d2066c261b935a51199bea8ba3fb6ba6e", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/67da788d2066c261b935a51199bea8ba3fb6ba6e", "committedDate": "2020-10-16T19:00:34Z", "message": "#6404: DataExporter: Refactor XLS(X) and PDF"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a3ddf8a9cc5d2fc3c53500c76e65cc1b3c2c150", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/1a3ddf8a9cc5d2fc3c53500c76e65cc1b3c2c150", "committedDate": "2020-10-16T20:43:32Z", "message": "#6404: DataExporter: Refactor CSV and XML"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTgyMDY2", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-510982066", "createdAt": "2020-10-17T12:26:22Z", "commit": {"oid": "1a3ddf8a9cc5d2fc3c53500c76e65cc1b3c2c150"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjoyNjoyMlrOHjdDew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjoyNjoyMlrOHjdDew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjkzODIzNQ==", "bodyText": "I don't see your close the outputStreamWriter.  A better way may be try with resources.\n        try (OutputStreamWriter osw = new OutputStreamWriter(os, encodingType);\n                    PrintWriter writer = new PrintWriter(osw);) {\n            writer.write(content.toString());\n            writer.flush();\n        }", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r506938235", "createdAt": "2020-10-17T12:26:22Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "diffHunk": "@@ -337,6 +338,66 @@ public void export(FacesContext context, List<DataTable> tables, ExportConfigura\n      */\n     protected abstract void doExport(FacesContext facesContext, DataTable table, ExportConfiguration config, int index) throws IOException;\n \n+    protected abstract String getContentType();\n+\n+    protected void sendExport2Client(String filenameWithExtension, ByteArrayOutputStream content, FacesContext context) throws IOException {\n+        if (PrimeFaces.current().isAjaxRequest()) {\n+            ajaxDownload(filenameWithExtension, content.toByteArray(), context);\n+        }\n+        else {\n+            ExternalContext externalContext = context.getExternalContext();\n+            externalContext.setResponseContentType(getContentType());\n+            setResponseHeader(externalContext, ComponentUtils.createContentDisposition(\"attachment\", filenameWithExtension));\n+            externalContext.setResponseContentLength(content.size());\n+            addResponseCookie(context);\n+\n+            content.writeTo(externalContext.getResponseOutputStream());\n+            externalContext.responseFlushBuffer();\n+        }\n+    }\n+\n+    protected void sendExport2Client(String filenameWithExtension, StringBuilder content, String encodingType, FacesContext context) throws IOException {\n+        if (PrimeFaces.current().isAjaxRequest()) {\n+            ajaxDownload(filenameWithExtension, content.toString().getBytes(encodingType), encodingType, context);\n+        }\n+        else {\n+            ExternalContext externalContext = context.getExternalContext();\n+            externalContext.setResponseContentType(getContentType() + \"; charset=\" + encodingType);\n+            setResponseHeader(externalContext, ComponentUtils.createContentDisposition(\"attachment\", filenameWithExtension));\n+\n+            addResponseCookie(context);\n+\n+            OutputStream os = externalContext.getResponseOutputStream();\n+            OutputStreamWriter osw = new OutputStreamWriter(os, encodingType);\n+            PrintWriter writer = new PrintWriter(osw);\n+            writer.write(content.toString());\n+            writer.flush();\n+            writer.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a3ddf8a9cc5d2fc3c53500c76e65cc1b3c2c150"}, "originalPosition": 67}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf1e196d51b58ab97d76b8d609f7d5eca75f955", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/cdf1e196d51b58ab97d76b8d609f7d5eca75f955", "committedDate": "2020-10-17T12:57:43Z", "message": "#6404: DataExporter: Refactoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTg1NzU1", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-510985755", "createdAt": "2020-10-17T13:25:21Z", "commit": {"oid": "cdf1e196d51b58ab97d76b8d609f7d5eca75f955"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5db107230cf1d665c9896713aaea9eea495e2913", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/5db107230cf1d665c9896713aaea9eea495e2913", "committedDate": "2020-10-20T17:42:07Z", "message": "#6404: DataExporter: remove DynamicContentSrcBuilder usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25ca6bdda2d4769b98f035754bf28e82f217bb2e", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/25ca6bdda2d4769b98f035754bf28e82f217bb2e", "committedDate": "2020-10-20T17:43:19Z", "message": "Merge branch 'master' into 6404_DataExporter_Ajax"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "313b5f0ef707f05aa8d8c79c272c0128d260d965", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/313b5f0ef707f05aa8d8c79c272c0128d260d965", "committedDate": "2020-10-20T17:45:27Z", "message": "#6404: DataExporter: fix import after merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMDYxNjIw", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-513061620", "createdAt": "2020-10-20T19:25:07Z", "commit": {"oid": "313b5f0ef707f05aa8d8c79c272c0128d260d965"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxOToyNTowN1rOHlNoTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxOToyNTowN1rOHlNoTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODc4MjY3MQ==", "bodyText": "This is the only line that gives me pause as it required JAXB to be on the classpath to work. What about java.util.Base64 and doing\nString encoded = Base64.getEncoder().withoutPadding().encodeToString(someByteArray);", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r508782671", "createdAt": "2020-10-20T19:25:07Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "diffHunk": "@@ -337,6 +337,62 @@ public void export(FacesContext context, List<DataTable> tables, ExportConfigura\n      */\n     protected abstract void doExport(FacesContext facesContext, DataTable table, ExportConfiguration config, int index) throws IOException;\n \n+    protected abstract String getContentType();\n+\n+    protected void sendExport2Client(String filenameWithExtension, ByteArrayOutputStream content, FacesContext context) throws IOException {\n+        if (PrimeFaces.current().isAjaxRequest()) {\n+            ajaxDownload(filenameWithExtension, content.toByteArray(), context);\n+        }\n+        else {\n+            ExternalContext externalContext = context.getExternalContext();\n+            externalContext.setResponseContentType(getContentType());\n+            setResponseHeader(externalContext, ComponentUtils.createContentDisposition(\"attachment\", filenameWithExtension));\n+            externalContext.setResponseContentLength(content.size());\n+            addResponseCookie(context);\n+\n+            content.writeTo(externalContext.getResponseOutputStream());\n+            externalContext.responseFlushBuffer();\n+        }\n+    }\n+\n+    protected void sendExport2Client(String filenameWithExtension, StringBuilder content, String encodingType, FacesContext context) throws IOException {\n+        if (PrimeFaces.current().isAjaxRequest()) {\n+            ajaxDownload(filenameWithExtension, content.toString().getBytes(encodingType), encodingType, context);\n+        }\n+        else {\n+            ExternalContext externalContext = context.getExternalContext();\n+            externalContext.setResponseContentType(getContentType() + \"; charset=\" + encodingType);\n+            setResponseHeader(externalContext, ComponentUtils.createContentDisposition(\"attachment\", filenameWithExtension));\n+\n+            addResponseCookie(context);\n+\n+            OutputStream os = externalContext.getResponseOutputStream();\n+            try (OutputStreamWriter osw = new OutputStreamWriter(os, encodingType);\n+                 PrintWriter writer = new PrintWriter(osw);) {\n+                writer.write(content.toString());\n+                writer.flush();\n+            }\n+        }\n+    }\n+\n+    private void ajaxDownload(String filenameWithExtension, byte[] content, FacesContext context) {\n+        ajaxDownload(filenameWithExtension, content, null, context);\n+    }\n+\n+    private void ajaxDownload(String filenameWithExtension, byte[] content, String encodingType, FacesContext context) {\n+        String contentType = getContentType();\n+        if (!LangUtils.isValueBlank(encodingType)) {\n+            contentType += \"; charset=\" + encodingType;\n+        }\n+\n+        String base64 = DatatypeConverter.printBase64Binary(content);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "313b5f0ef707f05aa8d8c79c272c0128d260d965"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e609d2e12ab320b2a60e6df75956fba5bc315e90", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/e609d2e12ab320b2a60e6df75956fba5bc315e90", "committedDate": "2020-10-21T10:27:33Z", "message": "#6404: DataExporter: use java.util.Base64"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f06f3d4a1803f8659239f8fec9c975d554e598c", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/7f06f3d4a1803f8659239f8fec9c975d554e598c", "committedDate": "2020-10-21T10:29:50Z", "message": "#6404: DataExporter: use java.util.Base64"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbbdc63bb0499890a2c818a37a3552481a58feaf", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/dbbdc63bb0499890a2c818a37a3552481a58feaf", "committedDate": "2020-10-22T18:26:24Z", "message": "#6404: DataExporter: prepare further refactorings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a330d2b68d60d41339f6bfc937306f83a5dd72b1", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/a330d2b68d60d41339f6bfc937306f83a5dd72b1", "committedDate": "2020-10-23T20:03:55Z", "message": "#6404: DataExporter: refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c6e972595ca438d87bb9c3501fd209f234d14fb", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/9c6e972595ca438d87bb9c3501fd209f234d14fb", "committedDate": "2020-10-23T20:12:11Z", "message": "#6404: DataExporter: refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c43b8946b49ee6617e74690416a3341380da471", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/6c43b8946b49ee6617e74690416a3341380da471", "committedDate": "2020-10-25T17:49:38Z", "message": "#6404: DataExporter: refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebbe3def8b644c66a67ba8ced22999ad0a7b122c", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/ebbe3def8b644c66a67ba8ced22999ad0a7b122c", "committedDate": "2020-10-26T19:40:31Z", "message": "#6404: DataExporter: refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b62a6a4238f264b5fa9e27356191240087a9eb3", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/1b62a6a4238f264b5fa9e27356191240087a9eb3", "committedDate": "2020-10-26T19:44:03Z", "message": "#6404: DataExporter: fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NjAzNzEw", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-517603710", "createdAt": "2020-10-27T11:34:12Z", "commit": {"oid": "1b62a6a4238f264b5fa9e27356191240087a9eb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a4ef056988a60a67c0ca28a069ed1bc5a3eb784", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/7a4ef056988a60a67c0ca28a069ed1bc5a3eb784", "committedDate": "2020-10-27T19:14:52Z", "message": "#6404: DataExporter: refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c4922cb7509e60ea007e0e0262a5616d318abfc", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/6c4922cb7509e60ea007e0e0262a5616d318abfc", "committedDate": "2020-10-27T19:34:48Z", "message": "newline at end of file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNTYwMTIy", "url": "https://github.com/primefaces/primefaces/pull/6408#pullrequestreview-521560122", "createdAt": "2020-11-02T11:48:20Z", "commit": {"oid": "6c4922cb7509e60ea007e0e0262a5616d318abfc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTo0ODoyMFrOHsBNUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTo0ODoyMFrOHsBNUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTkxOTE4NQ==", "bodyText": "I would keep ExportConfiguration  in export method, having a setter makes your API tricky to use since it must be called before export method (and there is nothing to guarantee that, also exporters should be as much stateless as possible)\ngetContentType: should only return content type without charset, do the concatenation in DataExporter#processAction\ngetFileExtension: I don't know if a file extension includes a dot or not...", "url": "https://github.com/primefaces/primefaces/pull/6408#discussion_r515919185", "createdAt": "2020-11-02T11:48:20Z", "author": {"login": "Rapster"}, "path": "src/main/java/org/primefaces/component/export/Exporter.java", "diffHunk": "@@ -26,9 +26,17 @@\n import javax.faces.component.UIComponent;\n import javax.faces.context.FacesContext;\n import java.io.IOException;\n+import java.io.OutputStream;\n import java.util.List;\n \n public interface Exporter<T extends UIComponent> {\n \n-    void export(FacesContext facesContext, List<T> component, ExportConfiguration config) throws IOException;\n-}\n\\ No newline at end of file\n+    void export(FacesContext facesContext, List<T> component, OutputStream outputStream) throws IOException;\n+\n+    String getContentType();\n+\n+    String getFileExtension();\n+\n+    void setExportConfiguration(ExportConfiguration exportConfiguration);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c4922cb7509e60ea007e0e0262a5616d318abfc"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dab7967374eeded095f6d104438b20712b73e453", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/dab7967374eeded095f6d104438b20712b73e453", "committedDate": "2020-11-02T20:04:42Z", "message": "#6404: DataExporter: refactoring"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2806, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}