{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzAwODI1", "number": 5925, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0MDoyMFrOD-Usgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxMToxM1rOD-VYgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njc3Mzc4OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0MDoyMFrOGYWykQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0MDoyMFrOGYWykQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE5MjQwMQ==", "bodyText": "LocalTime?", "url": "https://github.com/primefaces/primefaces/pull/5925#discussion_r428192401", "createdAt": "2020-05-20T17:40:20Z", "author": {"login": "christophs78"}, "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "diffHunk": "@@ -532,4 +533,26 @@ public static Temporal now(UICalendar uicalendar) {\n         ZoneId zone = calculateZoneId(uicalendar.getTimeZone());\n         return hasTime ? LocalDateTime.now(zone) : LocalDate.now(zone);\n     }\n+\n+    /**\n+     * Calculates NOW based on the calendar's current timezone or will default to system timezone if none set.\n+     *\n+     * @param uicalendar the base calendar to calculate NOW for\n+     * @return an Object representing either a Date or Temporal\n+     */\n+    public static Object now(UICalendar uicalendar, Class<?> dateType) {\n+        Temporal now = now(uicalendar);\n+        if (dateType.isAssignableFrom(java.util.Date.class)) {\n+            ZoneId zone = calculateZoneId(uicalendar.getTimeZone());\n+            java.util.Date date;\n+            if (now instanceof LocalDate) {\n+                date = java.util.Date.from(((LocalDate) now).atStartOfDay(zone).toInstant());\n+            }\n+            else {\n+                date = java.util.Date.from(((LocalDateTime) now).atZone(zone).toInstant());\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24b7ca4b04f362df61d70d0d3dd4a2be11cccede"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njc3ODEwOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0MTozMlrOGYW1bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0MTozMlrOGYW1bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE5MzEzNQ==", "bodyText": "we should remove the  \"if it fails ....\"", "url": "https://github.com/primefaces/primefaces/pull/5925#discussion_r428193135", "createdAt": "2020-05-20T17:41:32Z", "author": {"login": "christophs78"}, "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "diffHunk": "@@ -235,7 +236,7 @@ public static final String getValueAsString(FacesContext context, UICalendar cal\n     }\n \n     public static final String getValue(FacesContext context, UICalendar calendar, Object value, String pattern) {\n-        //first ask the converter\n+      //first ask the converter, if it fails fall back to built-in conversion", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24b7ca4b04f362df61d70d0d3dd4a2be11cccede"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njg4NjQxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxMToxM1rOGYX6Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxMToxM1rOGYX6Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIxMDc3MQ==", "bodyText": "One last thing. :-)\nhasTime = date and time\ntimeOnly = time\n(I know this is a bit confusing.)\n--> if (timeOnly) {", "url": "https://github.com/primefaces/primefaces/pull/5925#discussion_r428210771", "createdAt": "2020-05-20T18:11:13Z", "author": {"login": "christophs78"}, "path": "src/main/java/org/primefaces/util/CalendarUtils.java", "diffHunk": "@@ -530,7 +530,11 @@ public static LocalDateTime toLocalDateTime(ZoneId zoneId, String isoDateString)\n      */\n     public static Temporal now(UICalendar uicalendar) {\n         boolean hasTime = uicalendar.hasTime();\n+        boolean timeOnly = uicalendar.isTimeOnly();\n         ZoneId zone = calculateZoneId(uicalendar.getTimeZone());\n+        if (hasTime && timeOnly) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ef6d112004d1d56144e0697403d532c57ea227"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2054, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}