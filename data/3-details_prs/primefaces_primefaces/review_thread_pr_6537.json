{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjMyNzA2", "number": 6537, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMDo1NlrOE7hAtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMzozMlrOE7hDgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODQyMjkzOnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMDo1NlrOH3NPgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMDo1NlrOH3NPgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MDY5MA==", "bodyText": "number of column(s) will increase", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527650690", "createdAt": "2020-11-20T12:10:56Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODQzMDExOnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMzozMlrOH3NUDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjozODoxNlrOH3OEIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTg1NQ==", "bodyText": "I haven't checked by can colStyle be NULL or undefined if a column has no style?  Then the next line will throw an error when its checks its width.", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527651855", "createdAt": "2020-11-20T12:13:32Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase\n+     * 'false' when they are decrease.\n+     */\n+    resizeColumns: function(isChecked) {\n+\n+        var columns = this.table.find('> .ui-datatable-tablewrapper > table > thead > tr > th');\n+\n+        if(columns.length) {\n+            var visibleColumnLength = columns.filter(':visible').length;\n+\n+            if (isChecked && visibleColumnLength > 1) {\n+                columns.each(function() {\n+                    var col = $(this),\n+                        colStyle = col[0].style,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NDE2Mw==", "bodyText": "Columns always have style from ui-datatable or themes. In addition, the same lines are used exactly in 5 different places in the datatable.js file.", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527664163", "createdAt": "2020-11-20T12:38:16Z", "author": {"login": "sqores"}, "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase\n+     * 'false' when they are decrease.\n+     */\n+    resizeColumns: function(isChecked) {\n+\n+        var columns = this.table.find('> .ui-datatable-tablewrapper > table > thead > tr > th');\n+\n+        if(columns.length) {\n+            var visibleColumnLength = columns.filter(':visible').length;\n+\n+            if (isChecked && visibleColumnLength > 1) {\n+                columns.each(function() {\n+                    var col = $(this),\n+                        colStyle = col[0].style,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTg1NQ=="}, "originalCommit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1970, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}