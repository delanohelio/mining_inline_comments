{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NjEyODU3", "number": 6139, "title": "Fix #5912: DatePicker incorrect behavior with keyboard entry", "bodyText": "My first steps to decouple the update of the input-field from the update of the model and DatePicker-widget. I think this already improves input-behaviour.\n I\u00b4ll try to add some code which does the reformating on focus-lost as next step and add this to this PR.\n And maybe we can add something to accept 2-digits-year-inpuz also for 4-digit-patterns.\n\nAs already said before people choose libraries like PrimeFaces because they expect this things to work. And now we are as a community on a point where we need to fix dozens of issues for DatePicker. PrimeTek released DatePicker in sub-par quality with 7.0. And now we as community need to do this work.", "createdAt": "2020-07-10T19:41:05Z", "url": "https://github.com/primefaces/primefaces/pull/6139", "merged": true, "mergeCommit": {"oid": "0171d2cc9d9e17d65c7b0d47ad8f39b357c9baab"}, "closed": true, "closedAt": "2020-07-13T12:44:36Z", "author": {"login": "christophs78"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczo3wBgH2gAyNDQ3NjEyODU3OjVhZDM1MWE2YTM5MDhiMzY0MzUxMDhhYWIyNTFkYzI0M2I0YjJhYzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0g0PZAFqTQ0NzIxNDU2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5ad351a6a3908b36435108aab251dc243b4b2ac7", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/5ad351a6a3908b36435108aab251dc243b4b2ac7", "committedDate": "2020-07-10T19:33:19Z", "message": "Fix #5912: DatePicker incorrect behavior with keyboard entry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "036dbf7fc0bcf24c6b19c3ce82a88caac7a81153", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/036dbf7fc0bcf24c6b19c3ce82a88caac7a81153", "committedDate": "2020-07-10T19:47:30Z", "message": "Fix #5912: DatePicker: Reformat onBlur"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb8853d820d4e8f05d5dfdb3b026e4ee8122cc68", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/fb8853d820d4e8f05d5dfdb3b026e4ee8122cc68", "committedDate": "2020-07-10T20:05:35Z", "message": "Fix #5912: DatePicker: allow 2 digit-inputs for 4-digit-year-pattern (gets reformated to 4 digits onBlur)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk2MDY4", "url": "https://github.com/primefaces/primefaces/pull/6139#pullrequestreview-446796068", "createdAt": "2020-07-11T11:11:26Z", "commit": {"oid": "fb8853d820d4e8f05d5dfdb3b026e4ee8122cc68"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMToxMToyNlrOGwMLtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMToxMToyNlrOGwMLtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4NDQzOQ==", "bodyText": "I think its safe to remove this comment I think we should always format unless we find it to be a problem.", "url": "https://github.com/primefaces/primefaces/pull/6139#discussion_r453184439", "createdAt": "2020-07-11T11:11:26Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/datepicker/0-datepicker.js", "diffHunk": "@@ -1704,6 +1709,9 @@\n                 this.options.onBlur.call(this, event);\n             }\n \n+            //reformat input - is always OK? or only if it was modified?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb8853d820d4e8f05d5dfdb3b026e4ee8122cc68"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a270811674eb9c7c5d38d3e2e3c18f684d14a0e", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/6a270811674eb9c7c5d38d3e2e3c18f684d14a0e", "committedDate": "2020-07-11T12:59:44Z", "message": "Fix #5912: DatePicker incorrect behavior with keyboard entry\n\nremove comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051c8bcdc518f53849e702b7931b3843954f37bb", "author": {"user": {"login": "christophs78", "name": "Christoph Stra\u00dfer"}}, "url": "https://github.com/primefaces/primefaces/commit/051c8bcdc518f53849e702b7931b3843954f37bb", "committedDate": "2020-07-11T13:01:29Z", "message": "Fix #5912: DatePicker incorrect behavior with keyboard entry\n\nremove comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTA0NTQ4", "url": "https://github.com/primefaces/primefaces/pull/6139#pullrequestreview-446904548", "createdAt": "2020-07-12T19:40:23Z", "commit": {"oid": "051c8bcdc518f53849e702b7931b3843954f37bb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxOTo0MDoyM1rOGwWnCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxOTo0MDoyM1rOGwWnCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1NTI3NA==", "bodyText": "I think you can just say if (updateInput) and its truthiness will only enter the block if the value is true rather than checking for !false", "url": "https://github.com/primefaces/primefaces/pull/6139#discussion_r453355274", "createdAt": "2020-07-12T19:40:23Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/datepicker/0-datepicker.js", "diffHunk": "@@ -2488,9 +2495,11 @@\n             this._setInitOptionValues();\n         },\n \n-        updateModel: function (event, value) {\n+        updateModel: function (event, value, updateInput) {\n             this.value = (value === '' ? null : value);\n-            this.inputfield.val(this.getValueToRender());\n+            if (updateInput != false) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "051c8bcdc518f53849e702b7931b3843954f37bb"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MjE0NTYz", "url": "https://github.com/primefaces/primefaces/pull/6139#pullrequestreview-447214563", "createdAt": "2020-07-13T12:44:10Z", "commit": {"oid": "051c8bcdc518f53849e702b7931b3843954f37bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2822, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}