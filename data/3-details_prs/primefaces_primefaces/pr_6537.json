{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjMyNzA2", "number": 6537, "title": "Fix #6501 - ColumnToggler: added resize columns function to columntoggler", "bodyText": "", "createdAt": "2020-11-20T11:12:31Z", "url": "https://github.com/primefaces/primefaces/pull/6537", "merged": true, "mergeCommit": {"oid": "841bc81a7c5eb03f8dc38c112afdca591da7087c"}, "closed": true, "closedAt": "2020-11-20T22:33:03Z", "author": {"login": "sqores"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeVVTHAH2gAyNTI0NjMyNzA2OmZiOGEyY2NhYjBiMmNhNGQxZmY2YjE0MDQ3ZGIxMTBiOWRiYmY5NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeWrIRgFqTUzNTM5Mzc5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fb8a2ccab0b2ca4d1ff6b14047db110b9dbbf975", "author": {"user": {"login": "sqores", "name": "Burak \u00dcnsal"}}, "url": "https://github.com/primefaces/primefaces/commit/fb8a2ccab0b2ca4d1ff6b14047db110b9dbbf975", "committedDate": "2020-11-20T11:06:14Z", "message": "added resize columns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151", "author": {"user": {"login": "sqores", "name": "Burak \u00dcnsal"}}, "url": "https://github.com/primefaces/primefaces/commit/dbe67255474881ff5de2f0aa0e1658165bc71151", "committedDate": "2020-11-20T11:27:39Z", "message": "added missing javadoc description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1Mzc1Mzk0", "url": "https://github.com/primefaces/primefaces/pull/6537#pullrequestreview-535375394", "createdAt": "2020-11-20T12:10:56Z", "commit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMDo1NlrOH3NPgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjoxMzozMlrOH3NUDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MDY5MA==", "bodyText": "number of column(s) will increase", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527650690", "createdAt": "2020-11-20T12:10:56Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTg1NQ==", "bodyText": "I haven't checked by can colStyle be NULL or undefined if a column has no style?  Then the next line will throw an error when its checks its width.", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527651855", "createdAt": "2020-11-20T12:13:32Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase\n+     * 'false' when they are decrease.\n+     */\n+    resizeColumns: function(isChecked) {\n+\n+        var columns = this.table.find('> .ui-datatable-tablewrapper > table > thead > tr > th');\n+\n+        if(columns.length) {\n+            var visibleColumnLength = columns.filter(':visible').length;\n+\n+            if (isChecked && visibleColumnLength > 1) {\n+                columns.each(function() {\n+                    var col = $(this),\n+                        colStyle = col[0].style,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37583990909728412c583729a8d6438b7e489317", "author": {"user": {"login": "sqores", "name": "Burak \u00dcnsal"}}, "url": "https://github.com/primefaces/primefaces/commit/37583990909728412c583729a8d6438b7e489317", "committedDate": "2020-11-20T12:23:50Z", "message": "fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MzkzNzkw", "url": "https://github.com/primefaces/primefaces/pull/6537#pullrequestreview-535393790", "createdAt": "2020-11-20T12:39:59Z", "commit": {"oid": "37583990909728412c583729a8d6438b7e489317"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2748, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}