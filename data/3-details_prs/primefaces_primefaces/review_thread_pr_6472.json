{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MzEwNzI1", "number": 6472, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1NTo1MFrOE0jAxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1Njo0N1rOE0jB-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNTM1MDQ0OnYy", "diffSide": "LEFT", "path": "src/main/java/org/primefaces/component/datatable/export/DataTableCSVExporter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1NTo1MFrOHsVU_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMTozMTozMlrOHsWXmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODgyOQ==", "bodyText": "Dead variable according to Sonar.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516248829", "createdAt": "2020-11-02T20:55:50Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableCSVExporter.java", "diffHunk": "@@ -66,8 +65,6 @@ public void doExport(FacesContext context, DataTable table, ExportConfiguration\n         try (OutputStreamWriter osw = new OutputStreamWriter(getOutputStream(), exportConfiguration.getEncodingType());\n             PrintWriter writer = new PrintWriter(osw);) {\n \n-            ExternalContext externalContext = context.getExternalContext();\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2MzU0Ng==", "bodyText": "Pretty sure I haven't worked on the DataTableCSVExporter, but yes, the variable externalContext is not used anywhere.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516263546", "createdAt": "2020-11-02T21:26:51Z", "author": {"login": "blutorange"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableCSVExporter.java", "diffHunk": "@@ -66,8 +65,6 @@ public void doExport(FacesContext context, DataTable table, ExportConfiguration\n         try (OutputStreamWriter osw = new OutputStreamWriter(getOutputStream(), exportConfiguration.getEncodingType());\n             PrintWriter writer = new PrintWriter(osw);) {\n \n-            ExternalContext externalContext = context.getExternalContext();\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODgyOQ=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2NTg4MQ==", "bodyText": "Yes, should be removed.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516265881", "createdAt": "2020-11-02T21:31:32Z", "author": {"login": "christophs78"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableCSVExporter.java", "diffHunk": "@@ -66,8 +65,6 @@ public void doExport(FacesContext context, DataTable table, ExportConfiguration\n         try (OutputStreamWriter osw = new OutputStreamWriter(getOutputStream(), exportConfiguration.getEncodingType());\n             PrintWriter writer = new PrintWriter(osw);) {\n \n-            ExternalContext externalContext = context.getExternalContext();\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODgyOQ=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNTM1MTE0OnYy", "diffSide": "LEFT", "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1NjowNVrOHsVVdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMTozMTo1M1rOHsWYZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODk1MA==", "bodyText": "Already declared in Interface.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516248950", "createdAt": "2020-11-02T20:56:05Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "diffHunk": "@@ -337,8 +342,6 @@ public void export(FacesContext context, List<DataTable> tables, OutputStream ou\n      */\n     protected abstract void doExport(FacesContext facesContext, DataTable table, ExportConfiguration exportConfiguration, int index) throws IOException;\n \n-    public abstract String getFileExtension();\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2NDA4NA==", "bodyText": "Again haven't worked on DataTableExporter, but also yes, that declaration can be removed.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516264084", "createdAt": "2020-11-02T21:27:55Z", "author": {"login": "blutorange"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "diffHunk": "@@ -337,8 +342,6 @@ public void export(FacesContext context, List<DataTable> tables, OutputStream ou\n      */\n     protected abstract void doExport(FacesContext facesContext, DataTable table, ExportConfiguration exportConfiguration, int index) throws IOException;\n \n-    public abstract String getFileExtension();\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODk1MA=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2NjA4Nw==", "bodyText": "Yes, should be removed.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516266087", "createdAt": "2020-11-02T21:31:53Z", "author": {"login": "christophs78"}, "path": "src/main/java/org/primefaces/component/datatable/export/DataTableExporter.java", "diffHunk": "@@ -337,8 +342,6 @@ public void export(FacesContext context, List<DataTable> tables, OutputStream ou\n      */\n     protected abstract void doExport(FacesContext facesContext, DataTable table, ExportConfiguration exportConfiguration, int index) throws IOException;\n \n-    public abstract String getFileExtension();\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0ODk1MA=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNTM1MjM3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1NjoyM1rOHsVWJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMToyOTo0MlrOHsWUJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0OTEyNg==", "bodyText": "Made this a fall through since both 'z' and 'Z' do the same thing.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516249126", "createdAt": "2020-11-02T20:56:23Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "diffHunk": "@@ -99,8 +99,6 @@ public void visitTokenLetter(int letter, int repetitions) {\n \n             // time zone\n             case 'z':\n-                visitZonezToken(repetitions, builder);\n-                break;\n             case 'Z':", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2NDk5Nw==", "bodyText": "I made a separate method for each case, and for 'z' and 'Z' the JQueryUI pattern happens to be the same for both. Makes the code a tiny bit easier to read imo, but I've got no problem with this change.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516264997", "createdAt": "2020-11-02T21:29:42Z", "author": {"login": "blutorange"}, "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "diffHunk": "@@ -99,8 +99,6 @@ public void visitTokenLetter(int letter, int repetitions) {\n \n             // time zone\n             case 'z':\n-                visitZonezToken(repetitions, builder);\n-                break;\n             case 'Z':", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0OTEyNg=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNTM1MzU1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMDo1Njo0N1rOHsVW7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMTozMToyNVrOHsWXUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0OTMyNA==", "bodyText": "Sonar recommended removing the switch for if else for readability", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516249324", "createdAt": "2020-11-02T20:56:47Z", "author": {"login": "melloware"}, "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "diffHunk": "@@ -175,13 +175,12 @@ private static void visitDayOfWeekToken(int repetitions, JQueryDateTimePatternBu\n      * More than three 'D' are interpreted as 'DDD'.\n      */\n     private static void visitDayOfYearToken(int repetitions, JQueryDateTimePatternBuilder builder) {\n-        switch (repetitions) {\n-            case 1:\n-                builder.appendDayOfYearNoLeadingZeros();\n-                break;\n-            default: // 2+\n-                builder.appendDayOfYearWithLeadingZeros();\n-                break;\n+        if (repetitions == 1) {\n+            builder.appendDayOfYearNoLeadingZeros();\n+        }\n+        else {\n+            // 2+\n+            builder.appendDayOfYearWithLeadingZeros();\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI2NTgxMA==", "bodyText": "I used the switch-pattern in other methods too so always using that keeps it consistent, but yeah, this is fine as well.", "url": "https://github.com/primefaces/primefaces/pull/6472#discussion_r516265810", "createdAt": "2020-11-02T21:31:25Z", "author": {"login": "blutorange"}, "path": "src/main/java/org/primefaces/convert/CombinedDateTimePatternTokenVisitor.java", "diffHunk": "@@ -175,13 +175,12 @@ private static void visitDayOfWeekToken(int repetitions, JQueryDateTimePatternBu\n      * More than three 'D' are interpreted as 'DDD'.\n      */\n     private static void visitDayOfYearToken(int repetitions, JQueryDateTimePatternBuilder builder) {\n-        switch (repetitions) {\n-            case 1:\n-                builder.appendDayOfYearNoLeadingZeros();\n-                break;\n-            default: // 2+\n-                builder.appendDayOfYearWithLeadingZeros();\n-                break;\n+        if (repetitions == 1) {\n+            builder.appendDayOfYearNoLeadingZeros();\n+        }\n+        else {\n+            // 2+\n+            builder.appendDayOfYearWithLeadingZeros();\n         }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI0OTMyNA=="}, "originalCommit": {"oid": "0c8e141648fdd0d9208777e72be630a63a643a64"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1953, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}