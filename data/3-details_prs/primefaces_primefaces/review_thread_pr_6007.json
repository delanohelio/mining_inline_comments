{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5OTEwNDE2", "number": 6007, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDo0MToxNFrOEDOghw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDo0NTo1MFrOEDOhZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxODE4ODg3OnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDo0MToxNFrOGgIpSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMTowNDoxMVrOGgIwVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0OTI1Nw==", "bodyText": "@blutorange : Is it right this way? IntelliJ had not been happy because it thought cfg does not contain multiViewState.", "url": "https://github.com/primefaces/primefaces/pull/6007#discussion_r436349257", "createdAt": "2020-06-07T10:41:14Z", "author": {"login": "christophs78"}, "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "diffHunk": "@@ -58,6 +58,7 @@\n  * @prop {boolean} cfg.scrollable When enabled, tab headers can be scrolled horizontally instead of wrapping.\n  * @prop {number} cfg.selected The currently selected tab.\n  * @prop {number} cfg.tabindex Position of the element in the tabbing order.\n+ * @prop {boolean} cfg.multiViewState Whether to keep TabView state across views.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7040fcf7ded9631cf71faf6f5446a82e0f4dbbda"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM1MTA2Mw==", "bodyText": "@christophs78 Looks good to me. The IDE support for the JSDocs is not perfect, we would probably have to switch to ES6 classes and/or TypeScript for that. That said, IntelliJ probably reads the current PrimeFaces.d.ts file, where this property does not exist yet. That file is generated automatically via mvn clean install -P release I guess we should run that occasionally and commit the generated files.\nAlso, once you open a PR, the Travis build check whether the JSDocs are valid. You can also check that locally by running mvn clean install -P jsdoc (see also the readme https://github.com/primefaces/primefaces/blob/master/src/main/type-definitions/README.md#build)", "url": "https://github.com/primefaces/primefaces/pull/6007#discussion_r436351063", "createdAt": "2020-06-07T11:04:11Z", "author": {"login": "blutorange"}, "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "diffHunk": "@@ -58,6 +58,7 @@\n  * @prop {boolean} cfg.scrollable When enabled, tab headers can be scrolled horizontally instead of wrapping.\n  * @prop {number} cfg.selected The currently selected tab.\n  * @prop {number} cfg.tabindex Position of the element in the tabbing order.\n+ * @prop {boolean} cfg.multiViewState Whether to keep TabView state across views.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0OTI1Nw=="}, "originalCommit": {"oid": "7040fcf7ded9631cf71faf6f5446a82e0f4dbbda"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxODE5MTEwOnYy", "diffSide": "RIGHT", "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDo0NTo1MFrOGgIqjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMjowMzo0N1rOGgJDrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0OTU4Mw==", "bodyText": "For dynamic=\"true\" we have activeIndex on the server. Also when tabview includes tabChange-Ajax-Event.\nThis tries to send activeIndex-updates to the server for the other usecases. Is there a other (better) way to do this. (At least this way seems to work.)\nAnd i have to remove the comment afterwards.", "url": "https://github.com/primefaces/primefaces/pull/6007#discussion_r436349583", "createdAt": "2020-06-07T10:45:50Z", "author": {"login": "christophs78"}, "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "diffHunk": "@@ -459,8 +461,36 @@ PrimeFaces.widget.TabView = PrimeFaces.widget.DeferredWidget.extend({\n         else {\n             this.show(newPanel);\n \n-            if(this.hasBehavior('tabChange') && !silent) {\n-                this.fireTabChangeEvent(newPanel);\n+            if (!silent) {\n+                if (this.hasBehavior('tabChange')) {\n+                    this.fireTabChangeEvent(newPanel);\n+                }\n+                else if (this.cfg.multiViewState) {\n+                    var options = {\n+                        source: this.id,\n+                        partialSubmit: true,\n+                        /*\n+                        TODO: How to set partialSubmitFilter to only send and process activeIndex-hidden-field to the server?\n+                        partialSubmitFilter: \"@none\",\n+                        partialSubmitFilter: \":input:hidden\",\n+                        partialSubmitFilter: \"@form:\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: \":\" + this.cfg.formId + \":\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: \"@form:\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: this.id + '_activeIndex',\n+\n+                        process: \"@none\",\n+                        process: this.id + '_activeIndex',\n+                         */\n+                        partialSubmitFilter: this.id + '_activeIndex',\n+                        process: this.id,\n+                        ignoreAutoUpdate: true,\n+                        params: [\n+                            {name: this.id + '_activeIndex', value: this.getActiveIndex()}\n+                        ]\n+                    };\n+\n+                    PrimeFaces.ajax.Request.handle(options);\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7040fcf7ded9631cf71faf6f5446a82e0f4dbbda"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM1NjAxMg==", "bodyText": "To me this seems perfectly reasonable to do.", "url": "https://github.com/primefaces/primefaces/pull/6007#discussion_r436356012", "createdAt": "2020-06-07T12:03:47Z", "author": {"login": "melloware"}, "path": "src/main/resources/META-INF/resources/primefaces/tabview/tabview.js", "diffHunk": "@@ -459,8 +461,36 @@ PrimeFaces.widget.TabView = PrimeFaces.widget.DeferredWidget.extend({\n         else {\n             this.show(newPanel);\n \n-            if(this.hasBehavior('tabChange') && !silent) {\n-                this.fireTabChangeEvent(newPanel);\n+            if (!silent) {\n+                if (this.hasBehavior('tabChange')) {\n+                    this.fireTabChangeEvent(newPanel);\n+                }\n+                else if (this.cfg.multiViewState) {\n+                    var options = {\n+                        source: this.id,\n+                        partialSubmit: true,\n+                        /*\n+                        TODO: How to set partialSubmitFilter to only send and process activeIndex-hidden-field to the server?\n+                        partialSubmitFilter: \"@none\",\n+                        partialSubmitFilter: \":input:hidden\",\n+                        partialSubmitFilter: \"@form:\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: \":\" + this.cfg.formId + \":\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: \"@form:\" + this.id + '_activeIndex',\n+                        partialSubmitFilter: this.id + '_activeIndex',\n+\n+                        process: \"@none\",\n+                        process: this.id + '_activeIndex',\n+                         */\n+                        partialSubmitFilter: this.id + '_activeIndex',\n+                        process: this.id,\n+                        ignoreAutoUpdate: true,\n+                        params: [\n+                            {name: this.id + '_activeIndex', value: this.getActiveIndex()}\n+                        ]\n+                    };\n+\n+                    PrimeFaces.ajax.Request.handle(options);\n+                }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0OTU4Mw=="}, "originalCommit": {"oid": "7040fcf7ded9631cf71faf6f5446a82e0f4dbbda"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2074, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}