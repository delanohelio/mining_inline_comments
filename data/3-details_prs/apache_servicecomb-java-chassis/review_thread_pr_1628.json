{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NjQzMzA3", "number": 1628, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMjowNTo1OFrODo8krQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMjoxMjowMFrODo8n-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MjYyMDYxOnYy", "diffSide": "RIGHT", "path": "foundations/foundation-log/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMjowNTo1OFrOF3z_fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwNzoxMToyNVrOF34hDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2NzgzNg==", "bodyText": "It's better to create a module common-access-log in common folder. Because the dependency is core <- common <- foundation. Foundation can not dependent on common.", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394067836", "createdAt": "2020-03-18T02:05:58Z", "author": {"login": "liubao68"}, "path": "foundations/foundation-log/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <artifactId>foundations</artifactId>\n+    <groupId>org.apache.servicecomb</groupId>\n+    <version>2.0.1-SNAPSHOT</version>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <artifactId>foundation-log</artifactId>\n+  <name>Java Chassis::Foundations::Log</name>\n+\n+  <dependencies>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE0MTk2Nw==", "bodyText": "ok", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394141967", "createdAt": "2020-03-18T07:11:25Z", "author": {"login": "heyile"}, "path": "foundations/foundation-log/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <artifactId>foundations</artifactId>\n+    <groupId>org.apache.servicecomb</groupId>\n+    <version>2.0.1-SNAPSHOT</version>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <artifactId>foundation-log</artifactId>\n+  <name>Java Chassis::Foundations::Log</name>\n+\n+  <dependencies>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2NzgzNg=="}, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MjYyNTY2OnYy", "diffSide": "RIGHT", "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/LogConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMjowOTozMFrOF30Ctw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoyMToxOVrOF36VcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2ODY2Mw==", "bodyText": "servervicomb.request.log  or servicecomb.accesslog.request is better, see 'https://sling.apache.org/documentation/development/client-request-logging.html' for reference.", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394068663", "createdAt": "2020-03-18T02:09:30Z", "author": {"login": "liubao68"}, "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/LogConfig.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.servicecomb.foundation.log;\n+\n+import com.netflix.config.DynamicPropertyFactory;\n+\n+public class LogConfig {\n+\n+    private static final String SERVER_BASE = \"servicecomb.accesslog.\";\n+\n+    private static final String CLIENT_BASE = \"servicecomb.outlog.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE3MTc2MQ==", "bodyText": "ok, servervicomb.request.log  is better", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394171761", "createdAt": "2020-03-18T08:21:19Z", "author": {"login": "heyile"}, "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/LogConfig.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.servicecomb.foundation.log;\n+\n+import com.netflix.config.DynamicPropertyFactory;\n+\n+public class LogConfig {\n+\n+    private static final String SERVER_BASE = \"servicecomb.accesslog.\";\n+\n+    private static final String CLIENT_BASE = \"servicecomb.outlog.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2ODY2Mw=="}, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MjYyOTA3OnYy", "diffSide": "RIGHT", "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/core/element/LogItem.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMjoxMjowMFrOF30FDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoyMTowNlrOF36U-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2OTI2Mw==", "bodyText": "Server access log and request log can both called AccessLog. Log is a general name may be confusing with any application trace. I'd prefer using AccessLogItem. And 'servicecomb.assesslog.request` as the configuration.", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394069263", "createdAt": "2020-03-18T02:12:00Z", "author": {"login": "liubao68"}, "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/core/element/LogItem.java", "diffHunk": "@@ -15,17 +15,22 @@\n  * limitations under the License.\n  */\n \n-package org.apache.servicecomb.transport.rest.vertx.accesslog.element;\n+package org.apache.servicecomb.foundation.log.core.element;\n \n-import org.apache.servicecomb.transport.rest.vertx.accesslog.AccessLogParam;\n+import org.apache.servicecomb.core.event.InvocationFinishEvent;\n+import org.apache.servicecomb.core.event.ServerAccessLogEvent;\n \n /*\n  * Access log item represents the items supported in access log printing.\n  * It generate the segment of access log according to {@link AccessLogParam}\n  */\n-public interface AccessLogItem<T> {\n+public interface LogItem<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE3MTY0Mw==", "bodyText": "ok", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1628#discussion_r394171643", "createdAt": "2020-03-18T08:21:06Z", "author": {"login": "heyile"}, "path": "foundations/foundation-log/src/main/java/org/apache/servicecomb/foundation/log/core/element/LogItem.java", "diffHunk": "@@ -15,17 +15,22 @@\n  * limitations under the License.\n  */\n \n-package org.apache.servicecomb.transport.rest.vertx.accesslog.element;\n+package org.apache.servicecomb.foundation.log.core.element;\n \n-import org.apache.servicecomb.transport.rest.vertx.accesslog.AccessLogParam;\n+import org.apache.servicecomb.core.event.InvocationFinishEvent;\n+import org.apache.servicecomb.core.event.ServerAccessLogEvent;\n \n /*\n  * Access log item represents the items supported in access log printing.\n  * It generate the segment of access log according to {@link AccessLogParam}\n  */\n-public interface AccessLogItem<T> {\n+public interface LogItem<T> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA2OTI2Mw=="}, "originalCommit": {"oid": "62b72298c23a81bb70d6ffb3f49e5da34182814f"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1317, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}