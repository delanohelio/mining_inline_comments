{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMTEwMDgw", "number": 6352, "title": "gCNV vcf cleanup", "bodyText": "Only list called ALTs\nSet QUAL to QS (quality of some event), which we've found to be the best for filtering\nResolves most of the rest of #6167", "createdAt": "2020-01-07T18:12:58Z", "url": "https://github.com/broadinstitute/gatk/pull/6352", "merged": true, "mergeCommit": {"oid": "ab73d32ea1ca9a3e8f953ea8a5a97b77446ba631"}, "closed": true, "closedAt": "2020-01-15T17:38:00Z", "author": {"login": "ldgauthier"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4Gm0RgH2gAyMzYwMTEwMDgwOjdmOTdmYjE1NmNkZTNiYzcyYzVmYWIxY2IxMzZhNzk3ZGM5NWFmNWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6mEOwgH2gAyMzYwMTEwMDgwOmEzMGY4OWE0OWI3YzM3YmM1OWFmYWQ5N2E3ZTczMTE4M2Y2Y2QxODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f", "author": {"user": {"login": "ldgauthier", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/7f97fb156cde3bc72c5fab1cb136a797dc95af5f", "committedDate": "2020-01-07T20:16:31Z", "message": "gCNV VCF cleanup\nOnly called alleles as alts; QS to QUAL"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80208b7d268829da950bccb4cafd07fadb68c1fd", "author": {"user": {"login": "ldgauthier", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/80208b7d268829da950bccb4cafd07fadb68c1fd", "committedDate": "2020-01-07T18:04:03Z", "message": "Update tests"}, "afterCommit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f", "author": {"user": {"login": "ldgauthier", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/7f97fb156cde3bc72c5fab1cb136a797dc95af5f", "committedDate": "2020-01-07T20:16:31Z", "message": "gCNV VCF cleanup\nOnly called alleles as alts; QS to QUAL"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMTM0NzQw", "url": "https://github.com/broadinstitute/gatk/pull/6352#pullrequestreview-342134740", "createdAt": "2020-01-13T20:59:40Z", "commit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMDo1OTo0MFrOFdEZKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMToxMjowOFrOFdEtfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjAyNTAwMA==", "bodyText": "Would it be better to use GATKTool's createVCFWriter()?", "url": "https://github.com/broadinstitute/gatk/pull/6352#discussion_r366025000", "createdAt": "2020-01-13T20:59:40Z", "author": {"login": "mwalker174"}, "path": "src/main/java/org/broadinstitute/hellbender/tools/copynumber/PostprocessGermlineCNVCalls.java", "diffHunk": "@@ -372,7 +374,8 @@ public Object onTraversalSuccess() {\n \n     private void generateIntervalsVCFFileFromAllShards() {\n         logger.info(\"Generating intervals VCF file...\");\n-        final VariantContextWriter intervalsVCFWriter = createVCFWriter(outputIntervalsVCFFile);\n+        final VariantContextWriter intervalsVCFWriter = GATKVariantContextUtils.createVCFWriter(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjAyNTEwNg==", "bodyText": "Same here?", "url": "https://github.com/broadinstitute/gatk/pull/6352#discussion_r366025106", "createdAt": "2020-01-13T20:59:58Z", "author": {"login": "mwalker174"}, "path": "src/main/java/org/broadinstitute/hellbender/tools/copynumber/PostprocessGermlineCNVCalls.java", "diffHunk": "@@ -412,7 +415,8 @@ private void generateSegmentsVCFFileFromAllShards() {\n \n         /* write variants */\n         logger.info(String.format(\"Writing segments VCF file to %s...\", outputSegmentsVCFFile.getAbsolutePath()));\n-        final VariantContextWriter segmentsVCFWriter = createVCFWriter(outputSegmentsVCFFile);\n+        final VariantContextWriter segmentsVCFWriter = GATKVariantContextUtils.createVCFWriter(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjAyNTc3Mg==", "bodyText": "Can delete", "url": "https://github.com/broadinstitute/gatk/pull/6352#discussion_r366025772", "createdAt": "2020-01-13T21:01:37Z", "author": {"login": "mwalker174"}, "path": "src/main/java/org/broadinstitute/hellbender/tools/copynumber/gcnv/GermlineCNVSegmentVariantComposer.java", "diffHunk": "@@ -128,7 +128,7 @@ VariantContext composeVariantContext(final IntegerCopyNumberSegment segment) {\n         int copyNumberCall = segment.getCallIntegerCopyNumberState().getCopyNumber();\n \n         final VariantContextBuilder variantContextBuilder = new VariantContextBuilder();\n-        variantContextBuilder.alleles(ALL_ALLELES);\n+        //variantContextBuilder.alleles(ALL_ALLELES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjAzMDIwNg==", "bodyText": "Could write this as final List<Allele> vcAlleles = Lists.newArrayList(REF_ALLELE);", "url": "https://github.com/broadinstitute/gatk/pull/6352#discussion_r366030206", "createdAt": "2020-01-13T21:12:08Z", "author": {"login": "mwalker174"}, "path": "src/main/java/org/broadinstitute/hellbender/tools/copynumber/gcnv/GermlineCNVSegmentVariantComposer.java", "diffHunk": "@@ -155,8 +155,14 @@ VariantContext composeVariantContext(final IntegerCopyNumberSegment segment) {\n         genotypeBuilder.attribute(QSE, FastMath.round(segment.getQualityEnd()));\n         final Genotype genotype = genotypeBuilder.make();\n \n+        final List<Allele> vcAlleles = new ArrayList<>(Collections.singletonList(REF_ALLELE));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f97fb156cde3bc72c5fab1cb136a797dc95af5f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eefabf291b13c1c0832d98aaf1d74448ac99c878", "author": {"user": {"login": "ldgauthier", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/eefabf291b13c1c0832d98aaf1d74448ac99c878", "committedDate": "2020-01-14T20:31:40Z", "message": "Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a30f89a49b7c37bc59afad97a7e731183f6cd184", "author": {"user": {"login": "ldgauthier", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/a30f89a49b7c37bc59afad97a7e731183f6cd184", "committedDate": "2020-01-15T14:03:33Z", "message": "Last details"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2897, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}