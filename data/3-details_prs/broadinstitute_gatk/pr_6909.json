{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MTk2NTI4", "number": 6909, "title": "fixed an error where the read mate key in SplitNCigarReads was not sufficiently strict about readnames causing cigar errors", "bodyText": "Fixes #6776", "createdAt": "2020-10-23T20:15:27Z", "url": "https://github.com/broadinstitute/gatk/pull/6909", "merged": true, "mergeCommit": {"oid": "249800117dbb39b235c36acac15974e643e92bdb"}, "closed": true, "closedAt": "2020-11-16T17:51:44Z", "author": {"login": "jamesemery"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXW54zAFqTUxOTk4MDYxNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcNw7BgBqjM5OTUzODY2NzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTgwNjE0", "url": "https://github.com/broadinstitute/gatk/pull/6909#pullrequestreview-519980614", "createdAt": "2020-10-29T18:56:32Z", "commit": {"oid": "091bafbe3134f402a9f6430af0a7933a5054ddaf"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo1NjozMlrOHqqPwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo1ODowMVrOHqqT7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NDQwMg==", "bodyText": "why?", "url": "https://github.com/broadinstitute/gatk/pull/6909#discussion_r514494402", "createdAt": "2020-10-29T18:56:32Z", "author": {"login": "lbergelson"}, "path": ".travis.yml", "diffHunk": "@@ -110,14 +110,14 @@ install:\n   elif [[ $TEST_DOCKER == true ]]; then\n     echo \"Skip the install because we're doing a docker build\";\n   else\n-    ./gradlew assemble;\n-    ./gradlew installDist;\n+    sudo ./gradlew assemble;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "091bafbe3134f402a9f6430af0a7933a5054ddaf"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NDg5Ng==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/broadinstitute/gatk/pull/6909#discussion_r514494896", "createdAt": "2020-10-29T18:57:07Z", "author": {"login": "lbergelson"}, "path": "src/main/java/org/broadinstitute/hellbender/tools/walkers/rnaseq/OverhangFixingManager.java", "diffHunk": "@@ -422,9 +422,11 @@ public void setMateChanged() {\n         }\n     }\n \n-    // Generates the string key to be used for\n-    private static String makeKey(String name, boolean firstOfPair, int mateStart) {\n-        return name + (firstOfPair ? 1 : 0) + mateStart;\n+    // Generates the string key to be used for storing mates that had their cigar strings changed between iterations over the input reads\n+    @VisibleForTesting\n+    static String makeKey(String name, boolean firstOfPair, int mateStart) {\n+        // NOTE: We use the '@' character here because it is explicitly forbidden for use in read names by the SAM Spec and we don't want to risk accidental matches across read pairs\n+        return name + \"@\" +  (firstOfPair ? 1 : 0) + \"@\" + mateStart;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "091bafbe3134f402a9f6430af0a7933a5054ddaf"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NTQ2OA==", "bodyText": "@jamesemery Have you tested what happens if you add a read with a @s in the name which could recreate the problem?", "url": "https://github.com/broadinstitute/gatk/pull/6909#discussion_r514495468", "createdAt": "2020-10-29T18:58:01Z", "author": {"login": "lbergelson"}, "path": "src/test/java/org/broadinstitute/hellbender/tools/walkers/rnaseq/OverhangFixingManagerUnitTest.java", "diffHunk": "@@ -201,6 +201,20 @@ public void testMappingReadMateRepair() {\n         Assert.assertEquals(read2.getMateStart(), 10003);\n     }\n \n+    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "091bafbe3134f402a9f6430af0a7933a5054ddaf"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTgyNDMy", "url": "https://github.com/broadinstitute/gatk/pull/6909#pullrequestreview-519982432", "createdAt": "2020-10-29T18:58:56Z", "commit": {"oid": "091bafbe3134f402a9f6430af0a7933a5054ddaf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85cf539307620dec6a435b748ab46203120ef931", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/85cf539307620dec6a435b748ab46203120ef931", "committedDate": "2020-10-29T19:11:54Z", "message": "and those other ones"}, "afterCommit": {"oid": "be2f8705c9e1b25de6c03366e7f7031707778134", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/be2f8705c9e1b25de6c03366e7f7031707778134", "committedDate": "2020-10-29T19:30:49Z", "message": "and those other ones"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be2f8705c9e1b25de6c03366e7f7031707778134", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/be2f8705c9e1b25de6c03366e7f7031707778134", "committedDate": "2020-10-29T19:30:49Z", "message": "and those other ones"}, "afterCommit": {"oid": "fdb6f8e14c477e180d64819bd89ee6df2219a0fa", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/fdb6f8e14c477e180d64819bd89ee6df2219a0fa", "committedDate": "2020-11-09T17:51:32Z", "message": "and those other ones"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9bb6916fe06633f73cc9735bdc2a229e05cede1", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/d9bb6916fe06633f73cc9735bdc2a229e05cede1", "committedDate": "2020-11-13T21:09:09Z", "message": "fixed an error where the read mate key in SplitNCigarReads was not sufficiently strict about readnames causing cigar errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e2af3b1bc2a660de3d1bf354faa8cee6e5fa6f3", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/4e2af3b1bc2a660de3d1bf354faa8cee6e5fa6f3", "committedDate": "2020-11-13T21:09:09Z", "message": "more poorly understood magic back to bite us"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a57b36c7836932c41138d7d1a2b1143f79153dcb", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/a57b36c7836932c41138d7d1a2b1143f79153dcb", "committedDate": "2020-11-13T21:09:09Z", "message": "more evil magic will keep sauron at bay"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e31d07e34f837bf33392a212676acf474b7bda1", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/3e31d07e34f837bf33392a212676acf474b7bda1", "committedDate": "2020-11-13T21:09:09Z", "message": "removing sudos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "034e18e6c69bc241ec43f14e879568521a631009", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/034e18e6c69bc241ec43f14e879568521a631009", "committedDate": "2020-11-13T21:09:09Z", "message": "and those other ones"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdb6f8e14c477e180d64819bd89ee6df2219a0fa", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/fdb6f8e14c477e180d64819bd89ee6df2219a0fa", "committedDate": "2020-11-09T17:51:32Z", "message": "and those other ones"}, "afterCommit": {"oid": "034e18e6c69bc241ec43f14e879568521a631009", "author": {"user": {"login": "jamesemery", "name": null}}, "url": "https://github.com/broadinstitute/gatk/commit/034e18e6c69bc241ec43f14e879568521a631009", "committedDate": "2020-11-13T21:09:09Z", "message": "and those other ones"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2528, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}