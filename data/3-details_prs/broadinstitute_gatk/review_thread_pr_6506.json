{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NTMzMTk1", "number": 6506, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyNzowOFrODpKQFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyOToxNFrODpKUFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0NDg2MTY2OnYy", "diffSide": "LEFT", "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyNzowOFrOF4KTow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyNzowOFrOF4KTow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzMzQ0Mw==", "bodyText": "Thanks for catching these!", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394433443", "createdAt": "2020-03-18T15:27:08Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -47,49 +51,50 @@ task PreprocessIntervals {\n     }\n \n     output {\n-        File preprocessed_intervals = \"${base_filename}.preprocessed.interval_list\"\n+        File preprocessed_intervals = \"~{base_filename}.preprocessed.interval_list\"\n     }\n }\n \n task AnnotateIntervals {\n-    File intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    File? mappability_track_bed\n-    File? mappability_track_bed_idx\n-    File? segmental_duplication_track_bed\n-    File? segmental_duplication_track_bed_idx\n-    Int? feature_query_lookahead\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict\n+      File? mappability_track_bed\n+      File? mappability_track_bed_idx\n+      File? segmental_duplication_track_bed\n+      File? segmental_duplication_track_bed_idx\n+      Int? feature_query_lookahead\n+      File? gatk4_jar_override\n+\n+      # Runtime parameters\n+      String gatk_docker\n+      Int? mem_gb\n+      Int? disk_space_gb\n+      Boolean use_ssd = false\n+      Int? cpu\n+      Int? preemptible_attempts\n+    }\n \n     Int machine_mem_mb = select_first([mem_gb, 2]) * 1000\n     Int command_mem_mb = machine_mem_mb - 500\n     \n     # Determine output filename\n-    String filename = select_first([intervals, \"wgs.preprocessed\"])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 124}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0NDg3MTg5OnYy", "diffSide": "RIGHT", "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyOToxNFrOF4KaJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQyMDoxODowMFrOF4VW2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ==", "bodyText": "@ldgauthier noted we could remove this over in #6506.", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394435109", "createdAt": "2020-03-18T15:29:14Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUwOTIyOA==", "bodyText": "Oops, sorry, make that the closely named #6502.", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394509228", "createdAt": "2020-03-18T17:11:56Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ=="}, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUyMTUwMA==", "bodyText": "Sorry I just want to double-check what you meant. I just dug into the code path and saw that --sequence-dictionary is no longer required if --reference is supplied. However, the dictionary itself still needs to be there, ie if you have ref.fasta, then it expects ref.fasta.dict to exist as well. @ldgauthier can you clarify?", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394521500", "createdAt": "2020-03-18T17:30:50Z", "author": {"login": "mwalker174"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ=="}, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUyMjE3OQ==", "bodyText": "Ah, that sounds right.", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394522179", "createdAt": "2020-03-18T17:31:55Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ=="}, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxNDQ4OA==", "bodyText": "Yes, it does still have to be in the input block so it gets localized since we don't implicitly localize any kind of indexes, but I see that you did take it out of the command line.  \ud83d\udc4d", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394614488", "createdAt": "2020-03-18T20:18:00Z", "author": {"login": "ldgauthier"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ=="}, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1142, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}