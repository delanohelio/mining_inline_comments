{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NTMzMTk1", "number": 6506, "title": "Upgrade CNV WDLs to 1.0 spec", "bodyText": "-Fixes broken input in somatic funcotator test\n-Removes some unused resource variable defaults\n-Adds set -u in some tasks", "createdAt": "2020-03-16T22:55:32Z", "url": "https://github.com/broadinstitute/gatk/pull/6506", "merged": true, "mergeCommit": {"oid": "00f1e43402d9c8c195de383248099399f261e2cc"}, "closed": true, "closedAt": "2020-03-18T19:16:22Z", "author": {"login": "mwalker174"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOR4pggH2gAyMzg5NTMzMTk1OjdmODRhN2I2YWZhYjM5NzEyZGEyMTMzZGE2ZDMyZGE4NTQ0YWMwYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO60degH2gAyMzg5NTMzMTk1OmYzNTdkNDA5ZTkxMWM2Y2VmMjU3NGJiYjdkNDllNjExNjIyYTE1MDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f84a7b6afab39712da2133da6d32da8544ac0b2", "author": {"user": {"login": "mwalker174", "name": "Mark Walker"}}, "url": "https://github.com/broadinstitute/gatk/commit/7f84a7b6afab39712da2133da6d32da8544ac0b2", "committedDate": "2020-03-16T17:51:17Z", "message": "Upgrade CNV wdls to 1.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e6e54b95792858a0cd3c3c773ac54211d7e08ce", "author": {"user": {"login": "mwalker174", "name": "Mark Walker"}}, "url": "https://github.com/broadinstitute/gatk/commit/7e6e54b95792858a0cd3c3c773ac54211d7e08ce", "committedDate": "2020-03-16T17:51:17Z", "message": "Fix some dollar signs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2", "author": {"user": {"login": "mwalker174", "name": "Mark Walker"}}, "url": "https://github.com/broadinstitute/gatk/commit/fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2", "committedDate": "2020-03-16T20:12:46Z", "message": "Fix funcotator json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2OTc1Mjgz", "url": "https://github.com/broadinstitute/gatk/pull/6506#pullrequestreview-376975283", "createdAt": "2020-03-18T15:27:07Z", "commit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyNzowOFrOF4KTow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNToyOToxNFrOF4KaJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzMzQ0Mw==", "bodyText": "Thanks for catching these!", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394433443", "createdAt": "2020-03-18T15:27:08Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -47,49 +51,50 @@ task PreprocessIntervals {\n     }\n \n     output {\n-        File preprocessed_intervals = \"${base_filename}.preprocessed.interval_list\"\n+        File preprocessed_intervals = \"~{base_filename}.preprocessed.interval_list\"\n     }\n }\n \n task AnnotateIntervals {\n-    File intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    File? mappability_track_bed\n-    File? mappability_track_bed_idx\n-    File? segmental_duplication_track_bed\n-    File? segmental_duplication_track_bed_idx\n-    Int? feature_query_lookahead\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict\n+      File? mappability_track_bed\n+      File? mappability_track_bed_idx\n+      File? segmental_duplication_track_bed\n+      File? segmental_duplication_track_bed_idx\n+      Int? feature_query_lookahead\n+      File? gatk4_jar_override\n+\n+      # Runtime parameters\n+      String gatk_docker\n+      Int? mem_gb\n+      Int? disk_space_gb\n+      Boolean use_ssd = false\n+      Int? cpu\n+      Int? preemptible_attempts\n+    }\n \n     Int machine_mem_mb = select_first([mem_gb, 2]) * 1000\n     Int command_mem_mb = machine_mem_mb - 500\n     \n     # Determine output filename\n-    String filename = select_first([intervals, \"wgs.preprocessed\"])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzNTEwOQ==", "bodyText": "@ldgauthier noted we could remove this over in #6506.", "url": "https://github.com/broadinstitute/gatk/pull/6506#discussion_r394435109", "createdAt": "2020-03-18T15:29:14Z", "author": {"login": "samuelklee"}, "path": "scripts/cnv_wdl/cnv_common_tasks.wdl", "diffHunk": "@@ -1,20 +1,24 @@\n+version 1.0\n+\n task PreprocessIntervals {\n-    File? intervals\n-    File? blacklist_intervals\n-    File ref_fasta\n-    File ref_fasta_fai\n-    File ref_fasta_dict\n-    Int? padding\n-    Int? bin_length\n-    File? gatk4_jar_override\n-\n-    # Runtime parameters\n-    String gatk_docker\n-    Int? mem_gb\n-    Int? disk_space_gb\n-    Boolean use_ssd = false\n-    Int? cpu\n-    Int? preemptible_attempts\n+    input {\n+      File? intervals\n+      File? blacklist_intervals\n+      File ref_fasta\n+      File ref_fasta_fai\n+      File ref_fasta_dict", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8c1ae8a4fd128c4603c9a8f8416b4af0de42e2"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f357d409e911c6cef2574bbb7d49e611622a1504", "author": {"user": {"login": "mwalker174", "name": "Mark Walker"}}, "url": "https://github.com/broadinstitute/gatk/commit/f357d409e911c6cef2574bbb7d49e611622a1504", "committedDate": "2020-03-18T17:32:49Z", "message": "Remove unnecessary --sequence-dictionary arg in PreprocessIntervals"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2809, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}