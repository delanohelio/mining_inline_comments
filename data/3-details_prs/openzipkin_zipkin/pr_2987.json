{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMDIzNjMx", "number": 2987, "title": "Read base tag in zipkin-lens to allow reverse proxies.", "bodyText": "I was tricked that #2982 works because dev server returns bundles fine regardless of URL but realized that for the actual build the base tag is important for loading bundles.\nThis extracts base path from the base tag like before and sets up routing with it as the basename. This allows all links in the site to just have the subpath, without /zipkin.\nI have verified with @jorgheymans apache configuration that it works.\nFixes #2519\nNote URL bar:", "createdAt": "2020-02-26T05:57:01Z", "url": "https://github.com/openzipkin/zipkin/pull/2987", "merged": true, "mergeCommit": {"oid": "d113877064dc2f45201aa1fc64a0cb5555d29889"}, "closed": true, "closedAt": "2020-02-26T08:11:49Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIAP87AH2gAyMzgwMDIzNjMxOjlhZWJmMjA1MTZlMmI5ZDBjNDBlNGM1NTZiOTA1YzUyNGJkZmMzODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIBqveAH2gAyMzgwMDIzNjMxOmE5N2YxYTNiZTdmNGI0NzMyMjEzYmZjZTAzYTVhNGQzZWNjYmE0MWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9aebf20516e2b9d0c40e4c556b905c524bdfc382", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/9aebf20516e2b9d0c40e4c556b905c524bdfc382", "committedDate": "2020-02-26T05:54:54Z", "message": "Read base tag in zipkin-lens to allow reverse proxies."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NjM5NzM2", "url": "https://github.com/openzipkin/zipkin/pull/2987#pullrequestreview-364639736", "createdAt": "2020-02-26T06:01:01Z", "commit": {"oid": "9aebf20516e2b9d0c40e4c556b905c524bdfc382"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNjowMTowMlrOFufIBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNjowMTowMlrOFufIBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI4ODc3Mw==", "bodyText": "nice comment!", "url": "https://github.com/openzipkin/zipkin/pull/2987#discussion_r384288773", "createdAt": "2020-02-26T06:01:02Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-server/src/main/java/zipkin2/server/internal/ui/ZipkinUiConfiguration.java", "diffHunk": "@@ -176,8 +168,10 @@ static String maybeResource(String basePath, Resource resource) throws IOExcepti\n       if (DEFAULT_BASEPATH.equals(basePath)) return content;\n \n       String baseTagValue = \"/\".equals(basePath) ? \"/\" : basePath + \"/\";\n+      // html-webpack-plugin seems to strip out quotes from the base tag when compiling so be", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9aebf20516e2b9d0c40e4c556b905c524bdfc382"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "723f686fcbd57ef06a59c3862650162b3b0e3c8a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/723f686fcbd57ef06a59c3862650162b3b0e3c8a", "committedDate": "2020-02-26T06:02:17Z", "message": "lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0f5185ed5440b661eb1bd1c747fb5b20553813f", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/a0f5185ed5440b661eb1bd1c747fb5b20553813f", "committedDate": "2020-02-26T06:07:21Z", "message": "Fix traceViewer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1abf4f0a95200cd12f1745f343f2d5e443ef97b6", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/1abf4f0a95200cd12f1745f343f2d5e443ef97b6", "committedDate": "2020-02-26T06:42:42Z", "message": "More tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cd4edbc242fe897d102455ffde1c28280e06e90", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/8cd4edbc242fe897d102455ffde1c28280e06e90", "committedDate": "2020-02-26T07:13:39Z", "message": "Drift"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a97f1a3be7f4b4732213bfce03a5a4d3eccba41f", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/a97f1a3be7f4b4732213bfce03a5a4d3eccba41f", "committedDate": "2020-02-26T07:34:04Z", "message": "Missing license"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1591, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}