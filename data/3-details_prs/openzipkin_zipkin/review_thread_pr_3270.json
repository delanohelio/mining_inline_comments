{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyOTQxMzEz", "number": 3270, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMTo0ODowNVrOEzwhhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMTo0ODo1MVrOEzwing==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzA3ODQ0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/docker-tests.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMTo0ODowNVrOHrLqvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0NTo0N1rOHrPsQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA0MTk4Mw==", "bodyText": "@odidev when this PR merges, it should be ready to build on arm64. However, I don't know currently how to get the github action syntax to do a double-matrix (ex focal with amd64,arm64 against the docker image list)", "url": "https://github.com/openzipkin/zipkin/pull/3270#discussion_r515041983", "createdAt": "2020-10-30T11:48:05Z", "author": {"login": "codefromthecrypt"}, "path": ".github/workflows/docker-tests.yml", "diffHunk": "@@ -46,7 +46,7 @@ jobs:\n         with:\n           fetch-depth: 1\n       - name: Build Docker image openzipkin/${{ matrix.target }}:test\n-        run:  docker/build_image ${{ matrix.target }}\n+        run:  docker/build_image openzipkin/${{ matrix.target }}:test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32503703cb5970d9417ee9cf02d4f6a0cec9915"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MjU3OA==", "bodyText": "@adriancole\nThanks for the PR. Once this is merged we can add in Travis as it is faster for ARM64 with graviton2 in it. If you are ok with this, I can add and raise PR.", "url": "https://github.com/openzipkin/zipkin/pull/3270#discussion_r515072578", "createdAt": "2020-10-30T12:47:25Z", "author": {"login": "odidev"}, "path": ".github/workflows/docker-tests.yml", "diffHunk": "@@ -46,7 +46,7 @@ jobs:\n         with:\n           fetch-depth: 1\n       - name: Build Docker image openzipkin/${{ matrix.target }}:test\n-        run:  docker/build_image ${{ matrix.target }}\n+        run:  docker/build_image openzipkin/${{ matrix.target }}:test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA0MTk4Mw=="}, "originalCommit": {"oid": "b32503703cb5970d9417ee9cf02d4f6a0cec9915"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwNzkwNw==", "bodyText": "at the moment we'll still need amd64 though at least on master branch, I think.. because that needs to do multi-arch push now. keep that in mind.\nat any rate, yep help appreciated!", "url": "https://github.com/openzipkin/zipkin/pull/3270#discussion_r515107907", "createdAt": "2020-10-30T13:45:47Z", "author": {"login": "codefromthecrypt"}, "path": ".github/workflows/docker-tests.yml", "diffHunk": "@@ -46,7 +46,7 @@ jobs:\n         with:\n           fetch-depth: 1\n       - name: Build Docker image openzipkin/${{ matrix.target }}:test\n-        run:  docker/build_image ${{ matrix.target }}\n+        run:  docker/build_image openzipkin/${{ matrix.target }}:test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA0MTk4Mw=="}, "originalCommit": {"oid": "b32503703cb5970d9417ee9cf02d4f6a0cec9915"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzA4MTI2OnYy", "diffSide": "RIGHT", "path": "docker/bin/install.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMTo0ODo1MVrOHrLsTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMTo0ODo1MVrOHrLsTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA0MjM4Mw==", "bodyText": "this cost a long time to figure out", "url": "https://github.com/openzipkin/zipkin/pull/3270#discussion_r515042383", "createdAt": "2020-10-30T11:48:51Z", "author": {"login": "codefromthecrypt"}, "path": "docker/bin/install.sh", "diffHunk": "@@ -23,6 +23,10 @@ if [ \"$RELEASE_FROM_CONTEXT\" = \"true\" ]; then\n   cp /code/zipkin-slim.jar zipkin-slim.jar\n elif [ \"$RELEASE_VERSION\" = \"master\" ]; then\n   echo \"*** Building from source...\"\n+\n+  # Defensively avoid arm64+alpine problems with posix_spawn\n+  export MAVEN_OPTS=\"-Djdk.lang.Process.launchMechanism=vfork\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32503703cb5970d9417ee9cf02d4f6a0cec9915"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1075, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}