{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyODA2Nzg2", "number": 3002, "title": "Migrate from react-intl to linguijs.", "bodyText": "I originally used react-intl for localization since I've used it before and it's fairly common. However, when looking into migrating to create-react-app, I found react-intl doesn't work very well with it. While not a blocker, I looked around for alternatives and found LinguiJS, and I find it is better designed by providing very powerful macros. Also, initializing the i18n provider is far more intuitive (I didn't understand why I have to be the one to find out what messages to provide to react-intl...)\nA comparison with react-intl - https://lingui.js.org/misc/react-intl.html\nOne thing I particularly like is linguijs supports patterns of using the source text itself as a message ID in addition to explicit IDs.\nhttps://lingui.js.org/tutorials/react.html#message-id\nAs it says, the decision for one or the other is case-by-case. I think Zipkin is not YouTube, we don't have that many strings and the chance of having two strings with the same English but different translations (due to context differences) is very low that we don't have to worry about it. By using source language, our markup becomes easier to read (no importing in from a separate messages module) and more concise.\nAside: it's quite fun being able to make this change without updating any test files!", "createdAt": "2020-03-03T08:19:07Z", "url": "https://github.com/openzipkin/zipkin/pull/3002", "merged": true, "mergeCommit": {"oid": "fe3341e59c456c55745ee5891838f3aa5297a4fc"}, "closed": true, "closedAt": "2020-03-03T09:13:54Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ90b4gH2gAyMzgyODA2Nzg2OjlkNTcyNmQwZTczNWRhMTdhNGIwMmZkZWZkMGRmOTQwMGU4MDIwNjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJ-kGqgFqTM2Nzc5OTkwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9d5726d0e735da17a4b02fdefd0df9400e802064", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/openzipkin/zipkin/commit/9d5726d0e735da17a4b02fdefd0df9400e802064", "committedDate": "2020-03-03T08:12:53Z", "message": "Migrate from react-intl to linguijs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3Nzk5OTAy", "url": "https://github.com/openzipkin/zipkin/pull/3002#pullrequestreview-367799902", "createdAt": "2020-03-03T09:01:12Z", "commit": {"oid": "9d5726d0e735da17a4b02fdefd0df9400e802064"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwOTowMToxM1rOFw9JlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwOTowNDo0M1rOFw9Qxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg3Nzg0NA==", "bodyText": "neat", "url": "https://github.com/openzipkin/zipkin/pull/3002#discussion_r386877844", "createdAt": "2020-03-03T09:01:13Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-lens/src/components/App/LanguageSelector.jsx", "diffHunk": "@@ -72,7 +71,7 @@ const LanguageSelector = () => {\n   return (\n     <>\n       <SidebarMenu\n-        title={intl.formatMessage(messages.changeLanguage)}\n+        title={i18n._(t`Change Language`)}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d5726d0e735da17a4b02fdefd0df9400e802064"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg3OTY4Ng==", "bodyText": "this fake tag thing is neat", "url": "https://github.com/openzipkin/zipkin/pull/3002#discussion_r386879686", "createdAt": "2020-03-03T09:04:43Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-lens/src/components/DependenciesPage/DependenciesPageHeader.jsx", "diffHunk": "@@ -84,13 +84,13 @@ const DependenciesPageHeader = React.memo(({\n   onFindButtonClick,\n }) => {\n   const classes = useStyles();\n-  const intl = useIntl();\n+  const { i18n } = useLingui();\n \n   return (\n     <Box className={classes.root}>\n       <Box className={classes.upperBox}>\n         <Typography variant=\"h5\" className={classes.pageTitle}>\n-          {intl.formatMessage(messages.dependencies)}\n+          <Trans>Dependencies</Trans>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d5726d0e735da17a4b02fdefd0df9400e802064"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1597, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}