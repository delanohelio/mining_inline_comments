{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MDQzMDIx", "number": 3170, "title": "Chatty chatty kaf ka", "bodyText": "before:\n2020-08-08 17:12:26.488  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.ConsumerConfig                 : ConsumerConfig values: \n\tallow.auto.create.topics = true\n\tauto.commit.interval.ms = 5000\n\tauto.offset.reset = earliest\n\tbootstrap.servers = [localhost:9092]\n\tcheck.crcs = true\n\tclient.dns.lookup = default\n\tclient.id = \n\tclient.rack = \n\tconnections.max.idle.ms = 540000\n\tdefault.api.timeout.ms = 60000\n\tenable.auto.commit = true\n\texclude.internal.topics = true\n\tfetch.max.bytes = 52428800\n\tfetch.max.wait.ms = 500\n\tfetch.min.bytes = 1\n\tgroup.id = zipkin\n\tgroup.instance.id = null\n\theartbeat.interval.ms = 3000\n\tinterceptor.classes = []\n\tinternal.leave.group.on.close = true\n\tisolation.level = read_uncommitted\n\tkey.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n\tmax.partition.fetch.bytes = 1048576\n\tmax.poll.interval.ms = 300000\n\tmax.poll.records = 500\n\tmetadata.max.age.ms = 300000\n\tmetric.reporters = []\n\tmetrics.num.samples = 2\n\tmetrics.recording.level = INFO\n\tmetrics.sample.window.ms = 30000\n\tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n\treceive.buffer.bytes = 65536\n\treconnect.backoff.max.ms = 1000\n\treconnect.backoff.ms = 50\n\trequest.timeout.ms = 30000\n\tretry.backoff.ms = 100\n\tsasl.client.callback.handler.class = null\n\tsasl.jaas.config = null\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\n\tsasl.kerberos.min.time.before.relogin = 60000\n\tsasl.kerberos.service.name = null\n\tsasl.kerberos.ticket.renew.jitter = 0.05\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\n\tsasl.login.callback.handler.class = null\n\tsasl.login.class = null\n\tsasl.login.refresh.buffer.seconds = 300\n\tsasl.login.refresh.min.period.seconds = 60\n\tsasl.login.refresh.window.factor = 0.8\n\tsasl.login.refresh.window.jitter = 0.05\n\tsasl.mechanism = GSSAPI\n\tsecurity.protocol = PLAINTEXT\n\tsecurity.providers = null\n\tsend.buffer.bytes = 131072\n\tsession.timeout.ms = 10000\n\tssl.cipher.suites = null\n\tssl.enabled.protocols = [TLSv1.2]\n\tssl.endpoint.identification.algorithm = https\n\tssl.key.password = null\n\tssl.keymanager.algorithm = SunX509\n\tssl.keystore.location = null\n\tssl.keystore.password = null\n\tssl.keystore.type = JKS\n\tssl.protocol = TLSv1.2\n\tssl.provider = null\n\tssl.secure.random.implementation = null\n\tssl.trustmanager.algorithm = PKIX\n\tssl.truststore.location = null\n\tssl.truststore.password = null\n\tssl.truststore.type = JKS\n\tvalue.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n\n2020-08-08 17:12:26.615  INFO 40398 --- [pool-3-thread-1] o.a.k.c.u.AppInfoParser                  : Kafka version: 2.5.0\n2020-08-08 17:12:26.615  INFO 40398 --- [pool-3-thread-1] o.a.k.c.u.AppInfoParser                  : Kafka commitId: 66563e712b0b9f84\n2020-08-08 17:12:26.615  INFO 40398 --- [pool-3-thread-1] o.a.k.c.u.AppInfoParser                  : Kafka startTimeMs: 1596899546612\n2020-08-08 17:12:26.618  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.KafkaConsumer                  : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Subscribed to topic(s): zipkin\n2020-08-08 17:12:26.618  INFO 40398 --- [pool-3-thread-1] z.c.k.KafkaCollectorWorker               : Kafka consumer starting polling loop.\n2020-08-08 17:12:26.946  INFO 40398 --- [pool-3-thread-1] o.a.k.c.Metadata                         : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Cluster ID: 6mHEyw6BSey-uVSvgxPSXw\n2020-08-08 17:12:26.947  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.AbstractCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Discovered group coordinator heymjo-XPS-13-9370:9092 (id: 2147483647 rack: null)\n2020-08-08 17:12:26.950  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.AbstractCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] (Re-)joining group\n2020-08-08 17:12:26.959  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.AbstractCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n2020-08-08 17:12:26.960  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.AbstractCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] (Re-)joining group\n2020-08-08 17:12:26.965  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.ConsumerCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Finished assignment for group at generation 25: {consumer-zipkin-1-44ed1d78-c3e5-4ff1-b38c-6be96e6eb6ca=Assignment(partitions=[zipkin-0])}\n2020-08-08 17:12:26.969  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.AbstractCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Successfully joined group with generation 25\n2020-08-08 17:12:26.974  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.ConsumerCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Adding newly assigned partitions: zipkin-0\n2020-08-08 17:12:26.989  INFO 40398 --- [pool-3-thread-1] o.a.k.c.c.i.ConsumerCoordinator          : [Consumer clientId=consumer-zipkin-1, groupId=zipkin] Setting offset for partition zipkin-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[heymjo-XPS-13-9370:9092 (id: 0 rack: null)], epoch=0}}\n2020-08-08 17:12:27.230  INFO 40398 --- [oss-http-*:9411] c.l.a.s.Server                           : Serving HTTP at /0:0:0:0:0:0:0:0%0:9411 - http://127.0.0.1:9411/\n\nafter\n2020-08-08 17:14:37.386  INFO 40774 --- [pool-3-thread-1] z.c.k.KafkaCollectorWorker               : Kafka consumer starting polling loop for topic [zipkin]\n2020-08-08 17:14:37.999  INFO 40774 --- [oss-http-*:9411] c.l.a.s.Server                           : Serving HTTP at /0:0:0:0:0:0:0:0%0:9411 - http://127.0.0.1:9411/\n\nFixes #3158", "createdAt": "2020-08-08T15:26:59Z", "url": "https://github.com/openzipkin/zipkin/pull/3170", "merged": true, "mergeCommit": {"oid": "9f2038dc5fea16fb07f34b4a73896ef0bb79bc1a"}, "closed": true, "closedAt": "2020-08-10T20:15:27Z", "author": {"login": "jorgheymans"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4YbyjgH2gAyNDY1MDQzMDIxOjUxYThhNTM1NzhmNGM0NGQ3NDU4ZDhiNjgyOTM3Y2ZhNmZiY2ExMTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9kowtAH2gAyNDY1MDQzMDIxOmY4MTg0OThjMTI1OTMxNWMyZDg5Y2Y3NDc1NjFmM2U2ODVlNzhjODk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "51a8a53578f4c44d7458d8b682937cfa6fbca111", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/51a8a53578f4c44d7458d8b682937cfa6fbca111", "committedDate": "2020-07-25T13:13:55Z", "message": "add note about handling retention"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af182b80ba2a5a05272c0897acbbe17fbf6187df", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/af182b80ba2a5a05272c0897acbbe17fbf6187df", "committedDate": "2020-07-25T13:17:48Z", "message": "Merge pull request #2 from openzipkin/elastic-retention\n\nadd note about handling retention"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9b8603bb2727c25f4792ffe84e012728115e5a0", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/b9b8603bb2727c25f4792ffe84e012728115e5a0", "committedDate": "2020-07-29T10:01:59Z", "message": "Merge branch 'master' of https://github.com/jorgheymans/zipkin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13b5ee021dde3010dfec18bd21b3847f87e849e2", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/13b5ee021dde3010dfec18bd21b3847f87e849e2", "committedDate": "2020-08-08T07:17:45Z", "message": "Merge branch 'master' of https://github.com/openzipkin/zipkin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a48e15d0f3b5e040006dd17819b04a6d83d9d8d4", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/a48e15d0f3b5e040006dd17819b04a6d83d9d8d4", "committedDate": "2020-08-08T15:17:08Z", "message": "- switch off Kafka logging\n- add note about how to enable it\n- make the Worker also log the topic name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzODM2NjU4", "url": "https://github.com/openzipkin/zipkin/pull/3170#pullrequestreview-463836658", "createdAt": "2020-08-09T01:36:43Z", "commit": {"oid": "a48e15d0f3b5e040006dd17819b04a6d83d9d8d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTE4MzY5", "url": "https://github.com/openzipkin/zipkin/pull/3170#pullrequestreview-463918369", "createdAt": "2020-08-10T00:28:10Z", "commit": {"oid": "a48e15d0f3b5e040006dd17819b04a6d83d9d8d4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwMDoyODoxMFrOG9-_OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwMDoyODoxMFrOG9-_OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY0ODMxMw==", "bodyText": "since we're using a log line anyway, should we say the boostrap servers (either from init or something the driver says)? also, do we support multiple topics now? if so \"for topics\"", "url": "https://github.com/openzipkin/zipkin/pull/3170#discussion_r467648313", "createdAt": "2020-08-10T00:28:10Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-collector/kafka/src/main/java/zipkin2/collector/kafka/KafkaCollectorWorker.java", "diffHunk": "@@ -83,7 +83,7 @@ public void onPartitionsAssigned(Collection<TopicPartition> partitions) {\n             assignedPartitions.set(Collections.unmodifiableList(new ArrayList<>(partitions)));\n           }\n         });\n-      LOG.info(\"Kafka consumer starting polling loop.\");\n+      LOG.info(\"Kafka consumer starting polling loop for topic {}\", topics);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48e15d0f3b5e040006dd17819b04a6d83d9d8d4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f818498c1259315c2d89cf747561f3e685e78c89", "author": {"user": {"login": "jorgheymans", "name": "Jorg Heymans"}}, "url": "https://github.com/openzipkin/zipkin/commit/f818498c1259315c2d89cf747561f3e685e78c89", "committedDate": "2020-08-10T16:16:34Z", "message": "remove topic in log line, troubleshooting configuration should be done by raising the log level."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1494, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}