{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNDIyNjc2", "number": 3182, "title": "Slims down Kafka by removing libs only needed for streams and connect", "bodyText": "This takes another 33M off the image (which is half its size over our base image)\nopenzipkin/zipkin-kafka       test                    3513b24c41c6        6 minutes ago       133MB\nopenzipkin/zipkin-kafka       latest                  6bf053880509        2 weeks ago         166MB", "createdAt": "2020-08-21T05:56:37Z", "url": "https://github.com/openzipkin/zipkin/pull/3182", "merged": true, "mergeCommit": {"oid": "674eca80e16121a98adb2831a22b839d07785ade"}, "closed": true, "closedAt": "2020-08-24T03:43:36Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdA-X7SgFqTQ3MjE2MjQ5NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdB3hpCgH2gAyNDcxNDIyNjc2OmYwZTQzMTE4ZmE0YzM0NWFiMjY5OGVlOGU0Njk3M2Y0MWRkYzg1ODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTYyNDk1", "url": "https://github.com/openzipkin/zipkin/pull/3182#pullrequestreview-472162495", "createdAt": "2020-08-21T05:57:28Z", "commit": {"oid": "50873dd0bbd6aa4fd495659d45e90647cb6045a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNTo1NzoyOVrOHEcj5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNTo1NzoyOVrOHEcj5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQyNDI5NQ==", "bodyText": "we could simplify downloads further by inlining shell scripts and log config, but I think it is not an issue really", "url": "https://github.com/openzipkin/zipkin/pull/3182#discussion_r474424295", "createdAt": "2020-08-21T05:57:29Z", "author": {"login": "codefromthecrypt"}, "path": "docker/collector/kafka/install.sh", "diffHunk": "@@ -16,9 +16,7 @@\n set -eux\n \n echo \"*** Installing Kafka and dependencies\"\n-apk add --update --no-cache jq curl\n-\n-APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 | jq -r '.preferred')\n+APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 |sed -n '/preferred/s/.*\"\\(.*\\)\"/\\1/gp')\n \n # download kafka binaries\n curl -sSL $APACHE_MIRROR/kafka/$KAFKA_VERSION/kafka_$SCALA_VERSION-$KAFKA_VERSION.tgz | tar xz", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50873dd0bbd6aa4fd495659d45e90647cb6045a0"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTY1NTk4", "url": "https://github.com/openzipkin/zipkin/pull/3182#pullrequestreview-472165598", "createdAt": "2020-08-21T06:05:56Z", "commit": {"oid": "50873dd0bbd6aa4fd495659d45e90647cb6045a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTkzNzgz", "url": "https://github.com/openzipkin/zipkin/pull/3182#pullrequestreview-472193783", "createdAt": "2020-08-21T06:23:15Z", "commit": {"oid": "50873dd0bbd6aa4fd495659d45e90647cb6045a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoyMzoxNVrOHEdCvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoyMzoxNVrOHEdCvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQzMjE5MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 |sed -n '/preferred/s/.*\"\\(.*\\)\"/\\1/gp')\n          \n          \n            \n            APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 | sed -n '/preferred/s/.*\"\\(.*\\)\"/\\1/gp')", "url": "https://github.com/openzipkin/zipkin/pull/3182#discussion_r474432191", "createdAt": "2020-08-21T06:23:15Z", "author": {"login": "codefromthecrypt"}, "path": "docker/collector/kafka/install.sh", "diffHunk": "@@ -16,9 +16,7 @@\n set -eux\n \n echo \"*** Installing Kafka and dependencies\"\n-apk add --update --no-cache jq curl\n-\n-APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 | jq -r '.preferred')\n+APACHE_MIRROR=$(curl --stderr /dev/null https://www.apache.org/dyn/closer.cgi\\?as_json\\=1 |sed -n '/preferred/s/.*\"\\(.*\\)\"/\\1/gp')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50873dd0bbd6aa4fd495659d45e90647cb6045a0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca30e0093748e0005fc36b7ab4216559004e1b46", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/ca30e0093748e0005fc36b7ab4216559004e1b46", "committedDate": "2020-08-23T00:23:05Z", "message": "Slims down Kafka by removing libs only needed for streams and connect\n\nThis takes another 33M off the image (which is half its size over our base image)\n\n```\nopenzipkin/zipkin-kafka       test                    3513b24c41c6        6 minutes ago       133MB\nopenzipkin/zipkin-kafka       latest                  6bf053880509        2 weeks ago         166MB\n```"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d08b9de32012d5ee78877a44f8f5bc6dd6624952", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/d08b9de32012d5ee78877a44f8f5bc6dd6624952", "committedDate": "2020-08-23T00:23:05Z", "message": "Update docker/collector/kafka/install.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed4fc37720860940570a118cee582837f910b3bf", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/ed4fc37720860940570a118cee582837f910b3bf", "committedDate": "2020-08-23T01:19:09Z", "message": "massive cleanups"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f79f8dd7a465d0aef785498afcf5b54a0860703c", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/f79f8dd7a465d0aef785498afcf5b54a0860703c", "committedDate": "2020-08-21T06:23:20Z", "message": "Update docker/collector/kafka/install.sh"}, "afterCommit": {"oid": "ed4fc37720860940570a118cee582837f910b3bf", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/ed4fc37720860940570a118cee582837f910b3bf", "committedDate": "2020-08-23T01:19:09Z", "message": "massive cleanups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0e43118fa4c345ab2698ee8e46973f41ddc8587", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/f0e43118fa4c345ab2698ee8e46973f41ddc8587", "committedDate": "2020-08-24T00:32:41Z", "message": "updates comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1514, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}