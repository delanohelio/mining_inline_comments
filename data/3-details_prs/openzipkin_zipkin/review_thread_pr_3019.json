{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NTYwOTU1", "number": 3019, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMDowNVrODm_JyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMTo1NlrODm_MKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjA3MTc3OnYy", "diffSide": "RIGHT", "path": "zipkin-server/src/main/java/zipkin2/server/internal/ZipkinQueryApiV2.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMDowNVrOF0uDuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMDowNVrOF0uDuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgyNDg4OA==", "bodyText": "bug", "url": "https://github.com/openzipkin/zipkin/pull/3019#discussion_r390824888", "createdAt": "2020-03-11T09:00:05Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-server/src/main/java/zipkin2/server/internal/ZipkinQueryApiV2.java", "diffHunk": "@@ -153,7 +153,7 @@ public AggregatedHttpResponse getTraces(\n   public AggregatedHttpResponse getTrace(@Param(\"traceId\") String traceId) throws IOException {\n     traceId = Span.normalizeTraceId(traceId);\n     List<Span> trace = storage.traces().getTrace(traceId).execute();\n-    if (trace == null) {\n+    if (trace.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df8fbedf7b2e3f9a8ee00b86554e6ca50aac0ee1"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjA3MzAyOnYy", "diffSide": "RIGHT", "path": "zipkin-tests/src/main/java/zipkin2/storage/ITDependencies.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMDozMVrOF0uEkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMDozMVrOF0uEkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgyNTEwNg==", "bodyText": "deprecated for a really long alternative!", "url": "https://github.com/openzipkin/zipkin/pull/3019#discussion_r390825106", "createdAt": "2020-03-11T09:00:31Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin-tests/src/main/java/zipkin2/storage/ITDependencies.java", "diffHunk": "@@ -77,19 +77,19 @@ protected void processDependencies(List<Span> spans) throws Exception {\n    * Normally, the root-span is where trace id == span id and parent id == null. The default is to\n    * look back one day from today.\n    */\n-  @Test void getDependencies() throws Exception {\n+  @Test protected void getDependencies() throws Exception {\n     processDependencies(TRACE);\n \n     assertThat(store().getDependencies(TRACE_ENDTS, DAY).execute())\n-      .containsOnlyElementsOf(LINKS);\n+      .containsExactlyInAnyOrderElementsOf(LINKS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df8fbedf7b2e3f9a8ee00b86554e6ca50aac0ee1"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjA3Njc2OnYy", "diffSide": "RIGHT", "path": "zipkin/src/main/java/zipkin2/internal/TracesAdapter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMTozNVrOF0uG9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMTozNVrOF0uG9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgyNTcxOA==", "bodyText": "bug", "url": "https://github.com/openzipkin/zipkin/pull/3019#discussion_r390825718", "createdAt": "2020-03-11T09:01:35Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin/src/main/java/zipkin2/internal/TracesAdapter.java", "diffHunk": "@@ -67,7 +67,7 @@ public TracesAdapter(SpanStore spanStore) {\n     }\n \n     @Override protected void append(List<Span> input, List<List<Span>> output) {\n-      output.add(input);\n+      if (!input.isEmpty()) output.add(input);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df8fbedf7b2e3f9a8ee00b86554e6ca50aac0ee1"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjA3Nzg2OnYy", "diffSide": "LEFT", "path": "zipkin/src/main/java/zipkin2/storage/InMemoryStorage.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMTo1NlrOF0uHoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOTowMTo1NlrOF0uHoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgyNTg4OQ==", "bodyText": "unnecessary intellij caught this and it was correct", "url": "https://github.com/openzipkin/zipkin/pull/3019#discussion_r390825889", "createdAt": "2020-03-11T09:01:56Z", "author": {"login": "codefromthecrypt"}, "path": "zipkin/src/main/java/zipkin2/storage/InMemoryStorage.java", "diffHunk": "@@ -369,7 +369,7 @@ private int deleteOldestTrace() {\n   @Override public synchronized Call<List<Span>> getTrace(String traceId) {\n     traceId = Span.normalizeTraceId(traceId);\n     List<Span> spans = spansByTraceId(lowTraceId(traceId));\n-    if (spans == null || spans.isEmpty()) return Call.emptyList();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df8fbedf7b2e3f9a8ee00b86554e6ca50aac0ee1"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1321, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}