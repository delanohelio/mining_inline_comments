{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MzE2Nzcy", "number": 3219, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwNzo0MDo1MFrOEo6EHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwNzo0MDo1MFrOEo6EHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMzI5ODIyOnYy", "diffSide": "LEFT", "path": "docker/Dockerfile", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwNzo0MDo1MFrOHaRDDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwNzo1Mjo1MlrOHaRdtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwNDMzMw==", "bodyText": "I couldn't see where this layer was used..", "url": "https://github.com/openzipkin/zipkin/pull/3219#discussion_r497304333", "createdAt": "2020-09-30T07:40:50Z", "author": {"login": "codefromthecrypt"}, "path": "docker/Dockerfile", "diffHunk": "@@ -35,11 +35,6 @@ RUN ./mvnw -q --batch-mode -DskipTests --also-make -pl zipkin-server install\n RUN mkdir -p /zipkin && cp zipkin-server/target/zipkin-server-*-exec.jar /zipkin && cd /zipkin && jar xf *.jar && rm *.jar\n RUN mkdir -p /zipkin-slim && cp zipkin-server/target/zipkin-server-*-slim.jar /zipkin-slim && cd /zipkin-slim && jar xf *.jar && rm *.jar\n \n-FROM maven:3-openjdk-14-slim as zipkin-builder", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b84bb5f079e1fed083415ce7db8631704f952a11"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwNjI1MA==", "bodyText": "It's used here in a hook\n\n  \n    \n      zipkin/docker/hooks/post_push\n    \n    \n         Line 38\n      in\n      206abbc\n    \n    \n    \n    \n\n        \n          \n           docker build -f \"$DOCKERFILE_PATH\" -t openzipkin/zipkin-builder --target zipkin-builder . \n        \n    \n  \n\n\nIt's the only way to have these cache across builds with docker hub that I could find.", "url": "https://github.com/openzipkin/zipkin/pull/3219#discussion_r497306250", "createdAt": "2020-09-30T07:44:17Z", "author": {"login": "anuraaga"}, "path": "docker/Dockerfile", "diffHunk": "@@ -35,11 +35,6 @@ RUN ./mvnw -q --batch-mode -DskipTests --also-make -pl zipkin-server install\n RUN mkdir -p /zipkin && cp zipkin-server/target/zipkin-server-*-exec.jar /zipkin && cd /zipkin && jar xf *.jar && rm *.jar\n RUN mkdir -p /zipkin-slim && cp zipkin-server/target/zipkin-server-*-slim.jar /zipkin-slim && cd /zipkin-slim && jar xf *.jar && rm *.jar\n \n-FROM maven:3-openjdk-14-slim as zipkin-builder", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwNDMzMw=="}, "originalCommit": {"oid": "b84bb5f079e1fed083415ce7db8631704f952a11"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMxMTE1OA==", "bodyText": "ic, I was actually wondering why we are explicitly caching in the image when we can do stuff like that in travis and github actions..\nsomething to think about, and don't have a better plan at the moment. it is a pity to have copy/pasta..", "url": "https://github.com/openzipkin/zipkin/pull/3219#discussion_r497311158", "createdAt": "2020-09-30T07:52:52Z", "author": {"login": "codefromthecrypt"}, "path": "docker/Dockerfile", "diffHunk": "@@ -35,11 +35,6 @@ RUN ./mvnw -q --batch-mode -DskipTests --also-make -pl zipkin-server install\n RUN mkdir -p /zipkin && cp zipkin-server/target/zipkin-server-*-exec.jar /zipkin && cd /zipkin && jar xf *.jar && rm *.jar\n RUN mkdir -p /zipkin-slim && cp zipkin-server/target/zipkin-server-*-slim.jar /zipkin-slim && cd /zipkin-slim && jar xf *.jar && rm *.jar\n \n-FROM maven:3-openjdk-14-slim as zipkin-builder", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwNDMzMw=="}, "originalCommit": {"oid": "b84bb5f079e1fed083415ce7db8631704f952a11"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1260, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}