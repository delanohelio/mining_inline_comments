{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNjY4Mzcx", "number": 3202, "title": "Simplify the open/close logic of the Lookback menu", "bodyText": "We currently have our own mechanism for closing Lookback menu when clicking on the outside of Lookback menu.\nHowever, Material-ui has a component called ClickAwayListener that is equivalent to this.\nIt might be a good idea to use it because it simplifies our code.", "createdAt": "2020-09-06T06:38:50Z", "url": "https://github.com/openzipkin/zipkin/pull/3202", "merged": true, "mergeCommit": {"oid": "a79e09e98855815557927ad729bfac404467b957"}, "closed": true, "closedAt": "2020-09-07T09:56:17Z", "author": {"login": "tacigar"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGIaErAH2gAyNDgwNjY4MzcxOmE2NDgzOTNhZDZmZGUwYzQwYjVmN2M0OGM3NjEzYzQwMzMwNDk2ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGbwvFgFqTQ4MzI0MjMwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685", "author": {"user": {"login": "tacigar", "name": "tacigar"}}, "url": "https://github.com/openzipkin/zipkin/commit/a648393ad6fde0c40b5f7c48c7613c4033049685", "committedDate": "2020-09-06T06:28:30Z", "message": "Simplify the open/close logic of the Lookback menu"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMTE2MTE2", "url": "https://github.com/openzipkin/zipkin/pull/3202#pullrequestreview-483116116", "createdAt": "2020-09-06T06:41:54Z", "commit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwNjo0MTo1NFrOHNm0-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwNjo0MTo1NFrOHNm0-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAyOTY4OA==", "bodyText": "This change is intended to avoid this error...", "url": "https://github.com/openzipkin/zipkin/pull/3202#discussion_r484029688", "createdAt": "2020-09-06T06:41:54Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/components/DiscoverPage/DiscoverPageContent.tsx", "diffHunk": "@@ -699,13 +699,19 @@ const DiscoverPageContent: React.FC<DiscoverPageContentProps> = ({\n \n export default DiscoverPageContent;\n \n-const LookbackButton = styled(Button).attrs<{ isShowingLookbackMenu: boolean }>(\n-  ({ isShowingLookbackMenu }) => ({\n-    variant: 'outlined',\n-    startIcon: <FontAwesomeIcon icon={faHistory} />,\n-    endIcon: isShowingLookbackMenu ? <ExpandLessIcon /> : <ExpandMoreIcon />,\n-  }),\n-)<{ isShowingLookbackMenu: boolean }>`\n+const LookbackButton = styled(\n+  ({\n+    isShowingLookbackMenu,\n+    ...rest\n+  }: { isShowingLookbackMenu: boolean } & ButtonProps) => (\n+    <Button\n+      variant=\"outlined\"\n+      startIcon={<FontAwesomeIcon icon={faHistory} />}\n+      endIcon={isShowingLookbackMenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n+      {...rest}\n+    />\n+  ),\n+)`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMjQyMzA0", "url": "https://github.com/openzipkin/zipkin/pull/3202#pullrequestreview-483242304", "createdAt": "2020-09-07T05:00:50Z", "commit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNTowMDo1MFrOHNwO4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNTowMToxM1rOHNwPMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4Mzc3OA==", "bodyText": "Yeah styled-components is for CSS, not material-ui props :)", "url": "https://github.com/openzipkin/zipkin/pull/3202#discussion_r484183778", "createdAt": "2020-09-07T05:00:50Z", "author": {"login": "anuraaga"}, "path": "zipkin-lens/src/components/DiscoverPage/DiscoverPageContent.tsx", "diffHunk": "@@ -699,13 +699,19 @@ const DiscoverPageContent: React.FC<DiscoverPageContentProps> = ({\n \n export default DiscoverPageContent;\n \n-const LookbackButton = styled(Button).attrs<{ isShowingLookbackMenu: boolean }>(\n-  ({ isShowingLookbackMenu }) => ({\n-    variant: 'outlined',\n-    startIcon: <FontAwesomeIcon icon={faHistory} />,\n-    endIcon: isShowingLookbackMenu ? <ExpandLessIcon /> : <ExpandMoreIcon />,\n-  }),\n-)<{ isShowingLookbackMenu: boolean }>`\n+const LookbackButton = styled(\n+  ({\n+    isShowingLookbackMenu,\n+    ...rest\n+  }: { isShowingLookbackMenu: boolean } & ButtonProps) => (\n+    <Button\n+      variant=\"outlined\"\n+      startIcon={<FontAwesomeIcon icon={faHistory} />}\n+      endIcon={isShowingLookbackMenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n+      {...rest}\n+    />\n+  ),\n+)`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAyOTY4OA=="}, "originalCommit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4Mzg1Ng==", "bodyText": "Nice", "url": "https://github.com/openzipkin/zipkin/pull/3202#discussion_r484183856", "createdAt": "2020-09-07T05:01:13Z", "author": {"login": "anuraaga"}, "path": "zipkin-lens/src/components/DiscoverPage/LookbackMenu.tsx", "diffHunk": "@@ -101,28 +101,14 @@ const LookbackMenu: React.FC<LookbackMenuProps> = ({\n   }, []);\n \n   const handleDialogClose = useCallback(() => {\n-    // Use setTimeout to change isOpeningDialog state after\n-    // handleOutsideClick callback function is executed.\n-    window.setTimeout(() => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a648393ad6fde0c40b5f7c48c7613c4033049685"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1533, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}