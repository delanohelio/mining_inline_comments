{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NzU5NjQy", "number": 3144, "title": "Use redux toolkit for dependencies page", "bodyText": "Use redux toolkit (createSlice and createAsyncThunk) for dependencies page and show AlertSnackbar when failed to load dependencies data.", "createdAt": "2020-07-11T12:02:16Z", "url": "https://github.com/openzipkin/zipkin/pull/3144", "merged": true, "mergeCommit": {"oid": "b653c7ff74c24256087491068e1cf143041ab123"}, "closed": true, "closedAt": "2020-08-03T05:36:12Z", "author": {"login": "tacigar"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcz19mGAH2gAyNDQ3NzU5NjQyOmRlMTU2ZmU2NWU5MmZiMmMxYzE0ZDE5NDliYzAzZDk2NDZjNzcwODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7J-QzAFqTQ1OTczNjM0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "de156fe65e92fb2c1c14d1949bc03d9646c77082", "author": {"user": {"login": "tacigar", "name": "tacigar"}}, "url": "https://github.com/openzipkin/zipkin/commit/de156fe65e92fb2c1c14d1949bc03d9646c77082", "committedDate": "2020-07-11T10:48:28Z", "message": "Change dependencies page's directory structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd", "author": {"user": {"login": "tacigar", "name": "tacigar"}}, "url": "https://github.com/openzipkin/zipkin/commit/9a48577e74fef90ed3907f9eae070a46edffcccd", "committedDate": "2020-07-11T11:40:35Z", "message": "Show alert snackbar when failed to load dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4MzM1", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-446798335", "createdAt": "2020-07-11T12:03:13Z", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowMzoxM1rOGwMaxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowMzoxM1rOGwMaxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4ODI5NQ==", "bodyText": "10 seconds seemed a bit long for me.", "url": "https://github.com/openzipkin/zipkin/pull/3144#discussion_r453188295", "createdAt": "2020-07-11T12:03:13Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/components/App/AlertSnackbar.tsx", "diffHunk": "@@ -32,7 +32,7 @@ const AlertSnackbar: React.FC = () => {\n   return (\n     <Snackbar\n       open={alertOpen}\n-      autoHideDuration={10000}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4Mzcz", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-446798373", "createdAt": "2020-07-11T12:04:06Z", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowNDowN1rOGwMa-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowNDowN1rOGwMa-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4ODM0Nw==", "bodyText": "All import statements are sorted alphabetically.", "url": "https://github.com/openzipkin/zipkin/pull/3144#discussion_r453188347", "createdAt": "2020-07-11T12:04:07Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/features/dependencies/DependenciesGraph.tsx", "diffHunk": "@@ -11,17 +11,26 @@\n  * or implied. See the License for the specific language governing permissions and limitations under\n  * the License.\n  */\n+\n /* eslint-disable no-shadow */\n+\n+import {\n+  Box,\n+  Grid,\n+  Theme,\n+  createStyles,\n+  makeStyles,\n+  useTheme,\n+} from '@material-ui/core';\n+import moment from 'moment';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4Mzkx", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-446798391", "createdAt": "2020-07-11T12:04:39Z", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowNDo0MFrOGwMbFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowNDo0MFrOGwMbFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4ODM3NA==", "bodyText": "Show AlertSnackbar when failed to load dependencies.", "url": "https://github.com/openzipkin/zipkin/pull/3144#discussion_r453188374", "createdAt": "2020-07-11T12:04:40Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/features/dependencies/DependenciesPage.tsx", "diffHunk": "@@ -132,10 +139,23 @@ const DependenciesPage: React.FC<DependenciesPageProps> = ({\n   });\n   useFetchDependencies(timeRange);\n \n-  const { isLoading, dependencies } = useSelector(\n+  const { isLoading, dependencies, error } = useSelector(\n     (state: RootState) => state.dependencies,\n   );\n \n+  useEffect(() => {\n+    if (error) {\n+      dispatch(\n+        setAlert({\n+          message: 'Failed to load dependencies...',\n+          severity: 'error',\n+        }),\n+      );\n+    } else {\n+      dispatch(clearAlert());\n+    }\n+  }, [error, dispatch]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "originalPosition": 82}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5e77b91e49b203345066e99806ac6a203a5cb2a", "author": {"user": {"login": "tacigar", "name": "tacigar"}}, "url": "https://github.com/openzipkin/zipkin/commit/a5e77b91e49b203345066e99806ac6a203a5cb2a", "committedDate": "2020-07-11T12:07:25Z", "message": "Refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4NTY5", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-446798569", "createdAt": "2020-07-11T12:08:26Z", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowODoyN1rOGwMcVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowODoyN1rOGwMcVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4ODY5Mw==", "bodyText": "Edge was defined in NodeDetailData.tsx, but it is now in a separate file Transferred.", "url": "https://github.com/openzipkin/zipkin/pull/3144#discussion_r453188693", "createdAt": "2020-07-11T12:08:27Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/features/dependencies/Edge.ts", "diffHunk": "@@ -11,8 +11,14 @@\n  * or implied. See the License for the specific language governing permissions and limitations under\n  * the License.\n  */\n-import createReducer from '../reducers';\n \n-type RootState = ReturnType<ReturnType<typeof createReducer>>;\n+type Edge = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4NjI4", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-446798628", "createdAt": "2020-07-11T12:09:36Z", "commit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowOTozNlrOGwMcpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjowOTozNlrOGwMcpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4ODc3Mw==", "bodyText": "I defined AppThunk in the same file as RootState.", "url": "https://github.com/openzipkin/zipkin/pull/3144#discussion_r453188773", "createdAt": "2020-07-11T12:09:36Z", "author": {"login": "tacigar"}, "path": "zipkin-lens/src/store/index.ts", "diffHunk": "@@ -12,6 +12,16 @@\n  * the License.\n  */\n \n+import { Action } from 'redux';\n+import { ThunkAction } from 'redux-thunk';\n+\n import createReducer from '../reducers';\n \n export type RootState = ReturnType<ReturnType<typeof createReducer>>;\n+\n+export type AppThunk<ReturnType = void> = ThunkAction<", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a48577e74fef90ed3907f9eae070a46edffcccd"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7c0caa230cd9671199424c7ea43d9c8fd8ca44d", "author": {"user": {"login": "tacigar", "name": "tacigar"}}, "url": "https://github.com/openzipkin/zipkin/commit/c7c0caa230cd9671199424c7ea43d9c8fd8ca44d", "committedDate": "2020-08-01T19:20:35Z", "message": "Use redux-toolkit's createAsyncThunk and change the directory structure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NzM2MzQw", "url": "https://github.com/openzipkin/zipkin/pull/3144#pullrequestreview-459736340", "createdAt": "2020-08-03T04:04:46Z", "commit": {"oid": "c7c0caa230cd9671199424c7ea43d9c8fd8ca44d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1459, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}