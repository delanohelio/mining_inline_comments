{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MDMxMzYy", "number": 3103, "title": "Updates build to JDK 14 and addresses latest errorprone warnings", "bodyText": "", "createdAt": "2020-06-03T08:01:38Z", "url": "https://github.com/openzipkin/zipkin/pull/3103", "merged": true, "mergeCommit": {"oid": "d3eb7f1221d3b75241f6934f228c5cb4624c01b4"}, "closed": true, "closedAt": "2020-06-04T00:29:18Z", "author": {"login": "codefromthecrypt"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnkyubgH2gAyNDI3MDMxMzYyOjRiNGVlY2E2NzcxY2NhZjc0ZGQyMDQ1MjQ3Mzk5NjdhNzk3MTlkYWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnmRxcAH2gAyNDI3MDMxMzYyOjFkMDQ2YTlmMTU5NGU4ZjUzZmUwYmU4ZDA1Y2QyNThlMWQ5MzBiNmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4b4eeca6771ccaf74dd204524739967a79719daf", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/4b4eeca6771ccaf74dd204524739967a79719daf", "committedDate": "2020-06-03T08:01:07Z", "message": "Updates build to JDK 14 and addresses latest errorprone warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/1f805db87ffa8faf244a61c8ad5442cbb6505916", "committedDate": "2020-06-03T08:07:03Z", "message": "license"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMzQxMzEw", "url": "https://github.com/openzipkin/zipkin/pull/3103#pullrequestreview-423341310", "createdAt": "2020-06-03T08:42:39Z", "commit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "state": "APPROVED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwODo0Mjo0MFrOGeR_4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwODo0ODo1NlrOGeSORA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQwNTM0NA==", "bodyText": "This is fine too though I think // Ignore in the catch block is fine too and probably what this check is intending, just making sure you didn't accidentally forget", "url": "https://github.com/openzipkin/zipkin/pull/3103#discussion_r434405344", "createdAt": "2020-06-03T08:42:40Z", "author": {"login": "anuraaga"}, "path": "zipkin-collector/activemq/src/main/java/zipkin2/collector/activemq/LazyInit.java", "diffHunk": "@@ -58,6 +58,7 @@ void close() {\n     if (maybe != null) result.close();\n   }\n \n+  @SuppressWarnings(\"EmptyCatch\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQwNjA3MQ==", "bodyText": "Guess you might have added this for the same check but consider a comment instead", "url": "https://github.com/openzipkin/zipkin/pull/3103#discussion_r434406071", "createdAt": "2020-06-03T08:43:52Z", "author": {"login": "anuraaga"}, "path": "zipkin-collector/rabbitmq/src/main/java/zipkin2/collector/rabbitmq/RabbitMQCollector.java", "diffHunk": "@@ -257,12 +257,13 @@ public void handleDelivery(String tag, Envelope envelope, BasicProperties props,\n     for (int i = 0; i < addresses.size(); i++) {\n       String[] splitAddress = addresses.get(i).split(\":\", 100);\n       String host = splitAddress[0];\n-      Integer port = null;\n+      int port = -1;\n       try {\n         if (splitAddress.length == 2) port = Integer.parseInt(splitAddress[1]);\n       } catch (NumberFormatException ignore) {\n+        port = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQwNzQyNA==", "bodyText": "Ah too bad this annoying pre-Java8 check is still around", "url": "https://github.com/openzipkin/zipkin/pull/3103#discussion_r434407424", "createdAt": "2020-06-03T08:46:06Z", "author": {"login": "anuraaga"}, "path": "zipkin-server/src/main/java/zipkin2/server/internal/health/ZipkinHealthController.java", "diffHunk": "@@ -48,6 +48,7 @@\n     return health(ctx, MediaType.JSON_UTF_8);\n   }\n \n+  @SuppressWarnings(\"FutureReturnValueIgnored\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQwNzkzOQ==", "bodyText": "Accidental box?", "url": "https://github.com/openzipkin/zipkin/pull/3103#discussion_r434407939", "createdAt": "2020-06-03T08:47:04Z", "author": {"login": "anuraaga"}, "path": "zipkin-storage/cassandra-v1/src/main/java/zipkin2/storage/cassandra/v1/CassandraUtil.java", "diffHunk": "@@ -142,4 +144,13 @@ public String toString() {\n       return \"SortTraceIdsByDescTimestamp\";\n     }\n   }\n+\n+  @SuppressWarnings(\"JdkObsolete\")\n+  static List<Date> getDays(long endTs, @Nullable Long lookback) {\n+    List<Date> result = new ArrayList<>();\n+    for (Long epochMillis : DateUtil.epochDays(endTs, lookback)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQwOTAyOA==", "bodyText": "On phone so can't expand this file to see below but if it's duping the next line, commet instead is fine", "url": "https://github.com/openzipkin/zipkin/pull/3103#discussion_r434409028", "createdAt": "2020-06-03T08:48:56Z", "author": {"login": "anuraaga"}, "path": "zipkin-storage/elasticsearch/src/main/java/zipkin2/elasticsearch/ElasticsearchVersion.java", "diffHunk": "@@ -39,6 +39,8 @@ float get(HttpCall.Factory callFactory) throws IOException {\n     try {\n       if (enterPath(parser, \"version\", \"number\") != null) version = parser.getText();\n     } catch (RuntimeException | IOException possiblyParseException) {\n+      throw new IllegalArgumentException(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f805db87ffa8faf244a61c8ad5442cbb6505916"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d046a9f1594e8f53fe0be8d05cd258e1d930b6d", "author": {"user": null}, "url": "https://github.com/openzipkin/zipkin/commit/1d046a9f1594e8f53fe0be8d05cd258e1d930b6d", "committedDate": "2020-06-03T09:44:56Z", "message": "comment for EmptyCatch and eager unbox"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1431, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}