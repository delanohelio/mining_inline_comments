{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1Mzk2MTU4", "number": 1178, "title": "Provide replacement for ModelAppender that allows loading non-blockstate paths", "bodyText": "A common ask is the ability to load an arbitrary model json from the resource paths (for example, to use in a block entity or entity renderer). The existing ModelAppender system only accepts ModelIdentifiers, which identify a variant within a blockstate json (or a item model via the magic variant inventory), which means its use is limited to those cases.\nThis PR extends ModelAppender to support Identifier as well for loading a json path anywhere in the model tree. The existing vanilla addModel called by us only takes ModelIdentifier, but the restriction is arbitrary. The same logic can be reused verbatim for plain Identifier.\nFor those wiling to look, this is equivalent to Forge's addSpecialModel which I also added and has been used widely, so in the implementation/design space this is pretty well-tread ground already. It's used in Botania-forge and I need it for Botania-fabric :)", "createdAt": "2020-11-23T01:18:28Z", "url": "https://github.com/FabricMC/fabric/pull/1178", "merged": true, "mergeCommit": {"oid": "6bec8f284fff8f948349d714b2e4a8ec01cf7a65"}, "closed": true, "closedAt": "2020-12-30T16:43:52Z", "author": {"login": "williewillus"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfKnPcAH2gAyNTI1Mzk2MTU4OjI3MGQxYWYyNTMzMDExMjA5M2RiMWNmZjJiZmQ0MjAwZjY4NjM5NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqZQVDgFqTU1ODk2MjM3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "270d1af25330112093db1cff2bfd4200f6863965", "author": {"user": {"login": "williewillus", "name": "Vincent Lee"}}, "url": "https://github.com/FabricMC/fabric/commit/270d1af25330112093db1cff2bfd4200f6863965", "committedDate": "2020-11-23T01:10:48Z", "message": "Extend ModelAppender to allow loading non-blockstate paths"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTQwMjY4", "url": "https://github.com/FabricMC/fabric/pull/1178#pullrequestreview-536140268", "createdAt": "2020-11-23T01:19:10Z", "commit": {"oid": "270d1af25330112093db1cff2bfd4200f6863965"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwMToxOToxMVrOH39LeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwMToxOToxMVrOH39LeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQzNjA4OQ==", "bodyText": "this bothers me in that lambdas still default to the older/deprecated method. Should I just make a new interface for this and have the old interface extend it?", "url": "https://github.com/FabricMC/fabric/pull/1178#discussion_r528436089", "createdAt": "2020-11-23T01:19:11Z", "author": {"login": "williewillus"}, "path": "fabric-models-v0/src/main/java/net/fabricmc/fabric/api/client/model/ModelAppender.java", "diffHunk": "@@ -20,8 +20,26 @@\n \n import net.minecraft.client.util.ModelIdentifier;\n import net.minecraft.resource.ResourceManager;\n+import net.minecraft.util.Identifier;\n \n @FunctionalInterface\n public interface ModelAppender {\n+\t/**\n+\t * Provides an opportunity inform the game that you would like it to load and bake a model,\n+\t * even if that model is not used by any blocks or items.\n+\t * @param out Accepts paths to be loaded. Arguments that are {@link ModelIdentifier} will be\n+\t *            loaded through the blockstate JSON system or, if the variant is {@code inventory}, the item model folder.\n+\t *            Otherwise, the argument is directly loaded as a JSON.\n+\t *            For example, <pre>new Identifier(\"mymod\", \"foo/bar\")</pre> will request loading of the file\n+\t *            <pre>/assets/mymod/models/foo/bar.json</pre>\n+\t */\n+\tdefault void appendAllIdentifiers(ResourceManager manager, Consumer<Identifier> out) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "270d1af25330112093db1cff2bfd4200f6863965"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dfdf6e501bc13a6b19450abc57a508bf160661b", "author": {"user": {"login": "williewillus", "name": "Vincent Lee"}}, "url": "https://github.com/FabricMC/fabric/commit/9dfdf6e501bc13a6b19450abc57a508bf160661b", "committedDate": "2020-11-24T04:17:14Z", "message": "Use a new interface instead of adding to the old one"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NzQxNTMz", "url": "https://github.com/FabricMC/fabric/pull/1178#pullrequestreview-545741533", "createdAt": "2020-12-06T19:50:16Z", "commit": {"oid": "9dfdf6e501bc13a6b19450abc57a508bf160661b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a500ca5967becf23d53ca567026e56594b631d3", "author": {"user": {"login": "williewillus", "name": "Vincent Lee"}}, "url": "https://github.com/FabricMC/fabric/commit/3a500ca5967becf23d53ca567026e56594b631d3", "committedDate": "2020-12-27T05:41:49Z", "message": "Merge branch '1.16' of github.com:FabricMC/Fabric into modelapp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9bde2cf026bc050a02015c1375ccb9b12e08de5", "author": {"user": {"login": "williewillus", "name": "Vincent Lee"}}, "url": "https://github.com/FabricMC/fabric/commit/d9bde2cf026bc050a02015c1375ccb9b12e08de5", "committedDate": "2020-12-27T05:55:40Z", "message": "Rename new interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTIwNzM1", "url": "https://github.com/FabricMC/fabric/pull/1178#pullrequestreview-558920735", "createdAt": "2020-12-27T11:09:01Z", "commit": {"oid": "d9bde2cf026bc050a02015c1375ccb9b12e08de5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTU5MTc3", "url": "https://github.com/FabricMC/fabric/pull/1178#pullrequestreview-558959177", "createdAt": "2020-12-27T21:14:59Z", "commit": {"oid": "d9bde2cf026bc050a02015c1375ccb9b12e08de5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTYyMzcw", "url": "https://github.com/FabricMC/fabric/pull/1178#pullrequestreview-558962370", "createdAt": "2020-12-27T22:27:31Z", "commit": {"oid": "d9bde2cf026bc050a02015c1375ccb9b12e08de5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3494, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}