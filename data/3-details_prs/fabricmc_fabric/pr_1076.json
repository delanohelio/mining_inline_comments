{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MjgxNDI1", "number": 1076, "title": "Add helper methods to create custom villager types.", "bodyText": "", "createdAt": "2020-09-11T17:13:42Z", "url": "https://github.com/FabricMC/fabric/pull/1076", "merged": true, "mergeCommit": {"oid": "1304192f58403267759a3ef188858d7381efec63"}, "closed": true, "closedAt": "2020-10-05T18:15:50Z", "author": {"login": "i509VCB"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIeQrgAFqTQ4NzMwNTMzMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPL8yVgFqTUwMTYwNjk1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MzA1MzMy", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-487305332", "createdAt": "2020-09-13T13:04:00Z", "commit": {"oid": "63a1751710b3631fa5e3561ce4b65816d67ab43e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxOTk1NzU0", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-491995754", "createdAt": "2020-09-19T12:30:26Z", "commit": {"oid": "153a5363431cebfef9029f73630d8fa3a64b392a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMjozMDoyNlrOHUpnRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMjozNDo1MlrOHUptMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQxNTM2NQ==", "bodyText": "IMO plain create implies creating an instance of the surrounding type (VillagerTypeHelper instance)\nElsewhere we used register, but idk if this case has any side effects / does something similar to registration.", "url": "https://github.com/FabricMC/fabric/pull/1076#discussion_r491415365", "createdAt": "2020-09-19T12:30:26Z", "author": {"login": "sfPlayer1"}, "path": "fabric-object-builder-api-v1/src/main/java/net/fabricmc/fabric/api/object/builder/v1/villager/VillagerTypeHelper.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.object.builder.v1.villager;\n+\n+import java.util.Objects;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.registry.RegistryKey;\n+import net.minecraft.village.VillagerProfession;\n+import net.minecraft.village.VillagerType;\n+import net.minecraft.world.biome.Biome;\n+\n+import net.fabricmc.fabric.mixin.object.builder.VillagerTypeAccessor;\n+\n+/**\n+ * Utilities related to the creation of {@link VillagerType}s.\n+ * Not to be confused with a {@link VillagerProfession}, a villager type defines the appearance of a villager.\n+ *\n+ * <p>Creation of custom villager types may be done via the use of a simple helper method.\n+ * Below is an example of how one wouldd create a villager type:\n+ * <blockquote><pre>\n+ * // Note: You should register your villager types via the corresponding registry\n+ * public static final VillagerType MOUNTAIN = VillagerTypeHelper.create(new Identifier(\"mymod\", \"mountain\"));\n+ * </pre></blockquote>\n+ *\n+ * <p>Creation and registration of a villager type does not guarantee villagers of a specific type will be created in a world.\n+ * Typically the villager type is bound to a specific group of biomes.\n+ * Below is an example of allowing creation of mountain villagers in a mountain biome:\n+ * <blockquote><pre>\n+ * VillagerTypeHelper.mapBiomeToVillagerType(BiomeKeys.MOUNTAIN, MyVillagerTypes.MOUNTAIN);\n+ * </pre></blockquote>\n+ */\n+public final class VillagerTypeHelper {\n+\tprivate static final Logger LOGGER = LogManager.getLogger();\n+\n+\t/**\n+\t * Creates a new villager type.\n+\t *\n+\t * @param id the id of the villager type\n+\t * @return a new villager type\n+\t */\n+\tpublic static VillagerType create(Identifier id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "153a5363431cebfef9029f73630d8fa3a64b392a"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQxNTY5Mw==", "bodyText": "The examples should use the standard combination of @code and <pre>", "url": "https://github.com/FabricMC/fabric/pull/1076#discussion_r491415693", "createdAt": "2020-09-19T12:31:18Z", "author": {"login": "sfPlayer1"}, "path": "fabric-object-builder-api-v1/src/main/java/net/fabricmc/fabric/api/object/builder/v1/villager/VillagerTypeHelper.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.object.builder.v1.villager;\n+\n+import java.util.Objects;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.registry.RegistryKey;\n+import net.minecraft.village.VillagerProfession;\n+import net.minecraft.village.VillagerType;\n+import net.minecraft.world.biome.Biome;\n+\n+import net.fabricmc.fabric.mixin.object.builder.VillagerTypeAccessor;\n+\n+/**\n+ * Utilities related to the creation of {@link VillagerType}s.\n+ * Not to be confused with a {@link VillagerProfession}, a villager type defines the appearance of a villager.\n+ *\n+ * <p>Creation of custom villager types may be done via the use of a simple helper method.\n+ * Below is an example of how one wouldd create a villager type:\n+ * <blockquote><pre>\n+ * // Note: You should register your villager types via the corresponding registry\n+ * public static final VillagerType MOUNTAIN = VillagerTypeHelper.create(new Identifier(\"mymod\", \"mountain\"));\n+ * </pre></blockquote>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "153a5363431cebfef9029f73630d8fa3a64b392a"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQxNjg4MA==", "bodyText": "map is a weak term, it doesn't really explain what happens - could as well mean \"give me the villager type for the biome\" (ignoring the signature).\nThe impl suggests that it adds the villager type to a biome (\"add\" vs \"map\", \"to biome\" vs \"to villager\"). I'd thus call it addVillagerTypeToBiome.", "url": "https://github.com/FabricMC/fabric/pull/1076#discussion_r491416880", "createdAt": "2020-09-19T12:34:52Z", "author": {"login": "sfPlayer1"}, "path": "fabric-object-builder-api-v1/src/main/java/net/fabricmc/fabric/api/object/builder/v1/villager/VillagerTypeHelper.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.object.builder.v1.villager;\n+\n+import java.util.Objects;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.registry.RegistryKey;\n+import net.minecraft.village.VillagerProfession;\n+import net.minecraft.village.VillagerType;\n+import net.minecraft.world.biome.Biome;\n+\n+import net.fabricmc.fabric.mixin.object.builder.VillagerTypeAccessor;\n+\n+/**\n+ * Utilities related to the creation of {@link VillagerType}s.\n+ * Not to be confused with a {@link VillagerProfession}, a villager type defines the appearance of a villager.\n+ *\n+ * <p>Creation of custom villager types may be done via the use of a simple helper method.\n+ * Below is an example of how one wouldd create a villager type:\n+ * <blockquote><pre>\n+ * // Note: You should register your villager types via the corresponding registry\n+ * public static final VillagerType MOUNTAIN = VillagerTypeHelper.create(new Identifier(\"mymod\", \"mountain\"));\n+ * </pre></blockquote>\n+ *\n+ * <p>Creation and registration of a villager type does not guarantee villagers of a specific type will be created in a world.\n+ * Typically the villager type is bound to a specific group of biomes.\n+ * Below is an example of allowing creation of mountain villagers in a mountain biome:\n+ * <blockquote><pre>\n+ * VillagerTypeHelper.mapBiomeToVillagerType(BiomeKeys.MOUNTAIN, MyVillagerTypes.MOUNTAIN);\n+ * </pre></blockquote>\n+ */\n+public final class VillagerTypeHelper {\n+\tprivate static final Logger LOGGER = LogManager.getLogger();\n+\n+\t/**\n+\t * Creates a new villager type.\n+\t *\n+\t * @param id the id of the villager type\n+\t * @return a new villager type\n+\t */\n+\tpublic static VillagerType create(Identifier id) {\n+\t\tObjects.requireNonNull(id, \"Id of villager type cannot be null\");\n+\t\treturn VillagerTypeAccessor.callCreate(id.toString());\n+\t}\n+\n+\t/**\n+\t * Maps a biome to villager type.\n+\t * This mapping is used when a new villager entity is created.\n+\t *\n+\t * @param biomeKey the registry key of the biome\n+\t * @param villagerType the villager type\n+\t */\n+\tpublic static void mapBiomeToVillagerType(RegistryKey<Biome> biomeKey, VillagerType villagerType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "153a5363431cebfef9029f73630d8fa3a64b392a"}, "originalPosition": 71}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fa8d94913638aa13806fd446bba6d112cb183a8", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/4fa8d94913638aa13806fd446bba6d112cb183a8", "committedDate": "2020-09-19T20:10:33Z", "message": "Add helper methods to create custom villager types."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "153a5363431cebfef9029f73630d8fa3a64b392a", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/153a5363431cebfef9029f73630d8fa3a64b392a", "committedDate": "2020-09-19T03:50:57Z", "message": "Update fabric-object-builder-v1.mixins.json"}, "afterCommit": {"oid": "4fa8d94913638aa13806fd446bba6d112cb183a8", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/4fa8d94913638aa13806fd446bba6d112cb183a8", "committedDate": "2020-09-19T20:10:33Z", "message": "Add helper methods to create custom villager types."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51456111a7b19a405564452c9f2c00cdaaf6b688", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/51456111a7b19a405564452c9f2c00cdaaf6b688", "committedDate": "2020-09-19T20:15:50Z", "message": "Rename biome method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc675d099014b4191bfd53e6f1230d3b403e1b8e", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/bc675d099014b4191bfd53e6f1230d3b403e1b8e", "committedDate": "2020-09-19T20:19:15Z", "message": "Make it register and register the instance of the villager type."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDk5MTg2", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-493099186", "createdAt": "2020-09-22T02:56:34Z", "commit": {"oid": "bc675d099014b4191bfd53e6f1230d3b403e1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjo1NjozNVrOHVouWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjo1ODoxMVrOHVovoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0OTM3MQ==", "bodyText": "Spelling error. \"wouldd\" -> \"would\"", "url": "https://github.com/FabricMC/fabric/pull/1076#discussion_r492449371", "createdAt": "2020-09-22T02:56:35Z", "author": {"login": "frqnny"}, "path": "fabric-object-builder-api-v1/src/main/java/net/fabricmc/fabric/api/object/builder/v1/villager/VillagerTypeHelper.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.object.builder.v1.villager;\n+\n+import java.util.Objects;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.registry.RegistryKey;\n+import net.minecraft.village.VillagerProfession;\n+import net.minecraft.village.VillagerType;\n+import net.minecraft.world.biome.Biome;\n+\n+import net.fabricmc.fabric.mixin.object.builder.VillagerTypeAccessor;\n+\n+/**\n+ * Utilities related to the creation of {@link VillagerType}s.\n+ * Not to be confused with a {@link VillagerProfession}, a villager type defines the appearance of a villager.\n+ *\n+ * <p>Creation and registration of custom villager types may be done via the use of a simple helper method.\n+ * Below is an example of how one wouldd create a villager type:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc675d099014b4191bfd53e6f1230d3b403e1b8e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0OTY5Ng==", "bodyText": "Maybe, I'd add a short sentence about how textures work, or maybe we can just leave it to yarn to do some javadocs on VillagerType class", "url": "https://github.com/FabricMC/fabric/pull/1076#discussion_r492449696", "createdAt": "2020-09-22T02:58:11Z", "author": {"login": "frqnny"}, "path": "fabric-object-builder-api-v1/src/main/java/net/fabricmc/fabric/api/object/builder/v1/villager/VillagerTypeHelper.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.object.builder.v1.villager;\n+\n+import java.util.Objects;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.registry.RegistryKey;\n+import net.minecraft.village.VillagerProfession;\n+import net.minecraft.village.VillagerType;\n+import net.minecraft.world.biome.Biome;\n+\n+import net.fabricmc.fabric.mixin.object.builder.VillagerTypeAccessor;\n+\n+/**\n+ * Utilities related to the creation of {@link VillagerType}s.\n+ * Not to be confused with a {@link VillagerProfession}, a villager type defines the appearance of a villager.\n+ *\n+ * <p>Creation and registration of custom villager types may be done via the use of a simple helper method.\n+ * Below is an example of how one wouldd create a villager type:\n+ * <blockquote><pre>\n+ * public static final VillagerType MOUNTAIN = VillagerTypeHelper.register(new Identifier(\"mymod\", \"mountain\"));\n+ * </pre></blockquote>\n+ *\n+ * <p>Creation and registration of a villager type does not guarantee villagers of a specific type will be created in a world.\n+ * Typically the villager type is bound to a specific group of biomes.\n+ * Below is an example of allowing creation of mountain villagers in a mountain biome:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc675d099014b4191bfd53e6f1230d3b403e1b8e"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a480412af40407072e8b302c5be7068fd6d147d", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/1a480412af40407072e8b302c5be7068fd6d147d", "committedDate": "2020-09-24T02:37:17Z", "message": "Javadoc 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric/commit/2a689aa4826f9568ba001598df268ae0382077d4", "committedDate": "2020-09-24T02:41:33Z", "message": "Add texture javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NDc0NTAy", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-495474502", "createdAt": "2020-09-24T11:33:08Z", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTAxMzEx", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-496901311", "createdAt": "2020-09-25T22:44:55Z", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDczNDMx", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-497073431", "createdAt": "2020-09-27T11:05:29Z", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjA1MzIz", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-501605323", "createdAt": "2020-10-04T09:17:42Z", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjA2OTUz", "url": "https://github.com/FabricMC/fabric/pull/1076#pullrequestreview-501606953", "createdAt": "2020-10-04T09:41:27Z", "commit": {"oid": "2a689aa4826f9568ba001598df268ae0382077d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3299, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}