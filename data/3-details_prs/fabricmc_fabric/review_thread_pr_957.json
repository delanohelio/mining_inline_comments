{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzA2MzQy", "number": 957, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwMjo0MzoxNlrOEX38MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNToyNTo1OVrOFI1p3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNDY5MjMzOnYy", "diffSide": "RIGHT", "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/api/entity/event/v1/EntityTeleportationHelper.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwMjo0MzoxNlrOG_6AxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQwMDozNzo1OVrOH3k9yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2Mzk0MQ==", "bodyText": "Hmm, what's the point of Area Helper from minecraft then", "url": "https://github.com/FabricMC/fabric/pull/957#discussion_r469663941", "createdAt": "2020-08-13T02:43:16Z", "author": {"login": "liach"}, "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/api/entity/event/v1/EntityTeleportationHelper.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.entity.event.v1;\n+\n+import java.util.Optional;\n+\n+import net.minecraft.client.world.ClientWorld;\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.mob.PathAwareEntity;\n+import net.minecraft.server.network.ServerPlayerEntity;\n+import net.minecraft.server.world.ServerWorld;\n+import net.minecraft.util.math.MathHelper;\n+\n+/**\n+ * A utility class providing methods to help teleport entities to other server worlds.\n+ */\n+public final class EntityTeleportationHelper {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "123eadc0156d3780a81b4c705e3890199c3eeefb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2NTUwOA==", "bodyText": "AreaHelper does not teleport the entity. The only teleport logic is Server player, entity moveToWorld and teleport command.\nHowever an event for the after world change is gonna be a pain for other mod devs since they would have to go pretty manual. This just makes a lazy one method call to teleport an entity straight to another world.", "url": "https://github.com/FabricMC/fabric/pull/957#discussion_r469665508", "createdAt": "2020-08-13T02:49:39Z", "author": {"login": "i509VCB"}, "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/api/entity/event/v1/EntityTeleportationHelper.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.entity.event.v1;\n+\n+import java.util.Optional;\n+\n+import net.minecraft.client.world.ClientWorld;\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.mob.PathAwareEntity;\n+import net.minecraft.server.network.ServerPlayerEntity;\n+import net.minecraft.server.world.ServerWorld;\n+import net.minecraft.util.math.MathHelper;\n+\n+/**\n+ * A utility class providing methods to help teleport entities to other server worlds.\n+ */\n+public final class EntityTeleportationHelper {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2Mzk0MQ=="}, "originalCommit": {"oid": "123eadc0156d3780a81b4c705e3890199c3eeefb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzc5MTQ1NQ==", "bodyText": "I feel like this class should be in another module as it's more generalized than just for entity events.", "url": "https://github.com/FabricMC/fabric/pull/957#discussion_r527791455", "createdAt": "2020-11-20T16:03:18Z", "author": {"login": "LambdAurora"}, "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/api/entity/event/v1/EntityTeleportationHelper.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.entity.event.v1;\n+\n+import java.util.Optional;\n+\n+import net.minecraft.client.world.ClientWorld;\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.mob.PathAwareEntity;\n+import net.minecraft.server.network.ServerPlayerEntity;\n+import net.minecraft.server.world.ServerWorld;\n+import net.minecraft.util.math.MathHelper;\n+\n+/**\n+ * A utility class providing methods to help teleport entities to other server worlds.\n+ */\n+public final class EntityTeleportationHelper {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2Mzk0MQ=="}, "originalCommit": {"oid": "123eadc0156d3780a81b4c705e3890199c3eeefb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODAzOTM2OQ==", "bodyText": "I believe that a method in updated dimension api pull request would suffice here and reduces duplicate logic.", "url": "https://github.com/FabricMC/fabric/pull/957#discussion_r528039369", "createdAt": "2020-11-21T00:37:59Z", "author": {"login": "i509VCB"}, "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/api/entity/event/v1/EntityTeleportationHelper.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.api.entity.event.v1;\n+\n+import java.util.Optional;\n+\n+import net.minecraft.client.world.ClientWorld;\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.mob.PathAwareEntity;\n+import net.minecraft.server.network.ServerPlayerEntity;\n+import net.minecraft.server.world.ServerWorld;\n+import net.minecraft.util.math.MathHelper;\n+\n+/**\n+ * A utility class providing methods to help teleport entities to other server worlds.\n+ */\n+public final class EntityTeleportationHelper {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY2Mzk0MQ=="}, "originalCommit": {"oid": "123eadc0156d3780a81b4c705e3890199c3eeefb"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0ODExOTk2OnYy", "diffSide": "RIGHT", "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/mixin/entity/event/LivingEntityMixin.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNToyNTo1OVrOIK-78A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNToyNTo1OVrOIK-78A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM4NzgyNA==", "bodyText": "Imo we should just capture failhard than generate an exception stub. same for other local captures.", "url": "https://github.com/FabricMC/fabric/pull/957#discussion_r548387824", "createdAt": "2020-12-24T05:25:59Z", "author": {"login": "liach"}, "path": "fabric-entity-events-v1/src/main/java/net/fabricmc/fabric/mixin/entity/event/LivingEntityMixin.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright (c) 2016, 2017, 2018, 2019 FabricMC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package net.fabricmc.fabric.mixin.entity.event;\n+\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.injection.At;\n+import org.spongepowered.asm.mixin.injection.Inject;\n+import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;\n+import org.spongepowered.asm.mixin.injection.callback.LocalCapture;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.damage.DamageSource;\n+import net.minecraft.server.world.ServerWorld;\n+\n+import net.fabricmc.fabric.api.entity.event.v1.ServerEntityCombatEvents;\n+\n+@Mixin(LivingEntity.class)\n+abstract class LivingEntityMixin extends EntityMixin {\n+\t@Inject(method = \"onDeath\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/entity/Entity;onKilledOther(Lnet/minecraft/server/world/ServerWorld;Lnet/minecraft/entity/LivingEntity;)V\", shift = At.Shift.AFTER), locals = LocalCapture.CAPTURE_FAILEXCEPTION)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a88deb2113d013701d1d6fc5dc92ae40285dec49"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3412, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}