{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0NTgzNzQw", "number": 1073, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwMzoyMzo0MFrOEiXe-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzo0Mjo1MlrOEq2iZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NDcxODAxOnYy", "diffSide": "RIGHT", "path": "fabric-tool-attribute-api-v1/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwMzoyMzo0MFrOHQM6lQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwMzoyMzo0MFrOHQM6lQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc1MDg2OQ==", "bodyText": "Convert everything above to tabs", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r486750869", "createdAt": "2020-09-11T03:23:40Z", "author": {"login": "i509VCB"}, "path": "fabric-tool-attribute-api-v1/build.gradle", "diffHunk": "@@ -1,9 +1,9 @@\n archivesBaseName = \"fabric-tool-attribute-api-v1\"\n-version = getSubprojectVersion(project, \"1.2.2\")\n+version = getSubprojectVersion(project, \"1.2.3\")\n \n dependencies {\n     compile project(path: ':fabric-api-base', configuration: 'dev')\n     compile project(path: ':fabric-tag-extensions-v0', configuration: 'dev')\n     testmodCompile project(path: ':fabric-object-builder-api-v1', configuration: 'dev')\n-\ttestmodCompile project(path: ':fabric-events-lifecycle-v0', configuration: 'dev')\n+\ttestmodCompile project(path: ':fabric-lifecycle-events-v1', configuration: 'dev')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9482427aef02905ba088e2723714cca7750ebcb"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NzI3MjUyOnYy", "diffSide": "RIGHT", "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/AttributeManager.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNjoyODozOFrOHQlqKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNjoyNDowM1rOHdP9sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE1NjI2NQ==", "bodyText": "General question: Do we want this on all internal classes?\nIf so would some way to enforce it for the whole of fabric api be a good idea?", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r487156265", "createdAt": "2020-09-11T16:28:38Z", "author": {"login": "modmuss50"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/AttributeManager.java", "diffHunk": "@@ -23,10 +23,12 @@\n \n import com.google.common.collect.HashMultimap;\n import com.google.common.collect.Multimap;\n+import org.jetbrains.annotations.ApiStatus;\n \n import net.minecraft.entity.attribute.EntityAttribute;\n import net.minecraft.entity.attribute.EntityAttributeModifier;\n \n+@ApiStatus.Internal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fad981c15e29dd5bf573f8816f5542406a375f9"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE1OTEwMQ==", "bodyText": "This could be applied via package info I assume", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r487159101", "createdAt": "2020-09-11T16:34:03Z", "author": {"login": "shedaniel"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/AttributeManager.java", "diffHunk": "@@ -23,10 +23,12 @@\n \n import com.google.common.collect.HashMultimap;\n import com.google.common.collect.Multimap;\n+import org.jetbrains.annotations.ApiStatus;\n \n import net.minecraft.entity.attribute.EntityAttribute;\n import net.minecraft.entity.attribute.EntityAttributeModifier;\n \n+@ApiStatus.Internal", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE1NjI2NQ=="}, "originalCommit": {"oid": "6fad981c15e29dd5bf573f8816f5542406a375f9"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2MDI5NA==", "bodyText": "Yes, that would be better.", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r487160294", "createdAt": "2020-09-11T16:36:23Z", "author": {"login": "modmuss50"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/AttributeManager.java", "diffHunk": "@@ -23,10 +23,12 @@\n \n import com.google.common.collect.HashMultimap;\n import com.google.common.collect.Multimap;\n+import org.jetbrains.annotations.ApiStatus;\n \n import net.minecraft.entity.attribute.EntityAttribute;\n import net.minecraft.entity.attribute.EntityAttributeModifier;\n \n+@ApiStatus.Internal", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE1NjI2NQ=="}, "originalCommit": {"oid": "6fad981c15e29dd5bf573f8816f5542406a375f9"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMjMwNg==", "bodyText": "Fixed.", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r500432306", "createdAt": "2020-10-06T16:24:03Z", "author": {"login": "shedaniel"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/AttributeManager.java", "diffHunk": "@@ -23,10 +23,12 @@\n \n import com.google.common.collect.HashMultimap;\n import com.google.common.collect.Multimap;\n+import org.jetbrains.annotations.ApiStatus;\n \n import net.minecraft.entity.attribute.EntityAttribute;\n import net.minecraft.entity.attribute.EntityAttributeModifier;\n \n+@ApiStatus.Internal", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE1NjI2NQ=="}, "originalCommit": {"oid": "6fad981c15e29dd5bf573f8816f5542406a375f9"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzY4Nzc3OnYy", "diffSide": "RIGHT", "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/handlers/VanillaToolsModdedBlocksToolHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzo0MTozOVrOHdS7Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzo0NzoyOFrOHdTIsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4MDgzMQ==", "bodyText": "Is there a reason the tag check is dropped here?", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r500480831", "createdAt": "2020-10-06T17:41:39Z", "author": {"login": "i509VCB"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/handlers/VanillaToolsModdedBlocksToolHandler.java", "diffHunk": "@@ -51,12 +54,13 @@ public ActionResult isEffectiveOn(Tag<Item> tag, BlockState state, ItemStack sta\n \t\treturn ActionResult.PASS;\n \t}\n \n+\t@NotNull\n \t@Override\n \tpublic TypedActionResult<Float> getMiningSpeedMultiplier(Tag<Item> tag, BlockState state, ItemStack stack, LivingEntity user) {\n \t\tif (!(stack.getItem() instanceof DynamicAttributeTool)) {\n \t\t\tToolManagerImpl.Entry entry = ToolManagerImpl.entryNullable(state.getBlock());\n \n-\t\t\tif (entry != null && entry.getMiningLevel(tag) >= 0 && tag.contains(stack.getItem())) {\n+\t\t\tif (entry != null && entry.getMiningLevel(tag) >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2496f3f50b4583b090cf6d3ce4a097ac9e23655f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4NDI3Mw==", "bodyText": "Mentioned in the first message", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r500484273", "createdAt": "2020-10-06T17:47:28Z", "author": {"login": "shedaniel"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/handlers/VanillaToolsModdedBlocksToolHandler.java", "diffHunk": "@@ -51,12 +54,13 @@ public ActionResult isEffectiveOn(Tag<Item> tag, BlockState state, ItemStack sta\n \t\treturn ActionResult.PASS;\n \t}\n \n+\t@NotNull\n \t@Override\n \tpublic TypedActionResult<Float> getMiningSpeedMultiplier(Tag<Item> tag, BlockState state, ItemStack stack, LivingEntity user) {\n \t\tif (!(stack.getItem() instanceof DynamicAttributeTool)) {\n \t\t\tToolManagerImpl.Entry entry = ToolManagerImpl.entryNullable(state.getBlock());\n \n-\t\t\tif (entry != null && entry.getMiningLevel(tag) >= 0 && tag.contains(stack.getItem())) {\n+\t\t\tif (entry != null && entry.getMiningLevel(tag) >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4MDgzMQ=="}, "originalCommit": {"oid": "2496f3f50b4583b090cf6d3ce4a097ac9e23655f"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzY5MTkxOnYy", "diffSide": "RIGHT", "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/ToolManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzo0Mjo1MlrOHdS99g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzo0NzoxNlrOHdTINQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4MTUyNg==", "bodyText": "Was there a reason this was null?", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r500481526", "createdAt": "2020-10-06T17:42:52Z", "author": {"login": "i509VCB"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/ToolManagerImpl.java", "diffHunk": "@@ -253,8 +258,9 @@ default ActionResult isEffectiveOn(Tag<Item> tag, BlockState state, ItemStack st\n \t\t * @param user  the user involved in breaking the block, null if not applicable.\n \t\t * @return the result of mining speed.\n \t\t */\n+\t\t@NotNull\n \t\tdefault TypedActionResult<Float> getMiningSpeedMultiplier(Tag<Item> tag, BlockState state, ItemStack stack, @Nullable LivingEntity user) {\n-\t\t\treturn null;\n+\t\t\treturn TypedActionResult.pass(1.0F);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2496f3f50b4583b090cf6d3ce4a097ac9e23655f"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4NDE0OQ==", "bodyText": "There is actually an Objects#requireNonNull check originally anyways, this was just a wrong default value.", "url": "https://github.com/FabricMC/fabric/pull/1073#discussion_r500484149", "createdAt": "2020-10-06T17:47:16Z", "author": {"login": "shedaniel"}, "path": "fabric-tool-attribute-api-v1/src/main/java/net/fabricmc/fabric/impl/tool/attribute/ToolManagerImpl.java", "diffHunk": "@@ -253,8 +258,9 @@ default ActionResult isEffectiveOn(Tag<Item> tag, BlockState state, ItemStack st\n \t\t * @param user  the user involved in breaking the block, null if not applicable.\n \t\t * @return the result of mining speed.\n \t\t */\n+\t\t@NotNull\n \t\tdefault TypedActionResult<Float> getMiningSpeedMultiplier(Tag<Item> tag, BlockState state, ItemStack stack, @Nullable LivingEntity user) {\n-\t\t\treturn null;\n+\t\t\treturn TypedActionResult.pass(1.0F);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4MTUyNg=="}, "originalCommit": {"oid": "2496f3f50b4583b090cf6d3ce4a097ac9e23655f"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3463, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}