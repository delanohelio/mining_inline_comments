{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MzEwNjg3", "number": 2057, "title": "Restyle new search bar", "bodyText": "Checklist\n\n\n the contributor license agreement is signed\n commit message follows commit guidelines\n screenshots are included showing significant UI changes\n\nDescription of change\n\nSo as to be a bit cleaner, and similar to a number of Material Design\nsearch bars you see about the place - so as to hopefully feel\ncontemporary to users.\nRequired custom styling, but I think that's acceptable in this case as\nwe wanted something a little different and it is a key/special component\nas one of the main ones users interact with.\nNote two changes:\n\nI've made the search button on the left hand side clickable; and\nI haven't included the button to clear a search - I really wanted to try and keep it as minimal and clean as needed. I figured between ESC and backspace users should have enough.... \ud83e\udd14\n\n\n#1306", "createdAt": "2020-07-15T07:52:23Z", "url": "https://github.com/openequella/openEQUELLA/pull/2057", "merged": true, "mergeCommit": {"oid": "98fbe76e6de4c7bc0b86a8dc1c9fb5806afb3b34"}, "closed": true, "closedAt": "2020-07-16T05:33:05Z", "author": {"login": "edalex-ian"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1FremgH2gAyNDQ5MzEwNjg3OjI1ZjVjYjc2NjgxMDdhNTRjMTc1YTM2NjJjMGFiMWU4NTUyZTA1NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1UzohAFqTQ0OTQ0NDAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559", "author": {"user": {"login": "edalex-ian", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/25f5cb7668107a54c175a3662c0ab1e8552e0559", "committedDate": "2020-07-15T07:41:05Z", "message": "Restyle new search bar\n\nSo as to be a bit cleaner, and similar to a number of Material Design\nsearch bars you see about the place - so as to hopefully feel\ncontemporary to users.\n\nRequired custom styling, but I think that's acceptable in this case as\nwe wanted something a little different and it is a key/special component\nas one of the main ones users interact with."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NzEyMzM4", "url": "https://github.com/openequella/openEQUELLA/pull/2057#pullrequestreview-448712338", "createdAt": "2020-07-15T07:52:55Z", "commit": {"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNzo1Mjo1NVrOGxyhMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNzo1Mjo1NVrOGxyhMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg2MTEwNw==", "bodyText": "Switched to Paper and no Grid as we need to go full custom.", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r454861107", "createdAt": "2020-07-15T07:52:55Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -92,61 +107,37 @@ export default function SearchBar({ onChange }: SearchBarProps) {\n   };\n \n   return (\n-    <Card>\n-      <CardContent>\n-        <Grid container direction=\"row\">\n-          <Grid item xs={10}>\n-            <TextField\n-              id=\"searchBar\"\n-              helperText={rawSearchMode ? strings.pressEnterToSearch : \" \"}\n-              onKeyDown={handleKeyDown}\n-              InputProps={{\n-                startAdornment: (\n-                  <InputAdornment position=\"start\">\n-                    <SearchIcon fontSize=\"small\" />\n-                  </InputAdornment>\n-                ),\n-                endAdornment: queryString.length > 0 && (\n-                  <IconButton\n-                    onClick={() => handleQueryChange(\"\")}\n-                    size=\"small\"\n-                  >\n-                    <Close />\n-                  </IconButton>\n-                ),\n-              }}\n-              fullWidth\n-              onChange={(event) => {\n-                handleQueryChange(event.target.value);\n-              }}\n-              variant=\"standard\"\n-              value={queryString}\n+    <Paper className={classes.root}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559"}, "originalPosition": 104}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDU5NjE1", "url": "https://github.com/openequella/openEQUELLA/pull/2057#pullrequestreview-449059615", "createdAt": "2020-07-15T15:13:31Z", "commit": {"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxMzozMVrOGyC8Jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxMzozMVrOGyC8Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEzMDE1MA==", "bodyText": "Since top and bottom margin are the same this can be simplified to:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                margin: \"4px 12px 4px\",\n          \n          \n            \n                margin: \"4px 12px\",", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455130150", "createdAt": "2020-07-15T15:13:31Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -16,26 +16,38 @@\n  * limitations under the License.\n  */\n import {\n-  Card,\n-  CardContent,\n+  Divider,\n   FormControlLabel,\n-  Grid,\n   IconButton,\n-  InputAdornment,\n+  InputBase,\n+  Paper,\n   Switch,\n-  TextField,\n   Tooltip,\n } from \"@material-ui/core\";\n import * as React from \"react\";\n import { useCallback, useState } from \"react\";\n import SearchIcon from \"@material-ui/icons/Search\";\n-import { Close } from \"@material-ui/icons\";\n import { debounce } from \"lodash\";\n import { languageStrings } from \"../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n \n const ENTER_KEY_CODE = 13;\n const ESCAPE_KEY_CODE = 27;\n \n+const useStyles = makeStyles({\n+  root: {\n+    display: \"flex\",\n+    alignItems: \"center\",\n+  },\n+  input: {\n+    flex: \"auto\",\n+  },\n+  divider: {\n+    height: 28,\n+    margin: \"4px 12px 4px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01", "author": {"user": {"login": "edalex-ian", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/c5458616d12a549791f366520af100a2c75b9a01", "committedDate": "2020-07-15T22:49:32Z", "message": "Simplify margin style for divider\n\nCo-authored-by: Christian Murphy <christian.murphy.42@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDI5MTUz", "url": "https://github.com/openequella/openEQUELLA/pull/2057#pullrequestreview-449429153", "createdAt": "2020-07-16T00:26:56Z", "commit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDM1NjM5", "url": "https://github.com/openequella/openEQUELLA/pull/2057#pullrequestreview-449435639", "createdAt": "2020-07-16T00:49:50Z", "commit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMDo0OTo1MFrOGyWOcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMDo1MTozNVrOGyWQOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjEzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                rawSearch: \"Raw Search\",\n          \n          \n            \n                rawSearch: \"Raw search\",", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446131", "createdAt": "2020-07-16T00:49:50Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/util/langstrings.ts", "diffHunk": "@@ -316,7 +316,7 @@ export const languageStrings = {\n     refineTitle: \"Refine search\",\n     modifiedDate: \"Modified\",\n     rawSearch: \"Raw Search\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjIyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                pressEnterToSearch: \"Raw Search enabled, press enter to search\",\n          \n          \n            \n                pressEnterToSearch: \"Raw search enabled, press enter to search\",", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446221", "createdAt": "2020-07-16T00:50:07Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/util/langstrings.ts", "diffHunk": "@@ -316,7 +316,7 @@ export const languageStrings = {\n     refineTitle: \"Refine search\",\n     modifiedDate: \"Modified\",\n     rawSearch: \"Raw Search\",\n-    pressEnterToSearch: \"Press enter to search\",\n+    pressEnterToSearch: \"Raw Search enabled, press enter to search\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjU4Ng==", "bodyText": "Just a query - does this look strange at different zoom levels?", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446586", "createdAt": "2020-07-16T00:51:35Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -16,26 +16,38 @@\n  * limitations under the License.\n  */\n import {\n-  Card,\n-  CardContent,\n+  Divider,\n   FormControlLabel,\n-  Grid,\n   IconButton,\n-  InputAdornment,\n+  InputBase,\n+  Paper,\n   Switch,\n-  TextField,\n   Tooltip,\n } from \"@material-ui/core\";\n import * as React from \"react\";\n import { useCallback, useState } from \"react\";\n import SearchIcon from \"@material-ui/icons/Search\";\n-import { Close } from \"@material-ui/icons\";\n import { debounce } from \"lodash\";\n import { languageStrings } from \"../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n \n const ENTER_KEY_CODE = 13;\n const ESCAPE_KEY_CODE = 27;\n \n+const useStyles = makeStyles({\n+  root: {\n+    display: \"flex\",\n+    alignItems: \"center\",\n+  },\n+  input: {\n+    flex: \"auto\",\n+  },\n+  divider: {\n+    height: 28,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5458616d12a549791f366520af100a2c75b9a01"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "580e1f5087d58e57b2d1e0a03d4906462bd1889f", "author": {"user": {"login": "edalex-ian", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/580e1f5087d58e57b2d1e0a03d4906462bd1889f", "committedDate": "2020-07-16T01:12:53Z", "message": "Use correct casing for 'Raw search'\r\n\r\nFeedback provided by Cath on side channel.\n\nCo-authored-by: SammyIsConfused <samantha.fisher@edalex.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDQ0MDM4", "url": "https://github.com/openequella/openEQUELLA/pull/2057#pullrequestreview-449444038", "createdAt": "2020-07-16T01:18:34Z", "commit": {"oid": "580e1f5087d58e57b2d1e0a03d4906462bd1889f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4973, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}