{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3Njk4NzQ2", "number": 2182, "title": "refactor: migrate stories to leverage storybook args", "bodyText": "Checklist\n\n\n the contributor license agreement is signed\n commit message follows commit guidelines\n tests are included\n screenshots are included showing significant UI changes\n documentation is changed or added\n\nDescription of change\nIntro to storybook args: https://medium.com/storybookjs/introducing-storybook-args-2dadcdb777cc\nthis migrates the storybook stories to the new format, as well as leveraging the new storybook essentials addon pack and removes unused dependencies.\nTODO\n\n Get autogenerated actions working https://medium.com/storybookjs/introducing-storybook-args-2dadcdb777cc", "createdAt": "2020-08-14T00:09:11Z", "url": "https://github.com/openequella/openEQUELLA/pull/2182", "merged": true, "mergeCommit": {"oid": "d8b12c552168deab04543cb1c95df529999d5ef9"}, "closed": true, "closedAt": "2020-08-25T00:28:28Z", "author": {"login": "ChristianMurphy"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-pO2hgFqTQ2NzIzMjY5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCMDwjgBqjM2ODc2OTc3MjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjMyNjk5", "url": "https://github.com/openequella/openEQUELLA/pull/2182#pullrequestreview-467232699", "createdAt": "2020-08-14T00:10:32Z", "commit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMDoxMDozM1rOHAh3gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMDoxMTozMVrOHAh6NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMxNjkzMA==", "bodyText": "These are now bundled together in essentials https://storybook.js.org/docs/react/essentials/introduction", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r470316930", "createdAt": "2020-08-14T00:10:33Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/.storybook/main.js", "diffHunk": "@@ -1,10 +0,0 @@\n-module.exports = {\n-  stories: [\"../__stories__/**/*.stories.tsx\"],\n-  addons: [\n-    \"@storybook/addon-a11y\",\n-    \"@storybook/addon-actions\",\n-    \"@storybook/addon-docs\",\n-    \"@storybook/addon-knobs\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMxNzA2MQ==", "bodyText": "sets up several addons https://storybook.js.org/docs/react/essentials/introduction", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r470317061", "createdAt": "2020-08-14T00:10:43Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/.storybook/main.ts", "diffHunk": "@@ -0,0 +1,7 @@\n+module.exports = {\n+  stories: [\"../__stories__/**/*\"],\n+  addons: [\n+    \"@storybook/addon-essentials\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMxNzQzNA==", "bodyText": "no longer needed thanks to built in typescript support", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r470317434", "createdAt": "2020-08-14T00:11:16Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -111,7 +106,6 @@\n     \"enzyme\": \"3.11.0\",\n     \"enzyme-adapter-react-16\": \"1.15.3\",\n     \"enzyme-to-json\": \"3.5.0\",\n-    \"fork-ts-checker-webpack-plugin\": \"5.0.14\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMxNzQ4Mg==", "bodyText": "no longer needed thanks to built in typescript support", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r470317482", "createdAt": "2020-08-14T00:11:20Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -124,7 +118,6 @@\n     \"rewire\": \"5.0.0\",\n     \"storybook-react-router\": \"1.0.8\",\n     \"ts-jest\": \"26.2.0\",\n-    \"ts-loader\": \"8.0.2\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDMxNzYyMA==", "bodyText": "no longer needed thanks to built in typescript support", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r470317620", "createdAt": "2020-08-14T00:11:31Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -101,7 +97,6 @@\n     \"@types/uuid\": \"8.3.0\",\n     \"argparse\": \"1.0.10\",\n     \"babel-jest\": \"26.3.0\",\n-    \"babel-loader\": \"8.1.0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "732d518d25a4a7ffaafaa9b15673ff91e5465fb2", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/732d518d25a4a7ffaafaa9b15673ff91e5465fb2", "committedDate": "2020-08-14T00:04:46Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}, "afterCommit": {"oid": "bef6364871bf3e0b79446fde8eb8a54cf5383b9f", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/bef6364871bf3e0b79446fde8eb8a54cf5383b9f", "committedDate": "2020-08-14T01:36:44Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bef6364871bf3e0b79446fde8eb8a54cf5383b9f", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/bef6364871bf3e0b79446fde8eb8a54cf5383b9f", "committedDate": "2020-08-14T01:36:44Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}, "afterCommit": {"oid": "f3e7e8c39cc82b2c3948ad585490a09cf18edfb3", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/f3e7e8c39cc82b2c3948ad585490a09cf18edfb3", "committedDate": "2020-08-21T04:15:20Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3e7e8c39cc82b2c3948ad585490a09cf18edfb3", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/f3e7e8c39cc82b2c3948ad585490a09cf18edfb3", "committedDate": "2020-08-21T04:15:20Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}, "afterCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/1b89854213a6eaaeec51e80688108b98a9089e2e", "committedDate": "2020-08-21T04:53:25Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTY2NTc5", "url": "https://github.com/openequella/openEQUELLA/pull/2182#pullrequestreview-472166579", "createdAt": "2020-08-21T06:07:13Z", "commit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTA4NzYw", "url": "https://github.com/openequella/openEQUELLA/pull/2182#pullrequestreview-473108760", "createdAt": "2020-08-24T04:14:40Z", "commit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNDoxNDo0MFrOHFUAzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNDoyODozM1rOHFUMJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTMzMjgxMw==", "bodyText": "I'm not seeing any different here to the above story. \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475332813", "createdAt": "2020-08-24T04:14:40Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/MessageInfo.stories.tsx", "diffHunk": "@@ -16,75 +16,58 @@\n  * limitations under the License.\n  */\n import * as React from \"react\";\n-import { action } from \"@storybook/addon-actions\";\n-import { boolean, select, text } from \"@storybook/addon-knobs\";\n-import MessageInfo from \"../../tsrc/components/MessageInfo\";\n+import type { Meta, Story } from \"@storybook/react\";\n+import MessageInfo, {\n+  MessageInfoProps,\n+} from \"../../tsrc/components/MessageInfo\";\n \n export default {\n   title: \"MessageInfo\",\n   component: MessageInfo,\n-};\n+  argTypes: { onClose: { action: \"onClose\" } },\n+} as Meta<MessageInfoProps>;\n \n-export const DynamicVariant = () => (\n-  <MessageInfo\n-    open={boolean(\"open\", true)}\n-    onClose={action(\"close\")}\n-    title={text(\n-      \"title\",\n-      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\"\n-    )}\n-    variant={select(\n-      \"variant\",\n-      { success: \"success\", error: \"error\", info: \"info\", warning: \"warning\" },\n-      \"success\"\n-    )}\n-  />\n+export const DynamicVariant: Story<MessageInfoProps> = (args) => (\n+  <MessageInfo {...args} />\n );\n+DynamicVariant.args = {\n+  open: true,\n+  title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n+  variant: \"success\",\n+};\n \n-export const VariantSuccess = () => (\n-  <MessageInfo\n-    open={boolean(\"open\", true)}\n-    onClose={action(\"close\")}\n-    title={text(\n-      \"title\",\n-      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\"\n-    )}\n-    variant=\"success\"\n-  />\n+export const VariantSuccess: Story<MessageInfoProps> = (args) => (\n+  <MessageInfo {...args} />\n );\n+VariantSuccess.args = {\n+  open: true,\n+  title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n+  variant: \"success\",\n+};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTMzMzIxNQ==", "bodyText": "Part of the Storybook 6 Args is to promote re-use. So this should be:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            VariantError.args = {\n          \n          \n            \n              open: true,\n          \n          \n            \n              title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n          \n          \n            \n              variant: \"error\",\n          \n          \n            \n            };\n          \n          \n            \n            VariantError.args = {\n          \n          \n            \n              ...VariantSuccess.args,\n          \n          \n            \n              variant: \"error\",\n          \n          \n            \n            };\n          \n      \n    \n    \n  \n\nI guess ideally at the top we'd have a simple test, and then we'd possibly end-up with a less confusing name for this context. E.g. Simple.args.\nThis same suggestion is then the same for the below warning and info variants.", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475333215", "createdAt": "2020-08-24T04:16:35Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/MessageInfo.stories.tsx", "diffHunk": "@@ -16,75 +16,58 @@\n  * limitations under the License.\n  */\n import * as React from \"react\";\n-import { action } from \"@storybook/addon-actions\";\n-import { boolean, select, text } from \"@storybook/addon-knobs\";\n-import MessageInfo from \"../../tsrc/components/MessageInfo\";\n+import type { Meta, Story } from \"@storybook/react\";\n+import MessageInfo, {\n+  MessageInfoProps,\n+} from \"../../tsrc/components/MessageInfo\";\n \n export default {\n   title: \"MessageInfo\",\n   component: MessageInfo,\n-};\n+  argTypes: { onClose: { action: \"onClose\" } },\n+} as Meta<MessageInfoProps>;\n \n-export const DynamicVariant = () => (\n-  <MessageInfo\n-    open={boolean(\"open\", true)}\n-    onClose={action(\"close\")}\n-    title={text(\n-      \"title\",\n-      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\"\n-    )}\n-    variant={select(\n-      \"variant\",\n-      { success: \"success\", error: \"error\", info: \"info\", warning: \"warning\" },\n-      \"success\"\n-    )}\n-  />\n+export const DynamicVariant: Story<MessageInfoProps> = (args) => (\n+  <MessageInfo {...args} />\n );\n+DynamicVariant.args = {\n+  open: true,\n+  title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n+  variant: \"success\",\n+};\n \n-export const VariantSuccess = () => (\n-  <MessageInfo\n-    open={boolean(\"open\", true)}\n-    onClose={action(\"close\")}\n-    title={text(\n-      \"title\",\n-      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\"\n-    )}\n-    variant=\"success\"\n-  />\n+export const VariantSuccess: Story<MessageInfoProps> = (args) => (\n+  <MessageInfo {...args} />\n );\n+VariantSuccess.args = {\n+  open: true,\n+  title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n+  variant: \"success\",\n+};\n \n-export const VariantError = () => (\n-  <MessageInfo\n-    open={boolean(\"open\", true)}\n-    onClose={action(\"close\")}\n-    title={text(\n-      \"title\",\n-      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\"\n-    )}\n-    variant=\"error\"\n-  />\n+export const VariantError: Story<MessageInfoProps> = (args) => (\n+  <MessageInfo {...args} />\n );\n+VariantError.args = {\n+  open: true,\n+  title: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit\",\n+  variant: \"error\",\n+};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTMzNDUxOA==", "bodyText": "This was a shame. I see there's some options for auto-generating based on regex, but this feels the best approach for now.", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475334518", "createdAt": "2020-08-24T04:22:46Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/AppBarQuery.stories.tsx", "diffHunk": "@@ -16,14 +16,20 @@\n  * limitations under the License.\n  */\n import * as React from \"react\";\n-import { action } from \"@storybook/addon-actions\";\n-import AppBarQuery from \"../../tsrc/components/AppBarQuery\";\n+import type { Meta, Story } from \"@storybook/react\";\n+import AppBarQuery, {\n+  AppBarQueryProps,\n+} from \"../../tsrc/components/AppBarQuery\";\n \n export default {\n   title: \"AppBarQuery\",\n   component: AppBarQuery,\n-};\n+  argTypes: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTMzNTcxOA==", "bodyText": "So to not repeat this, I wonder if we should switch these two stories around and then you can re-use the args for WithHTMLInput. That is, it would be:\nWithHTMLInput.args = {\n  ...WithoutHTMLInput.args,\n  htmlInput: \"<p>Example.</p>\"\n}", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475335718", "createdAt": "2020-08-24T04:28:33Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/RichEditor.stories.tsx", "diffHunk": "@@ -31,17 +32,23 @@ import RichTextEditor from \"../../tsrc/components/RichTextEditor\";\n export default {\n   title: \"RichTextEditor\",\n   component: RichTextEditor,\n-};\n+  argTypes: {\n+    onStateChange: { action: \"onStateChange\" },\n+    imageUploadCallBack: { action: \"imageUploadCallBack\" },\n+  },\n+} as Meta<RichTextEditorProps>;\n \n-const defaultProps = {\n+export const WithHTMLInput: Story<RichTextEditorProps> = (args) => (\n+  <RichTextEditor {...args} />\n+);\n+WithHTMLInput.args = {\n   skinUrl: \"http://localhost:6006/tinymce/skins/ui/oxide\",\n-  onStateChange: action(\"stateChange\"),\n+  htmlInput: \"<p>example</p>\",\n };\n-export const WithHTMLInput = () => (\n-  <RichTextEditor\n-    {...defaultProps}\n-    htmlInput={text(\"htmlInput\", \"<p>example</p>\")}\n-  />\n-);\n \n-export const WithoutHTMLInput = () => <RichTextEditor {...defaultProps} />;\n+export const WithoutHTMLInput: Story<RichTextEditorProps> = (args) => (\n+  <RichTextEditor {...args} />\n+);\n+WithoutHTMLInput.args = {\n+  skinUrl: \"http://localhost:6006/tinymce/skins/ui/oxide\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTI5OTYw", "url": "https://github.com/openequella/openEQUELLA/pull/2182#pullrequestreview-473129960", "createdAt": "2020-08-24T05:32:06Z", "commit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNTozMjowNlrOHFVJ1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNTozMjowNlrOHFVJ1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM1MTUwOA==", "bodyText": "Ummm, so there seems to be no value setup for this one. What am I missing? \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475351508", "createdAt": "2020-08-24T05:32:06Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SettingsList.stories.tsx", "diffHunk": "@@ -39,25 +44,35 @@ const marks: Mark[] = [\n   { label: \"x8\", value: 7 },\n ];\n \n-export const ListWithTwoItems = () => (\n-  <SettingsList subHeading={text(\"Sub Heading\", \"Sub Heading\")}>\n+type Props = Pick<SettingsListProps, \"subHeading\"> &\n+  Pick<SettingsToggleSwitchProps, \"setValue\" | \"disabled\"> &\n+  Pick<SettingsListControlProps, \"primaryText\" | \"secondaryText\">;\n+\n+export const ListWithTwoItems: Story<Props> = (args) => (\n+  <SettingsList subHeading={args.subHeading}>\n     <SettingsListControl\n       secondaryText=\"Box for checking\"\n       control={\n         <SettingsToggleSwitch\n-          setValue={action(\"Checkbox\")}\n-          disabled={false}\n+          setValue={args.setValue}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7334d3c872d0c401961343c5c3262370fa03b777", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/7334d3c872d0c401961343c5c3262370fa03b777", "committedDate": "2020-08-25T00:04:11Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b89854213a6eaaeec51e80688108b98a9089e2e", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/1b89854213a6eaaeec51e80688108b98a9089e2e", "committedDate": "2020-08-21T04:53:25Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}, "afterCommit": {"oid": "7334d3c872d0c401961343c5c3262370fa03b777", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/7334d3c872d0c401961343c5c3262370fa03b777", "committedDate": "2020-08-25T00:04:11Z", "message": "refactor: migrate stories to leverage storybook args\n\nalso migrates to storybook essentials and removes unused dependencies."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MDExNDkw", "url": "https://github.com/openequella/openEQUELLA/pull/2182#pullrequestreview-474011490", "createdAt": "2020-08-25T00:20:26Z", "commit": {"oid": "84791a763531fc70600015166d435a33c9b3d508"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwMDoyMDoyNlrOHF8XTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwMDoyMDoyNlrOHF8XTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk5MzkzMg==", "bodyText": "Ahhh, another sneaky setValue.", "url": "https://github.com/openequella/openEQUELLA/pull/2182#discussion_r475993932", "createdAt": "2020-08-25T00:20:26Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SettingsListControl.stories.tsx", "diffHunk": "@@ -38,34 +41,59 @@ const marks: Mark[] = [\n   { label: \"x8\", value: 7 },\n ];\n \n-export const ToggleSwitchControl = () => (\n+type ToggleSwitchControlProps = Pick<\n+  SettingsListControlProps,\n+  \"primaryText\" | \"secondaryText\" | \"divider\"\n+> &\n+  Pick<SettingsToggleSwitchProps, \"disabled\" | \"setValue\" | \"value\">;\n+export const ToggleSwitchControl: Story<ToggleSwitchControlProps> = (args) => (\n   <SettingsListControl\n-    secondaryText={text(\"Secondary Text\", \"Box for checking\")}\n+    primaryText={args.primaryText}\n+    secondaryText={args.secondaryText}\n+    divider={args.divider}\n     control={\n       <SettingsToggleSwitch\n-        disabled={boolean(\"Disabled\", false)}\n+        disabled={args.disabled}\n         id=\"toggle\"\n-        setValue={action(\"Value of checkbox changed\")}\n-        value={boolean(\"Toggle state\", false)}\n+        setValue={args.setValue}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84791a763531fc70600015166d435a33c9b3d508"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad145728588062e05b27e47f8c999b52dd4aefb3", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/ad145728588062e05b27e47f8c999b52dd4aefb3", "committedDate": "2020-08-25T00:27:49Z", "message": "refactor: reuse storybook args\n\nCo-authored-by: Ian Stevenson <ian.stevenson@edalex.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84791a763531fc70600015166d435a33c9b3d508", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/84791a763531fc70600015166d435a33c9b3d508", "committedDate": "2020-08-25T00:08:53Z", "message": "refactor: reuse storybook args\n\nCo-authored-by: Ian Stevenson <ian.stevenson@edalex.com>"}, "afterCommit": {"oid": "ad145728588062e05b27e47f8c999b52dd4aefb3", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/ad145728588062e05b27e47f8c999b52dd4aefb3", "committedDate": "2020-08-25T00:27:49Z", "message": "refactor: reuse storybook args\n\nCo-authored-by: Ian Stevenson <ian.stevenson@edalex.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 488, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}