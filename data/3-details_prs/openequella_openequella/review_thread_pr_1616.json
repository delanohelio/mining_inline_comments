{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNTEyMDA2", "number": 1616, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1NzowM1rODx5Ttg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNjo1MTo1OFrODyyQdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ1NzUwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/package.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1NzowM1rOGFoB9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1NzowM1rOGFoB9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MTkyNw==", "bodyText": "Not needed.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408551927", "createdAt": "2020-04-15T02:57:03Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -36,16 +36,17 @@\n     \"es6-object-assign\": \"1.1.0\",\n     \"history\": \"4.10.1\",\n     \"jspolyfill-array.prototype.find\": \"0.1.3\",\n-    \"luxon\": \"1.16.0\",\n     \"lodash\": \"4.17.15\",\n+    \"luxon\": \"1.16.0\",\n+    \"material-ui\": \"^0.20.2\",\n     \"material-ui-pickers\": \"2.2.4\",\n     \"oeq-cloudproviders\": \"git+https://github.com/apereo/openEQUELLA-cloudprovidersdk.git#32d958ddfff64ca748e7e1b2eae0f0487946a487\",\n     \"parcel-bundler\": \"1.12.1\",\n     \"prop-types\": \"15.7.2\",\n-    \"react\": \"16.8.6\",\n+    \"react\": \"^16.13.1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ1NzcwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/package.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1NzoxMlrOGFoCGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1NzoxMlrOGFoCGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MTk2Mw==", "bodyText": "Not needed.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408551963", "createdAt": "2020-04-15T02:57:12Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -36,16 +36,17 @@\n     \"es6-object-assign\": \"1.1.0\",\n     \"history\": \"4.10.1\",\n     \"jspolyfill-array.prototype.find\": \"0.1.3\",\n-    \"luxon\": \"1.16.0\",\n     \"lodash\": \"4.17.15\",\n+    \"luxon\": \"1.16.0\",\n+    \"material-ui\": \"^0.20.2\",\n     \"material-ui-pickers\": \"2.2.4\",\n     \"oeq-cloudproviders\": \"git+https://github.com/apereo/openEQUELLA-cloudprovidersdk.git#32d958ddfff64ca748e7e1b2eae0f0487946a487\",\n     \"parcel-bundler\": \"1.12.1\",\n     \"prop-types\": \"15.7.2\",\n-    \"react\": \"16.8.6\",\n+    \"react\": \"^16.13.1\",\n     \"react-beautiful-dnd\": \"7.1.3\",\n     \"react-color\": \"2.17.0\",\n-    \"react-dom\": \"16.8.6\",\n+    \"react-dom\": \"^16.13.1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ1ODkwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/package.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1Nzo0N1rOGFoCyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1Nzo0N1rOGFoCyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MjEzOQ==", "bodyText": "Not needed - also this is not the official material-ui. I'm not sure what this one is, but it isn't required.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408552139", "createdAt": "2020-04-15T02:57:47Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/package.json", "diffHunk": "@@ -36,16 +36,17 @@\n     \"es6-object-assign\": \"1.1.0\",\n     \"history\": \"4.10.1\",\n     \"jspolyfill-array.prototype.find\": \"0.1.3\",\n-    \"luxon\": \"1.16.0\",\n     \"lodash\": \"4.17.15\",\n+    \"luxon\": \"1.16.0\",\n+    \"material-ui\": \"^0.20.2\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ2MDU3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMjo1ODo0OVrOGFoD0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODozMjowM1rOGFvVvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MjQwMA==", "bodyText": "rather than tsrc/components, use ../../components. This could potentially be causing your problem.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408552400", "createdAt": "2020-04-15T02:58:49Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "diffHunk": "@@ -0,0 +1,119 @@\n+import * as React from \"react\";\n+import {\n+  templateDefaults,\n+  TemplateUpdate,\n+  TemplateUpdateProps\n+} from \"../../mainui/Template\";\n+import { routes } from \"../../mainui/routes\";\n+import { Button, Card } from \"@material-ui/core\";\n+import { makeStyles } from \"@material-ui/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  defaultSearchSettings,\n+  getSearchSettingsFromServer,\n+  saveSearchSettingsToServer,\n+  SearchSettings\n+} from \"./SearchSettingsModule\";\n+import MessageInfo from \"../../components/MessageInfo\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"tsrc/components/SettingsListControl\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3MTY3OA==", "bodyText": "Doesn't your Intellij help you import this ?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408671678", "createdAt": "2020-04-15T08:32:03Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "diffHunk": "@@ -0,0 +1,119 @@\n+import * as React from \"react\";\n+import {\n+  templateDefaults,\n+  TemplateUpdate,\n+  TemplateUpdateProps\n+} from \"../../mainui/Template\";\n+import { routes } from \"../../mainui/routes\";\n+import { Button, Card } from \"@material-ui/core\";\n+import { makeStyles } from \"@material-ui/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  defaultSearchSettings,\n+  getSearchSettingsFromServer,\n+  saveSearchSettingsToServer,\n+  SearchSettings\n+} from \"./SearchSettingsModule\";\n+import MessageInfo from \"../../components/MessageInfo\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"tsrc/components/SettingsListControl\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MjQwMA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ2MjkzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMzowMDoyMFrOGFoFUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMzowMDoyMFrOGFoFUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1Mjc4NQ==", "bodyText": "use @material-ui/core for makeStyles.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408552785", "createdAt": "2020-04-15T03:00:20Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "diffHunk": "@@ -0,0 +1,55 @@\n+import {\n+  FormControl,\n+  MenuItem,\n+  OutlinedInput,\n+  Select\n+} from \"@material-ui/core\";\n+import { ContentIndex } from \"../SearchSettingsModule\";\n+import * as React from \"react\";\n+import { languageStrings } from \"../../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/styles\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjQ2MzY3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMzowMDo1NFrOGFoF0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMzowMDo1NFrOGFoF0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1MjkxMw==", "bodyText": "Use @material-ui/core for makeStyles.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408552913", "createdAt": "2020-04-15T03:00:54Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "diffHunk": "@@ -0,0 +1,119 @@\n+import * as React from \"react\";\n+import {\n+  templateDefaults,\n+  TemplateUpdate,\n+  TemplateUpdateProps\n+} from \"../../mainui/Template\";\n+import { routes } from \"../../mainui/routes\";\n+import { Button, Card } from \"@material-ui/core\";\n+import { makeStyles } from \"@material-ui/styles\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzI0OTA0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchSettingsModule.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODozNjoxOVrOGFvf0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODozNjoxOVrOGFvf0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3NDI1Nw==", "bodyText": "why changed this to string ?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408674257", "createdAt": "2020-04-15T08:36:19Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchSettingsModule.ts", "diffHunk": "@@ -12,7 +12,7 @@ export interface SearchSettings {\n   defaultSearchSort: SortOrder;\n   authenticateFeedsByDefault: boolean;\n \n-  urlLevel: number;\n+  urlLevel: string;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzI2NTYwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/settings/SettingsList.scala", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo0MDozM1rOGFvp7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMzoxNzoxMlrOGIBfIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3Njg0NA==", "bodyText": "I wonder why scalafmt does not fix the indenting.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408676844", "createdAt": "2020-04-15T08:40:33Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/settings/SettingsList.scala", "diffHunk": "@@ -173,12 +173,14 @@ object SettingsList {\n                                             \"page/searchsettings\",\n                                             searchPrivProvider.isAuthorised)\n \n-  val contentIndexingSettings = CoreSettingsPage(\"searchpage\",\n-                                                 Searching,\n-                                                 \"setting.contentindexing.title\",\n-                                                 \"setting.contentindexing.desc\",\n-                                                 \"page/contentindexsettings\",\n-                                                 searchPrivProvider.isAuthorised)\n+  val contentIndexingSettings = CoreSettingsPage(\n+    \"contentindexing\",\n+    Searching,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyOTY3OA==", "bodyText": "Yeah, be good to tidy this up @mrblippy", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r410029678", "createdAt": "2020-04-17T07:02:47Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/settings/SettingsList.scala", "diffHunk": "@@ -173,12 +173,14 @@ object SettingsList {\n                                             \"page/searchsettings\",\n                                             searchPrivProvider.isAuthorised)\n \n-  val contentIndexingSettings = CoreSettingsPage(\"searchpage\",\n-                                                 Searching,\n-                                                 \"setting.contentindexing.title\",\n-                                                 \"setting.contentindexing.desc\",\n-                                                 \"page/contentindexsettings\",\n-                                                 searchPrivProvider.isAuthorised)\n+  val contentIndexingSettings = CoreSettingsPage(\n+    \"contentindexing\",\n+    Searching,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3Njg0NA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA2NjA5OA==", "bodyText": "When i make changes to that file the format:scala task changes it back again", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411066098", "createdAt": "2020-04-20T03:16:57Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/settings/SettingsList.scala", "diffHunk": "@@ -173,12 +173,14 @@ object SettingsList {\n                                             \"page/searchsettings\",\n                                             searchPrivProvider.isAuthorised)\n \n-  val contentIndexingSettings = CoreSettingsPage(\"searchpage\",\n-                                                 Searching,\n-                                                 \"setting.contentindexing.title\",\n-                                                 \"setting.contentindexing.desc\",\n-                                                 \"page/contentindexsettings\",\n-                                                 searchPrivProvider.isAuthorised)\n+  val contentIndexingSettings = CoreSettingsPage(\n+    \"contentindexing\",\n+    Searching,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3Njg0NA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA2NjE0NQ==", "bodyText": "scalafmt went wacky, so ignoring for now.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411066145", "createdAt": "2020-04-20T03:17:12Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/settings/SettingsList.scala", "diffHunk": "@@ -173,12 +173,14 @@ object SettingsList {\n                                             \"page/searchsettings\",\n                                             searchPrivProvider.isAuthorised)\n \n-  val contentIndexingSettings = CoreSettingsPage(\"searchpage\",\n-                                                 Searching,\n-                                                 \"setting.contentindexing.title\",\n-                                                 \"setting.contentindexing.desc\",\n-                                                 \"page/contentindexsettings\",\n-                                                 searchPrivProvider.isAuthorised)\n+  val contentIndexingSettings = CoreSettingsPage(\n+    \"contentindexing\",\n+    Searching,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY3Njg0NA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMwMDU1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo0OTo0NlrOGFv_gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMTowMjowOVrOGH_fpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjM2OA==", "bodyText": "It seems ContentIndexSetting does not get used anywhere. Do we need it ?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408682368", "createdAt": "2020-04-15T08:49:46Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "diffHunk": "@@ -0,0 +1,55 @@\n+import {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyOTEyNA==", "bodyText": "It appears to be the main control in the main ContentIndexSettings.tsx.\nI wonder if this should actually be named WedPageIndexSetting. \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r410029124", "createdAt": "2020-04-17T07:01:27Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "diffHunk": "@@ -0,0 +1,55 @@\n+import {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjM2OA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAzMzUwOQ==", "bodyText": "Yeah, WebPageIndexSetting makes a lot more sense than ContentIndexSetting (which sounds far too generic)", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411033509", "createdAt": "2020-04-20T01:02:09Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/ContentIndexSetting.tsx", "diffHunk": "@@ -0,0 +1,55 @@\n+import {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjM2OA=="}, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMzOTg3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOTowMDowMFrOGFwX_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOTowMDowMFrOGFwX_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4ODYzNg==", "bodyText": "searchPageSettingsStrings is not declared in this file or imported.  Was your IDE still happy with this?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408688636", "createdAt": "2020-04-15T09:00:00Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "diffHunk": "@@ -0,0 +1,119 @@\n+import * as React from \"react\";\n+import {\n+  templateDefaults,\n+  TemplateUpdate,\n+  TemplateUpdateProps\n+} from \"../../mainui/Template\";\n+import { routes } from \"../../mainui/routes\";\n+import { Button, Card } from \"@material-ui/core\";\n+import { makeStyles } from \"@material-ui/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  defaultSearchSettings,\n+  getSearchSettingsFromServer,\n+  saveSearchSettingsToServer,\n+  SearchSettings\n+} from \"./SearchSettingsModule\";\n+import MessageInfo from \"../../components/MessageInfo\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"tsrc/components/SettingsListControl\";\n+import DefaultSortOrderSetting from \"./components/DefaultSortOrderSetting\";\n+\n+const useStyles = makeStyles({\n+  floatingButton: {\n+    position: \"fixed\",\n+    top: 0,\n+    right: 0,\n+    marginTop: \"80px\",\n+    marginRight: \"16px\",\n+    width: \"calc(25% - 112px)\"\n+  },\n+  spacedCards: {\n+    margin: \"16px\",\n+    width: \"75%\",\n+    padding: \"16px\",\n+    float: \"left\"\n+  }\n+});\n+\n+function ContentIndexSettings({ updateTemplate }: TemplateUpdateProps) {\n+  const [searchSettings, setSearchSettings] = React.useState<SearchSettings>(\n+    defaultSearchSettings\n+  );\n+  const [showError, setShowError] = React.useState<boolean>(false);\n+  const [showSuccess, setShowSuccess] = React.useState<boolean>(false);\n+\n+  const contentIndexSettingsStrings =\n+    languageStrings.settings.searching.contentIndexSettings;\n+  const classes = useStyles();\n+\n+  React.useEffect(() => {\n+    updateTemplate(tp => ({\n+      ...templateDefaults(contentIndexSettingsStrings.name)(tp),\n+      backRoute: routes.Settings.to\n+    }));\n+    getSearchSettingsFromServer()\n+      .then((settings: SearchSettings) => setSearchSettings(settings))\n+      .catch(error => handleError(error));\n+  }, []);\n+\n+  function handleError(error: TemplateUpdate) {\n+    setShowError(true);\n+    updateTemplate(error);\n+  }\n+\n+  function handleSubmitButton() {\n+    saveSearchSettingsToServer(searchSettings)\n+      .then(() => setShowSuccess(true))\n+      .catch((error: TemplateUpdate) => handleError(error));\n+  }\n+\n+  return (\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList>\n+          <SettingsListControl\n+            divider\n+            primaryText={contentIndexSettingsStrings.name}\n+            secondaryText={searchPageSettingsStrings.defaultSortOrderDesc}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzM1NzQzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOTowNDozNFrOGFwjGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOTowNDozNFrOGFwjGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY5MTQ4MQ==", "bodyText": "Do we need DefaultSortOrderSetting in Content indexing page ?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r408691481", "createdAt": "2020-04-15T09:04:34Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/ContentIndexSettings.tsx", "diffHunk": "@@ -0,0 +1,119 @@\n+import * as React from \"react\";\n+import {\n+  templateDefaults,\n+  TemplateUpdate,\n+  TemplateUpdateProps\n+} from \"../../mainui/Template\";\n+import { routes } from \"../../mainui/routes\";\n+import { Button, Card } from \"@material-ui/core\";\n+import { makeStyles } from \"@material-ui/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  defaultSearchSettings,\n+  getSearchSettingsFromServer,\n+  saveSearchSettingsToServer,\n+  SearchSettings\n+} from \"./SearchSettingsModule\";\n+import MessageInfo from \"../../components/MessageInfo\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"tsrc/components/SettingsListControl\";\n+import DefaultSortOrderSetting from \"./components/DefaultSortOrderSetting\";\n+\n+const useStyles = makeStyles({\n+  floatingButton: {\n+    position: \"fixed\",\n+    top: 0,\n+    right: 0,\n+    marginTop: \"80px\",\n+    marginRight: \"16px\",\n+    width: \"calc(25% - 112px)\"\n+  },\n+  spacedCards: {\n+    margin: \"16px\",\n+    width: \"75%\",\n+    padding: \"16px\",\n+    float: \"left\"\n+  }\n+});\n+\n+function ContentIndexSettings({ updateTemplate }: TemplateUpdateProps) {\n+  const [searchSettings, setSearchSettings] = React.useState<SearchSettings>(\n+    defaultSearchSettings\n+  );\n+  const [showError, setShowError] = React.useState<boolean>(false);\n+  const [showSuccess, setShowSuccess] = React.useState<boolean>(false);\n+\n+  const contentIndexSettingsStrings =\n+    languageStrings.settings.searching.contentIndexSettings;\n+  const classes = useStyles();\n+\n+  React.useEffect(() => {\n+    updateTemplate(tp => ({\n+      ...templateDefaults(contentIndexSettingsStrings.name)(tp),\n+      backRoute: routes.Settings.to\n+    }));\n+    getSearchSettingsFromServer()\n+      .then((settings: SearchSettings) => setSearchSettings(settings))\n+      .catch(error => handleError(error));\n+  }, []);\n+\n+  function handleError(error: TemplateUpdate) {\n+    setShowError(true);\n+    updateTemplate(error);\n+  }\n+\n+  function handleSubmitButton() {\n+    saveSearchSettingsToServer(searchSettings)\n+      .then(() => setShowSuccess(true))\n+      .catch((error: TemplateUpdate) => handleError(error));\n+  }\n+\n+  return (\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList>\n+          <SettingsListControl\n+            divider\n+            primaryText={contentIndexSettingsStrings.name}\n+            secondaryText={searchPageSettingsStrings.defaultSortOrderDesc}\n+            control={\n+              <DefaultSortOrderSetting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cd1ef08d860ae6405e46ec7beac78204507a40"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NTc4ODA1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNjo1MTo1OFrOGHB8kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMDo1NTo1MFrOGH_aaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyNTEwNA==", "bodyText": "Do you need this change? The only place you're using it is still a string. \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r410025104", "createdAt": "2020-04-17T06:51:58Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -10,7 +10,7 @@ import { makeStyles } from \"@material-ui/styles\";\n interface SettingsListControlProps {\n   divider?: boolean;\n   primaryText: string;\n-  secondaryText: string;\n+  secondaryText: string | ReactNode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "975315d1acdcceda8fd385042243c47c12a37444"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA0NjE3Mg==", "bodyText": "In my PR I actually fix this by adding a question mark.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r410046172", "createdAt": "2020-04-17T07:38:46Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -10,7 +10,7 @@ import { makeStyles } from \"@material-ui/styles\";\n interface SettingsListControlProps {\n   divider?: boolean;\n   primaryText: string;\n-  secondaryText: string;\n+  secondaryText: string | ReactNode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyNTEwNA=="}, "originalCommit": {"oid": "975315d1acdcceda8fd385042243c47c12a37444"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAwOTUxNA==", "bodyText": "What issue are you trying to fix?", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411009514", "createdAt": "2020-04-19T22:51:25Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -10,7 +10,7 @@ import { makeStyles } from \"@material-ui/styles\";\n interface SettingsListControlProps {\n   divider?: boolean;\n   primaryText: string;\n-  secondaryText: string;\n+  secondaryText: string | ReactNode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyNTEwNA=="}, "originalCommit": {"oid": "975315d1acdcceda8fd385042243c47c12a37444"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAxMDYxOA==", "bodyText": "OK I think it's a different issue.  The issue I fixed is 'secondaryText' is not allowed to be empty.", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411010618", "createdAt": "2020-04-19T22:58:41Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -10,7 +10,7 @@ import { makeStyles } from \"@material-ui/styles\";\n interface SettingsListControlProps {\n   divider?: boolean;\n   primaryText: string;\n-  secondaryText: string;\n+  secondaryText: string | ReactNode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyNTEwNA=="}, "originalCommit": {"oid": "975315d1acdcceda8fd385042243c47c12a37444"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAzMjE3MQ==", "bodyText": "Yeah, i think this was something i accidentally added in while testing (can't remember what it was). It shouldn't be there. I will remove", "url": "https://github.com/openequella/openEQUELLA/pull/1616#discussion_r411032171", "createdAt": "2020-04-20T00:55:50Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -10,7 +10,7 @@ import { makeStyles } from \"@material-ui/styles\";\n interface SettingsListControlProps {\n   divider?: boolean;\n   primaryText: string;\n-  secondaryText: string;\n+  secondaryText: string | ReactNode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDAyNTEwNA=="}, "originalCommit": {"oid": "975315d1acdcceda8fd385042243c47c12a37444"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1538, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}