{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1Njk2OTAy", "number": 2595, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToyOTo0NVrOFDxGJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToyOTo0NVrOFDxGJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NDk0NDM5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToyOTo0NVrOIDlA9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMToxNjoxM1rOIE8OmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYyMzA5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  .then((results) => {\n          \n          \n            \n                    const [searchSettings, queryStringSearchOptions] = results;\n          \n          \n            \n                  .then(([searchSettings, queryStringSearchOptions]) => {", "url": "https://github.com/openequella/openEQUELLA/pull/2595#discussion_r540623093", "createdAt": "2020-12-11T01:29:45Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -158,24 +162,29 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       isSelectionSessionOpen()\n         ? Promise.resolve(undefined)\n         : queryStringParamsToSearchOptions(location),\n-    ]).then((results) => {\n-      const [searchSettings, queryStringSearchOptions] = results;\n-      setSearchSettings(searchSettings);\n-      if (queryStringSearchOptions)\n-        setSearchPageOptions({\n-          ...queryStringSearchOptions,\n-          dateRangeQuickModeEnabled: false,\n-          sortOrder:\n-            queryStringSearchOptions.sortOrder ??\n-            searchSettings.defaultSearchSort,\n-        });\n-      else\n-        setSearchPageOptions({\n-          ...searchPageOptions,\n-          sortOrder:\n-            searchPageOptions.sortOrder ?? searchSettings.defaultSearchSort,\n-        });\n-    });\n+    ])\n+      .then((results) => {\n+        const [searchSettings, queryStringSearchOptions] = results;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd3645efc8d66b871fc7384f2c4aa3604938ca9b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0NDgwNQ==", "bodyText": "Oh that's an interesting one. That's just part of the prettier reformat. I'll have a play though and see if things are still happy or whether @PenghaiZhang did this for a reason - I've just got a faint memory of something like this coming up before. \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/2595#discussion_r542044805", "createdAt": "2020-12-14T00:42:36Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -158,24 +162,29 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       isSelectionSessionOpen()\n         ? Promise.resolve(undefined)\n         : queryStringParamsToSearchOptions(location),\n-    ]).then((results) => {\n-      const [searchSettings, queryStringSearchOptions] = results;\n-      setSearchSettings(searchSettings);\n-      if (queryStringSearchOptions)\n-        setSearchPageOptions({\n-          ...queryStringSearchOptions,\n-          dateRangeQuickModeEnabled: false,\n-          sortOrder:\n-            queryStringSearchOptions.sortOrder ??\n-            searchSettings.defaultSearchSort,\n-        });\n-      else\n-        setSearchPageOptions({\n-          ...searchPageOptions,\n-          sortOrder:\n-            searchPageOptions.sortOrder ?? searchSettings.defaultSearchSort,\n-        });\n-    });\n+    ])\n+      .then((results) => {\n+        const [searchSettings, queryStringSearchOptions] = results;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYyMzA5Mw=="}, "originalCommit": {"oid": "cd3645efc8d66b871fc7384f2c4aa3604938ca9b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0NzY0Mw==", "bodyText": "The array destructuring? I think Charlie added this when he worked on converting query string to SearchOption.", "url": "https://github.com/openequella/openEQUELLA/pull/2595#discussion_r542047643", "createdAt": "2020-12-14T00:56:09Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -158,24 +162,29 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       isSelectionSessionOpen()\n         ? Promise.resolve(undefined)\n         : queryStringParamsToSearchOptions(location),\n-    ]).then((results) => {\n-      const [searchSettings, queryStringSearchOptions] = results;\n-      setSearchSettings(searchSettings);\n-      if (queryStringSearchOptions)\n-        setSearchPageOptions({\n-          ...queryStringSearchOptions,\n-          dateRangeQuickModeEnabled: false,\n-          sortOrder:\n-            queryStringSearchOptions.sortOrder ??\n-            searchSettings.defaultSearchSort,\n-        });\n-      else\n-        setSearchPageOptions({\n-          ...searchPageOptions,\n-          sortOrder:\n-            searchPageOptions.sortOrder ?? searchSettings.defaultSearchSort,\n-        });\n-    });\n+    ])\n+      .then((results) => {\n+        const [searchSettings, queryStringSearchOptions] = results;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYyMzA5Mw=="}, "originalCommit": {"oid": "cd3645efc8d66b871fc7384f2c4aa3604938ca9b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA1MTk5Mw==", "bodyText": "Yeah, once I was tweaking it I realised it was newer. And seemed all good. \ud83d\udc4d", "url": "https://github.com/openequella/openEQUELLA/pull/2595#discussion_r542051993", "createdAt": "2020-12-14T01:16:13Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -158,24 +162,29 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       isSelectionSessionOpen()\n         ? Promise.resolve(undefined)\n         : queryStringParamsToSearchOptions(location),\n-    ]).then((results) => {\n-      const [searchSettings, queryStringSearchOptions] = results;\n-      setSearchSettings(searchSettings);\n-      if (queryStringSearchOptions)\n-        setSearchPageOptions({\n-          ...queryStringSearchOptions,\n-          dateRangeQuickModeEnabled: false,\n-          sortOrder:\n-            queryStringSearchOptions.sortOrder ??\n-            searchSettings.defaultSearchSort,\n-        });\n-      else\n-        setSearchPageOptions({\n-          ...searchPageOptions,\n-          sortOrder:\n-            searchPageOptions.sortOrder ?? searchSettings.defaultSearchSort,\n-        });\n-    });\n+    ])\n+      .then((results) => {\n+        const [searchSettings, queryStringSearchOptions] = results;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYyMzA5Mw=="}, "originalCommit": {"oid": "cd3645efc8d66b871fc7384f2c4aa3604938ca9b"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1629, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}