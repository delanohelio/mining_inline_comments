{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODAzNTcx", "number": 1814, "title": "Created Search Result component, including storybook tests. Renamed D\u2026", "bodyText": "Checklist\n\n\n the contributor license agreement is signed\n commit message follows commit guidelines\n tests are included\n screenshots are included showing significant UI changes\n\nDescription of change\n\n#1306\nCurrently this component takes a resultData object, which matches the data produced from the new search2 endpoint (#1784). As a result of this the component definitely isn't as well typed. I'm planning on using the interfaces defined in PR #1784 to make the Search result component more robust/typesafe\nThe component will display\n\nItem name\nItem description\nThe thumbnail of the first attachment in an item, falling back to a placeholder icon if the item has no attachments\ncustom metadata, and showing/hiding thumbnails (defined in a collection's Search result display template)\nThe default state of the attachment panel (opened/closed defined in a collection's Search result display template)\n\nThings i'm not sure about:\n\n\nCurrently, all of my logic is happening inside one single component. But I tried to separate everything out as much as possible to aid readability. But some of those areas (attachment display in particular) that could possibly be split into its own comonent, to aid in reuse later\n\n\nStorybook tests. I wasn't sure where to put the test thumbnail i am using. Also, i feel like there is a better, more clean way to test the separate areas of the component\n\n\n\n\n\nWhat isn't included\n\nAttachment grid view\nClicking attachments to view them/more details\nCAL/CLA support", "createdAt": "2020-06-11T02:39:14Z", "url": "https://github.com/openequella/openEQUELLA/pull/1814", "merged": true, "mergeCommit": {"oid": "0f0a659fcf8dd6bb49f8f40503876febc4bcdb1f"}, "closed": true, "closedAt": "2020-06-19T03:21:13Z", "author": {"login": "mrblippy"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqEnVSgH2gAyNDMyODAzNTcxOmNlMmM3MTViMDRiOTQxMGQ4ODVhY2JhNGM2ZGJhMWQyNDE2NjVhN2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcspaUIAFqTQzMzc1OTM2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ce2c715b04b9410d885acba4c6dba1d241665a7f", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/ce2c715b04b9410d885acba4c6dba1d241665a7f", "committedDate": "2020-06-11T02:13:29Z", "message": "Created Search Result component, including storybook tests. Renamed Date component, to prevent clashes with Typescript date object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23b22d2566fcbfd25843a012a8279d638ee861ca", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/23b22d2566fcbfd25843a012a8279d638ee861ca", "committedDate": "2020-06-11T07:32:17Z", "message": "fix attachment panel event type errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9", "committedDate": "2020-06-11T08:07:58Z", "message": "actually add the storybook tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTgxNzUy", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-428981752", "createdAt": "2020-06-11T14:42:11Z", "commit": {"oid": "ce2c715b04b9410d885acba4c6dba1d241665a7f"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0MjoxMVrOGigiyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0Njo0MVrOGigvbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzNzk2Mw==", "bodyText": "Date is already the default export, does it also need a named/aliased export?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438837963", "createdAt": "2020-06-11T14:42:11Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -40,18 +40,21 @@ export default function Date({ displayRelative, date }: DateProps) {\n   const luxDate = DateTime.fromJSDate(date);\n   let primaryDate = luxDate.toLocaleString(DateTime.DATETIME_MED);\n   let hoverDate = luxDate.toRelative() || \"undefined\";\n-\n   if (displayRelative) {\n     //swap 'em around\n     [primaryDate, hoverDate] = [hoverDate, primaryDate];\n   }\n \n   return (\n     <Tooltip title={hoverDate}>\n-      <Typography className={classes.dateModified} variant=\"subtitle1\">\n+      <Typography\n+        className={classes.dateModified}\n+        component=\"span\"\n+        variant=\"body1\"\n+      >\n         {primaryDate}\n       </Typography>\n     </Tooltip>\n   );\n }\n-export { Date };\n+export { Date as DateDisplay };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce2c715b04b9410d885acba4c6dba1d241665a7f"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzOTAwNw==", "bodyText": "There is only one component, a fragment wrapper isn't needed.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <>\n          \n          \n            \n                      <img\n          \n          \n            \n                        className={classes.thumbnail}\n          \n          \n            \n                        src={attachments[0].links.thumbnail}\n          \n          \n            \n                        alt={attachments[0].description}\n          \n          \n            \n                      />\n          \n          \n            \n                    </>\n          \n          \n            \n                    <img\n          \n          \n            \n                      className={classes.thumbnail}\n          \n          \n            \n                      src={attachments[0].links.thumbnail}\n          \n          \n            \n                      alt={attachments[0].description}\n          \n          \n            \n                    />", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438839007", "createdAt": "2020-06-11T14:43:40Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDIyMQ==", "bodyText": "There is a single root tag, ListItem here, a wrapping fragment isn't needed.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <>\n          \n          \n            \n                    <ListItem disableGutters dense>\n          \n          \n            \n                      <Typography\n          \n          \n            \n                        component=\"span\"\n          \n          \n            \n                        variant=\"body2\"\n          \n          \n            \n                        className={classes.heading}\n          \n          \n            \n                        color=\"textPrimary\"\n          \n          \n            \n                      >\n          \n          \n            \n                        {element.name}\n          \n          \n            \n                      </Typography>\n          \n          \n            \n                      <Typography\n          \n          \n            \n                        component=\"span\"\n          \n          \n            \n                        variant=\"body2\"\n          \n          \n            \n                        className={classes.inline}\n          \n          \n            \n                        color=\"textPrimary\"\n          \n          \n            \n                        dangerouslySetInnerHTML={{ __html: element.html }}\n          \n          \n            \n                      ></Typography>\n          \n          \n            \n                    </ListItem>\n          \n          \n            \n                  </>\n          \n          \n            \n                  <ListItem disableGutters dense>\n          \n          \n            \n                    <Typography\n          \n          \n            \n                      component=\"span\"\n          \n          \n            \n                      variant=\"body2\"\n          \n          \n            \n                      className={classes.heading}\n          \n          \n            \n                      color=\"textPrimary\"\n          \n          \n            \n                    >\n          \n          \n            \n                      {element.name}\n          \n          \n            \n                    </Typography>\n          \n          \n            \n                    <Typography\n          \n          \n            \n                      component=\"span\"\n          \n          \n            \n                      variant=\"body2\"\n          \n          \n            \n                      className={classes.inline}\n          \n          \n            \n                      color=\"textPrimary\"\n          \n          \n            \n                      dangerouslySetInnerHTML={{ __html: element.html }}\n          \n          \n            \n                    ></Typography>\n          \n          \n            \n                  </ListItem>", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438840221", "createdAt": "2020-06-11T14:45:21Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 170}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDYzNA==", "bodyText": "same here\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <>\n          \n          \n            \n                      <ListItem\n          \n          \n            \n                        key={attachment.id || attachment.uuid}\n          \n          \n            \n                        button\n          \n          \n            \n                        className={classes.nested}\n          \n          \n            \n                      >\n          \n          \n            \n                        <ListItemIcon>\n          \n          \n            \n                          <InsertDriveFile />\n          \n          \n            \n                        </ListItemIcon>\n          \n          \n            \n                        <ListItemText color=\"primary\" primary={attachment.description} />\n          \n          \n            \n                      </ListItem>\n          \n          \n            \n                    </>\n          \n          \n            \n                    <ListItem\n          \n          \n            \n                      key={attachment.id || attachment.uuid}\n          \n          \n            \n                      button\n          \n          \n            \n                      className={classes.nested}\n          \n          \n            \n                    >\n          \n          \n            \n                      <ListItemIcon>\n          \n          \n            \n                        <InsertDriveFile />\n          \n          \n            \n                      </ListItemIcon>\n          \n          \n            \n                      <ListItemText color=\"primary\" primary={attachment.description} />\n          \n          \n            \n                    </ListItem>", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438840634", "createdAt": "2020-06-11T14:45:55Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <>\n+          <ListItem\n+            key={attachment.id || attachment.uuid}\n+            button\n+            className={classes.nested}\n+          >\n+            <ListItemIcon>\n+              <InsertDriveFile />\n+            </ListItemIcon>\n+            <ListItemText color=\"primary\" primary={attachment.description} />\n+          </ListItem>\n+        </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 188}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MTE5OQ==", "bodyText": "the if contains a return, the else on the line can be omitted.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                else return null;\n          \n          \n            \n                return null;", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438841199", "createdAt": "2020-06-11T14:46:41Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <>\n+          <ListItem\n+            key={attachment.id || attachment.uuid}\n+            button\n+            className={classes.nested}\n+          >\n+            <ListItemIcon>\n+              <InsertDriveFile />\n+            </ListItemIcon>\n+            <ListItemText color=\"primary\" primary={attachment.description} />\n+          </ListItem>\n+        </>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    else return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 212}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ca42e85da566b21e7a5caaa2d06c03a28eb01c1", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/9ca42e85da566b21e7a5caaa2d06c03a28eb01c1", "committedDate": "2020-06-11T23:50:52Z", "message": "Don't explicitly import the thumb.jpg, just use the path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47db123a72c3a62ca5309a9eee1931fc65529dba", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/47db123a72c3a62ca5309a9eee1931fc65529dba", "committedDate": "2020-06-12T00:00:29Z", "message": "actually remove the thumb.jpg import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c1a24b2a2479dff182aba6da7e286af17439289", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/0c1a24b2a2479dff182aba6da7e286af17439289", "committedDate": "2020-06-12T05:31:33Z", "message": "rejigged date component imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/18762f5796c89244c879adde869c5ca8f335242a", "committedDate": "2020-06-12T05:43:00Z", "message": "removed unneccesary react fragments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NDkwMDU2", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-429490056", "createdAt": "2020-06-12T06:26:12Z", "commit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyNjoxMlrOGi4eng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzowNDowNlrOGi5UgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMDExMA==", "bodyText": "May I ask why use the thumbnail and description of the first attachment?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439230110", "createdAt": "2020-06-12T06:26:12Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMDUyMg==", "bodyText": "What about adding the type of returned data and JSDoc?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439230522", "createdAt": "2020-06-12T06:27:24Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMTE4NQ==", "bodyText": "body1 is the default value of variant if I remember.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439231185", "createdAt": "2020-06-12T06:29:17Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 132}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA==", "bodyText": "Can we put {searchResultStrings.dateModified} inside DateDisplay  and then there is no need for the outer Typograph?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439232738", "createdAt": "2020-06-12T06:33:38Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI0MzkwNA==", "bodyText": "Do we need this List which has only one ListItem and one Collapse ?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439243904", "createdAt": "2020-06-12T07:04:06Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 188}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMDg1NTYx", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-431085561", "createdAt": "2020-06-16T00:47:55Z", "commit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMDo0Nzo1NVrOGkHcIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMTowODoxN1rOGkHxyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyMzgwOA==", "bodyText": "Line 53 is not necessary - the default variant is body1.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440523808", "createdAt": "2020-06-16T00:47:55Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -40,15 +40,18 @@ export default function Date({ displayRelative, date }: DateProps) {\n   const luxDate = DateTime.fromJSDate(date);\n   let primaryDate = luxDate.toLocaleString(DateTime.DATETIME_MED);\n   let hoverDate = luxDate.toRelative() || \"undefined\";\n-\n   if (displayRelative) {\n     //swap 'em around\n     [primaryDate, hoverDate] = [hoverDate, primaryDate];\n   }\n \n   return (\n     <Tooltip title={hoverDate}>\n-      <Typography className={classes.dateModified} variant=\"subtitle1\">\n+      <Typography\n+        className={classes.dateModified}\n+        component=\"span\"\n+        variant=\"body1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyNDg2Mw==", "bodyText": "Might be worth using something more responsive than px.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440524863", "createdAt": "2020-06-16T00:51:53Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyODU3Nw==", "bodyText": "Is there a Material UI wrapper for images?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440528577", "createdAt": "2020-06-16T01:05:22Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 117}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTE5OQ==", "bodyText": "Avoid using dangerouslySetInnerHTML as it opens us up to XSS. We have a plugin designed for this - look into react-html-parser.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440529199", "createdAt": "2020-06-16T01:07:40Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 164}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTM1Mg==", "bodyText": "this can be shorthanded to just button", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440529352", "createdAt": "2020-06-16T01:08:17Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 213}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMTA5NjY0", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-431109664", "createdAt": "2020-06-16T02:04:55Z", "commit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjowNDo1NVrOGkIsIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjozMDozNVrOGkJF_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NDI5MQ==", "bodyText": "Wowsers, that's ~140 lines of just Mock data. So that the story can focus on the task at hand, could you push them out into a mock file and then import? (See the __mocks__ directory.)", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440544291", "createdAt": "2020-06-16T02:04:55Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NDcwMA==", "bodyText": "Ummm, is this meant to be here? Looks like it's stray...", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440544700", "createdAt": "2020-06-16T02:06:16Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -26,7 +26,7 @@ const useStyles = makeStyles({\n   },\n });\n export interface DateProps {\n-  /**\n+  /**Date", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NTc4OA==", "bodyText": "Correct me if I'm wrong, but this is the only place you use resultData. So if that's correct, then you might as well just do the de-structuring in the function's argument list.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440545788", "createdAt": "2020-06-16T02:10:34Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NzQ0Nw==", "bodyText": "This made me pause, but then I'm guessing this is done so that a click on the attachments does not trigger a click on the item. Is that correct?\nSeeing I'm having to guess, it could be nice to add a short comment above this line.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440547447", "createdAt": "2020-06-16T02:17:27Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0OTE5Nw==", "bodyText": "Having multiple return paths can lead to bugs and can be good to avoid, so if you stayed with this if/else you'd probably want to setup a result variable and return it at the end of the function. However, you may be able to get away with something like:\n  const thumbnail = (disableThumb: boolean) =>\n      (attachments.length > 0 && !disableThumb) ?\n        <img\n          attr1=\"...\"\n          attrn=\"...\"\n        /> :\n        <Subject ...... />\nNo need for return or if/else.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440549197", "createdAt": "2020-06-16T02:24:13Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MDY3Mw==", "bodyText": "I think it might be okay as is. Not sure we want to add things like a title etc to the simple Date component.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440550673", "createdAt": "2020-06-16T02:29:39Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MDkxMQ==", "bodyText": "I guess we need a TODO on this any to update when we update to use the actual types from the REST Client?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440550911", "createdAt": "2020-06-16T02:30:35Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 171}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMTMyNzY4", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-431132768", "createdAt": "2020-06-16T03:21:59Z", "commit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMTo1OVrOGkJ1sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzozMTowOFrOGkKAqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzEyMg==", "bodyText": "For event listeners use https://github.com/storybookjs/storybook/tree/master/addons/actions\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563122", "createdAt": "2020-06-16T03:21:59Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 148}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzE2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563167", "createdAt": "2020-06-16T03:22:10Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 155}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzIwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563202", "createdAt": "2020-06-16T03:22:17Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const CustomMetadataSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={customMetaSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 162}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzU1NQ==", "bodyText": "consider wrapping the objects in knobs to allow for easy testing with other data.\nhttps://github.com/storybookjs/storybook/tree/master/addons/knobs#object\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={basicSearchObj}\n          \n          \n            \n                resultData={object(\"resultData\", basicSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563555", "createdAt": "2020-06-16T03:23:50Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 147}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzY2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={attachSearchObj}\n          \n          \n            \n                resultData={object(\"result data\", attachSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563660", "createdAt": "2020-06-16T03:24:18Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 154}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2Mzc0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={customMetaSearchObj}\n          \n          \n            \n                resultData={object(\"result data\", customMetaSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563747", "createdAt": "2020-06-16T03:24:39Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const CustomMetadataSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={customMetaSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 161}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2NDkxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  button={true}\n          \n          \n            \n                  button", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440564916", "createdAt": "2020-06-16T03:28:49Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTM1Mg=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 213}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2NTkzMQ==", "bodyText": "Is there a more semantic tag that could be used here?\nhttps://developer.mozilla.org/en-US/docs/Glossary/semantics#Semantic_elements", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440565931", "createdAt": "2020-06-16T03:31:08Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}\n+      key={uuid}\n+    >\n+      {thumbnail(displayOptions.disableThumbnail)}\n+      <ListItemText\n+        primary={name}\n+        secondary={\n+          <>\n+            <Typography className={classes.itemDescription} variant=\"body1\">\n+              {description}\n+            </Typography>\n+            <List disablePadding>{customDisplayMetadata}</List>\n+            {generateAttachmentList()}\n+            <Divider />\n+            {itemMetadata}\n+          </>\n+        }\n+        primaryTypographyProps={{ color: \"primary\", variant: \"h6\" }}\n+        secondaryTypographyProps={{ component: \"div\" }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 231}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1883410abcaab70cab6aab362bc1f0979b8de2b", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/a1883410abcaab70cab6aab362bc1f0979b8de2b", "committedDate": "2020-06-16T04:03:38Z", "message": "removed unnessary variant typography props, body1 is already the default variant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3275b3ba90391337126af8a145c1bdf50e730cd", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/a3275b3ba90391337126af8a145c1bdf50e730cd", "committedDate": "2020-06-17T01:28:01Z", "message": "Replaced attachment list and collapse components with ExpansionPanel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34d40fd0ed183f9bff4f660f060c6988fa192886", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/34d40fd0ed183f9bff4f660f060c6988fa192886", "committedDate": "2020-06-17T01:41:53Z", "message": "removed stray comment from Date component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e70a059175c4ec2835afa2db55e7d5dd01e085ae", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/e70a059175c4ec2835afa2db55e7d5dd01e085ae", "committedDate": "2020-06-17T01:55:45Z", "message": "removed rouge className prop, added todo for arg destructuring work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87cb0456abeb6cc091d09b2a1a5b17a6a084e448", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/87cb0456abeb6cc091d09b2a1a5b17a6a084e448", "committedDate": "2020-06-17T03:02:02Z", "message": "Removed thumbnail ternary, replaced with result variable. Added additional JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37019d588f8aa983abb4c9ca7b440494bb841a3e", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/37019d588f8aa983abb4c9ca7b440494bb841a3e", "committedDate": "2020-06-17T03:16:58Z", "message": "removed unnessesary Date typography variant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b76c933f5b18d50594add16997ca0943cfa15554", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/b76c933f5b18d50594add16997ca0943cfa15554", "committedDate": "2020-06-17T04:01:53Z", "message": "handle custom html data in a less dangerous way"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab15a543306854a9a8ab52359c66a6656b2aca62", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/ab15a543306854a9a8ab52359c66a6656b2aca62", "committedDate": "2020-06-17T04:04:15Z", "message": "simplify listitem button prop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7649921eebe27a550c4be56ac3e23e24a2d5c8d", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/f7649921eebe27a550c4be56ac3e23e24a2d5c8d", "committedDate": "2020-06-17T05:27:41Z", "message": "moved mock search result data to separate file in __mocks__ dir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99170c86aa5ace2fd25de17bee96771ddcff3130", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/99170c86aa5ace2fd25de17bee96771ddcff3130", "committedDate": "2020-06-17T05:37:49Z", "message": "gave SearchResult story some knobs and actions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMDk5NDYz", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-432099463", "createdAt": "2020-06-17T06:40:22Z", "commit": {"oid": "99170c86aa5ace2fd25de17bee96771ddcff3130"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjo0MDoyM1rOGk3qEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjo0MDoyM1rOGk3qEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTMxMzgxMQ==", "bodyText": "The current pattern in oEQ is to use ReactElement rather than JSX.Element. They are interchangeable, but since we are a React-specific project its better to use this.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441313811", "createdAt": "2020-06-17T06:40:23Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -107,29 +116,36 @@ export default function SearchResult({\n   );\n \n   const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    /** prevents the SearchResult onClick from firing when attachment panel is clicked */\n     event.stopPropagation();\n     setAttachExpanded(!attachExapanded);\n   };\n-\n-  const thumbnail = (disableThumb: boolean) => {\n+  /**\n+   * @param {boolean} disableThumb - controls if item thumbnail is displayed\n+   * @return {JSX.Element} image JSX element is returned if item contains attachments, and thumbnail is not disabled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99170c86aa5ace2fd25de17bee96771ddcff3130"}, "originalPosition": 60}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyODU0NTI1", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-432854525", "createdAt": "2020-06-18T00:03:02Z", "commit": {"oid": "99170c86aa5ace2fd25de17bee96771ddcff3130"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b7b9352c1cf1b07fe81187fc87c7abc26c8cd66", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/2b7b9352c1cf1b07fe81187fc87c7abc26c8cd66", "committedDate": "2020-06-18T04:07:06Z", "message": "replaced thumnail return type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a58d77775aed5bb78ddb52982871a1a20f9ed3b9", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/a58d77775aed5bb78ddb52982871a1a20f9ed3b9", "committedDate": "2020-06-18T04:26:06Z", "message": "Merge branch 'component/new-search-page' into feature/search-result-component"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyOTMyMDc4", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-432932078", "createdAt": "2020-06-18T04:27:22Z", "commit": {"oid": "2b7b9352c1cf1b07fe81187fc87c7abc26c8cd66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a279e3b212ceeb40f260964a6e1db3319c62a5d", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/9a279e3b212ceeb40f260964a6e1db3319c62a5d", "committedDate": "2020-06-18T06:38:30Z", "message": "Add Search types from oeq-ts-rest-api to SearchResult Component\n\nNow that the Search api type definitions have been merged in, I have added types to all areas in SearchResult that previously had todos. This should give us more confidence that the SearchResult component can be integrated smoothly into the wider search page."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c641faef944f1a38e55557f865ef47974c9c662", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/7c641faef944f1a38e55557f865ef47974c9c662", "committedDate": "2020-06-18T23:56:12Z", "message": "Import Search module from correct path."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e9b98b3dc6bb6ecef5b677e413ae6e8c1bc8eba", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/0e9b98b3dc6bb6ecef5b677e413ae6e8c1bc8eba", "committedDate": "2020-06-19T00:30:14Z", "message": "Merge branch 'component/new-search-page' into feature/search-result-component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e32027b165671f438f0dcc94b166199bbdcd0384", "author": {"user": {"login": "mrblippy", "name": "Nick Charles"}}, "url": "https://github.com/openequella/openEQUELLA/commit/e32027b165671f438f0dcc94b166199bbdcd0384", "committedDate": "2020-06-19T00:33:00Z", "message": "Remove todo comment that i forgot to remove, since Search type definitions have been incorporated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNzQzODg1", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-433743885", "createdAt": "2020-06-19T01:19:03Z", "commit": {"oid": "e32027b165671f438f0dcc94b166199bbdcd0384"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNzU5MzY5", "url": "https://github.com/openequella/openEQUELLA/pull/1814#pullrequestreview-433759369", "createdAt": "2020-06-19T02:13:36Z", "commit": {"oid": "e32027b165671f438f0dcc94b166199bbdcd0384"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 58, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}