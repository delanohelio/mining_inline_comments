{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NjkxMzU0", "number": 2436, "title": "Fix warnings from eslint", "bodyText": "Checklist\n\n\n the contributor license agreement is signed\n commit message follows commit guidelines\n\nDescription of change\nThis PR is to address warnings that arise from the check:ts task. All have been addressed except those affected by react-hooks/exhaustive-deps rule - as they would require a larger refactor and investigation to fix, and it would mean a lot of re-testing. Best to do as part of another PR.\n\nLots of eqeqeq rule fixes - double equals comparisons that should be triple equals, bang equals should be bang double equals.\nA few link tag fixes - we had a couple of javascript:void(0) links which are not allowed. These were reworked with a href of \"/#\", and a preventDefault on the onClick. A smoke test shows this to be working.\nThere was one link tag needed rel=\"noreferrer\".\nA couple of eval calls were excused from the linter - since they were in dangerous areas (LegacyContent, JQueryDiv) I didn't feel safe to rework them.\nA few tests didn't directly have expect calls - they were either in other functions or reliant on error out for a failure. I have reworked the jest/expect-expect rule such that any function that begins with the word expect will suffice.\nThere was a couple places in which an interface and a default export function had the same identifier. Reworked by prepending 'I' to the interface definition.\nIn the Template, the lefthand menu links are populated dynamically. When they are first defined there is no content as a child of the a tag.", "createdAt": "2020-10-19T05:34:38Z", "url": "https://github.com/openequella/openEQUELLA/pull/2436", "merged": true, "mergeCommit": {"oid": "af223867db9a895edae42e860cde9b3da2f5b066"}, "closed": true, "closedAt": "2020-10-29T22:09:24Z", "author": {"login": "SammyIsConfused"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdT84o_AH2gAyNTA1NjkxMzU0OmMyZjUxOWU3NjlmOGFiMWMwM2NjYTgwYTNjMGQyZjUyNDRhMTNmODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXZm98gH2gAyNTA1NjkxMzU0OjYyYWM0ZWZjNDJmYmRhNDFjZmVmNjUwOWM3NWEyOTNhNGU4NjJlNmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c2f519e769f8ab1c03cca80a3c0d2f5244a13f83", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/c2f519e769f8ab1c03cca80a3c0d2f5244a13f83", "committedDate": "2020-10-19T04:57:58Z", "message": "Make jest/expect-expect rule allow any function starting with expect\n\nThat way expect calls can be refactored into their own function if need be."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16b6942dd09c20733bd8aad1bb3c0f626a719ae7", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/16b6942dd09c20733bd8aad1bb3c0f626a719ae7", "committedDate": "2020-10-19T05:00:29Z", "message": "Fix eqeqeq violations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33232e53f862ba4b2889548b9634a96b61318379", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/33232e53f862ba4b2889548b9634a96b61318379", "committedDate": "2020-10-19T05:01:49Z", "message": "Fix <a> tag violations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fffca4d82fc706c5f052d0492f517d182215751", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/3fffca4d82fc706c5f052d0492f517d182215751", "committedDate": "2020-10-19T05:03:21Z", "message": "Fix interfaces with same name as the function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31798391518fc3e53d9ca521dab49b7861918044", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/31798391518fc3e53d9ca521dab49b7861918044", "committedDate": "2020-10-19T05:03:36Z", "message": "Remove unused var"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "700f44d9e3990225e2d69566174c599c8f03a37d", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/700f44d9e3990225e2d69566174c599c8f03a37d", "committedDate": "2020-10-19T05:04:28Z", "message": "Allow eval in JQueryDiv and LegacyContent.tsx\n\nThese two areas are too big an important to remove the eval without a lot of work."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTExNTI3", "url": "https://github.com/openequella/openEQUELLA/pull/2436#pullrequestreview-512111527", "createdAt": "2020-10-19T19:56:46Z", "commit": {"oid": "700f44d9e3990225e2d69566174c599c8f03a37d"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxOTo1Njo0NlrOHkfYCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxOTo1Nzo0NVrOHkfaTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAyNDg0MQ==", "bodyText": "A couple questions\nI'm not seeing a typescript ESLint rule that enforces an I prefix for interfaces.\nhttps://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin\nHow was this flagged by ESLint? \ud83e\udd28\nAlso is this generally a pattern that will/should be adopted?\nThis is the only place I currently see it.\n\nThere was a couple places in which an interface and a default export function had the same identifier. Reworked by prepending 'I' to the interface definition.\n\nIt seems like these are the odd interfaces out, would it make sense to choose a different name, vs I prefixing?", "url": "https://github.com/openequella/openEQUELLA/pull/2436#discussion_r508024841", "createdAt": "2020-10-19T19:56:46Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/config.ts", "diffHunk": "@@ -18,11 +18,11 @@\n // MUST end in /\n //export const INST_URL = 'http://localhost:8080/reports/';\n \n-interface Config {\n+interface IConfig {\n   baseUrl: string;\n }\n \n-export const Config: Config = {\n+export const Config: IConfig = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "700f44d9e3990225e2d69566174c599c8f03a37d"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAyNTE2MQ==", "bodyText": "same as above", "url": "https://github.com/openequella/openEQUELLA/pull/2436#discussion_r508025161", "createdAt": "2020-10-19T19:57:18Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/legacycontent/LegacyContent.tsx", "diffHunk": "@@ -66,7 +66,7 @@ interface FormUpdate {\n   partial: boolean;\n }\n \n-interface LegacyContent {\n+interface ILegacyContent {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "700f44d9e3990225e2d69566174c599c8f03a37d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAyNTQyMw==", "bodyText": "\ud83d\udc4d \u2b50 thanks for adding this!", "url": "https://github.com/openequella/openEQUELLA/pull/2436#discussion_r508025423", "createdAt": "2020-10-19T19:57:45Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/AdminDownloadDialog.tsx", "diffHunk": "@@ -44,7 +44,7 @@ export default function AdminDownloadDialog({\n       <DialogContent>\n         <DialogContentText>\n           {text.introTextOne}\n-          <a href={link} target=\"_blank\">\n+          <a href={link} target=\"_blank\" rel=\"noreferrer\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "700f44d9e3990225e2d69566174c599c8f03a37d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "163b55b56d655a7b2efb5439f480aacf805bb2b5", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/163b55b56d655a7b2efb5439f480aacf805bb2b5", "committedDate": "2020-10-20T00:11:08Z", "message": "Rename interfaces"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjQ0MzQ1", "url": "https://github.com/openequella/openEQUELLA/pull/2436#pullrequestreview-512244345", "createdAt": "2020-10-20T00:13:14Z", "commit": {"oid": "163b55b56d655a7b2efb5439f480aacf805bb2b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTg3NTM3", "url": "https://github.com/openequella/openEQUELLA/pull/2436#pullrequestreview-516987537", "createdAt": "2020-10-26T16:57:54Z", "commit": {"oid": "163b55b56d655a7b2efb5439f480aacf805bb2b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a4abb64794b53834dc83348b86a26e9b33c8d72", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/6a4abb64794b53834dc83348b86a26e9b33c8d72", "committedDate": "2020-10-26T21:59:09Z", "message": "Merge branch 'develop' into chore/fix_eslint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "920e07ec7eb4c6c136f725f4144aff1bd3c62566", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/920e07ec7eb4c6c136f725f4144aff1bd3c62566", "committedDate": "2020-10-26T22:35:53Z", "message": "Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjI2NTcx", "url": "https://github.com/openequella/openEQUELLA/pull/2436#pullrequestreview-517226571", "createdAt": "2020-10-26T22:38:38Z", "commit": {"oid": "920e07ec7eb4c6c136f725f4144aff1bd3c62566"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cb0887ffb81b5a9d7acfa5fa0e65b3409381128", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/6cb0887ffb81b5a9d7acfa5fa0e65b3409381128", "committedDate": "2020-10-26T23:49:53Z", "message": "Reword import to new filename"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTY3NTI2", "url": "https://github.com/openequella/openEQUELLA/pull/2436#pullrequestreview-518167526", "createdAt": "2020-10-27T21:32:19Z", "commit": {"oid": "6cb0887ffb81b5a9d7acfa5fa0e65b3409381128"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62ac4efc42fbda41cfef6509c75a293a4e862e6b", "author": {"user": null}, "url": "https://github.com/openequella/openEQUELLA/commit/62ac4efc42fbda41cfef6509c75a293a4e862e6b", "committedDate": "2020-10-29T22:07:41Z", "message": "Merge branch 'develop' into chore/fix_eslint"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 416, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}