{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODAzNTcx", "number": 1814, "reviewThreads": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0MjoxMVrOEEtu5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjo0MDoyM1rOEGNrIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzc5MDQ2OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0MjoxMVrOGigiyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0MjoxMVrOGigiyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzNzk2Mw==", "bodyText": "Date is already the default export, does it also need a named/aliased export?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438837963", "createdAt": "2020-06-11T14:42:11Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -40,18 +40,21 @@ export default function Date({ displayRelative, date }: DateProps) {\n   const luxDate = DateTime.fromJSDate(date);\n   let primaryDate = luxDate.toLocaleString(DateTime.DATETIME_MED);\n   let hoverDate = luxDate.toRelative() || \"undefined\";\n-\n   if (displayRelative) {\n     //swap 'em around\n     [primaryDate, hoverDate] = [hoverDate, primaryDate];\n   }\n \n   return (\n     <Tooltip title={hoverDate}>\n-      <Typography className={classes.dateModified} variant=\"subtitle1\">\n+      <Typography\n+        className={classes.dateModified}\n+        component=\"span\"\n+        variant=\"body1\"\n+      >\n         {primaryDate}\n       </Typography>\n     </Tooltip>\n   );\n }\n-export { Date };\n+export { Date as DateDisplay };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce2c715b04b9410d885acba4c6dba1d241665a7f"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzc5NjQzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0Mzo0MFrOGigm3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNTozODo0MFrOGi3pxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzOTAwNw==", "bodyText": "There is only one component, a fragment wrapper isn't needed.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <>\n          \n          \n            \n                      <img\n          \n          \n            \n                        className={classes.thumbnail}\n          \n          \n            \n                        src={attachments[0].links.thumbnail}\n          \n          \n            \n                        alt={attachments[0].description}\n          \n          \n            \n                      />\n          \n          \n            \n                    </>\n          \n          \n            \n                    <img\n          \n          \n            \n                      className={classes.thumbnail}\n          \n          \n            \n                      src={attachments[0].links.thumbnail}\n          \n          \n            \n                      alt={attachments[0].description}\n          \n          \n            \n                    />", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438839007", "createdAt": "2020-06-11T14:43:40Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIxNjU4MQ==", "bodyText": "Yeah, i had only just discovered react fragments, so i just went a bit crazy throwing them in everywhere", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439216581", "createdAt": "2020-06-12T05:38:40Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzOTAwNw=="}, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 123}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzgwMzcwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NToyMVrOGigrnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NToyMVrOGigrnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDIyMQ==", "bodyText": "There is a single root tag, ListItem here, a wrapping fragment isn't needed.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <>\n          \n          \n            \n                    <ListItem disableGutters dense>\n          \n          \n            \n                      <Typography\n          \n          \n            \n                        component=\"span\"\n          \n          \n            \n                        variant=\"body2\"\n          \n          \n            \n                        className={classes.heading}\n          \n          \n            \n                        color=\"textPrimary\"\n          \n          \n            \n                      >\n          \n          \n            \n                        {element.name}\n          \n          \n            \n                      </Typography>\n          \n          \n            \n                      <Typography\n          \n          \n            \n                        component=\"span\"\n          \n          \n            \n                        variant=\"body2\"\n          \n          \n            \n                        className={classes.inline}\n          \n          \n            \n                        color=\"textPrimary\"\n          \n          \n            \n                        dangerouslySetInnerHTML={{ __html: element.html }}\n          \n          \n            \n                      ></Typography>\n          \n          \n            \n                    </ListItem>\n          \n          \n            \n                  </>\n          \n          \n            \n                  <ListItem disableGutters dense>\n          \n          \n            \n                    <Typography\n          \n          \n            \n                      component=\"span\"\n          \n          \n            \n                      variant=\"body2\"\n          \n          \n            \n                      className={classes.heading}\n          \n          \n            \n                      color=\"textPrimary\"\n          \n          \n            \n                    >\n          \n          \n            \n                      {element.name}\n          \n          \n            \n                    </Typography>\n          \n          \n            \n                    <Typography\n          \n          \n            \n                      component=\"span\"\n          \n          \n            \n                      variant=\"body2\"\n          \n          \n            \n                      className={classes.inline}\n          \n          \n            \n                      color=\"textPrimary\"\n          \n          \n            \n                      dangerouslySetInnerHTML={{ __html: element.html }}\n          \n          \n            \n                    ></Typography>\n          \n          \n            \n                  </ListItem>", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438840221", "createdAt": "2020-06-11T14:45:21Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzgwNjI2OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NTo1NVrOGigtOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NTo1NVrOGigtOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDYzNA==", "bodyText": "same here\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <>\n          \n          \n            \n                      <ListItem\n          \n          \n            \n                        key={attachment.id || attachment.uuid}\n          \n          \n            \n                        button\n          \n          \n            \n                        className={classes.nested}\n          \n          \n            \n                      >\n          \n          \n            \n                        <ListItemIcon>\n          \n          \n            \n                          <InsertDriveFile />\n          \n          \n            \n                        </ListItemIcon>\n          \n          \n            \n                        <ListItemText color=\"primary\" primary={attachment.description} />\n          \n          \n            \n                      </ListItem>\n          \n          \n            \n                    </>\n          \n          \n            \n                    <ListItem\n          \n          \n            \n                      key={attachment.id || attachment.uuid}\n          \n          \n            \n                      button\n          \n          \n            \n                      className={classes.nested}\n          \n          \n            \n                    >\n          \n          \n            \n                      <ListItemIcon>\n          \n          \n            \n                        <InsertDriveFile />\n          \n          \n            \n                      </ListItemIcon>\n          \n          \n            \n                      <ListItemText color=\"primary\" primary={attachment.description} />\n          \n          \n            \n                    </ListItem>", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438840634", "createdAt": "2020-06-11T14:45:55Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <>\n+          <ListItem\n+            key={attachment.id || attachment.uuid}\n+            button\n+            className={classes.nested}\n+          >\n+            <ListItemIcon>\n+              <InsertDriveFile />\n+            </ListItemIcon>\n+            <ListItemText color=\"primary\" primary={attachment.description} />\n+          </ListItem>\n+        </>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 188}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzgwOTU3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0Njo0MVrOGigvbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNTozOTo0OVrOGi3qxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MTE5OQ==", "bodyText": "the if contains a return, the else on the line can be omitted.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                else return null;\n          \n          \n            \n                return null;", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r438841199", "createdAt": "2020-06-11T14:46:41Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <>\n+          <ListItem\n+            key={attachment.id || attachment.uuid}\n+            button\n+            className={classes.nested}\n+          >\n+            <ListItemIcon>\n+              <InsertDriveFile />\n+            </ListItemIcon>\n+            <ListItemText color=\"primary\" primary={attachment.description} />\n+          </ListItem>\n+        </>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    else return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 212}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIxNjgzOA==", "bodyText": "I didn't know that. That's very good to know", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439216838", "createdAt": "2020-06-12T05:39:49Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,241 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <>\n+          <img\n+            className={classes.thumbnail}\n+            src={attachments[0].links.thumbnail}\n+            alt={attachments[0].description}\n+          />\n+        </>\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <>\n+        <ListItem disableGutters dense>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.heading}\n+            color=\"textPrimary\"\n+          >\n+            {element.name}\n+          </Typography>\n+          <Typography\n+            component=\"span\"\n+            variant=\"body2\"\n+            className={classes.inline}\n+            color=\"textPrimary\"\n+            dangerouslySetInnerHTML={{ __html: element.html }}\n+          ></Typography>\n+        </ListItem>\n+      </>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <>\n+          <ListItem\n+            key={attachment.id || attachment.uuid}\n+            button\n+            className={classes.nested}\n+          >\n+            <ListItemIcon>\n+              <InsertDriveFile />\n+            </ListItemIcon>\n+            <ListItemText color=\"primary\" primary={attachment.description} />\n+          </ListItem>\n+        </>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    else return null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MTE5OQ=="}, "originalCommit": {"oid": "ae61c8b40c4e7c4d55bf8df18703499d3afcbeb9"}, "originalPosition": 212}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjIxNzUxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyNjoxMlrOGi4eng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNTo0Mjo0NFrOGk2YQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMDExMA==", "bodyText": "May I ask why use the thumbnail and description of the first attachment?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439230110", "createdAt": "2020-06-12T06:26:12Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI5Mjg2Nw==", "bodyText": "Just to keep it simple, i think there was some talk about rotating through all of the different thumbnails. But we're not doing that for the moment", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441292867", "createdAt": "2020-06-17T05:42:44Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMDExMA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjIyMDIxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyNzoyNFrOGi4gOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyNzoyNFrOGi4gOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMDUyMg==", "bodyText": "What about adding the type of returned data and JSDoc?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439230522", "createdAt": "2020-06-12T06:27:24Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjIyNDA5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyOToxN1rOGi4i0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjoyOToxN1rOGi4i0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMTE4NQ==", "bodyText": "body1 is the default value of variant if I remember.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439231185", "createdAt": "2020-06-12T06:29:17Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 132}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjIzNDk0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjozMzozOFrOGi4o4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMTozMzowM1rOGkykug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA==", "bodyText": "Can we put {searchResultStrings.dateModified} inside DateDisplay  and then there is no need for the outer Typograph?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439232738", "createdAt": "2020-06-12T06:33:38Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyMjI0NA==", "bodyText": "We could, but the Date component won't only be used for dateModified. Perhaps I could alter the Date component to accept an optional Title prop?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440522244", "createdAt": "2020-06-16T00:41:55Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MDY3Mw==", "bodyText": "I think it might be okay as is. Not sure we want to add things like a title etc to the simple Date component.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440550673", "createdAt": "2020-06-16T02:29:39Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIzMDUyMg==", "bodyText": "I will leave it alone for the moment", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441230522", "createdAt": "2020-06-17T01:33:03Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjczOA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 142}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjMwNDY5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzowNDowNlrOGi5UgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNjo0Nzo1M1rOGkNaTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI0MzkwNA==", "bodyText": "Do we need this List which has only one ListItem and one Collapse ?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r439243904", "createdAt": "2020-06-12T07:04:06Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 188}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyMTY0Ng==", "bodyText": "Yeah, that's true, it's more a heading than anything. There will never be more than one item in the list. I could change it to an expansion panel, as that makes more sense", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440621646", "createdAt": "2020-06-16T06:47:53Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI0MzkwNA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 188}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDU4MDQzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMDo0Nzo1NVrOGkHcIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMDo0Nzo1NVrOGkHcIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyMzgwOA==", "bodyText": "Line 53 is not necessary - the default variant is body1.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440523808", "createdAt": "2020-06-16T00:47:55Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -40,15 +40,18 @@ export default function Date({ displayRelative, date }: DateProps) {\n   const luxDate = DateTime.fromJSDate(date);\n   let primaryDate = luxDate.toLocaleString(DateTime.DATETIME_MED);\n   let hoverDate = luxDate.toRelative() || \"undefined\";\n-\n   if (displayRelative) {\n     //swap 'em around\n     [primaryDate, hoverDate] = [hoverDate, primaryDate];\n   }\n \n   return (\n     <Tooltip title={hoverDate}>\n-      <Typography className={classes.dateModified} variant=\"subtitle1\">\n+      <Typography\n+        className={classes.dateModified}\n+        component=\"span\"\n+        variant=\"body1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDU4NzAyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMDo1MTo1M1rOGkHgPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMzowNTo0OFrOGk0BsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyNDg2Mw==", "bodyText": "Might be worth using something more responsive than px.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440524863", "createdAt": "2020-06-16T00:51:53Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI1NDMyMQ==", "bodyText": "88px was chosen because that's the same width as the regular thumbnails in oEQ. I think we leave as-is for now, since the non placeholder thumbnail is not responsive either", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441254321", "createdAt": "2020-06-17T03:05:48Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyNDg2Mw=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDYxMDgyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMTowNToyMlrOGkHuwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMzowNjozMFrOGk0CVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyODU3Nw==", "bodyText": "Is there a Material UI wrapper for images?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440528577", "createdAt": "2020-06-16T01:05:22Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 117}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI1NDQ4NQ==", "bodyText": "Don't think so, the closest thing is the Avatar component. But that doesn't quite fit the purpose", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441254485", "createdAt": "2020-06-17T03:06:30Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyODU3Nw=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 117}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDYxNDY5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMTowNzo0MFrOGkHxLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMTowNzo0MFrOGkHxLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTE5OQ==", "bodyText": "Avoid using dangerouslySetInnerHTML as it opens us up to XSS. We have a plugin designed for this - look into react-html-parser.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440529199", "createdAt": "2020-06-16T01:07:40Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 164}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDYxNTcyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMTowODoxN1rOGkHxyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyODo0OVrOGkJ8tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTM1Mg==", "bodyText": "this can be shorthanded to just button", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440529352", "createdAt": "2020-06-16T01:08:17Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 213}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2NDkxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  button={true}\n          \n          \n            \n                  button", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440564916", "createdAt": "2020-06-16T03:28:49Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyOTM1Mg=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 213}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDcwOTQ0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjowNDo1NVrOGkIsIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjowNDo1NVrOGkIsIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NDI5MQ==", "bodyText": "Wowsers, that's ~140 lines of just Mock data. So that the story can focus on the task at hand, could you push them out into a mock file and then import? (See the __mocks__ directory.)", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440544291", "createdAt": "2020-06-16T02:04:55Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDcxMTg5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjowNjoxNlrOGkItvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMTo0MjowOFrOGkyuHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NDcwMA==", "bodyText": "Ummm, is this meant to be here? Looks like it's stray...", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440544700", "createdAt": "2020-06-16T02:06:16Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -26,7 +26,7 @@ const useStyles = makeStyles({\n   },\n });\n export interface DateProps {\n-  /**\n+  /**Date", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIzMjkyNw==", "bodyText": "Yeah, i reckon I had the wrong window focused without realising", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441232927", "createdAt": "2020-06-17T01:42:08Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/Date.tsx", "diffHunk": "@@ -26,7 +26,7 @@ const useStyles = makeStyles({\n   },\n });\n export interface DateProps {\n-  /**\n+  /**Date", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NDcwMA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDcxODY0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjoxMDozNFrOGkIx_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwMzo0MTo0OVrOGlei_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NTc4OA==", "bodyText": "Correct me if I'm wrong, but this is the only place you use resultData. So if that's correct, then you might as well just do the de-structuring in the function's argument list.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440545788", "createdAt": "2020-06-16T02:10:34Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIzNDI1OQ==", "bodyText": "I spoke to Penghai about this, we have decided to do this when his Search2 endpoint work has been merged in (which contains the type definitions i need) But I will put a TODO to make sure I don't forget it", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441234259", "createdAt": "2020-06-17T01:47:32Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NTc4OA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg5NTAzNA==", "bodyText": "Okay cool. So that's been merged in now, will you do it as part of this PR?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441895034", "createdAt": "2020-06-17T23:55:18Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NTc4OA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTk1MDk3NQ==", "bodyText": "I will merge this in as-is, and do a separate PR to fix up the types", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441950975", "createdAt": "2020-06-18T03:41:49Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NTc4OA=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDcyOTAyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjoxNzoyN1rOGkI4dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzowNjo1NFrOGkJoWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NzQ0Nw==", "bodyText": "This made me pause, but then I'm guessing this is done so that a click on the attachments does not trigger a click on the item. Is that correct?\nSeeing I'm having to guess, it could be nice to add a short comment above this line.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440547447", "createdAt": "2020-06-16T02:17:27Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1OTcwNA==", "bodyText": "Yeah, that's correct. But yeah, definitely should have a comment, so the intent is clear", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440559704", "createdAt": "2020-06-16T03:06:54Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0NzQ0Nw=="}, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 110}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDc0MDQxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjoyNDoxM1rOGkI_TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjoyNDoxM1rOGkI_TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU0OTE5Nw==", "bodyText": "Having multiple return paths can lead to bugs and can be good to avoid, so if you stayed with this if/else you'd probably want to setup a result variable and return it at the end of the function. However, you may be able to get away with something like:\n  const thumbnail = (disableThumb: boolean) =>\n      (attachments.length > 0 && !disableThumb) ?\n        <img\n          attr1=\"...\"\n          attrn=\"...\"\n        /> :\n        <Subject ...... />\nNo need for return or if/else.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440549197", "createdAt": "2020-06-16T02:24:13Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 124}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDc1MTMxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjozMDozNVrOGkJF_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMjozMDozNVrOGkJF_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MDkxMQ==", "bodyText": "I guess we need a TODO on this any to update when we update to use the actual types from the REST Client?", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440550911", "createdAt": "2020-06-16T02:30:35Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 171}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgyNzcwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMTo1OVrOGkJ1sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMTo1OVrOGkJ1sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzEyMg==", "bodyText": "For event listeners use https://github.com/storybookjs/storybook/tree/master/addons/actions\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563122", "createdAt": "2020-06-16T03:21:59Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 148}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgyODAxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMjoxMFrOGkJ13w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMjoxMFrOGkJ13w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzE2Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563167", "createdAt": "2020-06-16T03:22:10Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 155}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgyODIwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMjoxN1rOGkJ2Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMjoxN1rOGkJ2Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzIwMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                onClick={() => alert(\"result clicked\")}\n          \n          \n            \n                onClick={action(\"onClick\")}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563202", "createdAt": "2020-06-16T03:22:17Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const CustomMetadataSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={customMetaSearchObj}\n+    onClick={() => alert(\"result clicked\")}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 162}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgzMDQ3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMzo1MFrOGkJ3Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyMzo1MFrOGkJ3Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzU1NQ==", "bodyText": "consider wrapping the objects in knobs to allow for easy testing with other data.\nhttps://github.com/storybookjs/storybook/tree/master/addons/knobs#object\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={basicSearchObj}\n          \n          \n            \n                resultData={object(\"resultData\", basicSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563555", "createdAt": "2020-06-16T03:23:50Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 147}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgzMTA3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyNDoxOFrOGkJ3zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyNDoxOFrOGkJ3zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MzY2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={attachSearchObj}\n          \n          \n            \n                resultData={object(\"result data\", attachSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563660", "createdAt": "2020-06-16T03:24:18Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 154}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDgzMTU4OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyNDozOVrOGkJ4Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoyNDozOVrOGkJ4Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2Mzc0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                resultData={customMetaSearchObj}\n          \n          \n            \n                resultData={object(\"result data\", customMetaSearchObj)}", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440563747", "createdAt": "2020-06-16T03:24:39Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/SearchResult.stories.tsx", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import SearchResult from \"../../tsrc/search/components/SearchResult\";\n+\n+export default {\n+  title: \"SerachResult\",\n+  component: SearchResult,\n+};\n+\n+const basicSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const attachSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+const customMetaSearchObj = {\n+  uuid: \"72558c1d-8788-4515-86c8-b24a28cc451e\",\n+  name: \"Little Larry\",\n+  description: \"A description of a bird\",\n+  status: \"live\",\n+  createdDate: \"2020-05-26T13:24:00.889+10:00\",\n+  modifiedDate: \"2020-05-26T12:45:06.857+10:00\",\n+  collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n+  commentCount: 0,\n+  attachments: [\n+    {\n+      attachmentType: \"file\",\n+      id: \"78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+      description: \"config.json\",\n+      preview: false,\n+      links: {\n+        view:\n+          \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/?attachment.uuid=78b8af7e-f0f5-4b5c-9f44-16f212583fe8\",\n+        thumbnail: \"./thumb.jpg\",\n+      },\n+    },\n+  ],\n+  thumbnail: \"default\",\n+  displayFields: [\n+    {\n+      type: \"node\",\n+      name: \"Collection\",\n+      html: \"cats, bobs, flerps\",\n+    },\n+    {\n+      type: \"node\",\n+      name: \"Url metadata\",\n+      html:\n+        '<a href=\"http://www.abc.net.au/news\">http://www.abc.net.au/news</a>',\n+    },\n+    {\n+      type: \"node\",\n+      name: \"date metadata\",\n+      html: \"02 June 2020\",\n+    },\n+  ],\n+  displayOptions: {\n+    attachmentType: \"STRUCTURED\",\n+    disableThumbnail: false,\n+    standardOpen: true,\n+    integrationOpen: true,\n+  },\n+  links: {\n+    view:\n+      \"http://localhost:8080/rest/items/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+    self:\n+      \"http://localhost:8080/rest/api/item/72558c1d-8788-4515-86c8-b24a28cc451e/1/\",\n+  },\n+};\n+\n+export const BasicSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={basicSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const AttachmentSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={attachSearchObj}\n+    onClick={() => alert(\"result clicked\")}\n+  />\n+);\n+\n+export const CustomMetadataSearchResultComponent = () => (\n+  <SearchResult\n+    resultData={customMetaSearchObj}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 161}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NDg0ODAzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzozMTowOFrOGkKAqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzozMTowOFrOGkKAqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2NTkzMQ==", "bodyText": "Is there a more semantic tag that could be used here?\nhttps://developer.mozilla.org/en-US/docs/Glossary/semantics#Semantic_elements", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r440565931", "createdAt": "2020-06-16T03:31:08Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -0,0 +1,235 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { SyntheticEvent } from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { languageStrings } from \"../../util/langstrings\";\n+import {\n+  ListItem,\n+  Theme,\n+  Typography,\n+  ListItemText,\n+  Divider,\n+  List,\n+  ListItemIcon,\n+  Collapse,\n+} from \"@material-ui/core\";\n+import { Date as DateDisplay } from \"../../components/Date\";\n+import {\n+  InsertDriveFile,\n+  ExpandMore,\n+  ExpandLess,\n+  AttachFile,\n+  Subject,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    inline: {\n+      display: \"inline\",\n+    },\n+    heading: {\n+      fontWeight: \"bold\",\n+      paddingRight: theme.spacing(1),\n+    },\n+    thumbnail: {\n+      paddingRight: theme.spacing(2),\n+    },\n+    placeholderThumbnail: {\n+      paddingRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+      color: theme.palette.text.secondary,\n+    },\n+    itemDescription: {\n+      paddingBottom: theme.spacing(1),\n+    },\n+    additionalDetails: {\n+      flexDirection: \"row\",\n+      display: \"flex\",\n+      paddingTop: theme.spacing(1),\n+    },\n+    status: {\n+      textTransform: \"capitalize\",\n+    },\n+    nested: {\n+      paddingLeft: theme.spacing(4),\n+    },\n+  };\n+});\n+\n+export interface SearchResultProps {\n+  /**\n+   * A json representation of the SearchResult data. TODO: Properly type this when search2 endpoint is merged\n+   */\n+  resultData: any;\n+  /**\n+   * Function will be invoked when the SearchResult list item is clicked\n+   */\n+  onClick: () => void;\n+}\n+export default function SearchResult({\n+  resultData,\n+  onClick,\n+}: SearchResultProps) {\n+  const classes = useStyles();\n+\n+  const searchResultStrings = languageStrings.searchpage.searchresult;\n+\n+  const {\n+    name,\n+    uuid,\n+    description,\n+    displayFields,\n+    modifiedDate,\n+    status,\n+    displayOptions,\n+    attachments,\n+  } = resultData;\n+\n+  const [attachExapanded, setAttachExpanded] = React.useState(\n+    displayOptions.standardOpen\n+  );\n+\n+  const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    event.stopPropagation();\n+    setAttachExpanded(!attachExapanded);\n+  };\n+\n+  const thumbnail = (disableThumb: boolean) => {\n+    if (attachments.length > 0 && !disableThumb) {\n+      return (\n+        <img\n+          className={classes.thumbnail}\n+          src={attachments[0].links.thumbnail}\n+          alt={attachments[0].description}\n+        />\n+      );\n+    } else {\n+      return (\n+        <Subject className={classes.placeholderThumbnail} fontSize=\"large\" />\n+      );\n+    }\n+  };\n+\n+  const itemMetadata = (\n+    <div className={classes.additionalDetails}>\n+      <Typography component=\"span\" variant=\"body1\" className={classes.status}>\n+        {status}\n+      </Typography>\n+      <Divider\n+        flexItem\n+        component=\"span\"\n+        variant=\"middle\"\n+        orientation=\"vertical\"\n+      />\n+      <Typography component=\"span\" variant=\"body1\">\n+        {searchResultStrings.dateModified}&nbsp;\n+        <DateDisplay displayRelative date={new Date(modifiedDate)} />\n+      </Typography>\n+    </div>\n+  );\n+\n+  const customDisplayMetadata = displayFields.map((element: any) => {\n+    return (\n+      <ListItem disableGutters dense>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.heading}\n+          color=\"textPrimary\"\n+        >\n+          {element.name}\n+        </Typography>\n+        <Typography\n+          component=\"span\"\n+          variant=\"body2\"\n+          className={classes.inline}\n+          color=\"textPrimary\"\n+          dangerouslySetInnerHTML={{ __html: element.html }}\n+        ></Typography>\n+      </ListItem>\n+    );\n+  });\n+\n+  const generateAttachmentList = () => {\n+    const attachmentsList = attachments.map((attachment: any) => {\n+      return (\n+        <ListItem\n+          key={attachment.id || attachment.uuid}\n+          button\n+          className={classes.nested}\n+        >\n+          <ListItemIcon>\n+            <InsertDriveFile />\n+          </ListItemIcon>\n+          <ListItemText color=\"primary\" primary={attachment.description} />\n+        </ListItem>\n+      );\n+    });\n+\n+    if (attachmentsList.length > 0)\n+      return (\n+        <List component=\"div\">\n+          <ListItem\n+            button\n+            onClick={(event) => handleAttachmentPanelClick(event)}\n+          >\n+            <ListItemIcon>\n+              <AttachFile />\n+            </ListItemIcon>\n+            <ListItemText primary={searchResultStrings.attachments} />\n+            {attachExapanded ? <ExpandLess /> : <ExpandMore />}\n+          </ListItem>\n+          <Collapse in={attachExapanded} timeout=\"auto\" unmountOnExit>\n+            <List component=\"div\" disablePadding>\n+              {attachmentsList}\n+            </List>\n+          </Collapse>\n+        </List>\n+      );\n+    return null;\n+  };\n+\n+  return (\n+    <ListItem\n+      onClick={onClick}\n+      alignItems=\"flex-start\"\n+      button={true}\n+      key={uuid}\n+    >\n+      {thumbnail(displayOptions.disableThumbnail)}\n+      <ListItemText\n+        primary={name}\n+        secondary={\n+          <>\n+            <Typography className={classes.itemDescription} variant=\"body1\">\n+              {description}\n+            </Typography>\n+            <List disablePadding>{customDisplayMetadata}</List>\n+            {generateAttachmentList()}\n+            <Divider />\n+            {itemMetadata}\n+          </>\n+        }\n+        primaryTypographyProps={{ color: \"primary\", variant: \"h6\" }}\n+        secondaryTypographyProps={{ component: \"div\" }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18762f5796c89244c879adde869c5ca8f335242a"}, "originalPosition": 231}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTUwOTQ2OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjo0MDoyM1rOGk3qEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjo0MDoyM1rOGk3qEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTMxMzgxMQ==", "bodyText": "The current pattern in oEQ is to use ReactElement rather than JSX.Element. They are interchangeable, but since we are a React-specific project its better to use this.", "url": "https://github.com/openequella/openEQUELLA/pull/1814#discussion_r441313811", "createdAt": "2020-06-17T06:40:23Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -107,29 +116,36 @@ export default function SearchResult({\n   );\n \n   const handleAttachmentPanelClick = (event: SyntheticEvent) => {\n+    /** prevents the SearchResult onClick from firing when attachment panel is clicked */\n     event.stopPropagation();\n     setAttachExpanded(!attachExapanded);\n   };\n-\n-  const thumbnail = (disableThumb: boolean) => {\n+  /**\n+   * @param {boolean} disableThumb - controls if item thumbnail is displayed\n+   * @return {JSX.Element} image JSX element is returned if item contains attachments, and thumbnail is not disabled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99170c86aa5ace2fd25de17bee96771ddcff3130"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1383, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}