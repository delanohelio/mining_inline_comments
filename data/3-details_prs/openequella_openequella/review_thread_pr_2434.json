{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NjQ2NjU3", "number": 2434, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMzoxODo1MVrOEvGy6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMTozNDoxMVrOEyJg9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODI5ODY0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/model/SearchResultItem.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMzoxODo1MVrOHj5WFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMzoxODo1MVrOHj5WFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzQwMTc0OQ==", "bodyText": "I have run NewSearchPageTest and I did not find any ACL issue with low privileged user so I think the type does not need to be Option.\nAlso I did not find  any permission about viewing the rating.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r507401749", "createdAt": "2020-10-19T03:18:51Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/model/SearchResultItem.scala", "diffHunk": "@@ -50,6 +50,7 @@ case class SearchResultItem(\n     modifiedDate: Date,\n     collectionId: String,\n     commentCount: Option[Integer],\n+    starRatings: Float,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTMxNTExOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjoxMzowNFrOHkWd9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMzozNTowNlrOHklSqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg3ODkwMw==", "bodyText": "Will this work?\nFloating point equality can have some quirks, but I think this will be okay?", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r507878903", "createdAt": "2020-10-19T16:13:04Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -140,6 +144,26 @@ export default function SearchResult({\n       />\n     );\n \n+    /**\n+     * Generate star icons for Item's ratings.\n+     * Each rating will be rounded to its nearest 0.5.\n+     * For example, 3.33 will be 3.5 and 3.23 will be 3.\n+     */\n+    const showStar = () => {\n+      const rating = Math.round(starRatings * 2) / 2;\n+      return [1, 2, 3, 4, 5].map((i) => {\n+        if (i <= rating) {\n+          return <Star aria-label=\"full-star\" key={i} />;\n+        }\n+\n+        if (i - 0.5 === rating) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODExOTU4Nw==", "bodyText": "Hi @ChristianMurphy , yes, it works in this case. I can also set a epsilon. Do you have any better recommendations for handling float numbers with TS", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508119587", "createdAt": "2020-10-19T23:28:21Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -140,6 +144,26 @@ export default function SearchResult({\n       />\n     );\n \n+    /**\n+     * Generate star icons for Item's ratings.\n+     * Each rating will be rounded to its nearest 0.5.\n+     * For example, 3.33 will be 3.5 and 3.23 will be 3.\n+     */\n+    const showStar = () => {\n+      const rating = Math.round(starRatings * 2) / 2;\n+      return [1, 2, 3, 4, 5].map((i) => {\n+        if (i <= rating) {\n+          return <Star aria-label=\"full-star\" key={i} />;\n+        }\n+\n+        if (i - 0.5 === rating) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg3ODkwMw=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyMTc2OA==", "bodyText": "This could be fine.\nThe alternative would be to skip the / 2 above and use whole numbers/ints.\nBut since this works as is, let's leave it.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508121768", "createdAt": "2020-10-19T23:35:06Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -140,6 +144,26 @@ export default function SearchResult({\n       />\n     );\n \n+    /**\n+     * Generate star icons for Item's ratings.\n+     * Each rating will be rounded to its nearest 0.5.\n+     * For example, 3.33 will be 3.5 and 3.23 will be 3.\n+     */\n+    const showStar = () => {\n+      const rating = Math.round(starRatings * 2) / 2;\n+      return [1, 2, 3, 4, 5].map((i) => {\n+        if (i <= rating) {\n+          return <Star aria-label=\"full-star\" key={i} />;\n+        }\n+\n+        if (i - 0.5 === rating) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg3ODkwMw=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTM2NDEyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjoyNDoxN1rOHkW7wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjoyNDoxN1rOHkW7wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg4NjUzMA==", "bodyText": "neat way of preventing >5 stars \ud83d\udc4d \ud83c\udf1f", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r507886530", "createdAt": "2020-10-19T16:24:17Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -140,6 +144,26 @@ export default function SearchResult({\n       />\n     );\n \n+    /**\n+     * Generate star icons for Item's ratings.\n+     * Each rating will be rounded to its nearest 0.5.\n+     * For example, 3.33 will be 3.5 and 3.23 will be 3.\n+     */\n+    const showStar = () => {\n+      const rating = Math.round(starRatings * 2) / 2;\n+      return [1, 2, 3, 4, 5].map((i) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTM5NTQwOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjozMTo0NlrOHkXPbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMzo1Njo0MVrOHklt2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTU2NQ==", "bodyText": "-1 is this context means no rating?\nwould it make sense to not pass the attribute starRatings if there are not ratings?", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r507891565", "createdAt": "2020-10-19T16:31:46Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "diffHunk": "@@ -140,6 +143,7 @@ const customMetaSearchObj: OEQ.Search.SearchResultItem = {\n   modifiedDate: new Date(\"2020-05-26T12:45:06.857+10:00\"),\n   collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n   commentCount: 0,\n+  starRatings: -1,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyMTIzNg==", "bodyText": "Yes, it means no rating.\nI can make this field optional.  On server side, check if the value is -1 or not and return the value if it's not -1.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508121236", "createdAt": "2020-10-19T23:33:31Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "diffHunk": "@@ -140,6 +143,7 @@ const customMetaSearchObj: OEQ.Search.SearchResultItem = {\n   modifiedDate: new Date(\"2020-05-26T12:45:06.857+10:00\"),\n   collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n   commentCount: 0,\n+  starRatings: -1,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTU2NQ=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyMzM3Nw==", "bodyText": "Okay,\nis the reason behind this decision to avoid null values in the DB?\nOr something else?", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508123377", "createdAt": "2020-10-19T23:40:28Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "diffHunk": "@@ -140,6 +143,7 @@ const customMetaSearchObj: OEQ.Search.SearchResultItem = {\n   modifiedDate: new Date(\"2020-05-26T12:45:06.857+10:00\"),\n   collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n   commentCount: 0,\n+  starRatings: -1,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTU2NQ=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyNTA5OQ==", "bodyText": "Sorry I don't know the reason. This was implemented long long ago by someone else without explaining why use -1. But since the type is float, I think the value defaults to 0.0f.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508125099", "createdAt": "2020-10-19T23:45:20Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "diffHunk": "@@ -140,6 +143,7 @@ const customMetaSearchObj: OEQ.Search.SearchResultItem = {\n   modifiedDate: new Date(\"2020-05-26T12:45:06.857+10:00\"),\n   collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n   commentCount: 0,\n+  starRatings: -1,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTU2NQ=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyODczMQ==", "bodyText": "ah, so this is an existing pattern, got it.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508128731", "createdAt": "2020-10-19T23:56:41Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/__mocks__/searchresult_mock_data.ts", "diffHunk": "@@ -140,6 +143,7 @@ const customMetaSearchObj: OEQ.Search.SearchResultItem = {\n   modifiedDate: new Date(\"2020-05-26T12:45:06.857+10:00\"),\n   collectionId: \"b28f1ffe-2008-4f5e-d559-83c8acd79316\",\n   commentCount: 0,\n+  starRatings: -1,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTU2NQ=="}, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MzY4NjcxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/model/SearchResultItem.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjozODo0OVrOHksu4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjozODo0OVrOHksu4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI0MzY4Mw==", "bodyText": "Missing @param in above ScalaDoc.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508243683", "createdAt": "2020-10-20T06:38:49Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/model/SearchResultItem.scala", "diffHunk": "@@ -50,6 +50,7 @@ case class SearchResultItem(\n     modifiedDate: Date,\n     collectionId: String,\n     commentCount: Option[Integer],\n+    starRatings: Float,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MzY5ODI1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjo0MjoyNlrOHks1zQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjo0MjoyNlrOHks1zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI0NTQ1Mw==", "bodyText": "Nit: Should be else if, but hey.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r508245453", "createdAt": "2020-10-20T06:42:26Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -140,6 +144,26 @@ export default function SearchResult({\n       />\n     );\n \n+    /**\n+     * Generate star icons for Item's ratings.\n+     * Each rating will be rounded to its nearest 0.5.\n+     * For example, 3.33 will be 3.5 and 3.23 will be 3.\n+     */\n+    const showStar = () => {\n+      const rating = Math.round(starRatings * 2) / 2;\n+      return [1, 2, 3, 4, 5].map((i) => {\n+        if (i <= rating) {\n+          return <Star aria-label=\"full-star\" key={i} />;\n+        }\n+\n+        if (i - 0.5 === rating) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22dc8be5f9ea464b29913701ac5b938343101db4"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5ODg4MTM5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/StarRating.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjoyODo0OFrOHnAVTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjoyODo0OFrOHnAVTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2MTk2NQ==", "bodyText": "Probably good to rename this something like 'HalfStarRating' - as that's the state I guess you're demonstrating here (that is, where one of the stars is only half).\nProbably then good to also have stories to cover the examples of:\n\nNo stars;\nFull stars; and\nDifferent number of stars.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r510661965", "createdAt": "2020-10-23T06:28:48Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/StarRating.stories.tsx", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import { Meta, Story } from \"@storybook/react\";\n+import * as React from \"react\";\n+import { StarRating, StarRatingProps } from \"../../tsrc/components/StarRating\";\n+\n+export default {\n+  title: \"StarRating\",\n+  component: StarRating,\n+} as Meta<StarRatingProps>;\n+\n+export const FiveStars: Story<StarRatingProps> = (args) => (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f15b59cdbf5a5de9baba796106c15b48a63df9f3"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5ODg4ODcyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__tests__/tsrc/components/StarRating.test.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjozMTo0M1rOHnAZmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjozMTo0M1rOHnAZmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2MzA2Nw==", "bodyText": "Either this (or additional tests) should be testing boundaries. That is:\n\nTesting for ratings of: 0, half max, max, max + 1;\nTesting for number of stars: 0, 5, lots; amd\nTesting your rounding logic - to make sure it goes up to half, down to whole, etc.\n\nBeing able to easily test all that (at speed) is the real benefit you get here of splitting it out. And combined with parametrised tests, you should be able to do that succinctly.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r510663067", "createdAt": "2020-10-23T06:31:43Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__tests__/tsrc/components/StarRating.test.tsx", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import \"@testing-library/jest-dom/extend-expect\";\n+import { render } from \"@testing-library/react\";\n+import * as React from \"react\";\n+import { StarRating } from \"../../../tsrc/components/StarRating\";\n+\n+describe(\"<StarRating />\", () => {\n+  it.each([", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f15b59cdbf5a5de9baba796106c15b48a63df9f3"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5ODg5MzA5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjozMzo0MVrOHnAcJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjozMzo0MVrOHnAcJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2MzcxOA==", "bodyText": "Should probably be a language string.", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r510663718", "createdAt": "2020-10-23T06:33:41Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -236,6 +238,15 @@ export default function SearchResult({\n             </Typography>\n           </>\n         )}\n+\n+        {starRatings >= 0 && (\n+          <>\n+            {metaDataDivider}\n+            <div aria-label={`item rating: ${starRatings}`}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f15b59cdbf5a5de9baba796106c15b48a63df9f3"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMDIwMTQ5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/StarRating.stories.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMTozNDoxMVrOHooORA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMTozNDoxMVrOHooORA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM2NDEwMA==", "bodyText": "Sorry, should of mentioned this before. Bit by bit I'm trying to keep these stories a bit more structured in the Storybook UI. As a result, could you please change this to:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              title: \"StarRating\",\n          \n          \n            \n              title: \"component/StarRating\",", "url": "https://github.com/openequella/openEQUELLA/pull/2434#discussion_r512364100", "createdAt": "2020-10-27T01:34:11Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/__stories__/components/StarRating.stories.tsx", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import { Meta, Story } from \"@storybook/react\";\n+import * as React from \"react\";\n+import { StarRating, StarRatingProps } from \"../../tsrc/components/StarRating\";\n+\n+export default {\n+  title: \"StarRating\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "318ea335fe1d9295d5bf7504d2cd4820f70a10d2"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1739, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}