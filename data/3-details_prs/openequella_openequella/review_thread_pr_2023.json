{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1ODUwMjg3", "number": 2023, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyMDo0OFrOEMTjGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzoyNToxMVrOEMfIsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzM4NjQ5OnYy", "diffSide": "LEFT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyMDo0OFrOGuVxHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyMDo0OFrOGuVxHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI0NDMxNw==", "bodyText": "Oh! Nice pick-up. \ud83d\udc4d", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451244317", "createdAt": "2020-07-08T02:20:48Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -110,28 +128,24 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n     )\n   );\n \n-  /**\n-   * Provide a memorized callback for updating sort order in order to avoid re-rendering\n-   * component SearchOrderSelect when other search control values are changed.\n-   */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddc1be0cf9b010432fc3569004d122f43adb6b1e"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzM5NzIzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyNzoyN1rOGuV3jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyNzoyN1rOGuV3jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI0NTk2Ng==", "bodyText": "This ternary has gone too far. Feels like it should now be if/else, or maybe...\n{ (searchResults.length < 1 && !showSpinner)\n  ? (<ListItem ...> ... </ListItem>)\n  : searchResults }", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451245966", "createdAt": "2020-07-08T02:27:27Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -110,28 +128,24 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n     )\n   );\n \n-  /**\n-   * Provide a memorized callback for updating sort order in order to avoid re-rendering\n-   * component SearchOrderSelect when other search control values are changed.\n-   */\n   const handleSortOrderChanged = (order: SortOrder) =>\n     setSearchOptions({ ...searchOptions, sortOrder: order });\n \n   const handleQueryChanged = (query: string) =>\n     setSearchOptions({ ...searchOptions, query: query, currentPage: 0 });\n \n   /**\n-   * A list that consists of search result items.\n+   * A list that consists of search result items. Lower the list's opacity when spinner displays.\n    */\n   const searchResultList = (\n-    <List>\n-      {searchResults.length > 0 ? (\n-        searchResults\n-      ) : (\n-        <ListItem key={searchStrings.noResultsFound} divider>\n-          <Typography>{searchStrings.noResultsFound}</Typography>\n-        </ListItem>\n-      )}\n+    <List className={showSpinner ? classes.transparentList : \"\"}>\n+      {searchResults.length > 0\n+        ? searchResults\n+        : !showSpinner && (\n+            <ListItem key={searchStrings.noResultsFound} divider>\n+              <Typography>{searchStrings.noResultsFound}</Typography>\n+            </ListItem>\n+          )}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddc1be0cf9b010432fc3569004d122f43adb6b1e"}, "originalPosition": 99}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzM5ODI3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyODowM1rOGuV4JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjoyODowM1rOGuV4JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI0NjExNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      {/*Add an inline style to make the spinner display at the Card's horizontal center.*/}\n          \n          \n            \n                      {/*Add an inline style to make the spinner displays at the Card's horizontal center.*/}", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451246117", "createdAt": "2020-07-08T02:28:03Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -155,7 +169,21 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n               />\n             }\n           />\n-          <CardContent>{searchResultList}</CardContent>\n+          {/*Add an inline style to make the spinner display at the Card's horizontal center.*/}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddc1be0cf9b010432fc3569004d122f43adb6b1e"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzUwOTE0OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMzozNDo1NVrOGuW4tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMzozNDo1NVrOGuW4tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI2MjY0Ng==", "bodyText": "Since handleError's signature is also a single param with error, this can likely be folded.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  .catch((error: Error) => handleError(error))\n          \n          \n            \n                  .catch(handleError)", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451262646", "createdAt": "2020-07-08T03:34:55Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -91,14 +107,16 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n   };\n \n   /**\n-   * Search items with specified search criteria.\n+   * Search items with specified search criteria and show a spinner when the search is in progress.\n    */\n   const search = (): void => {\n+    setShowSpinner(true);\n     searchItems(searchOptions)\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) =>\n         setPagedSearchResult(items)\n       )\n-      .catch((error: Error) => handleError(error));\n+      .catch((error: Error) => handleError(error))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddc1be0cf9b010432fc3569004d122f43adb6b1e"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzU3MjkzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNDoxMzowMlrOGuXdDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNDozMDo0NVrOGuXuPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI3MTk1MA==", "bodyText": "Pre-commit took out the parenthesis for the condition check.", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451271950", "createdAt": "2020-07-08T04:13:02Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -139,13 +139,13 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n    */\n   const searchResultList = (\n     <List className={showSpinner ? classes.transparentList : \"\"}>\n-      {searchResults.length > 0\n-        ? searchResults\n-        : !showSpinner && (\n-            <ListItem key={searchStrings.noResultsFound} divider>\n-              <Typography>{searchStrings.noResultsFound}</Typography>\n-            </ListItem>\n-          )}\n+      {searchResults.length === 0 && !showSpinner ? (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac4f3611e36b708fa3fd89741b40ca32ccc98902"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI3NjM0OQ==", "bodyText": "That's okay. :)", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451276349", "createdAt": "2020-07-08T04:30:45Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -139,13 +139,13 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n    */\n   const searchResultList = (\n     <List className={showSpinner ? classes.transparentList : \"\"}>\n-      {searchResults.length > 0\n-        ? searchResults\n-        : !showSpinner && (\n-            <ListItem key={searchStrings.noResultsFound} divider>\n-              <Typography>{searchStrings.noResultsFound}</Typography>\n-            </ListItem>\n-          )}\n+      {searchResults.length === 0 && !showSpinner ? (", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI3MTk1MA=="}, "originalCommit": {"oid": "ac4f3611e36b708fa3fd89741b40ca32ccc98902"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzY4NTY5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNToxODozMlrOGuYeJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0MTo1M1rOGugSvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI4ODYxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      {/*Add an inline style to make the spinner displays at the Card's horizontal center.*/}\n          \n          \n            \n                      {/*Add an inline style to make the spinner display at the Card's horizontal center.*/}", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451288614", "createdAt": "2020-07-08T05:18:32Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -155,7 +169,21 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n               />\n             }\n           />\n-          <CardContent>{searchResultList}</CardContent>\n+          {/*Add an inline style to make the spinner displays at the Card's horizontal center.*/}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac4f3611e36b708fa3fd89741b40ca32ccc98902"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjc2NQ==", "bodyText": "oops Ian suggested 'display' -> 'displays' \ud83d\ude06", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451416765", "createdAt": "2020-07-08T09:41:53Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -155,7 +169,21 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n               />\n             }\n           />\n-          <CardContent>{searchResultList}</CardContent>\n+          {/*Add an inline style to make the spinner displays at the Card's horizontal center.*/}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI4ODYxNA=="}, "originalCommit": {"oid": "ac4f3611e36b708fa3fd89741b40ca32ccc98902"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNTI4NDk5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzoyNToxMVrOGun5tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMzoxNDo1OFrOGu8SSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU0MTQzMA==", "bodyText": "would it make sense to move the textAlign from being inline into makeStyles?", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451541430", "createdAt": "2020-07-08T13:25:11Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -155,7 +169,21 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n               />\n             }\n           />\n-          <CardContent>{searchResultList}</CardContent>\n+          {/*Add an inline style to make the spinner display at the Card's horizontal center.*/}\n+          <CardContent style={{ textAlign: \"center\" }}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38cba99180e246e73f86188912bff676a8fc2d86"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg3NTQwMw==", "bodyText": "Hello Christian! We actually had a quick discussion about this yesterday. The reason is we think this style is quite simple and being inline with a comment may help people easily understand why we need it.", "url": "https://github.com/openequella/openEQUELLA/pull/2023#discussion_r451875403", "createdAt": "2020-07-08T23:14:58Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -155,7 +169,21 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n               />\n             }\n           />\n-          <CardContent>{searchResultList}</CardContent>\n+          {/*Add an inline style to make the spinner display at the Card's horizontal center.*/}\n+          <CardContent style={{ textAlign: \"center\" }}>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU0MTQzMA=="}, "originalCommit": {"oid": "38cba99180e246e73f86188912bff676a8fc2d86"}, "originalPosition": 104}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1257, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}