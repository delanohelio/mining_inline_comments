{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0OTA5MTI2", "number": 2089, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzoyMDoxMVrOERQJCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzo0OToxNVrOERQgQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTI1NzA3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzoyMDoxMVrOG13gdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwMDozMTo0MFrOG14vNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg==", "bodyText": "This change means changing rows per page also scrolls window to top. Is that what we want? I feel it's better not to scroll to top in this case.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459137142", "createdAt": "2020-07-22T23:20:11Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzODM2MA==", "bodyText": "Well that's an interesting thought.\n\ud83e\udd14\nBut on thinking it through, I came to this scenario: I'm on page three of my results, and now I've changed the page size from 10 to 50. So previously I was looking at items 21-30, but now I'm looking at items 101-150.\nSo I wonder... Should we actually then go back to the first page and the top of the screen?", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459138360", "createdAt": "2020-07-22T23:23:56Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzOTgxOQ==", "bodyText": "I believe go back to the first page after changing page size is what we have now.  So in your example, you will see 1-50 rather than 101-150.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459139819", "createdAt": "2020-07-22T23:28:35Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0MDkzMA==", "bodyText": "Well in that case, I'd say it definitely seems to make sense to go back to the top, as everything you're looking at has changed.\nBut you didn't really say why you felt it was better not to go to the top. Could you elaborate please?", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459140930", "createdAt": "2020-07-22T23:32:15Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0MTAwNQ==", "bodyText": "With this change, if I stay in page 1 and I change the page size from 10 to 50, I will need to scroll down again to the 10th item and then starting viewing item 11 - 50.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459141005", "createdAt": "2020-07-22T23:32:30Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0OTExMA==", "bodyText": "Okay, so how about we conditionally do it in that scenario? e.g. If changing page size and NOT on page 1, then scrollTop?", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459149110", "createdAt": "2020-07-23T00:00:27Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0OTYzNA==", "bodyText": "I don't feel strongly either way, however I do agree with Penghai that it's annoying when you're browsing a list and you change the no. of results, you have to find where you were up to.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459149634", "createdAt": "2020-07-23T00:02:17Z", "author": {"login": "cathfitz"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE1MjYxMQ==", "bodyText": "I am happy to get this merged in now because doing that conditionally would bring in more complexity.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459152611", "createdAt": "2020-07-23T00:13:29Z", "author": {"login": "PenghaiZhang"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE1NzMwMw==", "bodyText": "Cool, let's press on then and see how it goes.", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459157303", "createdAt": "2020-07-23T00:31:40Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTMxNjUxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzo0OToxNVrOG14C-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzo0OToxNVrOG14C-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0NTk3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //scroll back up to the top of the page\n          \n          \n            \n                    // scroll back up to the top of the page", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459145976", "createdAt": "2020-07-22T23:49:15Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1161, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}