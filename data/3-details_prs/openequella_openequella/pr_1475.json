{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNDI1NzQ1", "number": 1475, "title": "Feature/improve-oEQ-accessibility", "bodyText": "#1432\nChecklist\n\n the [contributor license agreement] is signed\n commit message follows [commit guidelines]\n screenshots are included showing significant UI changes\n\nDescription of change\nAs discussed with @mrblippy , we need to add the attribute 'aria-label' to Screen option' elements.\nThis PR provides the ability of adding 'aria-label' to Wizard controls (e.g. Editbox and Drop-down List) that do not have <label> to describe themselves.\nIn terms of the vertical dots, as it is a standard Material-UI component, we can directly add aria-label to it.", "createdAt": "2020-02-11T00:47:11Z", "url": "https://github.com/openequella/openEQUELLA/pull/1475", "merged": true, "mergeCommit": {"oid": "d579fd68ac2c36a5e034daaa0bd08c099a834e17"}, "closed": true, "closedAt": "2020-02-14T02:23:18Z", "author": {"login": "PenghaiZhang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDGkDgAH2gAyMzczNDI1NzQ1OjVlYjkzMmQ0MjU4MjQ0MDRiN2IwYjY3YmQ1YWMyZDUwNTY1OWE3N2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEE8dLAFqTM1ODY1NzY1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5eb932d425824404b7b0b67bd5ac2d505659a77b", "author": {"user": {"login": "PenghaiZhang", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/5eb932d425824404b7b0b67bd5ac2d505659a77b", "committedDate": "2020-02-11T00:26:40Z", "message": "Add the ability of setting aria-label text to HTML elements."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MzY4NjY4", "url": "https://github.com/openequella/openEQUELLA/pull/1475#pullrequestreview-356368668", "createdAt": "2020-02-11T00:55:26Z", "commit": {"oid": "5eb932d425824404b7b0b67bd5ac2d505659a77b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMDo1NToyNlrOFn63Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMDo1NToyNlrOFn63Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQwMzIzNQ==", "bodyText": "description is spelled wrong here.", "url": "https://github.com/openequella/openEQUELLA/pull/1475#discussion_r377403235", "createdAt": "2020-02-11T00:55:26Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/util/langstrings.ts", "diffHunk": "@@ -371,5 +371,8 @@ export const languageStrings = {\n       notor: \"None match\"\n     },\n     convertGroup: \"Convert to group\"\n+  },\n+  screenOptions: {\n+    descrption: \"Screen options\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5eb932d425824404b7b0b67bd5ac2d505659a77b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6", "author": {"user": {"login": "PenghaiZhang", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/77fc3353f5036b4a623e5cf3bb13766169f4a8b6", "committedDate": "2020-02-11T01:00:36Z", "message": "Fix a spelling issue and all characters of 'screenoptions' should be lowercase."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MzcxMzQ3", "url": "https://github.com/openequella/openEQUELLA/pull/1475#pullrequestreview-356371347", "createdAt": "2020-02-11T01:04:17Z", "commit": {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2Mzc5MjY4", "url": "https://github.com/openequella/openEQUELLA/pull/1475#pullrequestreview-356379268", "createdAt": "2020-02-11T01:35:35Z", "commit": {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjAxMTM3", "url": "https://github.com/openequella/openEQUELLA/pull/1475#pullrequestreview-357201137", "createdAt": "2020-02-12T05:45:31Z", "commit": {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNTo0NTozMlrOFoiXSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNTo0NTozMlrOFoiXSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA1MDM3Nw==", "bodyText": "This seems curious.. You check to see if state.getLabelText() is not empty, however then you use just plain getLabelText() rather than state.getLabelText(). Considering the getLabelText() implementation in AbstractComponentRenderer simply does the state.getLabelText() you could stick to only using that for both calls.", "url": "https://github.com/openequella/openEQUELLA/pull/1475#discussion_r378050377", "createdAt": "2020-02-12T05:45:32Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/src/com/tle/web/sections/standard/renderers/AbstractElementRenderer.java", "diffHunk": "@@ -34,7 +34,10 @@ public AbstractElementRenderer(HtmlComponentState state) {\n   protected void prepareFirstAttributes(SectionWriter writer, Map<String, String> attrs)\n       throws IOException {\n     super.prepareFirstAttributes(writer, attrs);\n-    attrs.put(\"name\", getName(writer)); // $NON-NLS-1$\n+    attrs.put(\"name\", getName(writer));\n+    if (state.getLabel() == null && !state.getLabelText().isEmpty()) {\n+      attrs.put(\"aria-label\", getLabelText());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7e1b4acac006e1a17a1486190e26a457584e019", "author": {"user": {"login": "PenghaiZhang", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/a7e1b4acac006e1a17a1486190e26a457584e019", "committedDate": "2020-02-13T06:26:52Z", "message": "Fix accessibility issues for below oEQ Web components\n* Screen option\n* Search button in the Quick Search Portlet\n* Filter, Sort, Share buttons in the Search page\n* Show attachments button in the Search page\n* Archive extractions dropdown\n* Mandatory fields (textfield only)\n* Modal dialogs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "378b13d498ed41c5c902509b16c61e17a5ace162", "author": {"user": {"login": "PenghaiZhang", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/378b13d498ed41c5c902509b16c61e17a5ace162", "committedDate": "2020-02-13T22:50:49Z", "message": "Give the title DIVs of dialogs a proper id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58240c537a7983c0b84affb2a025ebb2bf2260b4", "author": {"user": {"login": "PenghaiZhang", "name": null}}, "url": "https://github.com/openequella/openEQUELLA/commit/58240c537a7983c0b84affb2a025ebb2bf2260b4", "committedDate": "2020-02-14T00:33:51Z", "message": "Add labels to Star rating"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NjU3NjU4", "url": "https://github.com/openequella/openEQUELLA/pull/1475#pullrequestreview-358657658", "createdAt": "2020-02-14T01:07:26Z", "commit": {"oid": "58240c537a7983c0b84affb2a025ebb2bf2260b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 253, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}