{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyODg0MjE1", "number": 2075, "reviewThreads": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDoyMTozN1rOEP585w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzozNjoxM1rOEQgEpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTEzNTc1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDoyMTozN1rOGzzicQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDoyMTozN1rOGzzicQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NDk2MQ==", "bodyText": "This should be before the param and return statements.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456974961", "createdAt": "2020-07-20T00:21:37Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+  /**\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE0NDE1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDozMDo1NlrOGzzm1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMToyODozMVrOGz0HQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NjA4Ng==", "bodyText": "My eye was immediate draw to this block due to what appears to be excessive nesting. As excessive nesting can make code hard to follow/read/understand intent.\nLooking at this, I wonder why if(hasGeneratedThumb) is in the nesting. It feels as though this whole level can be replaced with an opening statement in this function of:\nif(hasGeneratedThumb) {\n  return oeqProvidedThumb;\n}\nIf that is valid, it then looks like this function could be:\nconst handleMimeType = (mimeType?: string): React.ReactElement => {\n  if (hasGeneratedThumb) {\n    return oeqProvidedThumb;\n  }\n\n  let result = <DefaultFileIcon {...generalThumbStyles} />;\n  if (mimeType?.startsWith(\"image\")) {\n    result = <ImageIcon {...generalThumbStyles} />;\n  } else if (mimeType?.startsWith(\"video\")) {\n    result = <VideoIcon {...generalThumbStyles} />;\n  }\n\n  return result;\n}", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456976086", "createdAt": "2020-07-20T00:30:56Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+  /**\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not\n+   */\n+  const handleMimeType = (mimeType?: string): React.ReactElement => {\n+    let result = <DefaultFileIcon {...generalThumbStyles} />;\n+    if (\n+      mimeType?.startsWith(\"image\") ||\n+      mimeType?.startsWith(\"video\") ||\n+      mimeType?.endsWith(\"/pdf\")\n+    ) {\n+      if (hasGeneratedThumb) {\n+        result = oeqProvidedThumb;\n+      } else {\n+        if (mimeType?.startsWith(\"image\")) {\n+          result = <ImageIcon {...generalThumbStyles} />;\n+        } else if (mimeType?.startsWith(\"video\")) {\n+          result = <VideoIcon {...generalThumbStyles} />;\n+        }\n+      }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4NDM4Nw==", "bodyText": "That should be valid (and more readable) Thanks for the suggestion. I think maybe I had been looking at it for too long \ud83e\udd14 \ud83e\udd2f", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456984387", "createdAt": "2020-07-20T01:28:31Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+  /**\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not\n+   */\n+  const handleMimeType = (mimeType?: string): React.ReactElement => {\n+    let result = <DefaultFileIcon {...generalThumbStyles} />;\n+    if (\n+      mimeType?.startsWith(\"image\") ||\n+      mimeType?.startsWith(\"video\") ||\n+      mimeType?.endsWith(\"/pdf\")\n+    ) {\n+      if (hasGeneratedThumb) {\n+        result = oeqProvidedThumb;\n+      } else {\n+        if (mimeType?.startsWith(\"image\")) {\n+          result = <ImageIcon {...generalThumbStyles} />;\n+        } else if (mimeType?.startsWith(\"video\")) {\n+          result = <VideoIcon {...generalThumbStyles} />;\n+        }\n+      }\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NjA4Ng=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE0NzgxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDozNDo1OFrOGzzo1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDozNDo1OFrOGzzo1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NjU5OQ==", "bodyText": "These should all just be a fall-through. E.g.:\n    case \"custom/flickr\":\n    case \"custom/youtube\":\n    case \"custom/googlebook\":\n      oeqThumb = oeqProvidedThumb;\n      break;\nAlso note, no need for the braces on your case statements. (Both here and in the rest of this switch.)", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456976599", "createdAt": "2020-07-20T00:34:58Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+  /**\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not\n+   */\n+  const handleMimeType = (mimeType?: string): React.ReactElement => {\n+    let result = <DefaultFileIcon {...generalThumbStyles} />;\n+    if (\n+      mimeType?.startsWith(\"image\") ||\n+      mimeType?.startsWith(\"video\") ||\n+      mimeType?.endsWith(\"/pdf\")\n+    ) {\n+      if (hasGeneratedThumb) {\n+        result = oeqProvidedThumb;\n+      } else {\n+        if (mimeType?.startsWith(\"image\")) {\n+          result = <ImageIcon {...generalThumbStyles} />;\n+        } else if (mimeType?.startsWith(\"video\")) {\n+          result = <VideoIcon {...generalThumbStyles} />;\n+        }\n+      }\n+    }\n+    return result;\n+  };\n+\n+  switch (attachmentType) {\n+    case \"file\": {\n+      oeqThumb = handleMimeType(mimeType);\n+      break;\n+    }\n+    case \"link\": {\n+      oeqThumb = <LinkIcon {...generalThumbStyles} />;\n+      break;\n+    }\n+    case \"custom/flickr\": {\n+      oeqThumb = oeqProvidedThumb;\n+      break;\n+    }\n+    case \"custom/youtube\": {\n+      oeqThumb = oeqProvidedThumb;\n+      break;\n+    }\n+    case \"custom/googlebook\": {\n+      oeqThumb = oeqProvidedThumb;\n+      break;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 124}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE0ODkxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDozNjoxNVrOGzzpaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMTo0Mzo0OFrOGz0SBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3Njc0Nw==", "bodyText": "Seeing this is a variable, it makes sense to keep down next to where it's changed/used - i.e. down near the switch statement.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456976747", "createdAt": "2020-07-20T00:36:15Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4NzE0Mg==", "bodyText": "Yeah, it's sort of hanging out in the middle of nowhere as-is", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456987142", "createdAt": "2020-07-20T01:43:48Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3Njc0Nw=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE1MDc2OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDozODoyOFrOGzzqdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMjo1MjoyMVrOGz1JyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NzAxMw==", "bodyText": "So it's interesting to have this duplicated here to match the oEQThumb. Is there something that can be done about this?\nI'm kind of wondering if maybe the generation of the 'placeholder' is also part of OEQThumb.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456977013", "createdAt": "2020-07-20T00:38:28Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -60,6 +61,8 @@ const useStyles = makeStyles((theme: Theme) => {\n     },\n     placeholderThumbnail: {\n       color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n     },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk5MDgwOA==", "bodyText": "I did consider putting the placeholder inside the oEQThumb component. But the search placeholder icon is only really relevant to the SearchResult component.\nI intended that this oEQThumb component could be used in other areas of the oEQ new ui. Eg. Item summary page, attachment details panel.\nIn that case the oEQThumb component would only be used if there were 1 or more attachments, and would never need to produce a placeholder thumbnail.\nNot sure if that justification makes sense. So we can have a chat about it if necessary", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456990808", "createdAt": "2020-07-20T02:01:07Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -60,6 +61,8 @@ const useStyles = makeStyles((theme: Theme) => {\n     },\n     placeholderThumbnail: {\n       color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n     },", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NzAxMw=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk5NDUzMg==", "bodyText": "Maybe following YAGNI then, how about we put it in there for now, and then when we get to that bit see how things look and rework as required.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456994532", "createdAt": "2020-07-20T02:19:40Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -60,6 +61,8 @@ const useStyles = makeStyles((theme: Theme) => {\n     },\n     placeholderThumbnail: {\n       color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n     },", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NzAxMw=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAwMTQxNg==", "bodyText": "Ok, sure thing", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457001416", "createdAt": "2020-07-20T02:52:21Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -60,6 +61,8 @@ const useStyles = makeStyles((theme: Theme) => {\n     },\n     placeholderThumbnail: {\n       color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n     },", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NzAxMw=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE1NDgxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDo0MjoyOFrOGzzsmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDo0MjoyOFrOGzzsmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NzU2Mg==", "bodyText": "Based on what you have here, we'd really just expect a ternary statement. Such as:\nconst thumbnail = (disableThumb: boolean): React.ReactElement =>\n  (attachments.length > 0 && !disableThumb)\n    ? <Subject\n        className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.placeholderThumbnail} ${classes.thumbnail}`}\n        fontSize=\"large\"\n      />\n    : <OEQThumb {...attachments[0]} />;\nBut as noted above, maybe this functionality is simply part of OEQThumb. \ud83e\udd14", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456977562", "createdAt": "2020-07-20T00:42:28Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -116,24 +119,16 @@ export default function SearchResult({\n    * Otherwise, return a placeholder icon, to ensure a consistent layout\n    */\n   const thumbnail = (disableThumb: boolean): React.ReactElement => {\n-    let result: any;\n+    let thumb: any = (\n+      <Subject\n+        className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.placeholderThumbnail} ${classes.thumbnail}`}\n+        fontSize=\"large\"\n+      />\n+    );\n     if (attachments.length > 0 && !disableThumb) {\n-      result = (\n-        <img\n-          className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n-          src={attachments[0].links.thumbnail}\n-          alt={attachments[0].description}\n-        />\n-      );\n-    } else {\n-      result = (\n-        <Subject\n-          className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.placeholderThumbnail} ${classes.thumbnail}`}\n-          fontSize=\"large\"\n-        />\n-      );\n+      thumb = <OEQThumb {...attachments[0]} />;\n     }\n-    return result;\n+    return thumb;\n   };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE2MjM3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/SearchHelper.scala", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMDo0OTo1M1rOGzzwpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzowODo0MFrOGz1fWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3ODU5Ng==", "bodyText": "Can you simply combine these three lines to the more pipeline approach of:\nOption(fileBean.getThumbnail).map { LegacyGuice.fileSystemService.fileExists(item.getFileHandle, _) }", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456978596", "createdAt": "2020-07-20T00:49:53Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/SearchHelper.scala", "diffHunk": "@@ -224,10 +224,13 @@ object SearchHelper {\n     * Determines if attachment contains a generated thumbnail in filestore\n     */\n   def thumbExists(itemKey: ItemIdKey, attachBean: AttachmentBean): Option[Boolean] = {\n+\n     attachBean match {\n       case fileBean: FileAttachmentBean =>\n-        val item = LegacyGuice.viewableItemFactory.createNewViewableItem(itemKey)\n-        Some(LegacyGuice.fileSystemService.fileExists(item.getFileHandle, fileBean.getThumbnail))\n+        val item  = LegacyGuice.viewableItemFactory.createNewViewableItem(itemKey)\n+        val thumb = fileBean.getThumbnail\n+        if (thumb == null) Some(false)\n+        else Some(LegacyGuice.fileSystemService.fileExists(item.getFileHandle, thumb))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAwNjkzNw==", "bodyText": "Yep, that will do nicely", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457006937", "createdAt": "2020-07-20T03:08:40Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/scalasrc/com/tle/web/api/search/SearchHelper.scala", "diffHunk": "@@ -224,10 +224,13 @@ object SearchHelper {\n     * Determines if attachment contains a generated thumbnail in filestore\n     */\n   def thumbExists(itemKey: ItemIdKey, attachBean: AttachmentBean): Option[Boolean] = {\n+\n     attachBean match {\n       case fileBean: FileAttachmentBean =>\n-        val item = LegacyGuice.viewableItemFactory.createNewViewableItem(itemKey)\n-        Some(LegacyGuice.fileSystemService.fileExists(item.getFileHandle, fileBean.getThumbnail))\n+        val item  = LegacyGuice.viewableItemFactory.createNewViewableItem(itemKey)\n+        val thumb = fileBean.getThumbnail\n+        if (thumb == null) Some(false)\n+        else Some(LegacyGuice.fileSystemService.fileExists(item.getFileHandle, thumb))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3ODU5Ng=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE3NjM5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMTowMjozM1rOGzz33A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDo1Njo1OFrOG0oGQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MDQ0NA==", "bodyText": "should this height rule be in thumbnail above? Or are true oEQ thumbnails sometimes different to that?", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456980444", "createdAt": "2020-07-20T01:02:33Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgzNjA5Ng==", "bodyText": "google books are the outlier, which seem to come across in portrait orientation", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457836096", "createdAt": "2020-07-21T04:56:58Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MDQ0NA=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE4MzEyOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMTowODo0OFrOGzz7YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzoxMDowNVrOGz1hiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MTM0NA==", "bodyText": "This can be typed as ReactElement.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456981344", "createdAt": "2020-07-20T01:08:48Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -116,24 +119,16 @@ export default function SearchResult({\n    * Otherwise, return a placeholder icon, to ensure a consistent layout\n    */\n   const thumbnail = (disableThumb: boolean): React.ReactElement => {\n-    let result: any;\n+    let thumb: any = (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAwNzQ5Nw==", "bodyText": "yeah, that's true", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457007497", "createdAt": "2020-07-20T03:10:05Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -116,24 +119,16 @@ export default function SearchResult({\n    * Otherwise, return a placeholder icon, to ensure a consistent layout\n    */\n   const thumbnail = (disableThumb: boolean): React.ReactElement => {\n-    let result: any;\n+    let thumb: any = (", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MTM0NA=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTE4NzE5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMToxMjoyNVrOGzz9sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzowOTo0NVrOGz1g8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MTkzNg==", "bodyText": "You have a stray \"Goodle\" in here :P\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n          \n          \n            \n             * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, PDF based files, YouTube, Flickr, Google books)", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r456981936", "createdAt": "2020-07-20T01:12:25Z", "author": {"login": "SammyIsConfused"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAwNzM0Nw==", "bodyText": "You have a stray \"Goodle\" in here :P\n\nAre you saying goodle is not a real company name \ud83d\ude1d", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457007347", "createdAt": "2020-07-20T03:09:45Z", "author": {"login": "mrblippy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MTkzNg=="}, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTU3MjY4OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMDoyOVrOGz3LKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMDoyOVrOGz3LKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNDUzOQ==", "bodyText": "numbers are automatically px in material ui\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  width: \"88px\",\n          \n          \n            \n                  width: 88,", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457034539", "createdAt": "2020-07-20T04:20:29Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTU3NjA3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMTo0MFrOGz3NLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMTo0MFrOGz3NLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNTA1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n          \n          \n            \n               * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n          \n          \n            \n               * We need to check if a thumbnail has been generated, and return a generic icon if not\n          \n          \n            \n               * We need to check if a thumbnail has been generated, and return a generic icon if not\n          \n          \n            \n               *\n          \n          \n            \n               * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n          \n          \n            \n               * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457035053", "createdAt": "2020-07-20T04:21:40Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Goodle books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  mimeType,\n+  attachmentType,\n+  hasGeneratedThumb,\n+  description,\n+  links,\n+}: OEQ.Search.Attachment) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+  let oeqThumb: React.ReactElement = (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+  /**\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTU4MzI1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMzo0MVrOGz3QgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyMzo0MVrOGz3QgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNTkwNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  height: \"66px\",\n          \n          \n            \n                  height: 66,", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457035904", "createdAt": "2020-07-20T04:23:41Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchResult.tsx", "diffHunk": "@@ -60,6 +61,8 @@ const useStyles = makeStyles((theme: Theme) => {\n     },\n     placeholderThumbnail: {\n       color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MTU4OTQzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyNDo1N1rOGz3Tig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoyNDo1N1rOGz3Tig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNjY4Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  height: \"66px\",\n          \n          \n            \n                  height: 66,", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457036682", "createdAt": "2020-07-20T04:24:57Z", "author": {"login": "ChristianMurphy"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88px\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66px\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c32874e652a42ea1a996568ecfaec7d2441c96f"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzEzMjYxOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjowOTo1NlrOG0peMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjowOTo1NlrOG0peMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg1ODYwOQ==", "bodyText": "Nit: can we have a blank line here please?", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457858609", "createdAt": "2020-07-21T06:09:56Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+interface OEQThumbProps {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8da127c4ce62a3bd2e54d27629dd72851c473a61"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzEzMzMzOnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxMDoxMVrOG0pekA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxMDoxMVrOG0pekA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg1ODcwNA==", "bodyText": "Nit: and another above here?", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457858704", "createdAt": "2020-07-21T06:10:11Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+interface OEQThumbProps {\n+  /**\n+   * On object representing an oEQ attachment. If undefined, a placeholder icon is returned\n+   */\n+  attachment?: OEQ.Search.Attachment;\n+  /**\n+   * True indicates that a placeholder icon should be used instead of the 'real' thumbnail\n+   */\n+  showPlaceholder: boolean;\n+}\n+/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8da127c4ce62a3bd2e54d27629dd72851c473a61"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzEzOTI1OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxMjo1MFrOG0ph_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxMjo1MFrOG0ph_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg1OTU4Mw==", "bodyText": "To make things simpler later, how about here you just go with:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              if (!attachment) {\n          \n          \n            \n              if (!attachment || showPlaceholder) {", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457859583", "createdAt": "2020-07-21T06:12:50Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+interface OEQThumbProps {\n+  /**\n+   * On object representing an oEQ attachment. If undefined, a placeholder icon is returned\n+   */\n+  attachment?: OEQ.Search.Attachment;\n+  /**\n+   * True indicates that a placeholder icon should be used instead of the 'real' thumbnail\n+   */\n+  showPlaceholder: boolean;\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Google books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  attachment,\n+  showPlaceholder,\n+}: OEQThumbProps) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+\n+  if (!attachment) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8da127c4ce62a3bd2e54d27629dd72851c473a61"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzE1MTY3OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxODoxMVrOG0ppaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxODoxMVrOG0ppaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MTQ4MA==", "bodyText": "Couple of things here:\n\nWith my suggestion above regarding showPlaceholder, this no longer needs the ternary; and\nYou've now repeated <DefaultFileIcon {...generalThumbStyles} />. You should just move this to a constant up above the handleMimeType function so that you can use it in there and here. (i.e. const defaultThumb = <DefaultFileIcon {...generalThumbStyles} />)\n\nWith that in mind, this block would then just be:\nlet oeqThumb = defaultThumb;", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457861480", "createdAt": "2020-07-21T06:18:11Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66\",\n+    },\n+  };\n+});\n+\n+interface ThumbProps {\n+  className: string;\n+  fontSize: \"inherit\" | \"default\" | \"small\" | \"large\";\n+}\n+interface OEQThumbProps {\n+  /**\n+   * On object representing an oEQ attachment. If undefined, a placeholder icon is returned\n+   */\n+  attachment?: OEQ.Search.Attachment;\n+  /**\n+   * True indicates that a placeholder icon should be used instead of the 'real' thumbnail\n+   */\n+  showPlaceholder: boolean;\n+}\n+/**\n+ * OEQThumb component\n+ * Takes an OEQ.Search.Attachment object as a parameter.\n+ * The thumbnail will be served up from oEQ if the attachment has had a thumbnail generated (Image, video, pdf based files, Youtube, Flickr, Google books)\n+ * Otherwise, an appropriate Icon is returned\n+ */\n+export default function OEQThumb({\n+  attachment,\n+  showPlaceholder,\n+}: OEQThumbProps) {\n+  const classes = useStyles();\n+  const generalThumbStyles: ThumbProps = {\n+    className: `MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail} ${classes.placeholderThumbnail}`,\n+    fontSize: \"large\",\n+  };\n+\n+  if (!attachment) {\n+    return <PlaceholderIcon {...generalThumbStyles} />;\n+  }\n+\n+  const {\n+    description,\n+    mimeType,\n+    attachmentType,\n+    hasGeneratedThumb,\n+    links,\n+  } = attachment;\n+\n+  const oeqProvidedThumb: React.ReactElement = (\n+    <img\n+      className={`MuiPaper-elevation1 MuiPaper-rounded ${classes.thumbnail}`}\n+      src={links.thumbnail}\n+      alt={description}\n+    />\n+  );\n+\n+  /**\n+   * We need to check if a thumbnail has been generated, and return a generic icon if not\n+   * @param {string} mimeType - Attachment's Mimetype. eg. image/png application/pdf\n+   * @return {ReactElement} Image, video and pdf based mimetypes are thumbnailed by oEQ.\n+   */\n+  const handleMimeType = (mimeType?: string): React.ReactElement => {\n+    if (hasGeneratedThumb) {\n+      return oeqProvidedThumb;\n+    }\n+    let result = <DefaultFileIcon {...generalThumbStyles} />;\n+    if (mimeType?.startsWith(\"image\")) {\n+      result = <ImageIcon {...generalThumbStyles} />;\n+    } else if (mimeType?.startsWith(\"video\")) {\n+      result = <VideoIcon {...generalThumbStyles} />;\n+    }\n+    return result;\n+  };\n+\n+  let oeqThumb: React.ReactElement = showPlaceholder ? (\n+    <PlaceholderIcon {...generalThumbStyles} />\n+  ) : (\n+    <DefaultFileIcon {...generalThumbStyles} />\n+  );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8da127c4ce62a3bd2e54d27629dd72851c473a61"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzM3OTE5OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzozNTozMVrOG0rwxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzozNTozMVrOG0rwxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5NjEzMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  width: \"88\",\n          \n          \n            \n                  width: 88,", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457896133", "createdAt": "2020-07-21T07:35:31Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e19414c746795dbd1d820a3e9e6c3277c948bd"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzM4MTQ4OnYy", "diffSide": "RIGHT", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzozNjoxM1rOG0ryKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzozNjoxM1rOG0ryKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5NjQ4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  height: \"66\",\n          \n          \n            \n                  height: 66,", "url": "https://github.com/openequella/openEQUELLA/pull/2075#discussion_r457896488", "createdAt": "2020-07-21T07:36:13Z", "author": {"login": "edalex-ian"}, "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/OEQThumb.tsx", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to The Apereo Foundation under one or more contributor license\n+ * agreements. See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.\n+ *\n+ * The Apereo Foundation licenses this file to you under the Apache License,\n+ * Version 2.0, (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+import * as React from \"react\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n+import { Theme } from \"@material-ui/core\";\n+import * as OEQ from \"@openequella/rest-api-client\";\n+import {\n+  Link as LinkIcon,\n+  Movie as VideoIcon,\n+  Panorama as ImageIcon,\n+  InsertDriveFile as DefaultFileIcon,\n+  Language as WebIcon,\n+  Subject as PlaceholderIcon,\n+} from \"@material-ui/icons\";\n+\n+const useStyles = makeStyles((theme: Theme) => {\n+  return {\n+    thumbnail: {\n+      //if material UI changes such that the MuiPaper-elevation1 MuiPaper-rounded no longer map, add the rules here.\n+      marginRight: theme.spacing(2),\n+      width: \"88\",\n+      height: \"auto\",\n+    },\n+    placeholderThumbnail: {\n+      color: theme.palette.text.secondary,\n+      opacity: 0.4,\n+      height: \"66\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e19414c746795dbd1d820a3e9e6c3277c948bd"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1309, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}