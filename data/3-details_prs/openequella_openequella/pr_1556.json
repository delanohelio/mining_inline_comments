{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxODk3OTM0", "number": 1556, "title": "style: replace git-format-staged and pretty-quick with lint-staged", "bodyText": "Checklist\n\n\n the contributor license agreement is signed\n commit message follows commit guidelines\n\nDescription of change\nlint-staged offers a few niceties:\n\nit has more concise and expressive pattern matching than pretty-quick or git-format-staged\nit can run lint tasks in parallel\nit offers more readable output in the cli\nit is a single dependency instead of two dependencies\n\nit maintains the same overall behavior as before, when files are staged, they are run through the linters.\nthe output from the linters are automatically staged as well, and the nicely formatted files are committed.\nNOTE: Both lint-staged 10 and husky 4 require Node 10+", "createdAt": "2020-03-21T19:01:30Z", "url": "https://github.com/openequella/openEQUELLA/pull/1556", "merged": true, "mergeCommit": {"oid": "f9ea47ef4cf1f088dc36def845be8ead6cb8ec28"}, "closed": true, "closedAt": "2020-03-24T00:45:50Z", "author": {"login": "ChristianMurphy"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcP5-cAAFqTM3ODk0MzAxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcP6J-SABqjMxNTIwMTQyODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTQzMDEx", "url": "https://github.com/openequella/openEQUELLA/pull/1556#pullrequestreview-378943011", "createdAt": "2020-03-21T19:03:52Z", "commit": {"oid": "57c90917f2374a9180471fdafe1dc098ea1df720"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxOTowMzo1M1rOF5rHvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxOTowMzo1M1rOF5rHvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAxOTY0NA==", "bodyText": "having a script on install can cause npm to fail before generating the node_modules folder.\nHaving this as postinstall ensures install can happen and succeed or fail independently of these copy tasks.", "url": "https://github.com/openequella/openEQUELLA/pull/1556#discussion_r396019644", "createdAt": "2020-03-21T19:03:53Z", "author": {"login": "ChristianMurphy"}, "path": "package.json", "diffHunk": "@@ -2,11 +2,8 @@\n   \"name\": \"openequella\",\n   \"private\": true,\n   \"scripts\": {\n-    \"install\": \"cross-env-shell \\\"./coursier bootstrap com.geirsson:scalafmt-cli_2.12:1.5.1 -f -o node_modules/.bin/scalafmt && ./coursier bootstrap com.google.googlejavaformat:google-java-format:1.7 -f -o node_modules/.bin/google-java-format\\\"\",\n-    \"format-commit:scala\": \"git-format-staged -f \\\"scalafmt --stdin --assume-filename \\\\\\\"{}\\\\\\\"\\\" \\\"*.scala\\\" \\\"*.sbt\\\"\",\n-    \"format-commit:java\": \"git-format-staged -f \\\"google-java-format --assume-filename \\\\\\\"{}\\\\\\\" -\\\" \\\"*.java\\\"\",\n+    \"postinstall\": \"cross-env-shell \\\"./coursier bootstrap com.geirsson:scalafmt-cli_2.12:1.5.1 -f -o node_modules/.bin/scalafmt && ./coursier bootstrap com.google.googlejavaformat:google-java-format:1.7 -f -o node_modules/.bin/google-java-format\\\"\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c90917f2374a9180471fdafe1dc098ea1df720"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90ee9b3d7281ab4325e13943a9f04551402f4cab", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/90ee9b3d7281ab4325e13943a9f04551402f4cab", "committedDate": "2020-03-21T19:19:49Z", "message": "style: replace git-format-staged and pretty-quick with lint-staged\n\nlint-staged offers a few niceties:\n1. it has more consise and expressive pattern matching than pretty-quick or git-format-staged\n2. it can run lint tasks in parallel\n3. it offers more readable output in the cli\n4. it is a single dependency instead of two dependencies\n\nit maintains the same overall behavior as before, when files are staged, they are run through the linters.\nthe output from the linters are automatically staged as well, and the nicely formatted files are committed.\n\nNOTE: Both lint-staged 10 and husky 4 require Node 10+"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57c90917f2374a9180471fdafe1dc098ea1df720", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/57c90917f2374a9180471fdafe1dc098ea1df720", "committedDate": "2020-03-21T18:52:59Z", "message": "style: replace git-format-staged and pretty-quick with lint-staged\n\nlint-staged offers a few niceties:\n1. it has more consise and expressive pattern matching than pretty-quick or git-format-staged\n2. it can run lint tasks in parallel\n3. it offers more readable output in the cli\n4. it is a single dependency instead of two dependencies\n\nit maintains the same overall behavior as before, when files are staged, they are run through the linters.\nthe output from the linters are automatically staged as well, and the nicely formatted files are committed.\n\nNOTE: Both lint-staged 10 and husky 4 require Node 10+"}, "afterCommit": {"oid": "90ee9b3d7281ab4325e13943a9f04551402f4cab", "author": {"user": {"login": "ChristianMurphy", "name": "Christian Murphy"}}, "url": "https://github.com/openequella/openEQUELLA/commit/90ee9b3d7281ab4325e13943a9f04551402f4cab", "committedDate": "2020-03-21T19:19:49Z", "message": "style: replace git-format-staged and pretty-quick with lint-staged\n\nlint-staged offers a few niceties:\n1. it has more consise and expressive pattern matching than pretty-quick or git-format-staged\n2. it can run lint tasks in parallel\n3. it offers more readable output in the cli\n4. it is a single dependency instead of two dependencies\n\nit maintains the same overall behavior as before, when files are staged, they are run through the linters.\nthe output from the linters are automatically staged as well, and the nicely formatted files are committed.\n\nNOTE: Both lint-staged 10 and husky 4 require Node 10+"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 170, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}