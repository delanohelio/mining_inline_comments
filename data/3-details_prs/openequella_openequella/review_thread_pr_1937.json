{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5NjI4NTU2", "number": 1937, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDoxNzo0M1rOEImxeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDoxNzo1MVrOEImxhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDU5MzIxOnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDoxNzo0M1rOGoqzRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDo0MDoxMFrOGorHSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTI5NzQ3Nw==", "bodyText": "\ud83e\udd14 if upload is where the script is taking most of the hit, it may be worth adding some additional compression to reduce the size\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      tar cvf coverage_report.tar autotest/target/coverage-report/\n          \n          \n            \n                      tar cvzf coverage_report.tar.gz autotest/target/coverage-report/", "url": "https://github.com/openequella/openEQUELLA/pull/1937#discussion_r445297477", "createdAt": "2020-06-25T04:17:43Z", "author": {"login": "ChristianMurphy"}, "path": ".github/workflows/ci.yaml", "diffHunk": "@@ -255,8 +255,15 @@ jobs:\n           ./sbt -jvm-opts autotest/.jvmopts \"project autotest\" \\\n             coverageReport\n \n+      # To save significant time on file upload, we first tar up the directory\n+      # as it contains > 10k files and the artefact upload was taking almost\n+      # 1hr.\n+      - name: Package Coverage Report\n+        run: |\n+          tar cvf coverage_report.tar autotest/target/coverage-report/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6ddd3fffed2727ab1b1351e8746204f0e59da7b"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjYwMA==", "bodyText": "I felt it was more the IO of opening and closing all the files - especially seeing a lot are tiny. Plus, the artefact upload action compresses to zip as well.", "url": "https://github.com/openequella/openEQUELLA/pull/1937#discussion_r445302600", "createdAt": "2020-06-25T04:40:10Z", "author": {"login": "edalex-ian"}, "path": ".github/workflows/ci.yaml", "diffHunk": "@@ -255,8 +255,15 @@ jobs:\n           ./sbt -jvm-opts autotest/.jvmopts \"project autotest\" \\\n             coverageReport\n \n+      # To save significant time on file upload, we first tar up the directory\n+      # as it contains > 10k files and the artefact upload was taking almost\n+      # 1hr.\n+      - name: Package Coverage Report\n+        run: |\n+          tar cvf coverage_report.tar autotest/target/coverage-report/", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTI5NzQ3Nw=="}, "originalCommit": {"oid": "e6ddd3fffed2727ab1b1351e8746204f0e59da7b"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDU5MzMyOnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDoxNzo1MVrOGoqzWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDoxNzo1MVrOGoqzWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTI5NzQ5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      path: coverage_report.tar\n          \n          \n            \n                      path: coverage_report.tar.gz", "url": "https://github.com/openequella/openEQUELLA/pull/1937#discussion_r445297496", "createdAt": "2020-06-25T04:17:51Z", "author": {"login": "ChristianMurphy"}, "path": ".github/workflows/ci.yaml", "diffHunk": "@@ -255,8 +255,15 @@ jobs:\n           ./sbt -jvm-opts autotest/.jvmopts \"project autotest\" \\\n             coverageReport\n \n+      # To save significant time on file upload, we first tar up the directory\n+      # as it contains > 10k files and the artefact upload was taking almost\n+      # 1hr.\n+      - name: Package Coverage Report\n+        run: |\n+          tar cvf coverage_report.tar autotest/target/coverage-report/\n+\n       - name: Save Coverage Report\n         uses: actions/upload-artifact@v2.0.1\n         with:\n           name: CoverageReport-newui-${{ matrix.newui }}\n-          path: autotest/target/coverage-report/\n+          path: coverage_report.tar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6ddd3fffed2727ab1b1351e8746204f0e59da7b"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1335, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}