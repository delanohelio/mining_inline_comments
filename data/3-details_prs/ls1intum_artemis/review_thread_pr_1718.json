{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNTcwNjQ2", "number": 1718, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1MDoxOVrOEJfJlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1NDoyMFrOEJfKzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzgyOTk5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1MDoxOVrOGqAjrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1MDoxOVrOGqAjrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwMjUwOQ==", "bodyText": "This makes sense for me, good work! \ud83d\udc4d", "url": "https://github.com/ls1intum/Artemis/pull/1718#discussion_r446702509", "createdAt": "2020-06-28T21:50:19Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "diffHunk": "@@ -29,31 +31,30 @@ export class ProgrammingExamSubmissionComponent extends ExamSubmissionComponent\n     readonly ButtonSize = ButtonSize;\n \n     hasUnsavedChanges(): boolean {\n-        if (this.isNotOfflineIdeMode()) {\n+        if (this.exercise.allowOfflineIde && !this.exercise.allowOnlineEditor) {\n             return false;\n         }\n         return this.codeEditorComponent.editorState === EditorState.UNSAVED_CHANGES;\n     }\n \n     // eslint-disable-next-line @typescript-eslint/no-unused-vars\n     ngOnChanges(changes: SimpleChanges): void {\n-        if (!this.isNotOfflineIdeMode()) {\n+        if (this.exercise.allowOnlineEditor) {\n             // show submission answers in UI\n         }\n     }\n \n     ngOnInit(): void {}\n \n-    isNotOfflineIdeMode(): boolean {\n-        return this.exercise.allowOfflineIde && !this.exercise.allowOnlineEditor;\n-    }\n-\n-    isOnlyCodeEditorMode(): boolean {\n-        return !this.exercise.allowOfflineIde && this.exercise.allowOnlineEditor;\n-    }\n-\n-    updateSubmissionFromView(): void {\n-        // Saves the changed files but does not commit the changes, as this would trigger a CI run\n-        this.codeEditorComponent.actions.commit();\n+    updateSubmissionFromView(intervalSave: boolean): void {\n+        if (this.exercise.allowOnlineEditor) {\n+            if (intervalSave) {\n+                // The 60s auto save should only save and NOT commit the files, as this would trigger a CI run. Just save the files", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d5d66437445138d626160e0006f736396c9578"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzgzMzA4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-repository.service.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1NDoyMFrOGqAlHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo1OTo0N1rOGqAnKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwMjg3Ng==", "bodyText": "How should we handle HTTP Error 502 (Bad Gateway) here? It will be returned if the load balancer/proxy cannot reach Artemis.", "url": "https://github.com/ls1intum/Artemis/pull/1718#discussion_r446702876", "createdAt": "2020-06-28T21:54:20Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-repository.service.ts", "diffHunk": "@@ -58,6 +61,10 @@ const handleErrorResponse = <T>(conflictService: CodeEditorConflictStateService)\n             if (err.status === 409) {\n                 conflictService.notifyConflictState(GitConflictState.CHECKOUT_CONFLICT);\n             }\n+            // If we receive a timeout error, return ok and sync later\n+            if (err.status === 504) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d5d66437445138d626160e0006f736396c9578"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwMzQwMw==", "bodyText": "I guess there are more error codes that we should handle, only 409 means the server reported a conflict.\nWe might consider in a follow up that we use an else statement here instead", "url": "https://github.com/ls1intum/Artemis/pull/1718#discussion_r446703403", "createdAt": "2020-06-28T21:59:47Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-repository.service.ts", "diffHunk": "@@ -58,6 +61,10 @@ const handleErrorResponse = <T>(conflictService: CodeEditorConflictStateService)\n             if (err.status === 409) {\n                 conflictService.notifyConflictState(GitConflictState.CHECKOUT_CONFLICT);\n             }\n+            // If we receive a timeout error, return ok and sync later\n+            if (err.status === 504) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwMjg3Ng=="}, "originalCommit": {"oid": "b1d5d66437445138d626160e0006f736396c9578"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4917, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}