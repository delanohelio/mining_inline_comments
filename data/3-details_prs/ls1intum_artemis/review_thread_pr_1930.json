{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMTQ5MTA1", "number": 1930, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTozN1rOEPyyNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMjoxOTozNVrOEPy4Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTk2MTUwOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTozN1rOGzqy6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTozN1rOGzqy6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTcyMg==", "bodyText": "?", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831722", "createdAt": "2020-07-18T21:55:37Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTk2MTgzOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTo1N1rOGzqzDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTo1N1rOGzqzDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc1OQ==", "bodyText": "?", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831759", "createdAt": "2020-07-18T21:55:57Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTk2MjExOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NjozM1rOGzqzMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NjozM1rOGzqzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc5Mg==", "bodyText": "\ud83d\ude49", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831792", "createdAt": "2020-07-18T21:56:33Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTk2MjM4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1Njo1MlrOGzqzTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1Njo1MlrOGzqzTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTgyMw==", "bodyText": "\ud83d\ude49", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831823", "createdAt": "2020-07-18T21:56:52Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTk3NjQzOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMjoxOTozNVrOGzq5sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwNjoyOTowNVrOGzs-kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMzQ1OA==", "bodyText": "We need to remove also the solutions from short answer questions:", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456833458", "createdAt": "2020-07-18T22:19:35Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -273,6 +281,22 @@ public void filterForExam(Exercise exercise, List<StudentParticipation> particip\n                 if (result != null) {\n                     participation.setResults(Set.of(result));\n                 }\n+                // for quiz exercises remove correct answer options / mappings from response\n+                if (ZonedDateTime.now().isBefore(latestEndDate) && exercise instanceof QuizExercise) {\n+                    QuizSubmission quizSubmission = (QuizSubmission) latestSubmission.get();\n+                    quizSubmission.getSubmittedAnswers().forEach(submittedAnswer -> {\n+                        QuizQuestion question = submittedAnswer.getQuizQuestion();\n+                        if (question instanceof ShortAnswerQuestion) {\n+                            ((ShortAnswerQuestion) question).setCorrectMappings(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg2NzQ3Mg==", "bodyText": "Not sure where exactly you saw this. I just tried it out and the solutions are not in the response any more", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456867472", "createdAt": "2020-07-19T06:29:05Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -273,6 +281,22 @@ public void filterForExam(Exercise exercise, List<StudentParticipation> particip\n                 if (result != null) {\n                     participation.setResults(Set.of(result));\n                 }\n+                // for quiz exercises remove correct answer options / mappings from response\n+                if (ZonedDateTime.now().isBefore(latestEndDate) && exercise instanceof QuizExercise) {\n+                    QuizSubmission quizSubmission = (QuizSubmission) latestSubmission.get();\n+                    quizSubmission.getSubmittedAnswers().forEach(submittedAnswer -> {\n+                        QuizQuestion question = submittedAnswer.getQuizQuestion();\n+                        if (question instanceof ShortAnswerQuestion) {\n+                            ((ShortAnswerQuestion) question).setCorrectMappings(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMzQ1OA=="}, "originalCommit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a"}, "originalPosition": 121}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4797, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}