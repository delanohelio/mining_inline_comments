{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MzAwNTg5", "number": 2031, "title": "Exam Scores Graph", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\n\n\nRequested by @krusche\nDescription\n\nScore results displayed in graph form\nSteps for Testing\n\n\nLog in to Artemis\nNavigate to Course Administration\nFind some exam with results\nLook at the graph\n\nScreenshots", "createdAt": "2020-08-15T12:27:12Z", "url": "https://github.com/ls1intum/Artemis/pull/2031", "merged": true, "mergeCommit": {"oid": "4b8eafd3133964d7d6155c0a24e34ac2089f8ca6"}, "closed": true, "closedAt": "2020-08-19T19:30:04Z", "author": {"login": "stefanwaldhauser"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_G5JvAH2gAyNDY4MzAwNTg5Ojc0YzUyMjgzNTBkNjNhYjY0ZTA2MDVhNGQ1YmJkMGU2MGFiNzNjMWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAgynagFqTQ3MDc3MjA4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "74c5228350d63ab64e0605a4d5bbd0e60ab73c1f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/74c5228350d63ab64e0605a4d5bbd0e60ab73c1f", "committedDate": "2020-08-15T10:45:10Z", "message": "Added averagePercentage to the exercise and exerciseGroup part of the\nexam scores page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b2c90484a77432546507a5421ff585ba71afdb0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/0b2c90484a77432546507a5421ff585ba71afdb0", "committedDate": "2020-08-15T10:49:55Z", "message": "Added percentage display of participations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7906f6a79573c8a0762b9032a248418077426bb", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a7906f6a79573c8a0762b9032a248418077426bb", "committedDate": "2020-08-15T10:51:12Z", "message": "Quick HTML Fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c8c3e5aac3bd9f39501dfea1a4d480fa8b0b740", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/4c8c3e5aac3bd9f39501dfea1a4d480fa8b0b740", "committedDate": "2020-08-15T12:26:22Z", "message": "Chart Prototype"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d85c33bbb867381d3cc6d24506fb599f43059d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d3d85c33bbb867381d3cc6d24506fb599f43059d", "committedDate": "2020-08-16T11:18:47Z", "message": "Updated graph implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6550ceb5134c5edf9f80a29d8df854f1ca9c4922", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6550ceb5134c5edf9f80a29d8df854f1ca9c4922", "committedDate": "2020-08-16T11:36:16Z", "message": "Correct min, max setting and tick size in graph"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3e5cf73d2e9bab714e30bd17d1d91ae8bd4510c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/e3e5cf73d2e9bab714e30bd17d1d91ae8bd4510c", "committedDate": "2020-08-16T11:53:22Z", "message": "Fixed tick size"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19a690658ff095d278288e624ed0bedc858960b2", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/19a690658ff095d278288e624ed0bedc858960b2", "committedDate": "2020-08-16T11:55:17Z", "message": "Styling fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c85d3c58035b44cb5b51b6d39007fb40505576da", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c85d3c58035b44cb5b51b6d39007fb40505576da", "committedDate": "2020-08-16T23:01:17Z", "message": "Implement exam result histograph"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "334cf440cedbde75e4fde623dc6d4c047408ba60", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/334cf440cedbde75e4fde623dc6d4c047408ba60", "committedDate": "2020-08-16T23:03:12Z", "message": "Merge branch 'develop' into exam-scores-graph"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NDM2NjA1", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-468436605", "createdAt": "2020-08-17T12:56:23Z", "commit": {"oid": "334cf440cedbde75e4fde623dc6d4c047408ba60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjo1NjoyNFrOHBnlWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjo1NjoyNFrOHBnlWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ1OTE2MQ==", "bodyText": "Is it really necessary to get a reference to the canvas?\nPlease have a look how this is solved for the quiz charts.\nIt is not necessary in this case.", "url": "https://github.com/ls1intum/Artemis/pull/2031#discussion_r471459161", "createdAt": "2020-08-17T12:56:24Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/exam-scores/exam-scores.component.ts", "diffHunk": "@@ -45,6 +48,11 @@ export class ExamScoresComponent implements OnInit, OnDestroy {\n     public filterForSubmittedExams = false;\n     public filterForNonEmptySubmissions = false;\n \n+    @ViewChild('histogram', { static: false })\n+    private canvas: ElementRef<HTMLCanvasElement>;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "334cf440cedbde75e4fde623dc6d4c047408ba60"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NDM3OTI2", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-468437926", "createdAt": "2020-08-17T12:58:09Z", "commit": {"oid": "334cf440cedbde75e4fde623dc6d4c047408ba60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjo1ODowOVrOHBnpUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjo1ODowOVrOHBnpUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ2MDE3OA==", "bodyText": "this is really ugly :-(\nIs there no other option to display labels?", "url": "https://github.com/ls1intum/Artemis/pull/2031#discussion_r471460178", "createdAt": "2020-08-17T12:58:09Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/app.main.ts", "diffHunk": "@@ -3,6 +3,15 @@ import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n import { ProdConfig } from './core/config/prod.config';\n import { ArtemisAppModule } from './app.module';\n \n+import * as Chart from 'chart.js';\n+import ChartDataLabels from 'chartjs-plugin-datalabels';\n+\n+/**\n+ * This plugin registers itself globally,\n+ * meaning that once imported, all charts will display labels.\n+ * In our case we want it enabled only for a few charts, so we first need to unregister it globally\n+ */\n+Chart.plugins.unregister(ChartDataLabels);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "334cf440cedbde75e4fde623dc6d4c047408ba60"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae9f78ddbc80d3bddacdbc8c9c95d758cc59dd89", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/ae9f78ddbc80d3bddacdbc8c9c95d758cc59dd89", "committedDate": "2020-08-17T16:57:45Z", "message": "Switched to ng-2 charts implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0aac2c2ede7247f858e2cb1eb8d7f887b857b16", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a0aac2c2ede7247f858e2cb1eb8d7f887b857b16", "committedDate": "2020-08-17T16:58:05Z", "message": "Merge remote-tracking branch 'origin/exam-scores-graph' into exam-scores-graph"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "686b9495e4fdce59ccb0ed7d242bfad422401a92", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/686b9495e4fdce59ccb0ed7d242bfad422401a92", "committedDate": "2020-08-17T17:50:48Z", "message": "Removed not needed plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88e4a3454553d18dbe3b8d33a820622a76e6160c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/88e4a3454553d18dbe3b8d33a820622a76e6160c", "committedDate": "2020-08-18T08:36:24Z", "message": "Merge branch 'develop' into exam-scores-graph"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzU3NjM1", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-469757635", "createdAt": "2020-08-18T19:26:15Z", "commit": {"oid": "88e4a3454553d18dbe3b8d33a820622a76e6160c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5ODc1ODI2", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-469875826", "createdAt": "2020-08-18T22:34:11Z", "commit": {"oid": "88e4a3454553d18dbe3b8d33a820622a76e6160c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQyMjozNDoxMVrOHCo-9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQyMjozNDoxMVrOHCo-9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUzMDY3OA==", "bodyText": "Took me some time to get the difference between the two assignments :-D Maybe the following is easier to parse:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (i === this.histogramData.length - 1) {\n          \n          \n            \n                            labels[i] = `[${i * this.binWidth},${(i + 1) * this.binWidth}]`;\n          \n          \n            \n                        } else {\n          \n          \n            \n                            labels[i] = `[${i * this.binWidth},${(i + 1) * this.binWidth})`;\n          \n          \n            \n                        }\n          \n          \n            \n                        labels[i] = `[${i * this.binWidth},${(i + 1) * this.binWidth}`;\n          \n          \n            \n                        labels[i] += (i === this.histogramData.length - 1) ? ']' : ')';", "url": "https://github.com/ls1intum/Artemis/pull/2031#discussion_r472530678", "createdAt": "2020-08-18T22:34:11Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/exam-scores/exam-scores.component.ts", "diffHunk": "@@ -103,14 +117,80 @@ export class ExamScoresComponent implements OnInit, OnDestroy {\n         this.changeDetector.detectChanges();\n     }\n \n+    private createChart() {\n+        const labels = [];\n+        let i;\n+        for (i = 0; i < this.histogramData.length; i++) {\n+            if (i === this.histogramData.length - 1) {\n+                labels[i] = `[${i * this.binWidth},${(i + 1) * this.binWidth}]`;\n+            } else {\n+                labels[i] = `[${i * this.binWidth},${(i + 1) * this.binWidth})`;\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88e4a3454553d18dbe3b8d33a820622a76e6160c"}, "originalPosition": 71}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d7d545be765815cbd370cfdae2320f2a9ddd702", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/2d7d545be765815cbd370cfdae2320f2a9ddd702", "committedDate": "2020-08-18T23:02:31Z", "message": "Removed duplicated column"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "618fd9f45440f134ce5749575e1cc7f16793670c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/618fd9f45440f134ce5749575e1cc7f16793670c", "committedDate": "2020-08-18T23:04:27Z", "message": "Update src/main/webapp/app/exam/exam-scores/exam-scores.component.ts\n\nCo-authored-by: Sascha Beele <sascha@beele.io>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53b352e38b0d41a2fee3bf9cd87a98df70611aa9", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/53b352e38b0d41a2fee3bf9cd87a98df70611aa9", "committedDate": "2020-08-18T23:13:43Z", "message": "Manual Calculation of Tick Max to prevent graphic glitches"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa7fc46e482380db030aa9b83c7cd271dcc5a30d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/fa7fc46e482380db030aa9b83c7cd271dcc5a30d", "committedDate": "2020-08-18T23:36:07Z", "message": "Code fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8994b4f94f189c5f555a780289761b479a7943aa", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8994b4f94f189c5f555a780289761b479a7943aa", "committedDate": "2020-08-18T23:49:33Z", "message": "Another fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMzU3NzMw", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-470357730", "createdAt": "2020-08-19T11:16:12Z", "commit": {"oid": "8994b4f94f189c5f555a780289761b479a7943aa"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMToxNjoxM1rOHDCr0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMToxNjoxM1rOHDCr0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MTc2Mw==", "bodyText": "This table has a styling issue on mobile:\n\nWrapping the <table> element inside a <div class=\"table-responsive\"> like the student results table should fix this (it makes the table bound to the width and scrollable).", "url": "https://github.com/ls1intum/Artemis/pull/2031#discussion_r472951763", "createdAt": "2020-08-19T11:16:13Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/exam/exam-scores/exam-scores.component.html", "diffHunk": "@@ -90,17 +94,11 @@ <h4>\n             </tbody>\n         </table>\n \n-        <!-- Histogram Table -->\n-        <table class=\"table table-bordered table-sm table-clear-width mb-3\">\n-            <thead class=\"thead-dark\">\n-                <th *ngFor=\"let _ of histogramData; let i = index; last as isLast\">[{{ i * binWidth }},{{ (i + 1) * binWidth }}{{ isLast ? ']' : ')' }}</th>\n-            </thead>\n-            <tbody>\n-                <td *ngFor=\"let noOfStudents of histogramData\">\n-                    {{ noOfStudents }} ({{ noOfExamsFiltered ? roundAndPerformLocalConversion((noOfStudents * 100) / noOfExamsFiltered, 2, 2) : '-' }}%)\n-                </td>\n-            </tbody>\n-        </table>\n+        <div style=\"display: block;\">\n+            <!-- Histogram -->\n+            <canvas baseChart height=\"400\" [datasets]=\"barChartData\" [labels]=\"barChartLabels\" [options]=\"barChartOptions\" [legend]=\"barChartLegend\" [chartType]=\"barChartType\">\n+            </canvas>\n+        </div>\n \n         <!-- Exercise Statistics Table -->\n         <table class=\"table table-bordered table-sm body-striped\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8994b4f94f189c5f555a780289761b479a7943aa"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f2f10706a14b874cd33dc46636fb05827b7411f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/2f2f10706a14b874cd33dc46636fb05827b7411f", "committedDate": "2020-08-19T15:02:44Z", "message": "Wrapped in responsive div"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNzM3NDYw", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-470737460", "createdAt": "2020-08-19T18:37:39Z", "commit": {"oid": "2f2f10706a14b874cd33dc46636fb05827b7411f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNzcyMDg0", "url": "https://github.com/ls1intum/Artemis/pull/2031#pullrequestreview-470772084", "createdAt": "2020-08-19T19:29:29Z", "commit": {"oid": "2f2f10706a14b874cd33dc46636fb05827b7411f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4029, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}