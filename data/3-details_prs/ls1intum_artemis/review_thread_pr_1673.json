{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MzQ0MzQy", "number": 1673, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoyODowMFrOEHeamw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoyODowOVrOEHeazA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjczODE5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoyODowMFrOGm2whA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwOToyNzo1MlrOGm44Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5NjIyOA==", "bodyText": "I thought that another component takes care of autosave?", "url": "https://github.com/ls1intum/Artemis/pull/1673#discussion_r443396228", "createdAt": "2020-06-22T08:28:00Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "diffHunk": "@@ -0,0 +1,157 @@\n+import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\n+import { UMLModel } from '@ls1intum/apollon';\n+import { AlertService } from 'app/core/alert/alert.service';\n+import { Observable } from 'rxjs/Observable';\n+import * as moment from 'moment';\n+import { omit } from 'lodash';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n+import { ModelingSubmission } from 'app/entities/modeling-submission.model';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n+import { ModelingEditorComponent } from 'app/exercises/modeling/shared/modeling-editor.component';\n+import { participationStatus } from 'app/exercises/shared/exercise/exercise-utils';\n+import { stringifyIgnoringFields } from 'app/shared/util/utils';\n+import { ExamParticipationService } from 'app/exam/participate/exam-participation.service';\n+\n+@Component({\n+    selector: 'jhi-modeling-submission-exam',\n+    templateUrl: './modeling-submission-exam.component.html',\n+    styleUrls: ['./modeling-submission-exam.component.scss'],\n+})\n+export class ModelingSubmissionExamComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(ModelingEditorComponent, { static: false })\n+    modelingEditor: ModelingEditorComponent;\n+\n+    @Input()\n+    participationId: number;\n+\n+    modelingExercise: ModelingExercise;\n+    umlModel: UMLModel; // input model for Apollon\n+\n+    participation: StudentParticipation;\n+    submission: ModelingSubmission;\n+\n+    hasElements = false; // indicates if the current model has at least one element\n+    isSaving: boolean;\n+    autoSaveInterval: number;\n+\n+    constructor(private examParticipationService: ExamParticipationService, private jhiAlertService: AlertService) {\n+        this.isSaving = false;\n+    }\n+\n+    ngOnInit(): void {\n+        // add\n+        this.examParticipationService.getLatestSubmissionForParticipation(this.participationId).subscribe(\n+            (modelingSubmission) => {\n+                this.updateModelingSubmission(modelingSubmission as ModelingSubmission);\n+                this.setAutoSaveTimer();\n+            },\n+            (error) => {\n+                this.jhiAlertService.error(error.message, null, undefined);\n+            },\n+        );\n+\n+        window.scroll(0, 0);\n+    }\n+\n+    private updateModelingSubmission(modelingSubmission: ModelingSubmission) {\n+        if (!modelingSubmission) {\n+            this.jhiAlertService.error('artemisApp.apollonDiagram.submission.noSubmission');\n+        }\n+\n+        this.submission = modelingSubmission;\n+        this.participation = modelingSubmission.participation as StudentParticipation;\n+\n+        // reconnect participation <--> submission\n+        this.participation.submissions = [<ModelingSubmission>omit(modelingSubmission, 'participation')];\n+\n+        this.modelingExercise = this.participation.exercise as ModelingExercise;\n+        this.modelingExercise.studentParticipations = [this.participation];\n+        this.modelingExercise.participationStatus = participationStatus(this.modelingExercise);\n+        if (this.modelingExercise.diagramType == null) {\n+            this.modelingExercise.diagramType = UMLDiagramType.ClassDiagram;\n+        }\n+        if (this.submission.model) {\n+            this.umlModel = JSON.parse(this.submission.model);\n+            this.hasElements = this.umlModel.elements && this.umlModel.elements.length !== 0;\n+        }\n+    }\n+\n+    /**\n+     * This function sets and starts an auto-save timer that automatically saves changes\n+     * to the model after at most 60 seconds.\n+     */\n+    private setAutoSaveTimer(): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5848c6b692d2b1363bea1e72ae2c6d58f515d7be"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQxNjgyNg==", "bodyText": "I asked the same question and as far as I understood the explanation this is needed as a sync for the modeling editor. Maybe @TobiasPr can clarify in more detail", "url": "https://github.com/ls1intum/Artemis/pull/1673#discussion_r443416826", "createdAt": "2020-06-22T09:03:17Z", "author": {"login": "filip-gregurevic"}, "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "diffHunk": "@@ -0,0 +1,157 @@\n+import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\n+import { UMLModel } from '@ls1intum/apollon';\n+import { AlertService } from 'app/core/alert/alert.service';\n+import { Observable } from 'rxjs/Observable';\n+import * as moment from 'moment';\n+import { omit } from 'lodash';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n+import { ModelingSubmission } from 'app/entities/modeling-submission.model';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n+import { ModelingEditorComponent } from 'app/exercises/modeling/shared/modeling-editor.component';\n+import { participationStatus } from 'app/exercises/shared/exercise/exercise-utils';\n+import { stringifyIgnoringFields } from 'app/shared/util/utils';\n+import { ExamParticipationService } from 'app/exam/participate/exam-participation.service';\n+\n+@Component({\n+    selector: 'jhi-modeling-submission-exam',\n+    templateUrl: './modeling-submission-exam.component.html',\n+    styleUrls: ['./modeling-submission-exam.component.scss'],\n+})\n+export class ModelingSubmissionExamComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(ModelingEditorComponent, { static: false })\n+    modelingEditor: ModelingEditorComponent;\n+\n+    @Input()\n+    participationId: number;\n+\n+    modelingExercise: ModelingExercise;\n+    umlModel: UMLModel; // input model for Apollon\n+\n+    participation: StudentParticipation;\n+    submission: ModelingSubmission;\n+\n+    hasElements = false; // indicates if the current model has at least one element\n+    isSaving: boolean;\n+    autoSaveInterval: number;\n+\n+    constructor(private examParticipationService: ExamParticipationService, private jhiAlertService: AlertService) {\n+        this.isSaving = false;\n+    }\n+\n+    ngOnInit(): void {\n+        // add\n+        this.examParticipationService.getLatestSubmissionForParticipation(this.participationId).subscribe(\n+            (modelingSubmission) => {\n+                this.updateModelingSubmission(modelingSubmission as ModelingSubmission);\n+                this.setAutoSaveTimer();\n+            },\n+            (error) => {\n+                this.jhiAlertService.error(error.message, null, undefined);\n+            },\n+        );\n+\n+        window.scroll(0, 0);\n+    }\n+\n+    private updateModelingSubmission(modelingSubmission: ModelingSubmission) {\n+        if (!modelingSubmission) {\n+            this.jhiAlertService.error('artemisApp.apollonDiagram.submission.noSubmission');\n+        }\n+\n+        this.submission = modelingSubmission;\n+        this.participation = modelingSubmission.participation as StudentParticipation;\n+\n+        // reconnect participation <--> submission\n+        this.participation.submissions = [<ModelingSubmission>omit(modelingSubmission, 'participation')];\n+\n+        this.modelingExercise = this.participation.exercise as ModelingExercise;\n+        this.modelingExercise.studentParticipations = [this.participation];\n+        this.modelingExercise.participationStatus = participationStatus(this.modelingExercise);\n+        if (this.modelingExercise.diagramType == null) {\n+            this.modelingExercise.diagramType = UMLDiagramType.ClassDiagram;\n+        }\n+        if (this.submission.model) {\n+            this.umlModel = JSON.parse(this.submission.model);\n+            this.hasElements = this.umlModel.elements && this.umlModel.elements.length !== 0;\n+        }\n+    }\n+\n+    /**\n+     * This function sets and starts an auto-save timer that automatically saves changes\n+     * to the model after at most 60 seconds.\n+     */\n+    private setAutoSaveTimer(): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5NjIyOA=="}, "originalCommit": {"oid": "5848c6b692d2b1363bea1e72ae2c6d58f515d7be"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQxNzQwOQ==", "bodyText": "the modeling-submission has the specialty, that we need to ask Apollon every x seconds for the current model and compare it to the last state, because Apollon had not the ability to communicate model changes in the past. Thats the reason why we have the timer here. The synchronization to the server is handled in the ExamParticipationService in one place", "url": "https://github.com/ls1intum/Artemis/pull/1673#discussion_r443417409", "createdAt": "2020-06-22T09:04:19Z", "author": {"login": "TobiasPr"}, "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "diffHunk": "@@ -0,0 +1,157 @@\n+import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\n+import { UMLModel } from '@ls1intum/apollon';\n+import { AlertService } from 'app/core/alert/alert.service';\n+import { Observable } from 'rxjs/Observable';\n+import * as moment from 'moment';\n+import { omit } from 'lodash';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n+import { ModelingSubmission } from 'app/entities/modeling-submission.model';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n+import { ModelingEditorComponent } from 'app/exercises/modeling/shared/modeling-editor.component';\n+import { participationStatus } from 'app/exercises/shared/exercise/exercise-utils';\n+import { stringifyIgnoringFields } from 'app/shared/util/utils';\n+import { ExamParticipationService } from 'app/exam/participate/exam-participation.service';\n+\n+@Component({\n+    selector: 'jhi-modeling-submission-exam',\n+    templateUrl: './modeling-submission-exam.component.html',\n+    styleUrls: ['./modeling-submission-exam.component.scss'],\n+})\n+export class ModelingSubmissionExamComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(ModelingEditorComponent, { static: false })\n+    modelingEditor: ModelingEditorComponent;\n+\n+    @Input()\n+    participationId: number;\n+\n+    modelingExercise: ModelingExercise;\n+    umlModel: UMLModel; // input model for Apollon\n+\n+    participation: StudentParticipation;\n+    submission: ModelingSubmission;\n+\n+    hasElements = false; // indicates if the current model has at least one element\n+    isSaving: boolean;\n+    autoSaveInterval: number;\n+\n+    constructor(private examParticipationService: ExamParticipationService, private jhiAlertService: AlertService) {\n+        this.isSaving = false;\n+    }\n+\n+    ngOnInit(): void {\n+        // add\n+        this.examParticipationService.getLatestSubmissionForParticipation(this.participationId).subscribe(\n+            (modelingSubmission) => {\n+                this.updateModelingSubmission(modelingSubmission as ModelingSubmission);\n+                this.setAutoSaveTimer();\n+            },\n+            (error) => {\n+                this.jhiAlertService.error(error.message, null, undefined);\n+            },\n+        );\n+\n+        window.scroll(0, 0);\n+    }\n+\n+    private updateModelingSubmission(modelingSubmission: ModelingSubmission) {\n+        if (!modelingSubmission) {\n+            this.jhiAlertService.error('artemisApp.apollonDiagram.submission.noSubmission');\n+        }\n+\n+        this.submission = modelingSubmission;\n+        this.participation = modelingSubmission.participation as StudentParticipation;\n+\n+        // reconnect participation <--> submission\n+        this.participation.submissions = [<ModelingSubmission>omit(modelingSubmission, 'participation')];\n+\n+        this.modelingExercise = this.participation.exercise as ModelingExercise;\n+        this.modelingExercise.studentParticipations = [this.participation];\n+        this.modelingExercise.participationStatus = participationStatus(this.modelingExercise);\n+        if (this.modelingExercise.diagramType == null) {\n+            this.modelingExercise.diagramType = UMLDiagramType.ClassDiagram;\n+        }\n+        if (this.submission.model) {\n+            this.umlModel = JSON.parse(this.submission.model);\n+            this.hasElements = this.umlModel.elements && this.umlModel.elements.length !== 0;\n+        }\n+    }\n+\n+    /**\n+     * This function sets and starts an auto-save timer that automatically saves changes\n+     * to the model after at most 60 seconds.\n+     */\n+    private setAutoSaveTimer(): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5NjIyOA=="}, "originalCommit": {"oid": "5848c6b692d2b1363bea1e72ae2c6d58f515d7be"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQzMDkxOA==", "bodyText": "Maybe a explanation of our working methods helps here: our goal was to create a slim component for the exercise type in exam mode and then further adapt that component in an integration branch which brings together all the other components. That means that this component is not 100% complete, but we did some more adaptations in another branch where the dependencies already exist. I would say it's not a clean way to do it, but for sake of velocity we did it like that. Because we have the code changes of this branch also in the integration branch, it would be possible to not use this branch anymore. However, we thought it makes sense to merge these initial branches back to develop to avoid having one big branch which contains all the changes", "url": "https://github.com/ls1intum/Artemis/pull/1673#discussion_r443430918", "createdAt": "2020-06-22T09:27:52Z", "author": {"login": "TobiasPr"}, "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "diffHunk": "@@ -0,0 +1,157 @@\n+import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\n+import { UMLModel } from '@ls1intum/apollon';\n+import { AlertService } from 'app/core/alert/alert.service';\n+import { Observable } from 'rxjs/Observable';\n+import * as moment from 'moment';\n+import { omit } from 'lodash';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n+import { ModelingSubmission } from 'app/entities/modeling-submission.model';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n+import { ModelingEditorComponent } from 'app/exercises/modeling/shared/modeling-editor.component';\n+import { participationStatus } from 'app/exercises/shared/exercise/exercise-utils';\n+import { stringifyIgnoringFields } from 'app/shared/util/utils';\n+import { ExamParticipationService } from 'app/exam/participate/exam-participation.service';\n+\n+@Component({\n+    selector: 'jhi-modeling-submission-exam',\n+    templateUrl: './modeling-submission-exam.component.html',\n+    styleUrls: ['./modeling-submission-exam.component.scss'],\n+})\n+export class ModelingSubmissionExamComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(ModelingEditorComponent, { static: false })\n+    modelingEditor: ModelingEditorComponent;\n+\n+    @Input()\n+    participationId: number;\n+\n+    modelingExercise: ModelingExercise;\n+    umlModel: UMLModel; // input model for Apollon\n+\n+    participation: StudentParticipation;\n+    submission: ModelingSubmission;\n+\n+    hasElements = false; // indicates if the current model has at least one element\n+    isSaving: boolean;\n+    autoSaveInterval: number;\n+\n+    constructor(private examParticipationService: ExamParticipationService, private jhiAlertService: AlertService) {\n+        this.isSaving = false;\n+    }\n+\n+    ngOnInit(): void {\n+        // add\n+        this.examParticipationService.getLatestSubmissionForParticipation(this.participationId).subscribe(\n+            (modelingSubmission) => {\n+                this.updateModelingSubmission(modelingSubmission as ModelingSubmission);\n+                this.setAutoSaveTimer();\n+            },\n+            (error) => {\n+                this.jhiAlertService.error(error.message, null, undefined);\n+            },\n+        );\n+\n+        window.scroll(0, 0);\n+    }\n+\n+    private updateModelingSubmission(modelingSubmission: ModelingSubmission) {\n+        if (!modelingSubmission) {\n+            this.jhiAlertService.error('artemisApp.apollonDiagram.submission.noSubmission');\n+        }\n+\n+        this.submission = modelingSubmission;\n+        this.participation = modelingSubmission.participation as StudentParticipation;\n+\n+        // reconnect participation <--> submission\n+        this.participation.submissions = [<ModelingSubmission>omit(modelingSubmission, 'participation')];\n+\n+        this.modelingExercise = this.participation.exercise as ModelingExercise;\n+        this.modelingExercise.studentParticipations = [this.participation];\n+        this.modelingExercise.participationStatus = participationStatus(this.modelingExercise);\n+        if (this.modelingExercise.diagramType == null) {\n+            this.modelingExercise.diagramType = UMLDiagramType.ClassDiagram;\n+        }\n+        if (this.submission.model) {\n+            this.umlModel = JSON.parse(this.submission.model);\n+            this.hasElements = this.umlModel.elements && this.umlModel.elements.length !== 0;\n+        }\n+    }\n+\n+    /**\n+     * This function sets and starts an auto-save timer that automatically saves changes\n+     * to the model after at most 60 seconds.\n+     */\n+    private setAutoSaveTimer(): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5NjIyOA=="}, "originalCommit": {"oid": "5848c6b692d2b1363bea1e72ae2c6d58f515d7be"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjczODY4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoyODowOVrOGm2w4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoyODowOVrOGm2w4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5NjMyMA==", "bodyText": "I thought that another component takes care of save?", "url": "https://github.com/ls1intum/Artemis/pull/1673#discussion_r443396320", "createdAt": "2020-06-22T08:28:09Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-submission-exam.component.ts", "diffHunk": "@@ -0,0 +1,157 @@\n+import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\n+import { UMLModel } from '@ls1intum/apollon';\n+import { AlertService } from 'app/core/alert/alert.service';\n+import { Observable } from 'rxjs/Observable';\n+import * as moment from 'moment';\n+import { omit } from 'lodash';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n+import { ModelingSubmission } from 'app/entities/modeling-submission.model';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n+import { ModelingEditorComponent } from 'app/exercises/modeling/shared/modeling-editor.component';\n+import { participationStatus } from 'app/exercises/shared/exercise/exercise-utils';\n+import { stringifyIgnoringFields } from 'app/shared/util/utils';\n+import { ExamParticipationService } from 'app/exam/participate/exam-participation.service';\n+\n+@Component({\n+    selector: 'jhi-modeling-submission-exam',\n+    templateUrl: './modeling-submission-exam.component.html',\n+    styleUrls: ['./modeling-submission-exam.component.scss'],\n+})\n+export class ModelingSubmissionExamComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(ModelingEditorComponent, { static: false })\n+    modelingEditor: ModelingEditorComponent;\n+\n+    @Input()\n+    participationId: number;\n+\n+    modelingExercise: ModelingExercise;\n+    umlModel: UMLModel; // input model for Apollon\n+\n+    participation: StudentParticipation;\n+    submission: ModelingSubmission;\n+\n+    hasElements = false; // indicates if the current model has at least one element\n+    isSaving: boolean;\n+    autoSaveInterval: number;\n+\n+    constructor(private examParticipationService: ExamParticipationService, private jhiAlertService: AlertService) {\n+        this.isSaving = false;\n+    }\n+\n+    ngOnInit(): void {\n+        // add\n+        this.examParticipationService.getLatestSubmissionForParticipation(this.participationId).subscribe(\n+            (modelingSubmission) => {\n+                this.updateModelingSubmission(modelingSubmission as ModelingSubmission);\n+                this.setAutoSaveTimer();\n+            },\n+            (error) => {\n+                this.jhiAlertService.error(error.message, null, undefined);\n+            },\n+        );\n+\n+        window.scroll(0, 0);\n+    }\n+\n+    private updateModelingSubmission(modelingSubmission: ModelingSubmission) {\n+        if (!modelingSubmission) {\n+            this.jhiAlertService.error('artemisApp.apollonDiagram.submission.noSubmission');\n+        }\n+\n+        this.submission = modelingSubmission;\n+        this.participation = modelingSubmission.participation as StudentParticipation;\n+\n+        // reconnect participation <--> submission\n+        this.participation.submissions = [<ModelingSubmission>omit(modelingSubmission, 'participation')];\n+\n+        this.modelingExercise = this.participation.exercise as ModelingExercise;\n+        this.modelingExercise.studentParticipations = [this.participation];\n+        this.modelingExercise.participationStatus = participationStatus(this.modelingExercise);\n+        if (this.modelingExercise.diagramType == null) {\n+            this.modelingExercise.diagramType = UMLDiagramType.ClassDiagram;\n+        }\n+        if (this.submission.model) {\n+            this.umlModel = JSON.parse(this.submission.model);\n+            this.hasElements = this.umlModel.elements && this.umlModel.elements.length !== 0;\n+        }\n+    }\n+\n+    /**\n+     * This function sets and starts an auto-save timer that automatically saves changes\n+     * to the model after at most 60 seconds.\n+     */\n+    private setAutoSaveTimer(): void {\n+        // auto save of submission if there are changes\n+        this.autoSaveInterval = window.setInterval(\n+            () => {\n+                if (!this.canDeactivate()) {\n+                    this.saveDiagram();\n+                }\n+            }, // 60seconds\n+            1000 * 60,\n+        );\n+    }\n+\n+    saveDiagram(): void {\n+        if (this.isSaving) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5848c6b692d2b1363bea1e72ae2c6d58f515d7be"}, "originalPosition": 97}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4889, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}