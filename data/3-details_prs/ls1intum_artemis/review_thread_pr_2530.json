{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NTAxMTAz", "number": 2530, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjozNDoxMlrOFDK-WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjozNTozN1rOFDLAKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODY5ODQ4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextAssessmentResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjozNDoxMlrOICsnxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDoyNzo1NFrOIDb7jA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5OTE0MA==", "bodyText": "@jpbernius I am not quite sure if we need to use saveTextBlocks here. For the example assessment, we are using the old way of assessing text exercises.\nIt worked completely fine for me without.", "url": "https://github.com/ls1intum/Artemis/pull/2530#discussion_r539699140", "createdAt": "2020-12-09T22:34:12Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextAssessmentResource.java", "diffHunk": "@@ -107,6 +112,23 @@ public TextAssessmentResource(AuthorizationCheckService authCheckService, TextAs\n         return response;\n     }\n \n+    /**\n+     * PUT text-submissions/:submissionId/example-assessment : save manual example text assessment\n+     *\n+     * @param submissionId id of the submission\n+     * @param feedbacks list of feedbacks\n+     * @return result after saving example text assessment\n+     */\n+    @ResponseStatus(HttpStatus.OK)\n+    @ApiResponses({ @ApiResponse(code = 403, message = ErrorConstants.REQ_403_REASON), @ApiResponse(code = 404, message = ErrorConstants.REQ_404_REASON) })\n+    @PutMapping(\"/text-submissions/{submissionId}/example-assessment\")\n+    @PreAuthorize(\"hasAnyRole('TA', 'INSTRUCTOR', 'ADMIN')\")\n+    public ResponseEntity<Result> saveTextExampleAssessment(@PathVariable long submissionId, @RequestBody List<Feedback> feedbacks) {\n+        log.debug(\"REST request to save text example assessment : {}\", submissionId);\n+        // TODO: Figure out if we need to use saveTextBlocks\n+        return super.saveExampleAssessment(submissionId, feedbacks);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc0efbc8f6c7809e19ca217166d7c1253488a93"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ3NDI1Mg==", "bodyText": "We decided that it is not needed as the client would send an empty array to the server anyways.", "url": "https://github.com/ls1intum/Artemis/pull/2530#discussion_r540474252", "createdAt": "2020-12-10T20:27:54Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextAssessmentResource.java", "diffHunk": "@@ -107,6 +112,23 @@ public TextAssessmentResource(AuthorizationCheckService authCheckService, TextAs\n         return response;\n     }\n \n+    /**\n+     * PUT text-submissions/:submissionId/example-assessment : save manual example text assessment\n+     *\n+     * @param submissionId id of the submission\n+     * @param feedbacks list of feedbacks\n+     * @return result after saving example text assessment\n+     */\n+    @ResponseStatus(HttpStatus.OK)\n+    @ApiResponses({ @ApiResponse(code = 403, message = ErrorConstants.REQ_403_REASON), @ApiResponse(code = 404, message = ErrorConstants.REQ_404_REASON) })\n+    @PutMapping(\"/text-submissions/{submissionId}/example-assessment\")\n+    @PreAuthorize(\"hasAnyRole('TA', 'INSTRUCTOR', 'ADMIN')\")\n+    public ResponseEntity<Result> saveTextExampleAssessment(@PathVariable long submissionId, @RequestBody List<Feedback> feedbacks) {\n+        log.debug(\"REST request to save text example assessment : {}\", submissionId);\n+        // TODO: Figure out if we need to use saveTextBlocks\n+        return super.saveExampleAssessment(submissionId, feedbacks);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5OTE0MA=="}, "originalCommit": {"oid": "1cc0efbc8f6c7809e19ca217166d7c1253488a93"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODcwMzE1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/manage/example-text-submission/example-text-submission.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjozNTozN1rOICsqjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjozNTozN1rOICsqjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5OTg1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // this.assessmentsService.save(this.exercise.id!, this.result.id!, this.assessments, [])", "url": "https://github.com/ls1intum/Artemis/pull/2530#discussion_r539699853", "createdAt": "2020-12-09T22:35:37Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/text/manage/example-text-submission/example-text-submission.component.ts", "diffHunk": "@@ -350,12 +350,12 @@ export class ExampleTextSubmissionComponent implements OnInit, AfterViewInit {\n             this.jhiAlertService.error('artemisApp.textAssessment.error.invalidAssessments');\n             return;\n         }\n-\n-        this.assessmentsService.save(this.exercise.id!, this.result.id!, this.assessments, []).subscribe((response) => {\n+        this.assessmentsService.saveExampleAssessment(this.assessments, this.exampleSubmission.id!).subscribe((response) => {\n             this.result = response.body!;\n             this.areNewAssessments = false;\n             this.jhiAlertService.success('artemisApp.textAssessment.saveSuccessful');\n         });\n+        // this.assessmentsService.save(this.exercise.id!, this.result.id!, this.assessments, [])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc0efbc8f6c7809e19ca217166d7c1253488a93"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4332, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}