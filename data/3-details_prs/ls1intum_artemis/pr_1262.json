{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxNDkxOTg0", "number": 1262, "title": "Enhancement/orion/stable interfaces", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n\nMotivation and Context\n\n\nFor the 1.0.0 release of Orion, we want to have stable interfaces. Therefore, we need some final adjustments in the client regarding the connectors between the IDE and Artemis.\nDescription\n\nI updated the connector interfaces, they are now stable and won't change within minor updates of the IDE plugin. I also re-enabled the version check, which allows all Orion versions from 1.0.0 upwards. This way, we only have to update the values for this check once a new major plugin version is released.\nIf you want to test the plugin again, please install the following version:\norion-1.0.0.zip", "createdAt": "2020-02-28T17:02:43Z", "url": "https://github.com/ls1intum/Artemis/pull/1262", "merged": true, "mergeCommit": {"oid": "3ad2902db72ed9630343063e209f53d5b0408a74"}, "closed": true, "closedAt": "2020-03-03T20:25:35Z", "author": {"login": "ungaralex"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIax70gH2gAyMzgxNDkxOTg0OjY1MzIyMmJhMWM1NWVjNTEwYjUyMzVhMjQzZjJmM2M0ZjdjOTIxNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKISFTgFqTM2ODI5NzcyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "653222ba1c55ec510b5235a243f2f3c4f7c92159", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/653222ba1c55ec510b5235a243f2f3c4f7c92159", "committedDate": "2020-02-27T12:49:33Z", "message": "Adapt Orion interfaces after final object design updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd943b17ef9c68d554a4a0617681cf60e82ae403", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/fd943b17ef9c68d554a4a0617681cf60e82ae403", "committedDate": "2020-02-27T14:39:24Z", "message": "Fix client test mock connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4db0407c004395c9b6d8411b3f0680fe7025495d", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/4db0407c004395c9b6d8411b3f0680fe7025495d", "committedDate": "2020-02-27T15:03:01Z", "message": "Activate Orion version validator for major versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "749e23db9eb3e63d7c57f61e12046492df46d8f2", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/749e23db9eb3e63d7c57f61e12046492df46d8f2", "committedDate": "2020-02-28T16:53:51Z", "message": "Fix emitted observable for Orion version validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51489ee3ef3516ce46b9a86949d334909ce340a3", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/51489ee3ef3516ce46b9a86949d334909ce340a3", "committedDate": "2020-02-28T17:14:43Z", "message": "Only specify lower bound for Orion version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5a346f20e9e5deb9df9f94d49ad0434ce81d264", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/b5a346f20e9e5deb9df9f94d49ad0434ce81d264", "committedDate": "2020-02-29T13:39:57Z", "message": "Fix programming-exercise-student-ide-actions.spec.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef184f257f3bf13c4cf77e86996f37cb278123dd", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/ef184f257f3bf13c4cf77e86996f37cb278123dd", "committedDate": "2020-02-29T13:40:18Z", "message": "Merge branch 'develop' into enhancement/orion/stable-interfaces"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODA5MzU4", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-366809358", "createdAt": "2020-02-29T17:25:39Z", "commit": {"oid": "ef184f257f3bf13c4cf77e86996f37cb278123dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNzoyNTo0MFrOFwKKAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNzoyNTo0MFrOFwKKAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA0MjM2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"allowedVersion\": \"Erlaubte Versione (mindestens): \"\n          \n          \n            \n                            \"allowedVersion\": \"Erlaubte Version (mindestens): \"", "url": "https://github.com/ls1intum/Artemis/pull/1262#discussion_r386042368", "createdAt": "2020-02-29T17:25:40Z", "author": {"login": "lovaiible"}, "path": "src/main/webapp/i18n/de/orion.json", "diffHunk": "@@ -4,7 +4,7 @@\n             \"version\": {\n                 \"outdated\": \"Das installierte Orion Plugin ist veraltet!\",\n                 \"usedVersion\": \"Installierte Version: \",\n-                \"allowedVersion\": \"Erlaubte Versionen: \"\n+                \"allowedVersion\": \"Erlaubte Versione (mindestens): \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef184f257f3bf13c4cf77e86996f37cb278123dd"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDM2Mzg5", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-367436389", "createdAt": "2020-03-02T18:44:55Z", "commit": {"oid": "ef184f257f3bf13c4cf77e86996f37cb278123dd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20a0f936f4af5001dee9c37f83f4adfdd6fb30c0", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/20a0f936f4af5001dee9c37f83f4adfdd6fb30c0", "committedDate": "2020-03-02T19:33:18Z", "message": "Update src/main/webapp/i18n/de/orion.json\n\nCo-Authored-By: Anh Montag <anh.montag@tum.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NTE1MjUw", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-367515250", "createdAt": "2020-03-02T20:47:21Z", "commit": {"oid": "20a0f936f4af5001dee9c37f83f4adfdd6fb30c0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDE2MzQw", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-368016340", "createdAt": "2020-03-03T14:20:30Z", "commit": {"oid": "20a0f936f4af5001dee9c37f83f4adfdd6fb30c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyMDozMFrOFxHonw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyMDozMFrOFxHonw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA0OTYzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            filter(Boolean),", "url": "https://github.com/ls1intum/Artemis/pull/1262#discussion_r387049631", "createdAt": "2020-03-03T14:20:30Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/core/auth/user-route-access-service.ts", "diffHunk": "@@ -27,21 +29,19 @@ export class UserRouteAccessService implements CanActivate {\n         // We need to call the checkLogin / and so the accountService.identity() function, to ensure,\n         // that the client has an account too, if they already logged in by the server.\n         // This could happen on a page refresh.\n-        return this.checkLogin(authorities, state.url);\n-        // TODO return the following as soon as Orion v1.0.0 is released and the API is stable.\n-        // return this.orionVersionValidator\n-        //     .validateOrionVersion()\n-        //     .pipe(\n-        //         filter(Boolean),\n-        //         first(),\n-        //         switchMap(isValidOrNoIDE => {\n-        //             if (isValidOrNoIDE) {\n-        //                 return from(this.checkLogin(authorities, state.url));\n-        //             }\n-        //             return of(false);\n-        //         }),\n-        //     )\n-        //     .toPromise();\n+        return this.orionVersionValidator\n+            .validateOrionVersion()\n+            .pipe(\n+                filter(Boolean),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20a0f936f4af5001dee9c37f83f4adfdd6fb30c0"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48a455b43feebb0276d31ba9b01510845203139c", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/48a455b43feebb0276d31ba9b01510845203139c", "committedDate": "2020-03-03T14:20:45Z", "message": "Update src/main/webapp/app/core/auth/user-route-access-service.ts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDE3NDY4", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-368017468", "createdAt": "2020-03-03T14:21:51Z", "commit": {"oid": "48a455b43feebb0276d31ba9b01510845203139c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyMTo1MVrOFxHsCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyMTo1MVrOFxHsCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MDUwNA==", "bodyText": "please write natural language text comments and explain what you are doing here and which uses cases we have", "url": "https://github.com/ls1intum/Artemis/pull/1262#discussion_r387050504", "createdAt": "2020-03-03T14:21:51Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/core/auth/user-route-access-service.ts", "diffHunk": "@@ -27,21 +29,18 @@ export class UserRouteAccessService implements CanActivate {\n         // We need to call the checkLogin / and so the accountService.identity() function, to ensure,\n         // that the client has an account too, if they already logged in by the server.\n         // This could happen on a page refresh.\n-        return this.checkLogin(authorities, state.url);\n-        // TODO return the following as soon as Orion v1.0.0 is released and the API is stable.\n-        // return this.orionVersionValidator\n-        //     .validateOrionVersion()\n-        //     .pipe(\n-        //         filter(Boolean),\n-        //         first(),\n-        //         switchMap(isValidOrNoIDE => {\n-        //             if (isValidOrNoIDE) {\n-        //                 return from(this.checkLogin(authorities, state.url));\n-        //             }\n-        //             return of(false);\n-        //         }),\n-        //     )\n-        //     .toPromise();\n+        return this.orionVersionValidator", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48a455b43feebb0276d31ba9b01510845203139c"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6da39ba095d0e780fc2428f41dedb4d319641d25", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/6da39ba095d0e780fc2428f41dedb4d319641d25", "committedDate": "2020-03-03T14:31:49Z", "message": "Add comments to Orion version validation in user-route-access-service.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ca64f16e53719721f3ae737f2cb17f42c1b64a0", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/0ca64f16e53719721f3ae737f2cb17f42c1b64a0", "committedDate": "2020-03-03T14:33:16Z", "message": "Remove unused OrionVersionRange type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjk3NzI5", "url": "https://github.com/ls1intum/Artemis/pull/1262#pullrequestreview-368297729", "createdAt": "2020-03-03T20:24:19Z", "commit": {"oid": "0ca64f16e53719721f3ae737f2cb17f42c1b64a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3216, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}