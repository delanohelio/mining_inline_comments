{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0OTAwMDIz", "number": 2218, "title": "Feature: Lecture Modularisation | Exercise Units and Attachment Units", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I added authorities to all new routes and check the course groups for displaying navigation elements (links, buttons)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\n\n\nLecture Modularisation\nCurrently, there is no way for an instructor to \"modularize\" a lecture. A lecture just has a description, date, and various attachments like lecture notes. In most cases, instructors simply use a lecture as a place in the LMS to attach their lecture slides. Other LMSs follow a more modular approach to lecture design. A lecture can be split up into \"self-contained\" chunks, called modules. The lecture structure, including the kind of modules (e.g. video, HTML, files) used and how they are sequenced, can be defined by the instructor via the LMS. We want this also in Artemis.\nNotes\nThis PR also contains DB changes for another feature called learning goals. You can ignore this part in your testing\nDescription\n\nSteps for Testing\n\nHow To Create Lecture Units as a Instructor?\n\nLogin as a instructor\nNavigate to \"Course Management\"\nNavigate to \"Lectures\"\nCreate a Lecture and go back to the list of lectures\nClick on Units to get to the Lecture Unit Management Page\n\nActivated are the \"File\" and \"Exercise\" Lecture Units. Video and Text are not implemented yet and thus greyed out.\n\nCreating a File Unit means basically uploading a file and connecting it to the lecture (think lecture slides). You can optionally give it a description and a release date (students can not see the unit before the release date if it is set)\n\n\nCreating a Exercise Unit means connecting an already existing exercise to the lecture. Therefore to test this feature you first have to create an exercise in the course. Then you can select this exercise and connect it to the lecture. The release date and name of the unit will be taken from the exercise\n\n\nUsing the arrow keys next to the unit you can order the units any way you like and the student will see the units in this order. You can also edit and delete file units und unlink exercise units.\nClicking on an File units downloads the file and clicking on a exercise unit navigates to the corresponding exercise\n\nHow to View Lecture Units as a Student?\n\nLogin as a student\nNavigate to \"Course Overview\"\nClick on a Lecture\nIt should be populated with the released lecture units\n\n\n\nWhat is important to test?\n\nlecture should still be fully functional in the \"old way\" without using units. Please that everything works, like setting attachments directly to the lecture. Editing a Lecture. Deleting a Lecture\nexercises should NOT be deleted when a exercise unit is removed, please test this. But when a exercise is deleted, the corresponding exercise unit should be removed\n-Editing, Deleting and creating file units is coding wise the most complicated so these is where I expect to see the most errors\n-Test the release date functionality so students can not see lecture units before the release date\n\nTest Coverage", "createdAt": "2020-10-16T14:43:16Z", "url": "https://github.com/ls1intum/Artemis/pull/2218", "merged": true, "mergeCommit": {"oid": "4e497c5e5ecc986f0491d77dc2ef2588c54c06c1"}, "closed": true, "closedAt": "2020-10-30T11:01:42Z", "author": {"login": "stefanwaldhauser"}, "timelineItems": {"totalCount": 95, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQJIXBAH2gAyNTA0OTAwMDIzOjNmZDUwNTMwZjEzMmJiNWY2ODBlNTcyMjk3NWZiYzgwOGY5ZjRhNjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXkrNGAFqTUyMDU2MzAxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3fd50530f132bb5f680e5722975fbc808f9f4a66", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3fd50530f132bb5f680e5722975fbc808f9f4a66", "committedDate": "2020-10-07T08:58:18Z", "message": "Created entity skeleton"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7a81f64251a2c4f261f257f7f8bc195a2be46c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/cd7a81f64251a2c4f261f257f7f8bc195a2be46c", "committedDate": "2020-10-07T16:12:45Z", "message": "Implemented Entities and DB Changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60d4c2a7788c6677003b20b227f77c9e2d6e356e", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/60d4c2a7788c6677003b20b227f77c9e2d6e356e", "committedDate": "2020-10-07T16:36:07Z", "message": "Added javadoc comments to pass checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "010d32cac1e7e7a0c991bc07b5e7e331a756a73e", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/010d32cac1e7e7a0c991bc07b5e7e331a756a73e", "committedDate": "2020-10-07T16:36:20Z", "message": "Fixed possible Nullpointer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0de58d170bb910d5b4f1c4abb9b310d2c6dad527", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/0de58d170bb910d5b4f1c4abb9b310d2c6dad527", "committedDate": "2020-10-07T20:27:54Z", "message": "Fixed Checkstyle Errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "650fa04416e9494af0d0587141dc362893414bca", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/650fa04416e9494af0d0587141dc362893414bca", "committedDate": "2020-10-08T09:00:26Z", "message": "Made all relationships uni directional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba761e97da047989d8d3062de26205c42d8180ba", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/ba761e97da047989d8d3062de26205c42d8180ba", "committedDate": "2020-10-08T10:04:14Z", "message": "CREATE + Tests implemented"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "645d51121e00faab5eaa630deeacb0c49438a3f0", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/645d51121e00faab5eaa630deeacb0c49438a3f0", "committedDate": "2020-10-09T08:19:18Z", "message": "Frontend Prototype"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df28f1e74a31c3c4b22e3dc2c14c400a27f88c63", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/df28f1e74a31c3c4b22e3dc2c14c400a27f88c63", "committedDate": "2020-10-09T08:22:27Z", "message": "Merge branch 'develop' into feature/learning-goal/rest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f387c5dd84ebb7d13c801f3ffbb548a1a4741ebd", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f387c5dd84ebb7d13c801f3ffbb548a1a4741ebd", "committedDate": "2020-10-09T13:36:51Z", "message": "Implemented functionality to creater / update learning goals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d3477954b697285a8ce191b3577f066732a4323", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3d3477954b697285a8ce191b3577f066732a4323", "committedDate": "2020-10-11T20:57:27Z", "message": "Server Changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "463eb24f5b02f7ef9b095630b198e73f3a0a56dd", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/463eb24f5b02f7ef9b095630b198e73f3a0a56dd", "committedDate": "2020-10-15T11:57:22Z", "message": "Removed Learning Goal Frontend as it belongs in a different PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adad5d9949df2dba1e1e9109670e8d3dfe006de0", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/adad5d9949df2dba1e1e9109670e8d3dfe006de0", "committedDate": "2020-10-15T12:02:19Z", "message": "Removed Server Parts not belonging to this PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "055c09be1558ef88c3a30bc54ed211f9a6048ccd", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/055c09be1558ef88c3a30bc54ed211f9a6048ccd", "committedDate": "2020-10-15T13:17:18Z", "message": "Changed Entity Structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2728a8d3a84dbaf4212e7677843a81aeb56a2d6d", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/2728a8d3a84dbaf4212e7677843a81aeb56a2d6d", "committedDate": "2020-10-16T10:00:46Z", "message": "Created Liquibase Changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f74fba6d8d5fdfe15277569f5456c362992b540", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/7f74fba6d8d5fdfe15277569f5456c362992b540", "committedDate": "2020-10-16T10:03:18Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "543dd3e6060956b614905c5f68201f15496e78bc", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/543dd3e6060956b614905c5f68201f15496e78bc", "committedDate": "2020-10-16T10:04:24Z", "message": "Fixed liquibase changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eecea2e3dbcaca252a78b371d329f311b41067a", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3eecea2e3dbcaca252a78b371d329f311b41067a", "committedDate": "2020-10-16T10:11:33Z", "message": "Removed not needed routes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36550db61f59f14da89c0e874997776461ca1acb", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/36550db61f59f14da89c0e874997776461ca1acb", "committedDate": "2020-10-16T10:17:33Z", "message": "Fixed javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "076fdb3ebc36c94cb8b01c43a96abefe30e0c128", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/076fdb3ebc36c94cb8b01c43a96abefe30e0c128", "committedDate": "2020-10-16T10:42:07Z", "message": "Created Repositories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "869b3118570717cc44384b8a3cf01c0c43fa73ac", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/869b3118570717cc44384b8a3cf01c0c43fa73ac", "committedDate": "2020-10-16T10:45:12Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3251d34d95b0baef3649ca278416b81123d2ba7b", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3251d34d95b0baef3649ca278416b81123d2ba7b", "committedDate": "2020-10-16T14:41:31Z", "message": "Basic Routing Setup For Lecture Module Management"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba593ba53735a6307c650e4d03cfb52f2e5301ac", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/ba593ba53735a6307c650e4d03cfb52f2e5301ac", "committedDate": "2020-10-16T14:44:53Z", "message": "Fixed Small Mistake in Translation File"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8d9331aab07d7b7fe8c07b693abcab023d5bec0", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/e8d9331aab07d7b7fe8c07b693abcab023d5bec0", "committedDate": "2020-10-17T14:38:59Z", "message": "Created Module Creation Card Component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b87c42c158c3e834d759dd2baeacc16434963f2f", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/b87c42c158c3e834d759dd2baeacc16434963f2f", "committedDate": "2020-10-18T12:04:38Z", "message": "Renamed Files to correct name \"Module\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78153c6a603e83d79f5274debdd09425a5ee9b16", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/78153c6a603e83d79f5274debdd09425a5ee9b16", "committedDate": "2020-10-18T12:05:29Z", "message": "Created Models for HTMLModule on the Client Side"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f574e4edbcb18d2fd1cd38bbfbb135f389a4dcfd", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f574e4edbcb18d2fd1cd38bbfbb135f389a4dcfd", "committedDate": "2020-10-18T12:05:38Z", "message": "Fixed json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4459b02fe9726481940016227b10ef8d9db393e", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/c4459b02fe9726481940016227b10ef8d9db393e", "committedDate": "2020-10-18T12:06:13Z", "message": "Setup For Creation of HTMLLectureModules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16a5c5981cb4706ada13c250a40641590b073109", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/16a5c5981cb4706ada13c250a40641590b073109", "committedDate": "2020-10-19T14:09:21Z", "message": "Basic Setup to Create HTMLModules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f60b976bb342ef2bd42a0494162095b45e206c19", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f60b976bb342ef2bd42a0494162095b45e206c19", "committedDate": "2020-10-19T16:31:05Z", "message": "updated entities according to advisor feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1db33eacf4ea0298ae7ab2d8dc340b25a2daa23e", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/1db33eacf4ea0298ae7ab2d8dc340b25a2daa23e", "committedDate": "2020-10-19T16:41:52Z", "message": "Updated liquibase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bec1933c52022d16a9bdb1b54cbdb62ed561bb84", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/bec1933c52022d16a9bdb1b54cbdb62ed561bb84", "committedDate": "2020-10-19T16:46:39Z", "message": "Fixed Codacy Issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3729e639ed2977c0502be41133973ee96b770a8d", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3729e639ed2977c0502be41133973ee96b770a8d", "committedDate": "2020-10-19T18:57:37Z", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8f0cf90f9e60e8f7698c0e88763489adfad1010", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/a8f0cf90f9e60e8f7698c0e88763489adfad1010", "committedDate": "2020-10-19T19:12:03Z", "message": "Fixing Merge Conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e2d2936776f5d4898b15dc685cfff8b6f82c08c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/5e2d2936776f5d4898b15dc685cfff8b6f82c08c", "committedDate": "2020-10-19T19:17:35Z", "message": "Merge fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5f9a1d2d2c0f2cba80d847d55964a5cad87830b", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/b5f9a1d2d2c0f2cba80d847d55964a5cad87830b", "committedDate": "2020-10-19T19:18:19Z", "message": "Renamed module to unit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d14e89c295d849c00b0abde61c71aa242eeb0a63", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/d14e89c295d849c00b0abde61c71aa242eeb0a63", "committedDate": "2020-10-19T19:18:34Z", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99654a9cb9d2d6456007350571c1da3a676e7c23", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/99654a9cb9d2d6456007350571c1da3a676e7c23", "committedDate": "2020-10-19T19:19:42Z", "message": "Changed modules to units"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48765c948271f0ffdcfcf5816eb9cda928b91527", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/48765c948271f0ffdcfcf5816eb9cda928b91527", "committedDate": "2020-10-19T19:49:54Z", "message": "Changed Module to Unit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f1b99bea8d3d4504c5bccb05c99b91721ae1cbb", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/9f1b99bea8d3d4504c5bccb05c99b91721ae1cbb", "committedDate": "2020-10-21T21:33:19Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/database"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63fedca269619fb206c0bdf561bedb9bf153c20c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/63fedca269619fb206c0bdf561bedb9bf153c20c", "committedDate": "2020-10-21T21:37:10Z", "message": "Added Correct Cache Annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fca15e9a156e2d9d7f7a1d61954154549a86aef", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/7fca15e9a156e2d9d7f7a1d61954154549a86aef", "committedDate": "2020-10-21T21:47:06Z", "message": "Changed Name from HTML to Text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81ee6c45a18ee670baf6721bbb08c29d52ba1d28", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/81ee6c45a18ee670baf6721bbb08c29d52ba1d28", "committedDate": "2020-10-21T21:51:18Z", "message": "Created ExerciseUnitservice"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44372c2b9dc1e946b16b24b8eaf8623775cc1ca6", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/44372c2b9dc1e946b16b24b8eaf8623775cc1ca6", "committedDate": "2020-10-22T20:01:12Z", "message": "Exercise Unit Setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77f2e1db753297ed5d71c7955eb6dd0a0c81498c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/77f2e1db753297ed5d71c7955eb6dd0a0c81498c", "committedDate": "2020-10-22T20:02:12Z", "message": "Work on Exercise Units"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9b1f6956c24996dc1ce6b31432ada73a5521add", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/a9b1f6956c24996dc1ce6b31432ada73a5521add", "committedDate": "2020-10-23T17:44:13Z", "message": "Reworked Exercise Unit Functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "230c2c4fbb2e38aece29bcc553dc9568967a878f", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/230c2c4fbb2e38aece29bcc553dc9568967a878f", "committedDate": "2020-10-23T17:47:44Z", "message": "Added translation for lecture unit order update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b152719591c709ab5e9cd9d41744537e0f612dbe", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/b152719591c709ab5e9cd9d41744537e0f612dbe", "committedDate": "2020-10-23T17:53:50Z", "message": "Merge branch 'feature/lecture-modules-learning-goals/database' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3f6e2a3eafd0da4dacf78fbbb658d4de38c79f6", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/d3f6e2a3eafd0da4dacf78fbbb658d4de38c79f6", "committedDate": "2020-10-23T17:54:27Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4712f241a1b7c064f21a8278812e1e6d1babc81e", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/4712f241a1b7c064f21a8278812e1e6d1babc81e", "committedDate": "2020-10-23T18:30:59Z", "message": "Further merge conflict fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a53650a4c2a0989005ecd884bdd9de846c73fb7", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/0a53650a4c2a0989005ecd884bdd9de846c73fb7", "committedDate": "2020-10-23T22:22:30Z", "message": "Implemented Release Date Blocking for Lecture Units"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1af1e718ce0f00a33c2266a7589d4a8a283be7ef", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/1af1e718ce0f00a33c2266a7589d4a8a283be7ef", "committedDate": "2020-10-23T22:27:11Z", "message": "Removed distracting lecture unit order update alert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff631c3c284268e9ecb5b260ff32fac72d9a2a78", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/ff631c3c284268e9ecb5b260ff32fac72d9a2a78", "committedDate": "2020-10-23T22:39:01Z", "message": "Added Lecture Unit Section to Lecture Page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bd0ee83b4982acfa3a3f8cac027f113dbb6151a", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/4bd0ee83b4982acfa3a3f8cac027f113dbb6151a", "committedDate": "2020-10-23T22:59:18Z", "message": "Basic Attachment Units Setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ff02d4f2e26416656e77c56e99761e0d2a5de55", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/8ff02d4f2e26416656e77c56e99761e0d2a5de55", "committedDate": "2020-10-23T23:04:37Z", "message": "Frontend Model created"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b53258abf8bb53c029f9871042bfcbbebda232d7", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/b53258abf8bb53c029f9871042bfcbbebda232d7", "committedDate": "2020-10-23T23:17:29Z", "message": "Added correct page title"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7a73eddd6168f40218fb1b5c7c40d0b3bb5c05b", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/c7a73eddd6168f40218fb1b5c7c40d0b3bb5c05b", "committedDate": "2020-10-26T16:23:45Z", "message": "Completed Attachment Unit Functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48b870b9c4dc050e2643174b707c6430fd4b6f03", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/48b870b9c4dc050e2643174b707c6430fd4b6f03", "committedDate": "2020-10-26T18:36:21Z", "message": "Refactored Creation of Attachment Unit into Create Component and Form\nComponent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e492ab82a507ab495388a583a0f8650b81ce458", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/6e492ab82a507ab495388a583a0f8650b81ce458", "committedDate": "2020-10-26T18:38:22Z", "message": "Removed \"hi\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fa1408af0473fde2d7dd017390e9a0a60dbb61d", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/1fa1408af0473fde2d7dd017390e9a0a60dbb61d", "committedDate": "2020-10-26T22:16:49Z", "message": "Fixed Jackson Error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc86e590f3a84097ef2f81165e9d5e7ca04a5185", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/cc86e590f3a84097ef2f81165e9d5e7ca04a5185", "committedDate": "2020-10-28T15:55:43Z", "message": "Edit Attachment Functionality Implemented"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4651a1e5f054606f4540aeab3f2f56485c52daa", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f4651a1e5f054606f4540aeab3f2f56485c52daa", "committedDate": "2020-10-28T16:49:36Z", "message": "Refactored Server Rest Endpoints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b7c2c6b115706a06e32812f0cc7725d2ba2ba56", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3b7c2c6b115706a06e32812f0cc7725d2ba2ba56", "committedDate": "2020-10-28T18:52:32Z", "message": "Made sure that when exercises are delete the corresponding\nexercise units are also deleted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a160dc8f368148029cf41c4dee224ee1279eb0d1", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/a160dc8f368148029cf41c4dee224ee1279eb0d1", "committedDate": "2020-10-28T20:24:11Z", "message": "Added german translation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58e7537fdb76a6b0f58236950613748f32c70d13", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/58e7537fdb76a6b0f58236950613748f32c70d13", "committedDate": "2020-10-28T20:26:47Z", "message": "Removed Empty Test Scaffolds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b7385fb366c830b5e00db5a6589b2873888c28b", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3b7385fb366c830b5e00db5a6589b2873888c28b", "committedDate": "2020-10-28T20:31:23Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b346f09d911b63f5cc9b303fc4445897b5d3af5", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/2b346f09d911b63f5cc9b303fc4445897b5d3af5", "committedDate": "2020-10-28T20:49:41Z", "message": "Added file upload error to creation page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af5de724baf6311ccd76be7474dcc0897fb9a632", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/af5de724baf6311ccd76be7474dcc0897fb9a632", "committedDate": "2020-10-28T21:39:46Z", "message": "Added javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de1f9eb0bd5f614a4ddf5a8a2b3fc41ffec81f7d", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/de1f9eb0bd5f614a4ddf5a8a2b3fc41ffec81f7d", "committedDate": "2020-10-28T22:01:31Z", "message": "Fixed Codacy Issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f0bc78e615e7dd9ed75a3d78af80a9feec181d7", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/6f0bc78e615e7dd9ed75a3d78af80a9feec181d7", "committedDate": "2020-10-28T22:03:22Z", "message": "Removed test scaffold"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/56728e350b1d8d8275795e67a1baa258d20c8e27", "committedDate": "2020-10-29T10:59:14Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTYyNDMx", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-519562431", "createdAt": "2020-10-29T11:18:04Z", "commit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNFrOHqXMcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNFrOHqXMcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI1Nw==", "bodyText": "Codacy found an issue: Useless parentheses.", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182257", "createdAt": "2020-10-29T11:18:04Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -311,6 +312,24 @@ public boolean isAllowedToSeeExercise(Exercise exercise, User user) {\n         return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && exercise.isVisibleToStudents());\n     }\n \n+    /**\n+     * Determines if a user is allowed to see a lecture unit\n+     *\n+     * @param lectureUnit the lectureUnit for which to check permission\n+     * @param user        the user for which to check permission\n+     * @return true if the user is allowed, false otherwise\n+     */\n+    public boolean isAllowedToSeeLectureUnit(LectureUnit lectureUnit, User user) {\n+        if (user == null || user.getGroups() == null) {\n+            user = userService.getUserWithGroupsAndAuthorities();\n+        }\n+        if (isAdmin(user)) {\n+            return true;\n+        }\n+        Course course = lectureUnit.getLecture().getCourse();\n+        return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && lectureUnit.isVisibleToStudents());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTYyNDQy", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-519562442", "createdAt": "2020-10-29T11:18:05Z", "commit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNVrOHqXMew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNVrOHqXMew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI2Nw==", "bodyText": "Codacy found an issue: Avoid reassigning parameters such as 'user'", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182267", "createdAt": "2020-10-29T11:18:05Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -311,6 +312,24 @@ public boolean isAllowedToSeeExercise(Exercise exercise, User user) {\n         return isInstructorInCourse(course, user) || isTeachingAssistantInCourse(course, user) || (isStudentInCourse(course, user) && exercise.isVisibleToStudents());\n     }\n \n+    /**\n+     * Determines if a user is allowed to see a lecture unit\n+     *\n+     * @param lectureUnit the lectureUnit for which to check permission\n+     * @param user        the user for which to check permission\n+     * @return true if the user is allowed, false otherwise\n+     */\n+    public boolean isAllowedToSeeLectureUnit(LectureUnit lectureUnit, User user) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTYyNDUz", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-519562453", "createdAt": "2020-10-29T11:18:06Z", "commit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNlrOHqXMgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowNlrOHqXMgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI3Mg==", "bodyText": "Codacy found an issue: Avoid long parameter lists.", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182272", "createdAt": "2020-10-29T11:18:06Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -64,11 +65,13 @@\n \n     private final TeamService teamService;\n \n-    public ExerciseService(ExerciseRepository exerciseRepository, ParticipationService participationService, AuthorizationCheckService authCheckService,\n-            ProgrammingExerciseService programmingExerciseService, QuizExerciseService quizExerciseService, QuizScheduleService quizScheduleService,\n-            TutorParticipationRepository tutorParticipationRepository, ExampleSubmissionService exampleSubmissionService, AuditEventRepository auditEventRepository,\n-            ComplaintRepository complaintRepository, ComplaintResponseRepository complaintResponseRepository, TeamService teamService, StudentExamRepository studentExamRepository,\n-            ExamRepository exampRepository) {\n+    private final ExerciseUnitRepository exerciseUnitRepository;\n+\n+    public ExerciseService(ExerciseRepository exerciseRepository, ExerciseUnitRepository exerciseUnitRepository, ParticipationService participationService,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTYyNDYz", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-519562463", "createdAt": "2020-10-29T11:18:07Z", "commit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowN1rOHqXMjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMToxODowN1rOHqXMjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE4MjI4Nw==", "bodyText": "Codacy found an issue: Avoid unused private fields such as 'visibleToStudents'.", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r514182287", "createdAt": "2020-10-29T11:18:07Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/lecture_unit/LectureUnit.java", "diffHunk": "@@ -0,0 +1,104 @@\n+package de.tum.in.www1.artemis.domain.lecture_unit;\n+\n+import java.time.ZonedDateTime;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+import javax.persistence.*;\n+\n+import org.hibernate.annotations.Cache;\n+import org.hibernate.annotations.CacheConcurrencyStrategy;\n+import org.hibernate.annotations.DiscriminatorOptions;\n+\n+import com.fasterxml.jackson.annotation.JsonInclude;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+\n+import de.tum.in.www1.artemis.domain.DomainObject;\n+import de.tum.in.www1.artemis.domain.LearningGoal;\n+import de.tum.in.www1.artemis.domain.Lecture;\n+\n+@Entity\n+@Table(name = \"lecture_unit\")\n+@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n+@DiscriminatorColumn(name = \"discriminator\", discriminatorType = DiscriminatorType.STRING)\n+@DiscriminatorValue(\"L\")\n+@DiscriminatorOptions(force = true)\n+@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n+@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = \"type\")\n+@JsonInclude(JsonInclude.Include.NON_EMPTY)\n+// Annotation necessary to distinguish between concrete implementations of lecture-content when deserializing from JSON\n+@JsonSubTypes({ @JsonSubTypes.Type(value = AttachmentUnit.class, name = \"attachment\"), @JsonSubTypes.Type(value = ExerciseUnit.class, name = \"exercise\"),\n+        @JsonSubTypes.Type(value = TextUnit.class, name = \"text\"), @JsonSubTypes.Type(value = VideoUnit.class, name = \"video\"), })\n+public abstract class LectureUnit extends DomainObject {\n+\n+    @Transient\n+    private boolean visibleToStudents;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56728e350b1d8d8275795e67a1baa258d20c8e27"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60e3b3c949e1bd928e0fc831f6d5541485d99af5", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/60e3b3c949e1bd928e0fc831f6d5541485d99af5", "committedDate": "2020-10-29T16:13:12Z", "message": "Server Test for ExerciseUnit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d8d970010abee9aad1d569c0ff11c46438a513c", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/3d8d970010abee9aad1d569c0ff11c46438a513c", "committedDate": "2020-10-29T16:14:20Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11cd2010cfeca4e9aa6147d556b3050a15f06a7a", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/11cd2010cfeca4e9aa6147d556b3050a15f06a7a", "committedDate": "2020-10-29T16:23:35Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f76456377e1f646f2fe0939b5c07f837ef7e61e3", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f76456377e1f646f2fe0939b5c07f837ef7e61e3", "committedDate": "2020-10-29T16:55:03Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c79c520a08eb412c66659664606f6d7c4ca8c1a7", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/c79c520a08eb412c66659664606f6d7c4ca8c1a7", "committedDate": "2020-10-29T17:21:04Z", "message": "Fixed Tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba88edd919e6852a0979a529f8aa9233713cc1a8", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/ba88edd919e6852a0979a529f8aa9233713cc1a8", "committedDate": "2020-10-29T18:53:03Z", "message": "Wrote Tests for AttachmentUnitResouce"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74503a8046468afafc23615b866a31e03b0ede02", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/74503a8046468afafc23615b866a31e03b0ede02", "committedDate": "2020-10-29T19:07:16Z", "message": "Included Test for Delete for AttachmentUnitIntegrationTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDcyMjg1", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-520072285", "createdAt": "2020-10-29T20:52:03Z", "commit": {"oid": "74503a8046468afafc23615b866a31e03b0ede02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDcyNTkz", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-520072593", "createdAt": "2020-10-29T20:52:31Z", "commit": {"oid": "74503a8046468afafc23615b866a31e03b0ede02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDg3NjU0", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-520087654", "createdAt": "2020-10-29T21:06:50Z", "commit": {"oid": "74503a8046468afafc23615b866a31e03b0ede02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38c14d1c39e182a80f38cfd14a10febf0b463ce1", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/38c14d1c39e182a80f38cfd14a10febf0b463ce1", "committedDate": "2020-10-29T22:25:41Z", "message": "Merge branch 'develop' into feature/lecture-modules-learning-goals/lecture-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1d544f02aac20cee3034017d1cbf51e101c32df", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/f1d544f02aac20cee3034017d1cbf51e101c32df", "committedDate": "2020-10-30T06:52:51Z", "message": "Wrote Simple Test for ExerciseUnit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12015ca54799fc5cf37c189dbc6815708e7ec344", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/12015ca54799fc5cf37c189dbc6815708e7ec344", "committedDate": "2020-10-30T07:58:00Z", "message": "Created Simple Test for Lecture-Unit-Management"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d85bc372e6262ae3ade916ae2d65224fc55a6baa", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/d85bc372e6262ae3ade916ae2d65224fc55a6baa", "committedDate": "2020-10-30T08:27:13Z", "message": "Updated Test with Spies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a491166cf0bc93ae6777a61fc4226721b6706db", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/8a491166cf0bc93ae6777a61fc4226721b6706db", "committedDate": "2020-10-30T08:31:00Z", "message": "Fixed Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f178e08b604803c7085d166cdd5a844ba64b5d4", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/6f178e08b604803c7085d166cdd5a844ba64b5d4", "committedDate": "2020-10-30T09:02:57Z", "message": "Added more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0698efdf6a7f9f63f0d06a1c06df538aadbd7c36", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/0698efdf6a7f9f63f0d06a1c06df538aadbd7c36", "committedDate": "2020-10-30T09:38:24Z", "message": "Set Missing Input Property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/b09951063b3dd2b8e32ee565e02aac16fdc1ac03", "committedDate": "2020-10-30T10:06:34Z", "message": "Updated package names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNTQ2MDEw", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-520546010", "createdAt": "2020-10-30T10:35:20Z", "commit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "state": "APPROVED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMDozNToyMFrOHrJYFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMDo0MjoyOVrOHrJmUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNDQzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n          \n      \n    \n    \n  \n\nI guess those are exclusive options? So to make this more explicit use else if.", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515004439", "createdAt": "2020-10-30T10:35:20Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -78,6 +83,10 @@ public void onLoad() {\n         if (attachmentType == AttachmentType.FILE && getLecture() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n             link = link.replace(Constants.FILEPATH_ID_PLACHEOLDER, getLecture().getId().toString());\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNDYyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n      \n    \n    \n  \n\nsee above", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515004627", "createdAt": "2020-10-30T10:35:46Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -92,14 +101,26 @@ public void beforeCreate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNzYzNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515007637", "createdAt": "2020-10-30T10:41:39Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -92,14 +101,26 @@ public void beforeCreate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n+            // move file if necessary (id at this point will be null, so placeholder will be inserted)\n+            link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getAttachmentUnitFilePath() + getAttachmentUnit().getId() + '/',\n+                    getAttachmentUnit().getId(), true);\n+        }\n     }\n \n+    /**\n+     * Will be called after the entity is persisted (saved).\n+     * Manages files by taking care of file system changes for this entity.\n+     */\n     @PostPersist\n     public void afterCreate() {\n         // replace placeholder with actual id if necessary (id is no longer null at this point)\n-        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER)) {\n+        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getLecture() != null) {\n             link = link.replace(Constants.FILEPATH_ID_PLACHEOLDER, getLecture().getId().toString());\n         }\n+        if (attachmentType == AttachmentType.FILE && link != null && link.contains(Constants.FILEPATH_ID_PLACHEOLDER) && getAttachmentUnit() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwNzg5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515007894", "createdAt": "2020-10-30T10:42:08Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -113,14 +134,28 @@ public void onUpdate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTAwODA4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n          \n          \n            \n                    else if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "url": "https://github.com/ls1intum/Artemis/pull/2218#discussion_r515008081", "createdAt": "2020-10-30T10:42:29Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Attachment.java", "diffHunk": "@@ -113,14 +134,28 @@ public void onUpdate() {\n             link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(),\n                     true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {\n+            // move file and delete old file if necessary\n+            link = fileService.manageFilesForUpdatedFilePath(prevLink, link, FilePathService.getAttachmentUnitFilePath() + getAttachmentUnit().getId() + '/',\n+                    getAttachmentUnit().getId(), true);\n+        }\n     }\n \n+    /**\n+     * Will be called after the entity is removed (deleted).\n+     * Manages files by taking care of file system changes for this entity.\n+     */\n     @PostRemove\n     public void onDelete() {\n         if (attachmentType == AttachmentType.FILE && getLecture() != null) {\n             // delete old file if necessary\n             fileService.manageFilesForUpdatedFilePath(prevLink, null, FilePathService.getLectureAttachmentFilepath() + getLecture().getId() + '/', getLecture().getId(), true);\n         }\n+        if (attachmentType == AttachmentType.FILE && getAttachmentUnit() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "originalPosition": 79}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNTYzMDEx", "url": "https://github.com/ls1intum/Artemis/pull/2218#pullrequestreview-520563011", "createdAt": "2020-10-30T11:01:16Z", "commit": {"oid": "b09951063b3dd2b8e32ee565e02aac16fdc1ac03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3851, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}