{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0OTcxMDc3", "number": 2439, "title": "Enhancement/tests modeling assessment dashboard", "bodyText": "Checklist\n\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n\nDescription\nGot the Test Coverage over 80%", "createdAt": "2020-11-20T21:51:06Z", "url": "https://github.com/ls1intum/Artemis/pull/2439", "merged": true, "mergeCommit": {"oid": "8c2f9b0618aa7e17c4678c788001ecd8504cd6f4"}, "closed": true, "closedAt": "2020-11-22T11:27:46Z", "author": {"login": "nicolasruscher"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUKDtCgH2gAyNTI0OTcxMDc3OjVmYTMwYjc3ODJjYzQ4YzcwNmVjN2ZjMTE0YjViZjgzZjQxZDdiMDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABde-1ZWAFqTUzNjA1MjMzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5fa30b7782cc48c706ec7fc114b5bf83f41d7b04", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/5fa30b7782cc48c706ec7fc114b5bf83f41d7b04", "committedDate": "2020-10-19T20:18:49Z", "message": "Added Tests for QuizExercise Statistics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bf4d2b3e93911f0c6928c24accdc595e95b882a", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/5bf4d2b3e93911f0c6928c24accdc595e95b882a", "committedDate": "2020-10-24T12:19:33Z", "message": "Added Tests for QuizExercise Statistics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a89e586a02d72f45b6cd9518a52a6a99156401cd", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/a89e586a02d72f45b6cd9518a52a6a99156401cd", "committedDate": "2020-10-24T12:28:54Z", "message": "Merge branch 'develop' of https://github.com/nicolasruscher/Artemis into develop\n\n* 'develop' of https://github.com/nicolasruscher/Artemis:\n  Added Tests for QuizExercise Statistics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45fe01db97d56d92fc8941b9e9d9cbc127147cc5", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/45fe01db97d56d92fc8941b9e9d9cbc127147cc5", "committedDate": "2020-10-25T12:31:52Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a1c3329804094fb387b2e4d5d8a860dd9b190f6", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/4a1c3329804094fb387b2e4d5d8a860dd9b190f6", "committedDate": "2020-10-25T12:39:06Z", "message": "Renamed and reformated quiz-statistics-footer.spec.ts file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04033ee1f97e1fc47fd3f3327114de0164acdbd8", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/04033ee1f97e1fc47fd3f3327114de0164acdbd8", "committedDate": "2020-10-26T15:32:30Z", "message": "Added additional tests for Quiz Components"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea25cde0c79dc53833447ecacec81d9f7d8f14c6", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/ea25cde0c79dc53833447ecacec81d9f7d8f14c6", "committedDate": "2020-10-27T12:55:52Z", "message": "Added first tests for QuizStatistic component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87bf4fee2efb8362fd4d04437bbdacd124d53346", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/87bf4fee2efb8362fd4d04437bbdacd124d53346", "committedDate": "2020-10-27T16:14:33Z", "message": "Reworked some of the code to remove duplicates, added tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20d0b25fd690913dcb4c7a04bcd5f8f6e1d89d75", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/20d0b25fd690913dcb4c7a04bcd5f8f6e1d89d75", "committedDate": "2020-10-29T19:03:41Z", "message": "updated tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46ef81f52d9845fac649a5bc80b720ccdb35b384", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/46ef81f52d9845fac649a5bc80b720ccdb35b384", "committedDate": "2020-11-16T15:35:11Z", "message": "Merge remote-tracking branch 'upstream/develop' into enhancement/tests-grading-instructions-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e078f12ef6113f06b66dace6fd8f17f590353cb", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/1e078f12ef6113f06b66dace6fd8f17f590353cb", "committedDate": "2020-11-17T08:03:39Z", "message": "init branch and added first tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f76026df75bfe9d9d42dbc24d6ddb11bfe0e0fe", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/6f76026df75bfe9d9d42dbc24d6ddb11bfe0e0fe", "committedDate": "2020-11-20T18:41:10Z", "message": "Merge remote-tracking branch 'origin/develop' into enhancement/tests-modeling-assessment-dashboard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf020c69920c5c530b16a71b84b4befadb8a8ca5", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/bf020c69920c5c530b16a71b84b4befadb8a8ca5", "committedDate": "2020-11-20T21:35:10Z", "message": "Added all missing tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1OTYyMzcz", "url": "https://github.com/ls1intum/Artemis/pull/2439#pullrequestreview-535962373", "createdAt": "2020-11-21T12:15:13Z", "commit": {"oid": "bf020c69920c5c530b16a71b84b4befadb8a8ca5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxMjoxNToxNFrOH3uItQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxMjoxNToxOVrOH3uIxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODE4OTYyMQ==", "bodyText": "I suppose dead code should be removed?", "url": "https://github.com/ls1intum/Artemis/pull/2439#discussion_r528189621", "createdAt": "2020-11-21T12:15:14Z", "author": {"login": "FrankeLukas"}, "path": "src/test/javascript/spec/component/modeling-assessment-dashboard/modeling-assessment-dashboard.component.spec.ts", "diffHunk": "@@ -0,0 +1,328 @@\n+import { async, ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { TranslateModule, TranslateService } from '@ngx-translate/core';\n+import { ArtemisTestModule } from '../../test.module';\n+import { Router } from '@angular/router';\n+import { of, Subscription } from 'rxjs';\n+import { RouterTestingModule } from '@angular/router/testing';\n+import { JhiLanguageHelper } from 'app/core/language/language.helper';\n+import { AccountService } from 'app/core/auth/account.service';\n+import { MockAccountService } from '../../helpers/mocks/service/mock-account.service';\n+import { ModelingAssessmentDashboardComponent } from 'app/exercises/modeling/assess/modeling-assessment-editor/modeling-assessment-dashboard.component';\n+import { MockRouter } from '../../helpers/mocks/mock-router';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { ExerciseType } from 'app/entities/exercise.model';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { HttpResponse } from '@angular/common/http';\n+import { ModelingSubmissionService } from 'app/exercises/modeling/participate/modeling-submission.service';\n+import { ModelingExercise } from 'app/entities/modeling-exercise.model';\n+import { AssessmentType } from 'app/entities/assessment-type.model';\n+import { ModelingAssessmentService } from 'app/exercises/modeling/assess/modeling-assessment.service';\n+import { SortService } from 'app/shared/service/sort.service';\n+\n+const route = { params: of({ courseId: 3, exerciseId: 22 }) };\n+const course = { id: 1 };\n+const modelingExercise = { id: 22, course_id: course.id, type: ExerciseType.MODELING, studentAssignedTeamIdComputed: true, assessmentType: AssessmentType.SEMI_AUTOMATIC };\n+const modelingSubmission = { id: 1, submitted: true, result: { id: 10, assessor: { id: 20, guidedTourSettings: [] } } };\n+const modelingSubmission2 = { id: 2, submitted: true, result: { id: 20, assessor: { id: 30, guidedTourSettings: [] } } };\n+const userId = 30;\n+\n+describe('ModelingAssessmentDashboardComponent', () => {\n+    let component: ModelingAssessmentDashboardComponent;\n+    let fixture: ComponentFixture<ModelingAssessmentDashboardComponent>;\n+    let exerciseService: ExerciseService;\n+    let courseService: CourseManagementService;\n+    let modelingSubmissionService: ModelingSubmissionService;\n+    let modelingAssessmentService: ModelingAssessmentService;\n+    let sortService: SortService;\n+    let router: Router;\n+    let exerciseFindSpy: jasmine.Spy;\n+    let courseFindSpy: jasmine.Spy;\n+\n+    beforeEach(async(() => {\n+        TestBed.configureTestingModule({\n+            imports: [RouterTestingModule, TranslateModule.forRoot(), ArtemisTestModule],\n+            declarations: [ModelingAssessmentDashboardComponent],\n+            providers: [\n+                JhiLanguageHelper,\n+                { provide: Router, useClass: route },\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: Router, useClass: MockRouter },\n+                { provide: AccountService, useClass: MockAccountService },\n+            ],\n+        })\n+            .overrideTemplate(ModelingAssessmentDashboardComponent, '')\n+            .compileComponents()\n+            .then(() => {\n+                fixture = TestBed.createComponent(ModelingAssessmentDashboardComponent);\n+                component = fixture.componentInstance;\n+                router = fixture.debugElement.injector.get(Router);\n+                exerciseService = fixture.debugElement.injector.get(ExerciseService);\n+                courseService = fixture.debugElement.injector.get(CourseManagementService);\n+                modelingSubmissionService = fixture.debugElement.injector.get(ModelingSubmissionService);\n+                modelingAssessmentService = fixture.debugElement.injector.get(ModelingAssessmentService);\n+                sortService = fixture.debugElement.injector.get(SortService);\n+                exerciseFindSpy = spyOn(exerciseService, 'find').and.returnValue(of(new HttpResponse({ body: modelingExercise })));\n+                courseFindSpy = spyOn(courseService, 'find').and.returnValue(of(new HttpResponse({ body: course })));\n+                fixture.detectChanges();\n+            });\n+    }));\n+\n+    afterEach(() => {\n+        component.ngOnDestroy();\n+    });\n+\n+    it('should set parameters and call functions on init', fakeAsync(() => {\n+        // setup\n+        const getSubmissionsSpy = spyOn(component, 'getSubmissions');\n+        const registerChangeInResultsSpy = spyOn(component, 'registerChangeInResults');\n+\n+        // test for init values\n+        expect(component).toBeTruthy();\n+        expect(component.submissions).toEqual([]);\n+        expect(component.reverse).toEqual(false);\n+        expect(component.predicate).toEqual('id');\n+        expect(component.filteredSubmissions).toEqual([]);\n+        expect(component.optimalSubmissions).toEqual([]);\n+        expect(component.otherSubmissions).toEqual([]);\n+\n+        // call\n+        component.ngOnInit();\n+        tick();\n+\n+        // check\n+        expect(getSubmissionsSpy).toHaveBeenCalledWith(true);\n+        expect(registerChangeInResultsSpy).toHaveBeenCalled();\n+        expect(courseFindSpy).toHaveBeenCalled();\n+        expect(exerciseFindSpy).toHaveBeenCalled();\n+        expect(component.course).toEqual(course);\n+        expect(component.modelingExercise).toEqual(modelingExercise as ModelingExercise);\n+    }));\n+\n+    it('should get Submissions', () => {\n+        // test getSubmissions\n+        const filterSubmissionsSpy = spyOn(component, 'filterSubmissions');\n+        const modelingSubmissionServiceSpy = spyOn(modelingSubmissionService, 'getModelingSubmissionsForExercise').and.returnValue(\n+            of(new HttpResponse({ body: [modelingSubmission] })),\n+        );\n+\n+        // call\n+        component.ngOnInit();\n+\n+        // check\n+        expect(modelingSubmissionServiceSpy).toHaveBeenCalledWith(modelingExercise.id, { submittedOnly: true });\n+        expect(component.submissions).toEqual([modelingSubmission]);\n+        expect(component.filteredSubmissions).toEqual([modelingSubmission]);\n+        expect(filterSubmissionsSpy).toHaveBeenCalled();\n+    });\n+\n+    it('should update filtered submissions', () => {\n+        // test updateFilteredSubmissions\n+        const applyFilter = spyOn(component, 'applyFilter');\n+\n+        // setup\n+        component.ngOnInit();\n+        component.updateFilteredSubmissions([modelingSubmission]);\n+\n+        // check\n+        expect(component.filteredSubmissions).toEqual([modelingSubmission]);\n+        expect(applyFilter).toHaveBeenCalled();\n+    });\n+\n+    it('should refresh', () => {\n+        // test refresh\n+        const getSubmissionsSpy = spyOn(component, 'getSubmissions');\n+\n+        component.refresh();\n+\n+        expect(getSubmissionsSpy).toHaveBeenCalledWith(true);\n+    });\n+\n+    describe('filter Submissions', () => {\n+        it('should filter Submissions', () => {\n+            // test filterSubmissions\n+            // setup\n+            const applyFilter = spyOn(component, 'applyFilter');\n+            const getOptimalSubmissionsSpy = spyOn(modelingAssessmentService, 'getOptimalSubmissions').and.returnValue(of([1]));\n+            // component.ngOnInit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf020c69920c5c530b16a71b84b4befadb8a8ca5"}, "originalPosition": 151}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODE4OTYzNw==", "bodyText": "Same here.", "url": "https://github.com/ls1intum/Artemis/pull/2439#discussion_r528189637", "createdAt": "2020-11-21T12:15:19Z", "author": {"login": "FrankeLukas"}, "path": "src/test/javascript/spec/component/modeling-assessment-dashboard/modeling-assessment-dashboard.component.spec.ts", "diffHunk": "@@ -0,0 +1,328 @@\n+import { async, ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { TranslateModule, TranslateService } from '@ngx-translate/core';\n+import { ArtemisTestModule } from '../../test.module';\n+import { Router } from '@angular/router';\n+import { of, Subscription } from 'rxjs';\n+import { RouterTestingModule } from '@angular/router/testing';\n+import { JhiLanguageHelper } from 'app/core/language/language.helper';\n+import { AccountService } from 'app/core/auth/account.service';\n+import { MockAccountService } from '../../helpers/mocks/service/mock-account.service';\n+import { ModelingAssessmentDashboardComponent } from 'app/exercises/modeling/assess/modeling-assessment-editor/modeling-assessment-dashboard.component';\n+import { MockRouter } from '../../helpers/mocks/mock-router';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { ExerciseType } from 'app/entities/exercise.model';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { HttpResponse } from '@angular/common/http';\n+import { ModelingSubmissionService } from 'app/exercises/modeling/participate/modeling-submission.service';\n+import { ModelingExercise } from 'app/entities/modeling-exercise.model';\n+import { AssessmentType } from 'app/entities/assessment-type.model';\n+import { ModelingAssessmentService } from 'app/exercises/modeling/assess/modeling-assessment.service';\n+import { SortService } from 'app/shared/service/sort.service';\n+\n+const route = { params: of({ courseId: 3, exerciseId: 22 }) };\n+const course = { id: 1 };\n+const modelingExercise = { id: 22, course_id: course.id, type: ExerciseType.MODELING, studentAssignedTeamIdComputed: true, assessmentType: AssessmentType.SEMI_AUTOMATIC };\n+const modelingSubmission = { id: 1, submitted: true, result: { id: 10, assessor: { id: 20, guidedTourSettings: [] } } };\n+const modelingSubmission2 = { id: 2, submitted: true, result: { id: 20, assessor: { id: 30, guidedTourSettings: [] } } };\n+const userId = 30;\n+\n+describe('ModelingAssessmentDashboardComponent', () => {\n+    let component: ModelingAssessmentDashboardComponent;\n+    let fixture: ComponentFixture<ModelingAssessmentDashboardComponent>;\n+    let exerciseService: ExerciseService;\n+    let courseService: CourseManagementService;\n+    let modelingSubmissionService: ModelingSubmissionService;\n+    let modelingAssessmentService: ModelingAssessmentService;\n+    let sortService: SortService;\n+    let router: Router;\n+    let exerciseFindSpy: jasmine.Spy;\n+    let courseFindSpy: jasmine.Spy;\n+\n+    beforeEach(async(() => {\n+        TestBed.configureTestingModule({\n+            imports: [RouterTestingModule, TranslateModule.forRoot(), ArtemisTestModule],\n+            declarations: [ModelingAssessmentDashboardComponent],\n+            providers: [\n+                JhiLanguageHelper,\n+                { provide: Router, useClass: route },\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: Router, useClass: MockRouter },\n+                { provide: AccountService, useClass: MockAccountService },\n+            ],\n+        })\n+            .overrideTemplate(ModelingAssessmentDashboardComponent, '')\n+            .compileComponents()\n+            .then(() => {\n+                fixture = TestBed.createComponent(ModelingAssessmentDashboardComponent);\n+                component = fixture.componentInstance;\n+                router = fixture.debugElement.injector.get(Router);\n+                exerciseService = fixture.debugElement.injector.get(ExerciseService);\n+                courseService = fixture.debugElement.injector.get(CourseManagementService);\n+                modelingSubmissionService = fixture.debugElement.injector.get(ModelingSubmissionService);\n+                modelingAssessmentService = fixture.debugElement.injector.get(ModelingAssessmentService);\n+                sortService = fixture.debugElement.injector.get(SortService);\n+                exerciseFindSpy = spyOn(exerciseService, 'find').and.returnValue(of(new HttpResponse({ body: modelingExercise })));\n+                courseFindSpy = spyOn(courseService, 'find').and.returnValue(of(new HttpResponse({ body: course })));\n+                fixture.detectChanges();\n+            });\n+    }));\n+\n+    afterEach(() => {\n+        component.ngOnDestroy();\n+    });\n+\n+    it('should set parameters and call functions on init', fakeAsync(() => {\n+        // setup\n+        const getSubmissionsSpy = spyOn(component, 'getSubmissions');\n+        const registerChangeInResultsSpy = spyOn(component, 'registerChangeInResults');\n+\n+        // test for init values\n+        expect(component).toBeTruthy();\n+        expect(component.submissions).toEqual([]);\n+        expect(component.reverse).toEqual(false);\n+        expect(component.predicate).toEqual('id');\n+        expect(component.filteredSubmissions).toEqual([]);\n+        expect(component.optimalSubmissions).toEqual([]);\n+        expect(component.otherSubmissions).toEqual([]);\n+\n+        // call\n+        component.ngOnInit();\n+        tick();\n+\n+        // check\n+        expect(getSubmissionsSpy).toHaveBeenCalledWith(true);\n+        expect(registerChangeInResultsSpy).toHaveBeenCalled();\n+        expect(courseFindSpy).toHaveBeenCalled();\n+        expect(exerciseFindSpy).toHaveBeenCalled();\n+        expect(component.course).toEqual(course);\n+        expect(component.modelingExercise).toEqual(modelingExercise as ModelingExercise);\n+    }));\n+\n+    it('should get Submissions', () => {\n+        // test getSubmissions\n+        const filterSubmissionsSpy = spyOn(component, 'filterSubmissions');\n+        const modelingSubmissionServiceSpy = spyOn(modelingSubmissionService, 'getModelingSubmissionsForExercise').and.returnValue(\n+            of(new HttpResponse({ body: [modelingSubmission] })),\n+        );\n+\n+        // call\n+        component.ngOnInit();\n+\n+        // check\n+        expect(modelingSubmissionServiceSpy).toHaveBeenCalledWith(modelingExercise.id, { submittedOnly: true });\n+        expect(component.submissions).toEqual([modelingSubmission]);\n+        expect(component.filteredSubmissions).toEqual([modelingSubmission]);\n+        expect(filterSubmissionsSpy).toHaveBeenCalled();\n+    });\n+\n+    it('should update filtered submissions', () => {\n+        // test updateFilteredSubmissions\n+        const applyFilter = spyOn(component, 'applyFilter');\n+\n+        // setup\n+        component.ngOnInit();\n+        component.updateFilteredSubmissions([modelingSubmission]);\n+\n+        // check\n+        expect(component.filteredSubmissions).toEqual([modelingSubmission]);\n+        expect(applyFilter).toHaveBeenCalled();\n+    });\n+\n+    it('should refresh', () => {\n+        // test refresh\n+        const getSubmissionsSpy = spyOn(component, 'getSubmissions');\n+\n+        component.refresh();\n+\n+        expect(getSubmissionsSpy).toHaveBeenCalledWith(true);\n+    });\n+\n+    describe('filter Submissions', () => {\n+        it('should filter Submissions', () => {\n+            // test filterSubmissions\n+            // setup\n+            const applyFilter = spyOn(component, 'applyFilter');\n+            const getOptimalSubmissionsSpy = spyOn(modelingAssessmentService, 'getOptimalSubmissions').and.returnValue(of([1]));\n+            // component.ngOnInit();\n+            component.modelingExercise = modelingExercise;\n+            component.nextOptimalSubmissionIds = [];\n+\n+            // call\n+            component.filterSubmissions(true);\n+\n+            // check\n+            expect(getOptimalSubmissionsSpy).toHaveBeenCalled();\n+            expect(component.nextOptimalSubmissionIds).toEqual([1]);\n+            expect(applyFilter).toHaveBeenCalled();\n+        });\n+        it('should not filter Submissions', () => {\n+            // test filterSubmissions\n+            // setup\n+            const applyFilter = spyOn(component, 'applyFilter');\n+            const getOptimalSubmissionsSpy = spyOn(modelingAssessmentService, 'getOptimalSubmissions').and.returnValue(of([1]));\n+            // component.ngOnInit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf020c69920c5c530b16a71b84b4befadb8a8ca5"}, "originalPosition": 168}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b24c1632a3284a356ca06b677ab12dd56ca2bb5", "author": {"user": {"login": "nicolasruscher", "name": "Nicolas Ruscher"}}, "url": "https://github.com/ls1intum/Artemis/commit/7b24c1632a3284a356ca06b677ab12dd56ca2bb5", "committedDate": "2020-11-22T10:45:09Z", "message": "fixed dead code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDUyMzM2", "url": "https://github.com/ls1intum/Artemis/pull/2439#pullrequestreview-536052336", "createdAt": "2020-11-22T11:27:24Z", "commit": {"oid": "7b24c1632a3284a356ca06b677ab12dd56ca2bb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3717, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}