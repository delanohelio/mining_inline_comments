{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNjAwNTY1", "number": 1604, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTozMToyMVrOEGHacQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoxOTo1NFrOEHePCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODQ4MzY5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/config/ApiVersionFilter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTozMToyMVrOGkt6Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTozMToyMVrOGkt6Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE1NDExNA==", "bodyText": "Unfortunately, most Server Tests fail with the current implementation. When removing the conformance to the Filter interface, all tests pass al the sudden.\npublic class ApiVersionFilter {\n\nI cannot understand why this is the case. Maybe someone can help here?", "url": "https://github.com/ls1intum/Artemis/pull/1604#discussion_r441154114", "createdAt": "2020-06-16T21:31:21Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/config/ApiVersionFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package de.tum.in.www1.artemis.config;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class ApiVersionFilter implements Filter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e27100c30b661e798dd1f5ac64d28712ce22e2f"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NDcwNzk0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/core/interceptor/artemis-version.interceptor.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyNTo0OFrOGlrEKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyNTo0OFrOGlrEKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE1NjA3NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.showAlert.pipe(throttleTime(2000)).subscribe(() => alertService.addAlert({ type: 'info', msg: 'artemisApp.outdatedAlert', timeout: 30000 }, []));\n          \n          \n            \n                    this.showAlert.pipe(throttleTime(10000)).subscribe(() => alertService.addAlert({ type: 'info', msg: 'artemisApp.outdatedAlert', timeout: 30000 }, []));", "url": "https://github.com/ls1intum/Artemis/pull/1604#discussion_r442156074", "createdAt": "2020-06-18T11:25:48Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/core/interceptor/artemis-version.interceptor.ts", "diffHunk": "@@ -0,0 +1,28 @@\n+import { Injectable } from '@angular/core';\n+import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\n+import { Observable, Subject } from 'rxjs';\n+import { tap, throttleTime } from 'rxjs/operators';\n+import { ARTEMIS_VERSION_HEADER, VERSION } from 'app/app.constants';\n+import { AlertService } from 'app/core/alert/alert.service';\n+\n+@Injectable()\n+export class ArtemisVersionInterceptor implements HttpInterceptor {\n+    private showAlert = new Subject();\n+\n+    constructor(alertService: AlertService) {\n+        this.showAlert.pipe(throttleTime(2000)).subscribe(() => alertService.addAlert({ type: 'info', msg: 'artemisApp.outdatedAlert', timeout: 30000 }, []));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c64a8c0e6662d68fea8dc8a16c937a8b612cf9e2"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjcwMDg2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/en/alert.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoxNzoyOVrOGm2Y-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoxNzoyOVrOGm2Y-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5MDIwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"outdatedAlert\": \"<b>Outdated Artemis Version:</b> You are using an outdated Artemis version. Please refresh the page to prevent incompatibilities.\"\n          \n          \n            \n                    \"outdatedAlert\": \"<b>Your Artemis version is outdated:</b> Please reload the browser page to prevent incompatibilities.\"", "url": "https://github.com/ls1intum/Artemis/pull/1604#discussion_r443390200", "createdAt": "2020-06-22T08:17:29Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/en/alert.json", "diffHunk": "@@ -4,6 +4,7 @@\n             \"alert\": \"Alert\",\n             \"disconnected\": \"You are not connected to the Artemis Server. Please check your internet connection.\",\n             \"reconnected\": \"You were reconnected to the Artemis Server.\"\n-        }\n+        },\n+        \"outdatedAlert\": \"<b>Outdated Artemis Version:</b> You are using an outdated Artemis version. Please refresh the page to prevent incompatibilities.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4bf752f4ac442428dd85c2ba801c763a6d82e4e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjcwODU4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/de/alert.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoxOTo1NFrOGm2eAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODoxOTo1NFrOGm2eAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM5MTQ5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"outdatedAlert\": \"<b>Veraltete Artemis Version:</b> Du benutzt eine alte Artemis Version. Bitte aktualisiere die Seite um Inkompatibilit\u00e4ten zu vermeiden.\"\n          \n          \n            \n                    \"outdatedAlert\": \"<b>Deine Artemis Version ist veraltet:</b> Bitte lade die Browser Seite neu um Inkompatibilit\u00e4ten zu vermeiden.\"", "url": "https://github.com/ls1intum/Artemis/pull/1604#discussion_r443391491", "createdAt": "2020-06-22T08:19:54Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/de/alert.json", "diffHunk": "@@ -4,6 +4,7 @@\n             \"alert\": \"Achtung\",\n             \"disconnected\": \"Du bist nicht mehr mit dem Artemis Server verbunden. Bitte \u00fcberpr\u00fcfe deine Internet Verbindung.\",\n             \"reconnected\": \"Du bist wieder mit dem Artemis Server verbunden.\"\n-        }\n+        },\n+        \"outdatedAlert\": \"<b>Veraltete Artemis Version:</b> Du benutzt eine alte Artemis Version. Bitte aktualisiere die Seite um Inkompatibilit\u00e4ten zu vermeiden.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4bf752f4ac442428dd85c2ba801c763a6d82e4e"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 38, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}