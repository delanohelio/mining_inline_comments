{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5ODA3MTI5", "number": 2109, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NVrOEqqLGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NlrOEqqLGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTY2NjE3OnYy", "diffSide": "RIGHT", "path": "src/test/java/de/tum/in/www1/artemis/service/FeatureToggleServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NVrOHc_XAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NVrOHc_XAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE2MDI1OQ==", "bodyText": "Codacy found an issue: Missing a Javadoc comment.", "url": "https://github.com/ls1intum/Artemis/pull/2109#discussion_r500160259", "createdAt": "2020-10-06T10:11:55Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/FeatureToggleServiceTest.java", "diffHunk": "@@ -0,0 +1,84 @@\n+package de.tum.in.www1.artemis.service;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+\n+import de.tum.in.www1.artemis.AbstractSpringIntegrationBambooBitbucketJiraTest;\n+import de.tum.in.www1.artemis.service.feature.Feature;\n+import de.tum.in.www1.artemis.service.feature.FeatureToggleService;\n+\n+public class FeatureToggleServiceTest extends AbstractSpringIntegrationBambooBitbucketJiraTest {\n+\n+    @Autowired\n+    FeatureToggleService featureToggleService;\n+\n+    @AfterEach\n+    public void checkReset() {\n+        // Verify that the test has resetted the state\n+        // Must be extended if additional features are added\n+        assertTrue(featureToggleService.isFeatureEnabled(Feature.PROGRAMMING_EXERCISES));\n+    }\n+\n+    @Test\n+    public void testSetFeaturesEnabled() {\n+        Map<Feature, Boolean> featureStates = new HashMap<>();\n+        featureStates.put(Feature.PROGRAMMING_EXERCISES, true);\n+        featureToggleService.updateFeatureToggles(featureStates);\n+        assertTrue(featureToggleService.isFeatureEnabled(Feature.PROGRAMMING_EXERCISES));\n+    }\n+\n+    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "965cdc1f7d6ce7d69f336818c7cc13c946b44e85"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTY2NjE5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NlrOHc_XCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxMDoxMTo1NlrOHc_XCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE2MDI2Nw==", "bodyText": "Codacy found an issue: Useless parentheses.", "url": "https://github.com/ls1intum/Artemis/pull/2109#discussion_r500160267", "createdAt": "2020-10-06T10:11:56Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java", "diffHunk": "@@ -127,7 +131,8 @@ public ParticipationResource(ParticipationService participationService, Programm\n         // Also don't allow participations if the feature is disabled\n         if (exercise instanceof ProgrammingExercise) {\n             var programmingExercise = (ProgrammingExercise) exercise;\n-            if (!Feature.PROGRAMMING_EXERCISES.isEnabled() || (programmingExercise.getDueDate() != null && ZonedDateTime.now().isAfter(programmingExercise.getDueDate())\n+            if (!featureToggleService.isFeatureEnabled(Feature.PROGRAMMING_EXERCISES) || (programmingExercise.getDueDate() != null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "965cdc1f7d6ce7d69f336818c7cc13c946b44e85"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4699, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}