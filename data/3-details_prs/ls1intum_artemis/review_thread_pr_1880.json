{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NzYxODkz", "number": 1880, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozMjo0N1rOEOW_nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDozNDoyM1rOEOa_ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDkyMjU1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozMjo0N1rOGxeAbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozMjo0N1rOGxeAbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNTAzOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    console.log(`Constructor ExamCodeEditorStudentContainerComponent with id ${this.componentId}`);\n          \n      \n    \n    \n  \n\nI assume this is a debug statement and can be removed for production", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454525039", "createdAt": "2020-07-14T17:32:47Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "diffHunk": "@@ -47,6 +66,8 @@ export class ExamCodeEditorStudentContainerComponent extends CodeEditorContainer\n         fileService: CodeEditorFileService,\n     ) {\n         super(null, translateService, null, jhiAlertService, sessionService, fileService);\n+        this.componentId = Math.random() * 1000000000;\n+        console.log(`Constructor ExamCodeEditorStudentContainerComponent with id ${this.componentId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDkyNzI1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozNDowM1rOGxeDXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzo1NzoxOFrOGxe8Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNTc4OA==", "bodyText": "I would suggest to remove it if it is not needed anymore instead of commenting it out.", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454525788", "createdAt": "2020-07-14T17:34:03Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "diffHunk": "@@ -63,21 +84,24 @@ export class ExamCodeEditorStudentContainerComponent extends CodeEditorContainer\n     }\n \n     reload(): void {\n-        this.ngOnInit();\n-        if (this.instructions) {\n-            this.instructions.refreshInstructions();\n-        }\n+        // this.ngOnInit();\n+        // if (this.instructions) {\n+        //     this.instructions.refreshInstructions();\n+        // }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0MDM3OA==", "bodyText": "This depends on the outcome of the reviews :D", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454540378", "createdAt": "2020-07-14T17:57:18Z", "author": {"login": "anditurdiu"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "diffHunk": "@@ -63,21 +84,24 @@ export class ExamCodeEditorStudentContainerComponent extends CodeEditorContainer\n     }\n \n     reload(): void {\n-        this.ngOnInit();\n-        if (this.instructions) {\n-            this.instructions.refreshInstructions();\n-        }\n+        // this.ngOnInit();\n+        // if (this.instructions) {\n+        //     this.instructions.refreshInstructions();\n+        // }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNTc4OA=="}, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDkzMTcxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozNToxMFrOGxeGCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozNToxMFrOGxeGCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNjQ3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    console.log(`Constructor ProgrammingExamSubmissionComponent with id ${this.componentId}`);\n          \n      \n    \n    \n  \n\nsame here", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454526472", "createdAt": "2020-07-14T17:35:10Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "diffHunk": "@@ -41,6 +41,15 @@ export class ProgrammingExamSubmissionComponent extends ExamSubmissionComponent\n     readonly ButtonType = ButtonType;\n     readonly ButtonSize = ButtonSize;\n \n+    // ComponentId to verify uniqueness\n+    componentId: number;\n+\n+    constructor() {\n+        super();\n+        this.componentId = Math.random() * 1000000000;\n+        console.log(`Constructor ProgrammingExamSubmissionComponent with id ${this.componentId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDkzOTc3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozNzowM1rOGxeKyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzo1NTo1MFrOGxe4vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNzY5MA==", "bodyText": "Not added in this PR, but I would suggest to remove/refactor this comment as I have no clue what session this is about.", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454527690", "createdAt": "2020-07-14T17:37:03Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.component.ts", "diffHunk": "@@ -194,20 +194,22 @@ export class CodeEditorAceComponent implements AfterViewInit, OnChanges, OnDestr\n      */\n     onFileTextChanged(code: string) {\n         /** Is the code different to what we have on our session? This prevents us from saving when a file is loaded **/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUzOTQ1Mw==", "bodyText": "Yeah, this comment is vague, however, we were not sure exactly how to define the behaviour in a better way here. The fileSession is the cache basically where we keep track of the file's contents so that we do not have to call the getFileContent from the server every time.", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454539453", "createdAt": "2020-07-14T17:55:50Z", "author": {"login": "anditurdiu"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.component.ts", "diffHunk": "@@ -194,20 +194,22 @@ export class CodeEditorAceComponent implements AfterViewInit, OnChanges, OnDestr\n      */\n     onFileTextChanged(code: string) {\n         /** Is the code different to what we have on our session? This prevents us from saving when a file is loaded **/", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNzY5MA=="}, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDk0NDIwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain-dependent.service.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODoxMVrOGxeNcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODoxMVrOGxeNcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyODM3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    console.log(`Constructor DomainDependentService (${this.constructor.name}) with id ${this.componentId}`);", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454528371", "createdAt": "2020-07-14T17:38:11Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain-dependent.service.ts", "diffHunk": "@@ -12,7 +12,13 @@ export abstract class DomainDependentService implements OnDestroy {\n     protected domain: DomainChange;\n     protected domainChangeSubscription: Subscription;\n \n-    constructor(private domainService: DomainService) {}\n+    // ComponentId to verify uniqueness\n+    componentId: number;\n+\n+    constructor(private domainService: DomainService) {\n+        this.componentId = Math.random() * 1000000000;\n+        console.log(`Constructor DomainDependentService (${this.constructor.name}) with id ${this.componentId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDk0NTc4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain-dependent.service.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODozMVrOGxeOUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODozMVrOGxeOUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyODU5NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    console.log(`Destroy DomainDependentService (${this.constructor.toString()}) with id ${this.componentId}`);", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454528594", "createdAt": "2020-07-14T17:38:31Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain-dependent.service.ts", "diffHunk": "@@ -44,5 +50,6 @@ export abstract class DomainDependentService implements OnDestroy {\n         if (this.domainChangeSubscription) {\n             this.domainChangeSubscription.unsubscribe();\n         }\n+        console.log(`Destroy DomainDependentService (${this.constructor.toString()}) with id ${this.componentId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDk0Njk3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain.service.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODo0OVrOGxePCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozODo0OVrOGxePCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyODc3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    console.log(`Constructor Service with id ${this.componentId}`);", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454528776", "createdAt": "2020-07-14T17:38:49Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-domain.service.ts", "diffHunk": "@@ -11,7 +11,13 @@ export class DomainService {\n     protected domain: DomainChange;\n     private subject = new BehaviorSubject<DomainParticipationChange | DomainTestRepositoryChange | null>(null);\n \n-    constructor() {}\n+    // ComponentId to verify uniqueness\n+    componentId: number;\n+\n+    constructor() {\n+        this.componentId = Math.random() * 1000000000;\n+        console.log(`Constructor Service with id ${this.componentId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6fe74ca32405b4635c8aa8dc675779e635327a"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTU3MzI1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDozMzoxMlrOGxkPSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDozMzoxMlrOGxkPSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyNzE0Ng==", "bodyText": "I did not know this was possible. Cool solution! \ud83d\ude0e", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454627146", "createdAt": "2020-07-14T20:33:12Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "diffHunk": "@@ -16,10 +16,26 @@ import { CodeEditorFileBrowserComponent } from 'app/exercises/programming/shared\n import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n import { CommitState, DomainType, FileChange } from 'app/exercises/programming/shared/code-editor/model/code-editor.model';\n import { DomainService } from 'app/exercises/programming/shared/code-editor/service/code-editor-domain.service';\n+import { CodeEditorConflictStateService } from 'app/exercises/programming/shared/code-editor/service/code-editor-conflict-state.service';\n+import { CodeEditorSubmissionService } from 'app/exercises/programming/shared/code-editor/service/code-editor-submission.service';\n+import {\n+    CodeEditorBuildLogService,\n+    CodeEditorRepositoryFileService,\n+    CodeEditorRepositoryService,\n+} from 'app/exercises/programming/shared/code-editor/service/code-editor-repository.service';\n \n @Component({\n     selector: 'jhi-exam-code-editor-student',\n     templateUrl: './exam-code-editor-student-container.component.html',\n+    providers: [\n+        CodeEditorConflictStateService,\n+        CodeEditorSessionService,\n+        CodeEditorSubmissionService,\n+        CodeEditorBuildLogService,\n+        CodeEditorRepositoryFileService,\n+        CodeEditorRepositoryService,\n+        DomainService,\n+    ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4cc9d6e29a229a2970909767677a9f888bf068c"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTU3NzMyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-repository.service.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDozNDoyM1rOGxkRxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDozNDoyM1rOGxkRxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyNzc4MQ==", "bodyText": "\ud83d\ude0d", "url": "https://github.com/ls1intum/Artemis/pull/1880#discussion_r454627781", "createdAt": "2020-07-14T20:34:23Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/programming/shared/code-editor/service/code-editor-repository.service.ts", "diffHunk": "@@ -193,7 +193,7 @@ export class CodeEditorRepositoryFileService extends DomainDependentEndpointServ\n                 }\n                 this.fileUpdateSubject.next(fileSubmission);\n             }),\n-            catchError((_) => {\n+            catchError(() => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4cc9d6e29a229a2970909767677a9f888bf068c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4772, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}