{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNjUwNjY4", "number": 1757, "title": "Calculate the current server time to be used in a better way to prevent problems", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n\nMotivation and Context\nWe now use a custom time request which should be more reliable.\nWe also calculate the current time based on the offset between client and server and not based on a counter using the last synced server time (which is unreliable in background tabs)\nDescription\nThe call is invoked at most 5 times per minute.\nNote: Even if the student manipulates his system time, the artemis time won't be in sync for max. 2 minutes if online and in an exam.\nSteps for Testing\n\nStudent: Navigate into an exam with a wrong local computer time / different time zone\nThe time until the exam end should be displayed correctly\n\nNote: If you change the time locally while being in this view, this will not be discovered", "createdAt": "2020-06-29T21:08:03Z", "url": "https://github.com/ls1intum/Artemis/pull/1757", "merged": true, "mergeCommit": {"oid": "be2bd00de534bc4f5d6aab2b821425e8f7951f78"}, "closed": true, "closedAt": "2020-07-09T20:24:27Z", "author": {"login": "krusche"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwCWi8gH2gAyNDQxNjUwNjY4OjU5YmFkMDYzOTIwMzIwZDNhZDAyYTI1MDcwNWZmYTY0Mzc5NjdhZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy6wysgFqTQ0NDc4NDA0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59bad063920320d3ad02a250705ffa6437967ad5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/59bad063920320d3ad02a250705ffa6437967ad5", "committedDate": "2020-06-29T14:58:53Z", "message": "calculate server date with absolut offset based on last sync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e53de4f2e4bd1c5ca6cf3e37ef82318dbc6bcdc", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3e53de4f2e4bd1c5ca6cf3e37ef82318dbc6bcdc", "committedDate": "2020-06-29T15:04:50Z", "message": "add TODOs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0a5fabcf1bbd343ced2649991a805ff97af8d7a", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/a0a5fabcf1bbd343ced2649991a805ff97af8d7a", "committedDate": "2020-06-29T16:28:27Z", "message": "calculate average of offsets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdfa86372187aa39806bcd5bfe4f63cd825e40d6", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/cdfa86372187aa39806bcd5bfe4f63cd825e40d6", "committedDate": "2020-06-29T18:54:03Z", "message": "remove wrong calculation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e381b18f252c56f939eaf7e148e5033a938ea4b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/4e381b18f252c56f939eaf7e148e5033a938ea4b", "committedDate": "2020-06-29T20:59:19Z", "message": "use a new time call to get a better precision, invoke it at most 5 times per minute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15d1ff40a426ed03e63ea1d05cebbea6a419d953", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/15d1ff40a426ed03e63ea1d05cebbea6a419d953", "committedDate": "2020-06-30T08:04:26Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into bugfix/calculate-serverdate-with-offset\n\n# Conflicts:\n#\tsrc/main/webapp/app/shared/server-date.service.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "930f64f3a9d07cb27ef87c74e64e8151706b002d", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/930f64f3a9d07cb27ef87c74e64e8151706b002d", "committedDate": "2020-06-30T08:34:58Z", "message": "fix javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "907b65c38796ac5cbf0658fb24557b0d515d27f8", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/907b65c38796ac5cbf0658fb24557b0d515d27f8", "committedDate": "2020-07-01T08:22:17Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into bugfix/calculate-serverdate-with-offset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/59706dee4d6d22e27f863d8f647cbf6e449941d1", "committedDate": "2020-07-01T09:21:47Z", "message": "add explanations and remove unused"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNzE0MDM1", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-440714035", "createdAt": "2020-07-01T09:45:29Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0NTozMFrOGrez3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0NTozMFrOGrez3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0Njc0OA==", "bodyText": "Is anyone working on this? Otherwise, I might give this a shot! This can be a significant factor and make the accuracy worse than it actually is!", "url": "https://github.com/ls1intum/Artemis/pull/1757#discussion_r448246748", "createdAt": "2020-07-01T09:45:30Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/shared/server-date.service.ts", "diffHunk": "@@ -24,11 +28,12 @@ export class ArtemisServerDateService {\n                 }\n             });\n         } else {\n-            // definitly sync if we do not have 5 elements yet\n+            // definitely sync if we do not have 5 elements yet\n             shouldSync = true;\n         }\n         // TODO: one additional optimization could be to take the duration for request -> response into account here", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMDY1Njk0", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441065694", "createdAt": "2020-07-01T17:28:26Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNTk4OTAw", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441598900", "createdAt": "2020-07-02T11:43:50Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNjczNzk5", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441673799", "createdAt": "2020-07-02T13:23:43Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzoyMzo0M1rOGsMsYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzoyMzo0M1rOGsMsYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk5ODQ5OA==", "bodyText": "Maybe make this more explicit? This could lead to unwanted behaviour if there are any other requests with \"time\" in the url path right?", "url": "https://github.com/ls1intum/Artemis/pull/1757#discussion_r448998498", "createdAt": "2020-07-02T13:23:43Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/core/interceptor/artemis-version.interceptor.ts", "diffHunk": "@@ -24,9 +22,9 @@ export class ArtemisVersionInterceptor implements HttpInterceptor {\n                     if (VERSION && serverVersion && VERSION !== serverVersion) {\n                         this.showAlert.next();\n                     }\n-                    const serverDate = response.headers.get(ARTEMIS_SERVER_DATE_HEADER);\n-                    if (serverDate) {\n-                        this.serverDate.next(serverDate);\n+                    // only invoke the time call if the call was not already the time call to prevent recursion here\n+                    if (!req.url.includes('time')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNjc3MTg1", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441677185", "createdAt": "2020-07-02T13:27:37Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzoyNzozN1rOGsM18A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzoyNzozN1rOGsM18A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAwMDk0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        this.recentClientDates.forEach((recentClientDate) => {\n          \n          \n            \n                            // only if all recent client dates (i.e. recent syncs are older than 60s)\n          \n          \n            \n                            if (now.diff(recentClientDate, 's') > 60) {\n          \n          \n            \n                                shouldSync = true;\n          \n          \n            \n                            }\n          \n          \n            \n                        });\n          \n          \n            \n                         // only if some recent client dates (i.e. recent syncs) are older than 60s\n          \n          \n            \n                        shouldSync = this.recentClientDates.some((recentClientDate) => \n          \n          \n            \n                            now.diff(recentClientDate, 's') > 60);", "url": "https://github.com/ls1intum/Artemis/pull/1757#discussion_r449000944", "createdAt": "2020-07-02T13:27:37Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/shared/server-date.service.ts", "diffHunk": "@@ -1,36 +1,89 @@\n import { Injectable } from '@angular/core';\n-import { interval } from 'rxjs/observable/interval';\n import * as moment from 'moment';\n+import { HttpClient } from '@angular/common/http';\n+import { SERVER_API_URL } from 'app/app.constants';\n \n @Injectable({ providedIn: 'root' })\n export class ArtemisServerDateService {\n-    // date from the server saved in unix for easier calculation\n-    private serverDate: number;\n-    // interval firing every second to increment the server date\n-    private interval = interval(1000);\n+    private resourceUrl = SERVER_API_URL + 'time';\n \n-    constructor() {\n-        this.interval.subscribe(() => {\n-            // increment the server date by a second every second\n-            this.serverDate++;\n-        });\n+    // offsets of the last synchronizations in ms (max. 5)\n+    private recentOffsets = new Array<number>();\n+    // client (!) dates of the last synchronizations (max. 5)\n+    private recentClientDates = new Array<moment.Moment>();\n+\n+    constructor(private http: HttpClient) {}\n+\n+    /**\n+     * get a new server date if necessary\n+     */\n+    updateTime(): void {\n+        let shouldSync = false;\n+        const now = moment(new Date());\n+        if (this.recentClientDates.length > 4) {\n+            this.recentClientDates.forEach((recentClientDate) => {\n+                // only if all recent client dates (i.e. recent syncs are older than 60s)\n+                if (now.diff(recentClientDate, 's') > 60) {\n+                    shouldSync = true;\n+                }\n+            });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNjgxMjA5", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441681209", "createdAt": "2020-07-02T13:32:08Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzozMjowOFrOGsNBrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzozMjowOFrOGsNBrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAwMzk0OA==", "bodyText": "Array.sort in javascript is an in-place operation, which means this.recentOffsets would be modified too - also by the shift and pop operation - because offsetsSorted is just a reference, not a copy.", "url": "https://github.com/ls1intum/Artemis/pull/1757#discussion_r449003948", "createdAt": "2020-07-02T13:32:08Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/shared/server-date.service.ts", "diffHunk": "@@ -1,36 +1,89 @@\n import { Injectable } from '@angular/core';\n-import { interval } from 'rxjs/observable/interval';\n import * as moment from 'moment';\n+import { HttpClient } from '@angular/common/http';\n+import { SERVER_API_URL } from 'app/app.constants';\n \n @Injectable({ providedIn: 'root' })\n export class ArtemisServerDateService {\n-    // date from the server saved in unix for easier calculation\n-    private serverDate: number;\n-    // interval firing every second to increment the server date\n-    private interval = interval(1000);\n+    private resourceUrl = SERVER_API_URL + 'time';\n \n-    constructor() {\n-        this.interval.subscribe(() => {\n-            // increment the server date by a second every second\n-            this.serverDate++;\n-        });\n+    // offsets of the last synchronizations in ms (max. 5)\n+    private recentOffsets = new Array<number>();\n+    // client (!) dates of the last synchronizations (max. 5)\n+    private recentClientDates = new Array<moment.Moment>();\n+\n+    constructor(private http: HttpClient) {}\n+\n+    /**\n+     * get a new server date if necessary\n+     */\n+    updateTime(): void {\n+        let shouldSync = false;\n+        const now = moment(new Date());\n+        if (this.recentClientDates.length > 4) {\n+            this.recentClientDates.forEach((recentClientDate) => {\n+                // only if all recent client dates (i.e. recent syncs are older than 60s)\n+                if (now.diff(recentClientDate, 's') > 60) {\n+                    shouldSync = true;\n+                }\n+            });\n+        } else {\n+            // definitely sync if we do not have 5 elements yet\n+            shouldSync = true;\n+        }\n+        // TODO: one additional optimization could be to take the duration for request -> response into account here\n+        if (shouldSync) {\n+            // get new server date\n+            this.http.get<string>(this.resourceUrl).subscribe((serverDate) => {\n+                this.setServerDate(serverDate);\n+            });\n+        }\n     }\n \n     /**\n-     * sets the current server date as unix\n+     * adds the latest offset\n      *\n      * @param {string} date\n      */\n     setServerDate(date: string): void {\n-        this.serverDate = moment(date).unix();\n+        const serverDate = moment(date);\n+        const clientDate = moment();\n+        // save the most recent client date\n+        this.recentClientDates.push(clientDate);\n+        // calculate offset\n+        const offset = serverDate.diff(clientDate, 'ms');\n+        // save the most recent offset\n+        this.recentOffsets.push(offset);\n+        // remove oldest offset and client date if more than 5\n+        if (this.recentOffsets.length > 5) {\n+            this.recentOffsets.shift();\n+            this.recentClientDates.shift();\n+        }\n+        // This would be faster and more reliable than using an interceptor with arbitrary REST calls\n     }\n \n     /**\n      * returns the calculated current server date as moment\n      */\n-    now(): any {\n-        // return moment.unix(this.serverDate);\n-        // NOTE: quick fix which basically deactivates the calculation here until a better approach is implemented and tested\n-        return moment();\n+    now(): moment.Moment {\n+        const clientDate = moment();\n+        // return the client date if there are no offsets (e.g. when offline or before any api call was made)\n+        if (this.recentOffsets.length === 0) {\n+            return clientDate;\n+        }\n+        // take first offset if there are less than 5\n+        let offset = this.recentOffsets[0];\n+        // remove noise from offset if there are 5\n+        if (this.recentOffsets.length === 5) {\n+            const offsetsSorted = this.recentOffsets.sort((a, b) => b - a);\n+            // remove lowest\n+            offsetsSorted.shift();\n+            // remove highest\n+            offsetsSorted.pop();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzA0Njky", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-441704692", "createdAt": "2020-07-02T13:57:59Z", "commit": {"oid": "59706dee4d6d22e27f863d8f647cbf6e449941d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd0d5a4e09500c4034ba1d4a538f1f5a396e018d", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/cd0d5a4e09500c4034ba1d4a538f1f5a396e018d", "committedDate": "2020-07-02T14:14:36Z", "message": "Update src/main/webapp/app/shared/server-date.service.ts\n\nCo-authored-by: Kilian Schulte <schultek@in.tum.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "835c87ebdc896472ba7972a1e3f52bd022c97fc7", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/835c87ebdc896472ba7972a1e3f52bd022c97fc7", "committedDate": "2020-07-02T14:18:01Z", "message": "work on copy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68c4b518618a3007a20093be0d3b3162cc04e8b9", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/68c4b518618a3007a20093be0d3b3162cc04e8b9", "committedDate": "2020-07-02T15:26:17Z", "message": "Merge branch 'develop' into bugfix/calculate-serverdate-with-offset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a937295d71e408edefdbf697896e9a398afd82e", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/8a937295d71e408edefdbf697896e9a398afd82e", "committedDate": "2020-07-02T21:04:20Z", "message": "Merge branch 'develop' into bugfix/calculate-serverdate-with-offset"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDM2NTU1", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-442036555", "createdAt": "2020-07-02T21:45:44Z", "commit": {"oid": "8a937295d71e408edefdbf697896e9a398afd82e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDUwNTU3", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-442050557", "createdAt": "2020-07-02T22:23:45Z", "commit": {"oid": "8a937295d71e408edefdbf697896e9a398afd82e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a2819389d2b8505432dc5fea4e672e6fa88d18b", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/9a2819389d2b8505432dc5fea4e672e6fa88d18b", "committedDate": "2020-07-04T23:29:45Z", "message": "Merge branch 'develop' into bugfix/calculate-serverdate-with-offset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03d114f34c9555ba5bfd7811c5601a88240ce295", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/03d114f34c9555ba5bfd7811c5601a88240ce295", "committedDate": "2020-07-08T08:12:54Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into bugfix/calculate-serverdate-with-offset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d12fd030c97a8dc0362915906572f7f4f42b0f", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/25d12fd030c97a8dc0362915906572f7f4f42b0f", "committedDate": "2020-07-08T08:25:47Z", "message": "use server date in overview"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjA2ODQz", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-444606843", "createdAt": "2020-07-08T10:16:42Z", "commit": {"oid": "25d12fd030c97a8dc0362915906572f7f4f42b0f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjcxMTI3", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-444671127", "createdAt": "2020-07-08T11:49:39Z", "commit": {"oid": "25d12fd030c97a8dc0362915906572f7f4f42b0f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0Nzg0MDQ1", "url": "https://github.com/ls1intum/Artemis/pull/1757#pullrequestreview-444784045", "createdAt": "2020-07-08T13:50:05Z", "commit": {"oid": "25d12fd030c97a8dc0362915906572f7f4f42b0f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2583, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}