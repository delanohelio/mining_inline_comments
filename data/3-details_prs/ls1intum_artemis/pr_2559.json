{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMDUzNzk4", "number": 2559, "title": "remove buildUrlWithParams from globa-utils", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server\n Client: I followed the coding and design guidelines.\n\nMotivation and Context\n\n\nThe buildUrlWithParams utility function is broken when using more than one parameter. Furthermore it was only used with a single parameter.\nAlso add a couple of small tests for Utils.ts.\nDescription\n\nI removed buildUrlWithParams and adapted the existing code. I also added a couple of tests in utils.spec.ts\nSteps for Testing\n\nSimply save an assessment for a file upload and programming exercise and make sure it works correctly\nTest Coverage\n\n\n\nglobal-utils.ts : 100%\nutils.ts : 97.14%", "createdAt": "2020-12-17T18:42:25Z", "url": "https://github.com/ls1intum/Artemis/pull/2559", "merged": true, "mergeCommit": {"oid": "e4387c2644b022bf4c956d56fc1e735c3ad22569"}, "closed": true, "closedAt": "2020-12-20T16:18:57Z", "author": {"login": "ivanchimeno"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnIBpJgH2gAyNTQyMDUzNzk4Ojk1MzZiMjZmMzJhODkxYjQyMTY5ZjE1YzZlNzJjZTRlM2NlMzEyMTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoDx9AgFqTU1NjAzMTM5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9536b26f32a891b42169f15c6e72ce4e3ce31211", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/9536b26f32a891b42169f15c6e72ce4e3ce31211", "committedDate": "2020-12-17T18:41:19Z", "message": "remove buildUrlWithParams function form global-utils because it was broken"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c2ce298c7c52680d824124f845f74420e4badc8", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/0c2ce298c7c52680d824124f845f74420e4badc8", "committedDate": "2020-12-17T22:33:46Z", "message": "forgot to add feedbacks to request body"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffe72ecade8d4ab467c7baf12bbf4a8b78609201", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/ffe72ecade8d4ab467c7baf12bbf4a8b78609201", "committedDate": "2020-12-17T22:36:56Z", "message": "rewrite saveAssessment in modeling-assessment.service.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d93e7611fd7a1997e988d94130f03d5cf03f646", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/4d93e7611fd7a1997e988d94130f03d5cf03f646", "committedDate": "2020-12-18T09:37:14Z", "message": "do null check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56309ea69ce5686437f1c24f3ab3df98a9d7b728", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/56309ea69ce5686437f1c24f3ab3df98a9d7b728", "committedDate": "2020-12-18T10:09:34Z", "message": "add some tests to utils.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "committedDate": "2020-12-18T10:43:10Z", "message": "Merge branch 'develop' into fix/global-utils/remove-buildUrlWithParams"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDM3NjM1", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555437635", "createdAt": "2020-12-18T12:14:29Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDQxMTYz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555441163", "createdAt": "2020-12-18T12:20:54Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDY1NDIz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555465423", "createdAt": "2020-12-18T13:00:37Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDY2MDYz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555466063", "createdAt": "2020-12-18T13:01:34Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDY2MTMw", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555466130", "createdAt": "2020-12-18T13:01:40Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NDY2MjM0", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555466234", "createdAt": "2020-12-18T13:01:50Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTY0Mzc2", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555564376", "createdAt": "2020-12-18T14:59:54Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNDo1OTo1NFrOIImgYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNDo1OTo1NFrOIImgYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDQwMw==", "bodyText": "Can you make this consistent to the version in other ...assessment.service.ts?\nAlso notice that we would like to avoid the use of null on the client side", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545890403", "createdAt": "2020-12-18T14:59:54Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/modeling/assess/modeling-assessment.service.ts", "diffHunk": "@@ -18,12 +18,15 @@ export class ModelingAssessmentService {\n \n     constructor(private http: HttpClient) {}\n \n-    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result> {\n-        let url = `${this.resourceUrl}/modeling-submissions/${submissionId}/assessment`;\n+    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result | null> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTY1NTg2", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555565586", "createdAt": "2020-12-18T15:01:23Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNTowMToyM1rOIImmaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNTowMToyM1rOIImmaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MTk0NA==", "bodyText": "we should add a TODO to make this consistent with the other ...assessment.service.ts files.\nFor now we could rename it and reorder the parameters", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545891944", "createdAt": "2020-12-18T15:01:23Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/programming/assess/manual-result/programming-assessment-manual-result.service.ts", "diffHunk": "@@ -21,13 +20,15 @@ export class ProgrammingAssessmentManualResultService {\n      * @param {submit} submit - Indicates whether submit or save is called\n      */\n     save(participationId: number, result: Result, submit = false): Observable<EntityResponseType> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTY2NjYz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555566663", "createdAt": "2020-12-18T15:02:37Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNTowMjozN1rOIImq0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNTowMjozN1rOIImq0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MzA3NQ==", "bodyText": "Does it really make sense to use Boolean(true).toString() ? Could we not just use 'true' ?", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545893075", "createdAt": "2020-12-18T15:02:37Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/file-upload/assess/file-upload-assessment.service.ts", "diffHunk": "@@ -18,12 +17,13 @@ export class FileUploadAssessmentsService {\n \n     constructor(private http: HttpClient) {}\n \n-    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result> {\n-        let url = `${this.resourceUrl}/file-upload-submissions/${submissionId}/feedback`;\n+    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<EntityResponseType> {\n+        const params = new HttpParams();\n         if (submit) {\n-            url = buildUrlWithParams(url, ['submit=true']);\n+            params.set('submit', Boolean(true).toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTY2ODg0", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555566884", "createdAt": "2020-12-18T15:02:52Z", "commit": {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7846877403a7be972d706e1f6d306871ed36283c", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/7846877403a7be972d706e1f6d306871ed36283c", "committedDate": "2020-12-18T15:34:36Z", "message": "refactor a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cc6702b506cdda7ddf8f85898e8120606f24c09", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/6cc6702b506cdda7ddf8f85898e8120606f24c09", "committedDate": "2020-12-18T15:40:26Z", "message": "change save to saveAssessment in programming-assessment-manual-result.service.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f", "author": {"user": {"login": "ivanchimeno", "name": "Ivan Chimeno"}}, "url": "https://github.com/ls1intum/Artemis/commit/18551ff3cb77953a2e3cfe2aa4bfd283db03369f", "committedDate": "2020-12-19T09:35:59Z", "message": "fix httpparams"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTMxNDMw", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555931430", "createdAt": "2020-12-19T10:04:32Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTMxNDQ0", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555931444", "createdAt": "2020-12-19T10:04:49Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTMxNDUz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555931453", "createdAt": "2020-12-19T10:05:05Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTMxNTQy", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555931542", "createdAt": "2020-12-19T10:06:54Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTcyMDgy", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-555972082", "createdAt": "2020-12-19T22:22:18Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDA2MTYz", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556006163", "createdAt": "2020-12-20T10:48:16Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDA2Mzg0", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556006384", "createdAt": "2020-12-20T10:51:36Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDA2NDY0", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556006464", "createdAt": "2020-12-20T10:52:58Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDA4NTg2", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556008586", "createdAt": "2020-12-20T11:25:06Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDE0Mzk5", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556014399", "createdAt": "2020-12-20T12:42:54Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMxMzky", "url": "https://github.com/ls1intum/Artemis/pull/2559#pullrequestreview-556031392", "createdAt": "2020-12-20T16:18:29Z", "commit": {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3482, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}