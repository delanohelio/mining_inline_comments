{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzODczMDQy", "number": 1192, "title": "Enhancement/programming exercise/build failed property", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I implemented the changes with a good performance and prevented too many database calls\n\nMotivation and Context\n\n\nResolves #1153\nWe currently rely on a hardcoded String comparison every time we determine whether a result for a submission has a build error (for programmin exercises)\nDescription\n\nAs discussed with @krusche :\n\nI added a new boolean buildFailed to the ProgrammingSubmission class.\nI migrated the buildArtifact boolean to the ProgrammingSubmission class, so the Result class does not contain this programming exercise specific attribute.\n\nI also added all necessary migration scripts.\nSteps for Testing\n\n\nLog in to Artemis\nParticipate in a programming exercise and produce a build error\nThis status should be reflected in all result components (code-editor, overview, scores, etc.)", "createdAt": "2020-01-16T22:15:18Z", "url": "https://github.com/ls1intum/Artemis/pull/1192", "merged": true, "mergeCommit": {"oid": "bcfcacf9876cc6290396fe8a1166bef970847d35"}, "closed": true, "closedAt": "2020-01-21T21:21:51Z", "author": {"login": "ungaralex"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7ANBWgH2gAyMzYzODczMDQyOmUzZWRhYjMwNDAzNjk4YmUwM2YzMWQ2YTcxMzY5MGM5M2U0OWY1OWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8n7S9gH2gAyMzYzODczMDQyOjJkY2ZlNzFmNWM4ZmJhNDExYmNlYzUzNzM4NDY0OTJkMmY1ZjE2ZmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e3edab30403698be03f31d6a713690c93e49f59d", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/e3edab30403698be03f31d6a713690c93e49f59d", "committedDate": "2020-01-16T20:30:41Z", "message": "Add build failed column to ProgrammingSubmission"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80309e5f60cbc9096b2c3439252b25415a8a133a", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/80309e5f60cbc9096b2c3439252b25415a8a133a", "committedDate": "2020-01-16T20:52:25Z", "message": "Migrate build artifact from result to ProgrammingSubmission"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4583f5be21c9b42809fc5009bbad06c1e937bf62", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/4583f5be21c9b42809fc5009bbad06c1e937bf62", "committedDate": "2020-01-16T21:01:23Z", "message": "Set build failed boolean based on response from CI system"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d775c8f3e4133d6834cc9c5b8a342c822bd3fe6a", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/d775c8f3e4133d6834cc9c5b8a342c822bd3fe6a", "committedDate": "2020-01-16T22:09:33Z", "message": "Adapt client to refactored programming submission fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44444d812050a44ebb9789b6f157d1de9a7097fc", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/44444d812050a44ebb9789b6f157d1de9a7097fc", "committedDate": "2020-01-16T22:22:52Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a", "committedDate": "2020-01-16T22:23:38Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efe827cc1aa15d0e7d3948141684999e20cc7cbe", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/efe827cc1aa15d0e7d3948141684999e20cc7cbe", "committedDate": "2020-01-16T22:24:32Z", "message": "Remove unnecessary getter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45789c995b58949cb89bc90771c18555cddd7343", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/45789c995b58949cb89bc90771c18555cddd7343", "committedDate": "2020-01-16T22:24:59Z", "message": "Remove unnecessary getter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1ODU3NDc0", "url": "https://github.com/ls1intum/Artemis/pull/1192#pullrequestreview-345857474", "createdAt": "2020-01-21T13:00:34Z", "commit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMDozNFrOFf5GyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMDozNFrOFf5GyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk4NTgwMA==", "bodyText": "= true", "url": "https://github.com/ls1intum/Artemis/pull/1192#discussion_r368985800", "createdAt": "2020-01-21T13:00:34Z", "author": {"login": "krusche"}, "path": "src/main/resources/config/liquibase/changelog/20200117213324_changelog.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.1\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd\">\n+    <changeSet id=\"20200117213324-1\" author=\"ungar\">\n+        <addColumn tableName=\"submission\">\n+            <column name=\"build_artifact\" type=\"Boolean\" defaultValueBoolean=\"false\">\n+                <constraints nullable=\"false\" />\n+            </column>\n+        </addColumn>\n+    </changeSet>\n+    <changeSet id=\"20200117213324-2\" author=\"ungar\">\n+        <sql>\n+            update submission\n+                set build_artifact = true\n+                where discriminator = 'P'\n+                and id in (\n+                    select submission_id\n+                    from result\n+                    where build_artifact", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1ODU4NDkz", "url": "https://github.com/ls1intum/Artemis/pull/1192#pullrequestreview-345858493", "createdAt": "2020-01-21T13:02:22Z", "commit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMjoyMlrOFf5KIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMjoyMlrOFf5KIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk4NjY1OQ==", "bodyText": "do not delete, but deprecate it for easier migration", "url": "https://github.com/ls1intum/Artemis/pull/1192#discussion_r368986659", "createdAt": "2020-01-21T13:02:22Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Result.java", "diffHunk": "@@ -59,10 +59,6 @@\n     @JsonView(QuizView.After.class)\n     private Boolean successful;\n \n-    @Column(name = \"build_artifact\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1ODU5MTc5", "url": "https://github.com/ls1intum/Artemis/pull/1192#pullrequestreview-345859179", "createdAt": "2020-01-21T13:03:34Z", "commit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMzozNFrOFf5MKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzowMzozNFrOFf5MKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk4NzE3Ng==", "bodyText": "remove and execute this changelog some days later for easier migration", "url": "https://github.com/ls1intum/Artemis/pull/1192#discussion_r368987176", "createdAt": "2020-01-21T13:03:34Z", "author": {"login": "krusche"}, "path": "src/main/resources/config/liquibase/changelog/20200117213324_changelog.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.1\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd\">\n+    <changeSet id=\"20200117213324-1\" author=\"ungar\">\n+        <addColumn tableName=\"submission\">\n+            <column name=\"build_artifact\" type=\"Boolean\" defaultValueBoolean=\"false\">\n+                <constraints nullable=\"false\" />\n+            </column>\n+        </addColumn>\n+    </changeSet>\n+    <changeSet id=\"20200117213324-2\" author=\"ungar\">\n+        <sql>\n+            update submission\n+                set build_artifact = true\n+                where discriminator = 'P'\n+                and id in (\n+                    select submission_id\n+                    from result\n+                    where build_artifact\n+                )\n+        </sql>\n+    </changeSet>\n+    <changeSet id=\"20200117213324-3\" author=\"ungar\">\n+        <dropColumn tableName=\"result\" columnName=\"build_artifact\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec970f2fa7b5aaf99a0a48f4f1800d48706b0e1a"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a6907954928ded6b1274e990f730c9a06d2818", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/b8a6907954928ded6b1274e990f730c9a06d2818", "committedDate": "2020-01-21T13:59:36Z", "message": "Merge branch 'develop' into enhancement/programming-exercise/build-failed-property\n\n# Conflicts:\n#\tsrc/main/webapp/app/scores/exercise-scores.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45c321ade481fe189d29920c43583216b20dad55", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/45c321ade481fe189d29920c43583216b20dad55", "committedDate": "2020-01-21T14:15:21Z", "message": "Revert removal of buildArtifact for compatibility issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecca43302697414349fbbe5be85e17893dddff30", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/ecca43302697414349fbbe5be85e17893dddff30", "committedDate": "2020-01-21T20:31:40Z", "message": "Merge branch 'develop' into enhancement/programming-exercise/build-failed-property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MTcxOTc4", "url": "https://github.com/ls1intum/Artemis/pull/1192#pullrequestreview-346171978", "createdAt": "2020-01-21T20:32:58Z", "commit": {"oid": "ecca43302697414349fbbe5be85e17893dddff30"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d69b3d00400d5ca96ccd789a6604e2bd599ba34", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/9d69b3d00400d5ca96ccd789a6604e2bd599ba34", "committedDate": "2020-01-21T20:56:22Z", "message": "Merge branch 'develop' into enhancement/programming-exercise/build-failed-property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dcfe71f5c8fba411bcec5373846492d2f5f16fd", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/2dcfe71f5c8fba411bcec5373846492d2f5f16fd", "committedDate": "2020-01-21T21:21:27Z", "message": "Merge branch 'develop' into enhancement/programming-exercise/build-failed-property"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3113, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}