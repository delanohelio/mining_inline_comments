{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNjE4NDM1", "number": 2586, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMzowMTowMVrOFJxFng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMzowMTowMVrOFJxFng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1Nzg1NzU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/StatisticsService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMzowMTowMVrOIMOx3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxNToyODozMVrOIMR1Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY5NTk2Nw==", "bodyText": "This should default to 0 instead of null since we can't add null:\nInteger amount = map.get(\"amount\") != null ? ((Long) map.get(\"amount\")).intValue() : 0;\n(When this is null it gives me a NullPointerException in line 228.)", "url": "https://github.com/ls1intum/Artemis/pull/2586#discussion_r549695967", "createdAt": "2020-12-29T13:01:01Z", "author": {"login": "FrankeLukas"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StatisticsService.java", "diffHunk": "@@ -196,6 +208,30 @@ public StatisticsService(StatisticsRepository statisticsRepository) {\n         return result;\n     }\n \n+    /**\n+     * Gets a list of maps, each map describing an entry in the database. The map has the two keys \"day\" and \"amount\",\n+     * which map to the date and the amount of the findings. This method handles the spanType WEEKS_ORDERED\n+     *\n+     * @param outcome A List<Map<String, Object>>, containing the content which should be refactored into an array\n+     * @param result the array in which the converted outcome should be inserted\n+     * @param endDate the endDate\n+     * @return an array, containing the values for each bar in the graph\n+     */\n+    private Integer[] createResultArrayForQuarter(List<Map<String, Object>> outcome, Integer[] result, ZonedDateTime endDate) {\n+        int week;\n+        for (Map<String, Object> map : outcome) {\n+            ZonedDateTime date = (ZonedDateTime) map.get(\"day\");\n+            Integer amount = map.get(\"amount\") != null ? ((Long) map.get(\"amount\")).intValue() : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07fdd0a2146ccce6bb64ad18f362f56f993ce9e7"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc0NjAxMQ==", "bodyText": "Good point, adapted", "url": "https://github.com/ls1intum/Artemis/pull/2586#discussion_r549746011", "createdAt": "2020-12-29T15:28:31Z", "author": {"login": "FuchsDominik"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StatisticsService.java", "diffHunk": "@@ -196,6 +208,30 @@ public StatisticsService(StatisticsRepository statisticsRepository) {\n         return result;\n     }\n \n+    /**\n+     * Gets a list of maps, each map describing an entry in the database. The map has the two keys \"day\" and \"amount\",\n+     * which map to the date and the amount of the findings. This method handles the spanType WEEKS_ORDERED\n+     *\n+     * @param outcome A List<Map<String, Object>>, containing the content which should be refactored into an array\n+     * @param result the array in which the converted outcome should be inserted\n+     * @param endDate the endDate\n+     * @return an array, containing the values for each bar in the graph\n+     */\n+    private Integer[] createResultArrayForQuarter(List<Map<String, Object>> outcome, Integer[] result, ZonedDateTime endDate) {\n+        int week;\n+        for (Map<String, Object> map : outcome) {\n+            ZonedDateTime date = (ZonedDateTime) map.get(\"day\");\n+            Integer amount = map.get(\"amount\") != null ? ((Long) map.get(\"amount\")).intValue() : null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY5NTk2Nw=="}, "originalCommit": {"oid": "07fdd0a2146ccce6bb64ad18f362f56f993ce9e7"}, "originalPosition": 50}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4362, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}