{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzMDg5NDU1", "number": 2580, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxMTowM1rOFHlNLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNjo1N1rOFQCRLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDkzOTMyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/overview/course-exercises/course-exercises.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxMTowM1rOIJFaYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxMTowM1rOIJFaYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Njc2OA==", "bodyText": "Can be discussed how to handle this", "url": "https://github.com/ls1intum/Artemis/pull/2580#discussion_r546396768", "createdAt": "2020-12-20T16:11:03Z", "author": {"login": "1-alex98"}, "path": "src/main/webapp/app/overview/course-exercises/course-exercises.component.ts", "diffHunk": "@@ -190,7 +241,7 @@ export class CourseExercisesComponent implements OnInit, OnChanges, OnDestroy {\n                     groupedExercises[dateIndex] = {\n                         start: moment(dateValue).startOf('week'),\n                         end: moment(dateValue).endOf('week'),\n-                        isCollapsed: dateValue.isBefore(moment(), 'week'),\n+                        isCollapsed: this.sortingAttribute === this.DUE_DATE ? dateValue.isBefore(moment(), 'week') : dateValue.isBefore(moment().subtract(4, 'weeks'), 'week'),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d436466b6235a271e4f82e979811112f97434aaf"}, "originalPosition": 132}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUyMzU3NDUzOnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/course/course-exercises.component.spec.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNDowNFrOIVrvww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNDowNFrOIVrvww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTYwNzc0Nw==", "bodyText": "This is not needed in tests.", "url": "https://github.com/ls1intum/Artemis/pull/2580#discussion_r559607747", "createdAt": "2021-01-18T14:34:04Z", "author": {"login": "stefanwaldhauser"}, "path": "src/test/javascript/spec/component/course/course-exercises.component.spec.ts", "diffHunk": "@@ -0,0 +1,181 @@\n+import * as chai from 'chai';\n+import * as sinonChai from 'sinon-chai';\n+import { ComponentFixture, TestBed } from '@angular/core/testing';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ArtemisTestModule } from '../../test.module';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { of } from 'rxjs/internal/observable/of';\n+import { Course } from 'app/entities/course.model';\n+import { MockComponent, MockDirective, MockPipe } from 'ng-mocks';\n+import { OrionFilterDirective } from 'app/shared/orion/orion-filter.directive';\n+import { AlertComponent } from 'app/shared/alert/alert.component';\n+import { RouterTestingModule } from '@angular/router/testing';\n+import { MockHasAnyAuthorityDirective } from '../../helpers/mocks/directive/mock-has-any-authority.directive';\n+import { TranslatePipe, TranslateService } from '@ngx-translate/core';\n+import { JhiSortByDirective, JhiSortDirective } from 'ng-jhipster';\n+import { ArtemisDatePipe } from 'app/shared/pipes/artemis-date.pipe';\n+import { DeleteButtonDirective } from 'app/shared/delete-dialog/delete-button.directive';\n+import { MomentModule } from 'ngx-moment';\n+import { CourseExercisesComponent, ExerciseFilter, ExerciseSortingOrder, SortingAttribute } from 'app/overview/course-exercises/course-exercises.component';\n+import { CourseExerciseRowComponent } from 'app/overview/course-exercises/course-exercise-row.component';\n+import { SidePanelComponent } from 'app/shared/side-panel/side-panel.component';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { ActivatedRoute } from '@angular/router';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { Exercise } from 'app/entities/exercise.model';\n+import { CourseScoreCalculationService } from 'app/overview/course-score-calculation.service';\n+import { stub } from 'sinon';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import * as sinon from 'sinon';\n+import * as moment from 'moment';\n+import { Subject } from 'rxjs';\n+import { MockTranslateValuesDirective } from './course-scores/course-scores.component.spec';\n+import { By } from '@angular/platform-browser';\n+\n+chai.use(sinonChai);\n+const expect = chai.expect;\n+\n+describe('CourseExercisesComponent', () => {\n+    let fixture: ComponentFixture<CourseExercisesComponent>;\n+    let component: CourseExercisesComponent;\n+    let service: CourseManagementService;\n+    let courseCalculation: CourseScoreCalculationService;\n+    let translateService: TranslateService;\n+    let exerciseService: ExerciseService;\n+    let localStorageService: LocalStorageService;\n+\n+    let course: Course;\n+    let exercise: Exercise;\n+    let courseCalculationSpy: sinon.SinonStub;\n+\n+    const parentRoute = ({ params: of({ courseId: '123' }) } as any) as ActivatedRoute;\n+    const route = ({ parent: parentRoute } as any) as ActivatedRoute;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule, RouterTestingModule.withRoutes([]), MomentModule],\n+            declarations: [\n+                CourseExercisesComponent,\n+                MockDirective(OrionFilterDirective),\n+                MockComponent(AlertComponent),\n+                MockComponent(CourseExerciseRowComponent),\n+                MockComponent(SidePanelComponent),\n+                MockDirective(MockHasAnyAuthorityDirective),\n+                MockDirective(JhiSortByDirective),\n+                MockPipe(TranslatePipe),\n+                MockDirective(JhiSortDirective),\n+                MockPipe(ArtemisDatePipe),\n+                MockDirective(DeleteButtonDirective),\n+                MockTranslateValuesDirective,\n+            ],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                {\n+                    provide: ActivatedRoute,\n+                    useValue: route,\n+                },\n+            ],\n+        })\n+            .compileComponents()\n+            .then(() => {\n+                fixture = TestBed.createComponent(CourseExercisesComponent);\n+                component = fixture.componentInstance;\n+                service = TestBed.inject(CourseManagementService);\n+                courseCalculation = TestBed.inject(CourseScoreCalculationService);\n+                translateService = TestBed.inject(TranslateService);\n+                exerciseService = TestBed.inject(ExerciseService);\n+                localStorageService = TestBed.inject(LocalStorageService);\n+\n+                course = new Course();\n+                course.id = 123;\n+                exercise = new ModelingExercise(UMLDiagramType.ClassDiagram, course, undefined) as Exercise;\n+                exercise.dueDate = moment('2021-01-13T16:11:00+01:00').add(1, 'days');\n+                exercise.releaseDate = moment('2021-01-13T16:11:00+01:00').subtract(1, 'days');\n+                course.exercises = [exercise];\n+                spyOn(service, 'getCourseUpdates').and.returnValue(of(course));\n+                spyOn(translateService, 'onLangChange').and.returnValue(of(new Subject()));\n+                spyOn(localStorageService, 'retrieve').and.returnValue('OVERDUE,NEEDS_WORK');\n+                courseCalculationSpy = stub(courseCalculation, 'getCourse').returns(course);\n+\n+                fixture.detectChanges();\n+            });\n+    });\n+\n+    afterEach(() => {\n+        component.ngOnDestroy();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eab96776636fe79551452fa9040ecbd51bf6519"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUyMzU4NzAxOnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/course/course-exercises.component.spec.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNjo1N1rOIVr3Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNTo1MTo0MFrOIVu51Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTYwOTYxOA==", "bodyText": "You are not really asserting that the sorting worked here. I would expect to see some test that asserts that the sorting really happened", "url": "https://github.com/ls1intum/Artemis/pull/2580#discussion_r559609618", "createdAt": "2021-01-18T14:36:57Z", "author": {"login": "stefanwaldhauser"}, "path": "src/test/javascript/spec/component/course/course-exercises.component.spec.ts", "diffHunk": "@@ -0,0 +1,181 @@\n+import * as chai from 'chai';\n+import * as sinonChai from 'sinon-chai';\n+import { ComponentFixture, TestBed } from '@angular/core/testing';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ArtemisTestModule } from '../../test.module';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { of } from 'rxjs/internal/observable/of';\n+import { Course } from 'app/entities/course.model';\n+import { MockComponent, MockDirective, MockPipe } from 'ng-mocks';\n+import { OrionFilterDirective } from 'app/shared/orion/orion-filter.directive';\n+import { AlertComponent } from 'app/shared/alert/alert.component';\n+import { RouterTestingModule } from '@angular/router/testing';\n+import { MockHasAnyAuthorityDirective } from '../../helpers/mocks/directive/mock-has-any-authority.directive';\n+import { TranslatePipe, TranslateService } from '@ngx-translate/core';\n+import { JhiSortByDirective, JhiSortDirective } from 'ng-jhipster';\n+import { ArtemisDatePipe } from 'app/shared/pipes/artemis-date.pipe';\n+import { DeleteButtonDirective } from 'app/shared/delete-dialog/delete-button.directive';\n+import { MomentModule } from 'ngx-moment';\n+import { CourseExercisesComponent, ExerciseFilter, ExerciseSortingOrder, SortingAttribute } from 'app/overview/course-exercises/course-exercises.component';\n+import { CourseExerciseRowComponent } from 'app/overview/course-exercises/course-exercise-row.component';\n+import { SidePanelComponent } from 'app/shared/side-panel/side-panel.component';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { ActivatedRoute } from '@angular/router';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { Exercise } from 'app/entities/exercise.model';\n+import { CourseScoreCalculationService } from 'app/overview/course-score-calculation.service';\n+import { stub } from 'sinon';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import * as sinon from 'sinon';\n+import * as moment from 'moment';\n+import { Subject } from 'rxjs';\n+import { MockTranslateValuesDirective } from './course-scores/course-scores.component.spec';\n+import { By } from '@angular/platform-browser';\n+\n+chai.use(sinonChai);\n+const expect = chai.expect;\n+\n+describe('CourseExercisesComponent', () => {\n+    let fixture: ComponentFixture<CourseExercisesComponent>;\n+    let component: CourseExercisesComponent;\n+    let service: CourseManagementService;\n+    let courseCalculation: CourseScoreCalculationService;\n+    let translateService: TranslateService;\n+    let exerciseService: ExerciseService;\n+    let localStorageService: LocalStorageService;\n+\n+    let course: Course;\n+    let exercise: Exercise;\n+    let courseCalculationSpy: sinon.SinonStub;\n+\n+    const parentRoute = ({ params: of({ courseId: '123' }) } as any) as ActivatedRoute;\n+    const route = ({ parent: parentRoute } as any) as ActivatedRoute;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule, RouterTestingModule.withRoutes([]), MomentModule],\n+            declarations: [\n+                CourseExercisesComponent,\n+                MockDirective(OrionFilterDirective),\n+                MockComponent(AlertComponent),\n+                MockComponent(CourseExerciseRowComponent),\n+                MockComponent(SidePanelComponent),\n+                MockDirective(MockHasAnyAuthorityDirective),\n+                MockDirective(JhiSortByDirective),\n+                MockPipe(TranslatePipe),\n+                MockDirective(JhiSortDirective),\n+                MockPipe(ArtemisDatePipe),\n+                MockDirective(DeleteButtonDirective),\n+                MockTranslateValuesDirective,\n+            ],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                {\n+                    provide: ActivatedRoute,\n+                    useValue: route,\n+                },\n+            ],\n+        })\n+            .compileComponents()\n+            .then(() => {\n+                fixture = TestBed.createComponent(CourseExercisesComponent);\n+                component = fixture.componentInstance;\n+                service = TestBed.inject(CourseManagementService);\n+                courseCalculation = TestBed.inject(CourseScoreCalculationService);\n+                translateService = TestBed.inject(TranslateService);\n+                exerciseService = TestBed.inject(ExerciseService);\n+                localStorageService = TestBed.inject(LocalStorageService);\n+\n+                course = new Course();\n+                course.id = 123;\n+                exercise = new ModelingExercise(UMLDiagramType.ClassDiagram, course, undefined) as Exercise;\n+                exercise.dueDate = moment('2021-01-13T16:11:00+01:00').add(1, 'days');\n+                exercise.releaseDate = moment('2021-01-13T16:11:00+01:00').subtract(1, 'days');\n+                course.exercises = [exercise];\n+                spyOn(service, 'getCourseUpdates').and.returnValue(of(course));\n+                spyOn(translateService, 'onLangChange').and.returnValue(of(new Subject()));\n+                spyOn(localStorageService, 'retrieve').and.returnValue('OVERDUE,NEEDS_WORK');\n+                courseCalculationSpy = stub(courseCalculation, 'getCourse').returns(course);\n+\n+                fixture.detectChanges();\n+            });\n+    });\n+\n+    afterEach(() => {\n+        component.ngOnDestroy();\n+        sinon.restore();\n+    });\n+\n+    it('should initialize', () => {\n+        expect(component.course).to.deep.equal(course);\n+        expect(courseCalculationSpy.callCount).to.equal(2);\n+        expect(courseCalculationSpy.getCall(0).calledWithExactly(course.id)).to.be.true;\n+        expect(courseCalculationSpy.getCall(1).calledWithExactly(course.id)).to.be.true;\n+    });\n+\n+    it('should invoke setSortingAttribute', () => {\n+        const sortingButton = fixture.debugElement.query(By.css('#dueDateSorting'));\n+        expect(sortingButton).to.exist;\n+        sortingButton.nativeElement.click();\n+        expect(component.sortingAttribute).to.equal(SortingAttribute.DUE_DATE);\n+    });\n+\n+    it('should react to changes', () => {\n+        spyOn(exerciseService, 'getNextExerciseForHours').and.returnValue(exercise);\n+        component.ngOnChanges();\n+        expect(component.nextRelevantExercise).to.deep.equal(exercise);\n+    });\n+\n+    it('should reorder all exercises', () => {\n+        component.sortingOrder = ExerciseSortingOrder.DESC;\n+        const sortingButton = fixture.debugElement.query(By.css('#flip'));\n+        expect(sortingButton).to.exist;\n+        sortingButton.nativeElement.click();\n+        expect(component.sortingOrder).to.equal(ExerciseSortingOrder.ASC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eab96776636fe79551452fa9040ecbd51bf6519"}, "originalPosition": 137}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY1OTQ3Nw==", "bodyText": "Extended this test with some further expectations and calls, hope this hits the point what you expected (80405fb)", "url": "https://github.com/ls1intum/Artemis/pull/2580#discussion_r559659477", "createdAt": "2021-01-18T15:51:40Z", "author": {"login": "FuchsDominik"}, "path": "src/test/javascript/spec/component/course/course-exercises.component.spec.ts", "diffHunk": "@@ -0,0 +1,181 @@\n+import * as chai from 'chai';\n+import * as sinonChai from 'sinon-chai';\n+import { ComponentFixture, TestBed } from '@angular/core/testing';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ArtemisTestModule } from '../../test.module';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { of } from 'rxjs/internal/observable/of';\n+import { Course } from 'app/entities/course.model';\n+import { MockComponent, MockDirective, MockPipe } from 'ng-mocks';\n+import { OrionFilterDirective } from 'app/shared/orion/orion-filter.directive';\n+import { AlertComponent } from 'app/shared/alert/alert.component';\n+import { RouterTestingModule } from '@angular/router/testing';\n+import { MockHasAnyAuthorityDirective } from '../../helpers/mocks/directive/mock-has-any-authority.directive';\n+import { TranslatePipe, TranslateService } from '@ngx-translate/core';\n+import { JhiSortByDirective, JhiSortDirective } from 'ng-jhipster';\n+import { ArtemisDatePipe } from 'app/shared/pipes/artemis-date.pipe';\n+import { DeleteButtonDirective } from 'app/shared/delete-dialog/delete-button.directive';\n+import { MomentModule } from 'ngx-moment';\n+import { CourseExercisesComponent, ExerciseFilter, ExerciseSortingOrder, SortingAttribute } from 'app/overview/course-exercises/course-exercises.component';\n+import { CourseExerciseRowComponent } from 'app/overview/course-exercises/course-exercise-row.component';\n+import { SidePanelComponent } from 'app/shared/side-panel/side-panel.component';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { ActivatedRoute } from '@angular/router';\n+import { ModelingExercise, UMLDiagramType } from 'app/entities/modeling-exercise.model';\n+import { Exercise } from 'app/entities/exercise.model';\n+import { CourseScoreCalculationService } from 'app/overview/course-score-calculation.service';\n+import { stub } from 'sinon';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import * as sinon from 'sinon';\n+import * as moment from 'moment';\n+import { Subject } from 'rxjs';\n+import { MockTranslateValuesDirective } from './course-scores/course-scores.component.spec';\n+import { By } from '@angular/platform-browser';\n+\n+chai.use(sinonChai);\n+const expect = chai.expect;\n+\n+describe('CourseExercisesComponent', () => {\n+    let fixture: ComponentFixture<CourseExercisesComponent>;\n+    let component: CourseExercisesComponent;\n+    let service: CourseManagementService;\n+    let courseCalculation: CourseScoreCalculationService;\n+    let translateService: TranslateService;\n+    let exerciseService: ExerciseService;\n+    let localStorageService: LocalStorageService;\n+\n+    let course: Course;\n+    let exercise: Exercise;\n+    let courseCalculationSpy: sinon.SinonStub;\n+\n+    const parentRoute = ({ params: of({ courseId: '123' }) } as any) as ActivatedRoute;\n+    const route = ({ parent: parentRoute } as any) as ActivatedRoute;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule, RouterTestingModule.withRoutes([]), MomentModule],\n+            declarations: [\n+                CourseExercisesComponent,\n+                MockDirective(OrionFilterDirective),\n+                MockComponent(AlertComponent),\n+                MockComponent(CourseExerciseRowComponent),\n+                MockComponent(SidePanelComponent),\n+                MockDirective(MockHasAnyAuthorityDirective),\n+                MockDirective(JhiSortByDirective),\n+                MockPipe(TranslatePipe),\n+                MockDirective(JhiSortDirective),\n+                MockPipe(ArtemisDatePipe),\n+                MockDirective(DeleteButtonDirective),\n+                MockTranslateValuesDirective,\n+            ],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                {\n+                    provide: ActivatedRoute,\n+                    useValue: route,\n+                },\n+            ],\n+        })\n+            .compileComponents()\n+            .then(() => {\n+                fixture = TestBed.createComponent(CourseExercisesComponent);\n+                component = fixture.componentInstance;\n+                service = TestBed.inject(CourseManagementService);\n+                courseCalculation = TestBed.inject(CourseScoreCalculationService);\n+                translateService = TestBed.inject(TranslateService);\n+                exerciseService = TestBed.inject(ExerciseService);\n+                localStorageService = TestBed.inject(LocalStorageService);\n+\n+                course = new Course();\n+                course.id = 123;\n+                exercise = new ModelingExercise(UMLDiagramType.ClassDiagram, course, undefined) as Exercise;\n+                exercise.dueDate = moment('2021-01-13T16:11:00+01:00').add(1, 'days');\n+                exercise.releaseDate = moment('2021-01-13T16:11:00+01:00').subtract(1, 'days');\n+                course.exercises = [exercise];\n+                spyOn(service, 'getCourseUpdates').and.returnValue(of(course));\n+                spyOn(translateService, 'onLangChange').and.returnValue(of(new Subject()));\n+                spyOn(localStorageService, 'retrieve').and.returnValue('OVERDUE,NEEDS_WORK');\n+                courseCalculationSpy = stub(courseCalculation, 'getCourse').returns(course);\n+\n+                fixture.detectChanges();\n+            });\n+    });\n+\n+    afterEach(() => {\n+        component.ngOnDestroy();\n+        sinon.restore();\n+    });\n+\n+    it('should initialize', () => {\n+        expect(component.course).to.deep.equal(course);\n+        expect(courseCalculationSpy.callCount).to.equal(2);\n+        expect(courseCalculationSpy.getCall(0).calledWithExactly(course.id)).to.be.true;\n+        expect(courseCalculationSpy.getCall(1).calledWithExactly(course.id)).to.be.true;\n+    });\n+\n+    it('should invoke setSortingAttribute', () => {\n+        const sortingButton = fixture.debugElement.query(By.css('#dueDateSorting'));\n+        expect(sortingButton).to.exist;\n+        sortingButton.nativeElement.click();\n+        expect(component.sortingAttribute).to.equal(SortingAttribute.DUE_DATE);\n+    });\n+\n+    it('should react to changes', () => {\n+        spyOn(exerciseService, 'getNextExerciseForHours').and.returnValue(exercise);\n+        component.ngOnChanges();\n+        expect(component.nextRelevantExercise).to.deep.equal(exercise);\n+    });\n+\n+    it('should reorder all exercises', () => {\n+        component.sortingOrder = ExerciseSortingOrder.DESC;\n+        const sortingButton = fixture.debugElement.query(By.css('#flip'));\n+        expect(sortingButton).to.exist;\n+        sortingButton.nativeElement.click();\n+        expect(component.sortingOrder).to.equal(ExerciseSortingOrder.ASC);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTYwOTYxOA=="}, "originalCommit": {"oid": "1eab96776636fe79551452fa9040ecbd51bf6519"}, "originalPosition": 137}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4360, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}