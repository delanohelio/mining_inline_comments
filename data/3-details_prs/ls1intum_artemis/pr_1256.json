{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NTY4NTc0", "number": 1256, "title": "User resource test coverage", "bodyText": "Checklist\n\n Server: I added multiple integration tests (Spring) related to the features\n\nMotivation and Context\nThis PR is part of the initiative to increase the test coverage for the REST controllers.\nDescription\n\nAdded tests for not yet covered methods in user resource\nUsed current_timestamp instead of utc_timestamp when setting ZonedDateTime lastNotificationRead", "createdAt": "2020-02-25T13:03:26Z", "url": "https://github.com/ls1intum/Artemis/pull/1256", "merged": true, "mergeCommit": {"oid": "82b9a2f9cca40214a9c6398dec0d78d2cf58b175"}, "closed": true, "closedAt": "2020-03-02T09:16:39Z", "author": {"login": "madwau"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHxt_WAH2gAyMzc5NTY4NTc0OmMwMTI5MzUxNzQ3NTVkMmEzZWI2N2EwNTJkM2Y4OGIyYjgwZWU0M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJqIRfgFqTM2NzA0MzkwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c012935174755d2a3eb67a052d3f88b2b80ee43f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/c012935174755d2a3eb67a052d3f88b2b80ee43f", "committedDate": "2020-02-25T12:59:08Z", "message": "User resource test coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d9240653d3f884e420c45809b51ad180eb86a6f9", "committedDate": "2020-02-25T14:05:49Z", "message": "Add test for updating last notification read datetime"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTc3MTIw", "url": "https://github.com/ls1intum/Artemis/pull/1256#pullrequestreview-364177120", "createdAt": "2020-02-25T14:22:06Z", "commit": {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNDoyMjowNlrOFuH5ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNDoyMjowNlrOFuH5ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkwODE5Ng==", "bodyText": "@sascha11110 You have more in-depth knowledge about the notifications and timestamps than I do. I believe this should be current_timestamp instead of utc_timestamp? With the latter, I always ended up getting a wrong ZonedDateTime read from the db (zoned to Berlin with +01:00 but time was UTC).", "url": "https://github.com/ls1intum/Artemis/pull/1256#discussion_r383908196", "createdAt": "2020-02-25T14:22:06Z", "author": {"login": "madwau"}, "path": "src/main/java/de/tum/in/www1/artemis/repository/UserRepository.java", "diffHunk": "@@ -65,7 +65,7 @@\n     Page<User> findAllWithGroups(Pageable pageable);\n \n     @Modifying\n-    @Query(\"Update User user set user.lastNotificationRead = utc_timestamp where user.id = :#{#userId}\")\n+    @Query(\"Update User user set user.lastNotificationRead = current_timestamp() where user.id = :#{#userId}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODgyNjIw", "url": "https://github.com/ls1intum/Artemis/pull/1256#pullrequestreview-366882620", "createdAt": "2020-03-01T20:04:22Z", "commit": {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MDQzOTA4", "url": "https://github.com/ls1intum/Artemis/pull/1256#pullrequestreview-367043908", "createdAt": "2020-03-02T09:16:27Z", "commit": {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3202, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}