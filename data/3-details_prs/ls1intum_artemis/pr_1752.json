{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNDg5ODM3", "number": 1752, "title": "Provide methods for retrieving student working times and individual exam end dates", "bodyText": "Checklist\n\n Server: I added multiple integration tests (Spring) related to the features\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n\nMotivation and Context\nThis solves the problem that it is currently hard to take student working times into account in different places of Artemis without loading all StudentExams from the database.\nDescription\nAdd methods to the repositories and services surrounding the StudentExam to get\n\nThe maximum working time / latest end date of an exam (determining the \"real\" exam end)\nA set of all distinct working times / end dates of an exam (for scheduling)\n\nSteps for Testing\n\nReview the Code\nReview the JavaDoc\n(Run the tests locally, e.g. StudentExamIntegrationTest)\nDo more methods like that come to your mind that would be generally useful?", "createdAt": "2020-06-29T15:26:18Z", "url": "https://github.com/ls1intum/Artemis/pull/1752", "merged": true, "mergeCommit": {"oid": "01246aefbba5f43d24ad116b0a7730c07d8cb3c4"}, "closed": true, "closedAt": "2020-06-29T18:55:19Z", "author": {"login": "MaisiKoleni"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwByBDgH2gAyNDQxNDg5ODM3OjNjNDU3YjEyMWE5NjAwYTNiNzI1MmZiOTM1NDYxNDIwNTU4NzdlYTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwFu2sgFqTQzOTQxNTI3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3c457b121a9600a3b7252fb93546142055877ea9", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/3c457b121a9600a3b7252fb93546142055877ea9", "committedDate": "2020-06-29T14:18:59Z", "message": "Add max student exam working time database query to repository"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e8d662fe6c5b4ca9261a4ae4a63bda6fe553a97", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/0e8d662fe6c5b4ca9261a4ae4a63bda6fe553a97", "committedDate": "2020-06-29T14:21:46Z", "message": "Add method to student exam service to find max. working time of an exam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a134f5f3a1a9515f433dc5691fe457ba4341f340", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/a134f5f3a1a9515f433dc5691fe457ba4341f340", "committedDate": "2020-06-29T14:23:24Z", "message": "Add two small tests for finding the maximum working time of an exam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "099a6666e3228e03823ca9f2e3e1e69f1dafa6f3", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/099a6666e3228e03823ca9f2e3e1e69f1dafa6f3", "committedDate": "2020-06-29T14:49:29Z", "message": "Provide methods in the ExamService to get the latest individual end date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45280f6da75d02e1667cfb01892c3bca59749864", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/45280f6da75d02e1667cfb01892c3bca59749864", "committedDate": "2020-06-29T14:57:45Z", "message": "Fix documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "921994e96412a961d2a8da2303ea3dbcb5caa458", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/921994e96412a961d2a8da2303ea3dbcb5caa458", "committedDate": "2020-06-29T15:14:10Z", "message": "Add methods for getting all distinct working times / exam end dates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "621b7de37afb9169e9316d106c1024c77f0508e6", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/621b7de37afb9169e9316d106c1024c77f0508e6", "committedDate": "2020-06-29T15:14:51Z", "message": "Add test for getting the individual working times"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzk0NTU3", "url": "https://github.com/ls1intum/Artemis/pull/1752#pullrequestreview-439394557", "createdAt": "2020-06-29T18:25:10Z", "commit": {"oid": "621b7de37afb9169e9316d106c1024c77f0508e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxODoyNToxMVrOGqc54w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxODoyNToxMVrOGqc54w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE2Njk0Nw==", "bodyText": "I think the method name is confusing, it should not be findOne", "url": "https://github.com/ls1intum/Artemis/pull/1752#discussion_r447166947", "createdAt": "2020-06-29T18:25:11Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamService.java", "diffHunk": "@@ -112,4 +113,29 @@ public StudentExam findOneByExerciseIdAndUserId(Long exerciseId, Long userId) {\n         return studentExamRepository.findByExerciseIdAndUserId(exerciseId, userId)\n                 .orElseThrow(() -> new EntityNotFoundException(\"Student exam for exercise \" + exerciseId + \" and user \" + userId + \" does not exist\"));\n     }\n+\n+    /**\n+     * Get the maximal working time of all student exams for the exam with the given id.\n+     *\n+     * @param examId the id of the exam\n+     * @return the maximum of all student exam working times for the given exam\n+     * @throws EntityNotFoundException if no student exams could be found\n+     */\n+    @NotNull\n+    public Integer findOneByExerciseIdAndUserId(Long examId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "621b7de37afb9169e9316d106c1024c77f0508e6"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzk1MDEz", "url": "https://github.com/ls1intum/Artemis/pull/1752#pullrequestreview-439395013", "createdAt": "2020-06-29T18:25:48Z", "commit": {"oid": "621b7de37afb9169e9316d106c1024c77f0508e6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e40395cf6ec95ee8ae7ef7ce49a01468ad1a8491", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/e40395cf6ec95ee8ae7ef7ce49a01468ad1a8491", "committedDate": "2020-06-29T18:37:55Z", "message": "Correct method name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NDE1Mjc0", "url": "https://github.com/ls1intum/Artemis/pull/1752#pullrequestreview-439415274", "createdAt": "2020-06-29T18:55:09Z", "commit": {"oid": "e40395cf6ec95ee8ae7ef7ce49a01468ad1a8491"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2569, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}