{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MDQ1NTY1", "number": 2454, "title": "Enable HTML5 push state routes", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I followed the coding and design guidelines.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I followed the coding and design guidelines.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I added authorities to all new routes and check the course groups for displaying navigation elements (links, buttons)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nSo far all Artemis route use /#/foo style URLs. Angular and JHipster switched to HTML5 push state as default some while ago (e.g. jhipster/generator-jhipster#9098).\nDescription\nUpdate Setup to use HTML5 push state instead.\nForward old URLs to preserve links.\nSteps for Testing\n\nLog in to Artemis\nCheck that all functionality is working as is.\nTest that deep-links continue to work.", "createdAt": "2020-11-23T22:54:38Z", "url": "https://github.com/ls1intum/Artemis/pull/2454", "merged": true, "mergeCommit": {"oid": "922922fe80c62a02e31399c2f2df0ee77886fa9a"}, "closed": true, "closedAt": "2020-11-26T08:45:25Z", "author": {"login": "jpbernius"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfdMfvgH2gAyNTI2MDQ1NTY1Ojc1NDBiMzliODc0MDFmYjQ4YmZhNjA4OWJkMWI0MDQ1ODQwYTdhZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgN-tCAFqTUzOTA1NTQ4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7540b39b87401fb48bfa6089bd1b4045840a7af9", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/7540b39b87401fb48bfa6089bd1b4045840a7af9", "committedDate": "2020-11-23T22:49:47Z", "message": "Remove need for /#/ in URL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb13bb70bec51a411b7ddd12c017118de95e2a5a", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/fb13bb70bec51a411b7ddd12c017118de95e2a5a", "committedDate": "2020-11-23T22:50:10Z", "message": "Forward /#/foo to /foo to preserve old routes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c0516fe37de233653c5b44e88f941f3bd51e094", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/9c0516fe37de233653c5b44e88f941f3bd51e094", "committedDate": "2020-11-23T22:57:19Z", "message": "Add TODO to clean up redirect in the future."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/b793a2bf6913f541c78d951258080dd57fdd7523", "committedDate": "2020-11-23T23:01:11Z", "message": "Style and Docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec6f2c9c8fe267743cd05ef2358db6768970e119", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/ec6f2c9c8fe267743cd05ef2358db6768970e119", "committedDate": "2020-11-23T23:09:36Z", "message": "Fix Test:  Incorrect request URL\n\nin ProgrammingSubmissionIntegrationTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2OTE3NzAy", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-536917702", "createdAt": "2020-11-23T23:11:49Z", "commit": {"oid": "ec6f2c9c8fe267743cd05ef2358db6768970e119"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOH4jBtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOH4jBtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE4MQ==", "bodyText": "This did only return 404 before, because /api/exercises1234/.. is not valid", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056181", "createdAt": "2020-11-23T23:11:49Z", "author": {"login": "jpbernius"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingSubmissionIntegrationTest.java", "diffHunk": "@@ -386,7 +386,7 @@ public void getProgrammingSubmissionWithoutAssessment_alreadyAssessed_noFound()\n         final var tutor = database.getUserByLogin(\"tutor1\");\n         database.addResultToSubmission(submission, AssessmentType.SEMI_AUTOMATIC, tutor);\n \n-        request.get(\"/api/exercises\" + exercise.getId() + \"/programming-submission-without-assessment\", HttpStatus.NOT_FOUND, String.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec6f2c9c8fe267743cd05ef2358db6768970e119"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39c3b13f9d35f86b6e9a34f060d10a731c779a8d", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/39c3b13f9d35f86b6e9a34f060d10a731c779a8d", "committedDate": "2020-11-23T23:13:24Z", "message": "Code Improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2OTE3NzA1", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-536917705", "createdAt": "2020-11-23T23:11:49Z", "commit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOH4jBsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMzozMlrOH4jEYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE3Nw==", "bodyText": "I assume this.router.url is either #/courses (old) or just courses (new). substr would trim #/courses down to just courses, which means url will always be 'courses', so I'm not sure why this is needed. (In fact this looks like it should be #/ instead of /# meaning this already always takes the else branch with just 'courses'? Except if the input is something like /#/courses in which case the order doesn't matter.)", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056177", "createdAt": "2020-11-23T23:11:49Z", "author": {"login": "FrankeLukas"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.\n+            const url = this.router.url.startsWith('/#') ? this.router.url.substr(2) : 'courses';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1Njg2NA==", "bodyText": "Typo: ues -> use", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056864", "createdAt": "2020-11-23T23:13:32Z", "author": {"login": "FrankeLukas"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed34c9f80d23e834782676e099deb079def9d185", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/ed34c9f80d23e834782676e099deb079def9d185", "committedDate": "2020-11-23T23:16:21Z", "message": "Update src/main/webapp/app/home/home.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "985e31f70184f3694c53dcfe9e26410c1a3a23cd", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/985e31f70184f3694c53dcfe9e26410c1a3a23cd", "committedDate": "2020-11-23T23:44:34Z", "message": "Fix test: Set due date passed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/53362c2c74e581f8914fe0d6571e9dcbf8aa498a", "committedDate": "2020-11-23T23:49:30Z", "message": "Merge branch 'develop' into chore/remove-hash-from-url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MTMxMzgw", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537131380", "createdAt": "2020-11-24T07:13:42Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MjQ5NzAz", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537249703", "createdAt": "2020-11-24T08:48:33Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzAxMTI3", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537301127", "createdAt": "2020-11-24T09:33:58Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzEyODMx", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537312831", "createdAt": "2020-11-24T09:47:13Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzE5NTUw", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537319550", "createdAt": "2020-11-24T09:54:13Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3Mzg3Mzc3", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537387377", "createdAt": "2020-11-24T11:13:11Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NTI5NTA0", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537529504", "createdAt": "2020-11-24T14:12:18Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NTQwOTc2", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537540976", "createdAt": "2020-11-24T14:23:43Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODM2ODA2", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-537836806", "createdAt": "2020-11-24T19:27:04Z", "commit": {"oid": "53362c2c74e581f8914fe0d6571e9dcbf8aa498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6923b375718743782622a1c193a66d31e7326aee", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/6923b375718743782622a1c193a66d31e7326aee", "committedDate": "2020-11-25T15:23:02Z", "message": "Merge branch 'develop' into chore/remove-hash-from-url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03894335d4ca378aea24c43789bf5efb046a1fb9", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/03894335d4ca378aea24c43789bf5efb046a1fb9", "committedDate": "2020-11-26T07:22:06Z", "message": "Merge branch 'develop' into chore/remove-hash-from-url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MDU1NDg3", "url": "https://github.com/ls1intum/Artemis/pull/2454#pullrequestreview-539055487", "createdAt": "2020-11-26T07:40:04Z", "commit": {"oid": "03894335d4ca378aea24c43789bf5efb046a1fb9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3304, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}