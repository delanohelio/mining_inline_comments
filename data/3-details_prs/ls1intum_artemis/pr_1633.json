{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMDI4NTQ3", "number": 1633, "title": "TextExercise creation/update for exam-mode", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple integration tests (Jest) related to the features\n Client: I added authorities to all new routes\n Client: I documented the TypeScript code using JSDoc style.\n\nMotivation and Context\nTextExercise creation/update must be adapted for exam-mode. We need to ensure that Course and ExerciseGroup are never set simultaneously.\nDescription\nClient:\n\n Create new client routes for text-exercise update and creation\nFor creation: ':examId/exerciseGroups/:groupId/text-exercises/new'\nFor update: ':examId/exerciseGroups/:groupId/text-exercises/:exerciseId/edit'\n Load text exercise module\n Extend TextExerciseResolver by fetching of the exerciseGroup for the new routes\n Deactivate categories in exam mode, as this relies on a Course\n Deactivate notificationInput for examMode\n\nServer:\n\n Check that course and exerciseGroup is never set simultaneously for creation/update\n Extend exercise creation/update authorization check for exam mode\n Created ExerciseGroupService\n Deactivate Tutor/Student notification on exercise creation/update\n Add additional authorization check to GET text-exercise route. Only instructors and admins should be allowed to access an exam text exercise\n Deactivate access to exercise details for exam exercises. Need another case distinction here or another route.\n\nSteps for Testing\nEnsure that the existing text exercise creation/update functionality still works\n\nCreate a regular text exercise\n--> Exercise was created\nUpdate the exercise\n--> Exercise was updated\n\nEnsure that the new routes for text exercise work\nThis can only be tested locally as long as exam and exerciseGroup creation is not merged.\n\nInsert a new exam linked to a course into the database\nInsert a new exerciseGroup linked to the exam into the database\n--> Use course, exam and exerciseGroup id for the following routes\nLog in as instructor or admin\nNavigate to course-management/:courseId/exams/:examId/exerciseGroup/:groupId/text-exercises/new\n--> Create a new text exercise and remember the created id\nNavigate to course-management/:courseId/exams/:examId/exerciseGroup/:groupId/text-exercises/:exerciseId/edit\n--> The text exercise should be displayed correctly\nEdit the text exercise\nNavigate again to course-management/:courseId/exams/:examId/exerciseGroup/:groupId/text-exercises/:exerciseId/edit\n--> Ensure that the exercise was updated correctly\n\nEnsure correct authorization for exam exercises\n\nLog in as a tutor or student\nNavigate to course-management/:courseId/exams/:examId/exerciseGroup/:groupId/text-exercises/new\n--> You should not be able to access the route\nUse the id of an exam exercise for the following steps\nNavigate to course-management/:courseId/exams/:examId/exerciseGroup/:groupId/text-exercises/:exerciseId/edit\n--> You should not be able to access the route\nNavigate to /courses/:courseId/exercises/:exerciseId\n--> You should not be able to access the route\nNavigate to /course-management/:courseId/text-exercises/:exerciseId\n--> You should not be able to access the route\n\nEnsure correct authorization for normal exercises as tutor\n\nLog in as a tutor\nUse the id of a normal text exercise for the following steps\nNavigate to /courses/:courseId/exercises/:exerciseId\n--> The page should load properly\nNavigate to /course-management/:courseId/text-exercises/:exerciseId\n--> The page should load properly\n\nEnsure correct authorization for normal exercises as student\n\nLog in as a student\nUse the id of a normal text exercise\nNavigate to /courses/:courseId/exercises/:exerciseId\n--> The page should load properly", "createdAt": "2020-06-11T11:59:24Z", "url": "https://github.com/ls1intum/Artemis/pull/1633", "merged": true, "mergeCommit": {"oid": "5a7937765db20cfed12fcf4ede905f0e5dd92e6b"}, "closed": true, "closedAt": "2020-06-15T19:07:52Z", "author": {"login": "kloessst"}, "timelineItems": {"totalCount": 50, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqM5YJAH2gAyNDMzMDI4NTQ3OjNiMGJhODI2ZmIxMGE2ODczODQ4N2Y3NTdiOTRhMzRiMTE1YjQ3NWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrlgmJgFqTQzMDkxNzQ1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3b0ba826fb10a68738487f757b94a34b115b475b", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/3b0ba826fb10a68738487f757b94a34b115b475b", "committedDate": "2020-06-11T11:52:26Z", "message": "Create new exam route for creating text-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0df6f1cc98749380579b6d7ed9ddcc12c18aebc8", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/0df6f1cc98749380579b6d7ed9ddcc12c18aebc8", "committedDate": "2020-06-11T11:59:11Z", "message": "Create new exam route for updating a text-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "154e60b22018d5c4d13ad178ea905924dedab738", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/154e60b22018d5c4d13ad178ea905924dedab738", "committedDate": "2020-06-11T12:26:41Z", "message": "Adjust text-exercise exam route to incluse examId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "630b22201c2a17e5201d58ee29193220493ffcb3", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/630b22201c2a17e5201d58ee29193220493ffcb3", "committedDate": "2020-06-11T12:27:22Z", "message": "Add case distinction for exams in text-exercise route and resolver"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7384ff0cfb21ba1963e6d4bd02d067e66c7c986", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/c7384ff0cfb21ba1963e6d4bd02d067e66c7c986", "committedDate": "2020-06-11T13:57:39Z", "message": "Add getter for exerciseGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "008a94f525074fc8000e1ad7da0adf0b63534622", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/008a94f525074fc8000e1ad7da0adf0b63534622", "committedDate": "2020-06-11T14:40:22Z", "message": "Hide categories row if text-exercise is in exam mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a296e304a209e65967c9b1be50371a4e432cb8e", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/1a296e304a209e65967c9b1be50371a4e432cb8e", "committedDate": "2020-06-11T15:24:11Z", "message": "Add ExerciseGroupService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "102ab8b7d3cd569291934f4b7e442df4df256e0c", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/102ab8b7d3cd569291934f4b7e442df4df256e0c", "committedDate": "2020-06-11T15:26:24Z", "message": "Adjust server endpoint for the creation of text-exercises in exam-mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "885de3ab876ecba32022689a6cceadc8ee80f450", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/885de3ab876ecba32022689a6cceadc8ee80f450", "committedDate": "2020-06-11T15:27:32Z", "message": "Merge branch 'exam-mode/variants/exercise-creation' of https://github.com/ls1intum/Artemis into exam-mode/variants/exercise-creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45e818620d243783ba13f2e4a920f2e8590444f0", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/45e818620d243783ba13f2e4a920f2e8590444f0", "committedDate": "2020-06-11T16:40:29Z", "message": "Add getter for exerciseGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ece6a40120c930cc5454be6c965827b1b47ff808", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ece6a40120c930cc5454be6c965827b1b47ff808", "committedDate": "2020-06-11T16:58:46Z", "message": "Deactivate notificationText input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e55515a482250fcab5c0b2f1e879181dce9263b4", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e55515a482250fcab5c0b2f1e879181dce9263b4", "committedDate": "2020-06-11T17:33:06Z", "message": "Fix typo in route"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4d8501e1bf2979219cfdca64ba3b7cb07a6fdfb", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f4d8501e1bf2979219cfdca64ba3b7cb07a6fdfb", "committedDate": "2020-06-12T11:18:58Z", "message": "Add module for text-exercise and fix route typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab3030ee1749ac659d11d0d4120ac83ddf630e5a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ab3030ee1749ac659d11d0d4120ac83ddf630e5a", "committedDate": "2020-06-12T11:54:39Z", "message": "ModelFactory for Exam and ExamGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b166588792c10404ae69234046030880bf996c7", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/8b166588792c10404ae69234046030880bf996c7", "committedDate": "2020-06-12T13:16:21Z", "message": "Add setter for exerciseGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07fc456ef645fa3b558547ffec1e5bccf65179ad", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/07fc456ef645fa3b558547ffec1e5bccf65179ad", "committedDate": "2020-06-12T13:19:45Z", "message": "Extend testing utilities by exam entities generation. Tear down exerciseRepo before examMode repos because of foreign key constraints."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e46d8e987d7144307d3cb535758b89fe51d5803b", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e46d8e987d7144307d3cb535758b89fe51d5803b", "committedDate": "2020-06-12T13:20:44Z", "message": "Adapt and create integration test for text exercise creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "757e6c88a5eb1cb454a1cf9c5de4b0804ec23317", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/757e6c88a5eb1cb454a1cf9c5de4b0804ec23317", "committedDate": "2020-06-12T13:31:34Z", "message": "Revert pushed local config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad881fbddb5c5b0f49ae1a2929c59f9e69064325", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ad881fbddb5c5b0f49ae1a2929c59f9e69064325", "committedDate": "2020-06-12T13:54:25Z", "message": "Add integration test for exercise with set course and exerciseGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5a10af1aa73533a0d13e8e9f2a2deb2ae25f7e4", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f5a10af1aa73533a0d13e8e9f2a2deb2ae25f7e4", "committedDate": "2020-06-12T14:39:20Z", "message": "Add integration tests for text exercise update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6557d292f8b45df160a7f314c6f451d677d1cec2", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/6557d292f8b45df160a7f314c6f451d677d1cec2", "committedDate": "2020-06-12T16:46:58Z", "message": "Fix tear down order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ce9c722816e55685d5b3c91cd75a856b4adba36", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2ce9c722816e55685d5b3c91cd75a856b4adba36", "committedDate": "2020-06-12T18:58:34Z", "message": "Add client tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c200514cb3ce713f248b6ea8ca980fe4324f0123", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/c200514cb3ce713f248b6ea8ca980fe4324f0123", "committedDate": "2020-06-12T19:15:52Z", "message": "Fix JS Style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0346f18c54319d6eb175ccf593a0045bef8796e8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/0346f18c54319d6eb175ccf593a0045bef8796e8", "committedDate": "2020-06-12T19:16:17Z", "message": "Merge branch 'develop' into exam-mode/variants/exercise-creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/74f387c649c89b58e700dddbbb9abe652bbfe6d8", "committedDate": "2020-06-12T19:37:36Z", "message": "Move exerciseGroup check to exercise entity"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMTQzNzU4", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430143758", "createdAt": "2020-06-13T14:40:31Z", "commit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QxNDo0MDozMlrOGjX2PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QxNDo1OTo0MlrOGjX7OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NDA2MQ==", "bodyText": "Isn't this a duplication of lines 122 - 137?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439744061", "createdAt": "2020-06-13T14:40:32Z", "author": {"login": "julian-christl"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -149,17 +167,30 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n         if (textExercise.getId() == null) {\n             return createTextExercise(textExercise);\n         }\n-        // fetch course from database to make sure client didn't change groups\n-        Course course = courseService.findOne(textExercise.getCourse().getId());\n+\n+        // Course and exerciseGroup must not be set simultaneously\n+        if (textExercise.getCourse() != null && textExercise.getExerciseGroup() != null) {\n+            throw new BadRequestAlertException(\"An update for a textExercise cannot have a course and an exerciseGroup\", ENTITY_NAME, \"courseAndExerciseGroupSet\");\n+        }\n+\n+        // If an exerciseGroup is set, the textExercise is updated in exam-mode\n+        boolean isExamMode = textExercise.hasExerciseGroup();\n+\n+        // Fetch course from database over exerciseGroup or already set course to make sure client didn't change groups\n+        Course course = retrieveCourseThroughExerciseGroupOrGivenCourse(textExercise);\n+\n+        // Check that the user is authorized to update the exercise\n         User user = userService.getUserWithGroupsAndAuthorities();\n-        if (!authCheckService.isInstructorInCourse(course, user) && !authCheckService.isAdmin()) {\n+        if (!authCheckService.isAtLeastInstructorInCourse(course, user)) {\n             return forbidden();\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NDE2OA==", "bodyText": "As far as I remember we discussed this in our kickoff meeting that this might be an usecase and we therefore don't want fo forbid it.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439744168", "createdAt": "2020-06-13T14:41:44Z", "author": {"login": "julian-christl"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -149,17 +167,30 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n         if (textExercise.getId() == null) {\n             return createTextExercise(textExercise);\n         }\n-        // fetch course from database to make sure client didn't change groups\n-        Course course = courseService.findOne(textExercise.getCourse().getId());\n+\n+        // Course and exerciseGroup must not be set simultaneously\n+        if (textExercise.getCourse() != null && textExercise.getExerciseGroup() != null) {\n+            throw new BadRequestAlertException(\"An update for a textExercise cannot have a course and an exerciseGroup\", ENTITY_NAME, \"courseAndExerciseGroupSet\");\n+        }\n+\n+        // If an exerciseGroup is set, the textExercise is updated in exam-mode\n+        boolean isExamMode = textExercise.hasExerciseGroup();\n+\n+        // Fetch course from database over exerciseGroup or already set course to make sure client didn't change groups\n+        Course course = retrieveCourseThroughExerciseGroupOrGivenCourse(textExercise);\n+\n+        // Check that the user is authorized to update the exercise\n         User user = userService.getUserWithGroupsAndAuthorities();\n-        if (!authCheckService.isInstructorInCourse(course, user) && !authCheckService.isAdmin()) {\n+        if (!authCheckService.isAtLeastInstructorInCourse(course, user)) {\n             return forbidden();\n         }\n         TextExercise textExerciseBeforeUpdate = textExerciseService.findOne(textExercise.getId());\n         if (textExerciseBeforeUpdate.isAutomaticAssessmentEnabled() != textExercise.isAutomaticAssessmentEnabled() && !authCheckService.isAdmin()) {\n             return forbidden();\n         }\n \n+        // TODO: Should we forbid conversion between exam <-> normal text-exercise?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NDQyNA==", "bodyText": "I think that's a fair discussion point. In the one hand if there is an issue during the exam we might want to fix it. On the other hand how do we deal with this in the offline mode? Or do we save on which version of the exercises the student submitted? Do we even have versions of exercises it they get changed?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439744424", "createdAt": "2020-06-13T14:45:18Z", "author": {"login": "julian-christl"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -169,7 +200,9 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n             result.getExampleSubmissions().forEach(exampleSubmission -> exampleSubmission.setTutorParticipations(null));\n         }\n \n-        if (notificationText != null) {\n+        // TODO: Should we leave this activated in case the exercise is changed during the exam?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NDU4NQ==", "bodyText": "Could it be useful to put the check from line 122-125 within this method? To ensure that we only retrieve a Course when the Exercise is actually valid.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439744585", "createdAt": "2020-06-13T14:48:01Z", "author": {"login": "julian-christl"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -350,4 +383,22 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n             return ResponseEntity.badRequest().build();\n         }\n     }\n+\n+    /**\n+     * Retrieve the Course for a given TextExercise.\n+     * If the exercise is part of an exam, retrieve the course through ExerciseGroup -> Exam -> Course.\n+     * Otherwise the Course is already set and the id can be used to retrieve the Course again from the database.\n+     *\n+     * @param textExercise the TextExercise for which the course is retrieved\n+     * @return the Course for the TextExercise\n+     */\n+    private Course retrieveCourseThroughExerciseGroupOrGivenCourse(TextExercise textExercise) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NTA0Mw==", "bodyText": "What does this test do? By reading the test I think I know it but please improve the method name and/or document the behaviour.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439745043", "createdAt": "2020-06-13T14:54:13Z", "author": {"login": "julian-christl"}, "path": "src/test/java/de/tum/in/www1/artemis/TextExerciseIntegrationTest.java", "diffHunk": "@@ -100,6 +102,41 @@ public void createTextExercise() throws Exception {\n \n         assertThat(newTextExercise.getTitle()).as(\"text exercise title was correctly set\").isEqualTo(title);\n         assertThat(newTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly set\").isEqualTo(difficulty);\n+        assertThat(newTextExercise.getCourse()).as(\"course was set for normal exercise\").isNotNull();\n+        assertThat(newTextExercise.getExerciseGroup()).as(\"exerciseGroup was not set for normal exercise\").isNull();\n+        assertThat(newTextExercise.getCourse().getId()).as(\"exerciseGroupId was set correctly\").isEqualTo(course.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void createTextExerciseForExam() throws Exception {\n+        var now = ZonedDateTime.now();\n+        ExerciseGroup exerciseGroup = database.addExerciseGroupWithExamAndCourse(true);\n+        TextExercise textExercise = ModelFactory.generateTextExerciseForExam(now.minusDays(1), now.minusHours(2), now.minusHours(1), exerciseGroup);\n+\n+        String title = \"New Exam Text Exercise\";\n+        DifficultyLevel difficulty = DifficultyLevel.HARD;\n+        textExercise.setTitle(title);\n+        textExercise.setDifficulty(difficulty);\n+\n+        TextExercise newTextExercise = request.postWithResponseBody(\"/api/text-exercises/\", textExercise, TextExercise.class, HttpStatus.CREATED);\n+\n+        assertThat(newTextExercise.getTitle()).as(\"text exercise title was correctly set\").isEqualTo(title);\n+        assertThat(newTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly set\").isEqualTo(difficulty);\n+        assertThat(newTextExercise.getCourse()).as(\"course was not set for exam exercise\").isNull();\n+        assertThat(newTextExercise.getExerciseGroup()).as(\"exerciseGroup was set for exam exercise\").isNotNull();\n+        assertThat(newTextExercise.getExerciseGroup().getId()).as(\"exerciseGroupId was set correctly\").isEqualTo(exerciseGroup.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void createTextExercise_courseAndExerciseGroupSet() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NTEzMg==", "bodyText": "What does this test do? By reading the test I think I know it but please improve the method name and/or document the behaviour.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439745132", "createdAt": "2020-06-13T14:55:44Z", "author": {"login": "julian-christl"}, "path": "src/test/java/de/tum/in/www1/artemis/TextExerciseIntegrationTest.java", "diffHunk": "@@ -128,6 +165,43 @@ public void updateTextExercise() throws Exception {\n \n         assertThat(updatedTextExercise.getTitle()).as(\"text exercise title was correctly updated\").isEqualTo(title);\n         assertThat(updatedTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly updated\").isEqualTo(difficulty);\n+        assertThat(updatedTextExercise.getCourse()).as(\"course was set for normal exercise\").isNotNull();\n+        assertThat(updatedTextExercise.getExerciseGroup()).as(\"exerciseGroup was not set for normal exercise\").isNull();\n+        assertThat(updatedTextExercise.getCourse().getId()).as(\"courseId was not updated\").isEqualTo(course.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void updateTextExerciseForExam() throws Exception {\n+        var now = ZonedDateTime.now();\n+        ExerciseGroup exerciseGroup = database.addExerciseGroupWithExamAndCourse(true);\n+        TextExercise textExercise = ModelFactory.generateTextExerciseForExam(now.minusDays(1), now.minusHours(2), now.minusHours(1), exerciseGroup);\n+        textExerciseRepository.save(textExercise);\n+\n+        // Update certain attributes of text exercise\n+        String updateTitle = \"After\";\n+        DifficultyLevel updateDifficulty = DifficultyLevel.HARD;\n+        textExercise.setTitle(updateTitle);\n+        textExercise.setDifficulty(updateDifficulty);\n+\n+        TextExercise updatedTextExercise = request.putWithResponseBody(\"/api/text-exercises/\", textExercise, TextExercise.class, HttpStatus.OK);\n+\n+        assertThat(updatedTextExercise.getTitle()).as(\"text exercise title was correctly updated\").isEqualTo(updateTitle);\n+        assertThat(updatedTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly updated\").isEqualTo(updateDifficulty);\n+        assertThat(updatedTextExercise.getCourse()).as(\"course was not set for exam exercise\").isNull();\n+        assertThat(updatedTextExercise.getExerciseGroup()).as(\"exerciseGroup was set for exam exercise\").isNotNull();\n+        assertThat(updatedTextExercise.getExerciseGroup().getId()).as(\"exerciseGroupId was not updated\").isEqualTo(exerciseGroup.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void updateTextExercise_courseAndExerciseGroupSet() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NTIwMA==", "bodyText": "Would it then be interesting to add a two tests which test the behaviour when updating an exam exercises to a course exercise and vice versa?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439745200", "createdAt": "2020-06-13T14:56:49Z", "author": {"login": "julian-christl"}, "path": "src/test/java/de/tum/in/www1/artemis/TextExerciseIntegrationTest.java", "diffHunk": "@@ -128,6 +165,43 @@ public void updateTextExercise() throws Exception {\n \n         assertThat(updatedTextExercise.getTitle()).as(\"text exercise title was correctly updated\").isEqualTo(title);\n         assertThat(updatedTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly updated\").isEqualTo(difficulty);\n+        assertThat(updatedTextExercise.getCourse()).as(\"course was set for normal exercise\").isNotNull();\n+        assertThat(updatedTextExercise.getExerciseGroup()).as(\"exerciseGroup was not set for normal exercise\").isNull();\n+        assertThat(updatedTextExercise.getCourse().getId()).as(\"courseId was not updated\").isEqualTo(course.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void updateTextExerciseForExam() throws Exception {\n+        var now = ZonedDateTime.now();\n+        ExerciseGroup exerciseGroup = database.addExerciseGroupWithExamAndCourse(true);\n+        TextExercise textExercise = ModelFactory.generateTextExerciseForExam(now.minusDays(1), now.minusHours(2), now.minusHours(1), exerciseGroup);\n+        textExerciseRepository.save(textExercise);\n+\n+        // Update certain attributes of text exercise\n+        String updateTitle = \"After\";\n+        DifficultyLevel updateDifficulty = DifficultyLevel.HARD;\n+        textExercise.setTitle(updateTitle);\n+        textExercise.setDifficulty(updateDifficulty);\n+\n+        TextExercise updatedTextExercise = request.putWithResponseBody(\"/api/text-exercises/\", textExercise, TextExercise.class, HttpStatus.OK);\n+\n+        assertThat(updatedTextExercise.getTitle()).as(\"text exercise title was correctly updated\").isEqualTo(updateTitle);\n+        assertThat(updatedTextExercise.getDifficulty()).as(\"text exercise difficulty was correctly updated\").isEqualTo(updateDifficulty);\n+        assertThat(updatedTextExercise.getCourse()).as(\"course was not set for exam exercise\").isNull();\n+        assertThat(updatedTextExercise.getExerciseGroup()).as(\"exerciseGroup was set for exam exercise\").isNotNull();\n+        assertThat(updatedTextExercise.getExerciseGroup().getId()).as(\"exerciseGroupId was not updated\").isEqualTo(exerciseGroup.getId());\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void updateTextExercise_courseAndExerciseGroupSet() throws Exception {\n+        Course course = database.addCourseWithOneReleasedTextExercise();\n+        ExerciseGroup exerciseGroup = database.addExerciseGroupWithExamAndCourse(true);\n+        TextExercise textExercise = textExerciseRepository.findByCourseId(course.getId()).get(0);\n+        textExercise.setExerciseGroup(exerciseGroup);\n+\n+        request.postWithResponseBody(\"/api/text-exercises/\", textExercise, TextExercise.class, HttpStatus.BAD_REQUEST);\n     }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NTMzNw==", "bodyText": "If you pass exercise here shouldn't you make sure that the course of the exercise is null?\nYou could pass a course exercise to this method, can't you?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r439745337", "createdAt": "2020-06-13T14:59:42Z", "author": {"login": "julian-christl"}, "path": "src/test/java/de/tum/in/www1/artemis/util/ModelFactory.java", "diffHunk": "@@ -104,6 +111,22 @@ public static Exercise populateExercise(Exercise exercise, ZonedDateTime release\n         return exercise;\n     }\n \n+    public static Exercise populateExerciseForExam(Exercise exercise, ZonedDateTime releaseDate, ZonedDateTime dueDate, ZonedDateTime assessmentDueDate,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74f387c649c89b58e700dddbbb9abe652bbfe6d8"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abf1e28ef5d46ac16766ac29b43203e958dad900", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/abf1e28ef5d46ac16766ac29b43203e958dad900", "committedDate": "2020-06-14T10:30:35Z", "message": "Choose better test method name to clarify behavior"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "940f1eaa373e775e0edbac18240974756f6b8833", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/940f1eaa373e775e0edbac18240974756f6b8833", "committedDate": "2020-06-14T11:45:35Z", "message": "Ensure creation of a valid Exercise for Exam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea063b18e2f91f82f1b147079d07fae124506e56", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ea063b18e2f91f82f1b147079d07fae124506e56", "committedDate": "2020-06-14T12:48:00Z", "message": "Refactored exercise validation and course retrieval"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c6b9d589267e3564f7633002c9720e70c630d39", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/6c6b9d589267e3564f7633002c9720e70c630d39", "committedDate": "2020-06-14T13:19:57Z", "message": "Fix Doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3d02dbe7a87b7d20ebe9e7e45766d90e38fc9ab", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/b3d02dbe7a87b7d20ebe9e7e45766d90e38fc9ab", "committedDate": "2020-06-14T14:44:16Z", "message": "Fix circular dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "809e502f402ac14c0dd6afbe4485d529f1b5502c", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/809e502f402ac14c0dd6afbe4485d529f1b5502c", "committedDate": "2020-06-14T14:56:16Z", "message": "Add integration test to check for exercise without course and exerciseGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20c7e1eaa7218b64e2638fa12502212d98ad4a2d", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/20c7e1eaa7218b64e2638fa12502212d98ad4a2d", "committedDate": "2020-06-14T16:12:24Z", "message": "Forbid conversion between exam and course exercise. Add integration tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1e6e331ae910d3567c49938d4a26344a89b10d7", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f1e6e331ae910d3567c49938d4a26344a89b10d7", "committedDate": "2020-06-14T22:46:49Z", "message": "Merge develop and resolve conflicts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e4bbacd98c796b9991fb58bd95fa016c3a698b4", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/8e4bbacd98c796b9991fb58bd95fa016c3a698b4", "committedDate": "2020-06-15T14:51:22Z", "message": "Merge branch 'develop' into exam-mode/variants/exercise-creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bd5d1325da15d298d1321deaa7df8b199d90290", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/1bd5d1325da15d298d1321deaa7df8b199d90290", "committedDate": "2020-06-15T15:11:59Z", "message": "Fix update of text exercise. Use case distinction to check whether the user is allowed to access the exercise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "568dbf77fafb64bafffa7478e3019c6ab1e43fb1", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/568dbf77fafb64bafffa7478e3019c6ab1e43fb1", "committedDate": "2020-06-15T15:12:47Z", "message": "Merge branch 'exam-mode/variants/exercise-creation' of https://github.com/ls1intum/Artemis into exam-mode/variants/exercise-creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94ca8abb4df2fc2f8db57530a489112946b26c17", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/94ca8abb4df2fc2f8db57530a489112946b26c17", "committedDate": "2020-06-15T15:15:32Z", "message": "Spotless apply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b23cc16daec47610d0e0016e03d6c17e18af7774", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/b23cc16daec47610d0e0016e03d6c17e18af7774", "committedDate": "2020-06-15T15:36:24Z", "message": "Merge develop. Resolve conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODA3ODk1", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430807895", "createdAt": "2020-06-15T16:31:19Z", "commit": {"oid": "b23cc16daec47610d0e0016e03d6c17e18af7774"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozMToxOVrOGj52VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozMjo0NVrOGj55aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwMTE0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!textExercise.hasExerciseGroup()) {\n          \n          \n            \n                    if (textExercise.hasCourse()) {\n          \n      \n    \n    \n  \n\nI think this check is easier and would allow the comment above to be much shorter", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440301141", "createdAt": "2020-06-15T16:31:19Z", "author": {"login": "JonasPetry"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -127,7 +134,11 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n \n         TextExercise result = textExerciseRepository.save(textExercise);\n         textClusteringScheduleService.ifPresent(service -> service.scheduleExerciseForClusteringIfRequired(result));\n-        groupNotificationService.notifyTutorGroupAboutExerciseCreated(textExercise);\n+\n+        // If an exerciseGroup is set, we assume that the exercise is created for an exam. Then don't notify tutors when the exercise is created\n+        if (!textExercise.hasExerciseGroup()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b23cc16daec47610d0e0016e03d6c17e18af7774"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwMTkyOQ==", "bodyText": "See comment above", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440301929", "createdAt": "2020-06-15T16:32:45Z", "author": {"login": "JonasPetry"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -169,7 +189,9 @@ public TextExerciseResource(TextExerciseRepository textExerciseRepository, TextE\n             result.getExampleSubmissions().forEach(exampleSubmission -> exampleSubmission.setTutorParticipations(null));\n         }\n \n-        if (notificationText != null) {\n+        // TODO: Should we leave this activated in case the exercise is changed during the exam?\n+        // Don't notify students about changes if the exercise was updated in exam-mode\n+        if (notificationText != null && !textExercise.hasExerciseGroup()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b23cc16daec47610d0e0016e03d6c17e18af7774"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04793ae7f7d52583474f306a84514de8eb725cd8", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/04793ae7f7d52583474f306a84514de8eb725cd8", "committedDate": "2020-06-15T16:46:59Z", "message": "Adjust check for exam mode to ensure better understanding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94de0f7e74eacda26fc42e4d565b25e3fabc95c3", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/94de0f7e74eacda26fc42e4d565b25e3fabc95c3", "committedDate": "2020-06-15T17:10:25Z", "message": "Deactivate accessing of exercise details for exam exercises. Use case distinction or alternate route in the future to enable this for exam exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e9743c3d63c6c02f65877d6daa7130ec9e52c8ba", "committedDate": "2020-06-15T17:31:49Z", "message": "spotless apply"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODc3Mjg2", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430877286", "createdAt": "2020-06-15T18:07:46Z", "commit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxODowNzo0N1rOGj9H8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxODoxMTo0NlrOGj9Pxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1NDgwMg==", "bodyText": "I've changed exerciseGroups to exercise-groups in my PR to be consistent with other routes in the application. You may want to change it now or when our PRs are merged.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440354802", "createdAt": "2020-06-15T18:07:47Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/manage/exam-management.route.ts", "diffHunk": "@@ -209,6 +211,30 @@ export const examManagementRoute: Routes = [\n         },\n         canActivate: [UserRouteAccessService],\n     },\n+    {\n+        path: ':examId/exerciseGroups/:groupId/text-exercises/new',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1NDkwMA==", "bodyText": "I've changed exerciseGroups to exercise-groups in my PR to be consistent with other routes in the application. You may want to change it now or when our PRs are merged.", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440354900", "createdAt": "2020-06-15T18:07:56Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/manage/exam-management.route.ts", "diffHunk": "@@ -209,6 +211,30 @@ export const examManagementRoute: Routes = [\n         },\n         canActivate: [UserRouteAccessService],\n     },\n+    {\n+        path: ':examId/exerciseGroups/:groupId/text-exercises/new',\n+        component: TextExerciseUpdateComponent,\n+        resolve: {\n+            textExercise: TextExerciseResolver,\n+        },\n+        data: {\n+            authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n+            pageTitle: 'artemisApp.textExercise.home.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: ':examId/exerciseGroups/:groupId/text-exercises/:exerciseId/edit',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1NTY2Mw==", "bodyText": "Why is exerciseGroupService public here?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440355663", "createdAt": "2020-06-15T18:09:33Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exercises/text/manage/text-exercise/text-exercise.route.ts", "diffHunk": "@@ -12,10 +12,12 @@ import { Observable } from 'rxjs';\n import { HttpResponse } from '@angular/common/http';\n import { filter, map } from 'rxjs/operators';\n import { Course } from 'app/entities/course.model';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n \n @Injectable({ providedIn: 'root' })\n export class TextExerciseResolver implements Resolve<TextExercise> {\n-    constructor(private textExerciseService: TextExerciseService, private courseService: CourseManagementService) {}\n+    constructor(private textExerciseService: TextExerciseService, private courseService: CourseManagementService, public exerciseGroupService: ExerciseGroupService) {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1NjgwNw==", "bodyText": "Just a question because I did it differently in my PR: You never really use mandatory right? It is always set to true in your test cases?", "url": "https://github.com/ls1intum/Artemis/pull/1633#discussion_r440356807", "createdAt": "2020-06-15T18:11:46Z", "author": {"login": "sascha11110"}, "path": "src/test/java/de/tum/in/www1/artemis/util/DatabaseUtilService.java", "diffHunk": "@@ -516,8 +516,8 @@ public Exam addExam(Course course) {\n         return exam;\n     }\n \n-    public ExerciseGroup addExerciseGroup(Exam exam) {\n-        ExerciseGroup exerciseGroup = ModelFactory.generateExerciseGroup(exam);\n+    public ExerciseGroup addExerciseGroup(Exam exam, boolean mandatory) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9743c3d63c6c02f65877d6daa7130ec9e52c8ba"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4cbc2ca640d94caa76ff0ab3ae8b2361fe9a315", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/b4cbc2ca640d94caa76ff0ab3ae8b2361fe9a315", "committedDate": "2020-06-15T18:30:13Z", "message": "Reduce number of DB queries. Exam loads the course eagerly."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbf85a872844e02ef860ffb19896ed388d9bf58d", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/dbf85a872844e02ef860ffb19896ed388d9bf58d", "committedDate": "2020-06-15T18:38:18Z", "message": "Change client routes and fix access modifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTA1MjQz", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430905243", "createdAt": "2020-06-15T18:49:11Z", "commit": {"oid": "dbf85a872844e02ef860ffb19896ed388d9bf58d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "068ed217cc844509f70af1d48b96447b3e4d35c8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/068ed217cc844509f70af1d48b96447b3e4d35c8", "committedDate": "2020-06-15T18:55:07Z", "message": "Fix delete for exam text-exercises"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTE1MDc3", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430915077", "createdAt": "2020-06-15T19:03:43Z", "commit": {"oid": "068ed217cc844509f70af1d48b96447b3e4d35c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTE3NDU4", "url": "https://github.com/ls1intum/Artemis/pull/1633#pullrequestreview-430917458", "createdAt": "2020-06-15T19:06:55Z", "commit": {"oid": "068ed217cc844509f70af1d48b96447b3e4d35c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2795, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}