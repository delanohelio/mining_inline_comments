{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5ODgxODUz", "number": 2483, "title": "[Feature] Add rating to programming exercises", "bodyText": "Checklist\n\n I tested all changes and all related features locally and on test server1\n Client: I followed the coding and design guidelines.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\n\n\nAs the ratings were missing for programming exercises, we add them in this PR.\nDescription\n\n\nDisplay RatingsComponent under the ComplaintInteractionComponent (as in the other exercise types)\nAdd correct router link for programming exercises\n\nSteps for Testing\n\n\nLog in to Artemis\nNavigate to Course Administration\nCreate a programming exercise with manual assessment, participate and assess  or use already assessed exercise\nNavigate to the exercise details view and scroll down (see screenshot below)\nAdd your rating\nLogin as Instructor\nGo to Instructor Course Dashboard and click on Ratings\nThe exercise you rated before should be now displayed here.\nClick on Show the submission and you should be forward to the code editor (make sure it is the correct submission)\n\n\nTest Coverage\n\n\n\nNothing changed\nScreenshots", "createdAt": "2020-12-01T00:00:05Z", "url": "https://github.com/ls1intum/Artemis/pull/2483", "merged": true, "mergeCommit": {"oid": "51433d635a63c72628f670c1581936fcc56dc718"}, "closed": true, "closedAt": "2020-12-02T16:36:16Z", "author": {"login": "fde312"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhs5r3AH2gAyNTI5ODgxODUzOjQwMjE4NjJjNDVmNDk5NDBkNGY5NTM5N2I1MzM0M2QyM2M5ZjY4YTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiRPnPAFqTU0MzAyMjYxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4021862c45f49940d4f95397b53343d23c9f68a1", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/4021862c45f49940d4f95397b53343d23c9f68a1", "committedDate": "2020-11-30T22:15:34Z", "message": "add rating for programming exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45b2f5764bc58f27c8c761b92831123123ec3389", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/45b2f5764bc58f27c8c761b92831123123ec3389", "committedDate": "2020-11-30T23:53:15Z", "message": "fix issue with circular dependency and add correct router link to submission for programming exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19", "author": {"user": {"login": "fde312", "name": "Francisco De las Casas Young"}}, "url": "https://github.com/ls1intum/Artemis/commit/42d9234b504c967bef5b29e26ba5e49eaf3a2b19", "committedDate": "2020-12-01T00:20:33Z", "message": "Merge branch 'develop' into feature/programming-exercises/add-rating"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNTQ4Nzk4", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-541548798", "createdAt": "2020-12-01T07:29:42Z", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNTUwODIz", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-541550823", "createdAt": "2020-12-01T07:33:33Z", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzozMzozM1rOH8bUUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzozNzowNVrOH8babQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzEyNDE3OA==", "bodyText": "I am personally not a fan of the exclamation mark as it says \"assume the property/variable IS defined\", but what if not? There must be a reason why the result can be undefined, so I\u00b4d rather go with something like this here:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.rating.result!.participation = undefined;\n          \n          \n            \n                    if (this.rating.result) {\n          \n          \n            \n                            this.rating.result.participation = undefined;\n          \n          \n            \n                    }", "url": "https://github.com/ls1intum/Artemis/pull/2483#discussion_r533124178", "createdAt": "2020-12-01T07:33:33Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/app/exercises/shared/rating/rating.component.ts", "diffHunk": "@@ -46,6 +44,8 @@ export class RatingComponent implements OnInit {\n \n         // update feedback locally\n         this.rating.rating = $event.newValue;\n+        // Delete participation to avoid circular dependency\n+        this.rating.result!.participation = undefined;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzEyNTc0MQ==", "bodyText": "Same goes for the exclamation mark here as below\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.ratingService.getRating(this.result.id!).subscribe((rating) => {\n          \n          \n            \n                    if (this.result.id !== undefined) {\n          \n          \n            \n                            this.ratingService.getRating(this.result.id).subscribe((rating) => {", "url": "https://github.com/ls1intum/Artemis/pull/2483#discussion_r533125741", "createdAt": "2020-12-01T07:37:05Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/app/exercises/shared/rating/rating.component.ts", "diffHunk": "@@ -23,8 +23,6 @@ export class RatingComponent implements OnInit {\n             return;\n         }\n \n-        // delete participation to prevent circular dependency\n-        this.result.participation = undefined;\n         this.ratingService.getRating(this.result.id!).subscribe((rating) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNjE0NTg4", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-541614588", "createdAt": "2020-12-01T08:21:02Z", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNjE5NDcx", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-541619471", "createdAt": "2020-12-01T08:23:39Z", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNjQ0MjI2", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-541644226", "createdAt": "2020-12-01T08:36:50Z", "commit": {"oid": "42d9234b504c967bef5b29e26ba5e49eaf3a2b19"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63daf1bf47eff8225df0c187e61da86954d148ee", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/63daf1bf47eff8225df0c187e61da86954d148ee", "committedDate": "2020-12-02T08:20:07Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-exercises/add-rating"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a92ca57b9d4006a9a55de8f6303fcf66ce06ef45", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a92ca57b9d4006a9a55de8f6303fcf66ce06ef45", "committedDate": "2020-12-02T09:54:04Z", "message": "apply changes from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/164841b8b4d6cc675cfa74098fb7eb96a1931448", "committedDate": "2020-12-02T14:07:43Z", "message": "try to fix npe"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTE0NTE5", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-542914519", "createdAt": "2020-12-02T14:52:53Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTE3NjU4", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-542917658", "createdAt": "2020-12-02T14:55:33Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTE4MDg1", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-542918085", "createdAt": "2020-12-02T14:55:58Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTI1NjI0", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-542925624", "createdAt": "2020-12-02T15:03:07Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTU2MjE5", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-542956219", "createdAt": "2020-12-02T15:31:31Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMDIyNjE1", "url": "https://github.com/ls1intum/Artemis/pull/2483#pullrequestreview-543022615", "createdAt": "2020-12-02T16:36:06Z", "commit": {"oid": "164841b8b4d6cc675cfa74098fb7eb96a1931448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3371, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}