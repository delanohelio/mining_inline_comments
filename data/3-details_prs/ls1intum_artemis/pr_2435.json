{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0Mjc0OTA4", "number": 2435, "title": "[Hotfix] Fix Assessment Lock View and Null Index Column when locking Submission", "bodyText": "Checklist\n\n I tested all changes and all related features locally\n Client: I followed the coding and design guidelines.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\n\n\nWrong routing when clicking on Open assessment and nothing happened when clicking on Cancel assessment.\nNull index issue when locking submission.\nDescription\n\n\nAdd logic for programming exercises\nFixed null index issue when locking submission\nRemoved not needed code\n\nSteps for Testing\n\n\nLog in to Artemis\nNavigate to Course Administration\nCreate programming exercise, participate and go to assessment dashboard\nStart new assessment of some submission but DO NOT submit\nNavigate back\nClick on Assessments locked by you\nCheck that you can open and cancel the assessment\nTry this a few times and check if everything works as expected\n\nTest Coverage\n\n\n\nNothing changed\nScreenshots", "createdAt": "2020-11-19T22:29:29Z", "url": "https://github.com/ls1intum/Artemis/pull/2435", "merged": true, "mergeCommit": {"oid": "c18b8a3577d028400ea3d72bae0addb1c3cf7187"}, "closed": true, "closedAt": "2020-11-20T08:33:55Z", "author": {"login": "fde312"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeKSVBAH2gAyNTI0Mjc0OTA4OmEzZDA1ZGFjNzI1YjY4ZmEyZjVlZjAzYzFiMTg0ODQ2M2YwMDIzODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeTGtIgFqTUzNTIwOTkzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a3d05dac725b68fa2f5ef03c1b1848463f002387", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a3d05dac725b68fa2f5ef03c1b1848463f002387", "committedDate": "2020-11-19T22:14:02Z", "message": "Add logic for programming exercises in assessment locks view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "668787e539f112fc89d44c09fcdcf0ccc463f027", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/668787e539f112fc89d44c09fcdcf0ccc463f027", "committedDate": "2020-11-20T00:51:57Z", "message": "make checks for errors more robust and fix issue of infinite loading icon when dismissing cancel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6857cb123dc8d3d29e324551fd99b9bf4e94ed42", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6857cb123dc8d3d29e324551fd99b9bf4e94ed42", "committedDate": "2020-11-20T00:52:47Z", "message": "fix issue with null index column when locking submission"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/5ac19bed12c32f91d6e8ed2e661b867b9b807b27", "committedDate": "2020-11-20T00:53:31Z", "message": "fix test and remove not needed code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MTYyMDg4", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535162088", "createdAt": "2020-11-20T07:10:27Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MTY1MDI5", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535165029", "createdAt": "2020-11-20T07:16:27Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MTc4ODQ2", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535178846", "createdAt": "2020-11-20T07:45:17Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MTc5MDc3", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535179077", "createdAt": "2020-11-20T07:45:44Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjAyODAz", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535202803", "createdAt": "2020-11-20T08:17:09Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjA0Mzcw", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535204370", "createdAt": "2020-11-20T08:19:33Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjA5OTMy", "url": "https://github.com/ls1intum/Artemis/pull/2435#pullrequestreview-535209932", "createdAt": "2020-11-20T08:28:02Z", "commit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyODowM1rOH3FTug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyODowM1rOH3FTug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUyMDY5OA==", "bodyText": "Nice use of optional chaining!", "url": "https://github.com/ls1intum/Artemis/pull/2435#discussion_r527520698", "createdAt": "2020-11-20T08:28:03Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.ts", "diffHunk": "@@ -113,17 +113,19 @@ export class CodeEditorTutorAssessmentContainerComponent implements OnInit, OnDe\n             let participationId;\n             if (!params['participationId']) {\n                 // Check if error is thrown and show info about error\n-                if (this.route.snapshot.data.studentParticipationId.error && this.route.snapshot.data.studentParticipationId.error.errorKey === 'lockedSubmissionsLimitReached') {\n+                const response = this.route.snapshot.data.studentParticipationId;\n+                if (response?.error?.errorKey === 'lockedSubmissionsLimitReached') {\n                     this.lockLimitReached = true;\n                     return;\n-                } else if (this.route.snapshot.data.studentParticipationId.error.status === 404) {\n+                } else if (response?.error?.status === 404) {\n                     // there are no unassessed submission, nothing we have to worry about\n                     this.onError('artemisApp.exerciseAssessmentDashboard.noSubmissions');\n-                } else if (this.route.snapshot.data.studentParticipationId.error) {\n-                    this.onError(this.route.snapshot.data.studentParticipationId.error);\n+                    return;\n+                } else if (response?.error) {\n+                    this.onError(response?.error);\n                     return;\n                 }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ac19bed12c32f91d6e8ed2e661b867b9b807b27"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3698, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}