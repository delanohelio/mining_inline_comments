{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzODA3NTkx", "number": 2513, "title": "[Test] Created test for course-lectures.component", "bodyText": "Created test for course-lectures.component to improve client test coverage\nWas:\n\nNow:", "createdAt": "2020-12-07T16:48:37Z", "url": "https://github.com/ls1intum/Artemis/pull/2513", "merged": true, "mergeCommit": {"oid": "b64015798b3f897a33a8674b8d01dcf8835e3869"}, "closed": true, "closedAt": "2020-12-08T15:55:02Z", "author": {"login": "stefanwaldhauser"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj4aB7AH2gAyNTMzODA3NTkxOjZkNGNiOTllNzAzMDhhMDExYTRmNmFkN2FhNDJjMTFkNDEwZDBmYjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkMP8VgFqTU0NzM3MjMwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d4cb99e70308a011a4f6ad7aa42c11d410d0fb1", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/6d4cb99e70308a011a4f6ad7aa42c11d410d0fb1", "committedDate": "2020-12-07T16:47:42Z", "message": "Created test for course-lectures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d408ea0e879c29098e1aaeda4a6a257202413712", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/d408ea0e879c29098e1aaeda4a6a257202413712", "committedDate": "2020-12-07T16:49:30Z", "message": "Cleanup test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/95cbd52e19b7511ab3677b03efafc79e2ef5c259", "committedDate": "2020-12-07T16:55:02Z", "message": "Fixed codacy complaints"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTQzMjcw", "url": "https://github.com/ls1intum/Artemis/pull/2513#pullrequestreview-546543270", "createdAt": "2020-12-07T21:16:52Z", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTQzMjc0", "url": "https://github.com/ls1intum/Artemis/pull/2513#pullrequestreview-546543274", "createdAt": "2020-12-07T21:16:53Z", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMToxNjo1M1rOIA7FNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMToxNjo1M1rOIA7FNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzODkwMA==", "bodyText": "Cool way mock the service, I really like it. Maybe we can have a code guideline for this, so that we write all our service mocks like this :)", "url": "https://github.com/ls1intum/Artemis/pull/2513#discussion_r537838900", "createdAt": "2020-12-07T21:16:53Z", "author": {"login": "fde312"}, "path": "src/test/javascript/spec/component/overview/course-lectures/course-lectures.component.spec.ts", "diffHunk": "@@ -0,0 +1,140 @@\n+import * as chai from 'chai';\n+import * as sinonChai from 'sinon-chai';\n+import * as sinon from 'sinon';\n+import { ComponentFixture, fakeAsync, TestBed } from '@angular/core/testing';\n+import { TranslatePipe, TranslateService } from '@ngx-translate/core';\n+import { MockComponent, MockDirective, MockPipe, MockProvider } from 'ng-mocks';\n+import { of } from 'rxjs';\n+import { ActivatedRoute } from '@angular/router';\n+import { JhiTranslateDirective } from 'ng-jhipster';\n+import { Component, Input } from '@angular/core';\n+import { By } from '@angular/platform-browser';\n+import { SidePanelComponent } from 'app/shared/side-panel/side-panel.component';\n+import { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\n+import { FaIconComponent } from '@fortawesome/angular-fontawesome';\n+import { Lecture } from 'app/entities/lecture.model';\n+import { Course } from 'app/entities/course.model';\n+import { CourseLecturesComponent } from 'app/overview/course-lectures/course-lectures.component';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { CourseScoreCalculationService } from 'app/overview/course-score-calculation.service';\n+import { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\n+import { ArtemisDatePipe } from 'app/shared/pipes/artemis-date.pipe';\n+import { MockTranslateService } from '../../../helpers/mocks/service/mock-translate.service';\n+import * as moment from 'moment';\n+\n+chai.use(sinonChai);\n+const expect = chai.expect;\n+\n+@Component({ selector: 'jhi-course-lecture-row', template: '' })\n+class CourseLectureRowStubComponent {\n+    @Input() lecture: Lecture;\n+    @Input() course: Course;\n+    @Input() extendedLink = false;\n+}\n+\n+class MockActivatedRoute {\n+    parent: any;\n+    params: any;\n+\n+    constructor(options: { parent?: any; params?: any }) {\n+        this.parent = options.parent;\n+        this.params = options.params;\n+    }\n+}\n+\n+const mockActivatedRoute = new MockActivatedRoute({\n+    parent: new MockActivatedRoute({\n+        params: of({ courseId: '1' }),\n+    }),\n+});\n+describe('CourseLectures', () => {\n+    let courseLecturesComponentFixture: ComponentFixture<CourseLecturesComponent>;\n+    let courseLecturesComponent: CourseLecturesComponent;\n+    let course: Course;\n+    let lecture1: Lecture;\n+    let lecture2: Lecture;\n+    let lecture3: Lecture;\n+\n+    beforeEach(() => {\n+        course = new Course();\n+        course.id = 1;\n+\n+        const wednesdayBase = moment('18-03-2020', 'DD-MM-YYYY');\n+        const wednesdayBefore = moment('11-03-2020', 'DD-MM-YYYY');\n+        const wednesdayAfter = moment('25-03-2020', 'DD-MM-YYYY');\n+\n+        lecture1 = new Lecture();\n+        lecture1.id = 1;\n+        lecture1.startDate = wednesdayBase;\n+        lecture2 = new Lecture();\n+        lecture2.id = 2;\n+        lecture2.startDate = wednesdayBefore;\n+        lecture3 = new Lecture();\n+        lecture3.id = 3;\n+        lecture3.startDate = wednesdayAfter;\n+        course.lectures = [lecture1, lecture2, lecture3];\n+\n+        TestBed.configureTestingModule({\n+            imports: [NgbDropdownModule],\n+            declarations: [\n+                CourseLecturesComponent,\n+                CourseLectureRowStubComponent,\n+                MockPipe(TranslatePipe),\n+                MockPipe(ArtemisDatePipe),\n+                MockComponent(SidePanelComponent),\n+                MockComponent(FaIconComponent),\n+                MockDirective(JhiTranslateDirective),\n+            ],\n+            providers: [\n+                MockProvider(CourseManagementService, {\n+                    getCourseUpdates: () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "originalPosition": 90}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTQzNzYy", "url": "https://github.com/ls1intum/Artemis/pull/2513#pullrequestreview-546543762", "createdAt": "2020-12-07T21:17:37Z", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTQzNzYz", "url": "https://github.com/ls1intum/Artemis/pull/2513#pullrequestreview-546543763", "createdAt": "2020-12-07T21:17:37Z", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MzcyMzA0", "url": "https://github.com/ls1intum/Artemis/pull/2513#pullrequestreview-547372304", "createdAt": "2020-12-08T15:54:47Z", "commit": {"oid": "95cbd52e19b7511ab3677b03efafc79e2ef5c259"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3402, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}