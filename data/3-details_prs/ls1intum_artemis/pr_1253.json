{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5Mjk1NzY3", "number": 1253, "title": "Start team-based exercises and create submissions", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nThis PR is part of the epic of bringing team-based exercises to Artemis. So far, instructors can create team-based exercises and manage teams per exercise.\nWith this PR, students can start team-based exercises as they would start a regular exercise, only that there will be just one shared participation for all the students of a team. Thus, only one of the students of a team will actually start the exercise while the others use the then existing participation. Any one of the team members can then contribute in the form of submissions.\nFor programming exercises, all team members will have access to the repository. When the members of a team are changed by a TA or instructor, the permissions will be updated accordingly. Removed team members will be switched to read-only access (this is the case for Bitbucket and needs to be improved soon so that they lose access completely; for Gitlab they are already fully removed). New team members are given access to the repository.\nSteps for Testing\n\nLog in to Artemis\nNavigate to Course Administration\nClick on a Course\nCreate a new Text, Modeling or File Upload Exercise and pick the mode TEAM (only accessible to ROLE_ADMIN)\nGo to the Exercise overview for the course\nClick on the button \"Teams\" for your newly created team exercise\nCreate a few teams (also play around with updating and deleting teams)\nLog in as one of the students who is part of a team\nCheck that the dashboard shows the team exercise and that the buttons \"Team\" and \"Start exercise\" are available\nClick on the button \"Team\" to check out who your team members are\nGo back and start the exercise\nCreate a submission\nLog in as admin again and look at the participation and submission\nCreate a result for the submission\nLog in as the team member again and check that the result is available\n\nSteps for Testing: Programming exercises\n\nLog in to Artemis\nNavigate to Course Administration\nClick on a Course\nCreate a new Programming Exercise and pick the mode TEAM (only accessible to ROLE_ADMIN)\nGo to the Exercise overview for the course\nClick on the button \"Teams\" for your newly created team exercise\nCreate a few teams (also play around with updating and deleting teams)\nLog in as one of the students who is part of a team\nSubmit code via the Online Editor and via cloning the repository locally\nCheck that everything works as usual\n\nDescription\nNote: The numbering here corresponds to the numbering in the screenshot section.\n\nImprovement to Team Management page for exercise\n\nTeam's short name is linked to the new Team Detail page\nThe students are linked to their user management page\nBetter looking horizontal scrollbar for the students list (custom scrollbar only for webkit browsers)\nClicking on \"Delete\" now opens a confirmation modal\n\n\nImproved search on Team Management page\n\nSearch is now possible for team (short) name and students's login and name\nAutocomplete not only shows team name but also the students\n\n\nShortName was added to the Team model\n\nIt is used similarly to how login is used for students (acts as a unique identifier, e.g. in repository urls or build plans)\nIt cannot be changed after a team was created\n\n\nDelete confirmation modal was added for deleting teams\n\nWrapped in TeamDeleteButtonComponent (which is used on the team overview and detail page)\n\n\nTeam Detail page was added\n\nSimply shows a list of students that are part of the team\nThis page can be accessed by students for the teams that they are part of and is the way that they can find out who they are working with\nFor authorized users (TAs and above), one or two buttons are available in the top right corner: edit and delete team. Only instructors can delete teams. Deleting a team will also delete its participation in the exercise (the text in the confirmation modal mentions this). When a team is deleted, the user is brought back to the team overview page.\n\n\nNew participation status NO_TEAM_ASSIGNED\n\nWhen a team exercise has been released but the student has not yet been assigned to a team, he is not allowed to start the exercise. He is shown a message that he has to be assigned to a team first.\n\n\nNew button \"Team\" in student actions for exercise row\n\nOnce the student has been assigned to a team, he can start the exercise as usual. Another button is available for team-based exercises that will open up the Team detail page where all students of the team are listed (with their email for contacting them).\n\n\nNothing has changed\nNothing has changed\nParticipations table can now handle team-based exercises\n\nFor team based exercises, the participations show the team's name and students\nSearch also allows searching for both team name or student name/login\n\n\nNothing has changed\nExercise scores table can now handle team-based exercises\n\nShows team name and short name (name is linked to submissions as it is done for normal individual-mode exercises, short name is linked to Team detail page)\n\n\n\nScreenshots\n\n\nManagement of teams for an exercise\n\n\n\nManagement of teams for an exercise: Improved search\n\n\n\nEdit team dialog\n\n\n\nDelete team confirmation modal\n\n\n\nTeam detail page\n\n\n\nParticipation status when student is not part of a team yet\n\n\n\nTeam button available once assigned\n\n\n\nTeam exercise has been started\n\n\n\nSubmission has been made for team exercise\n\n\n\nParticipations table for a team-based exercise\n\n\n\nSubmissions for a team participation\n\n\n\nExercise scores for a team exercise", "createdAt": "2020-02-25T00:10:32Z", "url": "https://github.com/ls1intum/Artemis/pull/1253", "merged": true, "mergeCommit": {"oid": "18529acf0dc39fd6817a708023522ee148e21f6c"}, "closed": true, "closedAt": "2020-03-29T13:59:31Z", "author": {"login": "madwau"}, "timelineItems": {"totalCount": 119, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRh_6IAFqTM4MjM4MzgzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSaTi8AFqTM4MzQxNDIwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzgzODM2", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382383836", "createdAt": "2020-03-26T20:19:28Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOToyOFrOF8Yz1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOToyOFrOF8Yz1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2NTM2NA==", "bodyText": "Normal users should not be able to navigate to course-management URLs.\nCan we offer the same page also on a different based on courses/:courseId/exercises/...", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398865364", "createdAt": "2020-03-26T20:19:28Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.html", "diffHunk": "@@ -155,6 +164,16 @@\n <div *ngIf=\"exercise.type === ExerciseType.PROGRAMMING\">\n     <!-- ACTION START -->\n     <div class=\"btn-group\">\n+        <button\n+            class=\"view-team\"\n+            jhi-exercise-action-button\n+            buttonIcon=\"users\"\n+            [buttonLabel]=\"'artemisApp.exerciseActions.viewTeam' | translate\"\n+            *ngIf=\"exercise.teamMode && participationStatusWrapper() !== ParticipationStatus.NO_TEAM_ASSIGNED\"\n+            [smallButton]=\"smallButtons\"\n+            [hideLabelMobile]=\"true\"\n+            [routerLink]=\"['/course-management', courseId, 'exercises', exercise.id, 'teams', assignedTeamId]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzgzOTEy", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382383912", "createdAt": "2020-03-26T20:19:33Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOTozM1rOF8Y0Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOTozM1rOF8Y0Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2NTQxOA==", "bodyText": "Normal users should not be able to navigate to course-management URLs.\nCan we offer the same page also on a different based on courses/:courseId/exercises/...", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398865418", "createdAt": "2020-03-26T20:19:33Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.html", "diffHunk": "@@ -250,6 +269,15 @@\n <div *ngIf=\"exercise.type === ExerciseType.TEXT\">\n     <!-- ACTIONS START -->\n     <div class=\"btn-group mr-2\">\n+        <button\n+            jhi-exercise-action-button\n+            buttonIcon=\"users\"\n+            [buttonLabel]=\"'artemisApp.exerciseActions.viewTeam' | translate\"\n+            *ngIf=\"exercise.teamMode && participationStatusWrapper() !== ParticipationStatus.NO_TEAM_ASSIGNED\"\n+            [smallButton]=\"smallButtons\"\n+            [hideLabelMobile]=\"true\"\n+            [routerLink]=\"['/course-management', courseId, 'exercises', exercise.id, 'teams', assignedTeamId]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzgzOTk5", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382383999", "createdAt": "2020-03-26T20:19:39Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOTo0MFrOF8Y0Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOTo0MFrOF8Y0Ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2NTQ5MA==", "bodyText": "Normal users should not be able to navigate to course-management URLs.\nCan we offer the same page also on a different based on courses/:courseId/exercises/...", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398865490", "createdAt": "2020-03-26T20:19:40Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.html", "diffHunk": "@@ -318,6 +346,15 @@\n <div *ngIf=\"exercise.type === ExerciseType.FILE_UPLOAD\">\n     <!-- ACTIONS START -->\n     <div class=\"btn-group\">\n+        <button\n+            jhi-exercise-action-button\n+            buttonIcon=\"users\"\n+            [buttonLabel]=\"'artemisApp.exerciseActions.viewTeam' | translate\"\n+            *ngIf=\"exercise.teamMode && participationStatusWrapper() !== ParticipationStatus.NO_TEAM_ASSIGNED\"\n+            [smallButton]=\"smallButtons\"\n+            [hideLabelMobile]=\"true\"\n+            [routerLink]=\"['/course-management', courseId, 'exercises', exercise.id, 'teams', assignedTeamId]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 60}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzg3MTYy", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382387162", "createdAt": "2020-03-26T20:24:08Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoyNDowOFrOF8Y-EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoyNDowOFrOF8Y-EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2Nzk4NA==", "bodyText": "rename username to participantIdentifier", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398867984", "createdAt": "2020-03-26T20:24:08Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -497,7 +505,7 @@ private ProgrammingExerciseStudentParticipation copyBuildPlan(ProgrammingExercis\n         if (!participation.getInitializationState().hasCompletedState(InitializationState.BUILD_PLAN_COPIED) || participation.getBuildPlanId() == null) {\n             final var projectKey = participation.getProgrammingExercise().getProjectKey();\n             final var planName = BuildPlanType.TEMPLATE.getName();\n-            final var username = participation.getStudent().getLogin();\n+            final var username = participation.getParticipantIdentifier();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 130}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzg5MDEz", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382389013", "createdAt": "2020-03-26T20:26:48Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoyNjo0OFrOF8ZDuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoyNjo0OFrOF8ZDuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2OTQzMg==", "bodyText": "please add a log.info(..) statement here so that we could potentially track this in the log", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398869432", "createdAt": "2020-03-26T20:26:48Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -935,6 +1001,22 @@ public void deleteAllByExerciseId(Long exerciseId, boolean deleteBuildPlan, bool\n         }\n     }\n \n+    /**\n+     * Delete all participations belonging to the given team\n+     *\n+     * @param teamId the id of the team\n+     * @param deleteBuildPlan specify if build plan should be deleted\n+     * @param deleteRepository specify if repository should be deleted\n+     */\n+    @Transactional\n+    public void deleteAllByTeamId(Long teamId, boolean deleteBuildPlan, boolean deleteRepository) {\n+        List<StudentParticipation> participationsToDelete = findByTeamId(teamId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 288}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzkwMTQ2", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382390146", "createdAt": "2020-03-26T20:28:23Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9daf6b1c71b6dc85998dd33d2eb17635c1787f5", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/b9daf6b1c71b6dc85998dd33d2eb17635c1787f5", "committedDate": "2020-03-29T09:54:38Z", "message": "Rename studentId to participantIdentifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "441425f14d1544201cfc1f683d2ef3754fba43c6", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/441425f14d1544201cfc1f683d2ef3754fba43c6", "committedDate": "2020-03-29T09:55:06Z", "message": "Merge remote-tracking branch 'origin/feature/team-based-exercises/programming-exercises' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1d803f7c7f0d784f6f872c545c871c08246ea34", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d1d803f7c7f0d784f6f872c545c871c08246ea34", "committedDate": "2020-03-29T09:57:18Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises\n\n# Conflicts:\n#\tsrc/main/webapp/app/shared/data-table/data-table.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe5db7d684bd85548156b98d3363c9503927cfd5", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/fe5db7d684bd85548156b98d3363c9503927cfd5", "committedDate": "2020-03-29T09:59:24Z", "message": "Update comment to mention teams as well"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cb3e7310903e51ecc076177b8994376a202a214", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4cb3e7310903e51ecc076177b8994376a202a214", "committedDate": "2020-03-29T10:02:11Z", "message": "Rename username to participantIdentifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5af944e527362e217688827ec157660ee5b435f8", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/5af944e527362e217688827ec157660ee5b435f8", "committedDate": "2020-03-29T10:04:04Z", "message": "Add info log when deleting all participations of team"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0feef0bd7fb848bb7d631fedfde34d67a682f4c3", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/0feef0bd7fb848bb7d631fedfde34d67a682f4c3", "committedDate": "2020-03-29T10:10:22Z", "message": "Move teams route for students to /courses instead of /course-management"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8cc5bd653904d58367f6df9099727b58975e838", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d8cc5bd653904d58367f6df9099727b58975e838", "committedDate": "2020-03-29T10:37:24Z", "message": "Add missing module import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "066c102a5b4d1da352388fbe87e92b88f4736441", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/066c102a5b4d1da352388fbe87e92b88f4736441", "committedDate": "2020-03-29T11:16:38Z", "message": "Avoid traditional for-loop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "574a9a7f3493c633d888742988acfa1a12df6932", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/574a9a7f3493c633d888742988acfa1a12df6932", "committedDate": "2020-03-29T12:34:03Z", "message": "Repo export for student logins or team short names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "759bebec12b4269dc58ac0ee490c1c31bc524a9f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/759bebec12b4269dc58ac0ee490c1c31bc524a9f", "committedDate": "2020-03-29T13:13:34Z", "message": "Improve translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "278691efd6ed0cd0035c14ea7eba4afa817e65d3", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/278691efd6ed0cd0035c14ea7eba4afa817e65d3", "committedDate": "2020-03-29T13:39:21Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDE0MjA2", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-383414206", "createdAt": "2020-03-29T13:55:36Z", "commit": {"oid": "278691efd6ed0cd0035c14ea7eba4afa817e65d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1bc250641f151e112d109e98da889debf8b9372", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/f1bc250641f151e112d109e98da889debf8b9372", "committedDate": "2020-02-24T20:52:40Z", "message": "Generalize from student to participant on StudentParticipation (WIP)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1a71f496551ad205309361cecad1c581edb7142", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/b1a71f496551ad205309361cecad1c581edb7142", "committedDate": "2020-02-24T22:09:26Z", "message": "Generalize from student to participant on StudentParticipation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b709d259efa331f05d714dc7b1281af8da26c3e", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/0b709d259efa331f05d714dc7b1281af8da26c3e", "committedDate": "2020-02-24T22:56:19Z", "message": "Refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "268d5351fac2a50e5383d89c6badb78110b55006", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/268d5351fac2a50e5383d89c6badb78110b55006", "committedDate": "2020-02-24T23:42:39Z", "message": "Start exercises as team exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc5d8413dd0c1949f56d989832cabb386542a997", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/cc5d8413dd0c1949f56d989832cabb386542a997", "committedDate": "2020-02-25T00:04:43Z", "message": "\"Start team exercise\" in button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffb3ed1a7e3707231b8191a0115d4243584054ac", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/ffb3ed1a7e3707231b8191a0115d4243584054ac", "committedDate": "2020-02-25T00:12:16Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb3246b5f35f64728638b08677d4ef90f8800ed2", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/fb3246b5f35f64728638b08677d4ef90f8800ed2", "committedDate": "2020-02-25T00:17:35Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a7ae0eeaea74ccd7701ddfe45a4c49959643a10", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/1a7ae0eeaea74ccd7701ddfe45a4c49959643a10", "committedDate": "2020-02-25T00:20:31Z", "message": "Translation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2d6bcb9b45cae4494e78ebb61bf7095715f5e6f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/a2d6bcb9b45cae4494e78ebb61bf7095715f5e6f", "committedDate": "2020-03-10T10:13:31Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises\n\n# Conflicts:\n#\tsrc/main/java/de/tum/in/www1/artemis/domain/participation/StudentParticipation.java\n#\tsrc/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14229e77330515535d907b80510e5b7514f59da9", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/14229e77330515535d907b80510e5b7514f59da9", "committedDate": "2020-03-10T09:21:15Z", "message": "Adapt test to getParticipantIdentifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55ea0d4090c032e379ca799610a08c5e8361405f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/55ea0d4090c032e379ca799610a08c5e8361405f", "committedDate": "2020-03-10T10:18:32Z", "message": "Code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d955882d0ace07b1ad02b566081d015d3fb8cfa", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/7d955882d0ace07b1ad02b566081d015d3fb8cfa", "committedDate": "2020-03-10T12:57:44Z", "message": "Adapt test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f61f7f75afb628c23d91adf227ee5f95c56f3132", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/f61f7f75afb628c23d91adf227ee5f95c56f3132", "committedDate": "2020-03-10T12:59:53Z", "message": "Prefer orElseGet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39f04c2ab8a922175f310d8778d7ce9f4948c750", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/39f04c2ab8a922175f310d8778d7ce9f4948c750", "committedDate": "2020-03-10T14:05:15Z", "message": "isEmpty instead of isNull due to Optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45dc3a25d6bad2b1520d57f02f3acfb0b1592ca8", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/45dc3a25d6bad2b1520d57f02f3acfb0b1592ca8", "committedDate": "2020-03-10T14:13:47Z", "message": "isEmpty instead of isNull due to Optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd97a89e5eb22a59d753aa78dc9ea0285849f21f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/fd97a89e5eb22a59d753aa78dc9ea0285849f21f", "committedDate": "2020-03-10T14:14:45Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82200d263230ac6d12383774436bae65c658d07f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/82200d263230ac6d12383774436bae65c658d07f", "committedDate": "2020-03-13T18:06:21Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0e087a869189e792a8885290979866f52ca00e1", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/f0e087a869189e792a8885290979866f52ca00e1", "committedDate": "2020-03-13T18:51:18Z", "message": "Load team students with student participation when auth check needs it to prove participation ownership"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edf16e6c9000bdd0cbd90af16002c9654e3d23ac", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/edf16e6c9000bdd0cbd90af16002c9654e3d23ac", "committedDate": "2020-03-13T21:20:50Z", "message": "- adapt StudentParticipationRepository to find team participations\n- fix broken routes to /exercises/:exerciseId/teams for file upload and text\n- handle team instead of student for studentParticipation in participation component and service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62d1ece42b2d0b09639c0595d7fad270b07f8062", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/62d1ece42b2d0b09639c0595d7fad270b07f8062", "committedDate": "2020-03-14T13:59:19Z", "message": "Keep team queries explicit in StudentParticipationRepository and use them in ParticipationService (avoids fetching teams and students for non-team based exercises)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90d6c2e822c1189d04dc87d278f75931bb8b5b16", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/90d6c2e822c1189d04dc87d278f75931bb8b5b16", "committedDate": "2020-03-14T14:08:25Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bbc165fb5e447f9d5dce595822df34c74b867be", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/9bbc165fb5e447f9d5dce595822df34c74b867be", "committedDate": "2020-03-14T15:11:44Z", "message": "Handle \"Not yet assigned to team\" participation status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "850490d31935f1681e36f9ab9e32db88ebbe1af4", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/850490d31935f1681e36f9ab9e32db88ebbe1af4", "committedDate": "2020-03-14T15:13:53Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eac8faefef3e7c23aaa3e8e6c2a9b75ca6c80c7c", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/eac8faefef3e7c23aaa3e8e6c2a9b75ca6c80c7c", "committedDate": "2020-03-14T16:00:19Z", "message": "Do not allow exercise mode change after creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a852c7ac19be08089c933a47abc47b9f672ca44", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/7a852c7ac19be08089c933a47abc47b9f672ca44", "committedDate": "2020-03-14T16:52:35Z", "message": "UI improvements of team management"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9e43db120d437075d8801ed8561649e04b542b5", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/c9e43db120d437075d8801ed8561649e04b542b5", "committedDate": "2020-03-14T17:02:19Z", "message": "Link students in team member list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "841c9dacb82e321d0ec632d6111c36f471e39fee", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/841c9dacb82e321d0ec632d6111c36f471e39fee", "committedDate": "2020-03-14T19:03:18Z", "message": "Search for teams by their students + generalize participations page for team exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "641a14e293f2be9d1dd5f79021b027c3db357405", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/641a14e293f2be9d1dd5f79021b027c3db357405", "committedDate": "2020-03-14T19:27:21Z", "message": "Team students list component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "638df6993182e7f20bba228ba31f064ec43dd750", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/638df6993182e7f20bba228ba31f064ec43dd750", "committedDate": "2020-03-14T19:39:26Z", "message": "Styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69a0d67055d5522d9bcf2f967d65608068c2e631", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/69a0d67055d5522d9bcf2f967d65608068c2e631", "committedDate": "2020-03-14T20:27:13Z", "message": "Exercise scores for teams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da015a4cb9119d973d6f8b84d29213dae0b04cba", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/da015a4cb9119d973d6f8b84d29213dae0b04cba", "committedDate": "2020-03-14T20:57:48Z", "message": "Submissions for teams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36cc0d22164f100b1a7177448f7b42e6eedd564f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/36cc0d22164f100b1a7177448f7b42e6eedd564f", "committedDate": "2020-03-14T21:12:43Z", "message": "Team should always return students, even if empty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce706d1aceb63aee25c7df22f7d9611bec02e8bb", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/ce706d1aceb63aee25c7df22f7d9611bec02e8bb", "committedDate": "2020-03-14T21:42:48Z", "message": "Assessment dashboards + score calculation for teams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae1e575ef9c81584cc896e28ec602f6a3330e393", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/ae1e575ef9c81584cc896e28ec602f6a3330e393", "committedDate": "2020-03-14T21:46:28Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a49210a3abe8caf413951434066e30c5aed4ef6e", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/a49210a3abe8caf413951434066e30c5aed4ef6e", "committedDate": "2020-03-14T21:58:32Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f9e093cabc35570aaec4c9023ffe42d8b519c04", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/7f9e093cabc35570aaec4c9023ffe42d8b519c04", "committedDate": "2020-03-15T15:39:30Z", "message": "Add team detail view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83ef9d1bfa1417bd097289c31944d7eca888bfa1", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/83ef9d1bfa1417bd097289c31944d7eca888bfa1", "committedDate": "2020-03-15T16:03:17Z", "message": "Add id column to teams table + add update team button on team detail page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50e9b9747259bc0beeed1f4aae494d6daf09edff", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/50e9b9747259bc0beeed1f4aae494d6daf09edff", "committedDate": "2020-03-15T16:53:24Z", "message": "Edit and delete team from team detail view + delete confirm modals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d8b48beea5a6189022a3a76bc2f56878de6930c", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4d8b48beea5a6189022a3a76bc2f56878de6930c", "committedDate": "2020-03-15T17:40:38Z", "message": "Add mode to exercise detail pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e2c4cdc30fafdfc011fa5d69eb9f8e0123f1b61", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4e2c4cdc30fafdfc011fa5d69eb9f8e0123f1b61", "committedDate": "2020-03-15T17:55:53Z", "message": "Do not show loading animation for team button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e753cc69268ac644f324851ccc539dbdca896ed", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/6e753cc69268ac644f324851ccc539dbdca896ed", "committedDate": "2020-03-15T18:03:41Z", "message": "If there are already participations, the student must be part of a team already"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a984cae2a67697264e52aa47cfc865bf459f6169", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/a984cae2a67697264e52aa47cfc865bf459f6169", "committedDate": "2020-03-15T18:29:13Z", "message": "Link to teams from participations table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b89839b0878dc6bbb61bbf995805be05fa85de7", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/3b89839b0878dc6bbb61bbf995805be05fa85de7", "committedDate": "2020-03-15T19:20:57Z", "message": "Fix repository url for team based participations in frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de04f9218b4952223856aaf8b820107f1910902e", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/de04f9218b4952223856aaf8b820107f1910902e", "committedDate": "2020-03-15T19:54:26Z", "message": "Link name and login/short name to respective pages + adapt exercise score exports for teams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b47d4c0e6584a3c8452ccbcdaad0f447ad71d050", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/b47d4c0e6584a3c8452ccbcdaad0f447ad71d050", "committedDate": "2020-03-15T20:03:09Z", "message": "Switch name and shortName position"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4ffad194dd6df8a2f185a1efce1a25ec6cfcccf", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/e4ffad194dd6df8a2f185a1efce1a25ec6cfcccf", "committedDate": "2020-03-15T20:46:27Z", "message": "Fix column widths in participation.component.html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "733150af553456ba9f7bf91aa52b898fbdba6a5e", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/733150af553456ba9f7bf91aa52b898fbdba6a5e", "committedDate": "2020-03-15T23:11:04Z", "message": "AssignedTeamId when a participation is available"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "350b1537c0c595f1db16dbdf53852726df0ef355", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/350b1537c0c595f1db16dbdf53852726df0ef355", "committedDate": "2020-03-15T23:44:36Z", "message": "Fix deleting teams with participations + only allow instructors to delete teams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbae58a157e686e2aab3f0fe1e7647dd510000b1", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/dbae58a157e686e2aab3f0fe1e7647dd510000b1", "committedDate": "2020-03-16T00:39:45Z", "message": "Adapt repo permissions when changing team members"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7adfe6b829ec13c55e248f140d9a590bf57fed3", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/e7adfe6b829ec13c55e248f140d9a590bf57fed3", "committedDate": "2020-03-16T00:51:28Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5722b321ff198088ae96cc54257b2dedd0a3682", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/e5722b321ff198088ae96cc54257b2dedd0a3682", "committedDate": "2020-03-17T11:10:37Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises\n\n# Conflicts:\n#\tsrc/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java\n#\tsrc/main/java/de/tum/in/www1/artemis/service/connectors/gitlab/GitLabService.java\n#\tsrc/test/java/de/tum/in/www1/artemis/TextAssessmentIntegrationTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4a012038c34eb91afd0fa757114c1084ee7dc89d", "committedDate": "2020-03-17T11:41:20Z", "message": "Fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MjY0NDY0", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-376264464", "createdAt": "2020-03-17T17:43:10Z", "commit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "state": "COMMENTED", "comments": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNzo0MzoxMFrOF3nM5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QyMDowODowMlrOF3sJSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg1ODI3Nw==", "bodyText": "Should this be handled in this PR?", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393858277", "createdAt": "2020-03-17T17:43:10Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ComplaintService.java", "diffHunk": "@@ -53,7 +53,7 @@ public Complaint createComplaint(Complaint complaint, Principal principal) {\n         Result originalResult = resultRepository.findByIdWithEagerFeedbacksAndAssessor(complaint.getResult().getId())\n                 .orElseThrow(() -> new BadRequestAlertException(\"The result you are referring to does not exist\", ENTITY_NAME, \"resultnotfound\"));\n         StudentParticipation studentParticipation = (StudentParticipation) originalResult.getParticipation();\n-        User student = studentParticipation.getStudent();\n+        User student = studentParticipation.getStudent().get(); // TODO: adapt for teams", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwMTEwOQ==", "bodyText": "I find this method name now misleading: It pretends to use a exercise id (as it did before), but uses an Exercise object now.\nPlease rename it e.g. to findOneByExerciseAndStudentLoginWithEagerSubmissionsAnyState", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393901109", "createdAt": "2020-03-17T18:54:41Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -648,37 +652,80 @@ public StudentParticipation findOneWithEagerSubmissionsAndResults(Long participa\n     /**\n      * Get one participation (in any state) by its student and exercise.\n      *\n-     * @param exerciseId the project key of the exercise\n-     * @param username   the username of the student\n+     * @param exercise the exercise for which to find a participation\n+     * @param username the username of the student\n      * @return the participation of the given student and exercise in any state\n      */\n-    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginAnyState(Long exerciseId, String username) {\n-        log.debug(\"Request to get Participation for User {} for Exercise with id: {}\", username, exerciseId);\n-        return studentParticipationRepository.findByExerciseIdAndStudentLogin(exerciseId, username);\n+    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginAnyState(Exercise exercise, String username) {\n+        log.debug(\"Request to get Participation for User {} for Exercise with id: {}\", username, exercise.getId());\n+        if (exercise.isTeamMode()) {\n+            Optional<Team> optionalTeam = teamRepository.findOneByExerciseIdAndUserLogin(exercise.getId(), username);\n+            return optionalTeam.flatMap(team -> studentParticipationRepository.findByExerciseIdAndTeamId(exercise.getId(), team.getId()));\n+        }\n+        return studentParticipationRepository.findByExerciseIdAndStudentLogin(exercise.getId(), username);\n+    }\n+\n+    /**\n+     * Get one participation (in any state) by its team and exercise.\n+     *\n+     * @param exercise the exercise for which to find a participation\n+     * @param teamId the id of the team\n+     * @return the participation of the given team and exercise in any state\n+     */\n+    public Optional<StudentParticipation> findOneByExerciseIdAndTeamIdAnyState(Exercise exercise, Long teamId) {\n+        log.debug(\"Request to get Participation for Team with id {} for Exercise with id: {}\", teamId, exercise.getId());\n+        return studentParticipationRepository.findByExerciseIdAndTeamId(exercise.getId(), teamId);\n+    }\n+\n+    /**\n+     * Get one participation (in any state) by its participant and exercise.\n+     *\n+     * @param exercise the exercise for which to find a participation\n+     * @param participant the short name of the team\n+     * @return the participation of the given team and exercise in any state\n+     */\n+    public Optional<StudentParticipation> findOneByExerciseIdAndParticipantAnyState(Exercise exercise, Participant participant) {\n+        if (participant instanceof User) {\n+            return findOneByExerciseIdAndStudentLoginAnyState(exercise, ((User) participant).getLogin());\n+        }\n+        else if (participant instanceof Team) {\n+            return findOneByExerciseIdAndTeamIdAnyState(exercise, ((Team) participant).getId());\n+        }\n+        else {\n+            throw new Error(\"Unknown Participant type\");\n+        }\n     }\n \n     /**\n      * Get one participation (in any state) by its student and exercise with all its results.\n      *\n-     * @param exerciseId the project key of the exercise\n+     * @param exercise the exercise for which to find a participation\n      * @param username   the username of the student\n      * @return the participation of the given student and exercise in any state\n      */\n-    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(Long exerciseId, String username) {\n-        log.debug(\"Request to get Participation for User {} for Exercise with id: {}\", username, exerciseId);\n-        return studentParticipationRepository.findWithEagerResultsByExerciseIdAndStudentLogin(exerciseId, username);\n+    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(Exercise exercise, String username) {\n+        log.debug(\"Request to get Participation for User {} for Exercise with id: {}\", username, exercise.getId());\n+        if (exercise.isTeamMode()) {\n+            Optional<Team> optionalTeam = teamRepository.findOneByExerciseIdAndUserLogin(exercise.getId(), username);\n+            return optionalTeam.flatMap(team -> studentParticipationRepository.findWithEagerResultsByExerciseIdAndTeamId(exercise.getId(), team.getId()));\n+        }\n+        return studentParticipationRepository.findWithEagerResultsByExerciseIdAndStudentLogin(exercise.getId(), username);\n     }\n \n     /**\n      * Get one participation (in any state) by its student and exercise with eager submissions.\n      *\n-     * @param exerciseId the project key of the exercise\n+     * @param exercise the exercise for which to find a participation\n      * @param username   the username of the student\n      * @return the participation of the given student and exercise with eager submissions in any state\n      */\n-    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginWithEagerSubmissionsAnyState(Long exerciseId, String username) {\n-        log.debug(\"Request to get Participation for User {} for Exercise with id: {}\", username, exerciseId);\n-        return studentParticipationRepository.findWithEagerSubmissionsByExerciseIdAndStudentLogin(exerciseId, username);\n+    public Optional<StudentParticipation> findOneByExerciseIdAndStudentLoginWithEagerSubmissionsAnyState(Exercise exercise, String username) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 209}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwMjg4OA==", "bodyText": "I find this method name now misleading: It pretends to use a exercise id (as it did before), but uses an Exercise object now.\nSame as above.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393902888", "createdAt": "2020-03-17T18:57:50Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -735,12 +792,17 @@ public StudentParticipation findOneWithEagerSubmissionsAndResults(Long participa\n     /**\n      * Get all programming exercise participations belonging to exercise and student with eager results and submissions.\n      *\n-     * @param exerciseId the id of exercise\n+     * @param exercise  the exercise\n      * @param studentId the id of student\n      * @return the list of programming exercise participations belonging to exercise and student\n      */\n-    public List<StudentParticipation> findByExerciseIdAndStudentIdWithEagerResultsAndSubmissions(Long exerciseId, Long studentId) {\n-        return studentParticipationRepository.findByExerciseIdAndStudentIdWithEagerResultsAndSubmissions(exerciseId, studentId);\n+    public List<StudentParticipation> findByExerciseIdAndStudentIdWithEagerResultsAndSubmissions(Exercise exercise, Long studentId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 247}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwMzcyMg==", "bodyText": "Usage of misleading method, see ParticipationService.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393903722", "createdAt": "2020-03-17T18:59:24Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ModelingSubmissionService.java", "diffHunk": "@@ -187,8 +187,7 @@ public ModelingSubmission lockModelingSubmissionWithoutResult(ModelingExercise m\n      * @return the saved modelingSubmission entity\n      */\n     public ModelingSubmission save(ModelingSubmission modelingSubmission, ModelingExercise modelingExercise, String username) {\n-        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginWithEagerSubmissionsAnyState(modelingExercise.getId(),\n-                username);\n+        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginWithEagerSubmissionsAnyState(modelingExercise, username);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwMzc5NQ==", "bodyText": "Usage of misleading method, see ParticipationService.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393903795", "createdAt": "2020-03-17T18:59:31Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/FileUploadSubmissionService.java", "diffHunk": "@@ -70,7 +70,7 @@ public FileUploadSubmissionService(FileUploadSubmissionRepository fileUploadSubm\n     @Transactional\n     public FileUploadSubmission handleFileUploadSubmission(FileUploadSubmission fileUploadSubmission, MultipartFile file, FileUploadExercise fileUploadExercise,\n             Principal principal) throws IOException, EmptyFileException {\n-        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyState(fileUploadExercise.getId(), principal.getName());\n+        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyState(fileUploadExercise, principal.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwNjkyNA==", "bodyText": "Usage of misleading method, see ParticipationService.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393906924", "createdAt": "2020-03-17T19:05:32Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ResultResource.java", "diffHunk": "@@ -553,7 +553,7 @@ else if (participation instanceof ProgrammingExerciseParticipation) {\n         }\n \n         // Check if a result exists already for this exercise and student. If so, do nothing and just inform the instructor.\n-        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(exerciseId, studentLogin);\n+        Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(exercise, studentLogin);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwODAwOA==", "bodyText": "Usage of misleading method, see ParticipationService.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393908008", "createdAt": "2020-03-17T19:07:40Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ExerciseResource.java", "diffHunk": "@@ -306,7 +306,7 @@ private StatsForInstructorDashboardDTO populateCommonStatistics(Exercise exercis\n         }\n \n         if (exercise != null) {\n-            List<StudentParticipation> participations = participationService.findByExerciseIdAndStudentIdWithEagerResultsAndSubmissions(exercise.getId(), user.getId());\n+            List<StudentParticipation> participations = participationService.findByExerciseIdAndStudentIdWithEagerResultsAndSubmissions(exercise, user.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkxMTAxNQ==", "bodyText": "Is it possible that a team has no members when this is called (e.g. all team members are removed for some reason?)?\nThis would cause an error here, but I don't know if that's a problem or if this is not possible.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393911015", "createdAt": "2020-03-17T19:13:35Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/GitService.java", "diffHunk": "@@ -469,7 +469,7 @@ public void combineAllStudentCommits(Repository repository, ProgrammingExercise\n \n             studentGit.reset().setMode(ResetCommand.ResetType.SOFT).setRef(latestHash.getName()).call();\n             studentGit.add().addFilepattern(\".\").call();\n-            var student = ((StudentParticipation) repository.getParticipation()).getStudent();\n+            var student = ((StudentParticipation) repository.getParticipation()).getStudents().iterator().next();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkxNTcyOQ==", "bodyText": "I would assume this is fine for the log, but maybe @krusche should decide that.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393915729", "createdAt": "2020-03-17T19:22:58Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseExportService.java", "diffHunk": "@@ -87,8 +87,9 @@ public File exportStudentRepositories(long programmingExerciseId, @NotNull List<\n             log.info(\"Request to export all student repositories of programming exercise \" + programmingExerciseId + \" with title '\" + programmingExercise.getTitle() + \"'\");\n         }\n         else {\n+            // TODO: Is this the expected behavior for teams? Or should all team members be listed instead?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkxNjIzNA==", "bodyText": "I find this method name now misleading: It pretends to use a exercise id (as it did before), but uses an Exercise object now.\nSame as in ParticipationService.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393916234", "createdAt": "2020-03-17T19:23:51Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseParticipationService.java", "diffHunk": "@@ -104,17 +106,24 @@ public TemplateProgrammingExerciseParticipation findTemplateParticipationByProgr\n     /**\n      * Tries to retrieve a student participation for the given exercise id and username.\n      *\n-     * @param exerciseId id of the exercise.\n+     * @param exercise the exercise for which to find a participation\n      * @param username of the user to which the participation belongs.\n      * @return the participation for the given exercise and user.\n      * @throws EntityNotFoundException if there is no participation for the given exercise and user.\n      */\n     @Transactional(readOnly = true)\n     @NotNull\n-    public ProgrammingExerciseStudentParticipation findStudentParticipationByExerciseIdAndStudentId(Long exerciseId, String username) throws EntityNotFoundException {\n-        Optional<ProgrammingExerciseStudentParticipation> participation = studentParticipationRepository.findByExerciseIdAndStudentLogin(exerciseId, username);\n+    public ProgrammingExerciseStudentParticipation findStudentParticipationByExerciseIdAndStudentId(Exercise exercise, String username) throws EntityNotFoundException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkxNzk5Mw==", "bodyText": "Usage of misleading method.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393917993", "createdAt": "2020-03-17T19:27:13Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/TextSubmissionService.java", "diffHunk": "@@ -72,7 +72,7 @@ public TextSubmissionService(TextSubmissionRepository textSubmissionRepository,\n     public TextSubmission handleTextSubmission(TextSubmission textSubmission, TextExercise textExercise, Principal principal) {\n         // Don't allow submissions after the due date (except if the exercise was started after the due date)\n         final var dueDate = textExercise.getDueDate();\n-        final var optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyState(textExercise.getId(), principal.getName());\n+        final var optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyState(textExercise, principal.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkyMzc2Ng==", "bodyText": "I don't know if I understand this correctly:\nThis field can have several values for the same Exercise depending on what user is interacting with the Exercise, correct?", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393923766", "createdAt": "2020-03-17T19:38:24Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Exercise.java", "diffHunk": "@@ -172,6 +172,9 @@\n     @Transient\n     private Long numberOfOpenMoreFeedbackRequestsTransient;\n \n+    @Transient\n+    private Long studentAssignedTeamIdTransient; // id of the team that the logged-in user is assigned to (only relevant if team mode is enabled)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkyNDI2Mg==", "bodyText": "See comment of the field in the class Exercise.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393924262", "createdAt": "2020-03-17T19:39:25Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -123,9 +126,15 @@ else if (authCheckService.isStudentInCourse(course, user)) {\n             exercises = exercises.stream().filter(Exercise::isVisibleToStudents).collect(Collectors.toList());\n         }\n \n-        // filter out questions and all statistical information about the quizPointStatistic from quizExercises (so users can't see which answer options are correct)\n         if (exercises != null) {\n             for (Exercise exercise : exercises) {\n+                // for team-based exercises: add the team that the user has been assigned to onto the exercise\n+                if (exercise.isTeamMode()) {\n+                    teamService.findOneByExerciseAndUser(exercise, user).ifPresent(team -> {\n+                        exercise.setStudentAssignedTeamId(team.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkyNTA2Mw==", "bodyText": "This behaviour will be changed in a future PR, right?", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393925063", "createdAt": "2020-03-17T19:40:56Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/BitbucketService.java", "diffHunk": "@@ -79,36 +79,50 @@ public BitbucketService(UserService userService, @Qualifier(\"bitbucketRestTempla\n     }\n \n     @Override\n-    public void configureRepository(URL repositoryUrl, String username) {\n-        if (username.startsWith(USER_PREFIX_EDX) || username.startsWith((USER_PREFIX_U4I))) {\n-            // It is an automatically created user\n+    public void configureRepository(URL repositoryUrl, Set<User> users) {\n+        for (User user : users) {\n+            String username = user.getLogin();\n \n-            User user = userService.getUserWithGroupsByLogin(username).get();\n+            if (username.startsWith(USER_PREFIX_EDX) || username.startsWith((USER_PREFIX_U4I))) {\n+                // It is an automatically created user\n \n-            if (!userExists(username)) {\n-                log.debug(\"Bitbucket user {} does not exist yet\", username);\n-                String displayName = (user.getFirstName() + \" \" + user.getLastName()).trim();\n-                createUser(username, userService.decryptPasswordByLogin(username).get(), user.getEmail(), displayName);\n+                if (!userExists(username)) {\n+                    log.debug(\"Bitbucket user {} does not exist yet\", username);\n+                    String displayName = (user.getFirstName() + \" \" + user.getLastName()).trim();\n+                    createUser(username, userService.decryptPasswordByLogin(username).get(), user.getEmail(), displayName);\n \n-                try {\n-                    addUserToGroups(username, user.getGroups());\n+                    try {\n+                        addUserToGroups(username, user.getGroups());\n+                    }\n+                    catch (BitbucketException e) {\n+                        /*\n+                         * This might throw exceptions, for example if the group does not exist on Bitbucket. We can safely ignore them.\n+                         */\n+                    }\n                 }\n-                catch (BitbucketException e) {\n-                    /*\n-                     * This might throw exceptions, for example if the group does not exist on Bitbucket. We can safely ignore them.\n-                     */\n+                else {\n+                    log.debug(\"Bitbucket user {} already exists\", username);\n                 }\n-            }\n-            else {\n-                log.debug(\"Bitbucket user {} already exists\", username);\n+\n             }\n \n+            addMemberToRepository(repositoryUrl, user);\n         }\n \n-        giveWritePermission(getProjectKeyFromUrl(repositoryUrl), getRepositorySlugFromUrl(repositoryUrl), username);\n         protectBranches(getProjectKeyFromUrl(repositoryUrl), getRepositorySlugFromUrl(repositoryUrl));\n     }\n \n+    @Override\n+    public void addMemberToRepository(URL repositoryUrl, User user) {\n+        giveWritePermission(getProjectKeyFromUrl(repositoryUrl), getRepositorySlugFromUrl(repositoryUrl), user.getLogin());\n+    }\n+\n+    @Override\n+    public void removeMemberFromRepository(URL repositoryUrl, User user) {\n+        // TODO: Instead of reducing the permissions to readOnly, the user should be removed from the repo entirely", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkyNzY4NA==", "bodyText": "Usage of misleading method.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393927684", "createdAt": "2020-03-17T19:46:05Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ParticipationResource.java", "diffHunk": "@@ -430,7 +438,7 @@ public ResponseEntity getParticipationBuildArtifact(@PathVariable Long participa\n             response = participationForQuizExercise((QuizExercise) exercise, principal.getName());\n         }\n         else {\n-            Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(exerciseId, principal.getName());\n+            Optional<StudentParticipation> optionalParticipation = participationService.findOneByExerciseIdAndStudentLoginAnyStateWithEagerResults(exercise, principal.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkzODc1NA==", "bodyText": "Maybe we find a different translation here (maybe without two oder), but this is really minor.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393938754", "createdAt": "2020-03-17T20:06:56Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/i18n/de/exercise.json", "diffHunk": "@@ -10,12 +10,12 @@\n             \"resultsPerPage\": \"{{number}} Ergebnisse pro Seite\",\n             \"showAllResults\": \"Zeige alle Ergebnisse\",\n             \"searchForStudents\": \"Suche nach Studenten Logins oder Namen (Komma getrennt)\",\n-            \"searchForTeams\": \"Suche nach Team Namen (Komma getrennt)\",\n+            \"searchForTeams\": \"Suche nach Team (Kurz-)Namen oder nach Studenten Logins oder Namen (Komma getrennt)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkzODk4NA==", "bodyText": "Is it important to state that it's the short name of the team?", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393938984", "createdAt": "2020-03-17T20:07:25Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/i18n/de/exercise.json", "diffHunk": "@@ -69,6 +69,8 @@\n             \"startError\": \"<strong>Uh oh! Etwas ist schief gelaufen... Bitte versuch es in wenigen Minuten noch einmal die Aufgabe zu starten.</strong>\",\n             \"studentName\": \"Name\",\n             \"studentId\": \"Login\",\n+            \"teamName\": \"Team Name\",\n+            \"teamShortName\": \"Kurzname\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkzOTIyMQ==", "bodyText": "Same as in German.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393939221", "createdAt": "2020-03-17T20:07:56Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/i18n/en/exercise.json", "diffHunk": "@@ -10,7 +10,7 @@\n             \"resultsPerPage\": \"{{number}} results per page\",\n             \"showAllResults\": \"Show all results\",\n             \"searchForStudents\": \"Search for students by login or name (comma separated)\",\n-            \"searchForTeams\": \"Search for teams by name (comma separated)\",\n+            \"searchForTeams\": \"Search for teams by (short) name or for students by login or name (comma separated)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkzOTI3NA==", "bodyText": "Same as in German.", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r393939274", "createdAt": "2020-03-17T20:08:02Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/i18n/en/exercise.json", "diffHunk": "@@ -69,6 +69,8 @@\n             \"startError\": \"<strong>Uh oh! Something went wrong... Please try again to start the exercise in a few minutes.</strong>\",\n             \"studentName\": \"Name\",\n             \"studentId\": \"Login\",\n+            \"teamName\": \"Team Name\",\n+            \"teamShortName\": \"Short Name\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a012038c34eb91afd0fa757114c1084ee7dc89d"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87a090d0f77a89dfe889b822d5152efcdafe2f35", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/87a090d0f77a89dfe889b822d5152efcdafe2f35", "committedDate": "2020-03-17T21:07:03Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises\n\n# Conflicts:\n#\tsrc/main/webapp/app/entities/exercise.model.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8e7d314e34b4061eb570cc9aeb3f6babe9df612", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/c8e7d314e34b4061eb570cc9aeb3f6babe9df612", "committedDate": "2020-03-17T21:17:58Z", "message": "Rename methods according to first argument from ExerciseId to Exercise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "233ea517bf7a5bbe563f45ae1bf0932f05a1c811", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/233ea517bf7a5bbe563f45ae1bf0932f05a1c811", "committedDate": "2020-03-17T21:56:51Z", "message": "Get rid of two \"or\"s"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8361812c18d9695ca368618243e02dee306638c8", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/8361812c18d9695ca368618243e02dee306638c8", "committedDate": "2020-03-18T16:53:45Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a6f9c413495a2ff742a8c5a815ca64677953cf5", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/2a6f9c413495a2ff742a8c5a815ca64677953cf5", "committedDate": "2020-03-18T19:00:30Z", "message": "Set transient attribute for exercise details request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "616b14ae288148c039ce413380ec97e4393677cb", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/616b14ae288148c039ce413380ec97e4393677cb", "committedDate": "2020-03-18T19:04:15Z", "message": "Fix JavaDoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3Njk4Mjc1", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-377698275", "createdAt": "2020-03-19T13:05:29Z", "commit": {"oid": "616b14ae288148c039ce413380ec97e4393677cb"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3650ecfac4cd037d8cee726af487caa5c6bebd90", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/3650ecfac4cd037d8cee726af487caa5c6bebd90", "committedDate": "2020-03-21T13:35:05Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7563c4471c3f50e5671cb352a1886a76878be74", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d7563c4471c3f50e5671cb352a1886a76878be74", "committedDate": "2020-03-21T15:52:49Z", "message": "Increate test coverage for TeamResource to 100%"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cab33e96b1c9813d3b96d8c4b39d71094dfd338", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/1cab33e96b1c9813d3b96d8c4b39d71094dfd338", "committedDate": "2020-03-21T16:43:13Z", "message": "Fix boolean deserialization issue for assignedToTeam (needed for testing team student search)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "264f93c0c856e0333dfb23c939f45c8a1275dda3", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/264f93c0c856e0333dfb23c939f45c8a1275dda3", "committedDate": "2020-03-21T18:13:30Z", "message": "Test assignedTeamIdOnExercise + test that starting a participations fails when no team is assigned yet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4d280333d06be796cd1839311e6310615755845", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d4d280333d06be796cd1839311e6310615755845", "committedDate": "2020-03-21T19:37:14Z", "message": "Fix small bug where students from original team cannot be added back right away when removed from pending team"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcc5929ba35fcfa071d815f196a40f40483c0e81", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/dcc5929ba35fcfa071d815f196a40f40483c0e81", "committedDate": "2020-03-22T12:59:30Z", "message": "Make \"delete student from team\" button keyboard accessible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7112bb3098a0ee6adeead812065d70d3b8f25992", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/7112bb3098a0ee6adeead812065d70d3b8f25992", "committedDate": "2020-03-22T16:28:18Z", "message": "Add team-update-dialog.spec.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6038d4c7056f2e5039c3a174756dc3564054f681", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/6038d4c7056f2e5039c3a174756dc3564054f681", "committedDate": "2020-03-22T18:47:06Z", "message": "Update team test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b2236623b18b3f87234b2d95e50a83e97fd1835", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4b2236623b18b3f87234b2d95e50a83e97fd1835", "committedDate": "2020-03-22T21:40:24Z", "message": "Add first stub for teams.spec.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34b8ec6b29ef5adf0d17b2eac7fdcc7694ec8916", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/34b8ec6b29ef5adf0d17b2eac7fdcc7694ec8916", "committedDate": "2020-03-23T10:58:01Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/shared/participation/participation.service.ts\n#\tsrc/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d893991978a5a0f6d0734d0d90c0bf11b22bd482", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d893991978a5a0f6d0734d0d90c0bf11b22bd482", "committedDate": "2020-03-23T11:48:38Z", "message": "Run prettier:format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be74439748ec005a6879edef48a954921226a8ee", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/be74439748ec005a6879edef48a954921226a8ee", "committedDate": "2020-03-23T12:12:03Z", "message": "Handle participations with no students associated gracefully"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cef85560ba492aa4340cb2985a501c3c85b7f47d", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/cef85560ba492aa4340cb2985a501c3c85b7f47d", "committedDate": "2020-03-23T12:25:28Z", "message": "Fix method name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97cbdb258849d02d37a30579b3a9fb6a7ef49987", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/97cbdb258849d02d37a30579b3a9fb6a7ef49987", "committedDate": "2020-03-23T13:59:07Z", "message": "Improve search: handle \"query too short\" and \"no results\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "437b385359b0439ecaba78e6ea0f1dc0388a0829", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/437b385359b0439ecaba78e6ea0f1dc0388a0829", "committedDate": "2020-03-23T15:07:44Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7e5caa3e5e0d9dda8304bbaef523317687118fb", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/c7e5caa3e5e0d9dda8304bbaef523317687118fb", "committedDate": "2020-03-23T15:29:01Z", "message": "Team-based exercises focused client tests for exercise-details-student-actions.component.html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "845f5657ad7a7ec755a3cf2cb0f0c110a69852c9", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/845f5657ad7a7ec755a3cf2cb0f0c110a69852c9", "committedDate": "2020-03-23T15:29:11Z", "message": "Merge remote-tracking branch 'origin/feature/team-based-exercises/programming-exercises' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11fe6763d370b6ff1c0fda59c98f1e51894762f4", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/11fe6763d370b6ff1c0fda59c98f1e51894762f4", "committedDate": "2020-03-23T15:29:51Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8547ca35ea671897c2e969030dfca4bc49797141", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/8547ca35ea671897c2e969030dfca4bc49797141", "committedDate": "2020-03-23T19:55:40Z", "message": "Responsive display when modal is too small"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eed87433efe85bd41e40390b40015c6c31ebb1a2", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/eed87433efe85bd41e40390b40015c6c31ebb1a2", "committedDate": "2020-03-23T21:07:14Z", "message": "Improve conflict handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "733dccc0212f6497834e096498afdb1fc978c541", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/733dccc0212f6497834e096498afdb1fc978c541", "committedDate": "2020-03-24T10:13:41Z", "message": "Fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f27302a64b2adade2990456eca37d1106b35e46", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/4f27302a64b2adade2990456eca37d1106b35e46", "committedDate": "2020-03-24T12:53:33Z", "message": "- server test for starting team programming exercises\n- do not use team short name as user info in repoUrl for team repositories (just leave out user info segment of repoUrl for team participations, reinsert in frontend when needed)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3996d845e4149f5f293cb54f5738e113e6347080", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/3996d845e4149f5f293cb54f5738e113e6347080", "committedDate": "2020-03-24T13:36:14Z", "message": "Fix object mapper module issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d076065a2943dbcbb47a86ffb289d7a9c63144e2", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d076065a2943dbcbb47a86ffb289d7a9c63144e2", "committedDate": "2020-03-24T14:16:38Z", "message": "Fix object mapper module issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69062110a93364f3ad5dccd4f2f596f2fa7568d6", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/69062110a93364f3ad5dccd4f2f596f2fa7568d6", "committedDate": "2020-03-24T15:00:31Z", "message": "Revert \"Fix object mapper module issue\"\n\nThis reverts commit d076065a"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d43355048eef974fbf3fbb99fb6dfb834896dff1", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d43355048eef974fbf3fbb99fb6dfb834896dff1", "committedDate": "2020-03-24T15:00:59Z", "message": "Revert \"Fix object mapper module issue\"\n\nThis reverts commit 3996d845"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c2de1f8e23ed89f67e1f9dbdd29b8ac1c599fd4", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/8c2de1f8e23ed89f67e1f9dbdd29b8ac1c599fd4", "committedDate": "2020-03-24T15:40:02Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "816297892d15235b51104f0b3e547f57b4c683e1", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/816297892d15235b51104f0b3e547f57b4c683e1", "committedDate": "2020-03-24T16:14:53Z", "message": "Fix test issue caused by different serializers for read/write"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6cc8f5f51bde2e6498f7329c0099796d3f76c2f", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/d6cc8f5f51bde2e6498f7329c0099796d3f76c2f", "committedDate": "2020-03-24T16:15:06Z", "message": "Merge remote-tracking branch 'origin/feature/team-based-exercises/programming-exercises' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMjUzMzEz", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-381253313", "createdAt": "2020-03-25T15:19:31Z", "commit": {"oid": "d6cc8f5f51bde2e6498f7329c0099796d3f76c2f"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToxOTozMVrOF7gQDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToxOTozMVrOF7gQDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkzODcwMA==", "bodyText": "Is there a typo in studentTeamOriginaRepo?", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r397938700", "createdAt": "2020-03-25T15:19:31Z", "author": {"login": "sleiss"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseBitbucketBambooIntegrationTest.java", "diffHunk": "@@ -113,37 +132,44 @@ public void setup() throws Exception {\n         testRepo.configureRepos(\"testLocalRepo\", \"testOriginRepo\");\n         solutionRepo.configureRepos(\"solutionLocalRepo\", \"solutionOriginRepo\");\n         studentRepo.configureRepos(\"studentRepo\", \"studentOriginaRepo\");\n+        studentTeamRepo.configureRepos(\"studentTeamRepo\", \"studentTeamOriginaRepo\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6cc8f5f51bde2e6498f7329c0099796d3f76c2f"}, "originalPosition": 80}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6a0aef101d4ab03e084c12b23095f40aea1039d", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/b6a0aef101d4ab03e084c12b23095f40aea1039d", "committedDate": "2020-03-25T15:33:09Z", "message": "Fix typo in origin repo names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48de619876e3f0001e4cf8b8e099a14aeb08dfd8", "author": {"user": {"login": "madwau", "name": "Martin Wauligmann"}}, "url": "https://github.com/ls1intum/Artemis/commit/48de619876e3f0001e4cf8b8e099a14aeb08dfd8", "committedDate": "2020-03-25T15:34:33Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMjg5NzU5", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-381289759", "createdAt": "2020-03-25T15:55:22Z", "commit": {"oid": "48de619876e3f0001e4cf8b8e099a14aeb08dfd8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzQ5Nzk1", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-381349795", "createdAt": "2020-03-25T16:59:10Z", "commit": {"oid": "48de619876e3f0001e4cf8b8e099a14aeb08dfd8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/43aa91d92b2fe35deea78934e59017861ef868d1", "committedDate": "2020-03-25T21:53:00Z", "message": "Merge branch 'develop' into feature/team-based-exercises/programming-exercises"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjY3MDU0", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382267054", "createdAt": "2020-03-26T17:56:46Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1Njo0NlrOF8TbWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1Njo0NlrOF8TbWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3NzE3OA==", "bodyText": "I guess the variable studentId should then be renamed to participantId", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398777178", "createdAt": "2020-03-26T17:56:46Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseExportService.java", "diffHunk": "@@ -277,15 +278,15 @@ private void createZipFile(Path zipFilePath, List<Path> paths) throws IOExceptio\n     }\n \n     /**\n-     * Adds the student id of the given student participation to the project name in all .project (Eclipse)\n+     * Adds the student/team identifier of the given student participation to the project name in all .project (Eclipse)\n      * and pom.xml (Maven) files found in the given repository.\n      *\n      * @param repo The repository for which the student id should get added\n      * @param programmingExercise The checked out exercise in the repository\n-     * @param participation The student participation for the student id, which should be added.\n+     * @param participation The student participation for the student/team identifier, which should be added.\n      */\n     public void addStudentIdToProjectName(Repository repo, ProgrammingExercise programmingExercise, StudentParticipation participation) {\n-        String studentId = participation.getStudent().getLogin();\n+        String studentId = participation.getParticipantIdentifier();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzU2Mzgx", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382356381", "createdAt": "2020-03-26T19:44:25Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0NDoyNVrOF8Xl_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0NDoyNVrOF8Xl_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg0NTQzNw==", "bodyText": "I guess we should update this comment", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398845437", "createdAt": "2020-03-26T19:44:25Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/scheduled/AutomaticBuildPlanCleanupService.java", "diffHunk": "@@ -67,7 +67,7 @@ public void cleanupBuildPlans() {\n                 // already cleaned up\n                 continue;\n             }\n-            if (participation.getStudent() == null) {\n+            if (participation.getParticipant() == null) {\n                 // we only want to clean up build plans of students", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzY0MDQ0", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382364044", "createdAt": "2020-03-26T19:52:16Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo1MjoxNlrOF8X43w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo1MjoxNlrOF8X43w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg1MDI3MQ==", "bodyText": "I think there is a small logic error here. In case of a team exercise, we would like to export the repository only, if the team was mentioned in the \"studentList\", otherwise we would export the same repository multiple times, if the students of the same team are mentioned here.\nSo I would suggest we rename studentList to participantList and instructors need to refer to team short names for a team exercise and to student logins for individual exercises.\nIf you don't want to change this here, please add a TODO and fix it in a subsequent PR", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398850271", "createdAt": "2020-03-26T19:52:16Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -567,8 +567,8 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         List<ProgrammingExerciseStudentParticipation> exportedStudentParticipations = new ArrayList<>();\n         for (StudentParticipation studentParticipation : programmingExercise.getStudentParticipations()) {\n             ProgrammingExerciseStudentParticipation programmingStudentParticipation = (ProgrammingExerciseStudentParticipation) studentParticipation;\n-            if (repositoryExportOptions.isExportAllStudents() || (programmingStudentParticipation.getRepositoryUrl() != null && studentParticipation.getStudent() != null\n-                    && studentList.contains(studentParticipation.getStudent().getLogin()))) {\n+            if (repositoryExportOptions.isExportAllStudents() || (programmingStudentParticipation.getRepositoryUrl() != null && studentParticipation.getParticipant() != null\n+                    && studentParticipation.getStudents().stream().map(User::getLogin).anyMatch(studentList::contains))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzc1NDY1", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382375465", "createdAt": "2020-03-26T20:07:52Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDowNzo1MlrOF8YamQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDowNzo1MlrOF8YamQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg1ODkwNQ==", "bodyText": "can we use a for each loop like here, something like the following?\n(const student of students)\nBy the way, we should always prefer for each loops if they can be used", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398858905", "createdAt": "2020-03-26T20:07:52Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/course/course-scores/course-scores.component.ts", "diffHunk": "@@ -144,14 +144,17 @@ export class CourseScoresComponent implements OnInit, OnDestroy {\n             }\n \n             // find all students by iterating through the participations\n-            let student = studentsMap.get(participation.student.id!);\n-            if (student == null) {\n-                student = new Student(participation.student);\n-                studentsMap.set(participation.student.id!, student);\n-            }\n-            student.participations.push(participation);\n-            if (participation.presentationScore) {\n-                student.presentationScore += participation.presentationScore;\n+            const students = participation.student ? [participation.student] : participation.team.students;\n+            for (let i = 0; i < students.length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMzgzNzY1", "url": "https://github.com/ls1intum/Artemis/pull/1253#pullrequestreview-382383765", "createdAt": "2020-03-26T20:19:21Z", "commit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOToyMlrOF8Yzng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDoxOToyMlrOF8Yzng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg2NTMxMA==", "bodyText": "Normal users should not be able to navigate to course-management URLs.\nCan we offer the same page also on a different based on courses/:courseId/exercises/...", "url": "https://github.com/ls1intum/Artemis/pull/1253#discussion_r398865310", "createdAt": "2020-03-26T20:19:22Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.html", "diffHunk": "@@ -87,6 +87,15 @@\n <div *ngIf=\"exercise.type === ExerciseType.MODELING\">\n     <!-- ACTION START -->\n     <div class=\"btn-group mr-2\">\n+        <button\n+            jhi-exercise-action-button\n+            buttonIcon=\"users\"\n+            [buttonLabel]=\"'artemisApp.exerciseActions.viewTeam' | translate\"\n+            *ngIf=\"exercise.teamMode && participationStatusWrapper() !== ParticipationStatus.NO_TEAM_ASSIGNED\"\n+            [smallButton]=\"smallButtons\"\n+            [hideLabelMobile]=\"true\"\n+            [routerLink]=\"['/course-management', courseId, 'exercises', exercise.id, 'teams', assignedTeamId]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43aa91d92b2fe35deea78934e59017861ef868d1"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3191, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}