{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4Mzc1OTY1", "number": 1698, "title": "[Exam] Enable ordering of exercise groups", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nThe order of the exercise groups is relevant for the order of exercises of each student exam.\nDescription\n\n The exercise groups will be now retrieved via the exam so that the order will be available in the client.\n I've created a new server route to save the new exercise group order. The route checks whether only the order of existing exercise groups was changed.\n I've added a Spring integration test for the new route.\n I've ensured that on deletion of an exercise group it will be deleted via the exam so that the exercise_group_order will stay continuous (this fixes an error that prevents an exam from being deleted).\n\nSteps for Testing\n\nCreate an exam\nAdd multiple exercise groups\nChange the order\nRefresh the page and check that the defined order is saved\n\nIf you test locally, you can also check via SELECT * FROM exercise_group that the values in the column exercise_group_order for the exam are continuous even after you have deleted an exercise group.\nScreenshots", "createdAt": "2020-06-23T07:28:59Z", "url": "https://github.com/ls1intum/Artemis/pull/1698", "merged": true, "mergeCommit": {"oid": "f82151e4138c3b2c83656ea4d1986b2c8ba81bd3"}, "closed": true, "closedAt": "2020-06-24T20:55:16Z", "author": {"login": "sascha11110"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsxKh8AH2gAyNDM4Mzc1OTY1OjQxMjhhNzRhNTRkOWM4Nzc2YmFjZmRmYzJiNGUyNmYzZWRiMmM0Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcugc4BAFqTQzNjk5OTY4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4128a74a54d9c8776bacfdfc2b4e26f3edb2c4ca", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/4128a74a54d9c8776bacfdfc2b4e26f3edb2c4ca", "committedDate": "2020-06-19T11:15:36Z", "message": "Add input field for order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d8261a85a464052b392716fd4417dab34705f5f", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/8d8261a85a464052b392716fd4417dab34705f5f", "committedDate": "2020-06-19T14:01:30Z", "message": "Implement basic ordering functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64986c8a65eda13fa4a3981d332bf11e5906e390", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/64986c8a65eda13fa4a3981d332bf11e5906e390", "committedDate": "2020-06-19T14:09:22Z", "message": "Add number of exercise groups count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fce9ee40fccfc5ccb9f50cc39efa7c899bc80dc", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/8fce9ee40fccfc5ccb9f50cc39efa7c899bc80dc", "committedDate": "2020-06-19T14:33:42Z", "message": "Fix npe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb6072179489098cee345bb71990ba356b463fcd", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/bb6072179489098cee345bb71990ba356b463fcd", "committedDate": "2020-06-22T19:45:08Z", "message": "Client <-> Server implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23b61d586faf6878353a593680afc7dff0033f4", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/e23b61d586faf6878353a593680afc7dff0033f4", "committedDate": "2020-06-23T07:10:55Z", "message": "Retrieve exercise groups in order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4bf6859e484c20ec33ab40f471ee7d23c25db0f", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/a4bf6859e484c20ec33ab40f471ee7d23c25db0f", "committedDate": "2020-06-23T07:15:44Z", "message": "Merge branch 'develop' into exam/management/order-exercise-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2f6c4e684c5114daca742661bcdcf3b79207e06", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/d2f6c4e684c5114daca742661bcdcf3b79207e06", "committedDate": "2020-06-23T07:22:14Z", "message": "Fix imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18f989f60263966410ea9dc6c53d44449d43575a", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/18f989f60263966410ea9dc6c53d44449d43575a", "committedDate": "2020-06-23T11:38:01Z", "message": "Fix layout after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62dba440e0822cbd163ab7443fa9453271d31980", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/62dba440e0822cbd163ab7443fa9453271d31980", "committedDate": "2020-06-23T16:20:53Z", "message": "Delete exercise group via exam.exerciseGroups to keep continuous order in exercise_group_order @OrderColumn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e5a6fa6a4c02c53b29ce3e4da3ae8ce1c8fdc75", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/5e5a6fa6a4c02c53b29ce3e4da3ae8ce1c8fdc75", "committedDate": "2020-06-23T20:24:49Z", "message": "Ensure that the exam is set with ordered exercise groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2155fe5b6f91c3719893d6ea9b393d338695dfc0", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/2155fe5b6f91c3719893d6ea9b393d338695dfc0", "committedDate": "2020-06-23T20:56:32Z", "message": "Remove unneeded boolean"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3ae0dd4bb366f574d54bd1df93453327256a69b", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/f3ae0dd4bb366f574d54bd1df93453327256a69b", "committedDate": "2020-06-24T07:35:13Z", "message": "Temporary test setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8ef7f7f27998b81ed0d8ff18fc9463ecf1abadb", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/a8ef7f7f27998b81ed0d8ff18fc9463ecf1abadb", "committedDate": "2020-06-24T10:08:55Z", "message": "Server integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507", "committedDate": "2020-06-24T10:10:20Z", "message": "Merge branch 'develop' into exam/management/order-exercise-groups"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NTczNzM2", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436573736", "createdAt": "2020-06-24T11:53:15Z", "commit": {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzQyMjEw", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436742210", "createdAt": "2020-06-24T15:07:53Z", "commit": {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNTowNzo1M1rOGoWklg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNTowNzo1M1rOGoWklg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk2NjAzOA==", "bodyText": "What would happen if both withExerciseGroups and withStudents are true?", "url": "https://github.com/ls1intum/Artemis/pull/1698#discussion_r444966038", "createdAt": "2020-06-24T15:07:53Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java", "diffHunk": "@@ -150,22 +150,27 @@ public ExamResource(UserService userService, CourseService courseService, ExamRe\n     /**\n      * GET /courses/{courseId}/exams/{examId} : Find an exam by id.\n      *\n-     * @param courseId      the course to which the exam belongs\n-     * @param examId        the exam to find\n-     * @param withStudents  boolean flag whether to include all students registered for the exam\n+     * @param courseId              the course to which the exam belongs\n+     * @param examId                the exam to find\n+     * @param withStudents          boolean flag whether to include all students registered for the exam\n+     * @param withExerciseGroups    boolean flag whether to include all exercise groups of the exam\n      * @return the ResponseEntity with status 200 (OK) and with the found exam as body\n      */\n     @GetMapping(\"/courses/{courseId}/exams/{examId}\")\n     @PreAuthorize(\"hasAnyRole('ADMIN', 'INSTRUCTOR')\")\n-    public ResponseEntity<Exam> getExam(@PathVariable Long courseId, @PathVariable Long examId, @RequestParam(defaultValue = \"false\") boolean withStudents) {\n+    public ResponseEntity<Exam> getExam(@PathVariable Long courseId, @PathVariable Long examId, @RequestParam(defaultValue = \"false\") boolean withStudents,\n+            @RequestParam(defaultValue = \"false\") boolean withExerciseGroups) {\n         log.debug(\"REST request to get exam : {}\", examId);\n         Optional<ResponseEntity<Exam>> courseAndExamAccessFailure = examAccessService.checkCourseAndExamAccess(courseId, examId);\n         if (courseAndExamAccessFailure.isPresent()) {\n             return courseAndExamAccessFailure.get();\n         }\n-        if (!withStudents) {\n+        if (!withStudents && !withExerciseGroups) {\n             return ResponseEntity.ok(examService.findOne(examId));\n         }\n+        if (withExerciseGroups) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzQ2Mzg1", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436746385", "createdAt": "2020-06-24T15:12:15Z", "commit": {"oid": "9bdd68c99c53a5d60ca2c21d3ccf8f0853b48507"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f81fb26b9fa7a968f53d8ad94f2ce4819ccc01f", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/6f81fb26b9fa7a968f53d8ad94f2ce4819ccc01f", "committedDate": "2020-06-24T15:24:11Z", "message": "withStudents && withExerciseGroups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecea1906f4be5b50ca0e058c848f2693c8460b9d", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/ecea1906f4be5b50ca0e058c848f2693c8460b9d", "committedDate": "2020-06-24T17:12:32Z", "message": "Test that exercises of exercise groups are preserved after update of order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2OTU0MDI1", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436954025", "createdAt": "2020-06-24T19:45:43Z", "commit": {"oid": "ecea1906f4be5b50ca0e058c848f2693c8460b9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2OTk4OTgw", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436998980", "createdAt": "2020-06-24T20:53:59Z", "commit": {"oid": "ecea1906f4be5b50ca0e058c848f2693c8460b9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2OTk5Njg5", "url": "https://github.com/ls1intum/Artemis/pull/1698#pullrequestreview-436999689", "createdAt": "2020-06-24T20:55:06Z", "commit": {"oid": "ecea1906f4be5b50ca0e058c848f2693c8460b9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2509, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}