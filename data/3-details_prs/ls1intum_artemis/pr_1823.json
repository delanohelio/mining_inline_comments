{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0Nzk1NzE1", "number": 1823, "title": "[Exam][Code-Editor] Minor bugfixes", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n\nMotivation and Context\n\nSave, Submit, Refresh files not available in exam mode after being offline:\nSee #1797\nProgramming Excercise topbar indicator misbehaviour\nSee #1819\n\nDescription\nWhen the client is disconnected from the internet before or during saving, no error is thrown and the action buttons remain locked. In order to not lock the student action buttons in case the save operation does not return, we set a timeout of 8 seconds. If the timeout is reached and the editor is still in 'saving' mode, we set the mode to unsaved changes.\nThe topbar was only updated on file creation/deletion but not on file content changes. To fix this we handle the file content changes and update the topbar accordingly.\nSteps for Testing\n\nSave, Submit, Refresh files not available in exam mode after being offline:\n\n\nCreate an exam with one programming exercise (make sure the code editor is enabled) and one other exercise\nParticipate in the exam and navigate to the programming exercise\nDisconnect and wait until Artemis says you are disconnected\nMake some changes, e.g. type some text into a file\nHit save or wait for the automatic save to trigger, this will lock the Save, Submit and Refresh files buttons\nIt should unlock once 8 seconds have passed\n\n\nProgramming Excercise topbar indicator misbehaviour\n\n\nStart an exam with a programming exercise\nNavigate to the programming exercise\nChange something in the online editor (no save or submission)\nSee that the top bar indicator updates", "createdAt": "2020-07-06T14:00:43Z", "url": "https://github.com/ls1intum/Artemis/pull/1823", "merged": true, "mergeCommit": {"oid": "45f6e35266020fbe5fbe1cf25066c8f387470276"}, "closed": true, "closedAt": "2020-07-07T11:47:55Z", "author": {"login": "anditurdiu"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyRoh2gH2gAyNDQ0Nzk1NzE1OmE1YmNhZmE5NGVlNTViZjVjMTBiNzIyNTRjNTJkNmVhNzc5MDRiNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcykcuNgFqTQ0MzgxNDcxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a5bcafa94ee55bf5c10b72254c52d6ea77904b4c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a5bcafa94ee55bf5c10b72254c52d6ea77904b4c", "committedDate": "2020-07-06T13:54:57Z", "message": "Do not return empty observable in case of error, escalate to handler."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cffdd50990877ea1b4665b918d499d5769981d3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/2cffdd50990877ea1b4665b918d499d5769981d3", "committedDate": "2020-07-06T14:40:33Z", "message": "new approach"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4ab2bba0e8c23d68912b25c63db8b27a27699be", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/e4ab2bba0e8c23d68912b25c63db8b27a27699be", "committedDate": "2020-07-06T15:05:05Z", "message": "fix #1819"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "498bf6a337b1625e211c4160fd86afada97416cc", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/498bf6a337b1625e211c4160fd86afada97416cc", "committedDate": "2020-07-06T16:25:02Z", "message": "Revert \"new approach\"\n\nThis reverts commit 2cffdd50990877ea1b4665b918d499d5769981d3."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d7930ab37f80b78ba26096091d259483479c0ab", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/1d7930ab37f80b78ba26096091d259483479c0ab", "committedDate": "2020-07-06T16:25:11Z", "message": "Revert \"Do not return empty observable in case of error, escalate to handler.\"\n\nThis reverts commit a5bcafa94ee55bf5c10b72254c52d6ea77904b4c."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf4b0b05824fb6745480f93ffb4f0cb9f1601eaf", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/cf4b0b05824fb6745480f93ffb4f0cb9f1601eaf", "committedDate": "2020-07-06T16:44:39Z", "message": "try resetting at onSave"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9925e76728541cfae20bb8bc2ef9e43a57f208a0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9925e76728541cfae20bb8bc2ef9e43a57f208a0", "committedDate": "2020-07-06T16:48:19Z", "message": "escalate error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c75d9ca992b34e372e3118b38dec0adb7ec259c8", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c75d9ca992b34e372e3118b38dec0adb7ec259c8", "committedDate": "2020-07-06T17:08:56Z", "message": "Revert \"try resetting at onSave\"\n\nThis reverts commit cf4b0b05824fb6745480f93ffb4f0cb9f1601eaf."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4198d46811fd0a786a416ad14f74763c961f3cf", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/f4198d46811fd0a786a416ad14f74763c961f3cf", "committedDate": "2020-07-06T17:09:04Z", "message": "Revert \"escalate error\"\n\nThis reverts commit 9925e76728541cfae20bb8bc2ef9e43a57f208a0."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "731998cf18656d26ed1c241b6ade11a33bc31aba", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/731998cf18656d26ed1c241b6ade11a33bc31aba", "committedDate": "2020-07-06T17:10:07Z", "message": "add timeout to save function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e80c4d2fb85d218f98bf4aa107fbed87d0c2569a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/e80c4d2fb85d218f98bf4aa107fbed87d0c2569a", "committedDate": "2020-07-06T17:43:18Z", "message": "double the timeout time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4be97cd95788a01791866aad69b8b9e899a4b321", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/4be97cd95788a01791866aad69b8b9e899a4b321", "committedDate": "2020-07-06T19:50:00Z", "message": "emit error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3b4ff70c572ad30d77cc1adf30c59c8784d6868", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/f3b4ff70c572ad30d77cc1adf30c59c8784d6868", "committedDate": "2020-07-06T19:50:52Z", "message": "add error name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38ffe5901307bb96453e95db553ed298cbee5586", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/38ffe5901307bb96453e95db553ed298cbee5586", "committedDate": "2020-07-06T20:23:07Z", "message": "Remove duplicate jhi-alert\nThere is another jhi-alert component in the child components. Therefore the error messages are shown as duplicates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6eb4abfbf121a54b38d3fefa8890f60cc168a858", "committedDate": "2020-07-06T20:23:57Z", "message": "add error message on connection timeout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDQ4OTM0", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443448934", "createdAt": "2020-07-06T22:35:06Z", "commit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNTowNlrOGtpNJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNTowNlrOGtpNJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxNDIxNQ==", "bodyText": "it's not really clear what you mean with \"Zeitlimit\" this is too technical. I would rather translate it to user language.", "url": "https://github.com/ls1intum/Artemis/pull/1823#discussion_r450514215", "createdAt": "2020-07-06T22:35:06Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/de/editor.json", "diffHunk": "@@ -85,7 +85,8 @@\n                 \"problemStatementCouldNotBeUpdated\": \"Die Aufgabenstellung der \u00dcbung konnte nicht aktualisiert werden.\",\n                 \"failedToLoadBuildLogs\": \"Die Build Logs konnten nicht geladen werden.\",\n                 \"repositoryInConflict\": \"Dein Repository befindet sich in einem Konfliktzustand.\",\n-                \"notAllowedExam\": \"Du kannst (nicht mehr) abgeben\"\n+                \"notAllowedExam\": \"Du kannst (nicht mehr) abgeben\",\n+                \"connectionTimeout\": \"Zeitlimit \u00fcberschritten. Speichern ist fehlgeschlagen.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDQ5MTM0", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443449134", "createdAt": "2020-07-06T22:35:40Z", "commit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNTo0MFrOGtpN4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNTo0MFrOGtpN4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxNDQwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"connectionTimeout\": \"Zeitlimit \u00fcberschritten. Speichern ist fehlgeschlagen.\"\n          \n          \n            \n                            \"connectionTimeout\": \"Speichern ist fehlgeschlagen. Bitte stelle eine gute Internetverbindung sicher und versuche es nochmal.\"", "url": "https://github.com/ls1intum/Artemis/pull/1823#discussion_r450514401", "createdAt": "2020-07-06T22:35:40Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/de/editor.json", "diffHunk": "@@ -85,7 +85,8 @@\n                 \"problemStatementCouldNotBeUpdated\": \"Die Aufgabenstellung der \u00dcbung konnte nicht aktualisiert werden.\",\n                 \"failedToLoadBuildLogs\": \"Die Build Logs konnten nicht geladen werden.\",\n                 \"repositoryInConflict\": \"Dein Repository befindet sich in einem Konfliktzustand.\",\n-                \"notAllowedExam\": \"Du kannst (nicht mehr) abgeben\"\n+                \"notAllowedExam\": \"Du kannst (nicht mehr) abgeben\",\n+                \"connectionTimeout\": \"Zeitlimit \u00fcberschritten. Speichern ist fehlgeschlagen.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDQ5Mjg5", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443449289", "createdAt": "2020-07-06T22:36:04Z", "commit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNjowNFrOGtpObA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjozNjowNFrOGtpObA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxNDU0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"connectionTimeout\": \"Connection timeout. Saving failed.\"\n          \n          \n            \n                            \"connectionTimeout\": \".Saving failed. Please make sure you have a stable internet connection and try again.\"", "url": "https://github.com/ls1intum/Artemis/pull/1823#discussion_r450514540", "createdAt": "2020-07-06T22:36:04Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/en/editor.json", "diffHunk": "@@ -89,7 +89,8 @@\n                 \"problemStatementCouldNotBeUpdated\": \"The problem statement of this exercise could not be updated.\",\n                 \"failedToLoadBuildLogs\": \"The build logs could not be retrieved.\",\n                 \"repositoryInConflict\": \"Your repository has entered a conflict state.\",\n-                \"notAllowedExam\": \"You must not submit (anymore)\"\n+                \"notAllowedExam\": \"You must not submit (anymore)\",\n+                \"connectionTimeout\": \"Connection timeout. Saving failed.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb4abfbf121a54b38d3fefa8890f60cc168a858"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a7f1daa16c8c297314cbde637355706e2b48e8e", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/8a7f1daa16c8c297314cbde637355706e2b48e8e", "committedDate": "2020-07-07T07:06:38Z", "message": "Update src/main/webapp/i18n/de/editor.json\n\nCo-authored-by: Stephan Krusche <krusche@in.tum.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be41f9fe55ded0c02fc980174009e8590f2590db", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/be41f9fe55ded0c02fc980174009e8590f2590db", "committedDate": "2020-07-07T07:06:47Z", "message": "Update src/main/webapp/i18n/en/editor.json\n\nCo-authored-by: Stephan Krusche <krusche@in.tum.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c63ac3c2c31d2f93d686e761c34ccf68c60a9889", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c63ac3c2c31d2f93d686e761c34ccf68c60a9889", "committedDate": "2020-07-07T10:55:44Z", "message": "unlock refresh state on timeout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/95e67cc5c50df3440d9cf6e6d112e998260c8822", "committedDate": "2020-07-07T10:57:44Z", "message": "Merge branch 'develop' into bugfix/handle-onSaveError-code-Editor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNzgzNzIx", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443783721", "createdAt": "2020-07-07T11:00:53Z", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNzg4Njgy", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443788682", "createdAt": "2020-07-07T11:09:01Z", "commit": {"oid": "be41f9fe55ded0c02fc980174009e8590f2590db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNzg5Mzkw", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443789390", "createdAt": "2020-07-07T11:10:10Z", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODA2MzIy", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443806322", "createdAt": "2020-07-07T11:37:10Z", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODEyODg2", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443812886", "createdAt": "2020-07-07T11:47:25Z", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODE0NzE2", "url": "https://github.com/ls1intum/Artemis/pull/1823#pullrequestreview-443814716", "createdAt": "2020-07-07T11:50:15Z", "commit": {"oid": "95e67cc5c50df3440d9cf6e6d112e998260c8822"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4498, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}