{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3ODU0NTc3", "number": 2022, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQyMzo1Nzo0NVrOEZs0GQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMDoyNjoxN1rOEZtIuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mzg0MDg5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQyMzo1Nzo0NVrOHCqn1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo1M1rOHDFqww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1NzUyNg==", "bodyText": "I think this is optimal for a switch case. As we have an enum ExerciseType defined we could use that to be type-safe for the second parameter of the function:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                asProgrammingExercise(exercise: Exercise): ProgrammingExercise | null {\n          \n          \n            \n                    if (exercise.type === ExerciseType.PROGRAMMING) {\n          \n          \n            \n                        return exercise as ProgrammingExercise;\n          \n          \n            \n                    }\n          \n          \n            \n                    return null;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                asQuizExercise(exercise: Exercise): QuizExercise | null {\n          \n          \n            \n                    if (exercise.type === ExerciseType.QUIZ) {\n          \n          \n            \n                        return exercise as QuizExercise;\n          \n          \n            \n                    }\n          \n          \n            \n                    return null;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                asTextExercise(exercise: Exercise): TextExercise | null {\n          \n          \n            \n                    if (exercise.type === ExerciseType.TEXT) {\n          \n          \n            \n                        return exercise as TextExercise;\n          \n          \n            \n                    }\n          \n          \n            \n                    return null;\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                asModelingExercise(exercise: Exercise): ModelingExercise | null {\n          \n          \n            \n                    if (exercise.type === ExerciseType.MODELING) {\n          \n          \n            \n                        return exercise as ModelingExercise;\n          \n          \n            \n                    }\n          \n          \n            \n                    return null;\n          \n          \n            \n                }\n          \n          \n            \n                caseExercise(exercise: Exercise, exerciseType: ExerciseType): ProgrammingExercise | QuizExercise | TextExercise | ModelingExercise | null {\n          \n          \n            \n                    switch (exerciseType) {\n          \n          \n            \n                        case ExerciseType.PROGRAMMING:\n          \n          \n            \n                             return exercise as ProgrammingExercise;\n          \n          \n            \n                        ...\n          \n          \n            \n                    }\n          \n          \n            \n                    return null;\n          \n          \n            \n                }", "url": "https://github.com/ls1intum/Artemis/pull/2022#discussion_r472557526", "createdAt": "2020-08-18T23:57:45Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.ts", "diffHunk": "@@ -84,6 +87,34 @@ export class ExerciseGroupsComponent implements OnInit {\n         );\n     }\n \n+    asProgrammingExercise(exercise: Exercise): ProgrammingExercise | null {\n+        if (exercise.type === ExerciseType.PROGRAMMING) {\n+            return exercise as ProgrammingExercise;\n+        }\n+        return null;\n+    }\n+\n+    asQuizExercise(exercise: Exercise): QuizExercise | null {\n+        if (exercise.type === ExerciseType.QUIZ) {\n+            return exercise as QuizExercise;\n+        }\n+        return null;\n+    }\n+\n+    asTextExercise(exercise: Exercise): TextExercise | null {\n+        if (exercise.type === ExerciseType.TEXT) {\n+            return exercise as TextExercise;\n+        }\n+        return null;\n+    }\n+\n+    asModelingExercise(exercise: Exercise): ModelingExercise | null {\n+        if (exercise.type === ExerciseType.MODELING) {\n+            return exercise as ModelingExercise;\n+        }\n+        return null;\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e44c21d8714f52ef51ff9809a898d3492ed5e5"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk4MTI0OQ==", "bodyText": "The casting methods above are used like:\n<ng-container *ngIf=\"asProgrammingExercise(exercise) as programmingExercise\">\nThey fulfill two purposes:\n\nCast to a programming exercise if it is one\nReturn null if it isn't a programming exercise\n\nIf we have a modeling exercise for example, the switch case statement would do a cast to the modeling exercise but won't return null. ngIf will be true.\nMaybe we don't need the casting at all. We won't have typescript tooling support in the template then.", "url": "https://github.com/ls1intum/Artemis/pull/2022#discussion_r472981249", "createdAt": "2020-08-19T12:12:27Z", "author": {"login": "kloessst"}, "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.ts", "diffHunk": "@@ -84,6 +87,34 @@ export class ExerciseGroupsComponent implements OnInit {\n         );\n     }\n \n+    asProgrammingExercise(exercise: Exercise): ProgrammingExercise | null {\n+        if (exercise.type === ExerciseType.PROGRAMMING) {\n+            return exercise as ProgrammingExercise;\n+        }\n+        return null;\n+    }\n+\n+    asQuizExercise(exercise: Exercise): QuizExercise | null {\n+        if (exercise.type === ExerciseType.QUIZ) {\n+            return exercise as QuizExercise;\n+        }\n+        return null;\n+    }\n+\n+    asTextExercise(exercise: Exercise): TextExercise | null {\n+        if (exercise.type === ExerciseType.TEXT) {\n+            return exercise as TextExercise;\n+        }\n+        return null;\n+    }\n+\n+    asModelingExercise(exercise: Exercise): ModelingExercise | null {\n+        if (exercise.type === ExerciseType.MODELING) {\n+            return exercise as ModelingExercise;\n+        }\n+        return null;\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1NzUyNg=="}, "originalCommit": {"oid": "d4e44c21d8714f52ef51ff9809a898d3492ed5e5"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAwMDY0Mw==", "bodyText": "https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\nWe can stick to just checking the exercise.type in the template", "url": "https://github.com/ls1intum/Artemis/pull/2022#discussion_r473000643", "createdAt": "2020-08-19T12:45:53Z", "author": {"login": "kloessst"}, "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.ts", "diffHunk": "@@ -84,6 +87,34 @@ export class ExerciseGroupsComponent implements OnInit {\n         );\n     }\n \n+    asProgrammingExercise(exercise: Exercise): ProgrammingExercise | null {\n+        if (exercise.type === ExerciseType.PROGRAMMING) {\n+            return exercise as ProgrammingExercise;\n+        }\n+        return null;\n+    }\n+\n+    asQuizExercise(exercise: Exercise): QuizExercise | null {\n+        if (exercise.type === ExerciseType.QUIZ) {\n+            return exercise as QuizExercise;\n+        }\n+        return null;\n+    }\n+\n+    asTextExercise(exercise: Exercise): TextExercise | null {\n+        if (exercise.type === ExerciseType.TEXT) {\n+            return exercise as TextExercise;\n+        }\n+        return null;\n+    }\n+\n+    asModelingExercise(exercise: Exercise): ModelingExercise | null {\n+        if (exercise.type === ExerciseType.MODELING) {\n+            return exercise as ModelingExercise;\n+        }\n+        return null;\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1NzUyNg=="}, "originalCommit": {"oid": "d4e44c21d8714f52ef51ff9809a898d3492ed5e5"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mzg5MzE0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMDoyNTo1MVrOHCrGog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMDoyNTo1MVrOHCrGog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2NTQxMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                            programmingExercise.templateParticipation &&\n          \n          \n            \n                                                            programmingExercise.templateParticipation.results &&\n          \n          \n            \n                                                            programmingExercise.templateParticipation.results.length\n          \n          \n            \n              \n          \n          \n            \n                                                            programmingExercise?.templateParticipation?.results?.length\n          \n      \n    \n    \n  \n\nI think optional chaining should work here", "url": "https://github.com/ls1intum/Artemis/pull/2022#discussion_r472565410", "createdAt": "2020-08-19T00:25:51Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.html", "diffHunk": "@@ -154,6 +186,143 @@ <h5 class=\"font-weight-bold mb-0\">{{ exerciseGroup.title }}</h5>\n                         <td class=\"align-middle\">\n                             {{ exercise.maxScore }}\n                         </td>\n+                        <!-- Programming exercise specific cells -->\n+                        <ng-container *ngIf=\"exerciseGroupToExerciseTypesDict[exerciseGroup.id].includes(exerciseType.PROGRAMMING)\">\n+                            <ng-container *ngIf=\"asProgrammingExercise(exercise) as programmingExercise; else emptyProgrammingCells\">\n+                                <td class=\"align-middle\">\n+                                    {{ programmingExercise.shortName }}\n+                                </td>\n+                                <td>\n+                                    <div>\n+                                        <span *ngIf=\"programmingExercise.templateParticipation && programmingExercise.templateParticipation.repositoryUrl\">\n+                                            <!--Checks if the programming exercise has a setup with VCS and CI, if this not the case\n+                                            the links are disabled--->\n+                                            <a\n+                                                *ngIf=\"\n+                                                    !noVersionControlAndContinuousIntegrationAvailableCheck(programmingExercise.templateParticipation.repositoryUrl);\n+                                                    else noVersionControlAndContinuousIntegrationAvailableTemplate\n+                                                \"\n+                                                href=\"{{ programmingExercise.templateParticipation.repositoryUrl }}\"\n+                                                target=\"_blank\"\n+                                                >Template</a\n+                                            >\n+                                        </span>\n+                                        <ng-template #noVersionControlAndContinuousIntegrationAvailableTemplate>Template</ng-template>\n+                                        <jhi-programming-exercise-instructor-status\n+                                            *ngIf=\"\n+                                                programmingExercise.templateParticipation &&\n+                                                programmingExercise.templateParticipation.results &&\n+                                                programmingExercise.templateParticipation.results.length", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e44c21d8714f52ef51ff9809a898d3492ed5e5"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mzg5MzY4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMDoyNjoxN1rOHCrHBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMDoyNjoxN1rOHCrHBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2NTUwOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                            programmingExercise.solutionParticipation &&\n          \n          \n            \n                                                            programmingExercise.solutionParticipation.results &&\n          \n          \n            \n                                                            programmingExercise.solutionParticipation.results.length\n          \n          \n            \n            programmingExercise?. solutionParticipation?.results?.length", "url": "https://github.com/ls1intum/Artemis/pull/2022#discussion_r472565508", "createdAt": "2020-08-19T00:26:17Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-groups.component.html", "diffHunk": "@@ -154,6 +186,143 @@ <h5 class=\"font-weight-bold mb-0\">{{ exerciseGroup.title }}</h5>\n                         <td class=\"align-middle\">\n                             {{ exercise.maxScore }}\n                         </td>\n+                        <!-- Programming exercise specific cells -->\n+                        <ng-container *ngIf=\"exerciseGroupToExerciseTypesDict[exerciseGroup.id].includes(exerciseType.PROGRAMMING)\">\n+                            <ng-container *ngIf=\"asProgrammingExercise(exercise) as programmingExercise; else emptyProgrammingCells\">\n+                                <td class=\"align-middle\">\n+                                    {{ programmingExercise.shortName }}\n+                                </td>\n+                                <td>\n+                                    <div>\n+                                        <span *ngIf=\"programmingExercise.templateParticipation && programmingExercise.templateParticipation.repositoryUrl\">\n+                                            <!--Checks if the programming exercise has a setup with VCS and CI, if this not the case\n+                                            the links are disabled--->\n+                                            <a\n+                                                *ngIf=\"\n+                                                    !noVersionControlAndContinuousIntegrationAvailableCheck(programmingExercise.templateParticipation.repositoryUrl);\n+                                                    else noVersionControlAndContinuousIntegrationAvailableTemplate\n+                                                \"\n+                                                href=\"{{ programmingExercise.templateParticipation.repositoryUrl }}\"\n+                                                target=\"_blank\"\n+                                                >Template</a\n+                                            >\n+                                        </span>\n+                                        <ng-template #noVersionControlAndContinuousIntegrationAvailableTemplate>Template</ng-template>\n+                                        <jhi-programming-exercise-instructor-status\n+                                            *ngIf=\"\n+                                                programmingExercise.templateParticipation &&\n+                                                programmingExercise.templateParticipation.results &&\n+                                                programmingExercise.templateParticipation.results.length\n+                                            \"\n+                                            [participationType]=\"'TEMPLATE'\"\n+                                            [participation]=\"programmingExercise.templateParticipation\"\n+                                            [exercise]=\"programmingExercise\"\n+                                        ></jhi-programming-exercise-instructor-status>\n+                                    </div>\n+                                    <div>\n+                                        <span *ngIf=\"programmingExercise.solutionParticipation && programmingExercise.solutionParticipation.repositoryUrl\">\n+                                            <a\n+                                                *ngIf=\"\n+                                                    !noVersionControlAndContinuousIntegrationAvailableCheck(programmingExercise.solutionParticipation.repositoryUrl);\n+                                                    else noVersionControlAndContinuousIntegrationAvailableSolution\n+                                                \"\n+                                                href=\"{{ programmingExercise.solutionParticipation.repositoryUrl }}\"\n+                                                target=\"_blank\"\n+                                                >Solution</a\n+                                            >\n+                                        </span>\n+                                        <ng-template #noVersionControlAndContinuousIntegrationAvailableSolution>Solution</ng-template>\n+                                        <jhi-programming-exercise-instructor-status\n+                                            *ngIf=\"\n+                                                programmingExercise.solutionParticipation &&\n+                                                programmingExercise.solutionParticipation.results &&\n+                                                programmingExercise.solutionParticipation.results.length", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e44c21d8714f52ef51ff9809a898d3492ed5e5"}, "originalPosition": 111}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4632, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}