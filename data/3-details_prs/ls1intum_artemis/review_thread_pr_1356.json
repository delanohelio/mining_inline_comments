{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NDg1NTI0", "number": 1356, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowNDoxN1rOD3HsTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDoxMDowN1rOD3H1AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MTI0MzAzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowNDoxN1rOGNMivA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowNDoxN1rOGNMivA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5MDE3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Connects the SGI with the Feedback of a Submission Element\n          \n          \n            \n                 * @param {Event} event - The drop event\n          \n          \n            \n                 * the SGI element sent on drag in processed in this method\n          \n          \n            \n                 * the corresponding drag method is in StructuredGradingInstructionsAssessmentLayoutComponent\n          \n          \n            \n                 */\n          \n          \n            \n                drop(event: any) {\n          \n          \n            \n                 * Connects the structured grading instructions with the feedback of a text block\n          \n          \n            \n                 * @param {Event} event - The drop event\n          \n          \n            \n                 * the SGI element sent on drag in processed in this method\n          \n          \n            \n                 * the corresponding drag method is in StructuredGradingInstructionsAssessmentLayoutComponent\n          \n          \n            \n                 */\n          \n          \n            \n                dropStructuredGradingInstruction(event: any) {", "url": "https://github.com/ls1intum/Artemis/pull/1356#discussion_r416490172", "createdAt": "2020-04-28T10:04:17Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "diffHunk": "@@ -69,4 +69,26 @@ export class TextblockFeedbackEditorComponent implements AfterViewInit {\n     didChange(): void {\n         this.feedbackChange.emit(this.feedback);\n     }\n+    /**\n+     * Allows the drop of an SGI Element\n+     */\n+    allowDrop(event: DragEvent) {\n+        event.preventDefault();\n+    }\n+    /**\n+     * Connects the SGI with the Feedback of a Submission Element\n+     * @param {Event} event - The drop event\n+     * the SGI element sent on drag in processed in this method\n+     * the corresponding drag method is in StructuredGradingInstructionsAssessmentLayoutComponent\n+     */\n+    drop(event: any) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe7cecd88adf9802b71036484d5aae6d92e5ef97"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MTI1NTM1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowNzoyN1rOGNMqQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowNzoyN1rOGNMqQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5MjA5OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    const credits = instruction.credits;\n          \n          \n            \n                    const feedback = instruction.feedback;\n          \n          \n            \n                    this.feedback.credits = credits;\n          \n          \n            \n                    this.feedback.detailText = feedback;\n          \n          \n            \n                    this.feedback.credits = instruction.credits;\n          \n          \n            \n                    this.feedback.detailText = instruction.feedback;", "url": "https://github.com/ls1intum/Artemis/pull/1356#discussion_r416492098", "createdAt": "2020-04-28T10:07:27Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "diffHunk": "@@ -69,4 +69,26 @@ export class TextblockFeedbackEditorComponent implements AfterViewInit {\n     didChange(): void {\n         this.feedbackChange.emit(this.feedback);\n     }\n+    /**\n+     * Allows the drop of an SGI Element\n+     */\n+    allowDrop(event: DragEvent) {\n+        event.preventDefault();\n+    }\n+    /**\n+     * Connects the SGI with the Feedback of a Submission Element\n+     * @param {Event} event - The drop event\n+     * the SGI element sent on drag in processed in this method\n+     * the corresponding drag method is in StructuredGradingInstructionsAssessmentLayoutComponent\n+     */\n+    drop(event: any) {\n+        event.preventDefault();\n+        const data = event.dataTransfer.getData('text');\n+        const instruction = JSON.parse(data);\n+        const credits = instruction.credits;\n+        const feedback = instruction.feedback;\n+        this.feedback.credits = credits;\n+        this.feedback.detailText = feedback;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe7cecd88adf9802b71036484d5aae6d92e5ef97"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MTI2MjI3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowOToxNVrOGNMunA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDowOToxNVrOGNMunA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5MzIxMg==", "bodyText": "I think this should be in a service. Do you have a similar code for modeling as well?\nI could even imagine a service method like so:\nupdateFeedbackWithStructuredGradingInstructionevent(feedback: Feedback, event: any): void", "url": "https://github.com/ls1intum/Artemis/pull/1356#discussion_r416493212", "createdAt": "2020-04-28T10:09:15Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "diffHunk": "@@ -69,4 +69,26 @@ export class TextblockFeedbackEditorComponent implements AfterViewInit {\n     didChange(): void {\n         this.feedbackChange.emit(this.feedback);\n     }\n+    /**\n+     * Allows the drop of an SGI Element\n+     */\n+    allowDrop(event: DragEvent) {\n+        event.preventDefault();\n+    }\n+    /**\n+     * Connects the SGI with the Feedback of a Submission Element\n+     * @param {Event} event - The drop event\n+     * the SGI element sent on drag in processed in this method\n+     * the corresponding drag method is in StructuredGradingInstructionsAssessmentLayoutComponent\n+     */\n+    drop(event: any) {\n+        event.preventDefault();\n+        const data = event.dataTransfer.getData('text');\n+        const instruction = JSON.parse(data);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe7cecd88adf9802b71036484d5aae6d92e5ef97"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MTI2NTI5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDoxMDowN1rOGNMwew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMDoxMDowN1rOGNMwew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5MzY5MQ==", "bodyText": "I think this method should use a better name. Currently, I would prefer $event.preventDefault() in the template.", "url": "https://github.com/ls1intum/Artemis/pull/1356#discussion_r416493691", "createdAt": "2020-04-28T10:10:07Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exercises/text/assess-new/textblock-feedback-editor/textblock-feedback-editor.component.ts", "diffHunk": "@@ -69,4 +69,26 @@ export class TextblockFeedbackEditorComponent implements AfterViewInit {\n     didChange(): void {\n         this.feedbackChange.emit(this.feedback);\n     }\n+    /**\n+     * Allows the drop of an SGI Element\n+     */\n+    allowDrop(event: DragEvent) {\n+        event.preventDefault();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe7cecd88adf9802b71036484d5aae6d92e5ef97"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 125, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}