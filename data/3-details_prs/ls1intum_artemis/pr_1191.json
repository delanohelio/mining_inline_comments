{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNzYzNzA0", "number": 1191, "title": "Enhancement/programming exercise/dynamically build build plan links", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I implemented the changes with a good performance and prevented too many database calls\n Client: I added multiple integration tests (Jest) related to the features\n Client: I documented the TypeScript code using JSDoc style.\n\nMotivation and Context\n\n\nFixes #1184\nWe currently have hardcode the links to the build plans of programming exercises in all components. This is far from optimal and especially problematic with the new Jenkins CI alternative.\nDescription\n\nI added a new directive build-plan-link.directive.ts that adds the appropriate attributes to its host component. The link gets created dynamically based on the value provided by the profile service, which in turn gets the link template from the call to the /info actuator endpoint.\nSteps for Testing\n\n\nLog in to Artemis\nCheck the build plan links on the following pages\nProgramming exercise details\nCourse overvice\nExercise scores page\nExercise participation list", "createdAt": "2020-01-16T17:32:27Z", "url": "https://github.com/ls1intum/Artemis/pull/1191", "merged": true, "mergeCommit": {"oid": "32821da9962439c863dfc6747b4ef1a947c0f139"}, "closed": true, "closedAt": "2020-01-18T22:24:33Z", "author": {"login": "ungaralex"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb69JrZgH2gAyMzYzNzYzNzA0OjAwYTAzNmJhNjBjNTM4Y2M4MmMwZWUwY2U4NGQwODJkYjA2ODdmNTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7SJiPAFqTM0NDcyODc2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "00a036ba60c538cc82c0ee0ce84d082db0687f53", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/00a036ba60c538cc82c0ee0ce84d082db0687f53", "committedDate": "2020-01-16T16:57:19Z", "message": "Expose build plan link template in info endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6428baf426b82fe7e84fb4ac28a57cb142507587", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/6428baf426b82fe7e84fb4ac28a57cb142507587", "committedDate": "2020-01-16T16:58:21Z", "message": "Don't use hardcoded build plan URL in client\n\nUse dynamic URL provided by profile service\nAdd build plan link directive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7fc2832850b394e123672cb9c68e12568e018af", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/f7fc2832850b394e123672cb9c68e12568e018af", "committedDate": "2020-01-16T17:27:55Z", "message": "Add client test for build plan link directive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b7cbe9790e561423df437629a6ebd5416d51f88", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/1b7cbe9790e561423df437629a6ebd5416d51f88", "committedDate": "2020-01-16T17:34:40Z", "message": "Add JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74ed7b57832cd2d9f69d6b310c0d7da60c888e94", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/74ed7b57832cd2d9f69d6b310c0d7da60c888e94", "committedDate": "2020-01-16T17:34:59Z", "message": "Merge branch 'develop' into enhancement/programming-exercise/dynamically-build-build-plan-links"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dac6568091b1fe0718758816b667ad477e03a2b6", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/dac6568091b1fe0718758816b667ad477e03a2b6", "committedDate": "2020-01-16T17:49:50Z", "message": "Add JenkinsBuildPlanLinkInfoContributor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/8f199db3160f0309e63413b21f9924fe8243e6d3", "committedDate": "2020-01-16T17:50:48Z", "message": "Merge remote-tracking branch 'origin/enhancement/programming-exercise/dynamically-build-build-plan-links' into enhancement/programming-exercise/dynamically-build-build-plan-links"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0Mzc3MTE4", "url": "https://github.com/ls1intum/Artemis/pull/1191#pullrequestreview-344377118", "createdAt": "2020-01-17T06:00:40Z", "commit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwNjowMDo0MFrOFeviuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwNjowMDo0MFrOFeviuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4MDUzOQ==", "bodyText": "This looks really really complicated. Can we not achieve this in an easier way?", "url": "https://github.com/ls1intum/Artemis/pull/1191#discussion_r367780539", "createdAt": "2020-01-17T06:00:40Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/scores/exercise-scores.component.ts", "diffHunk": "@@ -163,8 +168,18 @@ export class ExerciseScoresComponent implements OnInit, OnDestroy {\n     }\n \n     goToBuildPlan(result: Result) {\n-        // TODO: get the continuous integration URL as a client constant during the management info call\n-        window.open('https://bamboobruegge.in.tum.de/browse/' + (result.participation! as ProgrammingExerciseStudentParticipation).buildPlanId);\n+        const planId = (result.participation! as ProgrammingExerciseStudentParticipation).buildPlanId;\n+        const projectKey = (this.exercise as ProgrammingExercise).projectKey!;\n+        this.profileService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0Mzc3Mjgz", "url": "https://github.com/ls1intum/Artemis/pull/1191#pullrequestreview-344377283", "createdAt": "2020-01-17T06:01:25Z", "commit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwNjowMToyNVrOFevjSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwNjowMToyNVrOFevjSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4MDY4Mw==", "bodyText": "this is quite some duplicated code (see below)", "url": "https://github.com/ls1intum/Artemis/pull/1191#discussion_r367780683", "createdAt": "2020-01-17T06:01:25Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts", "diffHunk": "@@ -283,7 +288,17 @@ export class CourseExerciseDetailsComponent implements OnInit, OnDestroy {\n     }\n \n     goToBuildPlan(participation: Participation) {\n-        // TODO: get the continuous integration URL as a client constant during the management info call\n-        window.open('https://bamboobruegge.in.tum.de/browse/' + (participation as ProgrammingExerciseStudentParticipation).buildPlanId);\n+        const planId = (participation! as ProgrammingExerciseStudentParticipation).buildPlanId;\n+        const projectKey = (this.exercise as ProgrammingExercise).projectKey!;\n+        this.profileService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0Mzc3Njgy", "url": "https://github.com/ls1intum/Artemis/pull/1191#pullrequestreview-344377682", "createdAt": "2020-01-17T06:03:09Z", "commit": {"oid": "8f199db3160f0309e63413b21f9924fe8243e6d3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f316a468519cebd52c11df6006ad684b78212c3c", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/f316a468519cebd52c11df6006ad684b78212c3c", "committedDate": "2020-01-17T16:02:23Z", "message": "Add build-plan-button.directive in order to reduce code duplication"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NzI4NzYw", "url": "https://github.com/ls1intum/Artemis/pull/1191#pullrequestreview-344728760", "createdAt": "2020-01-17T17:25:10Z", "commit": {"oid": "f316a468519cebd52c11df6006ad684b78212c3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3108, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}