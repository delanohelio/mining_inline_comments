{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MTQzMDkz", "number": 1664, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowNTozOFrOEGElXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxMTowMlrOEGHDEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODAyMDEyOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/CourseResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowNTozOFrOGkpVYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowNTozOFrOGkpVYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3OTEzNg==", "bodyText": "typo, please revert", "url": "https://github.com/ls1intum/Artemis/pull/1664#discussion_r441079136", "createdAt": "2020-06-16T19:05:38Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/CourseResource.java", "diffHunk": "@@ -772,7 +784,7 @@ private boolean userHasPermission(Course course, User user) {\n     }\n \n     /**\n-     * DELETE /courses/:courseId : delete the \"id\" course.\n+     * DELETE /courses/:courseId : deletedelete the \"id\" course.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b79ba9358ad141c13206b9955cbed6f5e6b7b8eb"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODQwMTYzOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/repository/ExamRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTowNDowN1rOGktGcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTowNDowN1rOGktGcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0MDg0OA==", "bodyText": "Using both @EntityGraph and @query is redundant. We should be able to delete one.", "url": "https://github.com/ls1intum/Artemis/pull/1664#discussion_r441140848", "createdAt": "2020-06-16T21:04:07Z", "author": {"login": "kloessst"}, "path": "src/main/java/de/tum/in/www1/artemis/repository/ExamRepository.java", "diffHunk": "@@ -19,6 +21,13 @@\n \n     List<Exam> findByCourseId(Long courseId);\n \n+    @EntityGraph(type = LOAD, attributePaths = { \"exerciseGroups\" })\n+    Optional<Exam> findWithExerciseGroupsById(Long id);\n+\n     @EntityGraph(type = LOAD, attributePaths = { \"registeredUsers\" })\n     Optional<Exam> findWithRegisteredUsersById(Long id);\n+\n+    @EntityGraph(type = LOAD, attributePaths = { \"exerciseGroups\", \"studentExams\" })\n+    @Query(\"select distinct exam from Exam exam left join fetch exam.studentExams studentExams left join fetch exam.exerciseGroups exerciseGroups left join fetch exerciseGroups.exercises where (exam.id =:#{#examId})\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db7585355af2072875cd38b5b88d8424fda07f37"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODQyMjMzOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/repository/ExamRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxMDozNlrOGktTRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxMDozNlrOGktTRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0NDEzNQ==", "bodyText": "find instead of findOne. Return an Optional", "url": "https://github.com/ls1intum/Artemis/pull/1664#discussion_r441144135", "createdAt": "2020-06-16T21:10:36Z", "author": {"login": "kloessst"}, "path": "src/main/java/de/tum/in/www1/artemis/repository/ExamRepository.java", "diffHunk": "@@ -19,6 +21,13 @@\n \n     List<Exam> findByCourseId(Long courseId);\n \n+    @EntityGraph(type = LOAD, attributePaths = { \"exerciseGroups\" })\n+    Optional<Exam> findWithExerciseGroupsById(Long id);\n+\n     @EntityGraph(type = LOAD, attributePaths = { \"registeredUsers\" })\n     Optional<Exam> findWithRegisteredUsersById(Long id);\n+\n+    @EntityGraph(type = LOAD, attributePaths = { \"exerciseGroups\", \"studentExams\" })\n+    @Query(\"select distinct exam from Exam exam left join fetch exam.studentExams studentExams left join fetch exam.exerciseGroups exerciseGroups left join fetch exerciseGroups.exercises where (exam.id =:#{#examId})\")\n+    Exam findOneWithEagerExercisesGroupsAndStudentExams(@Param(\"examId\") long examId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db7585355af2072875cd38b5b88d8424fda07f37"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODQyMzg1OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxMTowMlrOGktUMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxMTowMlrOGktUMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0NDM3MQ==", "bodyText": "Add new entity not found exception", "url": "https://github.com/ls1intum/Artemis/pull/1664#discussion_r441144371", "createdAt": "2020-06-16T21:11:02Z", "author": {"login": "kloessst"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -74,6 +86,16 @@ public Exam findOneWithRegisteredUsers(Long examId) {\n         return examRepository.findByCourseId(courseId);\n     }\n \n+    /**\n+     * Get the exam of a course with exercise groups and student exams\n+     * @param examId {Long} The courseId of the course which contains the exam\n+     * @return The exam\n+     */\n+    public Exam findOneWithExercisesGroupsAndStudentExamsByExamId(Long examId) {\n+        log.debug(\"REST request to get the exam with student exams and exercise groups for Id : {}\", examId);\n+        return examRepository.findOneWithEagerExercisesGroupsAndStudentExams(examId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db7585355af2072875cd38b5b88d8424fda07f37"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4884, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}