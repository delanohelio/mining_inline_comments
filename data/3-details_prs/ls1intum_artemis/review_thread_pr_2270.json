{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NTY4MDgz", "number": 2270, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxODo1NToyMVrOExsGLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxODo1Njo1NFrOExsGuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNTM4MTU3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxODo1NToyMVrOHn7tGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxOToxNDo0NlrOHn71FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDcxMw==", "bodyText": "can you document this? I'm not really sure if I understand the code.\nIf this.studentQuestions is not undefined and not null, which part has injected it?\nAs it is not a ViewChild, I don't see the magic behind this approach", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634713", "createdAt": "2020-10-25T18:55:21Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -51,6 +53,9 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n                 this.lecture = null;\n                 this.lectureService.find(params.lectureId).subscribe((lectureResponse: HttpResponse<Lecture>) => {\n                     this.lecture = lectureResponse.body;\n+                    if (this.studentQuestions) {\n+                        this.onChildActivate(this.studentQuestions);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjc1Ng==", "bodyText": "I updated the code to be more clear.\nonChildActivate gets called by the router outlet when the child component is mounted. If the exercise is already loaded it gets set to the mounted component. But it might also be that the component gets mounted before the exercise is fetched therefore I save a reference to the component instance and also set the exercise when it is loaded. So it works both ways whichever gets loaded first.", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636756", "createdAt": "2020-10-25T19:14:46Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -51,6 +53,9 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n                 this.lecture = null;\n                 this.lectureService.find(params.lectureId).subscribe((lectureResponse: HttpResponse<Lecture>) => {\n                     this.lecture = lectureResponse.body;\n+                    if (this.studentQuestions) {\n+                        this.onChildActivate(this.studentQuestions);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDcxMw=="}, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNTM4MTkyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxODo1NTo1M1rOHn7tQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxOToxNDo0OVrOHn71HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDc1Mg==", "bodyText": "this code is only invoked (see above) if this.studentQuestions is available. Why do we need to re-assign it here?", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634752", "createdAt": "2020-10-25T18:55:53Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -85,4 +90,12 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n             this.isDownloadingLink = null;\n         }\n     }\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {\n+        this.studentQuestions = ref;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjc2NA==", "bodyText": "see my other comment", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636764", "createdAt": "2020-10-25T19:14:49Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -85,4 +90,12 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n             this.isDownloadingLink = null;\n         }\n     }\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {\n+        this.studentQuestions = ref;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDc1Mg=="}, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNTM4Mjk2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxODo1Njo1NFrOHn7tuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNVQxOToxMTo1MlrOHn7z-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDg3Mw==", "bodyText": "please add this code earlier in the file before the section ONLY FOR LOCAL TESTING PURPOSE\nplease also add some documentation here", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634873", "createdAt": "2020-10-25T18:56:54Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts", "diffHunk": "@@ -407,4 +413,12 @@ export class CourseExerciseDetailsComponent implements OnInit, OnDestroy {\n     }\n \n     // ################## ONLY FOR LOCAL TESTING PURPOSE -- END ##################\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjQ3Mg==", "bodyText": "done", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636472", "createdAt": "2020-10-25T19:11:52Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts", "diffHunk": "@@ -407,4 +413,12 @@ export class CourseExerciseDetailsComponent implements OnInit, OnDestroy {\n     }\n \n     // ################## ONLY FOR LOCAL TESTING PURPOSE -- END ##################\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDg3Mw=="}, "originalCommit": {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4587, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}