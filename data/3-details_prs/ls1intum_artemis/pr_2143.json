{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NjAwODk3", "number": 2143, "title": "Enable account registration", "bodyText": "This PR enables the registration functionality that is offered by default by the jhipster template.\nBy default, it is disabled. Admins can enable it in the yml file.\nThey can also specify a certain email regex pattern for specific emails (e.g. @tum.de).\nFixes #1987\nChecklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I added authorities to all new routes and check the course groups for displaying navigation elements (links, buttons)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nAllow Artemis admins to activate the default Jhipster registration functionality.\nDescription\nadditional client side improvements:\n\neliminate lots of duplicated code in quiz statistics, fix a couple of issues with respect to the charts display\nadapt new jhipster code for components in the account module\nuse a constant for roles\nremove sugar as it was not needed\n\nMissing\n\n Improve error handling when the registration does not work, currently the error shown to the user is generic (Will be resolved in a follow up PR)\n Email pattern display and validation on client side (the one that can specified by the admin in yml)\n Testing all the different cases extensively\n\nSteps for Testing on Test Server 2\n\nMake sure you are not logged in\nClick on Register and follow the steps (email -> activation -> login)\nCheck that the user is also created on Gitlab\nClick on Passwort Reset and follow the steps\nCheck that the changed password was also updated on Gitlab after reset\nTry out password change (in the user menu in the upper right corner)\nTry out settings with name changes (in the user menu in the upper right corner)\nPlease also test quiz statistics and check everything is working properly (I removed lots of duplicated code)\n\nTest Coverage\n\nServer:\n\nAccountResource: 78%\nUserService: 81%\n\n\nClient:\n\nmain/webapp/app/account/activate: 81 %\nmain/webapp/app/account/password: 80 %\nmain/webapp/app/account/password-reset/finish: 96 %\nmain/webapp/app/account/password-reset/init: 87 %\nmain/webapp/app/account/register: 83 %\nmain/webapp/app/account/settings: 94 %\n\n\n\nScreenshots", "createdAt": "2020-10-01T23:31:20Z", "url": "https://github.com/ls1intum/Artemis/pull/2143", "merged": true, "mergeCommit": {"oid": "8e5a382d8cb39463b7770007083b641fe17ed815"}, "closed": true, "closedAt": "2020-10-06T23:59:50Z", "author": {"login": "krusche"}, "timelineItems": {"totalCount": 68, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdN4x0agH2gAyNDk2NjAwODk3OmM4MjJkMmNmZTFiMGFmNTk1MTNlNjg1MzJjZDgxYmQxZDVhYTY1MTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQBNyHgFqTUwMzQzMzU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c822d2cfe1b0af59513e68532cd81bd1d5aa6511", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c822d2cfe1b0af59513e68532cd81bd1d5aa6511", "committedDate": "2020-09-30T08:47:21Z", "message": "add new config options for offering registration in Artemis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c3c644633c5ac731caca5e4ebc3d8751c1c0e85", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/1c3c644633c5ac731caca5e4ebc3d8751c1c0e85", "committedDate": "2020-10-01T07:39:37Z", "message": "adapt some email properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3986df41187cfeff422a8bb6273fa55113797edc", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3986df41187cfeff422a8bb6273fa55113797edc", "committedDate": "2020-10-01T08:16:45Z", "message": "add first name and last name to registration\n\nadd some TODOs for improved error handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66b3ba79e1257d8311a2af920b83a9abf7d1c7a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c66b3ba79e1257d8311a2af920b83a9abf7d1c7a", "committedDate": "2020-10-01T09:19:59Z", "message": "add password reset link to start page, show settings and password page if registration is enabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c94206921b679a5cf5a89d21e416a7f0d644a02", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3c94206921b679a5cf5a89d21e416a7f0d644a02", "committedDate": "2020-10-01T09:48:55Z", "message": "improve client settings, sync user creation, changes, deletion with external systems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba8c8b05795c1e4242d7169bbc80000a943f0966", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/ba8c8b05795c1e4242d7169bbc80000a943f0966", "committedDate": "2020-10-01T11:02:54Z", "message": "Merge branch 'develop' into feature/account-setup\n\n# Conflicts:\n#\tsrc/main/webapp/app/account/settings/settings.component.ts\n#\tsrc/main/webapp/app/shared/layouts/navbar/navbar.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40032b1f430d78331fc22c2f207db71e2689a26b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/40032b1f430d78331fc22c2f207db71e2689a26b", "committedDate": "2020-10-01T11:17:15Z", "message": "fix server tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "913092d94e8470403ced99df521b17ca965fe431", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/913092d94e8470403ced99df521b17ca965fe431", "committedDate": "2020-10-01T23:08:49Z", "message": "various client side improvements\n\neliminate lots of duplicated code in quiz statistics\nadapt new jhipster code for components in the account module\nuse a constant for roles\nremove sugar\nfix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ffaa98e7a457516d0fad7917d3190395a1a6175", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6ffaa98e7a457516d0fad7917d3190395a1a6175", "committedDate": "2020-10-01T23:24:27Z", "message": "fix a couple of issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1f1830a94801fe26f2d2fa567d5d02e6f7cafbc", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c1f1830a94801fe26f2d2fa567d5d02e6f7cafbc", "committedDate": "2020-10-02T09:08:13Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efaf9f4201c9aa1b277173f688522b4510093c60", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/efaf9f4201c9aa1b277173f688522b4510093c60", "committedDate": "2020-10-02T10:06:58Z", "message": "implement reamining functionality for email validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f7490447a86d8e07d3e6fc2ffda7cc8454a96a3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8f7490447a86d8e07d3e6fc2ffda7cc8454a96a3", "committedDate": "2020-10-02T10:33:56Z", "message": "move super class into its own file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d11d25f32b9fcde405f8c7a41270623aa78c9dc0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d11d25f32b9fcde405f8c7a41270623aa78c9dc0", "committedDate": "2020-10-02T11:01:47Z", "message": "further reduce duplicated code in quiz statistics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf7b68ac97a2e6ac6b25b0306f1a8c72de00e40d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/cf7b68ac97a2e6ac6b25b0306f1a8c72de00e40d", "committedDate": "2020-10-02T11:21:35Z", "message": "small improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3a829370b0e447eb401b51c355eb2b39779f002", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/e3a829370b0e447eb401b51c355eb2b39779f002", "committedDate": "2020-10-02T11:32:53Z", "message": "disable changing the email over settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d07bfc71c6c9e5e8d2c8ab4e432d9ae5414a38be", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d07bfc71c6c9e5e8d2c8ab4e432d9ae5414a38be", "committedDate": "2020-10-02T12:18:29Z", "message": "fix auto complete attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a000612abc4349e1cb9a2b2f233cc401564259b", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/0a000612abc4349e1cb9a2b2f233cc401564259b", "committedDate": "2020-10-03T06:17:30Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c4f597932c040d30d54c1401663fa2317e6cba2", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6c4f597932c040d30d54c1401663fa2317e6cba2", "committedDate": "2020-10-03T15:51:16Z", "message": "update dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3a64b26a7361bd4e4b0a2b66fa8f49587eba7b4", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/b3a64b26a7361bd4e4b0a2b66fa8f49587eba7b4", "committedDate": "2020-10-03T16:02:29Z", "message": "add some testing code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cec574a506fff0ecfddf784ccb6397c2a5c0a446", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/cec574a506fff0ecfddf784ccb6397c2a5c0a446", "committedDate": "2020-10-03T18:54:17Z", "message": "adapt example for regex for user registration, uncomment test code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d735d631481362d28378adb5e8690cb49a9ab79f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d735d631481362d28378adb5e8690cb49a9ab79f", "committedDate": "2020-10-03T19:04:36Z", "message": "add some initial documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cc334528262afe68d9673124d84c05680bb8ae6", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8cc334528262afe68d9673124d84c05680bb8ae6", "committedDate": "2020-10-03T20:33:09Z", "message": "change order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87f90ed78b8219999f131d67d0aa015d02214832", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/87f90ed78b8219999f131d67d0aa015d02214832", "committedDate": "2020-10-03T20:57:37Z", "message": "add information about email settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6edd66136232f9c6a2afd92246c1cd5916dd98b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a6edd66136232f9c6a2afd92246c1cd5916dd98b", "committedDate": "2020-10-03T21:01:41Z", "message": "fix email URLs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7001146d3b666e7ffb53b1b1cb947f7f4fa90eda", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/7001146d3b666e7ffb53b1b1cb947f7f4fa90eda", "committedDate": "2020-10-03T21:02:41Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da94fce13cee56213f90e50c7957cd8bb5319093", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/da94fce13cee56213f90e50c7957cd8bb5319093", "committedDate": "2020-10-03T21:39:04Z", "message": "change password in gitlab when user changes the password in Artemis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "610d3b91e5c79813636195019716eb5e19e004ef", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/610d3b91e5c79813636195019716eb5e19e004ef", "committedDate": "2020-10-04T09:20:40Z", "message": "fix lint issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aec196a78fa56d8b7ee95116f5cde4fa6e8a469", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9aec196a78fa56d8b7ee95116f5cde4fa6e8a469", "committedDate": "2020-10-04T09:35:04Z", "message": "update client dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8e8e1b892b6d3cc5192a16287f494bfb9931b3c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a8e8e1b892b6d3cc5192a16287f494bfb9931b3c", "committedDate": "2020-10-04T09:35:58Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ccc534f88d29ea41044aa7fa1150cc08f44c44a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/5ccc534f88d29ea41044aa7fa1150cc08f44c44a", "committedDate": "2020-10-04T21:12:00Z", "message": "fix issues in quiz statistics and further improve code quality\n\nfix colors and resizing when switching between rated and unrated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aabdeac0fcd530ace84d11760fcffb8e4e031f2c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/aabdeac0fcd530ace84d11760fcffb8e4e031f2c", "committedDate": "2020-10-04T21:14:26Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7836707ecf6dbb7f18692dc7b8d8edf4b342082e", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7836707ecf6dbb7f18692dc7b8d8edf4b342082e", "committedDate": "2020-10-05T07:25:19Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ee5a1e3399a650159cb8096c26bd0bd6918dd68", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/1ee5a1e3399a650159cb8096c26bd0bd6918dd68", "committedDate": "2020-10-05T08:56:44Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a05cca020103877fd49fae0c43bc3dac3625b9a5", "committedDate": "2020-10-05T15:19:02Z", "message": "update client dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjEyNDk3", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502212497", "createdAt": "2020-10-05T16:12:14Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjE2ODI0", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502216824", "createdAt": "2020-10-05T16:17:14Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjoxNzoxNFrOHckXJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjoxNzoxNFrOHckXJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNzkyNw==", "bodyText": "This line seems erroneous, as we don't expect a . in the domain, but allow any value.\nThis would e.g. allow the domain inAtum.de to register users.\nI believe this can be fixed be escaping the dot.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)\n          \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum\\.de)|(in\\.tum\\.de)|(mytum\\.de)", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499717927", "createdAt": "2020-10-05T16:17:14Z", "author": {"login": "sleiss"}, "path": "docs/admin/registration.rst", "diffHunk": "@@ -0,0 +1,41 @@\n+Artemis supports user registration based on the Jhipster template.\n+User registration has to be enabled in one ``application-*.yml`` file and can be customized.\n+\n+Example:\n+\n+.. code:: yaml\n+\n+    artemis:\n+        user-management:\n+            use-external: false\n+            registration:\n+                enabled: true\n+                allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjI0OTE0", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502224914", "createdAt": "2020-10-05T16:27:27Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjoyNzoyN1rOHckvmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNjoyNzoyN1rOHckvmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNDE4NA==", "bodyText": "Actually, there is another flaw as it seems:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)\n          \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum\\.de|in\\.tum\\.de|mytum\\.de)", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499724184", "createdAt": "2020-10-05T16:27:27Z", "author": {"login": "sleiss"}, "path": "docs/admin/registration.rst", "diffHunk": "@@ -0,0 +1,41 @@\n+Artemis supports user registration based on the Jhipster template.\n+User registration has to be enabled in one ``application-*.yml`` file and can be customized.\n+\n+Example:\n+\n+.. code:: yaml\n+\n+    artemis:\n+        user-management:\n+            use-external: false\n+            registration:\n+                enabled: true\n+                allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjUyODYw", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502252860", "createdAt": "2020-10-05T17:03:51Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzowMzo1MVrOHcmB1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzowMzo1MVrOHcmB1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0NTIzNw==", "bodyText": "What is the reason for the [/] brackets? I find them quite uncommon in this context.", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499745237", "createdAt": "2020-10-05T17:03:51Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/account/password/password.component.html", "diffHunk": "@@ -1,92 +1,119 @@\n-<div>\n+<div *ngIf=\"isRegistrationEnabled\">\n     <div class=\"row justify-content-center\">\n-        <div class=\"col-md-8\">\n-            <h2 jhiTranslate=\"password.title\" [translateValues]=\"{ username: user.login }\" *ngIf=\"user\">\n-                Password for [<b>{{ user.login }}</b\n+        <div class=\"col-md-8\" *ngIf=\"user\">\n+            <h2 jhiTranslate=\"password.title\" [translateValues]=\"{ username: user.login }\">\n+                Password for [<strong>{{ user.login }}</strong", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjU3NTU2", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502257556", "createdAt": "2020-10-05T17:10:36Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMzM3NjU4", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-502337658", "createdAt": "2020-10-05T19:02:14Z", "commit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxOTowMjoxNFrOHcp6gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxOTowODoxNlrOHcqGxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODg5OQ==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499808899", "createdAt": "2020-10-05T19:02:14Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -81,6 +101,9 @@ public void registerAccount(@Valid @RequestBody ManagedUserVM managedUserVM) {\n      */\n     @GetMapping(\"/activate\")\n     public void activateAccount(@RequestParam(value = \"key\") String key) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwOTc5MA==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499809790", "createdAt": "2020-10-05T19:04:02Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -66,9 +75,20 @@ public AccountResource(UserRepository userRepository, UserService userService, M\n     @PostMapping(\"/register\")\n     @ResponseStatus(HttpStatus.CREATED)\n     public void registerAccount(@Valid @RequestBody ManagedUserVM managedUserVM) {\n-        if (!checkPasswordLength(managedUserVM.getPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMDczOA==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499810738", "createdAt": "2020-10-05T19:05:48Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -135,6 +160,9 @@ public UserDTO getAccount() {\n      */\n     @PostMapping(\"/account\")\n     public void saveAccount(@Valid @RequestBody UserDTO userDTO) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMTU3Nw==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499811577", "createdAt": "2020-10-05T19:07:22Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -155,7 +183,10 @@ public void saveAccount(@Valid @RequestBody UserDTO userDTO) {\n      */\n     @PostMapping(path = \"/account/change-password\")\n     public void changePassword(@RequestBody PasswordChangeDTO passwordChangeDto) {\n-        if (!checkPasswordLength(passwordChangeDto.getNewPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMTk4Ng==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499811986", "createdAt": "2020-10-05T19:08:10Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -168,6 +199,9 @@ public void changePassword(@RequestBody PasswordChangeDTO passwordChangeDto) {\n      */\n     @PostMapping(path = \"/account/reset-password/init\")\n     public void requestPasswordReset(@RequestBody String mail) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMjAzOA==", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499812038", "createdAt": "2020-10-05T19:08:16Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -188,7 +222,10 @@ public void requestPasswordReset(@RequestBody String mail) {\n      */\n     @PostMapping(path = \"/account/reset-password/finish\")\n     public void finishPasswordReset(@RequestBody KeyAndPasswordVM keyAndPassword) {\n-        if (!checkPasswordLength(keyAndPassword.getNewPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5"}, "originalPosition": 120}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08a6dcdcd2ce67cd169e4b32bade0f5dbf75686e", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/08a6dcdcd2ce67cd169e4b32bade0f5dbf75686e", "committedDate": "2020-10-06T14:02:28Z", "message": "update client dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c713ee9653faaf2004388d0d4b8375763d39927c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c713ee9653faaf2004388d0d4b8375763d39927c", "committedDate": "2020-10-06T14:08:08Z", "message": "fix regex"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b3ee17b94dbddfeb7cca82f232111b781d0e27e", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/7b3ee17b94dbddfeb7cca82f232111b781d0e27e", "committedDate": "2020-10-06T14:08:44Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efcf439c5f2eb7f4b3fccb074828e350d41788d8", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/efcf439c5f2eb7f4b3fccb074828e350d41788d8", "committedDate": "2020-10-06T14:08:49Z", "message": "Merge branch 'feature/account-setup' of https://github.com/ls1intum/Artemis into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a035de210708bc7af3b8b22dbbf67def3cbc4c0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8a035de210708bc7af3b8b22dbbf67def3cbc4c0", "committedDate": "2020-10-06T14:13:24Z", "message": "fix boolean check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edb086d499e4008687b15455294bdfdcf7357268", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/edb086d499e4008687b15455294bdfdcf7357268", "committedDate": "2020-10-06T14:52:27Z", "message": "make sure users are activated when they login through JIRA or LTI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7175ff9fb2d7036426adbdd0cbc9e3e42abbc05f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7175ff9fb2d7036426adbdd0cbc9e3e42abbc05f", "committedDate": "2020-10-06T15:23:29Z", "message": "fix regex"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b36d181c7ba7f7e4a62f46f023a884d236052222", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/b36d181c7ba7f7e4a62f46f023a884d236052222", "committedDate": "2020-10-06T15:34:14Z", "message": "handle non activated users in ArtemisInternalAuthenticationProvider as well"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "566a6256598be0a13f60a572e7bdd19e33e703a5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/566a6256598be0a13f60a572e7bdd19e33e703a5", "committedDate": "2020-10-06T15:45:36Z", "message": "fix issue with next relevant exercise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65bc1ee6caa53b5f6c32890cc67f328acc37904e", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/65bc1ee6caa53b5f6c32890cc67f328acc37904e", "committedDate": "2020-10-06T21:59:51Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzkwODk2", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503390896", "createdAt": "2020-10-06T22:01:53Z", "commit": {"oid": "65bc1ee6caa53b5f6c32890cc67f328acc37904e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "034a52926c873a80112b866d5bde63dcca0aa5c6", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/034a52926c873a80112b866d5bde63dcca0aa5c6", "committedDate": "2020-10-06T22:12:43Z", "message": "fix issues with statistics\n\ncalculate height appropriately\nshow correct letters\nupdate height when switching"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/21d16f32e9c701c05b39d96c4bebf51af171f1fa", "committedDate": "2020-10-06T22:12:51Z", "message": "Merge branch 'feature/account-setup' of https://github.com/ls1intum/Artemis into feature/account-setup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDAxNzQ1", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503401745", "createdAt": "2020-10-06T22:24:04Z", "commit": {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoyNDowNFrOHdcBuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoyNDowNFrOHdcBuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyOTk0NA==", "bodyText": "We should be able to do that as well:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@((tum\\.de)|(in\\.tum\\.de)|(mytum\\.de))\n          \n          \n            \n                        allowed-email-pattern: [a-zA-Z0-9_\\-\\.\\+]+@(tum\\.de|in\\.tum\\.de|mytum\\.de)", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500629944", "createdAt": "2020-10-06T22:24:04Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/resources/config/application-artemis.yml", "diffHunk": "@@ -21,6 +21,10 @@ artemis:\n         internal-admin:\n             username: artemis_admin\n             password: artemis_admin\n+        registration:\n+            enabled: false\n+            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@((tum\\.de)|(in\\.tum\\.de)|(mytum\\.de))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a3785e55a6b2fee11bfaf56e811f59b801ac2b7", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6a3785e55a6b2fee11bfaf56e811f59b801ac2b7", "committedDate": "2020-10-06T22:25:29Z", "message": "update dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "348ad3587c3b81b93242149ac4fa61bb36a40cbf", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/348ad3587c3b81b93242149ac4fa61bb36a40cbf", "committedDate": "2020-10-06T22:28:53Z", "message": "Merge branch 'develop' into feature/account-setup\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/file-upload/assess/file-upload-assessment.component.ts\n#\tsrc/main/webapp/app/exercises/modeling/assess/modeling-assessment-editor/modeling-assessment-editor.component.ts\n#\tsrc/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.ts\n#\tsrc/main/webapp/app/exercises/text/assess-new/text-submission-assessment.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53c8d8b7ec37ebcfe22681ba87e70bf9596d0013", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/53c8d8b7ec37ebcfe22681ba87e70bf9596d0013", "committedDate": "2020-10-06T22:30:59Z", "message": "fix last case for wrong boolean comparison"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3645d8753fd23ad2ea6db799275f6bdfee522ca5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3645d8753fd23ad2ea6db799275f6bdfee522ca5", "committedDate": "2020-10-06T22:32:27Z", "message": "simplify regex"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDA0MDEw", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503404010", "createdAt": "2020-10-06T22:28:53Z", "commit": {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoyODo1M1rOHdcI9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjozMDoyNVrOHdcLXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMTc5OQ==", "bodyText": "Is this still needed?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                        <!-- TEST CODE -->\n          \n          \n            \n                        <!--            <div class=\"form-group\">-->\n          \n          \n            \n                        <!--                <label style=\"color: red\" class=\"form-control-label\">Email Pattern for Testing</label>-->\n          \n          \n            \n                        <!--                <input style=\"color: red\" class=\"form-control\" id=\"regex\" name=\"regex\" [(ngModel)]=\"allowedEmailPattern\" (ngModelChange)=\"updateAllowedEmailPattern()\" />-->\n          \n          \n            \n                        <!--            </div>-->\n          \n          \n            \n                        <!-- TEST CODE -->", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500631799", "createdAt": "2020-10-06T22:28:53Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/account/register/register.component.html", "diffHunk": "@@ -1,8 +1,15 @@\n-<div>\n+<div *ngIf=\"isRegistrationEnabled\">\n     <div class=\"row justify-content-center\">\n         <div class=\"col-md-8\">\n             <h1 jhiTranslate=\"register.title\">Registration</h1>\n \n+            <!-- TEST CODE -->\n+            <!--            <div class=\"form-group\">-->\n+            <!--                <label style=\"color: red\" class=\"form-control-label\">Email Pattern for Testing</label>-->\n+            <!--                <input style=\"color: red\" class=\"form-control\" id=\"regex\" name=\"regex\" [(ngModel)]=\"allowedEmailPattern\" (ngModelChange)=\"updateAllowedEmailPattern()\" />-->\n+            <!--            </div>-->\n+            <!-- TEST CODE -->\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMjQxMw==", "bodyText": "Is this still needed?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // TEST CODE BEGIN\n          \n          \n            \n                // updateAllowedEmailPattern() {\n          \n          \n            \n                //     if (this.allowedEmailPattern) {\n          \n          \n            \n                //         this.registerForm.get('email')!\n          \n          \n            \n                //         .setValidators([Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.allowedEmailPattern)]);\n          \n          \n            \n                //     }\n          \n          \n            \n                // }\n          \n          \n            \n                // TEST CODE END", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500632413", "createdAt": "2020-10-06T22:30:25Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/account/register/register.component.ts", "diffHunk": "@@ -1,69 +1,107 @@\n-import { AfterViewInit, Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\n+import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n import { HttpErrorResponse } from '@angular/common/http';\n-import { NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\n import { JhiLanguageService } from 'ng-jhipster';\n \n import { RegisterService } from 'app/account/register/register.service';\n import { User } from 'app/core/user/user.model';\n import { EMAIL_ALREADY_USED_TYPE, LOGIN_ALREADY_USED_TYPE } from 'app/shared/constants/error.constants';\n+import { ProfileService } from 'app/shared/layouts/profiles/profile.service';\n+import { FormBuilder, Validators } from '@angular/forms';\n \n @Component({\n     selector: 'jhi-register',\n     templateUrl: './register.component.html',\n })\n export class RegisterComponent implements OnInit, AfterViewInit {\n-    confirmPassword: string;\n-    doNotMatch?: string;\n-    error?: string;\n-    errorEmailExists?: string;\n-    errorUserExists?: string;\n-    registerAccount: User;\n-    success: boolean;\n-    modalRef: NgbModalRef;\n+    @ViewChild('login', { static: false })\n+    login?: ElementRef;\n \n-    constructor(private languageService: JhiLanguageService, private registerService: RegisterService, private elementRef: ElementRef, private renderer: Renderer2) {}\n+    doNotMatch = false;\n+    error = false;\n+    errorEmailExists = false;\n+    errorUserExists = false;\n+    success = false;\n \n-    ngOnInit() {\n-        this.success = false;\n-        this.registerAccount = new User();\n+    defaultEmailPattern = '^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$';\n+\n+    registerForm = this.fb.group({\n+        firstName: ['', [Validators.required, Validators.minLength(2)]],\n+        lastName: ['', [Validators.required, Validators.minLength(2)]],\n+        login: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.defaultEmailPattern)]],\n+        email: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],\n+        password: ['', [Validators.required, Validators.minLength(8), Validators.maxLength(50)]],\n+        confirmPassword: ['', [Validators.required, Validators.minLength(8), Validators.maxLength(50)]],\n+    });\n+    isRegistrationEnabled = false;\n+    allowedEmailPattern?: string;\n+    allowedEmailPatternReadable?: string;\n+\n+    constructor(private languageService: JhiLanguageService, private registerService: RegisterService, private fb: FormBuilder, private profileService: ProfileService) {}\n+\n+    ngAfterViewInit(): void {\n+        if (this.login) {\n+            this.login.nativeElement.focus();\n+        }\n     }\n \n-    ngAfterViewInit() {\n-        this.renderer.selectRootElement('#login', true).focus();\n+    // TEST CODE BEGIN\n+    // updateAllowedEmailPattern() {\n+    //     if (this.allowedEmailPattern) {\n+    //         this.registerForm.get('email')!\n+    //         .setValidators([Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.allowedEmailPattern)]);\n+    //     }\n+    // }\n+    // TEST CODE END", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "348ad3587c3b81b93242149ac4fa61bb36a40cbf"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/0bb2e7999aa14855de8c617f3e23b72366256f48", "committedDate": "2020-10-06T22:39:53Z", "message": "Spring does not like all characters in yml files so we need to put the regex into a string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDEwMDg3", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503410087", "createdAt": "2020-10-06T22:42:47Z", "commit": {"oid": "3645d8753fd23ad2ea6db799275f6bdfee522ca5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDEzNDk4", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503413498", "createdAt": "2020-10-06T22:50:57Z", "commit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDE0NDQ0", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503414444", "createdAt": "2020-10-06T22:53:13Z", "commit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjo1MzoxM1rOHdcriw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMzowNjo0OVrOHdc8oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDY1MQ==", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",\n          \n          \n            \n                                \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 100 Zeichen sein\",", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640651", "createdAt": "2020-10-06T22:53:13Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/i18n/de/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Ein neues Passwort wird ben\u00f6tigt.\",\n-                    \"minlength\": \"Das neue Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das neue Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDg0NQ==", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 50 Zeichen sein\"\n          \n          \n            \n                                \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 100 Zeichen sein\"", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640845", "createdAt": "2020-10-06T22:53:50Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/i18n/de/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Ein neues Passwort wird ben\u00f6tigt.\",\n-                    \"minlength\": \"Das neue Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das neue Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",\n                     \"strength\": \"Passwortst\u00e4rke:\"\n                 },\n                 \"confirmpassword\": {\n                     \"required\": \"Du musst das Passwort best\u00e4tigen.\",\n-                    \"minlength\": \"Das best\u00e4tigte Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das best\u00e4tigte Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 50 Zeichen sein\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDkyOA==", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Your password cannot be longer than 50 characters.\",\n          \n          \n            \n                                \"maxlength\": \"Your password cannot be longer than 100 characters.\",", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640928", "createdAt": "2020-10-06T22:54:07Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/i18n/en/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Your password is required.\",\n-                    \"minlength\": \"Your password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your password cannot be longer than 50 characters.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MTA1MA==", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Your confirmation password cannot be longer than 50 characters.\"\n          \n          \n            \n                                \"maxlength\": \"Your confirmation password cannot be longer than 100 characters.\"", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500641050", "createdAt": "2020-10-06T22:54:25Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/i18n/en/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Your password is required.\",\n-                    \"minlength\": \"Your password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your password cannot be longer than 50 characters.\",\n                     \"strength\": \"Password strength:\"\n                 },\n                 \"confirmpassword\": {\n                     \"required\": \"Your confirmation password is required.\",\n-                    \"minlength\": \"Your confirmation password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your confirmation password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your confirmation password cannot be longer than 50 characters.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0Mjk0Mg==", "bodyText": "This does not match with the localization", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500642942", "createdAt": "2020-10-06T22:59:52Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/account/register/register.component.html", "diffHunk": "@@ -20,129 +27,176 @@ <h1 jhiTranslate=\"register.title\">Registration</h1>\n             <div class=\"alert alert-danger\" *ngIf=\"doNotMatch\" jhiTranslate=\"global.messages.error.dontmatch\">The password and its confirmation do not match!</div>\n         </div>\n     </div>\n+\n     <div class=\"row justify-content-center\">\n         <div class=\"col-md-8\">\n-            <form name=\"form\" role=\"form\" (ngSubmit)=\"register()\" #registerForm=\"ngForm\" *ngIf=\"!success\">\n+            <form name=\"form\" role=\"form\" (ngSubmit)=\"register()\" [formGroup]=\"registerForm\" *ngIf=\"!success\">\n+                <div class=\"form-group\">\n+                    <label class=\"form-control-label\" for=\"firstName\" jhiTranslate=\"global.form.firstname\">First name</label>\n+                    <input\n+                        type=\"text\"\n+                        class=\"form-control\"\n+                        id=\"firstName\"\n+                        name=\"firstName\"\n+                        autocomplete=\"given-name\"\n+                        placeholder=\"{{ 'global.form.firstname.placeholder' | translate }}\"\n+                        formControlName=\"firstName\"\n+                    />\n+                </div>\n+                <div class=\"form-group\">\n+                    <label class=\"form-control-label\" for=\"lastName\" jhiTranslate=\"global.form.lastname\">Last name</label>\n+                    <input\n+                        type=\"text\"\n+                        class=\"form-control\"\n+                        id=\"lastName\"\n+                        name=\"lastName\"\n+                        autocomplete=\"last-name\"\n+                        placeholder=\"{{ 'global.form.lastname.placeholder' | translate }}\"\n+                        formControlName=\"lastName\"\n+                    />\n+                </div>\n                 <div class=\"form-group\">\n                     <label class=\"form-control-label\" for=\"login\" jhiTranslate=\"global.form.username\">Username</label>\n                     <input\n                         type=\"text\"\n                         class=\"form-control\"\n-                        [(ngModel)]=\"registerAccount.login\"\n                         id=\"login\"\n                         name=\"login\"\n-                        #login=\"ngModel\"\n+                        autocomplete=\"username\"\n                         placeholder=\"{{ 'global.form.username.placeholder' | translate }}\"\n-                        required\n-                        minlength=\"1\"\n-                        maxlength=\"50\"\n-                        pattern=\"^[_'.@A-Za-z0-9-]*$\"\n+                        formControlName=\"login\"\n+                        #login\n                     />\n-                    <div *ngIf=\"login.dirty && login.invalid\">\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.required\" jhiTranslate=\"register.messages.validate.login.required\">\n+\n+                    <div *ngIf=\"registerForm.get('login')!.invalid && (registerForm.get('login')!.dirty || registerForm.get('login')!.touched)\">\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.required\" jhiTranslate=\"register.messages.validate.login.required\">\n                             Your username is required.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.minlength\" jhiTranslate=\"register.messages.validate.login.minlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.minlength\" jhiTranslate=\"register.messages.validate.login.minlength\">\n                             Your username is required to be at least 1 character.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.maxlength\" jhiTranslate=\"register.messages.validate.login.maxlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.maxlength\" jhiTranslate=\"register.messages.validate.login.maxlength\">\n                             Your username cannot be longer than 50 characters.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.pattern\" jhiTranslate=\"register.messages.validate.login.pattern\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.pattern\" jhiTranslate=\"register.messages.validate.login.pattern\">\n                             Your username can only contain letters and digits.\n                         </small>\n                     </div>\n                 </div>\n+\n+                <div class=\"form-group\" *ngIf=\"allowedEmailPatternReadable\">\n+                    <strong jhiTranslate=\"global.form.email.pattern\">Please use an email with the following pattern:</strong>\n+                    {{ allowedEmailPatternReadable }}\n+                </div>\n+\n                 <div class=\"form-group\">\n                     <label class=\"form-control-label\" for=\"email\" jhiTranslate=\"global.form.email\">Email</label>\n                     <input\n                         type=\"email\"\n                         class=\"form-control\"\n                         id=\"email\"\n                         name=\"email\"\n-                        #email=\"ngModel\"\n+                        autocomplete=\"email\"\n                         placeholder=\"{{ 'global.form.email.placeholder' | translate }}\"\n-                        [(ngModel)]=\"registerAccount.email\"\n-                        minlength=\"5\"\n-                        maxlength=\"100\"\n-                        email\n-                        required\n+                        formControlName=\"email\"\n                     />\n-                    <div *ngIf=\"email.dirty && email.invalid\">\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.required\" jhiTranslate=\"global.messages.validate.email.required\"> Your email is required. </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.invalid\" jhiTranslate=\"global.messages.validate.email.invalid\"> Your email is invalid. </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.minlength\" jhiTranslate=\"global.messages.validate.email.minlength\">\n+\n+                    <div *ngIf=\"registerForm.get('email')!.invalid && (registerForm.get('email')!.dirty || registerForm.get('email')!.touched)\">\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.required\" jhiTranslate=\"global.messages.validate.email.required\">\n+                            Your email is required.\n+                        </small>\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.invalid\" jhiTranslate=\"global.messages.validate.email.invalid\">\n+                            Your email is invalid.\n+                        </small>\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.minlength\" jhiTranslate=\"global.messages.validate.email.minlength\">\n                             Your email is required to be at least 5 characters.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.maxlength\" jhiTranslate=\"global.messages.validate.email.maxlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.maxlength\" jhiTranslate=\"global.messages.validate.email.maxlength\">\n                             Your email cannot be longer than 100 characters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 135}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NDY5OA==", "bodyText": "This is another maximum email length", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500644698", "createdAt": "2020-10-06T23:05:41Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/account/settings/settings.component.ts", "diffHunk": "@@ -3,88 +3,66 @@ import { FormBuilder, Validators } from '@angular/forms';\n import { JhiLanguageService } from 'ng-jhipster';\n \n import { AccountService } from 'app/core/auth/account.service';\n-import { Account } from 'app/core/user/account.model';\n-import { JhiLanguageHelper } from 'app/core/language/language.helper';\n+import { ProfileService } from 'app/shared/layouts/profiles/profile.service';\n+import { LANGUAGES } from 'app/core/language/language.constants';\n+import { User } from 'app/core/user/user.model';\n \n @Component({\n     selector: 'jhi-settings',\n     templateUrl: './settings.component.html',\n })\n export class SettingsComponent implements OnInit {\n-    error: string | null;\n-    success: string | null;\n-    settingsAccount: Account;\n-    languages: string[];\n+    success = false;\n+    account: User;\n+    languages = LANGUAGES;\n     settingsForm = this.fb.group({\n-        firstName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n-        lastName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n+        firstName: [undefined, [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n+        lastName: [undefined, [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n         email: [undefined, [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NTAyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})\n          \n          \n            \n                        allowed-email-pattern: [a-zA-Z0-9_\\-\\.\\+]+@[a-zA-Z0-9_\\-\\.]+\\.[a-zA-Z]{2,5}", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500645025", "createdAt": "2020-10-06T23:06:49Z", "author": {"login": "MaisiKoleni"}, "path": "src/test/resources/config/application-artemis.yml", "diffHunk": "@@ -21,6 +21,9 @@ artemis:\n         internal-admin:\n             username: artemis_admin\n             password: artemis_admin\n+        registration:\n+            enabled: true\n+            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ad49eb735c3c4af8cd2212012acb2a337cd9458", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/2ad49eb735c3c4af8cd2212012acb2a337cd9458", "committedDate": "2020-10-06T23:28:08Z", "message": "fix inconsistency with password and email length constraints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb593563ed15a1b8e3bb4b7a81d4ba0dfe7aef7f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/eb593563ed15a1b8e3bb4b7a81d4ba0dfe7aef7f", "committedDate": "2020-10-06T23:28:48Z", "message": "Merge branch 'develop' into feature/account-setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a53f747196e1178f0edcbc84f32703fea09dfe8b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a53f747196e1178f0edcbc84f32703fea09dfe8b", "committedDate": "2020-10-06T23:31:02Z", "message": "simplify email pattern in test.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDMxNzc4", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503431778", "createdAt": "2020-10-06T23:40:05Z", "commit": {"oid": "a53f747196e1178f0edcbc84f32703fea09dfe8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDMzNTQ2", "url": "https://github.com/ls1intum/Artemis/pull/2143#pullrequestreview-503433546", "createdAt": "2020-10-06T23:44:59Z", "commit": {"oid": "a53f747196e1178f0edcbc84f32703fea09dfe8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4259, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}