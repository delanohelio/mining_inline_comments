{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMTQ3Njcy", "number": 1525, "title": "Prototype for programming exercises with static code analysis", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple integration tests (Jest) related to the features\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nThe bamboo server notification plugin is now able to send issues found by static code analysis to Artemis. At the moment, Artemis ignores the new incoming data. See Issue 1499. We introduce an option to enable static code analysis during the creation of Java programming exercises. The test repository and the build plan will be configured to contain the additional dependencies and tasks to execute static code analysis. Artemis will transform the incoming static code analysis reports to Feedback and display the items in an extended results details component. Additionally, the 'Download build result' feature has been adapted to work in the presence of multiple artifacts.\nDescription\nDatabase\n\n\nThe programming exercise entity will be extended by a new attribute staticCodeAnalysisEnabled, which indicates whether this option was selected on creation of the exercise. This allows us to easily differentiate between programming exercises with or without static code analysis during the processing of the incoming build results.\n\nServer\nCreation of programming exercises with static code analysis enabled\n\nCreate enum StaticCodeAnalysisTool, which holds configuration options for each static code analysis tool.\nExtended Java test repository template by dependency for Spotbugs. The new static code analysis section will only be added to the test repository pom.xml, if static code analysis was enabled. This reduces build time as less dependencies must be retrieved\nExtend the build plan by a final task for static code analysis if the option was enabled. Also define artifacts for each supported static code analysis tool\nValidate the option staticCodeAnalysisEnabled on programming exercise creation, import and edit. The server expects that the flag is not null and can only be set to true if the programming language is Java. This option can't be changed on edit or import as the creation of the test repository and build plan differs for programming exercises with static code analysis\n\nStore static code analysis feedback\n\nCreated DTOs to store the static code analysis reports received from the bamboo server notification plugin. Added those DTOs to BambooBuildResultNotificationDTO\nAdapted BambooService to create static code analysis feedback, while creating the result object from the build results\nAdded a new method to FeedbackService, which transforms StaticCodeAnalysisReportDTOs to Feedback objects. FeedbackType.AUTOMATIC is used. Static code analysis feedback is identifiable by a special String identifier StaticCodeAnalysisFeedbackIdentifier at the beginning of the text field of Feedback\nAdapted the assessment and generation of the test cases. Test case behavior should not change in presence of static code analysis feedback. Test cases won't be created for static code analysis feedback (might change when a concept for grading of this feedback will be implemented)\n\nFix retrieval of build results\n\nStudents are able to download build results (artifacts) created by their submission. Static code analysis artifacts must be filtered out upon retrieval of artifacts from bamboo. Students should only be able to download a packaged code artifact e.g. jar file.\n\nIncrease size max size of build logs\n\nWe limited the log entries retrieved to bamboo to 250. This is not enough anymore as loading of the dependencies for static code analysis produces a lot of entries. The limit must be increased dramatically, otherwise compilation errors won't be shown to the user when static code analysis is enabled. A log with only Spotbugs enabled has about 750 entries. I increased the max build log size to 2000 for future proofing when multiple static code analysis tools are enabled.\n\nClient\n\nAdd checkbox for the option to create programming exercises with static code analysis\nDisplay this option in the exercise details view\nUpdated result-detail component to display static code analysis feedback\nCreated a new pipe (static-code-analysis-location-text.pipe.ts), which creates the location text for static code analysis feedback\nOnly display the button 'Download build result' for programming exercise student participations\n\nSteps for Testing\n\nTest programming exercises without static code analysis\n\nCreate a programming exercise without static code analysis\nCheck the test repository\n-> pom.xml should not contain a Spotbugs dependency\nCheck the template/solution build plan\n-> The build plan should have one stage and one job which contains the checkout and the test task. No artifacts should be defined for the job\nNavigate to the edit test cases view\n-> Check that the test cases were properly created\n\nTest programming exercises with static code analysis\n\nCreate a programming exercise with static code analysis enabled (only works for Java)\nCheck the test repository\n-> pom.xml should contain a Spotbugs dependency\nCheck the template/solution build plan\n-> The build plan should have one stage and one job which contains the checkout task, the test task and a final task for static code analysis. The final task should execute spotbugs:spotbugs. An artifact with the label spotbugs should be defined for the job\nNavigate to the edit test cases view\n-> Check that the test cases were properly created\nNavigate to the instructor code editor and open the solution repository\nAdd code like\n\n    String a = \"a\";\n    String b = \"b\";\n    compareStringsBad(a,b);\n    }\n    \n    private boolean compareStringsBad(String a, String b) {\n        return a == b;\n    }\n\nto one of the files and submit.\n-> Static code analysis issues should be shown in the result details modal (like in the screenshot below)\n7. Navigate to the edit test cases view\n-> Check that no additional test cases were created for the static code analysis feedback\n8. Participate in the programming exercise\n-> Play around and check that test case feedback and results behave like usual. Try to generate static code analysis feedback\nDownload build result button\n\nCreate a programming exercise with static code analysis enabled (only works for Java)\nExtend the template/solution build plan by a new task and a new artifact:\n\n\n\n3. Execute the build plan\n4. Navigate to the programming exercise details page of this exercise and to the instructor code editor\n-> No download build result button should be shown (next to the result)\n5. Participate in the exercise\n6. Make a submission which builds and contains static code analysis issues\n-> Download build result button should appear (in the code editor or detail page of the participation)\n7. Download the result\n-> Should download the .jar file and not the static code analysis report\nScreenshots\n\n\n\nEnable static code analysis\n\nShow option in programming exercise details\n\nResult details with static code analysis feedback\n\nCode which created the feedback above", "createdAt": "2020-05-26T11:28:37Z", "url": "https://github.com/ls1intum/Artemis/pull/1525", "merged": true, "mergeCommit": {"oid": "a6186cca48f5cae2a92d3fec9cc10e2f302e0589"}, "closed": true, "closedAt": "2020-08-07T05:24:04Z", "author": {"login": "kloessst"}, "timelineItems": {"totalCount": 106, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8ULAuAFqTQ2Mjc3NTk5MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8URRHAFqTQ2Mjc4MDYyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc1OTkw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462775990", "createdAt": "2020-08-06T18:31:40Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMTo0MFrOG8_eSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMTo0MFrOG8_eSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNzY4OQ==", "bodyText": "isStaticCodeAnalysisEnabled could be null which might be problematic", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466607689", "createdAt": "2020-08-06T18:31:40Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/BambooService.java", "diffHunk": "@@ -623,10 +628,11 @@ private void createAutomaticFeedback(Result result, String methodName, boolean p\n      *\n      * @param result the result for which the feedback should be added\n      * @param jobs   the jobs list of the requestBody\n-     * @return a list of feedbacks itemsstored in a result\n+     * @param isStaticCodeAnalysisEnabled flag determining whether static code analysis was enabled\n+     * @return a list of feedback items stored in a result\n      */\n     @SuppressWarnings(\"unchecked\")\n-    private Result addFeedbackToResultNew(Result result, List<BambooBuildResultNotificationDTO.BambooJobDTO> jobs) {\n+    private Result addFeedbackToResultNew(Result result, List<BambooBuildResultNotificationDTO.BambooJobDTO> jobs, Boolean isStaticCodeAnalysisEnabled) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc2NDgz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462776483", "createdAt": "2020-08-06T18:32:25Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMjoyNVrOG8_fsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMjoyNVrOG8_fsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwODA1MQ==", "bodyText": "in case isStaticCodeAnalysisEnabled is null, this will lead to a null pointer exception.\nEither you check for equals Boolean.TRUE or you make sure the value cannot be null which basically means you can use boolean above", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466608051", "createdAt": "2020-08-06T18:32:25Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/BambooService.java", "diffHunk": "@@ -656,8 +662,14 @@ private Result addFeedbackToResultNew(Result result, List<BambooBuildResultNotif\n \n                     createAutomaticFeedback(result, methodName, true, null);\n                 }\n+                // 3) process static code analysis feedback\n+                boolean hasStaticCodeAnalysisFeedback = false;\n+                if (isStaticCodeAnalysisEnabled) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc4NDc2", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462778476", "createdAt": "2020-08-06T18:35:16Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNToxN1rOG8_lpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNToxN1rOG8_lpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwOTU3Mw==", "bodyText": "add a note that this must be equal to the constant on the server (including the link to the corresponding file)", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466609573", "createdAt": "2020-08-06T18:35:17Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/entities/feedback.model.ts", "diffHunk": "@@ -18,6 +18,8 @@ export enum FeedbackType {\n     AUTOMATIC_ADAPTED = 'AUTOMATIC_ADAPTED',\n }\n \n+export const STATIC_CODE_ANALYSIS_FEEDBACK_IDENTIFIER = 'SCAFeedbackIdentifier:';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc5MjA4", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462779208", "createdAt": "2020-08-06T18:36:23Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNjoyM1rOG8_n0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNjoyM1rOG8_n0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYxMDEyOQ==", "bodyText": "why do you call it that and not feedback?\nWould it not make more sense to have this as instance method (without static) and check it for this", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466610129", "createdAt": "2020-08-06T18:36:23Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/entities/feedback.model.ts", "diffHunk": "@@ -33,6 +35,13 @@ export class Feedback implements BaseEntity {\n     public referenceType: string | null; // this string needs to follow UMLModelElementType in Apollon in typings.d.ts\n     public referenceId: string | null;\n \n+    public static isStaticCodeAnalysisFeedback(that: Feedback): boolean {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc5OTQ1", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462779945", "createdAt": "2020-08-06T18:37:31Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNzozMlrOG8_qEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozNzozMlrOG8_qEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYxMDcwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (Feedback.isStaticCodeAnalysisFeedback(feedback)) {\n          \n          \n            \n                        if (feedback.isStaticCodeAnalysisFeedback()) {", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466610707", "createdAt": "2020-08-06T18:37:32Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/result/result-detail.component.ts", "diffHunk": "@@ -65,20 +75,40 @@ export class ResultDetailComponent implements OnInit {\n         return this.resultService.getFeedbackDetailsForResult(resultId).pipe(map(({ body: feedbackList }) => feedbackList!));\n     }\n \n-    private filterAndSetFeedbacks = (feedbackList: Feedback[]) => {\n+    private filterFeedback = (feedbackList: Feedback[]) => {\n         // TODO: The input object is mutated, this could lead to unexpected bugs.\n         this.result.feedbacks = feedbackList!;\n         if (!this.feedbackFilter) {\n-            this.feedbackList = feedbackList;\n+            return feedbackList;\n         } else {\n-            this.feedbackList = this.feedbackFilter\n+            return this.feedbackFilter\n                 .map((test) => {\n                     return feedbackList.find(({ text }) => text === test);\n                 })\n                 .filter(Boolean) as Feedback[];\n         }\n     };\n \n+    /**\n+     * Distinguishes between static code analysis feedback and test case feedback.\n+     * Assigns both lists to the component.\n+     *\n+     * @param feedbackList All available Feedback\n+     */\n+    private partitionAndSetFeedback(feedbackList: Feedback[]) {\n+        const testCaseFeedback: Feedback[] = [];\n+        const staticCodeAnalysisFeedback: Feedback[] = [];\n+        feedbackList.forEach((feedback) => {\n+            if (Feedback.isStaticCodeAnalysisFeedback(feedback)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzgwNjIw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462780620", "createdAt": "2020-08-06T18:38:30Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b73b1210ad7c04e1884b7eeb92506c7f1cd0be1e", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/b73b1210ad7c04e1884b7eeb92506c7f1cd0be1e", "committedDate": "2020-05-23T14:15:09Z", "message": "Added DTOs to handle incoming static assessment data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96f34d80f9a99f024ceb7b58019a2435515b940", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a96f34d80f9a99f024ceb7b58019a2435515b940", "committedDate": "2020-05-24T15:55:45Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f398147250f55016af2e275b0e4beebc1c692200", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f398147250f55016af2e275b0e4beebc1c692200", "committedDate": "2020-05-25T11:08:52Z", "message": "Store static assessment issues as Feedback. FeedbackService handles the mapping of StaticAssessmentReportDTO to Feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0edad5e7e1e296bff176704225da12bd0d54cb3a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/0edad5e7e1e296bff176704225da12bd0d54cb3a", "committedDate": "2020-05-26T07:34:23Z", "message": "Store static assessment with type AUTOMATIC_STATIC_ASSESSMENT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2cceb4a52737ddb00e625439096dd129cd19886", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a2cceb4a52737ddb00e625439096dd129cd19886", "committedDate": "2020-05-26T07:40:32Z", "message": "Display static assessment detail text in result details component. Created a pipe to format the text."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03b9f35547f7e48bdea374fd1fba4c2bea49e882", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/03b9f35547f7e48bdea374fd1fba4c2bea49e882", "committedDate": "2020-05-26T09:51:26Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a4e7a1d10ed98d5f5389c2e6e1ed91b22018789", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/8a4e7a1d10ed98d5f5389c2e6e1ed91b22018789", "committedDate": "2020-05-26T10:53:28Z", "message": "Restructured creating of static assessment feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2784974be85020cddb0ff3b36bcb01e4943882d", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e2784974be85020cddb0ff3b36bcb01e4943882d", "committedDate": "2020-05-26T12:05:04Z", "message": "Fix docs with gradlew spotlessApply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d33f28e0ac236d3806f89179d8179cbaae4ea68", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2d33f28e0ac236d3806f89179d8179cbaae4ea68", "committedDate": "2020-05-26T12:28:22Z", "message": "Made FeedbackService imports explicit and added documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed110a24c5d86eb343c3a4b5488851fe8a840b0a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ed110a24c5d86eb343c3a4b5488851fe8a840b0a", "committedDate": "2020-05-27T09:21:48Z", "message": "Merge branch develop. Resolve conflict in FeedbackType by keeping both new Enum constants."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242058d39985e27e1d738aaa6b65f4d214b8a92f", "author": {"user": {"login": "schultek", "name": "Kilian Schulte"}}, "url": "https://github.com/ls1intum/Artemis/commit/242058d39985e27e1d738aaa6b65f4d214b8a92f", "committedDate": "2020-06-02T10:45:29Z", "message": "automatic buildplan setup for sca + checkbox in client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "208b1e68daa5d5b3cf01b587b9d633317077c709", "author": {"user": {"login": "schultek", "name": "Kilian Schulte"}}, "url": "https://github.com/ls1intum/Artemis/commit/208b1e68daa5d5b3cf01b587b9d633317077c709", "committedDate": "2020-06-02T12:12:36Z", "message": "code styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2a4cfd8ad788187f610154f14dc9fa7d47d85c", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/aa2a4cfd8ad788187f610154f14dc9fa7d47d85c", "committedDate": "2020-06-05T08:47:35Z", "message": "Merge branch 'feature/store-static-code-analysis-findings' of https://github.com/ls1intum/Artemis into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aa1d9503f0683721aab929dbc7bf3cce78a441a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/9aa1d9503f0683721aab929dbc7bf3cce78a441a", "committedDate": "2020-06-07T12:00:31Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4770b5f59d469d3ff657cb16cb4f47ed1c8fa71", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/c4770b5f59d469d3ff657cb16cb4f47ed1c8fa71", "committedDate": "2020-06-07T13:27:47Z", "message": "Show artifact download button only for student programming participations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a4b9b6e78f914299ed55f0ad74f72b8aaed54f8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2a4b9b6e78f914299ed55f0ad74f72b8aaed54f8", "committedDate": "2020-06-07T23:51:07Z", "message": "Filter out static code analysis artifacts for build artifact download"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb", "committedDate": "2020-06-08T00:14:21Z", "message": "Fix code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8180e9bdaa7680b25c414d95ab28f7723ce10ace", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/8180e9bdaa7680b25c414d95ab28f7723ce10ace", "committedDate": "2020-06-09T11:49:55Z", "message": "Added integration test checking if feedback with new type is properly saved"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MTY3ODcz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-427167873", "createdAt": "2020-06-09T13:47:38Z", "commit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0NzozOFrOGhKxKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0NzozOFrOGhKxKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzMjYxOA==", "bodyText": "I suggest that we use a text identifier for static code analysis, e.g.\n\"StaticCodeAnalysisFeedback:<tool.name()>\"", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r437432618", "createdAt": "2020-06-09T13:47:38Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/FeedbackService.java", "diffHunk": "@@ -37,4 +44,31 @@ public FeedbackService(FeedbackRepository feedbackRepository) {\n         return feedbackRepository.findByReferenceInAndResult_Submission_Participation_Exercise(references, exercise).parallelStream()\n                 .collect(toMap(Feedback::getReference, feedback -> feedback));\n     }\n+\n+    // TODO: Move this to a StaticAssessmentService, implement it as a Helper Entity or directly in Feedback?\n+    /**\n+     * Transforms static assessment reports to feedback objects.\n+     * As we reuse the Feedback entity to store static code analysis issues, a mapping to those attributes\n+     * has to be defined, violating the first normal form.\n+     *\n+     * @param reports Static Assessment reports to be transformed\n+     * @return Feedback objects storing the static assessment issues\n+     */\n+    public List<Feedback> createFeedbackFromStaticAssessmentReports(List<StaticAssessmentReportDTO> reports) {\n+        List<Feedback> feedbackList = new ArrayList<>();\n+        for (final var report : reports) {\n+            StaticCodeAnalysisTool tool = report.getTool();\n+\n+            for (final var issue : report.getIssues()) {\n+                Feedback feedback = new Feedback();\n+                feedback.setText(tool.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MTY4MTY5", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-427168169", "createdAt": "2020-06-09T13:47:57Z", "commit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0Nzo1N1rOGhKyig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0Nzo1N1rOGhKyig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzMjk3MA==", "bodyText": "AUTOMATIC", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r437432970", "createdAt": "2020-06-09T13:47:57Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/FeedbackService.java", "diffHunk": "@@ -37,4 +44,31 @@ public FeedbackService(FeedbackRepository feedbackRepository) {\n         return feedbackRepository.findByReferenceInAndResult_Submission_Participation_Exercise(references, exercise).parallelStream()\n                 .collect(toMap(Feedback::getReference, feedback -> feedback));\n     }\n+\n+    // TODO: Move this to a StaticAssessmentService, implement it as a Helper Entity or directly in Feedback?\n+    /**\n+     * Transforms static assessment reports to feedback objects.\n+     * As we reuse the Feedback entity to store static code analysis issues, a mapping to those attributes\n+     * has to be defined, violating the first normal form.\n+     *\n+     * @param reports Static Assessment reports to be transformed\n+     * @return Feedback objects storing the static assessment issues\n+     */\n+    public List<Feedback> createFeedbackFromStaticAssessmentReports(List<StaticAssessmentReportDTO> reports) {\n+        List<Feedback> feedbackList = new ArrayList<>();\n+        for (final var report : reports) {\n+            StaticCodeAnalysisTool tool = report.getTool();\n+\n+            for (final var issue : report.getIssues()) {\n+                Feedback feedback = new Feedback();\n+                feedback.setText(tool.name());\n+                feedback.setDetailText(issue.getMessage());\n+                feedback.setReference(issue.getClassname() + ':' + issue.getLine());\n+                feedback.setType(FeedbackType.AUTOMATIC_STATIC_ASSESSMENT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MTcxMTk4", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-427171198", "createdAt": "2020-06-09T13:50:57Z", "commit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo1MDo1N1rOGhK-9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo1MDo1N1rOGhK-9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzNjE0OQ==", "bodyText": "please get rid of this", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r437436149", "createdAt": "2020-06-09T13:50:57Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Result.java", "diffHunk": "@@ -117,6 +118,10 @@\n     @Column(name = \"example_result\")\n     private Boolean exampleResult;\n \n+    // Stores static assessment feedback temporally. Otherwise, ProgrammingExerciseTestCaseService will remove it\n+    @Transient\n+    private List<Feedback> staticAssessmentFeedback = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a8d9bf0d6d529d93ff4bd9d8989f390ab19beb"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f559dfa5f7512842c657866e452509945e5e0727", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f559dfa5f7512842c657866e452509945e5e0727", "committedDate": "2020-06-09T23:02:48Z", "message": "Add integration test checking if static code analysis feedback will be stored correctly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afd8004daa20d2fa202976d0209a503f2918d9ea", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/afd8004daa20d2fa202976d0209a503f2918d9ea", "committedDate": "2020-06-09T23:09:08Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a4dd88d38bf6a759ba22c4e1f7fa1d10a609050", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/4a4dd88d38bf6a759ba22c4e1f7fa1d10a609050", "committedDate": "2020-06-09T23:17:27Z", "message": "Fix style with spotlessApply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8fd484d7bd18d0680c08b37fa004588f5fbdeed", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a8fd484d7bd18d0680c08b37fa004588f5fbdeed", "committedDate": "2020-06-10T12:16:18Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2e085ecdaf949089ea98208e49c7bac4fa1726", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/aa2e085ecdaf949089ea98208e49c7bac4fa1726", "committedDate": "2020-06-10T23:55:52Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ae02eaab0704f010c574e15ce4c8c98bb746b61", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/5ae02eaab0704f010c574e15ce4c8c98bb746b61", "committedDate": "2020-07-28T09:29:56Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/store-static-code-analysis-findings\n\n# Conflicts:\n#\tsrc/main/java/de/tum/in/www1/artemis/domain/ProgrammingExercise.java\n#\tsrc/main/java/de/tum/in/www1/artemis/service/connectors/BambooBuildPlanService.java\n#\tsrc/main/webapp/app/entities/programming-exercise.model.ts\n#\tsrc/main/webapp/app/exercises/programming/manage/update/programming-exercise-update.component.html\n#\tsrc/main/webapp/app/shared/pipes/shared-pipes.module.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5881abb4fe5ec3b4bc3fb0f08aa004e93161ead4", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/5881abb4fe5ec3b4bc3fb0f08aa004e93161ead4", "committedDate": "2020-07-28T09:46:06Z", "message": "Merge conflict fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f2ad1c3111491de645a0b3ccfe1ec50ab21a90f", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/9f2ad1c3111491de645a0b3ccfe1ec50ab21a90f", "committedDate": "2020-07-28T10:13:03Z", "message": "Store static code analysis feedback as AUTOMATIC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb99b9622cf28f69688caed04f050c077f929dfe", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/bb99b9622cf28f69688caed04f050c077f929dfe", "committedDate": "2020-07-28T12:04:07Z", "message": "Rename pipe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9b132270490beaa924457ec2cc1b0e4554496b0", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f9b132270490beaa924457ec2cc1b0e4554496b0", "committedDate": "2020-07-28T12:05:17Z", "message": "Adjust add function to distinguish static code analysis feedback in client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7702d5b4ac6b5d0cafc92ae35ee8cd9d673aaf2", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f7702d5b4ac6b5d0cafc92ae35ee8cd9d673aaf2", "committedDate": "2020-07-28T12:06:26Z", "message": "Display static code analysis feedback in result details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ba5b1fe0e5030f6cf0c75122b4cdaa799ffe71e", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/7ba5b1fe0e5030f6cf0c75122b4cdaa799ffe71e", "committedDate": "2020-07-28T12:17:05Z", "message": "Add column enable static code analysis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02ddf2b5c78ef56cffb27a45529e00df42723417", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/02ddf2b5c78ef56cffb27a45529e00df42723417", "committedDate": "2020-07-28T13:01:29Z", "message": "Extend table programming-exercise-details by a flag determining whether static code analysis is enabled or not"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "372487e02a3d45ff5539b7cd474927f7e2fc2bde", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/372487e02a3d45ff5539b7cd474927f7e2fc2bde", "committedDate": "2020-07-28T13:08:26Z", "message": "Disable change of static code analysis enabled field on edit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0410694392d085277c79c562b5e5730e3c0be967", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/0410694392d085277c79c562b5e5730e3c0be967", "committedDate": "2020-07-28T13:43:33Z", "message": "Refactor generation of static code analysis feedback for tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfa1b153e09907e4b253b29f147d384969a5dd2d", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/dfa1b153e09907e4b253b29f147d384969a5dd2d", "committedDate": "2020-07-28T14:34:52Z", "message": "Static Code Analysis flag cannot change on update or import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1ca883a7d7dfec68168623c3a0b604b072d05ea", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f1ca883a7d7dfec68168623c3a0b604b072d05ea", "committedDate": "2020-07-28T15:49:01Z", "message": "Fix and add test for static code analysis distinction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01ebc0d0441fd5927b1178821dbc6a525d490580", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/01ebc0d0441fd5927b1178821dbc6a525d490580", "committedDate": "2020-07-29T11:20:32Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d73ba5864dfa64d2dcabbf7d9d6f0964db38c805", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/d73ba5864dfa64d2dcabbf7d9d6f0964db38c805", "committedDate": "2020-07-29T12:16:03Z", "message": "Update test repository template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64929c101ffb26d208fd6cbabc1324f6c6c7d8f0", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/64929c101ffb26d208fd6cbabc1324f6c6c7d8f0", "committedDate": "2020-07-29T14:05:24Z", "message": "Setup template for static code analysis only if the option is chosen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc169560b95b4a1b924511e528325098f3c51afd", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/dc169560b95b4a1b924511e528325098f3c51afd", "committedDate": "2020-07-29T14:09:29Z", "message": "Move fast checks up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "286c575f33d3d8679703df0d42806975bba138d7", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/286c575f33d3d8679703df0d42806975bba138d7", "committedDate": "2020-07-29T14:15:44Z", "message": "Check if the static code analysis flag was set for setup and import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e816c9191df9ce126733500dd9b58e68e6ed6ffe", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e816c9191df9ce126733500dd9b58e68e6ed6ffe", "committedDate": "2020-07-29T14:25:45Z", "message": "Integration tests for static code analysis not null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "192a54888eb5442575fd2cdc8626bcaa0f65c7c0", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/192a54888eb5442575fd2cdc8626bcaa0f65c7c0", "committedDate": "2020-07-29T14:36:25Z", "message": "Use Integer for static code analysis DTO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a88fca42a4fa59f2155d43d6b0d5e153bf37b9ca", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a88fca42a4fa59f2155d43d6b0d5e153bf37b9ca", "committedDate": "2020-07-29T14:37:56Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73d400055ec16a62767c62847072386b4eb5e186", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/73d400055ec16a62767c62847072386b4eb5e186", "committedDate": "2020-07-30T11:13:47Z", "message": "Process static code analysis reports only if the option was enabled during the creation of a programming exercise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee1560114876498d3ac3b4afe075fa5ed93479f2", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ee1560114876498d3ac3b4afe075fa5ed93479f2", "committedDate": "2020-07-30T13:45:52Z", "message": "Do not filter out static code analysis feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cc2b45e382e3f3d935e5832b842fb7d71af6a54", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2cc2b45e382e3f3d935e5832b842fb7d71af6a54", "committedDate": "2020-07-30T19:43:27Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec009593d6feea923300cba4a9cdce8141e6399b", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ec009593d6feea923300cba4a9cdce8141e6399b", "committedDate": "2020-07-31T11:10:42Z", "message": "Refactor test setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c5a4536469d272c98521e6ab1d1307642dcb7cd", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/4c5a4536469d272c98521e6ab1d1307642dcb7cd", "committedDate": "2020-07-31T11:12:38Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c99295a0a929f8960d748ce6c795d7fc0a091d2", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/7c99295a0a929f8960d748ce6c795d7fc0a091d2", "committedDate": "2020-07-31T11:27:11Z", "message": "Only show static code analysis checkbox if programming language is JAVA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "425ba21328e85f33b6fc1ecfd1fdda8f4e3ef309", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/425ba21328e85f33b6fc1ecfd1fdda8f4e3ef309", "committedDate": "2020-07-31T11:43:05Z", "message": "Only allow static code analysis for JAVA on server side"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8239deefd8ce928d48d00af78c6be383a4ddf657", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/8239deefd8ce928d48d00af78c6be383a4ddf657", "committedDate": "2020-07-31T12:13:14Z", "message": "Adapt test case handling for static code analysis feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dc6c3c225c52d63f31a0945bc14c8e889035241", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/6dc6c3c225c52d63f31a0945bc14c8e889035241", "committedDate": "2020-07-31T12:51:50Z", "message": "Do not generate test cases from static code analysis feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72355637ae4d46aa17609dcba3d3535464f1f178", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/72355637ae4d46aa17609dcba3d3535464f1f178", "committedDate": "2020-07-31T12:59:45Z", "message": "Do not use equals for enum comparison"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a699758defb37061dee9d5fb8512211c483d910", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/5a699758defb37061dee9d5fb8512211c483d910", "committedDate": "2020-07-31T13:20:55Z", "message": "Show in static code analysis enabled in programming exercise details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dcc47407c2cce7bafc1cbed02be3884530d3f26", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/9dcc47407c2cce7bafc1cbed02be3884530d3f26", "committedDate": "2020-07-31T13:59:49Z", "message": "Use a static method because Feedback objects are not proper instances of Feedback class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bdddbc2f73c6b577a722c574729795f6c912bb7", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/5bdddbc2f73c6b577a722c574729795f6c912bb7", "committedDate": "2020-07-31T14:00:37Z", "message": "Fix method call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6062aa2d6bda8b2493239feacd1284f24deb0c6a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/6062aa2d6bda8b2493239feacd1284f24deb0c6a", "committedDate": "2020-07-31T14:44:16Z", "message": "Move enable static code analysis radio"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cf9e7c696bdff0cc5f49d8a32699ef3e761a9fe", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/5cf9e7c696bdff0cc5f49d8a32699ef3e761a9fe", "committedDate": "2020-07-31T14:58:33Z", "message": "Reset static code analysis flag when switching to another programming language not supporting this option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a37bda35953d06788854a83de7e21ea2ca3247b8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a37bda35953d06788854a83de7e21ea2ca3247b8", "committedDate": "2020-07-31T15:06:42Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2dc57e0fcfd464533e3ba65c0dee9d05444b86c", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a2dc57e0fcfd464533e3ba65c0dee9d05444b86c", "committedDate": "2020-08-02T01:49:11Z", "message": "Extend StaticCodeAnalysisTool enum and use it create the build plan in a generic way"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc79412a7e1f5fe040b2926f77e37469473d32a8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/cc79412a7e1f5fe040b2926f77e37469473d32a8", "committedDate": "2020-08-02T01:51:12Z", "message": "Fix command builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f60fbe180efabb2bbb6e8421acbd30fc69f5ce43", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/f60fbe180efabb2bbb6e8421acbd30fc69f5ce43", "committedDate": "2020-08-02T11:32:46Z", "message": "Set hasFeedback properly if static code analysis found issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0121058674a977e136b914440d72ea60c366569c", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/0121058674a977e136b914440d72ea60c366569c", "committedDate": "2020-08-02T13:15:05Z", "message": "Enhance feedback display"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "007fae8b34a00e7c7340e833c7f3d0bf4174996a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/007fae8b34a00e7c7340e833c7f3d0bf4174996a", "committedDate": "2020-08-02T13:15:46Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aee894c26a854ba18831347d977b04e38cdf51c9", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/aee894c26a854ba18831347d977b04e38cdf51c9", "committedDate": "2020-08-02T13:28:34Z", "message": "Fix edge case in build plan command creation method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3a4f61185a518268c7148cc4e91fed55d55477a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a3a4f61185a518268c7148cc4e91fed55d55477a", "committedDate": "2020-08-02T13:29:04Z", "message": "Merge branch 'feature/store-static-code-analysis-findings' of https://github.com/ls1intum/Artemis into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a63250651cae5ba5a140f9f6c0a54d0f42aabfe6", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a63250651cae5ba5a140f9f6c0a54d0f42aabfe6", "committedDate": "2020-08-02T20:58:36Z", "message": "Fix test and comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ee487024d07947303fba56148a89a53685d2def", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/6ee487024d07947303fba56148a89a53685d2def", "committedDate": "2020-08-02T22:42:18Z", "message": "Use StringJoiner"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3480167aab6fc1aeae6ac3d6fb19237dc803ffc6", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/3480167aab6fc1aeae6ac3d6fb19237dc803ffc6", "committedDate": "2020-08-03T12:15:18Z", "message": "Fix DTO field name (must match the notification name)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93c6c44568583150715abef2a42c553819d545ca", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/93c6c44568583150715abef2a42c553819d545ca", "committedDate": "2020-08-03T13:00:19Z", "message": "Improve readability"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTcxOTYz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460171963", "createdAt": "2020-08-03T16:33:50Z", "commit": {"oid": "93c6c44568583150715abef2a42c553819d545ca"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/8e77d395518ed1ccd6057d1924928200c6d987bd", "committedDate": "2020-08-03T17:26:49Z", "message": "Increase build log entries fetched from bamboo and filter out more useless logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjMxNTM4", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460231538", "createdAt": "2020-08-03T17:59:22Z", "commit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1OToyM1rOG7DXow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1OToyM1rOG7DXow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3NDM3MQ==", "bodyText": "Maybe add a null check for this.text?", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464574371", "createdAt": "2020-08-03T17:59:23Z", "author": {"login": "schultek"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Feedback.java", "diffHunk": "@@ -207,6 +209,15 @@ public void setGradingInstruction(GradingInstruction gradingInstruction) {\n         this.gradingInstruction = gradingInstruction;\n     }\n \n+    /**\n+     * Checks whether the feedback was created by static code analysis\n+     * @return true if the it is static code analysis feedback else false\n+     */\n+    @JsonIgnore\n+    public boolean isStaticCodeAnalysisFeedback() {\n+        return this.text.startsWith(STATIC_CODE_ANALYSIS_FEEDBACK_IDENTIFIER) && this.type == FeedbackType.AUTOMATIC;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjQwOTkx", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460240991", "createdAt": "2020-08-03T18:14:15Z", "commit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoxNDoxNVrOG7D04A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoxNDoxNVrOG7D04A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU4MTg1Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 */\n          \n          \n            \n                 * @param staticCodeAnalysisFeedback the static code analysis feedback items to keep\n          \n          \n            \n                 */", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464581856", "createdAt": "2020-08-03T18:14:15Z", "author": {"login": "schultek"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseTestCaseService.java", "diffHunk": "@@ -254,12 +270,12 @@ private void updateResultString(Result result, Set<ProgrammingExerciseTestCase>\n     }\n \n     /**\n-     * Remove all feedback information from a result and treat it as if it has a score of 0.\n+     * Remove all test case feedback information from a result and treat it as if it has a score of 0.\n      * @param result\n      */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "originalPosition": 68}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjQyNTQ3", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460242547", "createdAt": "2020-08-03T18:16:44Z", "commit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoxNjo0NFrOG7D54w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoxNjo0NFrOG7D54w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU4MzEzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param jobs   the jobs list of the requestBody\n          \n          \n            \n                 * @param jobs   the jobs list of the requestBody\n          \n          \n            \n                 * @param isStaticCodeAnalysisEnabled  whether to include static code analysis reports as feedback", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464583139", "createdAt": "2020-08-03T18:16:44Z", "author": {"login": "schultek"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/BambooService.java", "diffHunk": "@@ -623,10 +624,10 @@ private void createAutomaticFeedback(Result result, String methodName, boolean p\n      *\n      * @param result the result for which the feedback should be added\n      * @param jobs   the jobs list of the requestBody", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e77d395518ed1ccd6057d1924928200c6d987bd"}, "originalPosition": 69}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab", "committedDate": "2020-08-04T08:34:55Z", "message": "Implement feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNjMzOTUy", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460633952", "createdAt": "2020-08-04T09:08:47Z", "commit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOTowODo0N1rOG7X4sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOTowODo0N1rOG7X4sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxMDUxMw==", "bodyText": "Is that something that is caused by spotbugs or by Bamboo?\nSo if a different tool gets added, do we also have to change something here?", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464910513", "createdAt": "2020-08-04T09:08:47Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/BambooService.java", "diffHunk": "@@ -850,7 +876,9 @@ private Long calculateScoreForResult(Result result, int skippedTests) {\n                         logString.startsWith(\"[ERROR] For more information about the errors and possible solutions\") ||\n                         logString.startsWith(\"[ERROR] Re-run Maven using\") ||\n                         logString.startsWith(\"[ERROR] To see the full stack trace of the errors\") ||\n-                        logString.startsWith(\"[ERROR] -> [Help 1]\")\n+                        logString.startsWith(\"[ERROR] -> [Help 1]\") ||\n+                        logString.startsWith(\"Unable to publish artifact\") ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "originalPosition": 149}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNjM3MzUw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460637350", "createdAt": "2020-08-04T09:13:27Z", "commit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxMzoyN1rOG7YC_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxMzoyN1rOG7YC_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxMzE1MA==", "bodyText": "Is it planned to only enable some of the static code analysis tools (e.g. only SpotBugs and not a different tool)?\nThis cannot be realized well here, so it might be better to use something like static-code-analysis-stopbugs-start instead?", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464913150", "createdAt": "2020-08-04T09:13:27Z", "author": {"login": "sleiss"}, "path": "src/main/resources/templates/java/test/projectTemplate/pom.xml", "diffHunk": "@@ -61,6 +61,17 @@\n                 <artifactId>maven-failsafe-plugin</artifactId>\n                 <version>2.22.2</version>\n             </plugin>\n+            %static-code-analysis-start%", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNjQ0NzMw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460644730", "createdAt": "2020-08-04T09:23:23Z", "commit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToyMzoyM1rOG7YaFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToyMzoyM1rOG7YaFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxOTA2Mw==", "bodyText": "I'm not sure if this is also affected by what @krusche told us today in the meeting with the problematic getters, could you maybe check that?", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464919063", "createdAt": "2020-08-04T09:23:23Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/exercises/shared/result/result.component.ts", "diffHunk": "@@ -292,6 +292,13 @@ export class ResultComponent implements OnInit, OnChanges {\n         return false;\n     }\n \n+    /**\n+     * Checks whether the participation is a student programming participation\n+     */\n+    isStudentProgrammingParticipation() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7235a3faeb1c9947c78f13bcf3f5cfbbbc5323ab"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00195d21ec49b7b1e75813d0b26caf01c6062fbd", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/00195d21ec49b7b1e75813d0b26caf01c6062fbd", "committedDate": "2020-08-04T10:24:14Z", "message": "Extend java test repo readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2464bb8e8f336c992c3bdd5241235434a9d4d50b", "committedDate": "2020-08-04T11:08:05Z", "message": "Check for ParticipationType directly in template"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzM4MDgz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-460738083", "createdAt": "2020-08-04T11:48:23Z", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMTo0ODoyM1rOG7c3Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMTo0ODoyM1rOG7c3Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk5MjAzNA==", "bodyText": "Does it make sense to put these checks in a separate class (ProgramminExerciseAccessService), since we are using them at least twice? I saw something similar for StudentExams", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r464992034", "createdAt": "2020-08-04T11:48:23Z", "author": {"login": "TobiasPr"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -360,6 +373,34 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n \n         log.debug(\"REST request to import programming exercise {} into course {}\", sourceExerciseId, newExercise.getCourseViaExerciseGroupOrCourseMember().getId());\n \n+        // Check if max score is set\n+        if (newExercise.getMaxScore() == null) {\n+            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"The max score is invalid\", \"maxscoreInvalid\")).body(null);\n+        }\n+\n+        // Check if a participation mode is set\n+        if (!Boolean.TRUE.equals(newExercise.isAllowOnlineEditor()) && !Boolean.TRUE.equals(newExercise.isAllowOfflineIde())) {\n+            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName,\n+                    \"You need to allow at least one participation mode, the online editor or the offline IDE\", \"noParticipationModeAllowed\")).body(null);\n+        }\n+\n+        // Check if the static code analysis flag was set\n+        if (newExercise.isStaticCodeAnalysisEnabled() == null) {\n+            return ResponseEntity.badRequest()\n+                    .headers(HeaderUtil.createAlert(applicationName, \"The static code analysis flag must be set to true or false\", \"staticCodeAnalysisFlagNotSet\")).body(null);\n+        }\n+\n+        // Check if programming language is set\n+        if (newExercise.getProgrammingLanguage() == null) {\n+            return ResponseEntity.badRequest().headers(HeaderUtil.createAlert(applicationName, \"No programming language was specified\", \"programmingLanguageNotSet\")).body(null);\n+        }\n+\n+        // Static code analysis is only supported for Java at the moment\n+        if (Boolean.TRUE.equals(newExercise.isStaticCodeAnalysisEnabled()) && newExercise.getProgrammingLanguage() != ProgrammingLanguage.JAVA) {\n+            return ResponseEntity.badRequest()\n+                    .headers(HeaderUtil.createAlert(applicationName, \"The static code analysis can only be enabled for Java\", \"staticCodeAnalysisOnlyAvailableForJava\")).body(null);\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "originalPosition": 97}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMDAyODI3", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-461002827", "createdAt": "2020-08-04T17:01:32Z", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMDEyMjgw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-461012280", "createdAt": "2020-08-04T17:14:43Z", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMDE1ODU0", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-461015854", "createdAt": "2020-08-04T17:19:37Z", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjI5NDIz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-461229423", "createdAt": "2020-08-04T22:52:14Z", "commit": {"oid": "2464bb8e8f336c992c3bdd5241235434a9d4d50b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49e58a661a2ba6f75e76ff077a71ceda16498d27", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/49e58a661a2ba6f75e76ff077a71ceda16498d27", "committedDate": "2020-08-05T18:34:01Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/1be25abb855dd4d01c1c7b32e237451edc50f638", "committedDate": "2020-08-05T18:44:51Z", "message": "Fix imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNDYyNjcz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462462673", "createdAt": "2020-08-06T12:18:14Z", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNDY1MTAx", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462465101", "createdAt": "2020-08-06T12:21:54Z", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNDY3MDIz", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462467023", "createdAt": "2020-08-06T12:24:37Z", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNDgzMjQ1", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462483245", "createdAt": "2020-08-06T12:46:41Z", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTc1Mjc4", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462575278", "createdAt": "2020-08-06T14:29:50Z", "commit": {"oid": "1be25abb855dd4d01c1c7b32e237451edc50f638"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/d9215ea4a47e8f3662d648a94447d8ceceeea6de", "committedDate": "2020-08-06T18:28:05Z", "message": "Merge branch 'develop' into feature/store-static-code-analysis-findings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc1ODUx", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462775851", "createdAt": "2020-08-06T18:31:27Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyN1rOG8_d3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyN1rOG8_d3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNzU4MQ==", "bodyText": "Codacy found an issue: Substitute calls to size() == 0 (or size() != 0, size() > 0, size() < 1) with calls to isEmpty()", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466607581", "createdAt": "2020-08-06T18:31:27Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseTestCaseService.java", "diffHunk": "@@ -175,10 +189,10 @@ public Result updateResultFromTestCases(Result result, ProgrammingExercise exerc\n             updateResultString(result, successfulTestCases, testCasesForCurrentDate);\n         }\n         // Case 2: There are no test cases that are executed before the due date has passed. We need to do this to differentiate this case from a build error.\n-        else if (testCases.size() > 0 && result.getFeedbacks().size() > 0) {\n-            removeAllFeedbackAndSetScoreToZero(result);\n+        else if (testCases.size() > 0 && testCaseFeedback.size() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc1ODU3", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462775857", "createdAt": "2020-08-06T18:31:28Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyOFrOG8_d4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyOFrOG8_d4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNzU4NQ==", "bodyText": "Codacy found an issue: Substitute calls to size() == 0 (or size() != 0, size() > 0, size() < 1) with calls to isEmpty()", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466607585", "createdAt": "2020-08-06T18:31:28Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseTestCaseService.java", "diffHunk": "@@ -254,12 +270,13 @@ private void updateResultString(Result result, Set<ProgrammingExerciseTestCase>\n     }\n \n     /**\n-     * Remove all feedback information from a result and treat it as if it has a score of 0.\n-     * @param result\n+     * Remove all test case feedback information from a result and treat it as if it has a score of 0.\n+     * @param result Result containing all feedback\n+     * @param staticCodeAnalysisFeedback Static code analysis feedback to keep\n      */\n-    private void removeAllFeedbackAndSetScoreToZero(Result result) {\n-        result.setFeedbacks(new ArrayList<>());\n-        result.hasFeedback(false);\n+    private void removeAllTestCaseFeedbackAndSetScoreToZero(Result result, List<Feedback> staticCodeAnalysisFeedback) {\n+        result.setFeedbacks(staticCodeAnalysisFeedback);\n+        result.hasFeedback(staticCodeAnalysisFeedback.size() > 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzc1ODcw", "url": "https://github.com/ls1intum/Artemis/pull/1525#pullrequestreview-462775870", "createdAt": "2020-08-06T18:31:29Z", "commit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyOVrOG8_d6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODozMToyOVrOG8_d6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNzU5Mw==", "bodyText": "Codacy found an issue: Substitute calls to size() == 0 (or size() != 0, size() > 0, size() < 1) with calls to isEmpty()", "url": "https://github.com/ls1intum/Artemis/pull/1525#discussion_r466607593", "createdAt": "2020-08-06T18:31:29Z", "author": {"login": "artemis-bot"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseTestCaseService.java", "diffHunk": "@@ -157,8 +158,21 @@ public Result updateResultFromTestCases(Result result, ProgrammingExercise exerc\n         // We also don't filter the test cases for the solution/template participation's results as they are used as indicators for the instructor!\n         Set<ProgrammingExerciseTestCase> testCasesForCurrentDate = testCases.stream().filter(testCase -> !shouldTestsWithAfterDueDateFlagBeRemoved || !testCase.isAfterDueDate())\n                 .collect(Collectors.toSet());\n-        // Case 1: There are tests and feedbacks, find out which tests were not executed or should only count to the score after the due date.\n-        if (testCasesForCurrentDate.size() > 0 && result.getFeedbacks().size() > 0) {\n+        // Distinguish between static code analysis feedback and test case feedback\n+        // TODO: For now we are only concerned with not breaking existing functionality and not losing static code analysis feedback.\n+        // This method has to be extended/refactored when a grading concept for static code analysis has been created\n+        List<Feedback> testCaseFeedback = new ArrayList<>();\n+        List<Feedback> staticCodeAnalysisFeedback = new ArrayList<>();\n+        for (var feedback : result.getFeedbacks()) {\n+            if (feedback.isStaticCodeAnalysisFeedback()) {\n+                staticCodeAnalysisFeedback.add(feedback);\n+            }\n+            else {\n+                testCaseFeedback.add(feedback);\n+            }\n+        }\n+        // Case 1: There are tests and test case feedbacks, find out which tests were not executed or should only count to the score after the due date.\n+        if (testCasesForCurrentDate.size() > 0 && testCaseFeedback.size() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9215ea4a47e8f3662d648a94447d8ceceeea6de"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2692, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}