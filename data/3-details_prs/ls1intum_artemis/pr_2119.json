{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMzM4NjY1", "number": 2119, "title": "[Bugfix] [Exam] StudentExam Detail View", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n\nMotivation and Context\nLoads of:\nERROR TypeError: Cannot read property '0' of undefined\nwere thrown in the student exam detail view if the results were not present.\nDescription\nAdd check if student participation is present before trying to access its properties\nSteps for Testing\n\nLog in to Artemis\nNavigate to an exam with registered users and generated exams, but no assessments/results\nThe view should load normally, list all exercises and no console errors should be shown\n\nScreenshots", "createdAt": "2020-09-24T10:14:08Z", "url": "https://github.com/ls1intum/Artemis/pull/2119", "merged": true, "mergeCommit": {"oid": "3ba1e3b158b4a40d113e6c93804b7d2db5588320"}, "closed": true, "closedAt": "2020-09-24T16:36:21Z", "author": {"login": "anditurdiu"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdL-X8QAH2gAyNDkyMzM4NjY1OjdmNDljYWNmYzkzNGY3ZmFhMzQ5YTIxYjRmNWJlMDVhNTkxY2U0MDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMCpA0AFqTQ5NTY3NTUxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f49cacfc934f7faa349a21b4f5be05a591ce406", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7f49cacfc934f7faa349a21b4f5be05a591ce406", "committedDate": "2020-09-24T10:10:40Z", "message": "fix null pointer exceptions on student view if the results were not present"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1506d9979a0afb8fade511e0a4e6f04a49799c2e", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/1506d9979a0afb8fade511e0a4e6f04a49799c2e", "committedDate": "2020-09-24T10:15:01Z", "message": "Update function description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fdb57d84607f91313d23185ce2aa2c3c77d8093", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/9fdb57d84607f91313d23185ce2aa2c3c77d8093", "committedDate": "2020-09-24T10:23:12Z", "message": "Update student-exam-detail.component.ts\n\nAlso check the length of the studentParticipations, as in the html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b3558af25b96efa2cd62b4fbb6af219fc2429b7", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/0b3558af25b96efa2cd62b4fbb6af219fc2429b7", "committedDate": "2020-09-24T12:18:47Z", "message": "fix client style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28cc7f694f31250f9a85a33feeafc3aae2acde6b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/28cc7f694f31250f9a85a33feeafc3aae2acde6b", "committedDate": "2020-09-24T12:20:00Z", "message": "merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3d12167dfca2a0f882e7758165708ac176cf5d6b", "committedDate": "2020-09-24T14:26:17Z", "message": "Merge branch 'develop' into bugfix/student-exam-detail-view"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjY5Mjc5", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495669279", "createdAt": "2020-09-24T15:02:37Z", "commit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjcwMTI3", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495670127", "createdAt": "2020-09-24T15:03:30Z", "commit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNTowMzozMFrOHXfWcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNTowMzozMFrOHXfWcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM5Mjk0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            exercise.studentParticipations[0].results.length >= 1\n          \n          \n            \n                            exercise.studentParticipations[0].results.length > 0", "url": "https://github.com/ls1intum/Artemis/pull/2119#discussion_r494392946", "createdAt": "2020-09-24T15:03:30Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exam/manage/student-exams/student-exam-detail.component.ts", "diffHunk": "@@ -96,19 +96,31 @@ export class StudentExamDetailComponent implements OnInit {\n     }\n \n     /**\n-     * Sets the student exam, and calculates the total score of the exam and achieved total score of the student.\n+     * Sets the student exam, initialised the component which allows changing the working time and sets the score of the student.\n      * @param studentExam\n      */\n     private setStudentExam(studentExam: StudentExam) {\n         this.studentExam = studentExam;\n         this.initWorkingTimeForm();\n-        studentExam.exercises.forEach((exercise) => {\n+        this.setStudentScores();\n+    }\n+\n+    /**\n+     * Set the score of the student if they are present\n+     */\n+    private setStudentScores() {\n+        for (const exercise of this.studentExam?.exercises) {\n             this.maxTotalScore += exercise.maxScore;\n-            if (!!exercise.studentParticipations[0].results && exercise.studentParticipations[0].results.length >= 1) {\n+            if (\n+                !!exercise.studentParticipations &&\n+                exercise.studentParticipations.length > 0 &&\n+                !!exercise.studentParticipations[0].results &&\n+                exercise.studentParticipations[0].results.length >= 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjcwMTkx", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495670191", "createdAt": "2020-09-24T15:03:33Z", "commit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjcwNzMw", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495670730", "createdAt": "2020-09-24T15:04:05Z", "commit": {"oid": "3d12167dfca2a0f882e7758165708ac176cf5d6b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11b974579f1468e1bd6f61554db7e2166ae3f0d4", "author": {"user": {"login": "JonasPetry", "name": "Jonas Petry"}}, "url": "https://github.com/ls1intum/Artemis/commit/11b974579f1468e1bd6f61554db7e2166ae3f0d4", "committedDate": "2020-09-24T15:05:19Z", "message": "Update src/main/webapp/app/exam/manage/student-exams/student-exam-detail.component.ts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjcyNzY2", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495672766", "createdAt": "2020-09-24T15:06:08Z", "commit": {"oid": "11b974579f1468e1bd6f61554db7e2166ae3f0d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjczMTUz", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495673153", "createdAt": "2020-09-24T15:06:30Z", "commit": {"oid": "11b974579f1468e1bd6f61554db7e2166ae3f0d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1Njc1NTE0", "url": "https://github.com/ls1intum/Artemis/pull/2119#pullrequestreview-495675514", "createdAt": "2020-09-24T15:08:56Z", "commit": {"oid": "11b974579f1468e1bd6f61554db7e2166ae3f0d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4208, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}