{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyOTgzNTM2", "number": 2576, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQwNjo1ODoxOFrOFHh-XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMDowNjowNFrOFH6vlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDQwOTg4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQwNjo1ODoxOFrOIJBeFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyNzo1MVrOIJFiLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMzMjE4MQ==", "bodyText": "we might shorten it by:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            {{ value && value.length > 0 && value[value.length - 1].assessor ? value[value.length - 1].assessor.name : 'n.a' }}\n          \n          \n            \n                            {{ value && value.length > 0 && value[value.length - 1].assessor?.name || 'n.a' }}", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546332181", "createdAt": "2020-12-20T06:58:18Z", "author": {"login": "derLalla"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.assessor\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                {{ value && value.assessor ? value.assessor.name : 'n.a' }}\n+                {{ value && value.length > 0 && value[value.length - 1].assessor ? value[value.length - 1].assessor.name : 'n.a' }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6927376fd5b7982a401e7841c3906e7ea7a643f7"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODcxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            {{ value && value.length > 0 && value[value.length - 1].assessor ? value[value.length - 1].assessor.name : 'n.a' }}\n          \n          \n            \n                            {{ value && value.assessor ? value.assessor.name : 'n.a' }}", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546398714", "createdAt": "2020-12-20T16:27:08Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.assessor\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                {{ value && value.assessor ? value.assessor.name : 'n.a' }}\n+                {{ value && value.length > 0 && value[value.length - 1].assessor ? value[value.length - 1].assessor.name : 'n.a' }}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMzMjE4MQ=="}, "originalCommit": {"oid": "6927376fd5b7982a401e7841c3906e7ea7a643f7"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODc2Ng==", "bodyText": "see my comment above, after merging #2551 we could easily use latestResult as prop in line 50. Then no change would be needed in line 55", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546398766", "createdAt": "2020-12-20T16:27:51Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.assessor\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                {{ value && value.assessor ? value.assessor.name : 'n.a' }}\n+                {{ value && value.length > 0 && value[value.length - 1].assessor ? value[value.length - 1].assessor.name : 'n.a' }}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMzMjE4MQ=="}, "originalCommit": {"oid": "6927376fd5b7982a401e7841c3906e7ea7a643f7"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk0OTQ0OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyMTowNFrOIJFfKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyOTozOFrOIJFjKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzk5Mg==", "bodyText": "please rename this method as well to reflect that the results + assessor are loaded as well", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546397992", "createdAt": "2020-12-20T16:21:04Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -475,7 +475,7 @@ public StudentParticipation participationForQuizWithResult(QuizExercise quizExer\n      * @return List<submission>\n      */\n     public List<Submission> getSubmissionsWithParticipationId(long participationId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae63a899b1c988a829994ad4d87a50a9a29fa3"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5OTAxOQ==", "bodyText": "this is important so that other potential users of this method immediately know what exactly is returned (also to realize if data such as the assessor can be exposed or not). This should also be reflected in the JavaDoc of the method", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546399019", "createdAt": "2020-12-20T16:29:38Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ParticipationService.java", "diffHunk": "@@ -475,7 +475,7 @@ public StudentParticipation participationForQuizWithResult(QuizExercise quizExer\n      * @return List<submission>\n      */\n     public List<Submission> getSubmissionsWithParticipationId(long participationId) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzk5Mg=="}, "originalCommit": {"oid": "72ae63a899b1c988a829994ad4d87a50a9a29fa3"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk1MDIyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyMjowMVrOIJFfgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyNjoyN1rOIJFhiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODA4MA==", "bodyText": "please use undefined instead of null", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546398080", "createdAt": "2020-12-20T16:22:01Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae63a899b1c988a829994ad4d87a50a9a29fa3"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODYwMw==", "bodyText": "another (preferred) option would be to make sure latestResult is initialized correctly (see #2551) in submission which should be done in the submission.service.ts within findAllSubmissionsOfParticipation. Then we could simply use latestResult as prop in line 42 and keep using value in line 47\n@nicolasruscher could", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546398603", "createdAt": "2020-12-20T16:26:27Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODA4MA=="}, "originalCommit": {"oid": "72ae63a899b1c988a829994ad4d87a50a9a29fa3"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk1NDgyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyNjo0M1rOIJFhxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyNjo0M1rOIJFhxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODY2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <ngx-datatable-column prop=\"results\">\n          \n          \n            \n                    <ngx-datatable-column prop=\"latestResult\">", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546398660", "createdAt": "2020-12-20T16:26:43Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/participation-submission/participation-submission.component.html", "diffHunk": "@@ -39,20 +39,20 @@\n                 {{ value | artemisDate: 'long':true }}\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">\n             <ng-template ngx-datatable-header-template>\n                 <span jhiTranslate=\"artemisApp.participation.participationSubmission.result\"></span>\n             </ng-template>\n             <ng-template ngx-datatable-cell-template let-value=\"value\">\n-                <jhi-result [result]=\"value\" [participation]=\"participation\"></jhi-result>\n+                <jhi-result [result]=\"value && value.length > 0 ? value[value.length - 1] : null\" [participation]=\"participation\"></jhi-result>\n             </ng-template>\n         </ngx-datatable-column>\n-        <ngx-datatable-column prop=\"result\">\n+        <ngx-datatable-column prop=\"results\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae63a899b1c988a829994ad4d87a50a9a29fa3"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzODQ2ODA1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/shared/submission/submission.service.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMDowNjowNFrOIJkd8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMDozMDo1OFrOIJlFcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjkwNTU4NQ==", "bodyText": "I don\u2019t really like this code as it is duplicated. Can this not be handled by the same function in submission.model.ts ? Also we should not call the variable tmp", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546905585", "createdAt": "2020-12-21T20:06:04Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exercises/shared/submission/submission.service.ts", "diffHunk": "@@ -42,8 +42,10 @@ export class SubmissionService {\n                 tap((res) =>\n                     res.body!.forEach((submission) => {\n                         // reconnect results to submissions\n-                        if (getLatestSubmissionResult(submission)) {\n-                            getLatestSubmissionResult(submission)!.submission = submission;\n+                        const tmp = getLatestSubmissionResult(submission);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d538c3d8e26daf514770f8a01d6217f19e1ad4f"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjkxNTY5Ng==", "bodyText": "Is now fixed and refactored", "url": "https://github.com/ls1intum/Artemis/pull/2576#discussion_r546915696", "createdAt": "2020-12-21T20:30:58Z", "author": {"login": "nicolasruscher"}, "path": "src/main/webapp/app/exercises/shared/submission/submission.service.ts", "diffHunk": "@@ -42,8 +42,10 @@ export class SubmissionService {\n                 tap((res) =>\n                     res.body!.forEach((submission) => {\n                         // reconnect results to submissions\n-                        if (getLatestSubmissionResult(submission)) {\n-                            getLatestSubmissionResult(submission)!.submission = submission;\n+                        const tmp = getLatestSubmissionResult(submission);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjkwNTU4NQ=="}, "originalCommit": {"oid": "9d538c3d8e26daf514770f8a01d6217f19e1ad4f"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4358, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}