{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNTU4MDI1", "number": 2202, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDozNzoyNlrOEvja2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozMDo0M1rOEv4Isg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4Mjk4ODQyOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/gitlab/GitLabUserManagementService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDozNzoyNlrOHkmagA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDozNzoyNlrOHkmagA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE0MDE2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.warn(\"Cannot delete user in GitLab. User does not exist! %s\".formatted(login));\n          \n          \n            \n                        log.warn(\"Cannot delete user in GitLab. User does not exist! {}\", login);\n          \n      \n    \n    \n  \n\nI don't know why it wasn't like that before. (This is the standard logging string format for SLF4J)", "url": "https://github.com/ls1intum/Artemis/pull/2202#discussion_r508140160", "createdAt": "2020-10-20T00:37:26Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/gitlab/GitLabUserManagementService.java", "diffHunk": "@@ -246,8 +246,8 @@ public void deleteUser(String login) {\n             final var userId = getUserId(login);\n             gitlab.getUserApi().deleteUser(userId, true);\n         }\n-        catch (NullPointerException e) {\n-            log.warn(\"Cannot delete user in GitLab. User does not exist! \" + login);\n+        catch (GitLabUserDoesNotExistException e) {\n+            log.warn(\"Cannot delete user in GitLab. User does not exist! %s\".formatted(login));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df2a5dad84bb404d16505475de87e3ec6597299c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MzAwODk5OnYy", "diffSide": "RIGHT", "path": "src/test/java/de/tum/in/www1/artemis/AccountResourceWithGitLabIntegrationTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDo0NzoxNlrOHkmmEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDo0NzoxNlrOHkmmEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE0MzEyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @AfterEach\n          \n          \n            \n                public void tearDown() {\n          \n          \n            \n                    database.resetDatabase();\n          \n          \n            \n                    gitlabRequestMockProvider.reset();\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                @BeforeEach\n          \n          \n            \n                public void setUp() {\n          \n          \n            \n                    gitlabRequestMockProvider.enableMockingOfRequests();\n          \n          \n            \n                }\n          \n          \n            \n                @BeforeEach\n          \n          \n            \n                public void setUp() {\n          \n          \n            \n                    gitlabRequestMockProvider.enableMockingOfRequests();\n          \n          \n            \n                }\n          \n          \n            \n            \n          \n          \n            \n                @AfterEach\n          \n          \n            \n                public void tearDown() {\n          \n          \n            \n                    database.resetDatabase();\n          \n          \n            \n                    gitlabRequestMockProvider.reset();\n          \n          \n            \n                }\n          \n      \n    \n    \n  \n\nI am not sure here, this might be highly opinionated, but I think swapping @BeforeEach and @AfterEach here would make the code quicker to read.", "url": "https://github.com/ls1intum/Artemis/pull/2202#discussion_r508143122", "createdAt": "2020-10-20T00:47:16Z", "author": {"login": "MaisiKoleni"}, "path": "src/test/java/de/tum/in/www1/artemis/AccountResourceWithGitLabIntegrationTest.java", "diffHunk": "@@ -0,0 +1,80 @@\n+package de.tum.in.www1.artemis;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.util.Optional;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+\n+import de.tum.in.www1.artemis.connector.gitlab.GitlabRequestMockProvider;\n+import de.tum.in.www1.artemis.domain.User;\n+import de.tum.in.www1.artemis.repository.UserRepository;\n+import de.tum.in.www1.artemis.service.UserService;\n+import de.tum.in.www1.artemis.util.DatabaseUtilService;\n+import de.tum.in.www1.artemis.util.ModelFactory;\n+import de.tum.in.www1.artemis.util.RequestUtilService;\n+import de.tum.in.www1.artemis.web.rest.vm.ManagedUserVM;\n+\n+public class AccountResourceWithGitLabIntegrationTest extends AbstractSpringIntegrationJenkinsGitlabTest {\n+\n+    @Autowired\n+    RequestUtilService request;\n+\n+    @Autowired\n+    UserRepository userRepo;\n+\n+    @Autowired\n+    UserService userService;\n+\n+    @Autowired\n+    DatabaseUtilService database;\n+\n+    @Autowired\n+    private GitlabRequestMockProvider gitlabRequestMockProvider;\n+\n+    @AfterEach\n+    public void tearDown() {\n+        database.resetDatabase();\n+        gitlabRequestMockProvider.reset();\n+    }\n+\n+    @BeforeEach\n+    public void setUp() {\n+        gitlabRequestMockProvider.enableMockingOfRequests();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df2a5dad84bb404d16505475de87e3ec6597299c"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NjM4MjU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/gitlab/GitLabUserManagementService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozMDo0M1rOHlG-FA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozMDo0M1rOHlG-FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3MzU1Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.warn(\"Cannot delete user ''{}'' in GitLab. User does not exist! \", login);\n          \n          \n            \n                        log.warn(\"Cannot delete user ''{}'' in GitLab. User does not exist!\", login);", "url": "https://github.com/ls1intum/Artemis/pull/2202#discussion_r508673556", "createdAt": "2020-10-20T16:30:43Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/gitlab/GitLabUserManagementService.java", "diffHunk": "@@ -246,8 +246,8 @@ public void deleteUser(String login) {\n             final var userId = getUserId(login);\n             gitlab.getUserApi().deleteUser(userId, true);\n         }\n-        catch (NullPointerException e) {\n-            log.warn(\"Cannot delete user in GitLab. User does not exist! \" + login);\n+        catch (GitLabUserDoesNotExistException e) {\n+            log.warn(\"Cannot delete user ''{}'' in GitLab. User does not exist! \", login);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bd3f68bcacdfb1979fa3df99f2994d646be52b8"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4524, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}