{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2Nzg4Mzk4", "number": 1844, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDoxNzo0N1rOEOR1jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTo0OToxN1rOEOaCkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDA3NzU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/domain/exam/Exam.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDoxNzo0N1rOGxVx9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTowOToyOVrOGxYL6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5MDI2MA==", "bodyText": "isPublished might be a little bit confusing with regard to isVisible. I guess something like resultsPublished would be more intuitive here.", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454390260", "createdAt": "2020-07-14T14:17:47Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/exam/Exam.java", "diffHunk": "@@ -356,4 +375,11 @@ public Boolean isStarted() {\n         }\n         return startDate.isBefore(ZonedDateTime.now());\n     }\n+\n+    public Boolean isPublished() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQyOTY3Mw==", "bodyText": "Done", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454429673", "createdAt": "2020-07-14T15:09:29Z", "author": {"login": "JonasPetry"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/exam/Exam.java", "diffHunk": "@@ -356,4 +375,11 @@ public Boolean isStarted() {\n         }\n         return startDate.isBefore(ZonedDateTime.now());\n     }\n+\n+    public Boolean isPublished() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5MDI2MA=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDE2NTQ0OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNTo1NFrOGxWnxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0NzoxOVrOGxZ2jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNDAzNg==", "bodyText": "Maybe I'm too dumb for that, but I think this is really hard to understand. Maybe the following is easier to understand? Please double check as I'm not that confident that I really get what you check here.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return !this.isOnlyStudentInCourse(exercise.getCourseViaExerciseGroupOrCourseMember(), user) || (!exercise.hasExerciseGroup()\n          \n          \n            \n                            || !exercise.getExerciseGroup().getExam().getEndDate().isBefore(ZonedDateTime.now()) || exercise.getExerciseGroup().getExam().isPublished());\n          \n          \n            \n                    return this.isAtLeastTeachingAssistantInCourse(exercise.getCourseViaExerciseGroupOrCourseMember(), user) || (exercise.hasExerciseGroup()\n          \n          \n            \n                            && exercise.getExerciseGroup().getExam().getEndDate().isBefore(ZonedDateTime.now()) && exercise.getExerciseGroup().getExam().isPublished());", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454404036", "createdAt": "2020-07-14T14:35:54Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -333,4 +337,18 @@ public boolean isUserAllowedToGetResult(Exercise exercise, StudentParticipation\n                 && (exercise.getAssessmentDueDate() == null || exercise.getAssessmentDueDate().isBefore(ZonedDateTime.now())) && result.getAssessor() != null\n                 && result.getCompletionDate() != null;\n     }\n+\n+    /**\n+     * Checks if the user is only student in the course.\n+     *\n+     * If the exam is over and the results are not published, he is not allowed to request a result.\n+     *\n+     * @param exercise - Exercise that the result is requested for\n+     * @param user - User that requests the result\n+     * @return true if user is allowed to see the result, false otherwise\n+     */\n+    public boolean isAllowedToGetExamResult(Exercise exercise, User user) {\n+        return !this.isOnlyStudentInCourse(exercise.getCourseViaExerciseGroupOrCourseMember(), user) || (!exercise.hasExerciseGroup()\n+                || !exercise.getExerciseGroup().getExam().getEndDate().isBefore(ZonedDateTime.now()) || exercise.getExerciseGroup().getExam().isPublished());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1Njk3Mw==", "bodyText": "After committing your proposed changes I realised, that there was an error. Nevertheless I've adjusted this condition to make it easier to read and added a clause for each condition in the description", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454456973", "createdAt": "2020-07-14T15:47:19Z", "author": {"login": "JonasPetry"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -333,4 +337,18 @@ public boolean isUserAllowedToGetResult(Exercise exercise, StudentParticipation\n                 && (exercise.getAssessmentDueDate() == null || exercise.getAssessmentDueDate().isBefore(ZonedDateTime.now())) && result.getAssessor() != null\n                 && result.getCompletionDate() != null;\n     }\n+\n+    /**\n+     * Checks if the user is only student in the course.\n+     *\n+     * If the exam is over and the results are not published, he is not allowed to request a result.\n+     *\n+     * @param exercise - Exercise that the result is requested for\n+     * @param user - User that requests the result\n+     * @return true if user is allowed to see the result, false otherwise\n+     */\n+    public boolean isAllowedToGetExamResult(Exercise exercise, User user) {\n+        return !this.isOnlyStudentInCourse(exercise.getCourseViaExerciseGroupOrCourseMember(), user) || (!exercise.hasExerciseGroup()\n+                || !exercise.getExerciseGroup().getExam().getEndDate().isBefore(ZonedDateTime.now()) || exercise.getExerciseGroup().getExam().isPublished());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNDAzNg=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDE3NDI0OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNzozMlrOGxWs4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMzoyNlrOGxY0Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNTM0NA==", "bodyText": "I would improve the documentation here as it might be hard to understand what the separate conditions actually check (first see my next comment).\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Checks if the user is only student in the course.\n          \n          \n            \n                 *\n          \n          \n            \n                 * If the exam is over and the results are not published, he is not allowed to request a result.\n          \n          \n            \n                 * Checks if the user is allowed to see the exam result. Returns true if\n          \n          \n            \n                 * - the current user is at least teaching assistant in the course\n          \n          \n            \n                 * - OR if the exam has already ended and the results were published", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454405344", "createdAt": "2020-07-14T14:37:32Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -333,4 +337,18 @@ public boolean isUserAllowedToGetResult(Exercise exercise, StudentParticipation\n                 && (exercise.getAssessmentDueDate() == null || exercise.getAssessmentDueDate().isBefore(ZonedDateTime.now())) && result.getAssessor() != null\n                 && result.getCompletionDate() != null;\n     }\n+\n+    /**\n+     * Checks if the user is only student in the course.\n+     *\n+     * If the exam is over and the results are not published, he is not allowed to request a result.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzOTk1MQ==", "bodyText": "The idea was that a student is also allowed to see it if the the exam has not ended yet. I've adjusted that in the documentation", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454439951", "createdAt": "2020-07-14T15:23:26Z", "author": {"login": "JonasPetry"}, "path": "src/main/java/de/tum/in/www1/artemis/service/AuthorizationCheckService.java", "diffHunk": "@@ -333,4 +337,18 @@ public boolean isUserAllowedToGetResult(Exercise exercise, StudentParticipation\n                 && (exercise.getAssessmentDueDate() == null || exercise.getAssessmentDueDate().isBefore(ZonedDateTime.now())) && result.getAssessor() != null\n                 && result.getCompletionDate() != null;\n     }\n+\n+    /**\n+     * Checks if the user is only student in the course.\n+     *\n+     * If the exam is over and the results are not published, he is not allowed to request a result.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNTM0NA=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDE3OTA4OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ModelingSubmissionResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozODozNVrOGxWv3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MDoyOFrOGxZkCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNjExMA==", "bodyText": "Simply use forbidden() here :-)", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454406110", "createdAt": "2020-07-14T14:38:35Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ModelingSubmissionResource.java", "diffHunk": "@@ -382,6 +409,11 @@ else if (!authCheckService.isAtLeastInstructorForExercise(exercise)) {\n             return forbidden();\n         }\n \n+        // Exam exercises cannot be seen by students between the endDate and the publishResultDate\n+        if (!authCheckService.isAllowedToGetExamResult(modelingExercise, user)) {\n+            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1MjIzNA==", "bodyText": "Done", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454452234", "createdAt": "2020-07-14T15:40:28Z", "author": {"login": "sjagla27"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ModelingSubmissionResource.java", "diffHunk": "@@ -382,6 +409,11 @@ else if (!authCheckService.isAtLeastInstructorForExercise(exercise)) {\n             return forbidden();\n         }\n \n+        // Exam exercises cannot be seen by students between the endDate and the publishResultDate\n+        if (!authCheckService.isAllowedToGetExamResult(modelingExercise, user)) {\n+            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNjExMA=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDE5Mjg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0MToyMlrOGxW4YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MDozNFrOGxZkVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwODI4OA==", "bodyText": "Simply use forbidden() here", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454408288", "createdAt": "2020-07-14T14:41:22Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -354,6 +388,11 @@ else if (!authCheckService.isAtLeastTeachingAssistantForExercise(optionalTextExe\n             return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n         }\n \n+        // Exam exercises cannot be seen by students between the endDate and the publishResultDate\n+        if (!authCheckService.isAllowedToGetExamResult(textExercise, user)) {\n+            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1MjMwOQ==", "bodyText": "Done", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454452309", "createdAt": "2020-07-14T15:40:34Z", "author": {"login": "sjagla27"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextExerciseResource.java", "diffHunk": "@@ -354,6 +388,11 @@ else if (!authCheckService.isAtLeastTeachingAssistantForExercise(optionalTextExe\n             return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n         }\n \n+        // Exam exercises cannot be seen by students between the endDate and the publishResultDate\n+        if (!authCheckService.isAllowedToGetExamResult(textExercise, user)) {\n+            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwODI4OA=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDIwMTcwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0MzoyM1rOGxW95g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MDo1MFrOGxZk9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwOTcwMg==", "bodyText": "If you consider changing the naming as suggested in a previous comment you might also adjust it here.", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454409702", "createdAt": "2020-07-14T14:43:23Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts", "diffHunk": "@@ -26,7 +27,21 @@ export class ExamParticipationSummaryComponent {\n \n     collapsedExerciseIds: number[] = [];\n \n-    constructor() {}\n+    courseId: number;\n+\n+    constructor(private route: ActivatedRoute) {}\n+\n+    /**\n+     * Initialise the courseId from the current url\n+     */\n+    ngOnInit(): void {\n+        // courseId is not part of the exam or the exercise\n+        this.courseId = Number(this.route.snapshot.paramMap.get('courseId'));\n+    }\n+\n+    get isPublished() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1MjQ3MA==", "bodyText": "Done", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454452470", "createdAt": "2020-07-14T15:40:50Z", "author": {"login": "sjagla27"}, "path": "src/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts", "diffHunk": "@@ -26,7 +27,21 @@ export class ExamParticipationSummaryComponent {\n \n     collapsedExerciseIds: number[] = [];\n \n-    constructor() {}\n+    courseId: number;\n+\n+    constructor(private route: ActivatedRoute) {}\n+\n+    /**\n+     * Initialise the courseId from the current url\n+     */\n+    ngOnInit(): void {\n+        // courseId is not part of the exam or the exercise\n+        this.courseId = Number(this.route.snapshot.paramMap.get('courseId'));\n+    }\n+\n+    get isPublished() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwOTcwMg=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDIwNzcwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/summary/exercises/quiz-exam-summary/quiz-exam-summary.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0NDozOVrOGxXBdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MTowMFrOGxZlkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMDYxNA==", "bodyText": "See the related comments above :-)", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454410614", "createdAt": "2020-07-14T14:44:39Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/participate/summary/exercises/quiz-exam-summary/quiz-exam-summary.component.ts", "diffHunk": "@@ -22,17 +23,31 @@ export class QuizExamSummaryComponent implements OnInit {\n     selectedAnswerOptions = new Map<number, AnswerOption[]>();\n     dragAndDropMappings = new Map<number, DragAndDropMapping[]>();\n     shortAnswerSubmittedTexts = new Map<number, ShortAnswerSubmittedText[]>();\n+    exerciseWithSolution: QuizExercise;\n \n     @Input()\n     exercise: QuizExercise;\n \n     @Input()\n     submission: QuizSubmission;\n \n-    constructor() {}\n+    @Input()\n+    isPublished: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1MjYyNg==", "bodyText": "Done", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454452626", "createdAt": "2020-07-14T15:41:00Z", "author": {"login": "sjagla27"}, "path": "src/main/webapp/app/exam/participate/summary/exercises/quiz-exam-summary/quiz-exam-summary.component.ts", "diffHunk": "@@ -22,17 +23,31 @@ export class QuizExamSummaryComponent implements OnInit {\n     selectedAnswerOptions = new Map<number, AnswerOption[]>();\n     dragAndDropMappings = new Map<number, DragAndDropMapping[]>();\n     shortAnswerSubmittedTexts = new Map<number, ShortAnswerSubmittedText[]>();\n+    exerciseWithSolution: QuizExercise;\n \n     @Input()\n     exercise: QuizExercise;\n \n     @Input()\n     submission: QuizSubmission;\n \n-    constructor() {}\n+    @Input()\n+    isPublished: boolean;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMDYxNA=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDIyMjE1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/shared/exercise-headers/header-participation-page.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0NzoxMlrOGxXJ1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo1OTo0MlrOGxaX3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMjc1Ng==", "bodyText": "This is the second occurrence of isPublished in the client. You might want to move this to the model or the service.", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454412756", "createdAt": "2020-07-14T14:47:12Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exercises/shared/exercise-headers/header-participation-page.component.ts", "diffHunk": "@@ -33,6 +33,20 @@ export class HeaderParticipationPageComponent implements OnInit, OnChanges {\n         this.exerciseCategories = this.exerciseService.convertExerciseCategoriesFromServer(this.exercise);\n     }\n \n+    /**\n+     * Returns false if it is an exam exercise and the publishResultsDate is in the future, true otherwise\n+     */\n+    get isPublished(): boolean {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ2NTUwMw==", "bodyText": "Refactored into the exercise model", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454465503", "createdAt": "2020-07-14T15:59:42Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exercises/shared/exercise-headers/header-participation-page.component.ts", "diffHunk": "@@ -33,6 +33,20 @@ export class HeaderParticipationPageComponent implements OnInit, OnChanges {\n         this.exerciseCategories = this.exerciseService.convertExerciseCategoriesFromServer(this.exercise);\n     }\n \n+    /**\n+     * Returns false if it is an exam exercise and the publishResultsDate is in the future, true otherwise\n+     */\n+    get isPublished(): boolean {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMjc1Ng=="}, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDIzNjA3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MDowOFrOGxXSQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MDowOFrOGxXSQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxNDkxNQ==", "bodyText": "isPublished() vs isAfterPublishDate() :-)", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454414915", "createdAt": "2020-07-14T14:50:08Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "diffHunk": "@@ -48,6 +48,9 @@ export class TextEditorComponent implements OnInit, OnDestroy, ComponentCanDeact\n     // indicates if the assessment due date is in the past. the assessment will not be loaded and displayed to the student if it is not.\n     isAfterAssessmentDueDate: boolean;\n \n+    // indicates, that it is an exam exercise and the publishResults date is in the past\n+    isAfterPublishDate: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdd6e7b1eac3b929458f2c83bea4d12aaa0247f4"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTQyMTYzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/exams/exam-update.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTo0OToxN1rOGxiycQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTo0OToxN1rOGxiycQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMzM3Nw==", "bodyText": "I think this should be reverted\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return this.exam.visibleDate;\n          \n          \n            \n                    return this.exam.visibleDate && moment(this.exam.visibleDate).isAfter(moment());", "url": "https://github.com/ls1intum/Artemis/pull/1844#discussion_r454603377", "createdAt": "2020-07-14T19:49:17Z", "author": {"login": "sascha11110"}, "path": "src/main/webapp/app/exam/manage/exams/exam-update.component.ts", "diffHunk": "@@ -73,7 +73,7 @@ export class ExamUpdateComponent implements OnInit {\n     }\n \n     get isValidVisibleDate() {\n-        return this.exam.visibleDate && moment(this.exam.visibleDate).isAfter(moment());\n+        return this.exam.visibleDate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47228f331b4ca94f7deb546dc341116ff3ba480a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4746, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}