{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNDI5NTEy", "number": 1944, "title": "[Exam] Show error in client if submitting exam failed. Update Exam Page if student failed to submit on time", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nFixes #1941\nDescription\n\n Handle the 403 error thrown if not within the defined exam end time\n Lock the submit button to protect against spamming\n Hide all exam page elements in case the student fails to hand in on time and the exam will not be graded.\n\nSteps for Testing\n\nParticipate in an exam\nPress hand in early\nGo offline, and confirm\nYou should be reported that submitting failed and that you should try again. The button should be unlocked as soon as you receive the error message.\nGo online\nWait for the grace period to pass\nThe exam end interactions should disappear and you should be informed that your exam will not be graded.\n\nScreenshots", "createdAt": "2020-07-20T13:05:05Z", "url": "https://github.com/ls1intum/Artemis/pull/1944", "merged": true, "mergeCommit": {"oid": "3311d3a490f72b3111d98a7a697440258d20bcf3"}, "closed": true, "closedAt": "2020-07-21T14:14:37Z", "author": {"login": "anditurdiu"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2xL8NgH2gAyNDUzNDI5NTEyOmVlNDIyNjAxMGJiNTA4NzE4NDdlMmFiNzg4ZDA2ZjBiYmE5ZDc5NWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3EdAOgFqTQ1MjM2MDYzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ee4226010bb50871847e2ab788d06f0bba9d795b", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/ee4226010bb50871847e2ab788d06f0bba9d795b", "committedDate": "2020-07-20T12:56:23Z", "message": "Disabled hand in button if submission not in time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22eeaa7188ee88df90e017f9e5540d34c3fcf79d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/22eeaa7188ee88df90e017f9e5540d34c3fcf79d", "committedDate": "2020-07-20T14:21:00Z", "message": "handle http error in service\nset human readable error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57622630f64cbbe4b57662c68c3694a67242a42a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/57622630f64cbbe4b57662c68c3694a67242a42a", "committedDate": "2020-07-20T15:31:59Z", "message": "Hide end page interactions if the student failed to submit on time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d41055a204c9d048d3ef09ddc49533afff3b973", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7d41055a204c9d048d3ef09ddc49533afff3b973", "committedDate": "2020-07-20T16:36:42Z", "message": "Fix return type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d", "committedDate": "2020-07-20T16:42:48Z", "message": "convert method call to getter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzgwNjcw", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-451780670", "createdAt": "2020-07-20T16:43:49Z", "commit": {"oid": "57622630f64cbbe4b57662c68c3694a67242a42a"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNjo0Mzo0OVrOG0WlDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNjo0NTozMlrOG0WpLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0OTA2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // Explicitly check whether the error was caused because the submission was not in-time, in this case, set hand in not possible\n          \n          \n            \n                            // Explicitly check whether the error was caused by the submission not being in-time, in this case, set hand in not possible", "url": "https://github.com/ls1intum/Artemis/pull/1944#discussion_r457549068", "createdAt": "2020-07-20T16:43:49Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -266,10 +267,19 @@ export class ExamParticipationComponent implements OnInit, OnDestroy, ComponentC\n      * triggered after student accepted exam end terms, will make final call to update submission on server\n      */\n     onExamEndConfirmed() {\n+        // temporary lock the submit button in order to protect against spam\n+        this.handInPossible = false;\n         if (this.autoSaveInterval) {\n             window.clearInterval(this.autoSaveInterval);\n         }\n-        this.examParticipationService.submitStudentExam(this.courseId, this.examId, this.studentExam).subscribe((studentExam) => (this.studentExam = studentExam));\n+        this.examParticipationService.submitStudentExam(this.courseId, this.examId, this.studentExam).subscribe(\n+            (studentExam) => (this.studentExam = studentExam),\n+            (error: Error) => {\n+                this.alertService.error(error.message);\n+                // Explicitly check whether the error was caused because the submission was not in-time, in this case, set hand in not possible", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57622630f64cbbe4b57662c68c3694a67242a42a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU1MDEyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuchen Sie es erneut!\"\n          \n          \n            \n                    \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuche es erneut!\"", "url": "https://github.com/ls1intum/Artemis/pull/1944#discussion_r457550126", "createdAt": "2020-07-20T16:45:32Z", "author": {"login": "JonasPetry"}, "path": "src/main/webapp/i18n/de/exam.json", "diffHunk": "@@ -268,6 +268,7 @@\n     },\n     \"studentExam\": {\n         \"alreadySubmitted\": \"Du hast bereits abgegeben.\",\n-        \"submissionNotInTime\": \"Du kannst nur zwischen Start und Ende der Klausur abgeben.\"\n+        \"submissionNotInTime\": \"Du hast die Klausur nicht rechtzeitig abgegeben. Sie wird nicht bewertet!\",\n+        \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuchen Sie es erneut!\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b7bacf17a8546dc110b18199b78a58a8e0adbe6", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/1b7bacf17a8546dc110b18199b78a58a8e0adbe6", "committedDate": "2020-07-20T16:49:57Z", "message": "Update src/main/webapp/app/exam/participate/exam-participation.component.ts\n\nCo-authored-by: Jonas Petry <51994246+JonasPetry@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c5ccddc39413cca3a39963122fdf863f3cb632c", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/9c5ccddc39413cca3a39963122fdf863f3cb632c", "committedDate": "2020-07-20T16:50:08Z", "message": "Update src/main/webapp/i18n/de/exam.json\n\nCo-authored-by: Jonas Petry <51994246+JonasPetry@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzg1ODk2", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-451785896", "createdAt": "2020-07-20T16:50:46Z", "commit": {"oid": "9c5ccddc39413cca3a39963122fdf863f3cb632c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzg4MzIy", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-451788322", "createdAt": "2020-07-20T16:54:05Z", "commit": {"oid": "9c5ccddc39413cca3a39963122fdf863f3cb632c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a5bf4f70345042dcced300cc478ae83dd4f70b5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/5a5bf4f70345042dcced300cc478ae83dd4f70b5", "committedDate": "2020-07-20T17:05:30Z", "message": "remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00bfe6bef69a34bd3aafe79446783325f1ece154", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/00bfe6bef69a34bd3aafe79446783325f1ece154", "committedDate": "2020-07-20T17:05:50Z", "message": "Merge branch 'bugfix/grace-period' of github.com:ls1intum/Artemis into bugfix/grace-period"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzk4NTE1", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-451798515", "createdAt": "2020-07-20T17:08:00Z", "commit": {"oid": "00bfe6bef69a34bd3aafe79446783325f1ece154"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzk4Njgz", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-451798683", "createdAt": "2020-07-20T17:08:13Z", "commit": {"oid": "00bfe6bef69a34bd3aafe79446783325f1ece154"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82427d0aa27770c5b9e0af6157d5ec94a06072a8", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/82427d0aa27770c5b9e0af6157d5ec94a06072a8", "committedDate": "2020-07-20T17:19:45Z", "message": "fix shadowed variable name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMjAzNDkw", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-452203490", "createdAt": "2020-07-21T07:42:10Z", "commit": {"oid": "82427d0aa27770c5b9e0af6157d5ec94a06072a8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/c621d2c5be3008f9ae1ef17cc75aa73237eb8187", "committedDate": "2020-07-21T09:47:51Z", "message": "center alerts on page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzM5Mzc0", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-452339374", "createdAt": "2020-07-21T10:48:25Z", "commit": {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzUwNjc5", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-452350679", "createdAt": "2020-07-21T11:06:57Z", "commit": {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzYwNDM0", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-452360434", "createdAt": "2020-07-21T11:22:55Z", "commit": {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzYwNjMw", "url": "https://github.com/ls1intum/Artemis/pull/1944#pullrequestreview-452360630", "createdAt": "2020-07-21T11:23:13Z", "commit": {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4416, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}