{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMjgyNTcx", "number": 1775, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMTo0NTozOVrOEKSbTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0MTo0OFrOEKcKhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MjIzMTE4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMTo0NTozOVrOGrPmdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMTo1MjozNlrOGrPyaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk5NzU1OQ==", "bodyText": "Should you maybe use the server time here instead of moment()?", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r447997559", "createdAt": "2020-06-30T21:45:39Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -93,6 +97,7 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             this.examId = parseInt(params['examId'], 10);\n             this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n                 this.exam = exam;\n+                this.endDate = exam.endDate ? exam.endDate : moment();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d31a1ce199cbcd749f2e5a72b85ffcdb1c7d42f0"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAwMDYxOQ==", "bodyText": "Good catch, I changed it now.", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448000619", "createdAt": "2020-06-30T21:52:36Z", "author": {"login": "filip-gregurevic"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -93,6 +97,7 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             this.examId = parseInt(params['examId'], 10);\n             this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n                 this.exam = exam;\n+                this.endDate = exam.endDate ? exam.endDate : moment();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk5NzU1OQ=="}, "originalCommit": {"oid": "d31a1ce199cbcd749f2e5a72b85ffcdb1c7d42f0"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MjI4MjE3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMjowNDo0MlrOGrQF1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMjozNToxMFrOGrQyUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAwNTU5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                endDate: Moment;\n          \n          \n            \n                individualStudentEndDate: Moment;", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448005590", "createdAt": "2020-06-30T22:04:42Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -44,6 +46,8 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n     exam: Exam;\n     studentExam: StudentExam;\n \n+    endDate: Moment;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f26033c6dd8e2b1592235728a6b733d5177d555d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAwNTY0MA==", "bodyText": "please rename", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448005640", "createdAt": "2020-06-30T22:04:52Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -44,6 +46,8 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n     exam: Exam;\n     studentExam: StudentExam;\n \n+    endDate: Moment;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAwNTU5MA=="}, "originalCommit": {"oid": "f26033c6dd8e2b1592235728a6b733d5177d555d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAxNjk3OQ==", "bodyText": "I renamed them now", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448016979", "createdAt": "2020-06-30T22:35:10Z", "author": {"login": "filip-gregurevic"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -44,6 +46,8 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n     exam: Exam;\n     studentExam: StudentExam;\n \n+    endDate: Moment;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAwNTU5MA=="}, "originalCommit": {"oid": "f26033c6dd8e2b1592235728a6b733d5177d555d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MzgwNjI1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTozNjowN1rOGree6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo1NToyN1rOGrfKUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0MTM4NA==", "bodyText": "WOW, does this default value make a lot of sense? Should this rather be null and handled appropriately?", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448241384", "createdAt": "2020-07-01T09:36:07Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -93,6 +97,7 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             this.examId = parseInt(params['examId'], 10);\n             this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n                 this.exam = exam;\n+                this.individualStudentEndDate = exam.endDate ? exam.endDate : this.serverDateService.now();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ebf10b5dfeb1a462d2067aa7f1884189649b470"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI1MjQ5Ng==", "bodyText": "Well, this and the case in your other comment are edge cases which shouldn't (can't) happen. If there is no end / start date in the exam something has to go really wrong, since it is also prevented when creating / updating an exam.\nThis default case is the same as passing null to moment(), just handled with the server-sync-time, ultimately setting the exam to over if this happens.", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448252496", "createdAt": "2020-07-01T09:55:27Z", "author": {"login": "filip-gregurevic"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -93,6 +97,7 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             this.examId = parseInt(params['examId'], 10);\n             this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n                 this.exam = exam;\n+                this.individualStudentEndDate = exam.endDate ? exam.endDate : this.serverDateService.now();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0MTM4NA=="}, "originalCommit": {"oid": "0ebf10b5dfeb1a462d2067aa7f1884189649b470"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MzgyNjYxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0MTo0OFrOGrerzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo1NzowMlrOGrfN0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0NDY4NQ==", "bodyText": "Here again, if start date is not defined, we set the end date to now? Does this make sense?", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448244685", "createdAt": "2020-07-01T09:41:48Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -122,6 +127,8 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             // init studentExam and activeExercise\n             this.studentExam = studentExam;\n             this.activeExercise = studentExam.exercises[0];\n+            // set endDate with workingTime\n+            this.individualStudentEndDate = this.exam.startDate ? moment(this.exam.startDate).add(studentExam.workingTime, 'seconds') : this.individualStudentEndDate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ebf10b5dfeb1a462d2067aa7f1884189649b470"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI1MzM5NQ==", "bodyText": "See my answer to your other comment. And also it would be first set to the default end date of the exam and then only to now if this isn't available. And I can't really image that this would.", "url": "https://github.com/ls1intum/Artemis/pull/1775#discussion_r448253395", "createdAt": "2020-07-01T09:57:02Z", "author": {"login": "filip-gregurevic"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -122,6 +127,8 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             // init studentExam and activeExercise\n             this.studentExam = studentExam;\n             this.activeExercise = studentExam.exercises[0];\n+            // set endDate with workingTime\n+            this.individualStudentEndDate = this.exam.startDate ? moment(this.exam.startDate).add(studentExam.workingTime, 'seconds') : this.individualStudentEndDate;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0NDY4NQ=="}, "originalCommit": {"oid": "0ebf10b5dfeb1a462d2067aa7f1884189649b470"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4950, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}