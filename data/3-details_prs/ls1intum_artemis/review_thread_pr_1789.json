{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNzMxODQ4", "number": 1789, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowMTo0MFrOEK1Kdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1MTowMFrOEK9eBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzkyMjQ2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/student-exams/student-exams.component.html", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowMTo0MFrOGsGJWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0MToxMFrOGsS6gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5MTIyNg==", "bodyText": "I believe it would be useful if the button Generate missing individual exams is only clickable/visible if there are students without exams.\nAs you already track that, this should be quite simple to do, right?", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r448891226", "createdAt": "2020-07-02T10:01:40Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/exam/manage/student-exams/student-exams.component.html", "diffHunk": "@@ -5,15 +5,22 @@ <h2>\n                 <span jhiTranslate=\"artemisApp.studentExams.title\">Student exams</span>\n             </h2>\n         </div>\n-        <div class=\"ml-auto d-flex\">\n-            <button class=\"btn btn-primary\" style=\"height: 40px;\" (click)=\"generateStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n-                <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n-                <span jhiTranslate=\"artemisApp.studentExams.generateStudentExams\">Generate student exams</span>\n-            </button>\n-            <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"startExercises()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n-                <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n-                <span jhiTranslate=\"artemisApp.studentExams.startExercises\">Start Exercises</span>\n-            </button>\n+        <div class=\"ml-auto\">\n+            <div class=\"d-flex mb-1\">\n+                <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"handleGenerateStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n+                    <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n+                    <span jhiTranslate=\"artemisApp.studentExams.generateStudentExams\">Generate student exams</span>\n+                </button>\n+                <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"generateMissingStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d6c7b183dcce877c49898a30bcf493b027c732"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEwMDQxNg==", "bodyText": "Button now deactivates if all students have an exam", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449100416", "createdAt": "2020-07-02T15:41:10Z", "author": {"login": "kloessst"}, "path": "src/main/webapp/app/exam/manage/student-exams/student-exams.component.html", "diffHunk": "@@ -5,15 +5,22 @@ <h2>\n                 <span jhiTranslate=\"artemisApp.studentExams.title\">Student exams</span>\n             </h2>\n         </div>\n-        <div class=\"ml-auto d-flex\">\n-            <button class=\"btn btn-primary\" style=\"height: 40px;\" (click)=\"generateStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n-                <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n-                <span jhiTranslate=\"artemisApp.studentExams.generateStudentExams\">Generate student exams</span>\n-            </button>\n-            <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"startExercises()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n-                <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n-                <span jhiTranslate=\"artemisApp.studentExams.startExercises\">Start Exercises</span>\n-            </button>\n+        <div class=\"ml-auto\">\n+            <div class=\"d-flex mb-1\">\n+                <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"handleGenerateStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">\n+                    <span *ngIf=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n+                    <span jhiTranslate=\"artemisApp.studentExams.generateStudentExams\">Generate student exams</span>\n+                </button>\n+                <button class=\"btn btn-primary ml-1\" style=\"height: 40px;\" (click)=\"generateMissingStudentExams()\" *ngIf=\"course?.isAtLeastInstructor\" [disabled]=\"isLoading\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5MTIyNg=="}, "originalCommit": {"oid": "e9d6c7b183dcce877c49898a30bcf493b027c732"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTI1MTAzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/de/exam.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0NjoxMVrOGsTSXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0NjoxMVrOGsTSXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEwNjUyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"studentExamStatusWarningTooltip\": \"Klick auf den Button 'Fehlende individuelle Klausuren erstellen', um die fehlenden Klausuren zu generieren. Alternativ, klick auf den Button 'Individuelle Klausuren erstellen', um alle Klausuren zu l\u00f6schen und neu zu generieren\"\n          \n          \n            \n                        \"studentExamStatusWarningTooltip\": \"Klicke auf den Button 'Fehlende individuelle Klausuren erstellen', um die fehlenden Klausuren zu generieren. Alternativ, klicke auf den Button 'Individuelle Klausuren erstellen', um alle Klausuren zu l\u00f6schen und neu zu generieren\"", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449106526", "createdAt": "2020-07-02T15:46:11Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/i18n/de/exam.json", "diffHunk": "@@ -74,10 +75,16 @@\n             \"exam\": \"Klausur\",\n             \"studentExamGenerationSuccess\": \"{{number}} individuelle Klausuren erfolgreich generiert!\",\n             \"studentExamGenerationError\": \"Es gab einen Fehler bei der Generierung der individuellen Klausuren:\\n {{message}}\",\n+            \"missingStudentExamGenerationSuccess\": \"{{number}} fehlende individuelle Klausuren erfolgreich generiert!\",\n+            \"missingStudentExamGenerationError\": \"Es gab einen Fehler bei der Generierung der fehlenden individuellen Klausuren:\\n {{message}}\",\n             \"startExerciseSuccess\": \"{{number}} Aufgaben erfolgreich vorbereitet!\",\n             \"startExerciseFailure\": \"Es gab einen Fehler bei der Vorbereitung der Aufgaben:\\n {{message}}\",\n             \"evaluateQuizExerciseSuccess\": \"{{number}} Quiz-Aufgaben erfolgreich ausgewertet!\",\n-            \"evaluateQuizExerciseFailure\": \"Es gab einen Fehler bei der Auswertung der Quiz-Aufgaben:\\n {{message}}\"\n+            \"evaluateQuizExerciseFailure\": \"Es gab einen Fehler bei der Auswertung der Quiz-Aufgaben:\\n {{message}}\",\n+            \"studentExamGenerationModalText\": \"Es existieren bereits individuelle Klausuren. Wenn Sie fortfahren werden diese Klausuren gel\u00f6scht und neue individuelle Klausuren generiert.\",\n+            \"studentExamStatusSuccess\": \"Alle registrierten Studenten haben eine Klausur\",\n+            \"studentExamStatusWarning\": \"Nicht alle registrierten Studenten haben eine Klausur\",\n+            \"studentExamStatusWarningTooltip\": \"Klick auf den Button 'Fehlende individuelle Klausuren erstellen', um die fehlenden Klausuren zu generieren. Alternativ, klick auf den Button 'Individuelle Klausuren erstellen', um alle Klausuren zu l\u00f6schen und neu zu generieren\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29e380c1f311d8c04dcdc31909965c9aa033346e"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTI1NDM0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exam/manage/students/exam-students.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0Njo0MVrOGsTUrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0Njo0MVrOGsTUrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEwNzExOA==", "bodyText": "Could you please document what this second parameter is for?", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449107118", "createdAt": "2020-07-02T15:46:41Z", "author": {"login": "sleiss"}, "path": "src/main/webapp/app/exam/manage/students/exam-students.component.ts", "diffHunk": "@@ -169,8 +169,8 @@ export class ExamStudentsComponent implements OnInit, OnDestroy {\n      *\n      * @param user User that should be removed from the exam\n      */\n-    removeFromExam(user: User) {\n-        this.examManagementService.removeStudentFromExam(this.courseId, this.exam.id, user.login!).subscribe(\n+    removeFromExam(user: User, $event: { [key: string]: boolean }) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29e380c1f311d8c04dcdc31909965c9aa033346e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTI3MTU0OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0OTowMlrOGsTgHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo0OTowMlrOGsTgHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExMDA0NQ==", "bodyText": "There seems to be some documentation missing here.", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449110045", "createdAt": "2020-07-02T15:49:02Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ExamResource.java", "diffHunk": "@@ -398,32 +438,56 @@ public ExamResource(UserService userService, CourseService courseService, ExamRe\n     }\n \n     /**\n-     * DELETE /courses/:courseId/exams/:examId/students/:studentLogin : Remove one single given user (based on the login) from the students of the exam so that the student cannot access the exam any more\n+     * DELETE /courses/:courseId/exams/:examId/students/:studentLogin :\n+     * Remove one single given user (based on the login) from the students of the exam so that the student cannot access the exam any more.\n+     * Also deletes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29e380c1f311d8c04dcdc31909965c9aa033346e"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTI4MzI0OnYy", "diffSide": "LEFT", "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1MTowMFrOGsTnww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjowODoyNlrOGsUTuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExMjAwMw==", "bodyText": "Is it intended that we don't save anymore? If so, could you maybe document that the caller has to save the returned exams?", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449112003", "createdAt": "2020-07-02T15:51:00Z", "author": {"login": "sleiss"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -265,11 +328,6 @@ public void delete(Long examId) {\n \n             studentExams.add(studentExam);\n         }\n-\n-        studentExams = studentExamRepository.saveAll(studentExams);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29e380c1f311d8c04dcdc31909965c9aa033346e"}, "originalPosition": 145}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyMzI1Nw==", "bodyText": "The caller saves them. We can also save them in the called method.", "url": "https://github.com/ls1intum/Artemis/pull/1789#discussion_r449123257", "createdAt": "2020-07-02T16:08:26Z", "author": {"login": "kloessst"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -265,11 +328,6 @@ public void delete(Long examId) {\n \n             studentExams.add(studentExam);\n         }\n-\n-        studentExams = studentExamRepository.saveAll(studentExams);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExMjAwMw=="}, "originalCommit": {"oid": "29e380c1f311d8c04dcdc31909965c9aa033346e"}, "originalPosition": 145}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4957, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}