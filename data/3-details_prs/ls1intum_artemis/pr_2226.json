{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NzgyMTIz", "number": 2226, "title": "[Feature] Enable static code analysis for GitLab + Jenkins", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest2.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I documented the Java code using JavaDoc style.\n\nMotivation and Context\n\n\nThis PR enables the handling of static code analysis on Artemis side. The Jenkins plugin was already adapted to support the parsing and sending of issues found by static code analysis.\nDescription\n\n\nIf static code analysis was enabled, a build plan with an additional post build task will be created. The task runs static code analysis and copies the reports to a specific folder. The plugin will look for reports in this folder.\nExtend TestResultDTO to include static code analysis reports sent by the plugin\nExtend JenkinsService to create static code analysis feedback if the option was enabled and such feedback was sent by the plugin\n\nSteps for Testing\n\nUse TS2 for testing. The new version of the notification plugin was already deployed there for testing purposes\n\nLog in to Artemis Test Server 2\nCreate a programming exercise with and without static code analysis\nParticipate in the exercises\nSubmit a solution\n-> Check the you receive the expected feedback. For the exercise with static code analysis enabled, such feedback should be visible\n\nTest Coverage\n\n\nExerciseService.java: 85%\nprogramming-exercise.component.ts 95%", "createdAt": "2020-10-19T08:12:51Z", "url": "https://github.com/ls1intum/Artemis/pull/2226", "merged": true, "mergeCommit": {"oid": "3f6d2e80a8b905885eba978656d7404c0c736568"}, "closed": true, "closedAt": "2020-10-20T10:36:08Z", "author": {"login": "kloessst"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTfTpngH2gAyNTA1NzgyMTIzOmFhNWE0ZjM5NTE3NmFjZjUxNTQ0ZDhiMDBhOWQyNTI1YzE0YzliNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUWT9bAFqTUxMjU2NTYxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aa5a4f395176acf51544d8b00a9d2525c14c9b75", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/aa5a4f395176acf51544d8b00a9d2525c14c9b75", "committedDate": "2020-10-17T18:30:19Z", "message": "Extract sca feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2bafd357ac9b2cb5693409008782912345519a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/dd2bafd357ac9b2cb5693409008782912345519a", "committedDate": "2020-10-17T20:16:31Z", "message": "Build plan for Jenkins Java with SCA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2563e3464236a111b9e8c7a354cc8116b5d99cc", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a2563e3464236a111b9e8c7a354cc8116b5d99cc", "committedDate": "2020-10-17T20:21:04Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/sca-for-jenkins"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8a9fac74a69882567d23050b2f268560f4e2dfb", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a8a9fac74a69882567d23050b2f268560f4e2dfb", "committedDate": "2020-10-19T08:16:25Z", "message": "Fix script creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a81a6b2e57953d3e653466b8afa218b655f05df", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/7a81a6b2e57953d3e653466b8afa218b655f05df", "committedDate": "2020-10-19T11:05:08Z", "message": "Revert change to gradlew"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d5d2546478e91f522d9c5756543eea089e072c9", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/1d5d2546478e91f522d9c5756543eea089e072c9", "committedDate": "2020-10-19T13:00:19Z", "message": "Merge branch 'develop' into feature/sca-for-jenkins"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a71ceb7fe6a8433ef80217328570745fe259c9af", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/a71ceb7fe6a8433ef80217328570745fe259c9af", "committedDate": "2020-10-19T13:09:11Z", "message": "Remove parenthesis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96fdc8054f77b550bebbaf60f8275977251468a7", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/96fdc8054f77b550bebbaf60f8275977251468a7", "committedDate": "2020-10-19T13:54:10Z", "message": "Restructure jenkins build plan strategy. Remove unused interface method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5f6480a7b716e46b89604884ed8223b8cde1858", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/c5f6480a7b716e46b89604884ed8223b8cde1858", "committedDate": "2020-10-19T14:05:36Z", "message": "Update doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "020c8e6d7ff19943a4b475e76a5ecd628cf7c7c1", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/020c8e6d7ff19943a4b475e76a5ecd628cf7c7c1", "committedDate": "2020-10-19T17:12:35Z", "message": "Test build plan and feedback creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c94e09b822ba95cff6995b773cbb9782c9550985", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/c94e09b822ba95cff6995b773cbb9782c9550985", "committedDate": "2020-10-19T17:21:04Z", "message": "Add doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ec82222fdece366b4152ea86bbae912d02c14dc", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/9ec82222fdece366b4152ea86bbae912d02c14dc", "committedDate": "2020-10-19T20:15:12Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0", "committedDate": "2020-10-19T23:16:18Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjYwOTA1", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512260905", "createdAt": "2020-10-20T01:06:08Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMTowNjowOFrOHkm6mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMTowNjowOFrOHkm6mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE0ODM3Nw==", "bodyText": "Codacy found an issue: Avoid unused private methods such as 'createArgumentsForProgrammingExerciseCreation()'.", "url": "https://github.com/ls1intum/Artemis/pull/2226#discussion_r508148377", "createdAt": "2020-10-20T01:06:08Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseGitlabJenkinsIntegrationTest.java", "diffHunk": "@@ -117,17 +149,49 @@ void tearDown() throws IOException {\n         studentTeamRepo.resetLocalRepo();\n     }\n \n+    private static Stream<Arguments> createArgumentsForProgrammingExerciseCreation() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjYwOTEy", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512260912", "createdAt": "2020-10-20T01:06:09Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMTowNjowOVrOHkm6ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMTowNjowOVrOHkm6ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE0ODM4Mg==", "bodyText": "Codacy found an issue: The instance method name 'createProgrammingExercise_validExercise_created' doesn't match '[a-z][a-zA-Z0-9]*'", "url": "https://github.com/ls1intum/Artemis/pull/2226#discussion_r508148382", "createdAt": "2020-10-20T01:06:09Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseGitlabJenkinsIntegrationTest.java", "diffHunk": "@@ -117,17 +149,49 @@ void tearDown() throws IOException {\n         studentTeamRepo.resetLocalRepo();\n     }\n \n+    private static Stream<Arguments> createArgumentsForProgrammingExerciseCreation() {\n+        return Arrays.stream(ExerciseMode.values()).map(mode -> List.of(Arguments.of(mode, true), Arguments.of(mode, false))).flatMap(Collection::stream);\n+    }\n+\n     @ParameterizedTest\n-    @EnumSource(ExerciseMode.class)\n+    @MethodSource(\"createArgumentsForProgrammingExerciseCreation\")\n     @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n-    void createProgrammingExercise_validExercise_created(ExerciseMode mode) throws Exception {\n+    void createProgrammingExercise_validExercise_created(ExerciseMode mode, boolean isStaticCodeAnalysisEnabled) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "originalPosition": 91}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDg4ODQ0", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512488844", "createdAt": "2020-10-20T09:04:33Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDkxMjU2", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512491256", "createdAt": "2020-10-20T09:07:12Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDkxMjc3", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512491277", "createdAt": "2020-10-20T09:07:14Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c6c90307ceeab6301b0be33246fb915dde13ce", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/77c6c90307ceeab6301b0be33246fb915dde13ce", "committedDate": "2020-10-20T09:07:27Z", "message": "Merge branch 'develop' into feature/sca-for-jenkins"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDkxNzA2", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512491706", "createdAt": "2020-10-20T09:07:45Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDkxOTM3", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512491937", "createdAt": "2020-10-20T09:08:02Z", "commit": {"oid": "2bc1cc2fb5b947c74dd4db5f8ccfe634960532d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTY1NjE2", "url": "https://github.com/ls1intum/Artemis/pull/2226#pullrequestreview-512565616", "createdAt": "2020-10-20T10:35:26Z", "commit": {"oid": "77c6c90307ceeab6301b0be33246fb915dde13ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3871, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}