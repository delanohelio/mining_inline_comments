{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MzA5NzUx", "number": 2457, "reviewThreads": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwODowMDowNlrOE9hC3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNTo1NlrOE_jkuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyOTM5OTk5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwODowMDowNlrOH6Pi1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwODowOTowNVrOH6P0XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDgzNDEzNQ==", "bodyText": "I think null should be replaced with undefined", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r530834135", "createdAt": "2020-11-26T08:00:06Z", "author": {"login": "ivanchimeno"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.ts", "diffHunk": "@@ -46,21 +49,25 @@ export class ProgrammingAssessmentRepoExportDialogComponent implements OnInit {\n             normalizeCodeStyle: false, // disabled by default because it is rather unstable\n             hideStudentNameInZippedFolder: false,\n         };\n-        this.exerciseService\n-            .find(this.exerciseId)\n-            .pipe(\n-                tap(({ body: exercise }) => {\n-                    this.exercise = exercise!;\n-                }),\n-                catchError((err) => {\n-                    this.jhiAlertService.error(err);\n-                    this.clear();\n-                    return of(undefined);\n-                }),\n-            )\n-            .subscribe(() => {\n-                this.isLoading = false;\n-            });\n+        if (this.selectedProgrammingExercises.length <= 0) {\n+            this.exerciseService\n+                .find(this.exerciseId)\n+                .pipe(\n+                    tap(({ body: exercise }) => {\n+                        this.exercise = exercise!;\n+                    }),\n+                    catchError((err) => {\n+                        this.jhiAlertService.error(err);\n+                        this.clear();\n+                        return of(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1469711caec65b6151080ba92904a757a18d1f7"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDgzODYyMQ==", "bodyText": "You're right.. Fixed with 6885a6a \ud83d\udc4d", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r530838621", "createdAt": "2020-11-26T08:09:05Z", "author": {"login": "daniels98it"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.ts", "diffHunk": "@@ -46,21 +49,25 @@ export class ProgrammingAssessmentRepoExportDialogComponent implements OnInit {\n             normalizeCodeStyle: false, // disabled by default because it is rather unstable\n             hideStudentNameInZippedFolder: false,\n         };\n-        this.exerciseService\n-            .find(this.exerciseId)\n-            .pipe(\n-                tap(({ body: exercise }) => {\n-                    this.exercise = exercise!;\n-                }),\n-                catchError((err) => {\n-                    this.jhiAlertService.error(err);\n-                    this.clear();\n-                    return of(undefined);\n-                }),\n-            )\n-            .subscribe(() => {\n-                this.isLoading = false;\n-            });\n+        if (this.selectedProgrammingExercises.length <= 0) {\n+            this.exerciseService\n+                .find(this.exerciseId)\n+                .pipe(\n+                    tap(({ body: exercise }) => {\n+                        this.exercise = exercise!;\n+                    }),\n+                    catchError((err) => {\n+                        this.jhiAlertService.error(err);\n+                        this.clear();\n+                        return of(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDgzNDEzNQ=="}, "originalCommit": {"oid": "b1469711caec65b6151080ba92904a757a18d1f7"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjIzMTk5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo0MTozNFrOH8Dtsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo0MTozNFrOH8Dtsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjczNzQ1OQ==", "bodyText": "In TypeScript we prefer to use undefined instead of null\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                notificationText: string | null;\n          \n          \n            \n                notificationText: string | undefined;", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r532737459", "createdAt": "2020-11-30T16:41:34Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.ts", "diffHunk": "@@ -0,0 +1,113 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import { TranslateService } from '@ngx-translate/core';\n+import { HttpErrorResponse, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { ProgrammingExerciseSimulationService } from 'app/exercises/programming/manage/services/programming-exercise-simulation.service';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { JhiAlertService } from 'ng-jhipster';\n+\n+@Component({\n+    selector: 'jhi-programming-exercise-edit-selected',\n+    templateUrl: './programming-exercise-edit-selected.component.html',\n+})\n+export class ProgrammingExerciseEditSelectedComponent implements OnInit {\n+    newProgrammingExercise: ProgrammingExercise;\n+    selectedProgrammingExercises: ProgrammingExercise[];\n+\n+    isSaving = false;\n+    savedExercises = 0;\n+    failedExercises: string[] = [];\n+    private translationBasePath = 'artemisApp.programmingExercise.';\n+    notificationText: string | null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6885a6a32c9e196c18220e2d2dd756103e9911ab"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjI1MDQ1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo0NToyNlrOH8D5Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo0NToyNlrOH8D5Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0MDM1NQ==", "bodyText": "you can simplify this line as follows:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    exerciseTitle = exerciseTitle == undefined ? 'undefined exercise' : exerciseTitle;\n          \n          \n            \n                    exerciseTitle = exerciseTitle ?? 'undefined exercise';", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r532740355", "createdAt": "2020-11-30T16:45:26Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.ts", "diffHunk": "@@ -0,0 +1,113 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import { TranslateService } from '@ngx-translate/core';\n+import { HttpErrorResponse, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { ProgrammingExerciseSimulationService } from 'app/exercises/programming/manage/services/programming-exercise-simulation.service';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { JhiAlertService } from 'ng-jhipster';\n+\n+@Component({\n+    selector: 'jhi-programming-exercise-edit-selected',\n+    templateUrl: './programming-exercise-edit-selected.component.html',\n+})\n+export class ProgrammingExerciseEditSelectedComponent implements OnInit {\n+    newProgrammingExercise: ProgrammingExercise;\n+    selectedProgrammingExercises: ProgrammingExercise[];\n+\n+    isSaving = false;\n+    savedExercises = 0;\n+    failedExercises: string[] = [];\n+    private translationBasePath = 'artemisApp.programmingExercise.';\n+    notificationText: string | null;\n+\n+    constructor(\n+        private activeModal: NgbActiveModal,\n+        private translateService: TranslateService,\n+        private jhiAlertService: JhiAlertService,\n+        private programmingExerciseService: ProgrammingExerciseService,\n+        private programmingExerciseSimulationService: ProgrammingExerciseSimulationService,\n+    ) {}\n+\n+    ngOnInit(): void {\n+        this.newProgrammingExercise = new ProgrammingExercise(undefined, undefined);\n+    }\n+\n+    saveAll() {\n+        // If no release date is set, we warn the user.\n+        if (!this.newProgrammingExercise.releaseDate) {\n+            const confirmNoReleaseDate = this.translateService.instant(this.translationBasePath + 'noReleaseDateWarning');\n+            if (!window.confirm(confirmNoReleaseDate)) {\n+                return;\n+            }\n+        }\n+        this.isSaving = true;\n+        this.selectedProgrammingExercises.forEach((programmingExercise) => {\n+            programmingExercise = this.setNewValues(programmingExercise);\n+            if (programmingExercise.id !== undefined) {\n+                const requestOptions = {} as any;\n+                if (this.notificationText) {\n+                    requestOptions.notificationText = this.notificationText;\n+                }\n+                this.subscribeToSaveResponse(programmingExercise.title, this.programmingExerciseService.update(programmingExercise, requestOptions));\n+            } else if (programmingExercise.noVersionControlAndContinuousIntegrationAvailable) {\n+                // only for testing purposes(noVersionControlAndContinuousIntegrationAvailable)\n+                this.subscribeToSaveResponse(programmingExercise.title, this.programmingExerciseSimulationService.automaticSetupWithoutConnectionToVCSandCI(programmingExercise));\n+            } else {\n+                this.subscribeToSaveResponse(programmingExercise.title, this.programmingExerciseService.automaticSetup(programmingExercise));\n+            }\n+        });\n+    }\n+\n+    /**\n+     * Replace the programming exercise values with the new given ones\n+     * @param programmingExercise to update\n+     * @return the programming exercise with updated values\n+     */\n+    setNewValues(programmingExercise: ProgrammingExercise) {\n+        programmingExercise.releaseDate = this.newProgrammingExercise.releaseDate;\n+        programmingExercise.dueDate = this.newProgrammingExercise.dueDate;\n+        programmingExercise.buildAndTestStudentSubmissionsAfterDueDate = this.newProgrammingExercise.buildAndTestStudentSubmissionsAfterDueDate;\n+        programmingExercise.assessmentDueDate = this.newProgrammingExercise.assessmentDueDate;\n+        return programmingExercise;\n+    }\n+\n+    private subscribeToSaveResponse(exerciseTitle: string | undefined, result: Observable<HttpResponse<ProgrammingExercise>>) {\n+        result.subscribe(\n+            () => this.onSaveSuccess(),\n+            (res: HttpErrorResponse) => this.onSaveError(res, exerciseTitle),\n+        );\n+    }\n+\n+    private onSaveSuccess() {\n+        this.savedExercises++;\n+        if (this.savedExercises === this.selectedProgrammingExercises.length) {\n+            this.isSaving = false;\n+            if (this.failedExercises.length <= 0) {\n+                this.activeModal.close();\n+            }\n+        }\n+    }\n+\n+    private onSaveError(error: HttpErrorResponse, exerciseTitle?: string | undefined) {\n+        exerciseTitle = exerciseTitle == undefined ? 'undefined exercise' : exerciseTitle;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6885a6a32c9e196c18220e2d2dd756103e9911ab"}, "originalPosition": 94}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjI3NjQxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/de/global.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1MDo1NFrOH8EI2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1MDo1NFrOH8EI2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0NDQwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"editSelected\": \"Bearbeite Ausgew\u00e4hlte\",\n          \n          \n            \n                        \"editSelected\": \"Ausgew\u00e4hlte bearbeiten\",", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r532744409", "createdAt": "2020-11-30T16:50:54Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/i18n/de/global.json", "diffHunk": "@@ -178,6 +178,7 @@\n             \"dashboard\": \"Dashboard\",\n             \"units\": \"Einheiten\",\n             \"edit\": \"Bearbeiten\",\n+            \"editSelected\": \"Bearbeite Ausgew\u00e4hlte\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6885a6a32c9e196c18220e2d2dd756103e9911ab"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjI4NjkzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/en/programmingExercise.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1MzoxMFrOH8EPRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1MzoxMFrOH8EPRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0NjA1NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"reEvaluateFailed\": \"The re-evaulation failed: {{message}}\",\n          \n          \n            \n                        \"reEvaluateFailed\": \"The re-evaluation failed: {{message}}\",", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r532746055", "createdAt": "2020-11-30T16:53:10Z", "author": {"login": "balazs-czopf"}, "path": "src/main/webapp/i18n/en/programmingExercise.json", "diffHunk": "@@ -223,7 +224,12 @@\n             \"reEvaluate\": \"Re-evaluate all\",\n             \"reEvaluateTooltip\": \"Re-evaluate the latest automatic results of all participations. Manual results are not affected.\",\n             \"reEvaluateSuccessful\": \"{{number}} automatic results were successfully updated, including the template and solution.\",\n-            \"reEvaluateFailed\": \"The re-evaulation failed: {{message}}\"\n+            \"reEvaluateFailed\": \"The re-evaulation failed: {{message}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6885a6a32c9e196c18220e2d2dd756103e9911ab"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDcyNzg0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMjozOVrOH9UGrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMjozOVrOH9UGrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NDU3NQ==", "bodyText": "Maybe we can introduce a new variable something like isRepoExportForMultipleExercises = selectedProgrammingExercises.length > 0", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534054575", "createdAt": "2020-12-02T10:22:39Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -1,19 +1,37 @@\n-<form *ngIf=\"!isLoading; else loadingContainer\" name=\"exportForm\" role=\"form\" (ngSubmit)=\"exportRepos(exercise.id)\" #exportForm=\"ngForm\">\n+<form\n+    *ngIf=\"!isLoading; else loadingContainer\"\n+    name=\"exportForm\"\n+    role=\"form\"\n+    (ngSubmit)=\"selectedProgrammingExercises.length <= 0 ? exportRepos(exercise.id) : bulkExportRepos()\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDczMzg4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDowMFrOH9UKKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDowMFrOH9UKKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NTQ2NQ==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534055465", "createdAt": "2020-12-02T10:24:00Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -1,19 +1,37 @@\n-<form *ngIf=\"!isLoading; else loadingContainer\" name=\"exportForm\" role=\"form\" (ngSubmit)=\"exportRepos(exercise.id)\" #exportForm=\"ngForm\">\n+<form\n+    *ngIf=\"!isLoading; else loadingContainer\"\n+    name=\"exportForm\"\n+    role=\"form\"\n+    (ngSubmit)=\"selectedProgrammingExercises.length <= 0 ? exportRepos(exercise.id) : bulkExportRepos()\"\n+    #exportForm=\"ngForm\"\n+>\n     <div class=\"modal-header\">\n         <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export operation</h4>\n         <button type=\"button\" class=\"close\" data-dismiss=\"modal\" (click)=\"clear()\">&times;</button>\n     </div>\n     <div class=\"modal-body\">\n         <jhi-alert-error></jhi-alert-error>\n+        <div *ngIf=\"selectedProgrammingExercises.length > 0\" class=\"table-responsive m-2 p-1\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDczNjkzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDozNlrOH9UL4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDozNlrOH9UL4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NTkwNw==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534055907", "createdAt": "2020-12-02T10:24:36Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -1,19 +1,37 @@\n-<form *ngIf=\"!isLoading; else loadingContainer\" name=\"exportForm\" role=\"form\" (ngSubmit)=\"exportRepos(exercise.id)\" #exportForm=\"ngForm\">\n+<form\n+    *ngIf=\"!isLoading; else loadingContainer\"\n+    name=\"exportForm\"\n+    role=\"form\"\n+    (ngSubmit)=\"selectedProgrammingExercises.length <= 0 ? exportRepos(exercise.id) : bulkExportRepos()\"\n+    #exportForm=\"ngForm\"\n+>\n     <div class=\"modal-header\">\n         <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export operation</h4>\n         <button type=\"button\" class=\"close\" data-dismiss=\"modal\" (click)=\"clear()\">&times;</button>\n     </div>\n     <div class=\"modal-body\">\n         <jhi-alert-error></jhi-alert-error>\n+        <div *ngIf=\"selectedProgrammingExercises.length > 0\" class=\"table-responsive m-2 p-1\">\n+            <span style=\"font-weight: bold\" jhiTranslate=\"instructorDashboard.exportRepos.currentlySelected\"\n+                >You are about to download all teams'/students' submissions of the following exercises:</span\n+            >\n+            <table class=\"table table-striped\">\n+                <tbody>\n+                    <tr *ngFor=\"let programmingExercise of selectedProgrammingExercises\">\n+                        <td>{{ programmingExercise.title }}</td>\n+                    </tr>\n+                </tbody>\n+            </table>\n+        </div>\n         <p\n-            *ngIf=\"!singleParticipantMode\"\n+            *ngIf=\"!singleParticipantMode && selectedProgrammingExercises.length <= 0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDczODQzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDo1NFrOH9UMug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNDo1NFrOH9UMug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NjEyMg==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534056122", "createdAt": "2020-12-02T10:24:54Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -1,19 +1,37 @@\n-<form *ngIf=\"!isLoading; else loadingContainer\" name=\"exportForm\" role=\"form\" (ngSubmit)=\"exportRepos(exercise.id)\" #exportForm=\"ngForm\">\n+<form\n+    *ngIf=\"!isLoading; else loadingContainer\"\n+    name=\"exportForm\"\n+    role=\"form\"\n+    (ngSubmit)=\"selectedProgrammingExercises.length <= 0 ? exportRepos(exercise.id) : bulkExportRepos()\"\n+    #exportForm=\"ngForm\"\n+>\n     <div class=\"modal-header\">\n         <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export operation</h4>\n         <button type=\"button\" class=\"close\" data-dismiss=\"modal\" (click)=\"clear()\">&times;</button>\n     </div>\n     <div class=\"modal-body\">\n         <jhi-alert-error></jhi-alert-error>\n+        <div *ngIf=\"selectedProgrammingExercises.length > 0\" class=\"table-responsive m-2 p-1\">\n+            <span style=\"font-weight: bold\" jhiTranslate=\"instructorDashboard.exportRepos.currentlySelected\"\n+                >You are about to download all teams'/students' submissions of the following exercises:</span\n+            >\n+            <table class=\"table table-striped\">\n+                <tbody>\n+                    <tr *ngFor=\"let programmingExercise of selectedProgrammingExercises\">\n+                        <td>{{ programmingExercise.title }}</td>\n+                    </tr>\n+                </tbody>\n+            </table>\n+        </div>\n         <p\n-            *ngIf=\"!singleParticipantMode\"\n+            *ngIf=\"!singleParticipantMode && selectedProgrammingExercises.length <= 0\"\n             [jhiTranslate]=\"'instructorDashboard.exportRepos.questions.' + (exercise.teamMode ? 'team' : 'individual')\"\n             [translateValues]=\"{ exerciseTitle: exercise.title, courseTitle: exercise.course?.title }\"\n         >\n             Confirm export\n         </p>\n         <textarea\n-            *ngIf=\"!participationIdList\"\n+            *ngIf=\"!participationIdList && selectedProgrammingExercises.length <= 0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc0MDA0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNToxMFrOH9UNog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNToxMFrOH9UNog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NjM1NA==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534056354", "createdAt": "2020-12-02T10:25:10Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -24,7 +42,7 @@ <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export o\n         <!--\n         Only show download all checkbox for instructors & admins.\n         -->\n-        <ng-container *ngIf=\"!singleParticipantMode\">\n+        <ng-container *ngIf=\"!singleParticipantMode && selectedProgrammingExercises.length <= 0\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc0MTYwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNTozMlrOH9UOhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNTozMlrOH9UOhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NjU4MQ==", "bodyText": "Use new variable for checks", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534056581", "createdAt": "2020-12-02T10:25:32Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -55,9 +73,15 @@ <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export o\n         <div *ngIf=\"!singleParticipantMode\" class=\"checkbox\">\n             <label class=\"control-label\">\n                 <input type=\"checkbox\" name=\"addParticipantName\" [(ngModel)]=\"this.repositoryExportOptions.addParticipantName\" />\n-                <strong [jhiTranslate]=\"'artemisApp.programmingExercise.export.' + (exercise.teamMode ? 'addTeamName' : 'addStudentName')\">\n+                <strong\n+                    *ngIf=\"selectedProgrammingExercises.length <= 0\"\n+                    [jhiTranslate]=\"'artemisApp.programmingExercise.export.' + (selectedProgrammingExercises.length <= 0 && exercise.teamMode ? 'addTeamName' : 'addStudentName')\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc0MjU2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNTo0NVrOH9UPHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNTo0NVrOH9UPHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NjczMg==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534056732", "createdAt": "2020-12-02T10:25:45Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -55,9 +73,15 @@ <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export o\n         <div *ngIf=\"!singleParticipantMode\" class=\"checkbox\">\n             <label class=\"control-label\">\n                 <input type=\"checkbox\" name=\"addParticipantName\" [(ngModel)]=\"this.repositoryExportOptions.addParticipantName\" />\n-                <strong [jhiTranslate]=\"'artemisApp.programmingExercise.export.' + (exercise.teamMode ? 'addTeamName' : 'addStudentName')\">\n+                <strong\n+                    *ngIf=\"selectedProgrammingExercises.length <= 0\"\n+                    [jhiTranslate]=\"'artemisApp.programmingExercise.export.' + (selectedProgrammingExercises.length <= 0 && exercise.teamMode ? 'addTeamName' : 'addStudentName')\"\n+                >\n                     Add {{ exercise.teamMode ? 'team' : 'student' }} name to project\n                 </strong>\n+                <strong *ngIf=\"selectedProgrammingExercises.length > 0\" [jhiTranslate]=\"'artemisApp.programmingExercise.export.addTeamOrStudentName'\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc0NDcxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNjoxNlrOH9UQcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNjoxNlrOH9UQcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NzA3Mg==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534057072", "createdAt": "2020-12-02T10:26:16Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -85,6 +109,17 @@ <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export o\n             type=\"submit\"\n             [disabled]=\"!participationIdList && !participantIdentifierList && !this.repositoryExportOptions.exportAllParticipants && !exportInProgress\"\n             class=\"btn btn-default\"\n+            *ngIf=\"selectedProgrammingExercises.length <= 0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc0NTg3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNjozM1rOH9URJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyNjozM1rOH9URJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1NzI1NA==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534057254", "createdAt": "2020-12-02T10:26:33Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.html", "diffHunk": "@@ -85,6 +109,17 @@ <h4 class=\"modal-title\" jhiTranslate=\"entity.exportRepos.title\">Confirm export o\n             type=\"submit\"\n             [disabled]=\"!participationIdList && !participantIdentifierList && !this.repositoryExportOptions.exportAllParticipants && !exportInProgress\"\n             class=\"btn btn-default\"\n+            *ngIf=\"selectedProgrammingExercises.length <= 0\"\n+        >\n+            <span *ngIf=\"this.exportInProgress\" class=\"mr-1\"><fa-icon [icon]=\"'circle-notch'\" spin=\"true\"></fa-icon></span>\n+            <span class=\"glyphicon glyphicon-download-alt\"></span>&nbsp;<span jhiTranslate=\"entity.action.export\">Export</span>\n+        </button>\n+        <button\n+            [jhiFeatureToggle]=\"FeatureToggle.PROGRAMMING_EXERCISES\"\n+            type=\"submit\"\n+            [disabled]=\"!participationIdList && !participantIdentifierList && !this.repositoryExportOptions.exportAllParticipants && !exportInProgress\"\n+            class=\"btn btn-default\"\n+            *ngIf=\"selectedProgrammingExercises.length > 0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc1MjE2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyODowMFrOH9UU9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyODowMFrOH9UU9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1ODIzMA==", "bodyText": "Use new variable for check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534058230", "createdAt": "2020-12-02T10:28:00Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/assess/repo-export/programming-assessment-repo-export-dialog.component.ts", "diffHunk": "@@ -46,21 +49,25 @@ export class ProgrammingAssessmentRepoExportDialogComponent implements OnInit {\n             normalizeCodeStyle: false, // disabled by default because it is rather unstable\n             hideStudentNameInZippedFolder: false,\n         };\n-        this.exerciseService\n-            .find(this.exerciseId)\n-            .pipe(\n-                tap(({ body: exercise }) => {\n-                    this.exercise = exercise!;\n-                }),\n-                catchError((err) => {\n-                    this.jhiAlertService.error(err);\n-                    this.clear();\n-                    return of(undefined);\n-                }),\n-            )\n-            .subscribe(() => {\n-                this.isLoading = false;\n-            });\n+        if (this.selectedProgrammingExercises.length <= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc3MzE2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozMjo1MFrOH9UhmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozMjo1MFrOH9UhmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MTQ2NA==", "bodyText": "You could also introduce a new variable for this check", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534061464", "createdAt": "2020-12-02T10:32:50Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/exercises/programming/manage/programming-exercise-edit-selected.component.html", "diffHunk": "@@ -0,0 +1,54 @@\n+<div>\n+    <div class=\"modal-header\">\n+        <h4 class=\"modal-title\" jhiTranslate=\"entity.action.editSelected\">Edit selected</h4>\n+        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\" (click)=\"clear()\">&times;</button>\n+    </div>\n+    <div class=\"modal-body\">\n+        <div class=\"row justify-content-center\">\n+            <jhi-alert></jhi-alert>\n+            <jhi-alert-error></jhi-alert-error>\n+        </div>\n+        <div *ngIf=\"failedExercises.length > 0\" class=\"row justify-content-center\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc3OTg4OnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDozMVrOH9Ulmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDozMVrOH9Ulmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MjQ5MQ==", "bodyText": "Codacy: 'courseService' is assigned a value but never used", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534062491", "createdAt": "2020-12-02T10:34:31Z", "author": {"login": "fde312"}, "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "diffHunk": "@@ -0,0 +1,112 @@\n+import { ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { HttpResponse, HttpErrorResponse } from '@angular/common/http';\n+import { ActivatedRoute } from '@angular/router';\n+import { of } from 'rxjs';\n+import * as moment from 'moment';\n+\n+import { ArtemisTestModule } from '../../test.module';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { TranslateService } from '@ngx-translate/core';\n+import { Course } from 'app/entities/course.model';\n+import { MockActivatedRoute } from '../../helpers/mocks/activated-route/mock-activated-route';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ProgrammingLanguageFeatureService } from 'app/exercises/programming/shared/service/programming-language-feature/programming-language-feature.service';\n+import { ProgrammingExerciseEditSelectedComponent } from 'app/exercises/programming/manage/programming-exercise-edit-selected.component';\n+\n+describe('ProgrammingExercise Edit Selected Component', () => {\n+    let comp: ProgrammingExerciseEditSelectedComponent;\n+    let fixture: ComponentFixture<ProgrammingExerciseEditSelectedComponent>;\n+    let programmingExerciseService: ProgrammingExerciseService;\n+    let courseService: CourseManagementService;\n+    let exerciseGroupService: ExerciseGroupService;\n+    let programmingExerciseFeatureService: ProgrammingLanguageFeatureService;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule],\n+            declarations: [ProgrammingExerciseEditSelectedComponent],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: ActivatedRoute, useValue: new MockActivatedRoute() },\n+            ],\n+        })\n+            .overrideTemplate(ProgrammingExerciseEditSelectedComponent, '')\n+            .compileComponents();\n+\n+        fixture = TestBed.createComponent(ProgrammingExerciseEditSelectedComponent);\n+        comp = fixture.componentInstance;\n+        programmingExerciseService = fixture.debugElement.injector.get(ProgrammingExerciseService);\n+        courseService = fixture.debugElement.injector.get(CourseManagementService);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc4MDg4OnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDo0NVrOH9UmOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDo0NVrOH9UmOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MjY0OA==", "bodyText": "Codacy: 'exerciseGroupService' is assigned a value but never used", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534062648", "createdAt": "2020-12-02T10:34:45Z", "author": {"login": "fde312"}, "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "diffHunk": "@@ -0,0 +1,112 @@\n+import { ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { HttpResponse, HttpErrorResponse } from '@angular/common/http';\n+import { ActivatedRoute } from '@angular/router';\n+import { of } from 'rxjs';\n+import * as moment from 'moment';\n+\n+import { ArtemisTestModule } from '../../test.module';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { TranslateService } from '@ngx-translate/core';\n+import { Course } from 'app/entities/course.model';\n+import { MockActivatedRoute } from '../../helpers/mocks/activated-route/mock-activated-route';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ProgrammingLanguageFeatureService } from 'app/exercises/programming/shared/service/programming-language-feature/programming-language-feature.service';\n+import { ProgrammingExerciseEditSelectedComponent } from 'app/exercises/programming/manage/programming-exercise-edit-selected.component';\n+\n+describe('ProgrammingExercise Edit Selected Component', () => {\n+    let comp: ProgrammingExerciseEditSelectedComponent;\n+    let fixture: ComponentFixture<ProgrammingExerciseEditSelectedComponent>;\n+    let programmingExerciseService: ProgrammingExerciseService;\n+    let courseService: CourseManagementService;\n+    let exerciseGroupService: ExerciseGroupService;\n+    let programmingExerciseFeatureService: ProgrammingLanguageFeatureService;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule],\n+            declarations: [ProgrammingExerciseEditSelectedComponent],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: ActivatedRoute, useValue: new MockActivatedRoute() },\n+            ],\n+        })\n+            .overrideTemplate(ProgrammingExerciseEditSelectedComponent, '')\n+            .compileComponents();\n+\n+        fixture = TestBed.createComponent(ProgrammingExerciseEditSelectedComponent);\n+        comp = fixture.componentInstance;\n+        programmingExerciseService = fixture.debugElement.injector.get(ProgrammingExerciseService);\n+        courseService = fixture.debugElement.injector.get(CourseManagementService);\n+        exerciseGroupService = fixture.debugElement.injector.get(ExerciseGroupService);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc4MTc0OnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDo1OFrOH9Umvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNDo1OFrOH9Umvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2Mjc4Mw==", "bodyText": "Codacy: 'programmingExerciseFeatureService' is assigned a value but never used", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534062783", "createdAt": "2020-12-02T10:34:58Z", "author": {"login": "fde312"}, "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "diffHunk": "@@ -0,0 +1,112 @@\n+import { ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { HttpResponse, HttpErrorResponse } from '@angular/common/http';\n+import { ActivatedRoute } from '@angular/router';\n+import { of } from 'rxjs';\n+import * as moment from 'moment';\n+\n+import { ArtemisTestModule } from '../../test.module';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { TranslateService } from '@ngx-translate/core';\n+import { Course } from 'app/entities/course.model';\n+import { MockActivatedRoute } from '../../helpers/mocks/activated-route/mock-activated-route';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ProgrammingLanguageFeatureService } from 'app/exercises/programming/shared/service/programming-language-feature/programming-language-feature.service';\n+import { ProgrammingExerciseEditSelectedComponent } from 'app/exercises/programming/manage/programming-exercise-edit-selected.component';\n+\n+describe('ProgrammingExercise Edit Selected Component', () => {\n+    let comp: ProgrammingExerciseEditSelectedComponent;\n+    let fixture: ComponentFixture<ProgrammingExerciseEditSelectedComponent>;\n+    let programmingExerciseService: ProgrammingExerciseService;\n+    let courseService: CourseManagementService;\n+    let exerciseGroupService: ExerciseGroupService;\n+    let programmingExerciseFeatureService: ProgrammingLanguageFeatureService;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule],\n+            declarations: [ProgrammingExerciseEditSelectedComponent],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: ActivatedRoute, useValue: new MockActivatedRoute() },\n+            ],\n+        })\n+            .overrideTemplate(ProgrammingExerciseEditSelectedComponent, '')\n+            .compileComponents();\n+\n+        fixture = TestBed.createComponent(ProgrammingExerciseEditSelectedComponent);\n+        comp = fixture.componentInstance;\n+        programmingExerciseService = fixture.debugElement.injector.get(ProgrammingExerciseService);\n+        courseService = fixture.debugElement.injector.get(CourseManagementService);\n+        exerciseGroupService = fixture.debugElement.injector.get(ExerciseGroupService);\n+        programmingExerciseFeatureService = fixture.debugElement.injector.get(ProgrammingLanguageFeatureService);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc4NTg3OnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNTo1NlrOH9UpKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozNTo1NlrOH9UpKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MzQwMg==", "bodyText": "If this is not an important/intended check, please remove", "url": "https://github.com/ls1intum/Artemis/pull/2457#discussion_r534063402", "createdAt": "2020-12-02T10:35:56Z", "author": {"login": "fde312"}, "path": "src/test/javascript/spec/component/programming-exercise/programming-exercise-edit-selected.component.spec.ts", "diffHunk": "@@ -0,0 +1,112 @@\n+import { ComponentFixture, fakeAsync, TestBed, tick } from '@angular/core/testing';\n+import { HttpResponse, HttpErrorResponse } from '@angular/common/http';\n+import { ActivatedRoute } from '@angular/router';\n+import { of } from 'rxjs';\n+import * as moment from 'moment';\n+\n+import { ArtemisTestModule } from '../../test.module';\n+import { ProgrammingExerciseService } from 'app/exercises/programming/manage/services/programming-exercise.service';\n+import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n+import { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\n+import { MockSyncStorage } from '../../helpers/mocks/service/mock-sync-storage.service';\n+import { MockTranslateService } from '../../helpers/mocks/service/mock-translate.service';\n+import { TranslateService } from '@ngx-translate/core';\n+import { Course } from 'app/entities/course.model';\n+import { MockActivatedRoute } from '../../helpers/mocks/activated-route/mock-activated-route';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { CourseManagementService } from 'app/course/manage/course-management.service';\n+import { ProgrammingLanguageFeatureService } from 'app/exercises/programming/shared/service/programming-language-feature/programming-language-feature.service';\n+import { ProgrammingExerciseEditSelectedComponent } from 'app/exercises/programming/manage/programming-exercise-edit-selected.component';\n+\n+describe('ProgrammingExercise Edit Selected Component', () => {\n+    let comp: ProgrammingExerciseEditSelectedComponent;\n+    let fixture: ComponentFixture<ProgrammingExerciseEditSelectedComponent>;\n+    let programmingExerciseService: ProgrammingExerciseService;\n+    let courseService: CourseManagementService;\n+    let exerciseGroupService: ExerciseGroupService;\n+    let programmingExerciseFeatureService: ProgrammingLanguageFeatureService;\n+\n+    beforeEach(() => {\n+        TestBed.configureTestingModule({\n+            imports: [ArtemisTestModule],\n+            declarations: [ProgrammingExerciseEditSelectedComponent],\n+            providers: [\n+                { provide: LocalStorageService, useClass: MockSyncStorage },\n+                { provide: SessionStorageService, useClass: MockSyncStorage },\n+                { provide: TranslateService, useClass: MockTranslateService },\n+                { provide: ActivatedRoute, useValue: new MockActivatedRoute() },\n+            ],\n+        })\n+            .overrideTemplate(ProgrammingExerciseEditSelectedComponent, '')\n+            .compileComponents();\n+\n+        fixture = TestBed.createComponent(ProgrammingExerciseEditSelectedComponent);\n+        comp = fixture.componentInstance;\n+        programmingExerciseService = fixture.debugElement.injector.get(ProgrammingExerciseService);\n+        courseService = fixture.debugElement.injector.get(CourseManagementService);\n+        exerciseGroupService = fixture.debugElement.injector.get(ExerciseGroupService);\n+        programmingExerciseFeatureService = fixture.debugElement.injector.get(ProgrammingLanguageFeatureService);\n+    });\n+\n+    describe('saveAll', () => {\n+        it('Should update each selected exercise', fakeAsync(() => {\n+            // GIVEN\n+            // the exercise containing the values to update the selected ones\n+            const newProgrammingExercise = new ProgrammingExercise(new Course(), undefined);\n+            newProgrammingExercise.releaseDate = moment();\n+            newProgrammingExercise.dueDate = moment().add(7, 'days');\n+            const selectedProgrammingExercises = [];\n+            const entityOne = new ProgrammingExercise(new Course(), undefined);\n+            entityOne.id = 123;\n+            entityOne.releaseDate = moment().add(1, 'days');\n+            const entityTwo = new ProgrammingExercise(new Course(), undefined);\n+            entityTwo.id = 123;\n+            entityTwo.releaseDate = moment().add(1, 'days');\n+            selectedProgrammingExercises.push(entityOne);\n+            selectedProgrammingExercises.push(entityTwo);\n+            comp.selectedProgrammingExercises = selectedProgrammingExercises;\n+            comp.newProgrammingExercise = newProgrammingExercise;\n+\n+            spyOn(programmingExerciseService, 'update').and.returnValue(of(new HttpResponse({ body: entityOne })));\n+\n+            // WHEN\n+            comp.saveAll();\n+            tick(); // simulate async\n+\n+            // THEN\n+            expect(programmingExerciseService.update).toHaveBeenCalledWith(entityOne, {});\n+            expect(programmingExerciseService.update).toHaveBeenCalledWith(entityTwo, {});\n+            expect(comp.selectedProgrammingExercises[0].dueDate).toEqual(newProgrammingExercise.dueDate);\n+            expect(comp.selectedProgrammingExercises[1].dueDate).toEqual(newProgrammingExercise.dueDate);\n+            expect(comp.selectedProgrammingExercises[0].releaseDate).toEqual(newProgrammingExercise.releaseDate);\n+            expect(comp.selectedProgrammingExercises[1].releaseDate).toEqual(newProgrammingExercise.releaseDate);\n+            expect(comp.isSaving).toEqual(false);\n+        }));\n+\n+        it('Should display error and not close modal', fakeAsync(() => {\n+            // GIVEN\n+            const newProgrammingExercise = new ProgrammingExercise(new Course(), undefined);\n+            newProgrammingExercise.releaseDate = moment();\n+            newProgrammingExercise.dueDate = moment().add(7, 'days');\n+            const selectedProgrammingExercises = [];\n+            const entityOne = new ProgrammingExercise(new Course(), undefined);\n+            entityOne.id = 123;\n+            entityOne.releaseDate = moment().add(1, 'days');\n+            selectedProgrammingExercises.push(entityOne);\n+            comp.selectedProgrammingExercises = selectedProgrammingExercises;\n+            comp.newProgrammingExercise = newProgrammingExercise;\n+\n+            spyOn(programmingExerciseService, 'update').and.returnValue(of(new HttpErrorResponse({ error: 'Internal Server Error' })));\n+            spyOn(comp, 'closeModal');\n+            // WHEN\n+            comp.saveAll();\n+            tick(); // simulate async\n+\n+            // THEN\n+            expect(programmingExerciseService.update).toHaveBeenCalledWith(entityOne, {});\n+            // expect(comp.failedExercises.length).toBeGreaterThan(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a57491d34e39c4bce4eb32182e70f081c357ee4c"}, "originalPosition": 107}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4270, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}