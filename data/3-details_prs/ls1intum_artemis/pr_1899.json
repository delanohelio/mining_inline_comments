{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNDE5NTUz", "number": 1899, "title": "Add notice when quiz result is missing and prevent NPE", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nDescription\n\n I've added a missing result notice (see screenshot) that will be shown when we are after the publishResultsDate and there is no result for the quiz exercise\n I've prevented a null pointer exception that will be shown in that case\n\nSteps for Testing\n\nLog in to Artemis\nCreate an exam with at least one quiz exercise and a publishResultsDate\nParticipate in the exam\nWait until the publishResultsDate and go to the exam summary page (participation)\nCheck that there is no error on console any longer\nCheck that the blue alert box from the screenshot below is shown\n\nScreenshots", "createdAt": "2020-07-16T18:45:18Z", "url": "https://github.com/ls1intum/Artemis/pull/1899", "merged": true, "mergeCommit": {"oid": "f50ae81ec6d9ea7b5a396ae9e0ad87913b399e2a"}, "closed": true, "closedAt": "2020-07-17T11:58:53Z", "author": {"login": "sascha11110"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1jj4KAH2gAyNDUwNDE5NTUzOjQ5M2M2MDcxZDJlYmNmNzNjMzg5NDcwMTc0M2VlZGQwOTk1ZDlkMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1yWo7gFqTQ1MDU4OTA0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "493c6071d2ebcf73c3894701743eedd0995d9d1a", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/493c6071d2ebcf73c3894701743eedd0995d9d1a", "committedDate": "2020-07-16T18:29:56Z", "message": "Exit early when submission is not available to prevent NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fad9da6c7ae82a025fc717671e54ceca28859caa", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/fad9da6c7ae82a025fc717671e54ceca28859caa", "committedDate": "2020-07-16T18:40:01Z", "message": "Add missing result notice"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTU1Mzkx", "url": "https://github.com/ls1intum/Artemis/pull/1899#pullrequestreview-450155391", "createdAt": "2020-07-16T19:32:31Z", "commit": {"oid": "fad9da6c7ae82a025fc717671e54ceca28859caa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxOTozMjozMVrOGy5kzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxOTozMjozMVrOGy5kzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjAyNTI5NQ==", "bodyText": "publishResultsDate can be null/undefined which would throw an error here. If it is undefined / null, we do not show results. You also might want to use serverDate.now() instead of moment()", "url": "https://github.com/ls1intum/Artemis/pull/1899#discussion_r456025295", "createdAt": "2020-07-16T19:32:31Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/summary/exercises/quiz-exam-summary/quiz-exam-summary.component.ts", "diffHunk": "@@ -45,6 +51,7 @@ export class QuizExamSummaryComponent implements OnInit {\n                 this.exerciseWithSolution = response.body!;\n             });\n         }\n+        this.showMissingResultsNotice = this.exam!.publishResultsDate!.isBefore(moment()) && !this.exercise.studentParticipations[0].results[0];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fad9da6c7ae82a025fc717671e54ceca28859caa"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cd7b72f09f0873870aa17a5ae5cd88c2c29b574", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/1cd7b72f09f0873870aa17a5ae5cd88c2c29b574", "committedDate": "2020-07-16T22:21:45Z", "message": "preven type script error when publishResultsDate is undefined or null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a8a48ceae875ed848b9b38966d51a74068087b0", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/9a8a48ceae875ed848b9b38966d51a74068087b0", "committedDate": "2020-07-17T08:20:37Z", "message": "Make quizzes on summary read-only when quizzes were not evaluates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b6c2355d5a72c80deeb83028692ce17137b3f3d", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/6b6c2355d5a72c80deeb83028692ce17137b3f3d", "committedDate": "2020-07-17T08:20:55Z", "message": "Merge branch 'develop' into exam/participation/no-result-notice-quiz"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c8338e60b8bf2fa3354afa138f6bded644a509a", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/6c8338e60b8bf2fa3354afa138f6bded644a509a", "committedDate": "2020-07-17T08:21:15Z", "message": "Merge remote-tracking branch 'origin/exam/participation/no-result-notice-quiz' into exam/participation/no-result-notice-quiz"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTg5MDQ5", "url": "https://github.com/ls1intum/Artemis/pull/1899#pullrequestreview-450589049", "createdAt": "2020-07-17T11:44:03Z", "commit": {"oid": "6c8338e60b8bf2fa3354afa138f6bded644a509a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4374, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}