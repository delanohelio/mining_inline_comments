{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzOTM3ODIw", "number": 1798, "title": "[Exam] randomize order for quizzes", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I documented the TypeScript code using JSDoc style.\n\nMotivation and Context\n\n\nQuiz questions and quiz answer options are always presented in the same order in an exam despite being able to configure randomization when creating a quiz.\nDescription\n\nQuiz questions and quiz answer options are now presented in random order if the option is chosen.\nSteps for Testing\n\n\nLog in to Artemis\nCreate an exam with multiple quiz exercises (try different combinations of the randomization)\nParticipate in the exam\nCheck that it is presented in random order for the quiz exercises / quiz answer options you enabled the option.\n(Hint: quizzes are also randomized when refreshing)", "createdAt": "2020-07-03T08:52:45Z", "url": "https://github.com/ls1intum/Artemis/pull/1798", "merged": true, "mergeCommit": {"oid": "ebf6ea9cf8216cc26521987e1f76abf0d8e4cc48"}, "closed": true, "closedAt": "2020-07-05T18:03:28Z", "author": {"login": "filip-gregurevic"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxPejPgH2gAyNDQzOTM3ODIwOjYzMDExNzIxZWViN2M1Y2E4YjliYTdkNDZmZTQyYmM5YWIyYzExNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyAlBaAFqTQ0MjY5NjAxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "committedDate": "2020-07-03T08:50:19Z", "message": "randomize order in quizzes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjMxNDAw", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442631400", "createdAt": "2020-07-04T21:00:51Z", "commit": {"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQyMTowMDo1MVrOGs97tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQyMTowMDo1MVrOGs97tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwNTIzNg==", "bodyText": "this code is copied from quiz-participation.component.ts\nCan you please move it into some service to avoid duplication?", "url": "https://github.com/ls1intum/Artemis/pull/1798#discussion_r449805236", "createdAt": "2020-07-04T21:00:51Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exercises/quiz/quiz-exam-submission.component.ts", "diffHunk": "@@ -236,4 +240,47 @@ export class QuizExamSubmissionComponent extends ExamSubmissionComponent impleme\n         }, this);\n         this.studentSubmission.isSynced = false;\n     }\n+\n+    /**\n+     * Randomize the order of the questions\n+     * (and answerOptions or dragItems within each question)\n+     * if randomizeOrder is true\n+     *\n+     * @param quizExercise {object} the quizExercise to randomize elements in\n+     */\n+    randomizeOrder(quizExercise: QuizExercise) {\n+        if (quizExercise.quizQuestions) {\n+            // shuffle questions\n+            if (quizExercise.randomizeQuestionOrder) {\n+                this.shuffle(quizExercise.quizQuestions);\n+            }\n+\n+            // shuffle answerOptions / dragItems within questions\n+            quizExercise.quizQuestions.forEach((question) => {\n+                if (question.randomizeOrder) {\n+                    if (question.type === QuizQuestionType.MULTIPLE_CHOICE) {\n+                        this.shuffle((question as MultipleChoiceQuestion).answerOptions!);\n+                    } else if (question.type === QuizQuestionType.DRAG_AND_DROP) {\n+                        this.shuffle((question as DragAndDropQuestion).dragItems);\n+                    } else if (question.type === QuizQuestionType.SHORT_ANSWER) {\n+                    } else {\n+                        console.log('Unknown question type: ' + question);\n+                    }\n+                }\n+            }, this);\n+        }\n+    }\n+\n+    /**\n+     * Shuffles array in place.\n+     * @param {Array} items An array containing the items.\n+     */\n+    shuffle<T>(items: T[]) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjMxNDA1", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442631405", "createdAt": "2020-07-04T21:00:57Z", "commit": {"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQyMTowMDo1OFrOGs97ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQyMTowMDo1OFrOGs97ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwNTI0Mg==", "bodyText": "this code is copied from quiz-participation.component.ts\nCan you please move it into some service to avoid duplication?", "url": "https://github.com/ls1intum/Artemis/pull/1798#discussion_r449805242", "createdAt": "2020-07-04T21:00:58Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exercises/quiz/quiz-exam-submission.component.ts", "diffHunk": "@@ -236,4 +240,47 @@ export class QuizExamSubmissionComponent extends ExamSubmissionComponent impleme\n         }, this);\n         this.studentSubmission.isSynced = false;\n     }\n+\n+    /**\n+     * Randomize the order of the questions\n+     * (and answerOptions or dragItems within each question)\n+     * if randomizeOrder is true\n+     *\n+     * @param quizExercise {object} the quizExercise to randomize elements in\n+     */\n+    randomizeOrder(quizExercise: QuizExercise) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0da4f3f082bf2165d09dae56640aea10229de063", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/0da4f3f082bf2165d09dae56640aea10229de063", "committedDate": "2020-07-05T11:41:31Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into exam/quiz/randomize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "497678311509b1c5381ad403e2d7dbb64646cddd", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/497678311509b1c5381ad403e2d7dbb64646cddd", "committedDate": "2020-07-05T11:51:59Z", "message": "extract into service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjczOTI5", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442673929", "createdAt": "2020-07-05T12:41:12Z", "commit": {"oid": "497678311509b1c5381ad403e2d7dbb64646cddd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjg2ODAz", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442686803", "createdAt": "2020-07-05T15:35:17Z", "commit": {"oid": "497678311509b1c5381ad403e2d7dbb64646cddd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e21e95cd6f0e917581cfc5ce747498c7559178e", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/3e21e95cd6f0e917581cfc5ce747498c7559178e", "committedDate": "2020-07-05T15:43:08Z", "message": "rename file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2", "author": {"user": {"login": "filip-gregurevic", "name": "Filip Gregurevic"}}, "url": "https://github.com/ls1intum/Artemis/commit/07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2", "committedDate": "2020-07-05T15:59:35Z", "message": "prettier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjk1MDQx", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442695041", "createdAt": "2020-07-05T17:47:24Z", "commit": {"oid": "07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjk2MDE5", "url": "https://github.com/ls1intum/Artemis/pull/1798#pullrequestreview-442696019", "createdAt": "2020-07-05T18:02:44Z", "commit": {"oid": "07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4474, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}