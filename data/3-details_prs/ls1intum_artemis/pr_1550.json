{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NDUzOTA4", "number": 1550, "title": "Enhancements of artemis date pipe", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I added multiple integration tests (Jest) related to the features\n Client: I documented the TypeScript code using JSDoc style.\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nThe date formats introduced in this PR still not completely comply with date / time formats.\nDescription\n\n Hours, minutes and seconds will be displayed with a leading zero\n I've removed the long-time format. Time will always be displayed in the form of 09:05:02.\nJustification: the current format (3:45 PM) might be confusing to non-native english speakers (AM vs. PM) and it does not provide any advantage over the new format (15:45).\n I've tested that for an undefined / null date object always an empty string will be returned.\n I've adjusted the date format on the course overview page.\n I've changed the short date format to 2019-03-18 (en locale) and 18.03.2019 (de locale)\n\n\n\n\nformat\nde\nen\n\n\n\n\nshort\n17.12.2019 15:03\n2019-12-17 15:03\n\n\nlong\n17. Dez. 2019 15:03\nDec 17, 2019 15:03\n\n\nshort-date\n17.12.2019\n2019-12-17\n\n\nlong-date\n17. Dez. 2019\nDec 17, 2019\n\n\ntime\n15:03\n15:03\n\n\n\nSteps for Testing\nSimply log in and inspect places where dates are shown. Especially in the course overview (see Screenshot).\nScreenshot", "createdAt": "2020-06-02T09:10:21Z", "url": "https://github.com/ls1intum/Artemis/pull/1550", "merged": true, "mergeCommit": {"oid": "f185016f29e5048f07b2a5b4d38ce0d36765aa92"}, "closed": true, "closedAt": "2020-06-02T18:00:13Z", "author": {"login": "sascha11110"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnQor7gH2gAyNDI2NDUzOTA4OjJiYTY1YmU4ZmYwYmNjMjJmYzQxNmRkNTRkNzgxZDE0YjhhMmYyYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnYwlXgFqTQyMjkzMDEyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ba65be8ff0bcc22fc416dd54d781d14b8a2f2b8", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/2ba65be8ff0bcc22fc416dd54d781d14b8a2f2b8", "committedDate": "2020-06-02T08:32:03Z", "message": "Add leading zero to short time format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc7ba0b2629beb388be3eaae6d751318ef32930d", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/fc7ba0b2629beb388be3eaae6d751318ef32930d", "committedDate": "2020-06-02T10:02:01Z", "message": "Remove long-time format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abfe827f1556a03ec6908a336f2bbad0655daaf7", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/abfe827f1556a03ec6908a336f2bbad0655daaf7", "committedDate": "2020-06-02T10:27:40Z", "message": "Merge branch 'develop' into enhancement/date-time-formats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a1e004cd0137348b4566a2d46c873b6e44aa187", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/3a1e004cd0137348b4566a2d46c873b6e44aa187", "committedDate": "2020-06-02T12:47:46Z", "message": "Test for empty date time parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cba791443ae7ac7c72adf0dde1059017b655c1c", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/6cba791443ae7ac7c72adf0dde1059017b655c1c", "committedDate": "2020-06-02T13:30:04Z", "message": "Adjust dates in course overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03b418c205ef6abf0878f4a95db0542c9abfbac1", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/03b418c205ef6abf0878f4a95db0542c9abfbac1", "committedDate": "2020-06-02T13:49:40Z", "message": "Merge branch 'develop' into enhancement/date-time-formats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f099f84177aad36b71e1debdba46ac8b0d8b419a", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/f099f84177aad36b71e1debdba46ac8b0d8b419a", "committedDate": "2020-06-02T13:54:30Z", "message": "Remove short-time usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d666c6e2cd68f9c45ee8e863ed021586260a1f1", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/8d666c6e2cd68f9c45ee8e863ed021586260a1f1", "committedDate": "2020-06-02T15:09:08Z", "message": "Change short date format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88ee1b1e394c6ac7e18c0319a970ec68df0278b6", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/88ee1b1e394c6ac7e18c0319a970ec68df0278b6", "committedDate": "2020-06-02T15:20:38Z", "message": "Merge branch 'develop' into enhancement/date-time-formats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fee00b5130186e908edeb336843db38dd5fe017", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/2fee00b5130186e908edeb336843db38dd5fe017", "committedDate": "2020-06-02T15:37:23Z", "message": "Merge branch 'develop' into enhancement/date-time-formats"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODEzMzk0", "url": "https://github.com/ls1intum/Artemis/pull/1550#pullrequestreview-422813394", "createdAt": "2020-06-02T15:42:28Z", "commit": {"oid": "2fee00b5130186e908edeb336843db38dd5fe017"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNTo0MjoyOFrOGd3uqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNTo0MjoyOFrOGd3uqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzk3NDk1Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        it('Should return format equal to \"Apr 14, 2020 09:27 AM\" with format parameter set to \"long\"', () => {\n          \n          \n            \n                        it('Should return format equal to \"Apr 14, 2020 09:27\" with format parameter set to \"long\"', () => {\n          \n      \n    \n    \n  \n\nshould fit the actual value", "url": "https://github.com/ls1intum/Artemis/pull/1550#discussion_r433974952", "createdAt": "2020-06-02T15:42:28Z", "author": {"login": "filip-gregurevic"}, "path": "src/test/javascript/spec/pipe/artemis-date.pipe.spec.ts", "diffHunk": "@@ -30,35 +30,47 @@ describe('ArtemisDatePipe', () => {\n         pipe = new ArtemisDatePipe(translateService);\n     });\n \n+    it('Return empty string if given date time is null', () => {\n+        let localizedDateTime = pipe.transform(null);\n+        expect(localizedDateTime).to.be.equal('');\n+        localizedDateTime = pipe.transform(moment(null));\n+        expect(localizedDateTime).to.be.equal('');\n+    });\n+\n+    it('Return empty string if given date time is invalid moment object', () => {\n+        const localizedDateTime = pipe.transform(moment('2019-02-333'));\n+        expect(localizedDateTime).to.be.equal('');\n+    });\n+\n     describe('en locale', () => {\n         beforeEach(() => {\n             dateTime.locale('en');\n             translateService.currentLang = 'en';\n         });\n \n         describe('without seconds', () => {\n-            it('Should return format equal to \"14/4/20 9:27\" with format parameter set to \"short\"', () => {\n+            it('Should return format equal to \"2020-04-14 09:27\" with format parameter set to \"short\"', () => {\n                 const localizedDateTime = pipe.transform(dateTime, 'short');\n-                const format = 'D/M/YY H:m';\n+                const format = 'YYYY-MM-DD HH:mm';\n                 expect(ArtemisDatePipe.format('en', 'short')).to.be.equal(format);\n                 expect(localizedDateTime).to.be.equal(dateTime.format(format));\n-                expect(localizedDateTime).to.be.equal('14/4/20 9:27');\n+                expect(localizedDateTime).to.be.equal('2020-04-14 09:27');\n             });\n \n-            it('Should return format equal to \"Apr 14, 2020 9:27 AM\" with format parameter set to \"long\"', () => {\n+            it('Should return format equal to \"Apr 14, 2020 09:27 AM\" with format parameter set to \"long\"', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fee00b5130186e908edeb336843db38dd5fe017"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec23f07561c8eb213b02fa495143a3279682d65a", "author": {"user": {"login": "sascha11110", "name": "Sascha Beele"}}, "url": "https://github.com/ls1intum/Artemis/commit/ec23f07561c8eb213b02fa495143a3279682d65a", "committedDate": "2020-06-02T15:43:20Z", "message": "Remove `AM` from test case description\n\nCo-authored-by: Filip Gregurevic <51987021+filip-gregurevic@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODY5ODg0", "url": "https://github.com/ls1intum/Artemis/pull/1550#pullrequestreview-422869884", "createdAt": "2020-06-02T16:48:22Z", "commit": {"oid": "ec23f07561c8eb213b02fa495143a3279682d65a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODgwNTM5", "url": "https://github.com/ls1intum/Artemis/pull/1550#pullrequestreview-422880539", "createdAt": "2020-06-02T17:01:39Z", "commit": {"oid": "ec23f07561c8eb213b02fa495143a3279682d65a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODkwODg5", "url": "https://github.com/ls1intum/Artemis/pull/1550#pullrequestreview-422890889", "createdAt": "2020-06-02T17:15:35Z", "commit": {"oid": "ec23f07561c8eb213b02fa495143a3279682d65a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyOTMwMTIx", "url": "https://github.com/ls1intum/Artemis/pull/1550#pullrequestreview-422930121", "createdAt": "2020-06-02T17:59:55Z", "commit": {"oid": "ec23f07561c8eb213b02fa495143a3279682d65a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2725, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}