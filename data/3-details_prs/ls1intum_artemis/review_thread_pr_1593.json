{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMwMjkwMzU2", "number": 1593, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNTo1Njo0NFrOEE8NPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowMzoyMlrOEGEibw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjE2MTkwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/en/exercise-actions.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNTo1Njo0NFrOGi37_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNTo1Njo0NFrOGi37_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIyMTI0Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"sshKeyTip\": \"To use ssh, you need to add an ssh-key to you {server:bitbucket/gitlab} account {link:here}.\"\n          \n          \n            \n                        \"sshKeyTip\": \"To use ssh, you need to add an ssh-key to your {server:bitbucket/gitlab} account {link:here}.\"", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r439221246", "createdAt": "2020-06-12T05:56:44Z", "author": {"login": "krusche"}, "path": "src/main/webapp/i18n/en/exercise-actions.json", "diffHunk": "@@ -25,7 +25,8 @@\n             \"copyUrl\": \"Copy URL\",\n             \"copiedUrl\": \"Copied URL\",\n             \"uploadFile\": \"Upload a file\",\n-            \"viewTeam\": \"Team\"\n+            \"viewTeam\": \"Team\",\n+            \"sshKeyTip\": \"To use ssh, you need to add an ssh-key to you {server:bitbucket/gitlab} account {link:here}.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf5d8da37948789c459a1f19e05903e11d0156d3"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjU0Njk0OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzoxM1rOGkao0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzo0MlrOGkaqFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzODM1NA==", "bodyText": "default: null", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440838354", "createdAt": "2020-06-16T13:13:13Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package de.tum.in.www1.artemis.service.connectors.bitbucket;\n+\n+import java.net.URL;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.actuate.info.Info;\n+import org.springframework.boot.actuate.info.InfoContributor;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Component;\n+\n+import de.tum.in.www1.artemis.config.Constants;\n+\n+@Component\n+@Profile(\"bitbucket\")\n+public class BitbucketSshCloneLinkInfoContributor implements InfoContributor {\n+\n+    @Value(\"${artemis.version-control.url}\")\n+    private URL BITBUCKED_SERVER_URL;\n+\n+    @Value(\"${artemis.version-control.ssh-template-clone-url:}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzODY3Nw==", "bodyText": "see UserService.java:70", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440838677", "createdAt": "2020-06-16T13:13:42Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package de.tum.in.www1.artemis.service.connectors.bitbucket;\n+\n+import java.net.URL;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.actuate.info.Info;\n+import org.springframework.boot.actuate.info.InfoContributor;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Component;\n+\n+import de.tum.in.www1.artemis.config.Constants;\n+\n+@Component\n+@Profile(\"bitbucket\")\n+public class BitbucketSshCloneLinkInfoContributor implements InfoContributor {\n+\n+    @Value(\"${artemis.version-control.url}\")\n+    private URL BITBUCKED_SERVER_URL;\n+\n+    @Value(\"${artemis.version-control.ssh-template-clone-url:}\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzODM1NA=="}, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjU0NzQ1OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzoyMVrOGkapJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzoyMVrOGkapJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzODQzNw==", "bodyText": "Optional", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440838437", "createdAt": "2020-06-16T13:13:21Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package de.tum.in.www1.artemis.service.connectors.bitbucket;\n+\n+import java.net.URL;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.actuate.info.Info;\n+import org.springframework.boot.actuate.info.InfoContributor;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Component;\n+\n+import de.tum.in.www1.artemis.config.Constants;\n+\n+@Component\n+@Profile(\"bitbucket\")\n+public class BitbucketSshCloneLinkInfoContributor implements InfoContributor {\n+\n+    @Value(\"${artemis.version-control.url}\")\n+    private URL BITBUCKED_SERVER_URL;\n+\n+    @Value(\"${artemis.version-control.ssh-template-clone-url:}\")\n+    private String BITBUCKET_SSH_URL_TEMPLATE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjU0NzkxOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzoyOVrOGkapdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxMzoyOVrOGkapdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzODUxOQ==", "bodyText": "if present", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440838519", "createdAt": "2020-06-16T13:13:29Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bitbucket/BitbucketSshCloneLinkInfoContributor.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package de.tum.in.www1.artemis.service.connectors.bitbucket;\n+\n+import java.net.URL;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.actuate.info.Info;\n+import org.springframework.boot.actuate.info.InfoContributor;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Component;\n+\n+import de.tum.in.www1.artemis.config.Constants;\n+\n+@Component\n+@Profile(\"bitbucket\")\n+public class BitbucketSshCloneLinkInfoContributor implements InfoContributor {\n+\n+    @Value(\"${artemis.version-control.url}\")\n+    private URL BITBUCKED_SERVER_URL;\n+\n+    @Value(\"${artemis.version-control.ssh-template-clone-url:}\")\n+    private String BITBUCKET_SSH_URL_TEMPLATE;\n+\n+    @Value(\"${artemis.version-control.ssh-keys-path:}\")\n+    private String BITBUCKET_SSH_KEYS_PATH;\n+\n+    @Override\n+    public void contribute(Info.Builder builder) {\n+\n+        final var sshKeysUrl = BITBUCKED_SERVER_URL + BITBUCKET_SSH_KEYS_PATH;\n+\n+        builder.withDetail(Constants.INFO_SSH_CLONE_URL_DETAIL, BITBUCKET_SSH_URL_TEMPLATE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjU1ODUwOnYy", "diffSide": "RIGHT", "path": "src/main/resources/config/application-artemis.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxNTo1OVrOGkawEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoxNTo1OVrOGkawEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg0MDIwOQ==", "bodyText": "ssh-keys-url-path", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440840209", "createdAt": "2020-06-16T13:15:59Z", "author": {"login": "krusche"}, "path": "src/main/resources/config/application-artemis.yml", "diffHunk": "@@ -27,6 +27,8 @@ artemis:\n         password: <password>\n         secret: <token>                 # VCS API token giving Artemis full Admin access. Not needed for Bamboo+Bitbucket\n         ci-token: <token from the CI>   # Token generated by the CI (e.g. Jenkins) for webhooks from the VCS to the CI. Not needed for Bamboo+Bitbucket\n+        ssh-template-clone-url: ssh://git@bitbucket.ase.in.tum.de:7999/    # Url Stem for cloning via ssh, for gitlab use 'ssh://git@artemistest2gitlab.ase.in.tum.de:'\n+        ssh-keys-path: /plugins/servlet/ssh/account/keys  # Url Path to access a users ssh keys, for gitlab this is '/profile/keys'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjYwMTA4OnYy", "diffSide": "RIGHT", "path": "src/main/resources/config/application-artemis.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoyNTo0MlrOGkbKjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMzoyNTo0MlrOGkbKjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg0Njk4OQ==", "bodyText": "ssh://git@artemistest2gitlab.ase.in.tum.de:2222/", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r440846989", "createdAt": "2020-06-16T13:25:42Z", "author": {"login": "krusche"}, "path": "src/main/resources/config/application-artemis.yml", "diffHunk": "@@ -27,6 +27,8 @@ artemis:\n         password: <password>\n         secret: <token>                 # VCS API token giving Artemis full Admin access. Not needed for Bamboo+Bitbucket\n         ci-token: <token from the CI>   # Token generated by the CI (e.g. Jenkins) for webhooks from the VCS to the CI. Not needed for Bamboo+Bitbucket\n+        ssh-template-clone-url: ssh://git@bitbucket.ase.in.tum.de:7999/    # Url Stem for cloning via ssh, for gitlab use 'ssh://git@artemistest2gitlab.ase.in.tum.de:'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a48c66944b9176a1c23b3a0003844d19ae3e3a12"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODAwODY1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowMjoxMlrOGkpOGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMToxNTo0MVrOGktdHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3NzI3NQ==", "bodyText": "I think there is a small mistake here. Using ssh should be independent of the mode (individual vs. team).\nOtherwise a student might have a problem in a team programming exercise", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r441077275", "createdAt": "2020-06-16T19:02:12Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts", "diffHunk": "@@ -72,6 +87,9 @@ export class ExerciseDetailsStudentActionsComponent implements OnInit {\n      */\n     repositoryUrl(participation: Participation) {\n         const programmingParticipation = participation as ProgrammingExerciseStudentParticipation;\n+        if (this.useSsh) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b4cb206a3114259445c6f65c01cf9b75efc111c"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA4MTU3Nw==", "bodyText": "the ssh url is the same for individual and team exercises", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r441081577", "createdAt": "2020-06-16T19:10:07Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts", "diffHunk": "@@ -72,6 +87,9 @@ export class ExerciseDetailsStudentActionsComponent implements OnInit {\n      */\n     repositoryUrl(participation: Participation) {\n         const programmingParticipation = participation as ProgrammingExerciseStudentParticipation;\n+        if (this.useSsh) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3NzI3NQ=="}, "originalCommit": {"oid": "7b4cb206a3114259445c6f65c01cf9b75efc111c"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0MDIxOA==", "bodyText": "ok, then we should add this as a comment here, otherwise this might be confusing", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r441140218", "createdAt": "2020-06-16T21:02:49Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts", "diffHunk": "@@ -72,6 +87,9 @@ export class ExerciseDetailsStudentActionsComponent implements OnInit {\n      */\n     repositoryUrl(participation: Participation) {\n         const programmingParticipation = participation as ProgrammingExerciseStudentParticipation;\n+        if (this.useSsh) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3NzI3NQ=="}, "originalCommit": {"oid": "7b4cb206a3114259445c6f65c01cf9b75efc111c"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE0NjY1NA==", "bodyText": "ok", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r441146654", "createdAt": "2020-06-16T21:15:41Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/overview/exercise-details/exercise-details-student-actions.component.ts", "diffHunk": "@@ -72,6 +87,9 @@ export class ExerciseDetailsStudentActionsComponent implements OnInit {\n      */\n     repositoryUrl(participation: Participation) {\n         const programmingParticipation = participation as ProgrammingExerciseStudentParticipation;\n+        if (this.useSsh) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3NzI3NQ=="}, "originalCommit": {"oid": "7b4cb206a3114259445c6f65c01cf9b75efc111c"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODAxMjYzOnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/component/overview/exercise-details/exercise-details-student-actions.component.spec.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowMzoyMlrOGkpQlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTowMzoyMlrOGkpQlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA3NzkwOA==", "bodyText": "can you please fix the unnecessary import?\n'MockParticipationService' is defined but never used", "url": "https://github.com/ls1intum/Artemis/pull/1593#discussion_r441077908", "createdAt": "2020-06-16T19:03:22Z", "author": {"login": "krusche"}, "path": "src/test/javascript/spec/component/overview/exercise-details/exercise-details-student-actions.component.spec.ts", "diffHunk": "@@ -33,6 +33,8 @@ import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n import { ProfileService } from 'app/shared/layouts/profiles/profile.service';\n import { MockProfileService } from '../../../helpers/mocks/service/mock-profile.service';\n import { ProfileInfo } from 'app/shared/layouts/profiles/profile-info.model';\n+import { ProgrammingExerciseStudentParticipation } from 'app/entities/participation/programming-exercise-student-participation.model';\n+import { MockParticipationService } from '../../../helpers/mocks/service/mock-participation.service';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b4cb206a3114259445c6f65c01cf9b75efc111c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 32, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}