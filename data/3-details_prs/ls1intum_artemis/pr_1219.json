{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5OTM2NjE2", "number": 1219, "title": "Chore/test coverage/programming exercise resource", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features\n\nDescription\n\n\nIncrease the coverage for the ProgrammingExerciseResource.\nI also added more mocked requests to Bamboo and Bitbucket based on the new tests.\nSome of the Bamboo and Bitbucket code was refactored in order to use DTOs instead of froce casting maps. I tested these changes on the server and everything worked fine.", "createdAt": "2020-02-01T20:31:16Z", "url": "https://github.com/ls1intum/Artemis/pull/1219", "merged": true, "mergeCommit": {"oid": "755384db37d606eb6adf5bb0b7bf030fa1a9b2b3"}, "closed": true, "closedAt": "2020-02-02T21:55:41Z", "author": {"login": "ungaralex"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcAINFigH2gAyMzY5OTM2NjE2OmQ5MmMzOGU4NTc0ZTU5YzE5NmQ0MjNlZjc3ODU2MjNiMmVkMWM2OTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAdc9xAFqTM1MTk2MTYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d92c38e8574e59c196d423ef7785623b2ed1c693", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/d92c38e8574e59c196d423ef7785623b2ed1c693", "committedDate": "2020-02-01T18:39:37Z", "message": "Increase line coverage for checkProgrammingExerciseForError"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "132df4e2e1e0356b76708ec459e2f45985db53d8", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/132df4e2e1e0356b76708ec459e2f45985db53d8", "committedDate": "2020-02-01T19:18:26Z", "message": "Increase line coverage for programming exercise setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4355087cfb052e96a6f21585278805eb256f0fa9", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/4355087cfb052e96a6f21585278805eb256f0fa9", "committedDate": "2020-02-01T19:50:41Z", "message": "Mock programming exercise setup project already exists in Bitbucket"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08c024773971125396506545ef2a8fa8577aad40", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/08c024773971125396506545ef2a8fa8577aad40", "committedDate": "2020-02-01T20:11:55Z", "message": "Mock programming exercise setup project already exists in Bamboo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb85d6987831f070bffa9e4f2b4a1de8b2298c29", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/eb85d6987831f070bffa9e4f2b4a1de8b2298c29", "committedDate": "2020-02-01T20:15:26Z", "message": "Better exception handling in ProgrammingExerciseResource setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e0a06674d45e9b13646e160f3f86c23f2abeb25", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/7e0a06674d45e9b13646e160f3f86c23f2abeb25", "committedDate": "2020-02-01T20:27:55Z", "message": "Increase coverage for ProgrammingExerciseResource import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42db0ec825ee801d918f3da2a210b7d97acb0ea7", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/42db0ec825ee801d918f3da2a210b7d97acb0ea7", "committedDate": "2020-02-01T20:37:00Z", "message": "Add JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a0d381d9834f6a49a676c99a867dd56acce0c4c", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/0a0d381d9834f6a49a676c99a867dd56acce0c4c", "committedDate": "2020-02-01T20:57:19Z", "message": "Increase coverage for ProgrammingExerciseResource export submissions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/ea431edcd841172a52b99c59d0a727a5cd308a08", "committedDate": "2020-02-01T21:17:40Z", "message": "Increase coverage for ProgrammingExerciseResource oracle generation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTA1MjI2", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351905226", "createdAt": "2020-02-01T21:19:56Z", "commit": {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMToxOTo1NlrOFkfH8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMToyMjozM1rOFkfIaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMjk5NA==", "bodyText": "Not needed since the findByIdWIth.... method already throws an exception in this case", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373802994", "createdAt": "2020-02-01T21:19:56Z", "author": {"login": "ungaralex"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -529,11 +514,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         ProgrammingExercise programmingExercise = programmingExerciseService.findByIdWithEagerStudentParticipationsAndSubmissions(exerciseId);\n         User user = userService.getUserWithGroupsAndAuthorities();\n \n-        if (Optional.ofNullable(programmingExercise).isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzA3Mw==", "bodyText": "Not needed since we fetch the course from the database a couple of lines before this check", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373803073", "createdAt": "2020-02-01T21:21:43Z", "author": {"login": "ungaralex"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -188,12 +182,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n                     .body(null);\n         }\n \n-        // Check if course shortname is set\n-        if (course.getShortName() == null || course.getShortName().length() < 3) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzExMw==", "bodyText": "Can never be null, because Spring does not allow null values for @RequestBody (default behavior).", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373803113", "createdAt": "2020-02-01T21:22:33Z", "author": {"login": "ungaralex"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -148,10 +146,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n     @FeatureToggle(Feature.PROGRAMMING_EXERCISES)\n     public ResponseEntity<ProgrammingExercise> setupProgrammingExercise(@RequestBody ProgrammingExercise programmingExercise) {\n         log.debug(\"REST request to setup ProgrammingExercise : {}\", programmingExercise);\n-        if (programmingExercise == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5fd86b3b9b226e2f3d35cfde64f8f21ae789317", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/a5fd86b3b9b226e2f3d35cfde64f8f21ae789317", "committedDate": "2020-02-02T14:49:45Z", "message": "Revert course name check removal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/efd25766f3d7bf110c77d70a3d44a26f41625b74", "committedDate": "2020-02-02T14:55:20Z", "message": "Fix error message for existing VCS project on setup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTUxODI2", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351951826", "createdAt": "2020-02-02T16:20:26Z", "commit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjoyMDoyNlrOFkidbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjoyMDoyNlrOFkidbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ==", "bodyText": "Is this change really correct? I am not sure but I thought the previous version remove all whitespaces, right?", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373857645", "createdAt": "2020-02-02T16:20:26Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -552,7 +538,7 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n             studentIds = studentIds.replaceAll(\" \", \"\");\n-            studentList = Arrays.asList(studentIds.split(\"\\\\s*,\\\\s*\"));\n+            studentList = Arrays.asList(studentIds.split(\",\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74"}, "originalPosition": 119}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTUxOTA3", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351951907", "createdAt": "2020-02-02T16:21:55Z", "commit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjoyMTo1NVrOFkidyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjoyMTo1NVrOFkidyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzczNg==", "bodyText": "Is the todo really resolved? If yes, we can keep the comment as documentation, right?\nIf not, we should keep it.", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373857736", "createdAt": "2020-02-02T16:21:55Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -291,8 +284,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         HttpHeaders responseHeaders;\n         programmingExerciseImportService.importRepositories(originalProgrammingExercise, importedProgrammingExercise);\n         try {\n-            // TODO: We have removed the automatic build trigger from test to base for new programming exercises. We need to also remove this build trigger manually on the case of\n-            // an import as the source exercise might still have this trigger.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTUxOTM0", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351951934", "createdAt": "2020-02-02T16:22:29Z", "commit": {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2d871a5abb23fc980812f35c61f34b07df4368c", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/e2d871a5abb23fc980812f35c61f34b07df4368c", "committedDate": "2020-02-02T16:22:37Z", "message": "Merge branch 'develop' into chore/test-coverage/programming-exercise-resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5af20ac32a8f099885103c706ae2c5f3ca518c86", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/5af20ac32a8f099885103c706ae2c5f3ca518c86", "committedDate": "2020-02-02T18:39:10Z", "message": "Add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTU5OTI5", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351959929", "createdAt": "2020-02-02T18:53:58Z", "commit": {"oid": "5af20ac32a8f099885103c706ae2c5f3ca518c86"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxODo1Mzo1OVrOFkjBvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxODo1Mzo1OVrOFkjBvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2Njk0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        studentIds = studentIds.replaceAll(\" \", \"\");\n          \n          \n            \n                        studentIds = studentIds.replaceAll(\"\\\\s+\", \"\");", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373866941", "createdAt": "2020-02-02T18:53:59Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -552,7 +541,7 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n             studentIds = studentIds.replaceAll(\" \", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5af20ac32a8f099885103c706ae2c5f3ca518c86"}, "originalPosition": 120}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2", "author": {"user": {"login": "ungaralex", "name": "Alexander Ungar"}}, "url": "https://github.com/ls1intum/Artemis/commit/7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2", "committedDate": "2020-02-02T19:04:51Z", "message": "Use \\\\s for space regex"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTYxNTQ1", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351961545", "createdAt": "2020-02-02T19:23:58Z", "commit": {"oid": "7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxOToyMzo1OFrOFkjIXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxOToyMzo1OFrOFkjIXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2ODYzOQ==", "bodyText": "According to https://stackoverflow.com/questions/15633228/how-to-remove-all-white-spaces-in-java/36444332 the following version is better", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373868639", "createdAt": "2020-02-02T19:23:58Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -551,8 +540,8 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n \n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n-            studentIds = studentIds.replaceAll(\" \", \"\");\n-            studentList = Arrays.asList(studentIds.split(\"\\\\s*,\\\\s*\"));\n+            studentIds = studentIds.replaceAll(\"\\\\s\", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2"}, "originalPosition": 123}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d6ccf2d1e1f081fbc9f54ea4c2b487d9202f97e", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/7d6ccf2d1e1f081fbc9f54ea4c2b487d9202f97e", "committedDate": "2020-02-02T19:24:21Z", "message": "Update src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTYxNjA3", "url": "https://github.com/ls1intum/Artemis/pull/1219#pullrequestreview-351961607", "createdAt": "2020-02-02T19:24:58Z", "commit": {"oid": "7d6ccf2d1e1f081fbc9f54ea4c2b487d9202f97e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3143, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}