{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MDQ1NTY1", "number": 2454, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOE8bwlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMzozMlrOE8byUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODA0ODIxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/home/home.component.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOH4jBsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoyMzowM1rOH4jTow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE3Nw==", "bodyText": "I assume this.router.url is either #/courses (old) or just courses (new). substr would trim #/courses down to just courses, which means url will always be 'courses', so I'm not sure why this is needed. (In fact this looks like it should be #/ instead of /# meaning this already always takes the else branch with just 'courses'? Except if the input is something like /#/courses in which case the order doesn't matter.)", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056177", "createdAt": "2020-11-23T23:11:49Z", "author": {"login": "FrankeLukas"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.\n+            const url = this.router.url.startsWith('/#') ? this.router.url.substr(2) : 'courses';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1Nzg1Nw==", "bodyText": "this.router.url would be /#/course-management etc. This is the case because the Fragment is now ignored in that senses and the empty route is routed to the HomeComponent.", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529057857", "createdAt": "2020-11-23T23:15:54Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.\n+            const url = this.router.url.startsWith('/#') ? this.router.url.substr(2) : 'courses';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE3Nw=="}, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA2MDc3MQ==", "bodyText": "Ah, thanks for the clarification.", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529060771", "createdAt": "2020-11-23T23:23:03Z", "author": {"login": "FrankeLukas"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.\n+            const url = this.router.url.startsWith('/#') ? this.router.url.substr(2) : 'courses';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE3Nw=="}, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODA0ODI1OnYy", "diffSide": "LEFT", "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingSubmissionIntegrationTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMTo0OVrOH4jBtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzo0NTozMlrOH4j0hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE4MQ==", "bodyText": "This did only return 404 before, because /api/exercises1234/.. is not valid", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056181", "createdAt": "2020-11-23T23:11:49Z", "author": {"login": "jpbernius"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingSubmissionIntegrationTest.java", "diffHunk": "@@ -386,7 +386,7 @@ public void getProgrammingSubmissionWithoutAssessment_alreadyAssessed_noFound()\n         final var tutor = database.getUserByLogin(\"tutor1\");\n         database.addResultToSubmission(submission, AssessmentType.SEMI_AUTOMATIC, tutor);\n \n-        request.get(\"/api/exercises\" + exercise.getId() + \"/programming-submission-without-assessment\", HttpStatus.NOT_FOUND, String.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec6f2c9c8fe267743cd05ef2358db6768970e119"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA2OTE5MQ==", "bodyText": "This is heavily broken. 985e31f updated the test case to incorporate the due date check implemented by @krusche in July.", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529069191", "createdAt": "2020-11-23T23:45:32Z", "author": {"login": "jpbernius"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingSubmissionIntegrationTest.java", "diffHunk": "@@ -386,7 +386,7 @@ public void getProgrammingSubmissionWithoutAssessment_alreadyAssessed_noFound()\n         final var tutor = database.getUserByLogin(\"tutor1\");\n         database.addResultToSubmission(submission, AssessmentType.SEMI_AUTOMATIC, tutor);\n \n-        request.get(\"/api/exercises\" + exercise.getId() + \"/programming-submission-without-assessment\", HttpStatus.NOT_FOUND, String.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1NjE4MQ=="}, "originalCommit": {"oid": "ec6f2c9c8fe267743cd05ef2358db6768970e119"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODA1MjY1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/home/home.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxMzozMlrOH4jEYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzoxNjoxNlrOH4jIyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1Njg2NA==", "bodyText": "Typo: ues -> use", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529056864", "createdAt": "2020-11-23T23:13:32Z", "author": {"login": "FrankeLukas"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1Nzk5NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.\n          \n          \n            \n                        // TODO: Remove redirect after summer 2021 term. New deep links should no longer use /#.", "url": "https://github.com/ls1intum/Artemis/pull/2454#discussion_r529057995", "createdAt": "2020-11-23T23:16:16Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -150,7 +150,9 @@ export class HomeComponent implements OnInit, AfterViewInit {\n     currentUserCallback(account: User) {\n         this.account = account;\n         if (account) {\n-            this.router.navigate(['courses']);\n+            // TODO: Remove redirect after summer 2021 term. New deep links should no longer ues /#.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA1Njg2NA=="}, "originalCommit": {"oid": "b793a2bf6913f541c78d951258080dd57fdd7523"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4265, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}