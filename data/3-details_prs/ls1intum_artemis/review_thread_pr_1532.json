{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MTI1MjAw", "number": 1532, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoxNjoxMFrOEBITZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODo1NDowMFrOEBIb0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwMDcwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoxNjoxMFrOGc0oeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo0Nzo0NVrOGc4yLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTY0MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n          \n          \n            \n                ngOnChanges(changes: SimpleChanges): void {", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432875641", "createdAt": "2020-05-30T18:16:10Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODgxNQ==", "bodyText": "SimpleChanges can also be imported from @angular/core.", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432878815", "createdAt": "2020-05-30T18:58:52Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTY0MQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MzY2MA==", "bodyText": "Thank you for the proposed changed! Looks much cleaner. I changed it in a337fc4", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432943660", "createdAt": "2020-05-31T12:47:45Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTY0MQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwMTY2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoxODowMlrOGc0o_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo0ODoxOFrOGc4yWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTc3NQ==", "bodyText": "Instead of looping over the changes, you can do if (changes.submission) and then access the current value via changes.submission.currentValue.", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432875775", "createdAt": "2020-05-30T18:18:02Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n+        for (const propName in changes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODU4NQ==", "bodyText": "It could look like this:\nif (changes.submission) {\n    const { text } = changes.submission.currentValue as TextSubmission;\n    this.wordCount = this.stringCountService.countWords(text);\n    this.characterCount = this.stringCountService.countCharacters(text);\n}", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432878585", "createdAt": "2020-05-30T18:55:24Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n+        for (const propName in changes) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTc3NQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MzcwNA==", "bodyText": "Looks much better. I also always forget about this nice destructuring :) Changed it in a337fc4", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432943704", "createdAt": "2020-05-31T12:48:18Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n+        for (const propName in changes) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NTc3NQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNDU2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/participate/string-count.service.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyMzoyMFrOGc0qeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo0OTo0NlrOGc4ywA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjE1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private wordMatchRegex = /[\\w\\u00C0-\\u00ff]+/g;\n          \n          \n            \n                private readonly wordMatchRegex = /[\\w\\u00C0-\\u00ff]+/g;", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876154", "createdAt": "2020-05-30T18:23:20Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/participate/string-count.service.ts", "diffHunk": "@@ -0,0 +1,40 @@\n+import { Injectable } from '@angular/core';\n+\n+@Injectable({\n+    providedIn: 'root',\n+})\n+export class StringCountService {\n+    /**\n+     * includes Latin-1 Supplement 00C0 to 00FF to support german \"umlaute\"\n+     */\n+    private wordMatchRegex = /[\\w\\u00C0-\\u00ff]+/g;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MzgwOA==", "bodyText": "Thank you! Did not know about readonly. Changed it in 5dfe0dd", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432943808", "createdAt": "2020-05-31T12:49:46Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/participate/string-count.service.ts", "diffHunk": "@@ -0,0 +1,40 @@\n+import { Injectable } from '@angular/core';\n+\n+@Injectable({\n+    providedIn: 'root',\n+})\n+export class StringCountService {\n+    /**\n+     * includes Latin-1 Supplement 00C0 to 00FF to support german \"umlaute\"\n+     */\n+    private wordMatchRegex = /[\\w\\u00C0-\\u00ff]+/g;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjE1NA=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNTgxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNTo0N1rOGc0rHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1MToyN1rOGc4zVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjMxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                get wordCount() {\n          \n          \n            \n                get wordCount(): number {", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876318", "createdAt": "2020-05-30T18:25:47Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "diffHunk": "@@ -173,6 +175,14 @@ export class TextEditorComponent implements OnInit, OnDestroy, ComponentCanDeact\n         return null;\n     }\n \n+    get wordCount() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0Mzk1OA==", "bodyText": "Made it explicit as suggested in 47d1847", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432943958", "createdAt": "2020-05-31T12:51:27Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "diffHunk": "@@ -173,6 +175,14 @@ export class TextEditorComponent implements OnInit, OnDestroy, ComponentCanDeact\n         return null;\n     }\n \n+    get wordCount() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjMxOA=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNTk2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNTo1OVrOGc0rNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1MTozNlrOGc4zZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                get characterCount() {\n          \n          \n            \n                get characterCount(): number {", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876340", "createdAt": "2020-05-30T18:25:59Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "diffHunk": "@@ -173,6 +175,14 @@ export class TextEditorComponent implements OnInit, OnDestroy, ComponentCanDeact\n         return null;\n     }\n \n+    get wordCount() {\n+        return this.stringCountService.countWords(this.answer);\n+    }\n+\n+    get characterCount() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0Mzk3Mw==", "bodyText": "Made it explicit as suggested in 47d1847", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432943973", "createdAt": "2020-05-31T12:51:36Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/participate/text-editor.component.ts", "diffHunk": "@@ -173,6 +175,14 @@ export class TextEditorComponent implements OnInit, OnDestroy, ComponentCanDeact\n         return null;\n     }\n \n+    get wordCount() {\n+        return this.stringCountService.countWords(this.answer);\n+    }\n+\n+    get characterCount() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM0MA=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNjIzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/de/textExercise.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNjozM1rOGc0rVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNjozM1rOGc0rVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM3NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"wordCount\": \"Anzahl der W\u00f6rter: {{count}}\",\n          \n          \n            \n                        \"wordCount\": \"Anzahl der W\u00f6rter: {{ count }}\",", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876375", "createdAt": "2020-05-30T18:26:33Z", "author": {"login": "madwau"}, "path": "src/main/webapp/i18n/de/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Neue Textaufgabe erstellen\",\n                 \"editLabel\": \"Textaufgabe bearbeiten\"\n             },\n+            \"wordCount\": \"Anzahl der W\u00f6rter: {{count}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNjI5OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/de/textExercise.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNjo0M1rOGc0rYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1MzowMVrOGc4zzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"characterCount\": \"Anzahl der Zeichen: {{count}}\",\n          \n          \n            \n                        \"characterCount\": \"Anzahl der Zeichen: {{ count }}\",", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876385", "createdAt": "2020-05-30T18:26:43Z", "author": {"login": "madwau"}, "path": "src/main/webapp/i18n/de/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Neue Textaufgabe erstellen\",\n                 \"editLabel\": \"Textaufgabe bearbeiten\"\n             },\n+            \"wordCount\": \"Anzahl der W\u00f6rter: {{count}}\",\n+            \"characterCount\": \"Anzahl der Zeichen: {{count}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0NDA3OQ==", "bodyText": "Done in 1f009e2", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432944079", "createdAt": "2020-05-31T12:53:01Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/i18n/de/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Neue Textaufgabe erstellen\",\n                 \"editLabel\": \"Textaufgabe bearbeiten\"\n             },\n+            \"wordCount\": \"Anzahl der W\u00f6rter: {{count}}\",\n+            \"characterCount\": \"Anzahl der Zeichen: {{count}}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM4NQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNjMyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/en/textExercise.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNjo1NVrOGc0rZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1MzoxNlrOGc4z5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"wordCount\": \"Number of words: {{count}}\",\n          \n          \n            \n                        \"wordCount\": \"Number of words: {{ count }}\",", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876391", "createdAt": "2020-05-30T18:26:55Z", "author": {"login": "madwau"}, "path": "src/main/webapp/i18n/en/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Create new Text Exercise\",\n                 \"editLabel\": \"Edit Text Exercise\"\n             },\n+            \"wordCount\": \"Number of words: {{count}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0NDEwMQ==", "bodyText": "Done in 1f009e2", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432944101", "createdAt": "2020-05-31T12:53:16Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/i18n/en/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Create new Text Exercise\",\n                 \"editLabel\": \"Edit Text Exercise\"\n             },\n+            \"wordCount\": \"Number of words: {{count}}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjM5MQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNjM4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/i18n/en/textExercise.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyNzowNFrOGc0rcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1MzoyNVrOGc4z7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjQwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"characterCount\": \"Number of characters: {{count}}\",\n          \n          \n            \n                        \"characterCount\": \"Number of characters: {{ count }}\",", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876400", "createdAt": "2020-05-30T18:27:04Z", "author": {"login": "madwau"}, "path": "src/main/webapp/i18n/en/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Create new Text Exercise\",\n                 \"editLabel\": \"Edit Text Exercise\"\n             },\n+            \"wordCount\": \"Number of words: {{count}}\",\n+            \"characterCount\": \"Number of characters: {{count}}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0NDExMQ==", "bodyText": "Done in 1f009e2", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432944111", "createdAt": "2020-05-31T12:53:25Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/i18n/en/textExercise.json", "diffHunk": "@@ -6,6 +6,8 @@\n                 \"createLabel\": \"Create new Text Exercise\",\n                 \"editLabel\": \"Edit Text Exercise\"\n             },\n+            \"wordCount\": \"Number of words: {{count}}\",\n+            \"characterCount\": \"Number of characters: {{count}}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjQwMA=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIwNzQ2OnYy", "diffSide": "RIGHT", "path": "src/test/javascript/spec/service/string-count.service.spec.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODoyOTowNFrOGc0sAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1NDozOVrOGc40Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjU0Ng==", "bodyText": "\"German\" text \ud83d\ude04", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432876546", "createdAt": "2020-05-30T18:29:04Z", "author": {"login": "madwau"}, "path": "src/test/javascript/spec/service/string-count.service.spec.ts", "diffHunk": "@@ -0,0 +1,49 @@\n+import { StringCountService } from 'app/exercises/text/participate/string-count.service';\n+\n+describe('WordCountService', () => {\n+    let service: StringCountService;\n+\n+    const TEXT_WITH_63_WORDS =\n+        'Deutsches Ipsum Dolor quo Grimms M\u00e4rchen posidonium Kaftfahrzeug-Haftpflichtversicherung adhuc Schnaps sadipscing Krankenschwester at, ' +\n+        'Sprechen Sie deutsch mei Handschuh gloriatur. Freude sch\u00f6ner G\u00f6tterfunken inermis Apfelstrudel accommodare Berlin Id Angela Merkel assum Fernweh te ' +\n+        'Fernweh erroribus bitte Nec Bildung amet Guten Tag iriure, Joachim L\u00f6w gloriatur Aperol Spritz ut. Brezel virtute Goethe per Schweinsteiger ' +\n+        'At 99 Luftballons s\u00dfaevola Weltanschauung An Hochzeit malorum Prost ius';\n+\n+    const EMPTY_TEXT = '';\n+\n+    beforeEach(() => {\n+        service = new StringCountService();\n+    });\n+\n+    it('should be created', () => {\n+        expect(service).toBeTruthy();\n+    });\n+\n+    it('German text should contain 63 words', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0NDE5OA==", "bodyText": ":D Changed it in c33ca84", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432944198", "createdAt": "2020-05-31T12:54:39Z", "author": {"login": "stefanwaldhauser"}, "path": "src/test/javascript/spec/service/string-count.service.spec.ts", "diffHunk": "@@ -0,0 +1,49 @@\n+import { StringCountService } from 'app/exercises/text/participate/string-count.service';\n+\n+describe('WordCountService', () => {\n+    let service: StringCountService;\n+\n+    const TEXT_WITH_63_WORDS =\n+        'Deutsches Ipsum Dolor quo Grimms M\u00e4rchen posidonium Kaftfahrzeug-Haftpflichtversicherung adhuc Schnaps sadipscing Krankenschwester at, ' +\n+        'Sprechen Sie deutsch mei Handschuh gloriatur. Freude sch\u00f6ner G\u00f6tterfunken inermis Apfelstrudel accommodare Berlin Id Angela Merkel assum Fernweh te ' +\n+        'Fernweh erroribus bitte Nec Bildung amet Guten Tag iriure, Joachim L\u00f6w gloriatur Aperol Spritz ut. Brezel virtute Goethe per Schweinsteiger ' +\n+        'At 99 Luftballons s\u00dfaevola Weltanschauung An Hochzeit malorum Prost ius';\n+\n+    const EMPTY_TEXT = '';\n+\n+    beforeEach(() => {\n+        service = new StringCountService();\n+    });\n+\n+    it('should be created', () => {\n+        expect(service).toBeTruthy();\n+    });\n+\n+    it('German text should contain 63 words', () => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3NjU0Ng=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjIyMjI0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODo1NDowMFrOGc0zpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMjo1NTowNVrOGc40eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODUwMQ==", "bodyText": "The lodash get utility shouldn't be needed here.", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432878501", "createdAt": "2020-05-30T18:54:00Z", "author": {"login": "madwau"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n+        for (const propName in changes) {\n+            if (propName === 'submission') {\n+                const changedSubmission = changes[propName].currentValue;\n+                this.wordCount = this.stringCountService.countWords(get(changedSubmission, 'text'));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0NDI0OQ==", "bodyText": "Removed  it in a337fc4", "url": "https://github.com/ls1intum/Artemis/pull/1532#discussion_r432944249", "createdAt": "2020-05-31T12:55:05Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/exercises/text/assess-new/text-assessment-area/text-assessment-area.component.ts", "diffHunk": "@@ -27,11 +37,23 @@ export class TextAssessmentAreaComponent implements OnChanges {\n     @Input() textBlockRefs: TextBlockRef[];\n     @Output() textBlockRefsChange = new EventEmitter<TextBlockRef[]>();\n     selectedRef: TextBlockRef | null = null;\n+    wordCount = 0;\n+    characterCount = 0;\n+\n+    constructor(private stringCountService: StringCountService) {}\n \n     /**\n      * Life cycle hook to indicate component change\n      */\n-    ngOnChanges(): void {\n+    ngOnChanges(changes: { [propKey: string]: SimpleChange }): void {\n+        for (const propName in changes) {\n+            if (propName === 'submission') {\n+                const changedSubmission = changes[propName].currentValue;\n+                this.wordCount = this.stringCountService.countWords(get(changedSubmission, 'text'));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODUwMQ=="}, "originalCommit": {"oid": "797c73f919912ee0e24dce53253f58f311fac364"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 7, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}