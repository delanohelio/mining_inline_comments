{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjYzMTg2", "number": 2527, "title": "[Feature] [Exam-Mode] Automatically assess text and modeling exercises for unsubmitted student exams", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I followed the coding and design guidelines.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I followed the coding and design guidelines.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I added authorities to all new routes and check the course groups for displaying navigation elements (links, buttons)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\nStudents are required to submit their student exam in the student exam end page. Exercise participation of unsubmitted student exams should not be eligible for assessment. This PR adds a button to the Student Exams page which automatically assessed modeling and text exercises of unsubmitted exams with 0 points.\nAdditionally, in this PR we also want to assess empty submissions for modeling and text exercises.\nDescription\nClient: Add a button to the student exams view.\nServer:\n\nAdd a result to all text and modeling submissions which are part participations of unsubmitted student exams with 0 points. The result is of type SEMI_AUTOMATIC to make sure that these submissions are not eligible for manual assessment in the assessment dashboard. The assessor is the instructor which performs the call.\nAdd a result to all empty latest text and modeling submissions which are part participations of student exams with 0 points. The result is of type SEMI_AUTOMATIC to make sure that these submissions are not eligible for manual assessment in the assessment dashboard. The assessor is the instructor which performs the call.\n\nSteps for Testing\n\nLog in to Artemis\nCreate an exam with all exercise types\nRegister 4 users, start the exam\nTwo users should submit, the other two should not.\n\nLeave the submissions empty for one user who submits and one who does not the exam.\n\n\nGo to the Student Exams page and click \"Assess unsubmitted student exams\"\nThe student exams should be assessed.\nGo to the assessment dashboard and assess the exercises. Only the submissions of the user who submitted the exam and did not leave them empty should be eligible for assessment. The others should NOT appear.\nSet the release date of the results to now.\nReview the results as a student and check the feedback. It should say either \"Empty Submission\" or \"You did not submit your exam\" for the corresponding submissions\n\nTest Coverage\nWith @stefanwaldhauser help we set up a test suite according to the best practices for this component. Currently it only includes tests for the feature implemented in this PR. In a follow-up PR I will improve the test suite to cover the components other functionality.\nScreenshots", "createdAt": "2020-12-09T15:31:01Z", "url": "https://github.com/ls1intum/Artemis/pull/2527", "merged": true, "mergeCommit": {"oid": "b494b956f51c02a033fa03c6c6b9c235b5727926"}, "closed": true, "closedAt": "2020-12-17T15:12:05Z", "author": {"login": "anditurdiu"}, "timelineItems": {"totalCount": 70, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfXtc8gH2gAyNTM1MjYzMTg2OjgzZjM0ZDBhYjRlMjNkNjg0MDdkZDUxZDllYTVmNDUwYzIyOWU1YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnFBlKAFqTU1NDY5NzAzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "83f34d0ab4e23d68407dd51d9ea5f450c229e5b2", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/83f34d0ab4e23d68407dd51d9ea5f450c229e5b2", "committedDate": "2020-11-23T16:26:21Z", "message": "add rest call to automatically grade submissions with 0 points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a04c03c6d9d378b3240121cd62ab23537fb22f3f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a04c03c6d9d378b3240121cd62ab23537fb22f3f", "committedDate": "2020-12-08T10:57:19Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81edad565b5fb20d8cb570a2e5418047e631cdde", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/81edad565b5fb20d8cb570a2e5418047e631cdde", "committedDate": "2020-12-08T15:35:12Z", "message": "refactor setNewResult and saveOrderedResultForSubmission to be more closely related and descriptive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f439bc2c7070b1064ddd188d6fcb3c50cc0ee10", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6f439bc2c7070b1064ddd188d6fcb3c50cc0ee10", "committedDate": "2020-12-08T15:42:56Z", "message": "add API endpoint to automatically grade unsubmitted student exam modeling and text exercises"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "947fa3f6cffba1c16c062a76f4d6665f26eb0964", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/947fa3f6cffba1c16c062a76f4d6665f26eb0964", "committedDate": "2020-12-09T14:18:03Z", "message": "complete the implementation on the server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "500e632e1374a51e7fb4f07b2e5ea538c073ab79", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/500e632e1374a51e7fb4f07b2e5ea538c073ab79", "committedDate": "2020-12-09T14:19:28Z", "message": "add integration tests for unsubmitted exams grading"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52a1f5ff341a32ab8b7b32a5285accaba5add47d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/52a1f5ff341a32ab8b7b32a5285accaba5add47d", "committedDate": "2020-12-09T15:27:42Z", "message": "add button in studentExam page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56088208c17d3a16e3917891ac8bc2f4ec876f0b", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/56088208c17d3a16e3917891ac8bc2f4ec876f0b", "committedDate": "2020-12-09T15:32:45Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c39ca05ea00c107bd5aeeed33dd5c0515ff439fc", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/c39ca05ea00c107bd5aeeed33dd5c0515ff439fc", "committedDate": "2020-12-09T15:56:40Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8cfe2beb5dbe79123ef23145b01c828dec42610", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/d8cfe2beb5dbe79123ef23145b01c828dec42610", "committedDate": "2020-12-10T15:44:00Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dde4da477320ce5b35b9f858552ce43d579565a", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/1dde4da477320ce5b35b9f858552ce43d579565a", "committedDate": "2020-12-10T20:55:36Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d3bcb5ae8c55133f471bb99621bcd65b16a94af", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3d3bcb5ae8c55133f471bb99621bcd65b16a94af", "committedDate": "2020-12-14T10:42:43Z", "message": "merge branch develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7c58d1dbe97f70a45fa3aab3a0e63413278c2fe", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/b7c58d1dbe97f70a45fa3aab3a0e63413278c2fe", "committedDate": "2020-12-14T10:50:25Z", "message": "change getResult() to getLatestResult()\n- method name refactored after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "991309f58c9ed0fda3d2f8752af128987ba4c092", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/991309f58c9ed0fda3d2f8752af128987ba4c092", "committedDate": "2020-12-14T11:01:29Z", "message": "improve test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cae45e8b0df7c98fd199c17b3cc60d55f243470b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/cae45e8b0df7c98fd199c17b3cc60d55f243470b", "committedDate": "2020-12-14T12:25:18Z", "message": "fix documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "858459f1956bbcc2e40deebf4baadd6c5b36d6aa", "author": {"user": {"login": "stefanwaldhauser", "name": "Stefan Waldhauser"}}, "url": "https://github.com/ls1intum/Artemis/commit/858459f1956bbcc2e40deebf4baadd6c5b36d6aa", "committedDate": "2020-12-14T14:32:27Z", "message": "Basic Test Setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fd8472e218e8bcc9ff5f6ce264bbc04efea5a8c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8fd8472e218e8bcc9ff5f6ce264bbc04efea5a8c", "committedDate": "2020-12-14T14:34:19Z", "message": "Merge branch 'feature/automatically-assess-unsubmitted-student-exams' of github.com:ls1intum/Artemis into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b3cf117c5e84988f97eb0dd5dcb5f936972c57", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c0b3cf117c5e84988f97eb0dd5dcb5f936972c57", "committedDate": "2020-12-14T14:56:31Z", "message": "update structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8dc19d6cb928c7bb46aaa485ef74a3bb0f562cb", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a8dc19d6cb928c7bb46aaa485ef74a3bb0f562cb", "committedDate": "2020-12-14T15:20:16Z", "message": "add more asserts to test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cefd0006b7a330bdf071b5c9a2cfa36eac31bcc5", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/cefd0006b7a330bdf071b5c9a2cfa36eac31bcc5", "committedDate": "2020-12-14T20:32:49Z", "message": "add client tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0bd79c0ad987cb6ff4867035a17f09946f051c2", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/f0bd79c0ad987cb6ff4867035a17f09946f051c2", "committedDate": "2020-12-14T20:37:05Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTI3NzE3", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551927717", "createdAt": "2020-12-14T21:58:30Z", "commit": {"oid": "f0bd79c0ad987cb6ff4867035a17f09946f051c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTI5MTIx", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551929121", "createdAt": "2020-12-14T22:00:37Z", "commit": {"oid": "f0bd79c0ad987cb6ff4867035a17f09946f051c2"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTMxMTYz", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551931163", "createdAt": "2020-12-14T22:03:29Z", "commit": {"oid": "f0bd79c0ad987cb6ff4867035a17f09946f051c2"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTMxNzA0", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551931704", "createdAt": "2020-12-14T22:04:18Z", "commit": {"oid": "f0bd79c0ad987cb6ff4867035a17f09946f051c2"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af22e1e712fd2582c74e9675c74ab4f86b4fd2f4", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/af22e1e712fd2582c74e9675c74ab4f86b4fd2f4", "committedDate": "2020-12-14T22:44:06Z", "message": "set rated flag to true so that it appears correctly in the dashboard progress status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/959f9d3e3d73157876efa15d2751b87aa8546c02", "committedDate": "2020-12-14T22:46:34Z", "message": "fix error message display and count grace period to exam end"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTgzNDMz", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551983433", "createdAt": "2020-12-14T23:38:32Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTgzNDk1", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551983495", "createdAt": "2020-12-14T23:38:39Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTg4MzU2", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-551988356", "createdAt": "2020-12-14T23:49:56Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjA2NDcx", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552206471", "createdAt": "2020-12-15T08:26:51Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwODoyNjo1MVrOIF-ocA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwODoyODo0MVrOIF-tOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEzOTk1Mg==", "bodyText": "Should we rather add an abstract method to Exercise or something that returns whether an exercise needs manual assessment? I think we keep adding these is Modeling/Text(/File) checks all over the place and we are actually interested in the assessment type.", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r543139952", "createdAt": "2020-12-15T08:26:51Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamService.java", "diffHunk": "@@ -248,6 +252,43 @@ else if (exercise instanceof ModelingExercise) {\n         }\n     }\n \n+    /**\n+     * Automatically assess the modeling- and programming exercises of student exams of an exam which are not submitted with 0 points.\n+     * The assessment is counted as {@link AssessmentType#SEMI_AUTOMATIC} to make sure it is not considered for manual assessment,\n+     * see {@link StudentParticipationRepository#findByExerciseIdWithLatestSubmissionWithoutManualResultsAndNoTestRunParticipation}.\n+     * The assessor is current instructor who made the request.\n+     *\n+     * @param examId the exam id\n+     * @return returns the number of assessedSubmissions\n+     */\n+    public int automaticallyAssessUnsubmittedExams(final Long examId) {\n+        int numberOfAssessedSubmissions = 0;\n+        User instructor = userService.getUser();\n+        Set<StudentExam> unsubmittedStudentExams = findAllUnsubmittedStudentExams(examId);\n+        Map<User, List<Exercise>> exercisesOfUser = unsubmittedStudentExams.stream().collect(Collectors.toMap(StudentExam::getUser, studentExam -> studentExam.getExercises()\n+                .stream().filter(exercise -> exercise instanceof ModelingExercise || exercise instanceof TextExercise).collect(Collectors.toList())));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0MDQ1Mg==", "bodyText": "Anything going against\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                result.setAssessmentType(AssessmentType.SEMI_AUTOMATIC);\n          \n          \n            \n                                result.setAssessmentType(AssessmentType.AUTOMATIC);\n          \n      \n    \n    \n  \n\n?", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r543140452", "createdAt": "2020-12-15T08:27:31Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamService.java", "diffHunk": "@@ -248,6 +252,43 @@ else if (exercise instanceof ModelingExercise) {\n         }\n     }\n \n+    /**\n+     * Automatically assess the modeling- and programming exercises of student exams of an exam which are not submitted with 0 points.\n+     * The assessment is counted as {@link AssessmentType#SEMI_AUTOMATIC} to make sure it is not considered for manual assessment,\n+     * see {@link StudentParticipationRepository#findByExerciseIdWithLatestSubmissionWithoutManualResultsAndNoTestRunParticipation}.\n+     * The assessor is current instructor who made the request.\n+     *\n+     * @param examId the exam id\n+     * @return returns the number of assessedSubmissions\n+     */\n+    public int automaticallyAssessUnsubmittedExams(final Long examId) {\n+        int numberOfAssessedSubmissions = 0;\n+        User instructor = userService.getUser();\n+        Set<StudentExam> unsubmittedStudentExams = findAllUnsubmittedStudentExams(examId);\n+        Map<User, List<Exercise>> exercisesOfUser = unsubmittedStudentExams.stream().collect(Collectors.toMap(StudentExam::getUser, studentExam -> studentExam.getExercises()\n+                .stream().filter(exercise -> exercise instanceof ModelingExercise || exercise instanceof TextExercise).collect(Collectors.toList())));\n+        for (final var user : exercisesOfUser.keySet()) {\n+            final var studentParticipations = participationService.findByStudentIdAndIndividualExercisesWithEagerSubmissionsResult(user.getId(), exercisesOfUser.get(user));\n+            for (final var studentParticipation : studentParticipations) {\n+                if (studentParticipation.findLatestSubmission().isPresent() && studentParticipation.findLatestSubmission().get().getLatestResult() == null) {\n+                    // get last submission\n+                    final var latestSubmission = studentParticipation.findLatestSubmission().get();\n+                    // create result with 0 points\n+                    Result result = new Result();\n+                    result.setParticipation(studentParticipation);\n+                    result.setAssessor(instructor);\n+                    result.setCompletionDate(ZonedDateTime.now());\n+                    result.setScore(0L);\n+                    result.rated(true);\n+                    result.setAssessmentType(AssessmentType.SEMI_AUTOMATIC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0MTE3OA==", "bodyText": "Looks like we fetch the exam twice here?", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r543141178", "createdAt": "2020-12-15T08:28:41Z", "author": {"login": "jpbernius"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -367,6 +372,37 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n         return ResponseEntity.ok(testRun);\n     }\n \n+    /**\n+     * POST /courses/{courseId}/exams/{examId}/student-exams/automatically-assess-unsubmitted-student-exams : Automatically assess unsubmitted student exams.\n+     *\n+     * Finds student exams which the students did not submit on time i.e {@link StudentExam#isSubmitted()} is false.\n+     * Automatically grade all modeling- and text exercises with 0 points in {@link StudentExamService#automaticallyAssessUnsubmittedExams}.\n+     *\n+     * @param courseId the id of the course\n+     * @param examId the id of the exam\n+     * @return {@link HttpStatus#BAD_REQUEST} if the exam is not over yet | {@link HttpStatus#FORBIDDEN} if the user is not an instructor\n+     */\n+    @PostMapping(\"/courses/{courseId}/exams/{examId}/student-exams/automatically-assess-unsubmitted-student-exams\")\n+    @PreAuthorize(\"hasAnyRole('INSTRUCTOR', 'ADMIN')\")\n+    public ResponseEntity<Integer> automaticallyAssessUnsubmittedStudentExams(@PathVariable Long courseId, @PathVariable Long examId) {\n+        log.info(\"REST request to automatically assess the not submitted student exams of the exam with id {}\", examId);\n+\n+        Optional<ResponseEntity<Void>> courseAndExamAccessFailure = examAccessService.checkCourseAndExamAccessForInstructor(courseId, examId);\n+        if (courseAndExamAccessFailure.isPresent()) {\n+            return forbidden();\n+        }\n+\n+        if (!this.examService.isExamOver(examId)) {\n+            // you can only grade not submitted exams if the exam is over\n+            return badRequest();\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjA5NDg4", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552209488", "createdAt": "2020-12-15T08:30:45Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMzExMjgw", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552311280", "createdAt": "2020-12-15T10:30:26Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c88d41ff8d6cd843da766b3b20088a096baf6b3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/1c88d41ff8d6cd843da766b3b20088a096baf6b3", "committedDate": "2020-12-15T10:36:48Z", "message": "change findByExamId from List to Set"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMzY5MDM0", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552369034", "createdAt": "2020-12-15T11:45:51Z", "commit": {"oid": "959f9d3e3d73157876efa15d2751b87aa8546c02"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "135dbb812d0c8afbd8cb6f60491facf58e9eae8d", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/135dbb812d0c8afbd8cb6f60491facf58e9eae8d", "committedDate": "2020-12-15T13:29:10Z", "message": "add methods to examAccessService which use the pre fetched exam to not fetch the exam twice"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNTYxNjE1", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552561615", "createdAt": "2020-12-15T15:12:39Z", "commit": {"oid": "135dbb812d0c8afbd8cb6f60491facf58e9eae8d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNTYxNzUx", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552561751", "createdAt": "2020-12-15T15:12:46Z", "commit": {"oid": "135dbb812d0c8afbd8cb6f60491facf58e9eae8d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de3c71859c65520aa7bbf95e039e0fc69f316f3c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/de3c71859c65520aa7bbf95e039e0fc69f316f3c", "committedDate": "2020-12-15T18:02:15Z", "message": "set the assessor fixed as artemis_admin\nAdd feedback to result: You did not submit your exam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/b2236cfee811fda74ea55895f2b4c773be359c88", "committedDate": "2020-12-15T18:35:34Z", "message": "set to semi automatic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODIwMjM5", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552820239", "createdAt": "2020-12-15T19:58:02Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODIwODM1", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552820835", "createdAt": "2020-12-15T19:58:49Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODIyMzYy", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552822362", "createdAt": "2020-12-15T20:00:54Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODI0NDIz", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552824423", "createdAt": "2020-12-15T20:03:37Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODM5OTM2", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552839936", "createdAt": "2020-12-15T20:25:38Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODcwMDk3", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-552870097", "createdAt": "2020-12-15T21:03:59Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzMDQ1OTk5", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553045999", "createdAt": "2020-12-15T23:01:07Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzMDUzNTEw", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553053510", "createdAt": "2020-12-15T23:05:49Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNDc2NTQw", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553476540", "createdAt": "2020-12-16T08:59:30Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNTgwNTA3", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553580507", "createdAt": "2020-12-16T11:07:51Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMTowNzo1MVrOIG_7Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMTowNzo1MVrOIG_7Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDIwOTY3NA==", "bodyText": "Should it be better to define artemis_admin as a constant so that it's easier to modify in the future?", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r544209674", "createdAt": "2020-12-16T11:07:51Z", "author": {"login": "ivanchimeno"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamService.java", "diffHunk": "@@ -248,6 +260,62 @@ else if (exercise instanceof ModelingExercise) {\n         }\n     }\n \n+    /**\n+     * Automatically assess the modeling- and programming exercises of student exams of an exam which are not submitted with 0 points.\n+     * The assessment is counted as {@link AssessmentType#SEMI_AUTOMATIC} to make sure it is not considered for manual assessment,\n+     * see {@link StudentParticipationRepository#findByExerciseIdWithLatestSubmissionWithoutManualResultsAndNoTestRunParticipation}.\n+     * The assessor is artemis_admin.\n+     *\n+     * @param examId the exam id\n+     * @return returns the number of assessedSubmissions\n+     */\n+    public int assessUnsubmittedStudentExams(final Long examId) {\n+        int numberOfAssessedSubmissions = 0;\n+        User artemisAdmin = userService.getUserWithGroupsAndAuthorities(\"artemis_admin\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNTg0MTIx", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553584121", "createdAt": "2020-12-16T11:12:35Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMToxMjozNVrOIHAHrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMToxMjozNVrOIHAHrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDIxMjkwOQ==", "bodyText": "What's the point of this method? It fetches an instructor and student exams but it doesn't really use them right?", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r544212909", "createdAt": "2020-12-16T11:12:35Z", "author": {"login": "ivanchimeno"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamService.java", "diffHunk": "@@ -248,6 +260,62 @@ else if (exercise instanceof ModelingExercise) {\n         }\n     }\n \n+    /**\n+     * Automatically assess the modeling- and programming exercises of student exams of an exam which are not submitted with 0 points.\n+     * The assessment is counted as {@link AssessmentType#SEMI_AUTOMATIC} to make sure it is not considered for manual assessment,\n+     * see {@link StudentParticipationRepository#findByExerciseIdWithLatestSubmissionWithoutManualResultsAndNoTestRunParticipation}.\n+     * The assessor is artemis_admin.\n+     *\n+     * @param examId the exam id\n+     * @return returns the number of assessedSubmissions\n+     */\n+    public int assessUnsubmittedStudentExams(final Long examId) {\n+        int numberOfAssessedSubmissions = 0;\n+        User artemisAdmin = userService.getUserWithGroupsAndAuthorities(\"artemis_admin\");\n+        Set<StudentExam> unsubmittedStudentExams = findAllUnsubmittedStudentExams(examId);\n+        Map<User, List<Exercise>> exercisesOfUser = unsubmittedStudentExams.stream().collect(Collectors.toMap(StudentExam::getUser, studentExam -> studentExam.getExercises()\n+                .stream().filter(exercise -> exercise instanceof ModelingExercise || exercise instanceof TextExercise).collect(Collectors.toList())));\n+        for (final var user : exercisesOfUser.keySet()) {\n+            final var studentParticipations = participationService.findByStudentIdAndIndividualExercisesWithEagerSubmissionsResult(user.getId(), exercisesOfUser.get(user));\n+            for (final var studentParticipation : studentParticipations) {\n+                if (studentParticipation.findLatestSubmission().isPresent() && studentParticipation.findLatestSubmission().get().getLatestResult() == null) {\n+                    // get last submission\n+                    final var latestSubmission = studentParticipation.findLatestSubmission().get();\n+\n+                    // create result with 0 points\n+                    Result result = new Result();\n+                    result.setParticipation(studentParticipation);\n+                    result.setAssessor(artemisAdmin);\n+                    result.setCompletionDate(ZonedDateTime.now());\n+                    result.setScore(0L);\n+                    result.rated(true);\n+                    result.setAssessmentType(AssessmentType.SEMI_AUTOMATIC);\n+                    result = submissionService.saveNewResult(latestSubmission, result);\n+\n+                    var feedback = new Feedback();\n+                    feedback.setCredits(0.0);\n+                    feedback.setDetailText(\"You did not submit your exam\");\n+                    feedback.setPositive(false);\n+                    feedback.setText(\"You did not submit your exam\");\n+                    feedback.setType(FeedbackType.AUTOMATIC);\n+                    feedback = feedbackRepository.save(feedback);\n+                    feedback.setResult(result);\n+                    result.setFeedbacks(List.of(feedback));\n+                    resultRepository.save(result);\n+                    numberOfAssessedSubmissions++;\n+                }\n+            }\n+        }\n+        return numberOfAssessedSubmissions;\n+    }\n+\n+    public int assessEmptySubmissions(final Long examId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "originalPosition": 104}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNTg2ODc5", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553586879", "createdAt": "2020-12-16T11:16:16Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNjA4Nzg0", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-553608784", "createdAt": "2020-12-16T11:46:41Z", "commit": {"oid": "b2236cfee811fda74ea55895f2b4c773be359c88"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b900399ac08bae2aa3856c74ec5222f4231ee198", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/b900399ac08bae2aa3856c74ec5222f4231ee198", "committedDate": "2020-12-16T17:26:00Z", "message": "Add assess empty submissions\nAnd refactor method to reuse code\nRemove admin from assessor and set instructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "750e90028bdb993f4576175a35737c6edd55dd8c", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/750e90028bdb993f4576175a35737c6edd55dd8c", "committedDate": "2020-12-16T17:28:19Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bec3d8332b1f28119b21b436bb61857900d9a426", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/bec3d8332b1f28119b21b436bb61857900d9a426", "committedDate": "2020-12-16T18:24:52Z", "message": "hide these automatic assessments from the assessment dashboard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/23264e9f8caa55baaf4afa19605042ccbf1b3353", "committedDate": "2020-12-16T18:29:52Z", "message": "fix client message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDA5MDM2", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554009036", "createdAt": "2020-12-16T19:20:27Z", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDMxNTU1", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554031555", "createdAt": "2020-12-16T19:51:08Z", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDQ3MDUw", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554047050", "createdAt": "2020-12-16T20:12:37Z", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTM1Mjc0", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554535274", "createdAt": "2020-12-17T11:56:28Z", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34dc0860e8a5b1862e95b1822aa8053107c93196", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/34dc0860e8a5b1862e95b1822aa8053107c93196", "committedDate": "2020-12-17T12:28:58Z", "message": "Merge branch 'develop' into feature/automatically-assess-unsubmitted-student-exams"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTU3MDU2", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554557056", "createdAt": "2020-12-17T12:27:40Z", "commit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMjoyNzo0MVrOIHzVMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMjoyNzo1OVrOIHzVyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTA1MTk1Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Returns calculates if the exam is over by checking if the latest individual exam end date plus grace period has passed.\n          \n          \n            \n                 * Returns if the exam is over by checking if the latest individual exam end date plus grace period has passed.", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r545051952", "createdAt": "2020-12-17T12:27:41Z", "author": {"login": "FuchsDominik"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -804,6 +804,33 @@ public Integer lockAllRepositories(Long examId) {\n         return programmingExercises.size();\n     }\n \n+    /**\n+     * Returns calculates if the exam is over by checking if the latest individual exam end date plus grace period has passed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTA1MjEwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Returns calculates if the exam is over by checking if the latest individual exam end date plus grace period has passed.\n          \n          \n            \n                 * Returns if the exam is over by checking if the latest individual exam end date plus grace period has passed.", "url": "https://github.com/ls1intum/Artemis/pull/2527#discussion_r545052107", "createdAt": "2020-12-17T12:27:59Z", "author": {"login": "FuchsDominik"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -804,6 +804,33 @@ public Integer lockAllRepositories(Long examId) {\n         return programmingExercises.size();\n     }\n \n+    /**\n+     * Returns calculates if the exam is over by checking if the latest individual exam end date plus grace period has passed.\n+     * See {@link ExamService#getLatestIndiviudalExamEndDate}\n+     * <p>\n+     *\n+     * @param examId the id of the exam\n+     * @return true if the exam is over and the students cannot submit anymore\n+     * @throws EntityNotFoundException if no exam with the given examId can be found\n+     */\n+    public boolean isExamOver(Long examId) {\n+        return isExamOver(findOne(examId));\n+    }\n+\n+    /**\n+     * Returns calculates if the exam is over by checking if the latest individual exam end date plus grace period has passed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23264e9f8caa55baaf4afa19605042ccbf1b3353"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10a3635dcb3c76381d44ae0abd6a2f811c79be9a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/10a3635dcb3c76381d44ae0abd6a2f811c79be9a", "committedDate": "2020-12-17T12:48:44Z", "message": "set submitted to true manually\nThis ensures that the submissions are correctly counted in the assessment dashboard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4", "author": {"user": {"login": "anditurdiu", "name": "Andi Turdiu"}}, "url": "https://github.com/ls1intum/Artemis/commit/c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4", "committedDate": "2020-12-17T12:56:08Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Dominik Fuchs <44401560+FuchsDominik@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjAxNTA5", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554601509", "createdAt": "2020-12-17T13:27:43Z", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjAxNzc0", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554601774", "createdAt": "2020-12-17T13:28:03Z", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjkxOTUy", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554691952", "createdAt": "2020-12-17T15:06:15Z", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjkzMTY5", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554693169", "createdAt": "2020-12-17T15:07:29Z", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0Njk3MDMx", "url": "https://github.com/ls1intum/Artemis/pull/2527#pullrequestreview-554697031", "createdAt": "2020-12-17T15:11:32Z", "commit": {"oid": "c5a4f48b1fe0fee0cfc6d5213d6531d53fd6aad4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3432, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}