{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMTQ5MTA1", "number": 1930, "title": "Filter solution information in quizzes after the first submission was done", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) locally\n\nMotivation and Context\n\n\nStudent should not get information about the correct quiz before the exam is over\nDescription\n\nFilter informations from StudentExam before the exam is over - after the last student submitted -> the information is included again, so that it can be correctly displayed when the student sees the review\nSteps for Testing\n\n\nParticipate in an exam with MC, DnD and SA questions\nAfter the first save of the questions, reload the exam\nCheck the server response for information about the solution -> you shouldn't find any information\n\nScreenshots", "createdAt": "2020-07-18T21:21:09Z", "url": "https://github.com/ls1intum/Artemis/pull/1930", "merged": true, "mergeCommit": {"oid": "064b3217d16dfb6f300f758b5333407b63536e41"}, "closed": true, "closedAt": "2020-07-19T06:59:20Z", "author": {"login": "TobiasPr"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2MIlnAH2gAyNDUyMTQ5MTA1OjJhODRiNGI0M2M5NWY4Yjc1OTJkNWQyODkzNzg1ZWQ3NDU4NzllMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2XSsvAH2gAyNDUyMTQ5MTA1OmYwN2NkOWE3NDA0OTFkYTU5NTJmNjc1M2M4MjVhY2RiNjU3ZjRmN2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2a84b4b43c95f8b7592d5d2893785ed745879e24", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/2a84b4b43c95f8b7592d5d2893785ed745879e24", "committedDate": "2020-07-18T17:46:14Z", "message": "filter quiz solution information until exam has finished"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed2c97c383114823df60e2234657a425cd08f275", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/ed2c97c383114823df60e2234657a425cd08f275", "committedDate": "2020-07-18T21:24:42Z", "message": "Merge branch 'develop' into bugfix/exam/filter-quiz-solution-information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82fa2d9768fba6857d688bcdf9b7b96e9f7c12c8", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/82fa2d9768fba6857d688bcdf9b7b96e9f7c12c8", "committedDate": "2020-07-18T21:49:28Z", "message": "Fix doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "committedDate": "2020-07-18T21:50:02Z", "message": "Merge branch 'bugfix/exam/filter-quiz-solution-information' of https://github.com/ls1intum/Artemis into bugfix/exam/filter-quiz-solution-information"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDg0NDcx", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451084471", "createdAt": "2020-07-18T21:55:36Z", "commit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTozN1rOGzqy6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NTo1N1rOGzqzDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTcyMg==", "bodyText": "?", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831722", "createdAt": "2020-07-18T21:55:37Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc1OQ==", "bodyText": "?", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831759", "createdAt": "2020-07-18T21:55:57Z", "author": {"login": "sascha11110"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDg0NTE4", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451084518", "createdAt": "2020-07-18T21:56:33Z", "commit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NjozM1rOGzqzMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1NjozM1rOGzqzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc5Mg==", "bodyText": "\ud83d\ude49", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831792", "createdAt": "2020-07-18T21:56:33Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDg0NTM1", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451084535", "createdAt": "2020-07-18T21:56:52Z", "commit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1Njo1MlrOGzqzTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMTo1Njo1MlrOGzqzTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTgyMw==", "bodyText": "\ud83d\ude49", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831823", "createdAt": "2020-07-18T21:56:52Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/be51e331edf74a39265bbc9c6b1be530ac3aa27a", "committedDate": "2020-07-18T21:58:39Z", "message": "Remove <p>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDg1NTIw", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451085520", "createdAt": "2020-07-18T22:19:35Z", "commit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMjoxOTozNVrOGzq5sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQyMjoxOTozNVrOGzq5sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMzQ1OA==", "bodyText": "We need to remove also the solutions from short answer questions:", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456833458", "createdAt": "2020-07-18T22:19:35Z", "author": {"login": "fde312"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -273,6 +281,22 @@ public void filterForExam(Exercise exercise, List<StudentParticipation> particip\n                 if (result != null) {\n                     participation.setResults(Set.of(result));\n                 }\n+                // for quiz exercises remove correct answer options / mappings from response\n+                if (ZonedDateTime.now().isBefore(latestEndDate) && exercise instanceof QuizExercise) {\n+                    QuizSubmission quizSubmission = (QuizSubmission) latestSubmission.get();\n+                    quizSubmission.getSubmittedAnswers().forEach(submittedAnswer -> {\n+                        QuizQuestion question = submittedAnswer.getQuizQuestion();\n+                        if (question instanceof ShortAnswerQuestion) {\n+                            ((ShortAnswerQuestion) question).setCorrectMappings(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a"}, "originalPosition": 121}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDg1NTQz", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451085543", "createdAt": "2020-07-18T22:20:08Z", "commit": {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "108d73b6ccd2afc5b7007a9decc946a9349ca8d5", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/108d73b6ccd2afc5b7007a9decc946a9349ca8d5", "committedDate": "2020-07-18T22:41:46Z", "message": "Hide short answer solutions during exam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7cfee20fbcbc542b7ce2738b8f9b5be95f2194a", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/e7cfee20fbcbc542b7ce2738b8f9b5be95f2194a", "committedDate": "2020-07-18T23:04:34Z", "message": "Remove duplicated call (already called in loadExercisesForStudentExam)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87bfaaf51bd3fe81076676f8f81a34b2de5e9109", "author": {"user": {"login": "kloessst", "name": "Stefan Kl\u00f6ss-Schuster"}}, "url": "https://github.com/ls1intum/Artemis/commit/87bfaaf51bd3fe81076676f8f81a34b2de5e9109", "committedDate": "2020-07-18T23:08:45Z", "message": "Use the right method to filter sensitive informations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTAxMTg0", "url": "https://github.com/ls1intum/Artemis/pull/1930#pullrequestreview-451101184", "createdAt": "2020-07-19T05:55:00Z", "commit": {"oid": "87bfaaf51bd3fe81076676f8f81a34b2de5e9109"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6c967f262e4ad1644516ddf88e779308beafd79", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/f6c967f262e4ad1644516ddf88e779308beafd79", "committedDate": "2020-07-19T06:27:17Z", "message": "use publishResultsDate instead of latestEndDate for check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f07cd9a740491da5952f6753c825acdb657f4f7c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/f07cd9a740491da5952f6753c825acdb657f4f7c", "committedDate": "2020-07-19T06:46:14Z", "message": "fix null pointer exception after change"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4393, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}