{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MjUyNDE1", "number": 2222, "title": "[Feature] Structured Grading Instructions for Programming Exercises", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\n\n\nProgramming exercises did not feature the structured grading instructions.\nDescription\n\n\nReplaced only problem statement with  AssessmentInstructionsComponent\nAdded SGI functionality to programming exercises assessment\nAdded link to solution repo for programming exercises in example solution section of AssessmentInstructionsComponent\nAdded SGI view to ProgrammingExerciseDetailsComponent\n\nSteps for Testing\n\n\nLog in to Artemis\nNavigate to Course Administration\nCreate programming exercise with due date and manual assessment\n3.1 Now a toggle under grading instructions should be visible, toggle it and adapt the structured grading instructions\nView programming exercise details and see if SGI are displayed\nParticipate in programming exercise\nAssess exercise and check out the new instructions layout on the right side. It should contain Problem Statement, Example Solution, Grading Instruction\nAdd a inline feedback and drag and drop the structured grading instruction component to the inline feedback component\nInline feedback component should adapt accordingly\n\nTest Coverage\n\n\ncode-editor-tutor-assessment-inline-feedback.component.ts: 92%\nProgrammingExerciseParticipationResource.java: 89%\nProgrammingExerciseResource.java : 86%\n\nScreenshots\n\n\nSGI toggle:\n\nInstructions on the right side:\n\nSGI before DnD:\n\nAfter DnD:\n\nProgrammingExerciseDetails view:", "createdAt": "2020-10-17T09:35:42Z", "url": "https://github.com/ls1intum/Artemis/pull/2222", "merged": true, "mergeCommit": {"oid": "c1589448351cb962f477e5b3da68dfa12a0abe73"}, "closed": true, "closedAt": "2020-10-20T19:00:22Z", "author": {"login": "fde312"}, "timelineItems": {"totalCount": 42, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR5M_2AH2gAyNTA1MjUyNDE1OjNlMzI5OWFiMWQ1MThkMmZiM2VkNWM1MmI5MmQ5MTQ1M2FjYTI3Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUppBTAFqTUxMzQ1NzYwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3e3299ab1d518d2fb3ed5c52b92d91453aca2768", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/3e3299ab1d518d2fb3ed5c52b92d91453aca2768", "committedDate": "2020-10-12T19:32:44Z", "message": "use jhi-assessment-instructions instead of programming-exercise-instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "455282c50c9b61296daa0911b718bf5e9e46e517", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/455282c50c9b61296daa0911b718bf5e9e46e517", "committedDate": "2020-10-13T07:11:28Z", "message": "enable structured grading criteria for programming exercise creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08e9ba52c8fc06baf1deb866f63041b00f0e60c0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/08e9ba52c8fc06baf1deb866f63041b00f0e60c0", "committedDate": "2020-10-13T15:15:47Z", "message": "add sgi to tutor assessment view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "496beedbd05f0560733b9c8c0659276cc1ad204a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/496beedbd05f0560733b9c8c0659276cc1ad204a", "committedDate": "2020-10-13T15:28:06Z", "message": "add drag and drop to inline feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25b11386af2e9da2f331abe18fe037562ad74213", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/25b11386af2e9da2f331abe18fe037562ad74213", "committedDate": "2020-10-13T15:28:51Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-exercises/structured-grading-instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c7e25a4a50d215e94d82c4953ed95633b124f6f", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6c7e25a4a50d215e94d82c4953ed95633b124f6f", "committedDate": "2020-10-13T21:38:02Z", "message": "add client test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac61786a2f72f0bf133f09557ff2b1f90a0ef0e0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/ac61786a2f72f0bf133f09557ff2b1f90a0ef0e0", "committedDate": "2020-10-13T22:00:39Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43f9620cc49796c7b3054b4ab52788c6965c5eba", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/43f9620cc49796c7b3054b4ab52788c6965c5eba", "committedDate": "2020-10-16T00:55:15Z", "message": "add server tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "622cc26ec2fa2c48b932eb5b0b645eb689a982ea", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/622cc26ec2fa2c48b932eb5b0b645eb689a982ea", "committedDate": "2020-10-17T09:34:00Z", "message": "add solution repo link to sample solution section\nfetch solution and template participation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ff6a042eb8cb80e05b22e8865c1afc263d99cb0", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/5ff6a042eb8cb80e05b22e8865c1afc263d99cb0", "committedDate": "2020-10-17T09:50:37Z", "message": "run prettier and spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228b472badc44e341601dadbf4a16fdad3e0b3c3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/228b472badc44e341601dadbf4a16fdad3e0b3c3", "committedDate": "2020-10-17T09:51:42Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-exercises/structured-grading-instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c715fc8e725adae6de0a188df95615faf0177566", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c715fc8e725adae6de0a188df95615faf0177566", "committedDate": "2020-10-17T12:53:36Z", "message": "add sgi layout for programming exercise details view\nadapt getProgrammingExercise REST call to fetch also sgi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25b9187e73896977f2a89ce73e15b76b06ec69ea", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/25b9187e73896977f2a89ce73e15b76b06ec69ea", "committedDate": "2020-10-17T13:21:11Z", "message": "add server test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a447261990b7df69001bab8e4abc64c9d0e22055", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a447261990b7df69001bab8e4abc64c9d0e22055", "committedDate": "2020-10-17T13:22:40Z", "message": "run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94021daab0dd77c987a015051a7c3e3fa8da5445", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/94021daab0dd77c987a015051a7c3e3fa8da5445", "committedDate": "2020-10-17T13:42:11Z", "message": "try to make codacy happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dc47dac78ce5798aeaf45c9634104c7f2d579db", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/2dc47dac78ce5798aeaf45c9634104c7f2d579db", "committedDate": "2020-10-17T23:43:27Z", "message": "remove commented out code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a66af5c56e6f92bab1cb37a4977f08d1434c5d9", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/0a66af5c56e6f92bab1cb37a4977f08d1434c5d9", "committedDate": "2020-10-17T23:43:55Z", "message": "fix github actions issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed1dd43d29a5d6bf1558158110aa162d21cd63d3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/ed1dd43d29a5d6bf1558158110aa162d21cd63d3", "committedDate": "2020-10-17T23:51:16Z", "message": "improve client test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMTIyMjY5", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-511122269", "createdAt": "2020-10-18T08:42:37Z", "commit": {"oid": "ed1dd43d29a5d6bf1558158110aa162d21cd63d3"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMTIyNDcw", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-511122470", "createdAt": "2020-10-18T08:45:55Z", "commit": {"oid": "ed1dd43d29a5d6bf1558158110aa162d21cd63d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQwODo0NTo1NVrOHjjswg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQwODo0NTo1NVrOHjjswg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA0NzEwNg==", "bodyText": "We only need the template and solution participation if the user is at least a teaching assistant or?\nIn that case, it would be better if we move this into the if block in line 110. This way we reduce unnecessary database calls. Same for the grading criteria in line 107.", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r507047106", "createdAt": "2020-10-18T08:45:55Z", "author": {"login": "anditurdiu"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseParticipationResource.java", "diffHunk": "@@ -93,10 +98,23 @@ public ProgrammingExerciseParticipationResource(ProgrammingExerciseParticipation\n         if (!programmingExerciseParticipationService.canAccessParticipation(participation.get())) {\n             return forbidden();\n         }\n-        if (!authCheckService.isAtLeastTeachingAssistantForExercise(participation.get().getExercise())) {\n+\n+        // Fetch template and solution participation into exercise of participation\n+        ProgrammingExercise exercise = (ProgrammingExercise) participation.get().getExercise();\n+        exercise = programmingExerciseService.findWithTemplateParticipationAndSolutionParticipationById(exercise.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed1dd43d29a5d6bf1558158110aa162d21cd63d3"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMTI4NTY3", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-511128567", "createdAt": "2020-10-18T10:07:31Z", "commit": {"oid": "ed1dd43d29a5d6bf1558158110aa162d21cd63d3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c50eabd3821e54a8c95059dafd080baa8dc09e72", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c50eabd3821e54a8c95059dafd080baa8dc09e72", "committedDate": "2020-10-18T19:17:47Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-exercises/structured-grading-instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73aa62289582cfa2ac4eb3570ed6b4330f96add9", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/73aa62289582cfa2ac4eb3570ed6b4330f96add9", "committedDate": "2020-10-18T19:52:29Z", "message": "remove legacy check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjAwNzk0", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-511600794", "createdAt": "2020-10-19T09:59:50Z", "commit": {"oid": "73aa62289582cfa2ac4eb3570ed6b4330f96add9"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOTo1OTo1MFrOHkG2Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOTo1OTo1MFrOHkG2Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYyMjk1NQ==", "bodyText": "Maybe rename this to something more specific regarding grading instructions?", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r507622955", "createdAt": "2020-10-19T09:59:50Z", "author": {"login": "schultek"}, "path": "src/main/webapp/app/exercises/programming/manage/update/programming-exercise-update.component.ts", "diffHunk": "@@ -59,6 +59,7 @@ export class ProgrammingExerciseUpdateComponent implements OnInit {\n     existingCategories: ExerciseCategory[];\n \n     public inProductionEnvironment: boolean;\n+    checkedFlag = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73aa62289582cfa2ac4eb3570ed6b4330f96add9"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97326bee44d78502b3229e06b7710b8d0f9fa132", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/97326bee44d78502b3229e06b7710b8d0f9fa132", "committedDate": "2020-10-19T19:01:36Z", "message": "rename toggle flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d7578fea3f2ffe1a028b5c396a9b8861ed0111bb", "committedDate": "2020-10-19T19:09:13Z", "message": "use calculation from gradingInstructions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTUwNDQz", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512150443", "createdAt": "2020-10-19T20:53:11Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjY1NjQx", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512265641", "createdAt": "2020-10-20T01:22:09Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjowOVrOHknLsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjowOVrOHknLsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE1Mjc1Mg==", "bodyText": "Codacy found an issue: The JUnit 5 test method name 'testGetParticipationWithResultsForStudentParticipation_forbidden' doesn't match '[a-z][a-zA-Z0-9]*'", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r508152752", "createdAt": "2020-10-20T01:22:09Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseParticipationIntegrationTest.java", "diffHunk": "@@ -276,7 +276,39 @@ public void getLatestSubmissionsForExercise_instructor() throws Exception {\n \n     @Test\n     @WithMockUser(username = \"student1\", roles = \"USER\")\n-    public void getLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+    public void testGetLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+        request.getMap(exercisesBaseUrl + programmingExercise.getId() + \"/latest-pending-submissions\", HttpStatus.FORBIDDEN, Long.class, ProgrammingSubmission.class);\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testGetParticipationWithResultsForStudentParticipation_success() throws Exception {\n+        database.addGradingInstructionsToExercise(programmingExercise);\n+        programmingExerciseRepository.save(programmingExercise);\n+        addStudentParticipationWithResult(AssessmentType.AUTOMATIC, ZonedDateTime.now());\n+        StudentParticipation participation = studentParticipationRepository.findAll().get(0);\n+\n+        ProgrammingExerciseStudentParticipation response = request.get(participationsBaseUrl + participation.getId() + \"/student-participation-with-results-and-feedbacks\",\n+                HttpStatus.OK, ProgrammingExerciseStudentParticipation.class);\n+        ProgrammingExercise exercise = (ProgrammingExercise) response.getExercise();\n+\n+        assertThat(exercise.getGradingCriteria().get(0).getStructuredGradingInstructions().size()).isEqualTo(1);\n+        assertThat(exercise.getGradingCriteria().get(1).getStructuredGradingInstructions().size()).isEqualTo(1);\n+        assertThat(response.getResults().iterator().next().getAssessmentType()).isEqualTo(AssessmentType.AUTOMATIC);\n+        assertThat(response.getResults().iterator().next().getResultString()).isEqualTo(\"x of y passed\");\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testGetParticipationWithResultsForStudentParticipation_notFound() throws Exception {\n+        StudentParticipation participation = database.addParticipationForExercise(programmingExercise, \"student1\");\n+        request.get(participationsBaseUrl + participation.getId() + \"/student-participation-with-results-and-feedbacks\", HttpStatus.NOT_FOUND,\n+                ProgrammingExerciseStudentParticipation.class);\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"stidemt1\", roles = \"USER\")\n+    public void testGetParticipationWithResultsForStudentParticipation_forbidden() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjY1NjQ3", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512265647", "createdAt": "2020-10-20T01:22:10Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjoxMFrOHknLtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjoxMFrOHknLtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE1Mjc1Nw==", "bodyText": "Codacy found an issue: The JUnit 5 test method name 'testGetParticipationWithResultsForStudentParticipation_notFound' doesn't match '[a-z][a-zA-Z0-9]*'", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r508152757", "createdAt": "2020-10-20T01:22:10Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseParticipationIntegrationTest.java", "diffHunk": "@@ -276,7 +276,39 @@ public void getLatestSubmissionsForExercise_instructor() throws Exception {\n \n     @Test\n     @WithMockUser(username = \"student1\", roles = \"USER\")\n-    public void getLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+    public void testGetLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+        request.getMap(exercisesBaseUrl + programmingExercise.getId() + \"/latest-pending-submissions\", HttpStatus.FORBIDDEN, Long.class, ProgrammingSubmission.class);\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testGetParticipationWithResultsForStudentParticipation_success() throws Exception {\n+        database.addGradingInstructionsToExercise(programmingExercise);\n+        programmingExerciseRepository.save(programmingExercise);\n+        addStudentParticipationWithResult(AssessmentType.AUTOMATIC, ZonedDateTime.now());\n+        StudentParticipation participation = studentParticipationRepository.findAll().get(0);\n+\n+        ProgrammingExerciseStudentParticipation response = request.get(participationsBaseUrl + participation.getId() + \"/student-participation-with-results-and-feedbacks\",\n+                HttpStatus.OK, ProgrammingExerciseStudentParticipation.class);\n+        ProgrammingExercise exercise = (ProgrammingExercise) response.getExercise();\n+\n+        assertThat(exercise.getGradingCriteria().get(0).getStructuredGradingInstructions().size()).isEqualTo(1);\n+        assertThat(exercise.getGradingCriteria().get(1).getStructuredGradingInstructions().size()).isEqualTo(1);\n+        assertThat(response.getResults().iterator().next().getAssessmentType()).isEqualTo(AssessmentType.AUTOMATIC);\n+        assertThat(response.getResults().iterator().next().getResultString()).isEqualTo(\"x of y passed\");\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testGetParticipationWithResultsForStudentParticipation_notFound() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjY1NjU1", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512265655", "createdAt": "2020-10-20T01:22:11Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjoxMVrOHknLug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMToyMjoxMVrOHknLug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE1Mjc2Mg==", "bodyText": "Codacy found an issue: The JUnit 5 test method name 'testGetParticipationWithResultsForStudentParticipation_success' doesn't match '[a-z][a-zA-Z0-9]*'", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r508152762", "createdAt": "2020-10-20T01:22:11Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingExerciseParticipationIntegrationTest.java", "diffHunk": "@@ -276,7 +276,39 @@ public void getLatestSubmissionsForExercise_instructor() throws Exception {\n \n     @Test\n     @WithMockUser(username = \"student1\", roles = \"USER\")\n-    public void getLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+    public void testGetLatestSubmissionsForExercise_studentForbidden() throws Exception {\n+        request.getMap(exercisesBaseUrl + programmingExercise.getId() + \"/latest-pending-submissions\", HttpStatus.FORBIDDEN, Long.class, ProgrammingSubmission.class);\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testGetParticipationWithResultsForStudentParticipation_success() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMzkwNjcw", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512390670", "createdAt": "2020-10-20T07:08:28Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMzk0MDc4", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512394078", "createdAt": "2020-10-20T07:13:19Z", "commit": {"oid": "d7578fea3f2ffe1a028b5c396a9b8861ed0111bb"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eb2efb98bc4a8d4b13a010fd631226b28211a42", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9eb2efb98bc4a8d4b13a010fd631226b28211a42", "committedDate": "2020-10-20T07:48:01Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-exercises/structured-grading-instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40e16583d5da4604d94b55a0f68c37863a404c9b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/40e16583d5da4604d94b55a0f68c37863a404c9b", "committedDate": "2020-10-20T10:15:33Z", "message": "fix issue with cancelling assessment and rename variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db573e7258cd011bb060dc94506adbcac0af4980", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/db573e7258cd011bb060dc94506adbcac0af4980", "committedDate": "2020-10-20T10:33:49Z", "message": "fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTA3Nzk4", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512907798", "createdAt": "2020-10-20T16:13:59Z", "commit": {"oid": "db573e7258cd011bb060dc94506adbcac0af4980"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dff0bb8cda100246177ccce9eb1401be50e94b0", "author": {"user": {"login": "fde312", "name": "Francisco De las Casas Young"}}, "url": "https://github.com/ls1intum/Artemis/commit/9dff0bb8cda100246177ccce9eb1401be50e94b0", "committedDate": "2020-10-20T16:17:57Z", "message": "fix issue with cancel button for saved feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934", "author": {"user": {"login": "fde312", "name": "Francisco De las Casas Young"}}, "url": "https://github.com/ls1intum/Artemis/commit/bd1553452e5ec5df3730f2121cee72a4e49b8934", "committedDate": "2020-10-20T16:18:16Z", "message": "Merge branch 'develop' into feature/programming-exercises/structured-grading-instructions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTIxNDE4", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512921418", "createdAt": "2020-10-20T16:28:59Z", "commit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjoyODo1OVrOHlG5PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjoyODo1OVrOHlG5PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3MjMxNg==", "bodyText": "For editing of programming exercises: Is is possible to check whether grading instructions have been created and then set this flag accordingly?", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r508672316", "createdAt": "2020-10-20T16:28:59Z", "author": {"login": "kloessst"}, "path": "src/main/webapp/app/exercises/programming/manage/update/programming-exercise-update.component.ts", "diffHunk": "@@ -59,6 +59,7 @@ export class ProgrammingExerciseUpdateComponent implements OnInit {\n     existingCategories: ExerciseCategory[];\n \n     public inProductionEnvironment: boolean;\n+    checkedFlagForStructuredGradingInstructions = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTM0NzAz", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-512934703", "createdAt": "2020-10-20T16:44:22Z", "commit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMDQzMDg4", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-513043088", "createdAt": "2020-10-20T18:59:02Z", "commit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNDU3NjA2", "url": "https://github.com/ls1intum/Artemis/pull/2222#pullrequestreview-513457606", "createdAt": "2020-10-21T09:00:37Z", "commit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwOTowMDozOFrOHlhoyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwOTowMDozOFrOHlhoyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTExMDQ3NQ==", "bodyText": "Just a small note: the maxCountInScore feature is not integrated in Apollon yet so calculating the score using structuredGradingCriterionService.computeTotalScore(this.feedback) in modeling-assessment-editor will not change the score calculation (it will skip all maxCountInScore related conditions). Have you tested assessing modeling exercises after these changes? (everything should work as expected but just in case ^^')", "url": "https://github.com/ls1intum/Artemis/pull/2222#discussion_r509110475", "createdAt": "2020-10-21T09:00:38Z", "author": {"login": "HanyaElhashemy"}, "path": "src/main/webapp/app/exercises/modeling/assess/modeling-assessment-editor/modeling-assessment-editor.component.ts", "diffHunk": "@@ -500,6 +502,6 @@ export class ModelingAssessmentEditorComponent implements OnInit {\n      * and instead set the score boundaries on the server.\n      */\n     calculateTotalScore() {\n-        this.totalScore = (this.feedback || []).reduce((totalScore, feedback) => totalScore + feedback.credits!, 0);\n+        this.totalScore = this.structuredGradingCriterionService.computeTotalScore(this.feedback);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd1553452e5ec5df3730f2121cee72a4e49b8934"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3862, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}