{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MTYzMzcy", "number": 2524, "title": "[Feature] Highlight code line changes", "bodyText": "Checklist\n\n I tested all changes and all related features locally\n Server: I followed the coding and design guidelines.\n Server: I added multiple integration tests (Spring) related to the features (with a high test coverage)\n Server: I added @PreAuthorize and check the course groups for all new REST Calls (security)\n Server: I implemented the changes with a good performance and prevented too many database calls\n Server: I documented the Java code using JavaDoc style.\n Client: I followed the coding and design guidelines.\n Client: I added multiple integration tests (Jest) related to the features (with a high test coverage)\n Client: I documented the TypeScript code using JSDoc style.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\n\n\nThis PR introduces a diff view for the assessment of programming exercise. Changed or new lines are highlighted with a green background. To calculate the diff we are using diff-match-patch, see: https://github.com/google/diff-match-patch . For files that are not in the template (added files during student submission) all lines in the code editor are highlighted.\nDescription\n\n\ndiff-match-patch to calculate the diff\nAdd new endpoint to fetch all files with their content\nNew event emitter for CodeEditorTutorAssessmentComponent after the file was loaded in the CodeEditorAceComponent\n\nSteps for Testing\n\n\nLog in to Artemis\nNavigate to Course Administration\nCreate new programming exercise with manual assessment\nParticipate in exercise with different users and create different submissions (e.g. Submission1 has added in BubbleSort.java 3 new lines of code, in MergeSort.java added 1 new line of code. Submission2 has appended the comment in BubbleSort.java and added a completely new file (e.g. SortStrategy.java)\nAssess programming exercise and check if diff for files are highlighted correctly\nManual assessment should work as always, check also students view\n\nTest Coverage\n\n\n\n\nScreenshots\n\n\nAppended comment and added new line:\n\nNew file:\n\nNew line and build failed:", "createdAt": "2020-12-09T13:02:03Z", "url": "https://github.com/ls1intum/Artemis/pull/2524", "merged": true, "mergeCommit": {"oid": "e94a3b0c7a73c165100a5729c3b987946ec05020"}, "closed": true, "closedAt": "2020-12-17T22:05:42Z", "author": {"login": "fde312"}, "timelineItems": {"totalCount": 38, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhxgAxgH2gAyNTM1MTYzMzcyOjk1MGQ4YWFkOTZhZThkNGRjMjNjZjhjNzBiNGQyM2Q0OTk3YWI1M2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnK8EygFqTU1NTAyNTAxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "950d8aad96ae8d4dc23cf8c70b4d23d4997ab53c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/950d8aad96ae8d4dc23cf8c70b4d23d4997ab53c", "committedDate": "2020-12-01T03:37:03Z", "message": "first try to highlight new lines of code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dd10bfbefd4026d4e58251b3356b46b2e088457", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/5dd10bfbefd4026d4e58251b3356b46b2e088457", "committedDate": "2020-12-07T15:13:08Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8045ce5721f83e9a55a7b33ff693dd359152fbe3", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/8045ce5721f83e9a55a7b33ff693dd359152fbe3", "committedDate": "2020-12-09T13:01:10Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes\n\n# Conflicts:\n#\tpackage.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ecaff41020fd6e867fe597e54fb49497a60d825", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7ecaff41020fd6e867fe597e54fb49497a60d825", "committedDate": "2020-12-10T21:23:02Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9894fcf54847aac07358004fd3a5be945ed7147b", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9894fcf54847aac07358004fd3a5be945ed7147b", "committedDate": "2020-12-12T12:54:03Z", "message": "implement new endpoint to get all files with content from template repo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d34fa4febe0e49bd3ed1a25eaa8c1889683ad3b8", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/d34fa4febe0e49bd3ed1a25eaa8c1889683ad3b8", "committedDate": "2020-12-12T12:58:43Z", "message": "add marking of new lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a87e4da75d70a22e231839763ad96930ba02f1a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/6a87e4da75d70a22e231839763ad96930ba02f1a", "committedDate": "2020-12-12T12:58:52Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f71ed9d08e88e7c5f79e422044f53b37e46df4e", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9f71ed9d08e88e7c5f79e422044f53b37e46df4e", "committedDate": "2020-12-13T03:05:38Z", "message": "add new event emitter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c028e123f99a420ffb465f585fd656eedc587836", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/c028e123f99a420ffb465f585fd656eedc587836", "committedDate": "2020-12-13T03:06:11Z", "message": "move logic form ace editor to code editor tutor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39f7d3d4c156c2d12e4f62c7f75685b4ddef587a", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/39f7d3d4c156c2d12e4f62c7f75685b4ddef587a", "committedDate": "2020-12-16T12:34:05Z", "message": "use new event emitter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e79056bd5c2fade546d1ba7b47b865ba74c3d88", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/7e79056bd5c2fade546d1ba7b47b865ba74c3d88", "committedDate": "2020-12-16T12:35:53Z", "message": "generalize rest end point and make changes accordingly in client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ea16717b126bb6534e8dda8ab0cbe9912d4845c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/0ea16717b126bb6534e8dda8ab0cbe9912d4845c", "committedDate": "2020-12-16T13:58:28Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes\n\n# Conflicts:\n#\tpackage.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcc6e01ec03017cbf81dcff922fe711ea6f1a7be", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/fcc6e01ec03017cbf81dcff922fe711ea6f1a7be", "committedDate": "2020-12-16T14:13:47Z", "message": "make codacy happy and renaming of variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6d04ba99f91fb06adc587ba58a47825f9312886", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a6d04ba99f91fb06adc587ba58a47825f9312886", "committedDate": "2020-12-16T14:27:10Z", "message": "add PreAuthorized and server test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a7a2ccd5dacfc8a88d7ee9376a1e02ded1955c9", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/9a7a2ccd5dacfc8a88d7ee9376a1e02ded1955c9", "committedDate": "2020-12-17T05:24:17Z", "message": "removed console logs, renamed method and small changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80edc786f86b242913ac72adb55cd4b7a1115ed", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/f80edc786f86b242913ac72adb55cd4b7a1115ed", "committedDate": "2020-12-17T05:33:40Z", "message": "add client test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MzQ3ODk1", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554347895", "createdAt": "2020-12-17T07:48:15Z", "commit": {"oid": "f80edc786f86b242913ac72adb55cd4b7a1115ed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MzQ4Njk1", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554348695", "createdAt": "2020-12-17T07:49:35Z", "commit": {"oid": "f80edc786f86b242913ac72adb55cd4b7a1115ed"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0Mzc1NTEz", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554375513", "createdAt": "2020-12-17T08:31:33Z", "commit": {"oid": "f80edc786f86b242913ac72adb55cd4b7a1115ed"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54fca565b3e6c4dcb6e14020efa76321160d4471", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/54fca565b3e6c4dcb6e14020efa76321160d4471", "committedDate": "2020-12-17T12:31:58Z", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c", "author": {"user": null}, "url": "https://github.com/ls1intum/Artemis/commit/a7b2971df05f34f9d4e320fa276c3e9d2798b91c", "committedDate": "2020-12-17T12:59:36Z", "message": "try to fix issues with wrong line highlighting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjI0Nzc1", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554624775", "createdAt": "2020-12-17T13:55:56Z", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjI1MjIw", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554625220", "createdAt": "2020-12-17T13:56:28Z", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjI2NTM5", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554626539", "createdAt": "2020-12-17T13:57:58Z", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0Njg5MTA5", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554689109", "createdAt": "2020-12-17T15:03:24Z", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NjkwNjI1", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554690625", "createdAt": "2020-12-17T15:04:57Z", "commit": {"oid": "a7b2971df05f34f9d4e320fa276c3e9d2798b91c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b32098ee3a42c8a8a530759f93844567b8968d58", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/b32098ee3a42c8a8a530759f93844567b8968d58", "committedDate": "2020-12-17T16:19:08Z", "message": "Merge branch 'develop' into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTMwNzMz", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554930733", "createdAt": "2020-12-17T19:42:56Z", "commit": {"oid": "b32098ee3a42c8a8a530759f93844567b8968d58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTMxMTky", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554931192", "createdAt": "2020-12-17T19:43:37Z", "commit": {"oid": "b32098ee3a42c8a8a530759f93844567b8968d58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTMxNDk0", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554931494", "createdAt": "2020-12-17T19:44:06Z", "commit": {"oid": "b32098ee3a42c8a8a530759f93844567b8968d58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTMxNTky", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554931592", "createdAt": "2020-12-17T19:44:15Z", "commit": {"oid": "b32098ee3a42c8a8a530759f93844567b8968d58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed", "committedDate": "2020-12-17T20:03:40Z", "message": "Merge branch 'develop' into feature/programming-assessment/highlight-code-line-changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTY3NzMw", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554967730", "createdAt": "2020-12-17T20:35:51Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTkxNTY5", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554991569", "createdAt": "2020-12-17T21:12:24Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTkzMzk4", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554993398", "createdAt": "2020-12-17T21:15:15Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTkzOTQy", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-554993942", "createdAt": "2020-12-17T21:16:07Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDExNTc2", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-555011576", "createdAt": "2020-12-17T21:43:11Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMTo0MzoxMVrOIIJ79w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMTo0MzoxMVrOIIJ79w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQyMjMyNw==", "bodyText": "This could hurt a bit if the repositories are known to contain larger files (e.g. some example data), but it is not dramatic. We could in future however use the already implemented file change detection to reduce this only to files that were changed.", "url": "https://github.com/ls1intum/Artemis/pull/2524#discussion_r545422327", "createdAt": "2020-12-17T21:43:11Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.ts", "diffHunk": "@@ -133,37 +145,55 @@ export class CodeEditorTutorAssessmentContainerComponent implements OnInit, OnDe\n                 participationId = Number(params['participationId']);\n             }\n \n-            this.programmingExerciseParticipationService.getStudentParticipationWithLatestManualResult(participationId).subscribe(\n-                (participationWithResult: ProgrammingExerciseStudentParticipation) => {\n-                    // Set domain to make file editor work properly\n-                    this.domainService.setDomain([DomainType.PARTICIPATION, participationWithResult]);\n-                    this.participation = participationWithResult;\n-                    this.manualResult = this.participation.results![0];\n-\n-                    // Either submission from latest manual or automatic result\n-                    this.submission = this.manualResult.submission as ProgrammingSubmission;\n-                    this.submission.participation = this.participation;\n-                    this.exercise = this.participation.exercise as ProgrammingExercise;\n-                    this.hasAssessmentDueDatePassed = !!this.exercise!.assessmentDueDate && moment(this.exercise!.assessmentDueDate).isBefore(now());\n-\n-                    this.checkPermissions();\n-                    this.handleFeedback();\n-\n-                    if (this.manualResult && this.manualResult.hasComplaint) {\n-                        this.getComplaint();\n-                    }\n-                    this.createAdjustedRepositoryUrl();\n-                },\n-                (error: HttpErrorResponse) => {\n-                    this.participationCouldNotBeFetched = true;\n-                    if (error.error && error.error.errorKey === 'lockedSubmissionsLimitReached') {\n-                        this.lockLimitReached = true;\n-                    }\n-                },\n-                () => {\n-                    this.loadingParticipation = false;\n-                },\n-            );\n+            this.programmingExerciseParticipationService\n+                .getStudentParticipationWithLatestManualResult(participationId)\n+                .pipe(\n+                    tap(\n+                        (participationWithResult: ProgrammingExerciseStudentParticipation) => {\n+                            // Set domain to make file editor work properly\n+                            this.domainService.setDomain([DomainType.PARTICIPATION, participationWithResult]);\n+                            this.participation = participationWithResult;\n+                            this.manualResult = this.participation.results![0];\n+\n+                            // Either submission from latest manual or automatic result\n+                            this.submission = this.manualResult.submission as ProgrammingSubmission;\n+                            this.submission.participation = this.participation;\n+                            this.exercise = this.participation.exercise as ProgrammingExercise;\n+                            this.hasAssessmentDueDatePassed = !!this.exercise!.assessmentDueDate && moment(this.exercise!.assessmentDueDate).isBefore(now());\n+\n+                            this.checkPermissions();\n+                            this.handleFeedback();\n+\n+                            if (this.manualResult && this.manualResult.hasComplaint) {\n+                                this.getComplaint();\n+                            }\n+                            this.createAdjustedRepositoryUrl();\n+                        },\n+                        (error: HttpErrorResponse) => {\n+                            this.participationCouldNotBeFetched = true;\n+                            if (error.error && error.error.errorKey === 'lockedSubmissionsLimitReached') {\n+                                this.lockLimitReached = true;\n+                            }\n+                        },\n+                        () => (this.loadingParticipation = false),\n+                    ),\n+                    switchMap(() => this.programmingExerciseService.findWithTemplateAndSolutionParticipation(this.exercise.id!)),\n+                    tap((programmingExercise) => (this.templateParticipation = programmingExercise.body!.templateParticipation!)),\n+                    switchMap(() => {\n+                        // Get all files with content from template repository\n+                        this.domainService.setDomain([DomainType.PARTICIPATION, this.templateParticipation]);\n+                        const observable = this.repositoryFileService.getFilesWithContent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "originalPosition": 112}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDI1MDE4", "url": "https://github.com/ls1intum/Artemis/pull/2524#pullrequestreview-555025018", "createdAt": "2020-12-17T22:04:57Z", "commit": {"oid": "27c5987fd3f4f0143ffd6bd0cf732a8fb011cbed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3422, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}