{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMzgxNTYy", "number": 1748, "title": "Show summary after exam has ended", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) locally\n\nMotivation and Context\n\n\nStudents should be able to see the summary after they participated in an exam and the exam is over\nDescription\n\nremove check to load student exam only before end date\nadd call to load studentexam if exam is over\nSteps for Testing\n\n\nCreate an Exam (exercises, add students, generate studentexam + prepare exercises)\nset date so that exam is visible, started and not yet finished -> should work as before\nset end that so that the exam has ended -> student can see the summary of his/her participation in the exam", "createdAt": "2020-06-29T12:35:07Z", "url": "https://github.com/ls1intum/Artemis/pull/1748", "merged": true, "mergeCommit": {"oid": "1b5e162fd6df285d4bb704131361bd46e61d98a9"}, "closed": true, "closedAt": "2020-06-29T18:28:50Z", "author": {"login": "TobiasPr"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwAJGNgH2gAyNDQxMzgxNTYyOjVhNzRhMWE3ZGYyZjNmODJjNzNjZDhjMjk4Y2M3MjExMGQ2ZDIyNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwFWl9gFqTQzOTM5NzAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5a74a1a7df2f3f82c73cd8c298cc72110d6d2240", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/5a74a1a7df2f3f82c73cd8c298cc72110d6d2240", "committedDate": "2020-06-29T12:24:23Z", "message": "StudentExamAccessService remove check for after end date -> always return StudentExam to show summary\nexam-participation.component.ts if exam isOver -> load student exam to show summary"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTcwNjM5", "url": "https://github.com/ls1intum/Artemis/pull/1748#pullrequestreview-439170639", "createdAt": "2020-06-29T13:57:56Z", "commit": {"oid": "5a74a1a7df2f3f82c73cd8c298cc72110d6d2240"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzo1Nzo1NlrOGqSPNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzo1Nzo1NlrOGqSPNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MjE4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Check that the exam is live\n          \n          \n            \n                    // Check that the exam is already visible. After the exam, we directly show the summary!", "url": "https://github.com/ls1intum/Artemis/pull/1748#discussion_r446992181", "createdAt": "2020-06-29T13:57:56Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamAccessService.java", "diffHunk": "@@ -95,8 +95,7 @@ public StudentExamAccessService(CourseService courseService, UserService userSer\n         }\n \n         // Check that the exam is live", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a74a1a7df2f3f82c73cd8c298cc72110d6d2240"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64450d3ee04f54df36d812ce1529db90193bee62", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/64450d3ee04f54df36d812ce1529db90193bee62", "committedDate": "2020-06-29T13:58:02Z", "message": "Update src/main/java/de/tum/in/www1/artemis/service/StudentExamAccessService.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTcyNzA3", "url": "https://github.com/ls1intum/Artemis/pull/1748#pullrequestreview-439172707", "createdAt": "2020-06-29T13:59:55Z", "commit": {"oid": "64450d3ee04f54df36d812ce1529db90193bee62"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzo1OTo1NVrOGqSU5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzo1OTo1NVrOGqSU5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MzYzNg==", "bodyText": "I will approve this for now, but in the future we should check if the student has actually participated in the exam and only then we will show the summary page. We might need to add a new attribute to StudentExam to track this. (something similar like the initializationState in the Participation)", "url": "https://github.com/ls1intum/Artemis/pull/1748#discussion_r446993636", "createdAt": "2020-06-29T13:59:55Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -77,7 +77,14 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n         this.route.parent!.params.subscribe((params) => {\n             this.courseId = parseInt(params['courseId'], 10);\n             this.examId = parseInt(params['examId'], 10);\n-            this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => (this.exam = exam));\n+            this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n+                this.exam = exam;\n+                if (this.isOver()) {\n+                    this.examParticipationService.loadStudentExam(this.exam.course.id, this.exam.id).subscribe((studentExam: StudentExam) => {\n+                        this.studentExam = studentExam;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64450d3ee04f54df36d812ce1529db90193bee62"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feb8148ffc392092d140200f0cf89971939dc5ab", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/feb8148ffc392092d140200f0cf89971939dc5ab", "committedDate": "2020-06-29T14:12:43Z", "message": "fix test\nupdate comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09146a9c8518a24c258064ae30007437bc41dcf4", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/09146a9c8518a24c258064ae30007437bc41dcf4", "committedDate": "2020-06-29T14:13:03Z", "message": "Merge remote-tracking branch 'origin/bugfix/exam/show-exam-after-end' into bugfix/exam/show-exam-after-end"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98743337dd3510a2d9c5c8b5498794a2471031ba", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/98743337dd3510a2d9c5c8b5498794a2471031ba", "committedDate": "2020-06-29T15:00:28Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ab210a8ce0019558ead1f71177589aa10537379", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6ab210a8ce0019558ead1f71177589aa10537379", "committedDate": "2020-06-29T15:17:48Z", "message": "Merge branch 'develop' into bugfix/exam/show-exam-after-end"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MzAxMTM2", "url": "https://github.com/ls1intum/Artemis/pull/1748#pullrequestreview-439301136", "createdAt": "2020-06-29T16:15:34Z", "commit": {"oid": "6ab210a8ce0019558ead1f71177589aa10537379"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MzI3OTkz", "url": "https://github.com/ls1intum/Artemis/pull/1748#pullrequestreview-439327993", "createdAt": "2020-06-29T16:50:44Z", "commit": {"oid": "6ab210a8ce0019558ead1f71177589aa10537379"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzk3MDM4", "url": "https://github.com/ls1intum/Artemis/pull/1748#pullrequestreview-439397038", "createdAt": "2020-06-29T18:28:39Z", "commit": {"oid": "6ab210a8ce0019558ead1f71177589aa10537379"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2565, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}