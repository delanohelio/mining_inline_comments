{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzODc5Nzk2", "number": 1281, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDozMTo0MlrODr0nkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDozNToyMlrODr0tIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Mjc3NDU2OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/UserResource.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDozMTo0MlrOF8ZONg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxNToyNjo1NlrOF9KMBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg3MjExOA==", "bodyText": "what is the difference to @PreAuthorize(\"hasAnyRole('INSTRUCTOR', 'ADMIN')\")?", "url": "https://github.com/ls1intum/Artemis/pull/1281#discussion_r398872118", "createdAt": "2020-03-26T20:31:42Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/UserResource.java", "diffHunk": "@@ -164,6 +166,26 @@ else if (managedUserVM.getGroups().stream().anyMatch(group -> !artemisAuthentica\n         return new ResponseEntity<>(page.getContent(), headers, HttpStatus.OK);\n     }\n \n+    /**\n+     * GET /users/search : search all users by login or name (result size is limited though on purpose, see below)\n+     *\n+     * @param loginOrName the login or name by which to search users\n+     * @return the ResponseEntity with status 200 (OK) and with body all users\n+     */\n+    @GetMapping(\"/users/search\")\n+    @Secured({ AuthoritiesConstants.INSTRUCTOR, AuthoritiesConstants.ADMIN })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "645399d1731cb10f94306b30c015a6c8eb0d9eff"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3NDIyOA==", "bodyText": "They are equivalent in meaning but PreAuthorize seems to be the preferred approach nowadays since it is more powerful than Secured.\n\n@Secured annotation is a legacy Spring Security 2 annotation that can be used to configure method security. It supports more than only role-based security, but does not support using Spring Expression Language (SpEL) to specify security constraints. It is recommended to use the @PreAuthorize annotation in new applications over this annotation.\n\nSource: https://stackoverflow.com/a/57394049", "url": "https://github.com/ls1intum/Artemis/pull/1281#discussion_r399674228", "createdAt": "2020-03-28T15:25:21Z", "author": {"login": "madwau"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/UserResource.java", "diffHunk": "@@ -164,6 +166,26 @@ else if (managedUserVM.getGroups().stream().anyMatch(group -> !artemisAuthentica\n         return new ResponseEntity<>(page.getContent(), headers, HttpStatus.OK);\n     }\n \n+    /**\n+     * GET /users/search : search all users by login or name (result size is limited though on purpose, see below)\n+     *\n+     * @param loginOrName the login or name by which to search users\n+     * @return the ResponseEntity with status 200 (OK) and with body all users\n+     */\n+    @GetMapping(\"/users/search\")\n+    @Secured({ AuthoritiesConstants.INSTRUCTOR, AuthoritiesConstants.ADMIN })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg3MjExOA=="}, "originalCommit": {"oid": "645399d1731cb10f94306b30c015a6c8eb0d9eff"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3NDM3NA==", "bodyText": "UserResource was the only resource in the code base still using the legacy @Secured. I refactored all usages to equivalent PreAuthorize annotations instead.", "url": "https://github.com/ls1intum/Artemis/pull/1281#discussion_r399674374", "createdAt": "2020-03-28T15:26:56Z", "author": {"login": "madwau"}, "path": "src/main/java/de/tum/in/www1/artemis/web/rest/UserResource.java", "diffHunk": "@@ -164,6 +166,26 @@ else if (managedUserVM.getGroups().stream().anyMatch(group -> !artemisAuthentica\n         return new ResponseEntity<>(page.getContent(), headers, HttpStatus.OK);\n     }\n \n+    /**\n+     * GET /users/search : search all users by login or name (result size is limited though on purpose, see below)\n+     *\n+     * @param loginOrName the login or name by which to search users\n+     * @return the ResponseEntity with status 200 (OK) and with body all users\n+     */\n+    @GetMapping(\"/users/search\")\n+    @Secured({ AuthoritiesConstants.INSTRUCTOR, AuthoritiesConstants.ADMIN })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg3MjExOA=="}, "originalCommit": {"oid": "645399d1731cb10f94306b30c015a6c8eb0d9eff"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Mjc4ODgyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/shared/delete-dialog/delete-dialog.component.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDozNToyMlrOF8ZXFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDozNToyMlrOF8ZXFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg3NDM4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <span *ngSwitchCase=\"actionTypes.Remove\" jhiTranslate=\"entity.remove.title\">Confirm cleanup operation</span>\n          \n          \n            \n                        <span *ngSwitchCase=\"actionTypes.Remove\" jhiTranslate=\"entity.remove.title\">Confirm remove operation</span>", "url": "https://github.com/ls1intum/Artemis/pull/1281#discussion_r398874389", "createdAt": "2020-03-26T20:35:22Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/shared/delete-dialog/delete-dialog.component.html", "diffHunk": "@@ -4,6 +4,7 @@ <h4 class=\"modal-title\" [ngSwitch]=\"actionType\">\n             <span *ngSwitchCase=\"actionTypes.Delete\" jhiTranslate=\"entity.delete.title\">Confirm delete operation</span>\n             <span *ngSwitchCase=\"actionTypes.Reset\" jhiTranslate=\"entity.reset.title\">Confirm reset operation</span>\n             <span *ngSwitchCase=\"actionTypes.Cleanup\" jhiTranslate=\"entity.cleanup.title\">Confirm cleanup operation</span>\n+            <span *ngSwitchCase=\"actionTypes.Remove\" jhiTranslate=\"entity.remove.title\">Confirm cleanup operation</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "645399d1731cb10f94306b30c015a6c8eb0d9eff"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 80, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}