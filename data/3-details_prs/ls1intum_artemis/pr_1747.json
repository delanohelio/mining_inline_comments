{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMzUyNTY4", "number": 1747, "title": "Create participations for exam exercises if they don't exist", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on test server 3\n Client: I translated all the newly inserted strings into German and English\n\nMotivation and Context\n\n\nIf a instructor forgets to generate the participations, the participations are generated before starting an exercise on the client\nSteps for Testing\n\n\nPrepare an exam (no modeling exercises), but do not generate the participation for the exercises (don't click prepare exercise start)\nParticipating in exam should work as usual\nIf you are offline when navigating to the exercise for the very first time (not reproducible by reloading, the participation for that exercise must be deleted to have a new try) or the preparation (generation of participation or submission does not work) -> Error + retry button is shown - see screenshot\nTest for programming exercises (special case)\n\nKnown issues which will be tackled in follow up PRs:\n\nRetrying the generation of participations might fail, if the client for whatever reason don't get the server response, but the server does prepare the exercise (rare edge case)\nAfter trying the generation one time offline, the exercise is not drawn immediately when the retry to generate participations works (changing exercise solves that)\nProgramming exercises can be initiated, but the synchronization behavior does not work as expected until the first submission (look at the navigation bar)\n\nScreenshots\n\n\nGenerating Participation\n\nError occured", "createdAt": "2020-06-29T11:49:01Z", "url": "https://github.com/ls1intum/Artemis/pull/1747", "merged": true, "mergeCommit": {"oid": "a2396bc3241af7f2949336847bd1477db2a4c138"}, "closed": true, "closedAt": "2020-07-09T20:21:59Z", "author": {"login": "TobiasPr"}, "timelineItems": {"totalCount": 56, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcv_j_NgH2gAyNDQxMzUyNTY4OjFmYzFlNGM0MGY2OWJlNzc4NGYxNTcyNzA0YWEwYjAzODZlNzdmOWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczU9rAgFqTQ0MjA2NDY1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1fc1e4c40f69be7784f1572704aa0b0386e77f9e", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/1fc1e4c40f69be7784f1572704aa0b0386e77f9e", "committedDate": "2020-06-29T11:43:51Z", "message": "fix navigation bar for exercises without participation\ngenerate participation for exercise if it does not exist\nif error on generating participation -> show retry button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaedabcef79f3e44e8f8c6bc884b59fc8bc11476", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/aaedabcef79f3e44e8f8c6bc884b59fc8bc11476", "committedDate": "2020-06-29T11:56:31Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea807d752637d953ce9103aa97068e8b40ba0af3", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/ea807d752637d953ce9103aa97068e8b40ba0af3", "committedDate": "2020-06-29T12:56:04Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b259bd51dc8c4fa2a9579deef07dbf3a3d9945", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/b5b259bd51dc8c4fa2a9579deef07dbf3a3d9945", "committedDate": "2020-06-29T14:23:49Z", "message": "full check if all resources on client exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba6b85d15e05987f8ad224b54fee8534cacfd53", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/3ba6b85d15e05987f8ad224b54fee8534cacfd53", "committedDate": "2020-06-29T14:32:19Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/i18n/de/exam.json\n#\tsrc/main/webapp/i18n/en/exam.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcf9454b79967789db7cab4ba8b3b92c02bca3ec", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/dcf9454b79967789db7cab4ba8b3b92c02bca3ec", "committedDate": "2020-06-29T15:20:58Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b1796747879f7f532c5c7a6f2a1c410a8c4af23", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/9b1796747879f7f532c5c7a6f2a1c410a8c4af23", "committedDate": "2020-06-29T16:39:20Z", "message": "ignore submissions if there are none"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NDQyOTM0", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-439442934", "createdAt": "2020-06-29T19:37:39Z", "commit": {"oid": "9b1796747879f7f532c5c7a6f2a1c410a8c4af23"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "187198922677accfbbee7e1f4b23f06a4456f05a", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/187198922677accfbbee7e1f4b23f06a4456f05a", "committedDate": "2020-06-29T21:10:58Z", "message": "remove circular dependency when serializing to JSON\ndraw navigation bar without participation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NTQ3MTQ4", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-439547148", "createdAt": "2020-06-29T22:33:11Z", "commit": {"oid": "187198922677accfbbee7e1f4b23f06a4456f05a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMjozMzoxMVrOGqkx_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMjozMzoxMVrOGqkx_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI5NTk5OA==", "bodyText": "There is another edge case. It could be that starting the exercise did not work properly and studentParticipations[0].initializationState is not yet set to INITIALIZED, but to any \"previous\" enum value.\nThen, we also need to call startExercise on the server. The server will automatically determine the right steps to make sure the participation initialization is finished properly.\nThis is also the case for the course dashboard. If a participation is not fully initialized, Artemis still shows the \"start exercise\" button. You can also check exercise-utils.ts, however it uses a rather complex calculation which should not be necessary here.", "url": "https://github.com/ls1intum/Artemis/pull/1747#discussion_r447295998", "createdAt": "2020-06-29T22:33:11Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -90,35 +97,17 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n             // init studentExam and activeExercise\n             this.studentExam = studentExam;\n             this.activeExercise = studentExam.exercises[0];\n+            if (this.activeExercise.studentParticipations && this.activeExercise.studentParticipations.length === 0) {\n+                // subscribe to execute\n+                this.createParticipationForExercise(this.activeExercise).subscribe();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187198922677accfbbee7e1f4b23f06a4456f05a"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c17dcdbf773995475516d4d9ba764c2c046f46d", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/0c17dcdbf773995475516d4d9ba764c2c046f46d", "committedDate": "2020-06-30T06:31:17Z", "message": "add check if participation.initializationState === Initialized\nmake check in separate method\nreorder imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27d13b0140a8c2e4b201927b349a80b7c314ec61", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/27d13b0140a8c2e4b201927b349a80b7c314ec61", "committedDate": "2020-06-30T06:34:45Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.ts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5ODg1NTYw", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-439885560", "createdAt": "2020-06-30T10:32:18Z", "commit": {"oid": "27d13b0140a8c2e4b201927b349a80b7c314ec61"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0106413259f3e37d36679b4a559efb07f84d006e", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/0106413259f3e37d36679b4a559efb07f84d006e", "committedDate": "2020-06-30T16:03:14Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95b72896c8c8d5cb4cdc12d1e0d07e6d784cfeb3", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/95b72896c8c8d5cb4cdc12d1e0d07e6d784cfeb3", "committedDate": "2020-06-30T16:18:21Z", "message": "check if submissions exist before marking as unsynched"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3186d618adcb24064e4ad86d1d5464623bc1c721", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/3186d618adcb24064e4ad86d1d5464623bc1c721", "committedDate": "2020-06-30T16:55:48Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/exam-navigation-bar/exam-navigation-bar.component.ts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjQ4Njg0", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-440248684", "createdAt": "2020-06-30T17:44:39Z", "commit": {"oid": "3186d618adcb24064e4ad86d1d5464623bc1c721"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55217873dd878715ea00477290e0fda983198a65", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/55217873dd878715ea00477290e0fda983198a65", "committedDate": "2020-07-01T06:26:23Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.html\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.ts\n#\tsrc/main/webapp/i18n/de/exam.json\n#\tsrc/main/webapp/i18n/en/exam.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a94072a50614298f4559a966546da9bca924a0f", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/9a94072a50614298f4559a966546da9bca924a0f", "committedDate": "2020-07-01T10:01:52Z", "message": "initialize programming exercises differently\nupdate submission whenever we retrieve one for the programming exercises in exam-participation.component.ts studentExam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "231bdeb8c8fff69aa717682b5fef777a24a64442", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/231bdeb8c8fff69aa717682b5fef777a24a64442", "committedDate": "2020-07-01T10:18:50Z", "message": "make summary page more robust against missing participations/submissions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92b8050aec41ba7e0e25d1368425c3b5c3194280", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/92b8050aec41ba7e0e25d1368425c3b5c3194280", "committedDate": "2020-07-01T10:19:02Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6942ef0a93250d9aa27cfcccf90963db42f65892", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6942ef0a93250d9aa27cfcccf90963db42f65892", "committedDate": "2020-07-01T11:22:30Z", "message": "fix compiler error\ncollapse exercises based on exercise id not based on submission ids"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13329fa1bbd54d3dcc3770ebf4164dd4b738b006", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/13329fa1bbd54d3dcc3770ebf4164dd4b738b006", "committedDate": "2020-07-01T11:25:29Z", "message": "ng-container to template -> do not show always"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6575eee6876b5347d3bb5bab89fb59a42e52e1a8", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6575eee6876b5347d3bb5bab89fb59a42e52e1a8", "committedDate": "2020-07-01T12:06:33Z", "message": "translate no submission found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "055f761038f1d98d9760704af4f1aa477502bd83", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/055f761038f1d98d9760704af4f1aa477502bd83", "committedDate": "2020-07-02T10:24:34Z", "message": "one extra check if exercise has submission"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "681011dc2854faba4f5fd3a02c3900a23315ba44", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/681011dc2854faba4f5fd3a02c3900a23315ba44", "committedDate": "2020-07-02T10:44:11Z", "message": "bugfix: stupid angular compiler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81763cd1220683bab77c2d1c9388c8a1a26e660b", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/81763cd1220683bab77c2d1c9388c8a1a26e660b", "committedDate": "2020-07-02T13:53:21Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/exam-navigation-bar/exam-navigation-bar.component.ts\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.html\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.ts\n#\tsrc/main/webapp/i18n/de/exam.json\n#\tsrc/main/webapp/i18n/en/exam.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5420ba452adb66710f479297c981d264cf2e159", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/d5420ba452adb66710f479297c981d264cf2e159", "committedDate": "2020-07-02T14:05:10Z", "message": "renaming of collapsedSubmissionIds to collapsedExerciseIds caused this issue after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "857c6c848b7f1266578a21a65c6b42a4abe907c2", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/857c6c848b7f1266578a21a65c6b42a4abe907c2", "committedDate": "2020-07-02T15:03:52Z", "message": "reload submissions if exist in startExercise call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fedacc11a08e84bcc5f910c5c5319b31739327b9", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/fedacc11a08e84bcc5f910c5c5319b31739327b9", "committedDate": "2020-07-02T15:05:57Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee6fe2448cb12de6743bc5bd8d4e453e37dd5fbc", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/ee6fe2448cb12de6743bc5bd8d4e453e37dd5fbc", "committedDate": "2020-07-02T15:41:59Z", "message": "find the error here"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8edff5bb473aa605f4a2eff1f8f480ca91c40e67", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/8edff5bb473aa605f4a2eff1f8f480ca91c40e67", "committedDate": "2020-07-02T17:09:47Z", "message": "remove wrongly added @Transactional\nundo loading of submissions in case there already exists one"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5110cf3e7861b0498d277d450f04881282ab279d", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/5110cf3e7861b0498d277d450f04881282ab279d", "committedDate": "2020-07-02T17:11:24Z", "message": "remove TODO comment -> not relevant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f31bd0a04d5db0db79730de2e6fb8fddfbb78676", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/f31bd0a04d5db0db79730de2e6fb8fddfbb78676", "committedDate": "2020-07-02T19:01:46Z", "message": "check for submission in exam code editor before setting sync state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3044635f1c74cd5ea27a670b1cc8265986b6d58", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/b3044635f1c74cd5ea27a670b1cc8265986b6d58", "committedDate": "2020-07-02T19:22:26Z", "message": "remove code style errors,\nremove unsused flag on save (internalSave, which wasn't used anywhere)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6732c5be70d5a04d1ac98eebf46a3804d729c433", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6732c5be70d5a04d1ac98eebf46a3804d729c433", "committedDate": "2020-07-02T22:35:47Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "595340158a3503651b4432b770f7a281e156a63c", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/595340158a3503651b4432b770f7a281e156a63c", "committedDate": "2020-07-02T22:08:40Z", "message": "another test to interupt circular dependency"}, "afterCommit": {"oid": "6732c5be70d5a04d1ac98eebf46a3804d729c433", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6732c5be70d5a04d1ac98eebf46a3804d729c433", "committedDate": "2020-07-02T22:35:47Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97cab67f43cba808a26d6ec60e1b0572bb047ba8", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/97cab67f43cba808a26d6ec60e1b0572bb047ba8", "committedDate": "2020-07-02T23:06:23Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/exam-participation.component.ts\n#\tsrc/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts\n#\tsrc/main/webapp/app/exam/participate/summary/exam-participation-summary.component.html\n#\tsrc/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts\n#\tsrc/main/webapp/i18n/de/exam.json\n#\tsrc/main/webapp/i18n/en/exam.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7ec4c5d81269a3ea390edb21cd1fd8df14ea703", "author": {"user": {"login": "krusche", "name": "Stephan Krusche"}}, "url": "https://github.com/ls1intum/Artemis/commit/a7ec4c5d81269a3ea390edb21cd1fd8df14ea703", "committedDate": "2020-07-02T23:09:13Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDQyMjg2", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-442042286", "createdAt": "2020-07-02T22:00:35Z", "commit": {"oid": "e9b7eafd1f2cf8465d4b5447c0f58627e99684fe"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMjowMDozNVrOGseK_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMzoxMDoxOVrOGsfV0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NDg2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * checks collapse control of exercise cards depending on submissionId\n          \n          \n            \n                 * checks collapse control of exercise cards depending on exerciseId", "url": "https://github.com/ls1intum/Artemis/pull/1747#discussion_r449284863", "createdAt": "2020-07-02T22:00:35Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts", "diffHunk": "@@ -34,44 +34,58 @@ export class ExamParticipationSummaryComponent {\n      */\n     printPDF() {\n         // expand all exercises before printing\n-        this.collapsedSubmissionIds = [];\n+        this.collapsedExerciseIds = [];\n         setTimeout(() => window.print());\n     }\n \n     /**\n      * @param exercise\n-     * returns the students submission for the specific exercise\n+     * returns the students submission for the exercise, null if no participation could be found\n      */\n-    getSubmissionForExercise(exercise: Exercise): Submission {\n-        return exercise.studentParticipations[0].submissions[0];\n+    getSubmissionForExercise(exercise: Exercise): Submission | null {\n+        if (\n+            exercise &&\n+            exercise.studentParticipations &&\n+            exercise.studentParticipations[0] &&\n+            exercise.studentParticipations[0].submissions &&\n+            exercise.studentParticipations[0].submissions[0]\n+        ) {\n+            return exercise.studentParticipations[0].submissions[0];\n+        } else {\n+            return null;\n+        }\n     }\n \n     /**\n      * @param exercise\n-     * returns the students submission for the specific exercise\n+     * returns the students submission for the exercise, null if no participation could be found\n      */\n-    getParticipationForProgrammingExercise(exercise: Exercise): Participation {\n-        return exercise.studentParticipations[0];\n+    getParticipationForExercise(exercise: Exercise): Participation | null {\n+        if (exercise.studentParticipations && exercise.studentParticipations[0]) {\n+            return exercise.studentParticipations[0];\n+        } else {\n+            return null;\n+        }\n     }\n \n     /**\n-     * @param submissionId\n+     * @param exerciseId\n      * checks collapse control of exercise cards depending on submissionId", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9b7eafd1f2cf8465d4b5447c0f58627e99684fe"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NDk2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * adds collapse control of exercise cards depending on submissionId\n          \n          \n            \n                 * adds collapse control of exercise cards depending on exerciseId", "url": "https://github.com/ls1intum/Artemis/pull/1747#discussion_r449284967", "createdAt": "2020-07-02T22:00:56Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts", "diffHunk": "@@ -34,44 +34,58 @@ export class ExamParticipationSummaryComponent {\n      */\n     printPDF() {\n         // expand all exercises before printing\n-        this.collapsedSubmissionIds = [];\n+        this.collapsedExerciseIds = [];\n         setTimeout(() => window.print());\n     }\n \n     /**\n      * @param exercise\n-     * returns the students submission for the specific exercise\n+     * returns the students submission for the exercise, null if no participation could be found\n      */\n-    getSubmissionForExercise(exercise: Exercise): Submission {\n-        return exercise.studentParticipations[0].submissions[0];\n+    getSubmissionForExercise(exercise: Exercise): Submission | null {\n+        if (\n+            exercise &&\n+            exercise.studentParticipations &&\n+            exercise.studentParticipations[0] &&\n+            exercise.studentParticipations[0].submissions &&\n+            exercise.studentParticipations[0].submissions[0]\n+        ) {\n+            return exercise.studentParticipations[0].submissions[0];\n+        } else {\n+            return null;\n+        }\n     }\n \n     /**\n      * @param exercise\n-     * returns the students submission for the specific exercise\n+     * returns the students submission for the exercise, null if no participation could be found\n      */\n-    getParticipationForProgrammingExercise(exercise: Exercise): Participation {\n-        return exercise.studentParticipations[0];\n+    getParticipationForExercise(exercise: Exercise): Participation | null {\n+        if (exercise.studentParticipations && exercise.studentParticipations[0]) {\n+            return exercise.studentParticipations[0];\n+        } else {\n+            return null;\n+        }\n     }\n \n     /**\n-     * @param submissionId\n+     * @param exerciseId\n      * checks collapse control of exercise cards depending on submissionId\n      */\n-    isCollapsed(submissionId: number): boolean {\n-        return this.collapsedSubmissionIds.includes(submissionId);\n+    isCollapsed(exerciseId: number): boolean {\n+        return this.collapsedExerciseIds.includes(exerciseId);\n     }\n \n     /**\n-     * @param submissionId\n+     * @param exerciseId\n      * adds collapse control of exercise cards depending on submissionId", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9b7eafd1f2cf8465d4b5447c0f58627e99684fe"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMwNDAxOA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/ls1intum/Artemis/pull/1747#discussion_r449304018", "createdAt": "2020-07-02T23:10:19Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -27,6 +30,8 @@ import { throttleTime } from 'rxjs/operators';\n import * as moment from 'moment';\n import { Moment } from 'moment';\n \n+type GenerateParticipationStatus = 'generating' | 'failed' | 'success';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7ec4c5d81269a3ea390edb21cd1fd8df14ea703"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd90cec54e2fccaa6ced1d10049026ffa8d95280", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/bd90cec54e2fccaa6ced1d10049026ffa8d95280", "committedDate": "2020-07-02T23:24:55Z", "message": "renaming of comments after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d5e69974fcd8fdfe8976046f240e7141eab275a", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/6d5e69974fcd8fdfe8976046f240e7141eab275a", "committedDate": "2020-07-02T23:25:09Z", "message": "Merge remote-tracking branch 'origin/feature/exam/create_participation_if_it_does_not_exist' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "178b4179cbe5d382a8a7877614c519388ee6a865", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/178b4179cbe5d382a8a7877614c519388ee6a865", "committedDate": "2020-07-03T12:02:26Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/summary/exam-participation-summary.component.html"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjU3MDEx", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-442657011", "createdAt": "2020-07-05T08:20:28Z", "commit": {"oid": "178b4179cbe5d382a8a7877614c519388ee6a865"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f5c826a830fd018b1cf7efd80e0d1103c00adde", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/2f5c826a830fd018b1cf7efd80e0d1103c00adde", "committedDate": "2020-07-07T06:58:50Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist\n\n# Conflicts:\n#\tsrc/main/webapp/app/exam/participate/summary/exam-participation-summary.component.html\n#\tsrc/main/webapp/app/exam/participate/summary/exam-participation-summary.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8953644c391c68519ffaf224e7591b2b2221ac77", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/8953644c391c68519ffaf224e7591b2b2221ac77", "committedDate": "2020-07-07T07:23:53Z", "message": "refactoring, make method return types more specific, rename index in setExerciseButtonStatus, add function to get submission for exercise.\nFix: If no submission exists -> display tooltip of synced exercise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4afbe64ac31edaee5ab45c5a1201622d56391f76", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/4afbe64ac31edaee5ab45c5a1201622d56391f76", "committedDate": "2020-07-07T09:11:07Z", "message": "set submission.submitted = true in case we had at least one successful submission -> exam summary is correctly displayed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "950015df1fe098b232dde110e3cf1e23b49bda70", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/950015df1fe098b232dde110e3cf1e23b49bda70", "committedDate": "2020-07-07T15:03:55Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89c0bcb9f89a19b960168b5f72afc8420462bce7", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/89c0bcb9f89a19b960168b5f72afc8420462bce7", "committedDate": "2020-07-07T15:04:51Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NTg2NTc5", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-444586579", "createdAt": "2020-07-08T09:49:09Z", "commit": {"oid": "89c0bcb9f89a19b960168b5f72afc8420462bce7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjIzMDMx", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-444623031", "createdAt": "2020-07-08T10:41:18Z", "commit": {"oid": "89c0bcb9f89a19b960168b5f72afc8420462bce7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NzgwOTEx", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-444780911", "createdAt": "2020-07-08T13:46:50Z", "commit": {"oid": "89c0bcb9f89a19b960168b5f72afc8420462bce7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0ODI1NTQx", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-444825541", "createdAt": "2020-07-08T14:30:41Z", "commit": {"oid": "89c0bcb9f89a19b960168b5f72afc8420462bce7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "818181df9baf4186c99277998c698a12473e8e97", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/818181df9baf4186c99277998c698a12473e8e97", "committedDate": "2020-07-09T14:01:44Z", "message": "Merge branch 'develop' into feature/exam/create_participation_if_it_does_not_exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d34afaa53d137bf3e274bd39719c2c4e5850ae6f", "author": {"user": {"login": "TobiasPr", "name": "Tobias Priesching"}}, "url": "https://github.com/ls1intum/Artemis/commit/d34afaa53d137bf3e274bd39719c2c4e5850ae6f", "committedDate": "2020-07-09T14:16:23Z", "message": "adding checks for submissions before setting isSynced"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDY0NjU4", "url": "https://github.com/ls1intum/Artemis/pull/1747#pullrequestreview-442064658", "createdAt": "2020-07-02T23:10:27Z", "commit": {"oid": "97cab67f43cba808a26d6ec60e1b0572bb047ba8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2561, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}