{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNzQ2NTEy", "number": 2122, "title": "Use Text Blocks", "bodyText": "Checklist\n\n This PR only changes test code\n I checked that all Java tests still work on GitHub, Bamboo and locally.\n\nMotivation and Context\nWe switched to Java 15 which offers text blocks, see https://openjdk.java.net/jeps/378.\nReplace formatted, multiline strings that are hard to read by formatted text blocks.\nNote: this excludes SQL/HQL strings which will be addressed in smaller follow-up PRs.\nDescription\nReplaced the strings by text blocks. Currently, only strings that span multiple lines are changed.\nMost of the changes affect only test code, with a large proportion of that being mock requests and alike.\nThis means that\n\"ABC\\n\" + \"    xyz\\n\" +\n\"something long\\n\"\nis replaced by\n\"\"\"\nABC\n    xyz\nsomething long\n\"\"\"\nSome things you should know about text blocks\n\nThe position of the first \"\"\" introducing the text block has no effect, but it must be directly followed by a line break.\nLine breaks in the text block are preserved by default and always of the LF (\\n) type. The one after the \"\"\" does not count.\nA line break can be prevented by ending the line with \\.\nWindows line endings can be archived by ending a line with \\r (which is then followed by the implicit \\n).\nWhitespace at the end of the line is removed (unless an escaped space \\s is added at the very end).\nSingle \" and double \"\" do not need to be escaped in a text block.\nA text block ends with \"\"\". Examples:\n\"abc\" == \"\"\"\n         abc\"\"\"\n\n\"abc\\n\" == \"\"\"\n           abc\n           \"\"\"\n\n\"  abc\\n\" == \"\"\"\n             abc\n           \"\"\"\n\nWhitespace at the start of each line is removed as much as it is possible to do consistently. This means that the minimal number of whitespace characters that any line starts with is then removed from all lines. (See e.g. the last example of the point above)\n\nSteps for Testing\n\nRun the server tests on your system\nCheck the code\nCheck that most of the system still works on a test server / locally.", "createdAt": "2020-09-24T23:17:56Z", "url": "https://github.com/ls1intum/Artemis/pull/2122", "merged": true, "mergeCommit": {"oid": "9dc0d4fca55c39d2c5da47d212736f44eb23aa4b"}, "closed": true, "closedAt": "2020-10-13T08:09:47Z", "author": {"login": "MaisiKoleni"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMI7zIgH2gAyNDkyNzQ2NTEyOmQzNjU5OWYxYzc5YWRiZTY0YjlhMmNjMGVkM2YzNWRiZGJjYWNjMzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSEAa0gFqTUwNzE3MjUwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d36599f1c79adbe64b9a2cc0ed3f35dbdbcacc30", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/d36599f1c79adbe64b9a2cc0ed3f35dbdbcacc30", "committedDate": "2020-09-24T22:28:53Z", "message": "Use text block for request body of LtiIntegrationTest\n\nNote: \"\\\" at the end of a line inside a text block prevents a new line \\n from being inserted. This keeps the String on a single line while being formatted and well readable at the same time."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8db45486c202e1901e30f6b91750a5cda6aafb41", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/8db45486c202e1901e30f6b91750a5cda6aafb41", "committedDate": "2020-09-24T22:33:40Z", "message": "Use text blocks for the mock requests in ProgrammingSubmissionConstants\n\nNote: \\\" is now replaced with \" because escaping \" is not required in a text block. JSON looks much more like JSON now."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fafb3b2d5e48cc42a90b2224da62dffc0dc8ae97", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/fafb3b2d5e48cc42a90b2224da62dffc0dc8ae97", "committedDate": "2020-09-24T22:36:34Z", "message": "Use text blocks for the test files' content in FileServiceTest\n\nNote: by ending each line with \"\\r\", we can keep the Windows CRLF endings in the text block. Newlines in text blocks themselves are always just \"\\n\"."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b5d8229ef8d0ff3d93295b602db7a503f79ad5a", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/0b5d8229ef8d0ff3d93295b602db7a503f79ad5a", "committedDate": "2020-09-24T22:41:46Z", "message": "Use text block for the too-long-multiline-result string test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f421c7a383fb16d0931be240bc1b3cd5c1810e9f", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/f421c7a383fb16d0931be240bc1b3cd5c1810e9f", "committedDate": "2020-09-25T15:34:52Z", "message": "Merge branch 'develop' into chore/use-text-blocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5e913bc51440e315e72612448b48978e53e0e02", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/b5e913bc51440e315e72612448b48978e53e0e02", "committedDate": "2020-09-28T11:57:53Z", "message": "Merge branch 'develop' into chore/use-text-blocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ead971fdb712d88182a43ec2c8980b6e37fff409", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/ead971fdb712d88182a43ec2c8980b6e37fff409", "committedDate": "2020-10-09T16:38:45Z", "message": "Merge branch 'develop' into chore/use-text-blocks\n\nConflicts:\n\tsrc/test/java/de/tum/in/www1/artemis/programmingexercise/ProgrammingAssessmentIntegrationTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57ad9ddd47665f7e3bd1de15dcd8bb15958f187b", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/57ad9ddd47665f7e3bd1de15dcd8bb15958f187b", "committedDate": "2020-10-09T16:39:13Z", "message": "Use text blocks for text submission constants and move them to own file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3957867ad67764512b87940c3a7772af903add32", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/3957867ad67764512b87940c3a7772af903add32", "committedDate": "2020-10-09T16:39:22Z", "message": "Use test blocks for all test diagrams for the compass service"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "095b4478b1af85a0cbf07fe96dd633400bbd731e", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/095b4478b1af85a0cbf07fe96dd633400bbd731e", "committedDate": "2020-10-09T15:32:38Z", "message": "Use test blocks for all test diagrams for the compass service"}, "afterCommit": {"oid": "3957867ad67764512b87940c3a7772af903add32", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/3957867ad67764512b87940c3a7772af903add32", "committedDate": "2020-10-09T16:39:22Z", "message": "Use test blocks for all test diagrams for the compass service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzUxOTYw", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506751960", "createdAt": "2020-10-12T16:11:58Z", "commit": {"oid": "3957867ad67764512b87940c3a7772af903add32"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57", "author": {"user": {"login": "MaisiKoleni", "name": "Christian Femers"}}, "url": "https://github.com/ls1intum/Artemis/commit/989826e03689c3cab17032a9d1544443688b5f57", "committedDate": "2020-10-12T21:50:24Z", "message": "Replace JSON text blocks by .json files in the test resource folder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4NjMy", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998632", "createdAt": "2020-10-13T00:44:46Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0NlrOHgRssw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0NlrOHgRssw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ1MQ==", "bodyText": "Codacy found an issue: The utility class name 'UMLActivityDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606451", "createdAt": "2020-10-13T00:44:46Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/activity/UMLActivityDiagrams.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.activity;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLActivityDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4NjM5", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998639", "createdAt": "2020-10-13T00:44:47Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0N1rOHgRstw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0N1rOHgRstw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ1NQ==", "bodyText": "Codacy found an issue: The utility class name 'UMLUseCaseDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606455", "createdAt": "2020-10-13T00:44:47Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/usecase/UMLUseCaseDiagrams.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.usecase;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLUseCaseDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4NjQ1", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998645", "createdAt": "2020-10-13T00:44:48Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0OFrOHgRsvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0OFrOHgRsvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ2MQ==", "bodyText": "Codacy found an issue: The utility class name 'UMLCommunicationDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606461", "createdAt": "2020-10-13T00:44:48Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/communication/UMLCommunicationDiagrams.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.communication;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLCommunicationDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4NjU3", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998657", "createdAt": "2020-10-13T00:44:49Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0OVrOHgRsxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo0OVrOHgRsxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ2OA==", "bodyText": "Codacy found an issue: The utility class name 'UMLObjectDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606468", "createdAt": "2020-10-13T00:44:49Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/object/UMLObjectDiagrams.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.object;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLObjectDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4NjY3", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998667", "createdAt": "2020-10-13T00:44:51Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1MVrOHgRszg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1MVrOHgRszg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ3OA==", "bodyText": "Codacy found an issue: The utility class name 'UMLComponentDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606478", "createdAt": "2020-10-13T00:44:51Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/component/UMLComponentDiagrams.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.component;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLComponentDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4Njc0", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998674", "createdAt": "2020-10-13T00:44:52Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1MlrOHgRs1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1MlrOHgRs1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ4NA==", "bodyText": "Codacy found an issue: The utility class name 'UMLClassDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606484", "createdAt": "2020-10-13T00:44:52Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/classdiagram/UMLClassDiagrams.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.classdiagram;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLClassDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTk4Njg1", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-506998685", "createdAt": "2020-10-13T00:44:53Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1M1rOHgRs2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMDo0NDo1M1rOHgRs2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzYwNjQ5MQ==", "bodyText": "Codacy found an issue: The utility class name 'UMLDeploymentDiagrams' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper|Constants)'", "url": "https://github.com/ls1intum/Artemis/pull/2122#discussion_r503606491", "createdAt": "2020-10-13T00:44:53Z", "author": {"login": "artemis-bot"}, "path": "src/test/java/de/tum/in/www1/artemis/service/compass/umlmodel/deployment/UMLDeploymentDiagrams.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package de.tum.in.www1.artemis.service.compass.umlmodel.deployment;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.charset.StandardCharsets;\n+\n+import org.apache.commons.io.IOUtils;\n+\n+final class UMLDeploymentDiagrams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTcyNTAw", "url": "https://github.com/ls1intum/Artemis/pull/2122#pullrequestreview-507172500", "createdAt": "2020-10-13T08:07:57Z", "commit": {"oid": "989826e03689c3cab17032a9d1544443688b5f57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4212, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}