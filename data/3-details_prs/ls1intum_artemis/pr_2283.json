{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNzI3ODM4", "number": 2283, "title": "Add breadcrumb navigation", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\nSee #2097.\nDescription\nAdded bread crumbs to the navigation bar in the top. This is currently restricted to users above the \"normal\" user (tutors, instructors, admins) and to the routes <base-url>/#/admin and <base-url>/#/course-management. Better labelling (e.g. a course name instead of the id) will be added in a future PR.\nSteps for Testing\n\nOpen pages matching the routes <base-url>/#/admin or <base-url>/#/course-management and check the crumbs are correctly displayed and work\nCheck that users without extra permissions don't get crumbs\n\nNote: Only test that the links work the same as if you typed it in the browser. Not all crumbs make sense right now since some of them are redirects. (Especially the view pages need to go. That is part of the reason we don't show it to normal users yet.)\nScreenshots\nExamples:", "createdAt": "2020-10-27T12:48:22Z", "url": "https://github.com/ls1intum/Artemis/pull/2283", "merged": true, "mergeCommit": {"oid": "1d1d75101a230c317d74822fb48aa6a0634e9179"}, "closed": true, "closedAt": "2020-11-05T23:17:02Z", "author": {"login": "FrankeLukas"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWoYEuAH2gAyNTEwNzI3ODM4OmM0MWFhZGUyMTc0MjA2MmRlZTM5ZTNiNzBlZjU1NTA4NzJjZWM4NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZqyuzAFqTUyNDc0NzAwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c41aade21742062dee39e3b70ef5550872cec852", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/c41aade21742062dee39e3b70ef5550872cec852", "committedDate": "2020-10-27T12:46:04Z", "message": "Add breadcrumb navigation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34276da6f2820a9f25a109fd7f8e1be1c0aa6b72", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/34276da6f2820a9f25a109fd7f8e1be1c0aa6b72", "committedDate": "2020-10-28T23:12:12Z", "message": "Fixup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTg1MTI0", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-519985124", "createdAt": "2020-10-29T19:02:22Z", "commit": {"oid": "34276da6f2820a9f25a109fd7f8e1be1c0aa6b72"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxOTowMjoyMlrOHqqesw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxOTowMjoyMlrOHqqesw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5ODIyNw==", "bodyText": "can we use a modern for loop here?", "url": "https://github.com/ls1intum/Artemis/pull/2283#discussion_r514498227", "createdAt": "2020-10-29T19:02:22Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/shared/layouts/navbar/navbar.component.ts", "diffHunk": "@@ -95,6 +99,19 @@ export class NavbarComponent implements OnInit, OnDestroy {\n         }\n     }\n \n+    buildBreadcrumbs(fullURI: string) {\n+        this.breadcrumbs = [];\n+        let path = '';\n+        const parts = fullURI.split('/');\n+        for (let i = 0; i < parts.length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34276da6f2820a9f25a109fd7f8e1be1c0aa6b72"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6730592f284a60db98fbeb4aff186346a4f70369", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/6730592f284a60db98fbeb4aff186346a4f70369", "committedDate": "2020-10-29T20:04:20Z", "message": "Review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjI2NDEw", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-521226410", "createdAt": "2020-11-01T13:50:19Z", "commit": {"oid": "6730592f284a60db98fbeb4aff186346a4f70369"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a601913d3ba326882ff1aedc8ea7e2dcfe65127", "author": {"user": {"login": "jpbernius", "name": "Jan Philip Bernius"}}, "url": "https://github.com/ls1intum/Artemis/commit/1a601913d3ba326882ff1aedc8ea7e2dcfe65127", "committedDate": "2020-11-03T23:42:34Z", "message": "Merge branch 'develop' into feature/navigation/breadcrumbs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8", "author": {"user": {"login": "fde312", "name": "Francisco De las Casas Young"}}, "url": "https://github.com/ls1intum/Artemis/commit/8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8", "committedDate": "2020-11-05T08:07:52Z", "message": "Merge branch 'develop' into feature/navigation/breadcrumbs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NDgyNTA3", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524482507", "createdAt": "2020-11-05T17:12:15Z", "commit": {"oid": "8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NjgyNzEw", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524682710", "createdAt": "2020-11-05T21:22:25Z", "commit": {"oid": "8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMToyMjoyNVrOHuXK-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMToyMjoyNVrOHuXK-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM3NjE4Nw==", "bodyText": "I think you can change it to something like this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    const parts = fullURI.split('/');\n          \n          \n            \n                    for (const part of parts) {\n          \n          \n            \n                        const crumb = new Breadcrumb();\n          \n          \n            \n                        crumb.label = part;\n          \n          \n            \n                        path += part + '/';\n          \n          \n            \n                        crumb.uri = path;\n          \n          \n            \n                        this.breadcrumbs[index++] = crumb;\n          \n          \n            \n                    }\n          \n          \n            \n                    this.breadcrumbs = parts.map(part => {\n          \n          \n            \n                path += part + '/';\n          \n          \n            \n                return {label: part, uri: path}\n          \n          \n            \n            })", "url": "https://github.com/ls1intum/Artemis/pull/2283#discussion_r518376187", "createdAt": "2020-11-05T21:22:25Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/shared/layouts/navbar/navbar.component.ts", "diffHunk": "@@ -95,6 +99,24 @@ export class NavbarComponent implements OnInit, OnDestroy {\n         }\n     }\n \n+    buildBreadcrumbs(fullURI: string) {\n+        this.breadcrumbs = [];\n+        // Temporarily restrict routes\n+        if (!fullURI.startsWith('/admin') && !fullURI.startsWith('/course-management')) {\n+            return;\n+        }\n+        let path = '';\n+        let index = 0;\n+        const parts = fullURI.split('/');\n+        for (const part of parts) {\n+            const crumb = new Breadcrumb();\n+            crumb.label = part;\n+            path += part + '/';\n+            crumb.uri = path;\n+            this.breadcrumbs[index++] = crumb;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0Njg1Mzk0", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524685394", "createdAt": "2020-11-05T21:26:28Z", "commit": {"oid": "8f60b0d05acafc9eaa68079e174dcd2eef2e2ae8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba29a8052b63f0a8a3f5137e81314f9add826a03", "author": {"user": {"login": "fde312", "name": "Francisco De las Casas Young"}}, "url": "https://github.com/ls1intum/Artemis/commit/ba29a8052b63f0a8a3f5137e81314f9add826a03", "committedDate": "2020-11-05T21:28:19Z", "message": "Merge branch 'develop' into feature/navigation/breadcrumbs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NjkzMTcw", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524693170", "createdAt": "2020-11-05T21:39:11Z", "commit": {"oid": "ba29a8052b63f0a8a3f5137e81314f9add826a03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0Njk1MzY0", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524695364", "createdAt": "2020-11-05T21:42:50Z", "commit": {"oid": "ba29a8052b63f0a8a3f5137e81314f9add826a03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzQ3MDAw", "url": "https://github.com/ls1intum/Artemis/pull/2283#pullrequestreview-524747000", "createdAt": "2020-11-05T23:16:46Z", "commit": {"oid": "ba29a8052b63f0a8a3f5137e81314f9add826a03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3966, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}