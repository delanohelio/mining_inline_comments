{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNjExMjA1", "number": 1368, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzo1NDozN1rOD4JaqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwOToyNDowOVrOD4U0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjAxMTI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzo1NDozN1rOGO0KmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODo0NzozOVrOGO194Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4NzkyOA==", "bodyText": "Why do you fetch again? I think you can simply cast the java object here", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418187928", "createdAt": "2020-04-30T17:54:37Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -372,4 +372,15 @@ private void setAssignedTeamIdForExerciseAndUser(Exercise exercise, User user) {\n             });\n         }\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {\n+        if (exercise instanceof ProgrammingExercise) {\n+            exercise.setTestRepositoryUrlTransient(programmingExerciseService.findByIdWithEagerStudentParticipations(exercise.getId()).getTestRepositoryUrl());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6782106ec2f7c76133e0da4e99b30c74d392d9b6"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIxNzQ0MQ==", "bodyText": "Yes, you are right, thank you for the tip", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418217441", "createdAt": "2020-04-30T18:47:39Z", "author": {"login": "F4lka"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -372,4 +372,15 @@ private void setAssignedTeamIdForExerciseAndUser(Exercise exercise, User user) {\n             });\n         }\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {\n+        if (exercise instanceof ProgrammingExercise) {\n+            exercise.setTestRepositoryUrlTransient(programmingExerciseService.findByIdWithEagerStudentParticipations(exercise.getId()).getTestRepositoryUrl());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4NzkyOA=="}, "originalCommit": {"oid": "6782106ec2f7c76133e0da4e99b30c74d392d9b6"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjAxNzM1OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/domain/Exercise.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzo1NjoxOFrOGO0OWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOToyNjozNlrOGO3P0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4ODg5MQ==", "bodyText": "You misunderstood me. Do not set the string again here. Use a transient Boolean in ProgrammingExercise called isLocalSimulation (or similar) and only set this to true if the url includes artemislocal (Same Check as on the client)", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418188891", "createdAt": "2020-04-30T17:56:18Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Exercise.java", "diffHunk": "@@ -172,6 +172,9 @@\n     @Transient\n     private Long studentAssignedTeamIdTransient; // id of the team that the logged-in user is assigned to (only relevant if team mode is enabled)\n \n+    @Transient\n+    private String testRepositoryUrlTransient;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6782106ec2f7c76133e0da4e99b30c74d392d9b6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIzNjk2NQ==", "bodyText": "please still move this to ProgrammingExercise.java", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418236965", "createdAt": "2020-04-30T19:23:54Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Exercise.java", "diffHunk": "@@ -172,6 +172,9 @@\n     @Transient\n     private Long studentAssignedTeamIdTransient; // id of the team that the logged-in user is assigned to (only relevant if team mode is enabled)\n \n+    @Transient\n+    private String testRepositoryUrlTransient;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4ODg5MQ=="}, "originalCommit": {"oid": "6782106ec2f7c76133e0da4e99b30c74d392d9b6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIzODQxNw==", "bodyText": "Alright, i updated the transient property", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418238417", "createdAt": "2020-04-30T19:26:36Z", "author": {"login": "F4lka"}, "path": "src/main/java/de/tum/in/www1/artemis/domain/Exercise.java", "diffHunk": "@@ -172,6 +172,9 @@\n     @Transient\n     private Long studentAssignedTeamIdTransient; // id of the team that the logged-in user is assigned to (only relevant if team mode is enabled)\n \n+    @Transient\n+    private String testRepositoryUrlTransient;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4ODg5MQ=="}, "originalCommit": {"oid": "6782106ec2f7c76133e0da4e99b30c74d392d9b6"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjMxMjQ3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/app/entities/exercise.model.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOToyNDoyMVrOGO3LDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMDowODo1NlrOGO4iiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIzNzE5Nw==", "bodyText": "move to ProgrammingExercise", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418237197", "createdAt": "2020-04-30T19:24:21Z", "author": {"login": "krusche"}, "path": "src/main/webapp/app/entities/exercise.model.ts", "diffHunk": "@@ -88,6 +88,7 @@ export abstract class Exercise implements BaseEntity {\n     public numberOfMoreFeedbackRequests?: number;\n     public numberOfOpenMoreFeedbackRequests?: number;\n     public studentAssignedTeamId?: number;\n+    public isLocalSimulation?: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47ea7aef26c96fec20f6953369aeeb8f91ea887b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1OTU5Mg==", "bodyText": "i moved it to the programming exercise", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418259592", "createdAt": "2020-04-30T20:08:56Z", "author": {"login": "F4lka"}, "path": "src/main/webapp/app/entities/exercise.model.ts", "diffHunk": "@@ -88,6 +88,7 @@ export abstract class Exercise implements BaseEntity {\n     public numberOfMoreFeedbackRequests?: number;\n     public numberOfOpenMoreFeedbackRequests?: number;\n     public studentAssignedTeamId?: number;\n+    public isLocalSimulation?: boolean;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIzNzE5Nw=="}, "originalCommit": {"oid": "47ea7aef26c96fec20f6953369aeeb8f91ea887b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMzg3ODI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwOToyMzo1NFrOGPFt-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxMzoxMzoxMVrOGPJWCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ3NTUxMg==", "bodyText": "please rename the method, it does not reflect what is done here.", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418475512", "createdAt": "2020-05-01T09:23:54Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "diffHunk": "@@ -777,4 +777,16 @@ public long countSubmissionsByCourseIdSubmitted(Long courseId) {\n         log.debug(\"countSubmissionsByCourseIdSubmitted took \" + (System.currentTimeMillis() - start) + \"ms\");\n         return count;\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c02d337089cfa864ab9e32e4f5d8e6e135ab6e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUzNDkyMg==", "bodyText": "i renamed the method to checksAndSetsIfProgrammingExerciseIsLocalSimulation", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418534922", "createdAt": "2020-05-01T13:13:11Z", "author": {"login": "F4lka"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "diffHunk": "@@ -777,4 +777,16 @@ public long countSubmissionsByCourseIdSubmitted(Long courseId) {\n         log.debug(\"countSubmissionsByCourseIdSubmitted took \" + (System.currentTimeMillis() - start) + \"ms\");\n         return count;\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ3NTUxMg=="}, "originalCommit": {"oid": "70c02d337089cfa864ab9e32e4f5d8e6e135ab6e"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMzg3ODg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwOToyNDowOVrOGPFuRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxMzoxNDowMVrOGPJXLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ3NTU4OQ==", "bodyText": "I would only set this value if it is a local simulation", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418475589", "createdAt": "2020-05-01T09:24:09Z", "author": {"login": "krusche"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "diffHunk": "@@ -777,4 +777,16 @@ public long countSubmissionsByCourseIdSubmitted(Long courseId) {\n         log.debug(\"countSubmissionsByCourseIdSubmitted took \" + (System.currentTimeMillis() - start) + \"ms\");\n         return count;\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {\n+        if (exercise instanceof ProgrammingExercise) {\n+            boolean isLocalSimulation = (((ProgrammingExercise) exercise).getTestRepositoryUrl()).contains(\"artemislocalhost\");\n+            ((ProgrammingExercise) exercise).setIsLocalSimulation(isLocalSimulation);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c02d337089cfa864ab9e32e4f5d8e6e135ab6e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODUzNTIxNA==", "bodyText": "now the value will be only set if it is a local simulation", "url": "https://github.com/ls1intum/Artemis/pull/1368#discussion_r418535214", "createdAt": "2020-05-01T13:14:01Z", "author": {"login": "F4lka"}, "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingExerciseService.java", "diffHunk": "@@ -777,4 +777,16 @@ public long countSubmissionsByCourseIdSubmitted(Long courseId) {\n         log.debug(\"countSubmissionsByCourseIdSubmitted took \" + (System.currentTimeMillis() - start) + \"ms\");\n         return count;\n     }\n+\n+    /**\n+     * Sets the transient attribute \"testRepositoryUrl\" if the exercises is a programming exercise\n+     *\n+     * @param exercise the exercise for which to set the url\n+     */\n+    public void setTestRepositoryUrlForProgrammingExercise(Exercise exercise) {\n+        if (exercise instanceof ProgrammingExercise) {\n+            boolean isLocalSimulation = (((ProgrammingExercise) exercise).getTestRepositoryUrl()).contains(\"artemislocalhost\");\n+            ((ProgrammingExercise) exercise).setIsLocalSimulation(isLocalSimulation);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ3NTU4OQ=="}, "originalCommit": {"oid": "70c02d337089cfa864ab9e32e4f5d8e6e135ab6e"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 135, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}