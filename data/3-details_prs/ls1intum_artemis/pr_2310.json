{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzOTAzNDY3", "number": 2310, "title": "Group courses by semesters in the managament overview", "bodyText": "Checklist\n\n I tested all changes and all related features with different users (student, tutor, instructor, admin) on the test server https://artemistest.ase.in.tum.de.\n Client: I added multiple screenshots/screencasts of my UI changes\n\nMotivation and Context\nFollow-up to #2215.\nDescription\nGroups the courses by semester. Courses without a semester will appear in the \"Semester: unset\" section. The newest semester will be sorted atop and uncollapsed, while the others are collapsed by default.\nSteps for Testing\n\nNavigate to the courses overview\nCheck if all courses still appear and in the correct semester section\n\nScreenshots\nThe course overview with collapsed semester sections:\n\nWhen viewing several semester sections. Not that the tables do not align. This is expected and will be fixed in the future when the layout of the courses list changes.\n\nIf there are test courses, an extra section for them will appear (and they will not appear in their Semester section!):", "createdAt": "2020-11-02T08:55:01Z", "url": "https://github.com/ls1intum/Artemis/pull/2310", "merged": true, "mergeCommit": {"oid": "ea87931ceb2d549ac7400f4edf765e3f9ababad8"}, "closed": true, "closedAt": "2020-11-17T10:54:57Z", "author": {"login": "FrankeLukas"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYW97JAH2gAyNTEzOTAzNDY3OjNmNDM3MTFlMmVhNWE2YjIyNjhlOWE4MjQxM2QwYzA5MWU3YTg0ZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddXWZRgFqTUzMjI0MjI1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3f43711e2ea5a6b2268e9a82413d0c091e7a84ff", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/3f43711e2ea5a6b2268e9a82413d0c091e7a84ff", "committedDate": "2020-11-01T21:36:58Z", "message": "Group courses by semesters in the managament overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05d109f9a2ad11d1e25a628bcc13c0c756a2be89", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/05d109f9a2ad11d1e25a628bcc13c0c756a2be89", "committedDate": "2020-11-02T09:25:04Z", "message": "Remove the semester column from the overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/f5782f773aa56a64466a13f94bf1fb7414bce91b", "committedDate": "2020-11-02T09:53:02Z", "message": "Add an extra section for test courses"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MjcyNzQ5", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524272749", "createdAt": "2020-11-05T13:45:00Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzo0NTowMVrOHuD6RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzo0NTowMVrOHuD6RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA2MDYxMg==", "bodyText": "Any reason for this just being a generic object? Maybe we could write a type here? Not really needed just a suggestion :)", "url": "https://github.com/ls1intum/Artemis/pull/2310#discussion_r518060612", "createdAt": "2020-11-05T13:45:01Z", "author": {"login": "stefanwaldhauser"}, "path": "src/main/webapp/app/course/manage/course-management.component.ts", "diffHunk": "@@ -24,6 +25,8 @@ export class CourseManagementComponent implements OnInit, OnDestroy, AfterViewIn\n     showExamButton = true;\n \n     courses: Course[];\n+    courseSemesters: string[];\n+    semesterCollapsed: object;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0Mjc0MzQy", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524274342", "createdAt": "2020-11-05T13:46:45Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NTA3NTI1", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524507525", "createdAt": "2020-11-05T17:37:52Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NTYxNTEx", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524561511", "createdAt": "2020-11-05T18:45:37Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzM0MTMx", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524734131", "createdAt": "2020-11-05T22:50:41Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzM2NTg1", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524736585", "createdAt": "2020-11-05T22:55:18Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzY1MTg0", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-524765184", "createdAt": "2020-11-06T00:01:34Z", "commit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0640e4ec4c50aec411e69c626ed3d5f49b3671fb", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/0640e4ec4c50aec411e69c626ed3d5f49b3671fb", "committedDate": "2020-11-06T09:43:49Z", "message": "Merge branch 'develop' into feature/managament/course-semester-overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/a1bed861880d8a19af27f84ec0540a79e84802e9", "committedDate": "2020-11-06T10:03:04Z", "message": "Only display test courses once"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjM1NjM2", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-527635636", "createdAt": "2020-11-10T21:50:03Z", "commit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjM5MTUw", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-527639150", "createdAt": "2020-11-10T21:55:28Z", "commit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTo1NToyOVrOHwxIfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTo1NToyOVrOHwxIfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5ODY4NA==", "bodyText": "Would this be a good candidate for a compareBySemester function in Course? This would also make this more compact.", "url": "https://github.com/ls1intum/Artemis/pull/2310#discussion_r520898684", "createdAt": "2020-11-10T21:55:29Z", "author": {"login": "MaisiKoleni"}, "path": "src/main/webapp/app/course/manage/course-management.component.ts", "diffHunk": "@@ -53,6 +56,37 @@ export class CourseManagementComponent implements OnInit, OnDestroy, AfterViewIn\n             (res: HttpResponse<Course[]>) => {\n                 this.courses = res.body!;\n                 this.courseForGuidedTour = this.guidedTourService.enableTourForCourseOverview(this.courses, tutorAssessmentTour, true);\n+                this.courseSemesters = this.courses\n+                    .map((c) => c.semester ?? '')\n+                    .filter((value, index, self) => {\n+                        // filter down to unique values\n+                        return !this.courses[index].testCourse && self.indexOf(value) === index;\n+                    })\n+                    .sort((a, b) => {\n+                        if (a === '') {\n+                            return 1;\n+                        }\n+                        if (b === '') {\n+                            return -1;\n+                        }\n+                        const yearsCompared = parseInt(b.substr(2, 2), 10) - parseInt(a.substr(2, 2), 10);\n+                        if (yearsCompared !== 0) {\n+                            return yearsCompared;\n+                        }\n+                        // if years are the same, sort WS over SS\n+                        return a.substr(0, 2) === 'WS' ? -1 : 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjU1NTQ0", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-527655544", "createdAt": "2020-11-10T22:21:36Z", "commit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMjoyMTozNlrOHwx6mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMjoyMTozNlrOHwx6mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkxMTUxNQ==", "bodyText": "Maybe you can use here also orderBy from lodash see https://lodash.com/docs/4.17.15#orderBy", "url": "https://github.com/ls1intum/Artemis/pull/2310#discussion_r520911515", "createdAt": "2020-11-10T22:21:36Z", "author": {"login": "fde312"}, "path": "src/main/webapp/app/course/manage/course-management.component.ts", "diffHunk": "@@ -53,6 +56,37 @@ export class CourseManagementComponent implements OnInit, OnDestroy, AfterViewIn\n             (res: HttpResponse<Course[]>) => {\n                 this.courses = res.body!;\n                 this.courseForGuidedTour = this.guidedTourService.enableTourForCourseOverview(this.courses, tutorAssessmentTour, true);\n+                this.courseSemesters = this.courses\n+                    .map((c) => c.semester ?? '')\n+                    .filter((value, index, self) => {\n+                        // filter down to unique values\n+                        return !this.courses[index].testCourse && self.indexOf(value) === index;\n+                    })\n+                    .sort((a, b) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjU2MjIz", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-527656223", "createdAt": "2020-11-10T22:22:50Z", "commit": {"oid": "a1bed861880d8a19af27f84ec0540a79e84802e9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "527b635d8e0fe2b63c7e97b8bc942450eda8e422", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/527b635d8e0fe2b63c7e97b8bc942450eda8e422", "committedDate": "2020-11-13T08:30:55Z", "message": "Merge remote-tracking branch 'upstream/develop' into feature/managament/course-semester-overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/6849561671f8b76325a74330fae745a5bc3ced3c", "committedDate": "2020-11-13T09:02:26Z", "message": "Add comments and rename variables for readability, fix filtering bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMTk2Mzk0", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-531196394", "createdAt": "2020-11-16T10:33:03Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMzIyMDU2", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-531322056", "createdAt": "2020-11-16T13:33:31Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDM1OTcx", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-531435971", "createdAt": "2020-11-16T15:34:45Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDczODE5", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-531473819", "createdAt": "2020-11-16T16:12:44Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxODM4MjUy", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-531838252", "createdAt": "2020-11-16T22:26:18Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjoyNjoxOFrOH0X1aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjoyNjoxOFrOH0X1aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY3ODUwNw==", "bodyText": "This should do:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                semesterCollapsed: object;\n          \n          \n            \n                semesterCollapsed: { [key:string]: boolean; };\n          \n      \n    \n    \n  \n\nOR: Consider using the TypeScript Map instead.", "url": "https://github.com/ls1intum/Artemis/pull/2310#discussion_r524678507", "createdAt": "2020-11-16T22:26:18Z", "author": {"login": "jpbernius"}, "path": "src/main/webapp/app/course/manage/course-management.component.ts", "diffHunk": "@@ -24,6 +25,8 @@ export class CourseManagementComponent implements OnInit, OnDestroy, AfterViewIn\n     showExamButton = true;\n \n     courses: Course[];\n+    courseSemesters: string[];\n+    semesterCollapsed: object;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA2MDYxMg=="}, "originalCommit": {"oid": "f5782f773aa56a64466a13f94bf1fb7414bce91b"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMTEzODg4", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-532113888", "createdAt": "2020-11-17T08:16:53Z", "commit": {"oid": "6849561671f8b76325a74330fae745a5bc3ced3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5d7e12e45e8619a18397a6d16d8ed929b3e5db4", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/f5d7e12e45e8619a18397a6d16d8ed929b3e5db4", "committedDate": "2020-11-17T09:55:39Z", "message": "Merge branch 'develop' into feature/managament/course-semester-overview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3e4f9a34a6891c33c2d84d035db3437becd686c", "author": {"user": {"login": "FrankeLukas", "name": "Lukas Franke"}}, "url": "https://github.com/ls1intum/Artemis/commit/b3e4f9a34a6891c33c2d84d035db3437becd686c", "committedDate": "2020-11-17T10:03:57Z", "message": "Change the type of 'semesterCollapsed'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMjQyMjUz", "url": "https://github.com/ls1intum/Artemis/pull/2310#pullrequestreview-532242253", "createdAt": "2020-11-17T10:53:19Z", "commit": {"oid": "b3e4f9a34a6891c33c2d84d035db3437becd686c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3567, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}