{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwMzI1Nzgz", "number": 793, "title": "Add documentation for metavariable matching", "bodyText": "This is pretty bare-bones, but adds some minimal documentation for\nmetavariable matching.", "createdAt": "2020-05-19T19:41:12Z", "url": "https://github.com/returntocorp/semgrep/pull/793", "merged": true, "mergeCommit": {"oid": "b4bde9a92946eff4585b3fc074af3a880116b97b"}, "closed": true, "closedAt": "2020-05-19T19:55:33Z", "author": {"login": "nbrahms"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABci5ysYAH2gAyNDIwMzI1NzgzOjUxODhmMTJiZWZmOTA0OTg0NjlmODVkNmY1NGJkZGU2ZGVmOGI3NTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci6JXjAFqTQxNDc3NjgxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5188f12beff90498469f85d6f54bdde6def8b751", "author": {"user": {"login": "nbrahms", "name": "Nathaniel Brahms"}}, "url": "https://github.com/returntocorp/semgrep/commit/5188f12beff90498469f85d6f54bdde6def8b751", "committedDate": "2020-05-19T19:39:28Z", "message": "Add documentation for metavariable matching\n\nThis is pretty bare-bones, but adds some minimal documentation for\nmetavariable matching."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ada493fecbd03b8bef2f034d57256cd0e71d60e0", "author": {"user": {"login": "nbrahms", "name": "Nathaniel Brahms"}}, "url": "https://github.com/returntocorp/semgrep/commit/ada493fecbd03b8bef2f034d57256cd0e71d60e0", "committedDate": "2020-05-19T19:44:10Z", "message": "fixup! Add documentation for metavariable matching"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NzY4MzQx", "url": "https://github.com/returntocorp/semgrep/pull/793#pullrequestreview-414768341", "createdAt": "2020-05-19T19:44:28Z", "commit": {"oid": "5188f12beff90498469f85d6f54bdde6def8b751"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0Nzc2ODEx", "url": "https://github.com/returntocorp/semgrep/pull/793#pullrequestreview-414776811", "createdAt": "2020-05-19T19:57:11Z", "commit": {"oid": "ada493fecbd03b8bef2f034d57256cd0e71d60e0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOTo1NzoxMVrOGXwX8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDowMzo1M1rOGXwmfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU2Mjk5Mg==", "bodyText": "We should link the sub-headers below here too.", "url": "https://github.com/returntocorp/semgrep/pull/793#discussion_r427562992", "createdAt": "2020-05-19T19:57:11Z", "author": {"login": "mschwager"}, "path": "docs/configuration-files.md", "diffHunk": "@@ -22,6 +22,7 @@ Contents:\n   * [`pattern-inside`](configuration-files.md#pattern-inside)\n   * [`pattern-not-inside`](configuration-files.md#pattern-not-inside)\n   * [`pattern-where-python`](configuration-files.md#pattern-where-python)\n+* [Metavariable matching](configuration-files.md#metavariable-matching)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada493fecbd03b8bef2f034d57256cd0e71d60e0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU2NTEyNw==", "bodyText": "The rest of this document uses \"logical AND\" and \"logical OR\" vs. \"logical inclusion\" and \"logical union\". I also think that language is simpler to understand for an entry-level engineer vs. a program analysis expert.", "url": "https://github.com/returntocorp/semgrep/pull/793#discussion_r427565127", "createdAt": "2020-05-19T20:00:56Z", "author": {"login": "mschwager"}, "path": "docs/configuration-files.md", "diffHunk": "@@ -271,6 +272,117 @@ rules:\n \n This rule looks for usage of Django's [`FloatField`](https://docs.djangoproject.com/en/3.0/ref/models/fields/#django.db.models.FloatField) model when storing currency information. `FloatField` can lead to rounding errors and should be avoided in favor of [`DecimalField`](https://docs.djangoproject.com/en/3.0/ref/models/fields/#django.db.models.DecimalField) when dealing with currency. Here the `pattern-where-python` operator allows us to utilize the Python `in` statement to filter findings that look like currency.\n \n+## Metavariable matching\n+\n+### Metavariables in logical inclusions", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada493fecbd03b8bef2f034d57256cd0e71d60e0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU2NjcxOQ==", "bodyText": "I'm not really sure what this is saying. Could we instead say something like \"Metavariables persist across pattern, patterns, and pattern-inside operators.\"", "url": "https://github.com/returntocorp/semgrep/pull/793#discussion_r427566719", "createdAt": "2020-05-19T20:03:53Z", "author": {"login": "mschwager"}, "path": "docs/configuration-files.md", "diffHunk": "@@ -271,6 +272,117 @@ rules:\n \n This rule looks for usage of Django's [`FloatField`](https://docs.djangoproject.com/en/3.0/ref/models/fields/#django.db.models.FloatField) model when storing currency information. `FloatField` can lead to rounding errors and should be avoided in favor of [`DecimalField`](https://docs.djangoproject.com/en/3.0/ref/models/fields/#django.db.models.DecimalField) when dealing with currency. Here the `pattern-where-python` operator allows us to utilize the Python `in` statement to filter findings that look like currency.\n \n+## Metavariable matching\n+\n+### Metavariables in logical inclusions\n+\n+Patterns' matched metavariable values are enforced to be identical when performing logical inclusion operations (`patterns`, `pattern-inside`) on matches.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada493fecbd03b8bef2f034d57256cd0e71d60e0"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1004, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}