{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMTU4Njc2", "number": 644, "title": "Python 3.6 Compatibility & Tox Tests", "bodyText": "Runs the Python tests on 3.6, 3.7 & 3.8. To support this, most of the work was actually to pull in an as-new-as-possible semgrep-core to test against since building from source would be a massive pain.", "createdAt": "2020-05-01T14:45:30Z", "url": "https://github.com/returntocorp/semgrep/pull/644", "merged": true, "mergeCommit": {"oid": "88fec3a2887cd913fec8cb6e3a8c92b652de32d1"}, "closed": true, "closedAt": "2020-05-02T00:03:27Z", "author": {"login": "rcoh"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdEy4egFqTQwNDI3NjU0Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdKuJ6gFqTQwNDQ1MjMxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0Mjc2NTQ2", "url": "https://github.com/returntocorp/semgrep/pull/644#pullrequestreview-404276546", "createdAt": "2020-05-01T17:05:05Z", "commit": {"oid": "21c4c4b50d6a25c5c9ed9b1072feeca166830071"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNzowNTowNVrOGPPe_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNzowNTowNVrOGPPe_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYzNTUxOQ==", "bodyText": "Can probably make tox and pytest dev dependencies as part of #631", "url": "https://github.com/returntocorp/semgrep/pull/644#discussion_r418635519", "createdAt": "2020-05-01T17:05:05Z", "author": {"login": "brendongo"}, "path": "semgrep/requirements.txt", "diffHunk": "@@ -2,3 +2,4 @@ colorama==0.4.3\n pytest==5.3.5\n pyyaml==5.3\n requests==2.22.0\n+tox==3.14.6", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21c4c4b50d6a25c5c9ed9b1072feeca166830071"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d9ea8bc71f6eba18768ed0b45f687787e6a932d", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/7d9ea8bc71f6eba18768ed0b45f687787e6a932d", "committedDate": "2020-05-01T17:43:55Z", "message": "Add tox"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4194cf91b77280539b28cb8e05eb5fbca7ffd81f", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/4194cf91b77280539b28cb8e05eb5fbca7ffd81f", "committedDate": "2020-05-01T17:43:55Z", "message": "Run tox tests for 3.6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79122c5bc891358118a500bb5fde3531b80dfd02", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/79122c5bc891358118a500bb5fde3531b80dfd02", "committedDate": "2020-05-01T17:43:55Z", "message": "Add comment about mypy's issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0069f2f754a9b04e88b0f6609a4567fe17c784ca", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/0069f2f754a9b04e88b0f6609a4567fe17c784ca", "committedDate": "2020-05-01T17:43:55Z", "message": "Add script to download latest precompiled semgrep core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ce8336dfab32e5711e93631b93af7ca064ffbcd", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/6ce8336dfab32e5711e93631b93af7ca064ffbcd", "committedDate": "2020-05-01T17:43:55Z", "message": "Set the github auth token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "749aea7ac98b953b016a851a05f76f3e55ae990b", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/749aea7ac98b953b016a851a05f76f3e55ae990b", "committedDate": "2020-05-01T17:43:55Z", "message": "Install with sudo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8933bec74722b52d96aaf730c8b4b0e60d05932", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/a8933bec74722b52d96aaf730c8b4b0e60d05932", "committedDate": "2020-05-01T17:43:55Z", "message": "Where is the github token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e9cbab2e51518f8f99c354413895bdd3f5a33dc", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/0e9cbab2e51518f8f99c354413895bdd3f5a33dc", "committedDate": "2020-05-01T17:43:55Z", "message": "rename to auth token to avoid prefix clash"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfebdf057b4eca3d2eab84b67860aa8624cc6e5b", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/dfebdf057b4eca3d2eab84b67860aa8624cc6e5b", "committedDate": "2020-05-01T17:43:55Z", "message": "Print environ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "024201223010854f97b42a7386987305afaeb6e3", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/024201223010854f97b42a7386987305afaeb6e3", "committedDate": "2020-05-01T17:43:55Z", "message": "pass environ to sudo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79dc5599eb1bfacb1df5851421290495df5a2ba9", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/79dc5599eb1bfacb1df5851421290495df5a2ba9", "committedDate": "2020-05-01T17:43:55Z", "message": "Make semgrep-core executable"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "212232418c91f274bb17701b11e50ef45fbc237e", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/212232418c91f274bb17701b11e50ef45fbc237e", "committedDate": "2020-05-01T17:42:33Z", "message": "Make semgrep-core executable"}, "afterCommit": {"oid": "79dc5599eb1bfacb1df5851421290495df5a2ba9", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/79dc5599eb1bfacb1df5851421290495df5a2ba9", "committedDate": "2020-05-01T17:43:55Z", "message": "Make semgrep-core executable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94fc0a6bca4c0152c3640ede6521af56f75f531b", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/94fc0a6bca4c0152c3640ede6521af56f75f531b", "committedDate": "2020-05-01T17:46:06Z", "message": "Backout changes to ubuntu-generic.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9576cbec8561c71e336bc930da6bff4777853141", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/9576cbec8561c71e336bc930da6bff4777853141", "committedDate": "2020-05-01T17:49:27Z", "message": "Can we type ignore our way out of this?"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MzIyNjE5", "url": "https://github.com/returntocorp/semgrep/pull/644#pullrequestreview-404322619", "createdAt": "2020-05-01T18:29:02Z", "commit": {"oid": "9576cbec8561c71e336bc930da6bff4777853141"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxODoyOTowMlrOGPR1qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxODoyOTowMlrOGPR1qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY3NDA4OQ==", "bodyText": "Wont this cause issues if a PR has a breaking change in both semgrep-core and semgrep?", "url": "https://github.com/returntocorp/semgrep/pull/644#discussion_r418674089", "createdAt": "2020-05-01T18:29:02Z", "author": {"login": "brendongo"}, "path": ".github/workflows/tox-tests.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+name: Semgrep Python Tests\n+\n+on:\n+  pull_request:\n+    branches: [master, develop]\n+  push:\n+    branches: [master, develop]\n+\n+jobs:\n+  build:\n+\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        python: [3.6, 3.7, 3.8]\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Setup Python\n+        uses: actions/setup-python@v1\n+        with:\n+          python-version: ${{ matrix.python }}\n+      - name: Install semgrep-core from develop\n+        run: sudo -E ./install-scripts/latest-artifact-for-branch.py", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9576cbec8561c71e336bc930da6bff4777853141"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb2bff0d17928eb8b922bec2cd35961cc22beec2", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/eb2bff0d17928eb8b922bec2cd35961cc22beec2", "committedDate": "2020-05-01T20:28:25Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}, "afterCommit": {"oid": "e4fff083f52792326d1eab197b08673abad1b339", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/e4fff083f52792326d1eab197b08673abad1b339", "committedDate": "2020-05-01T20:30:11Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4fff083f52792326d1eab197b08673abad1b339", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/e4fff083f52792326d1eab197b08673abad1b339", "committedDate": "2020-05-01T20:30:11Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}, "afterCommit": {"oid": "9057d37c29c27c9213a4a7618e997d7ced157f3e", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/9057d37c29c27c9213a4a7618e997d7ced157f3e", "committedDate": "2020-05-01T20:33:02Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9057d37c29c27c9213a4a7618e997d7ced157f3e", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/9057d37c29c27c9213a4a7618e997d7ced157f3e", "committedDate": "2020-05-01T20:33:02Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}, "afterCommit": {"oid": "a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "committedDate": "2020-05-01T20:34:46Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f354930c9348dec33c7440ae2c2a8e5800b65a86", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/f354930c9348dec33c7440ae2c2a8e5800b65a86", "committedDate": "2020-05-01T20:36:19Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "committedDate": "2020-05-01T20:34:46Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}, "afterCommit": {"oid": "f354930c9348dec33c7440ae2c2a8e5800b65a86", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/f354930c9348dec33c7440ae2c2a8e5800b65a86", "committedDate": "2020-05-01T20:36:19Z", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2ae91d13d1c8344aeb8adb6af1d24efa4093365", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/a2ae91d13d1c8344aeb8adb6af1d24efa4093365", "committedDate": "2020-05-01T20:39:19Z", "message": "Add loging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2a8c61e0309a3badeab11bc2a46d259d46dc479", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/b2a8c61e0309a3badeab11bc2a46d259d46dc479", "committedDate": "2020-05-01T20:52:07Z", "message": "Try a hierarchy of branches"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9ed62fa28118ea8cf607737813b46042dab577e", "author": {"user": {"login": "rcoh", "name": "Russell Cohen"}}, "url": "https://github.com/returntocorp/semgrep/commit/c9ed62fa28118ea8cf607737813b46042dab577e", "committedDate": "2020-05-01T20:56:08Z", "message": "Got the order of assets wrong"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NDUyMzE4", "url": "https://github.com/returntocorp/semgrep/pull/644#pullrequestreview-404452318", "createdAt": "2020-05-01T23:59:21Z", "commit": {"oid": "c9ed62fa28118ea8cf607737813b46042dab577e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 934, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}