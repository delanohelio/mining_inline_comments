{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxMTAxOTQy", "number": 77, "title": "conform to r2c output with relative paths", "bodyText": "Only change needed is to make paths relative.\nAlso made mypy pass in this PR.\nFixes #70", "createdAt": "2020-02-04T23:27:46Z", "url": "https://github.com/returntocorp/semgrep/pull/77", "merged": true, "mergeCommit": {"oid": "8b0a6edd4afc42869d1028f6b69bd02a3e4bcd62"}, "closed": true, "closedAt": "2020-02-05T00:01:08Z", "author": {"login": "ievans"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBKDC5gH2gAyMzcxMTAxOTQyOmUxYzRiNGIxYjIyYmMwZjE1ZDlkNGI0OTM2MDYwMGJmZDlmMDc3MzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBKh7dgH2gAyMzcxMTAxOTQyOjYwYmIzYjcxYjk3NzlkNGVmMDczYzgwMTQ2OTM4YWQxZjIzMWUyYzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e1c4b4b1b22bc0f15d9d4b49360600bfd9f07735", "author": {"user": {"login": "ievans", "name": "Isaac Evans"}}, "url": "https://github.com/returntocorp/semgrep/commit/e1c4b4b1b22bc0f15d9d4b49360600bfd9f07735", "committedDate": "2020-02-04T23:22:23Z", "message": "add r2c output flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb3513862b8410b612a2139b91d2953fa602e679", "author": {"user": {"login": "ievans", "name": "Isaac Evans"}}, "url": "https://github.com/returntocorp/semgrep/commit/cb3513862b8410b612a2139b91d2953fa602e679", "committedDate": "2020-02-04T23:26:51Z", "message": "make paths relative to cwd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8293e8cb3c5fbfb7ff9d2728d892d0912c70f3d4", "author": {"user": {"login": "ievans", "name": "Isaac Evans"}}, "url": "https://github.com/returntocorp/semgrep/commit/8293e8cb3c5fbfb7ff9d2728d892d0912c70f3d4", "committedDate": "2020-02-04T23:27:02Z", "message": "black"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMzc3MTI5", "url": "https://github.com/returntocorp/semgrep/pull/77#pullrequestreview-353377129", "createdAt": "2020-02-04T23:31:49Z", "commit": {"oid": "8293e8cb3c5fbfb7ff9d2728d892d0912c70f3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQyMzozMTo0OVrOFlnL2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQyMzozMTo0OVrOFlnL2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk4MzY0MA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/returntocorp/semgrep/pull/77#discussion_r374983640", "createdAt": "2020-02-04T23:31:49Z", "author": {"login": "ulziibay"}, "path": "sgrep.py", "diffHunk": "@@ -672,6 +689,8 @@ def main(args: argparse.Namespace):\n                 if sgrep_finding_to_range(result) in valid_ranges_to_output:\n                     # restore the original rule ID\n                     result[\"check_id\"] = all_rules[rule_index][\"id\"]\n+                    # rewrite the path to be relative to the current working directory\n+                    result[\"path\"] = str(Path(result[\"path\"]).relative_to(current_path))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e8cb3c5fbfb7ff9d2728d892d0912c70f3d4"}, "originalPosition": 145}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMzc3MTc5", "url": "https://github.com/returntocorp/semgrep/pull/77#pullrequestreview-353377179", "createdAt": "2020-02-04T23:31:58Z", "commit": {"oid": "8293e8cb3c5fbfb7ff9d2728d892d0912c70f3d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b953e6ab5bfc2439485c351c2a28bb1968d6307", "author": {"user": {"login": "aryx", "name": "Yoann Padioleau"}}, "url": "https://github.com/returntocorp/semgrep/commit/6b953e6ab5bfc2439485c351c2a28bb1968d6307", "committedDate": "2020-02-04T23:36:50Z", "message": "Adapt to latest pfff, and allow ... to match optional expression in return (#78)\n\nThis should fix issue #73 and #52\r\n\r\nTest plan:\r\ntests included\r\n$ make test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ef29f0c7596f05f7fd3a8a86b473c9a9ad8cba4", "author": {"user": {"login": "ievans", "name": "Isaac Evans"}}, "url": "https://github.com/returntocorp/semgrep/commit/5ef29f0c7596f05f7fd3a8a86b473c9a9ad8cba4", "committedDate": "2020-02-04T23:46:01Z", "message": "cleanup rule id prefixes a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60bb3b71b9779d4ef073c80146938ad1f231e2c5", "author": {"user": {"login": "ievans", "name": "Isaac Evans"}}, "url": "https://github.com/returntocorp/semgrep/commit/60bb3b71b9779d4ef073c80146938ad1f231e2c5", "committedDate": "2020-02-04T23:56:07Z", "message": "black"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1174, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}