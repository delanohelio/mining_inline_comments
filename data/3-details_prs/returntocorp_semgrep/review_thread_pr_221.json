{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMDk5ODM5", "number": 221, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzozOTozN1rODjr9TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMjozNjo1MlrODkcxkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzQ2OTU3OnYy", "diffSide": "RIGHT", "path": ".circleci/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzozOTozN1rOFvoqkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzozOTozN1rOFvoqkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5MzY1MQ==", "bodyText": "this should be a tag so Circle can cache it but I want to replace this with a GH action next week as part of the mac build so ok for now", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385493651", "createdAt": "2020-02-28T03:39:37Z", "author": {"login": "DrewDennison"}, "path": ".circleci/config.yml", "diffHunk": "@@ -3,14 +3,13 @@ version: 2.1\n executors:\n   sgrep-build:\n     docker:\n-      - image: returntocorp/sgrep-build:2.5\n+      - image: returntocorp/sgrep-build:latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzQ3MDE5OnYy", "diffSide": "LEFT", "path": ".github/workflows/python.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzo0MDoxOVrOFvoq8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwODoyMTo1OVrOFvszSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzc0NA==", "bodyText": "I assume you use something other than pytest so ok with deleting", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385493744", "createdAt": "2020-02-28T03:40:19Z", "author": {"login": "DrewDennison"}, "path": ".github/workflows/python.yml", "diffHunk": "@@ -1,29 +0,0 @@\n-name: python\n-\n-on:\n-  pull_request:\n-  push:\n-    branches: [master, develop]\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    strategy:\n-      matrix:\n-        python-version: [3.7, 3.8]\n-    steps:\n-    - uses: actions/checkout@v2\n-    - name: Set up Python ${{ matrix.python-version }}\n-      uses: actions/setup-python@v1\n-      with:\n-        python-version: ${{ matrix.python-version }}\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-    - name: Test with pytest\n-      run: |\n-        # add to PYTHONPATH so imports work in test files\n-        export PYTHONPATH=\"${PYTHONPATH}:${pwd}\"\n-        pip install pytest\n-        pytest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU2MTQxOA==", "bodyText": "It's just part of make test now", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385561418", "createdAt": "2020-02-28T08:21:59Z", "author": {"login": "ievans"}, "path": ".github/workflows/python.yml", "diffHunk": "@@ -1,29 +0,0 @@\n-name: python\n-\n-on:\n-  pull_request:\n-  push:\n-    branches: [master, develop]\n-\n-jobs:\n-  build:\n-    runs-on: ubuntu-latest\n-    strategy:\n-      matrix:\n-        python-version: [3.7, 3.8]\n-    steps:\n-    - uses: actions/checkout@v2\n-    - name: Set up Python ${{ matrix.python-version }}\n-      uses: actions/setup-python@v1\n-      with:\n-        python-version: ${{ matrix.python-version }}\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        pip install -r requirements.txt\n-    - name: Test with pytest\n-      run: |\n-        # add to PYTHONPATH so imports work in test files\n-        export PYTHONPATH=\"${PYTHONPATH}:${pwd}\"\n-        pip install pytest\n-        pytest", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzc0NA=="}, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzQ3MTA4OnYy", "diffSide": "LEFT", "path": ".pre-commit-config.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzo0MDo1M1rOFvorbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwNjozNDozOVrOFvqwXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzg2OQ==", "bodyText": "why? \ud83d\ude1e", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385493869", "createdAt": "2020-02-28T03:40:53Z", "author": {"login": "DrewDennison"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -1,12 +1,11 @@\n-exclude: \"^tests|testlint|old|lib|demos|bin|.*\\\\.ml\"\n+exclude: \"^sgrep-lint/tests|tests|testlint|old|lib|demos|bin|.*\\\\.ml\"\n \n repos:\n   - repo: https://github.com/pre-commit/pre-commit-hooks\n     rev: v2.5.0\n     hooks:\n       - id: check-yaml\n         args: [--allow-multiple-documents]\n-      - id: end-of-file-fixer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUyNzkwMg==", "bodyText": "breaks test cases", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385527902", "createdAt": "2020-02-28T06:34:39Z", "author": {"login": "ievans"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -1,12 +1,11 @@\n-exclude: \"^tests|testlint|old|lib|demos|bin|.*\\\\.ml\"\n+exclude: \"^sgrep-lint/tests|tests|testlint|old|lib|demos|bin|.*\\\\.ml\"\n \n repos:\n   - repo: https://github.com/pre-commit/pre-commit-hooks\n     rev: v2.5.0\n     hooks:\n       - id: check-yaml\n         args: [--allow-multiple-documents]\n-      - id: end-of-file-fixer", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzg2OQ=="}, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzQ3MTQzOnYy", "diffSide": "LEFT", "path": ".pre-commit-config.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzo0MToyM1rOFvortA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwNjozNjo1MlrOFvq0sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzk0MA==", "bodyText": "I thought we believed in types \ud83d\ude22 Would you be ok if I added in the types to keep this check", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385493940", "createdAt": "2020-02-28T03:41:23Z", "author": {"login": "DrewDennison"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -26,17 +25,6 @@ repos:\n     hooks:\n       - id: reorder-python-imports\n \n-  - repo: https://github.com/pre-commit/mirrors-mypy\n-    rev: \"v0.761\"\n-    hooks:\n-      - id: mypy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUyOTAxMQ==", "bodyText": "mypy doesn't handle the weird globals and eval nonsense", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385529011", "createdAt": "2020-02-28T06:36:52Z", "author": {"login": "ievans"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -26,17 +25,6 @@ repos:\n     hooks:\n       - id: reorder-python-imports\n \n-  - repo: https://github.com/pre-commit/mirrors-mypy\n-    rev: \"v0.761\"\n-    hooks:\n-      - id: mypy", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzk0MA=="}, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzQ3MTg2OnYy", "diffSide": "LEFT", "path": ".pre-commit-config.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMzo0MTozNlrOFvor6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwNjo0MToyN1rOFvq6nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzk5NQ==", "bodyText": "I have used this config multiple times to catch bugs", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385493995", "createdAt": "2020-02-28T03:41:36Z", "author": {"login": "DrewDennison"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -26,17 +25,6 @@ repos:\n     hooks:\n       - id: reorder-python-imports\n \n-  - repo: https://github.com/pre-commit/mirrors-mypy\n-    rev: \"v0.761\"\n-    hooks:\n-      - id: mypy\n-\n-  - repo: https://gitlab.com/pycqa/flake8\n-    rev: \"3.7.9\"\n-    hooks:\n-      - id: flake8\n-        args: [\"--select=E9,F63,F7,F82\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzMDUyNw==", "bodyText": "is it doing anything that mypy wouldn't? we have tons of test files with intentionally unused variables", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r385530527", "createdAt": "2020-02-28T06:41:27Z", "author": {"login": "ievans"}, "path": ".pre-commit-config.yaml", "diffHunk": "@@ -26,17 +25,6 @@ repos:\n     hooks:\n       - id: reorder-python-imports\n \n-  - repo: https://github.com/pre-commit/mirrors-mypy\n-    rev: \"v0.761\"\n-    hooks:\n-      - id: mypy\n-\n-  - repo: https://gitlab.com/pycqa/flake8\n-    rev: \"3.7.9\"\n-    hooks:\n-      - id: flake8\n-        args: [\"--select=E9,F63,F7,F82\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ5Mzk5NQ=="}, "originalCommit": {"oid": "e00d3709b403fca6510849288bcee1ed265c3e72"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NTQ2NzcxOnYy", "diffSide": "RIGHT", "path": "sgrep_lint/constants.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMjozNjo1MlrOFwx5MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMjozNjo1MlrOFwx5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY5MzQyNQ==", "bodyText": "\ud83d\udde1", "url": "https://github.com/returntocorp/semgrep/pull/221#discussion_r386693425", "createdAt": "2020-03-02T22:36:52Z", "author": {"login": "DrewDennison"}, "path": "sgrep_lint/constants.py", "diffHunk": "@@ -0,0 +1 @@\n+RCE_RULE_FLAG = \"--dangerously-allow-arbitrary-code-execution-from-rules\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "403cdeb94df787063a14f881a06c6f224a801de7"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4840, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}