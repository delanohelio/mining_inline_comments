{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MzQ4MTUz", "number": 483, "title": "sgrep_lint: Support path includes/excludes in rule files", "bodyText": "Note to reviewers, I recommend checking the documentation file at first to understand the design. I intended to have symmetry between the design of patterns: and paths: in the YAML definitions.\nCloses returntocorp/enterprise#70", "createdAt": "2020-04-16T12:54:09Z", "url": "https://github.com/returntocorp/semgrep/pull/483", "merged": true, "mergeCommit": {"oid": "5b9878749e4921c30369f7319988fd19d0c34888"}, "closed": true, "closedAt": "2020-04-17T19:53:09Z", "author": {"login": "underyx"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYMRpYABqjMyMzk3ODg2MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYmxarABqjMyNDU3Njg1NzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1872fa12e77ed65a86a1d0a019f6beb425d04eb6", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/1872fa12e77ed65a86a1d0a019f6beb425d04eb6", "committedDate": "2020-04-16T12:49:47Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "291496075903c50a52a64ec542dfce229415ead9", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/291496075903c50a52a64ec542dfce229415ead9", "committedDate": "2020-04-16T12:58:16Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "291496075903c50a52a64ec542dfce229415ead9", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/291496075903c50a52a64ec542dfce229415ead9", "committedDate": "2020-04-16T12:58:16Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "31d504dbbabd43c89cdb21d9a5a6bef2399d9c21", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/31d504dbbabd43c89cdb21d9a5a6bef2399d9c21", "committedDate": "2020-04-16T12:59:58Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31d504dbbabd43c89cdb21d9a5a6bef2399d9c21", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/31d504dbbabd43c89cdb21d9a5a6bef2399d9c21", "committedDate": "2020-04-16T12:59:58Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "dd74e970b806f7ce1dccc5149b65fb484c011887", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/dd74e970b806f7ce1dccc5149b65fb484c011887", "committedDate": "2020-04-16T13:01:23Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd74e970b806f7ce1dccc5149b65fb484c011887", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/dd74e970b806f7ce1dccc5149b65fb484c011887", "committedDate": "2020-04-16T13:01:23Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/d362d70345e00118fca66dca17d3e78e0dc7558b", "committedDate": "2020-04-16T13:04:00Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0NzY4MDM3", "url": "https://github.com/returntocorp/semgrep/pull/483#pullrequestreview-394768037", "createdAt": "2020-04-16T15:48:12Z", "commit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTo0ODoxMlrOGGrzwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTo0ODoxMlrOGGrzwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY2MjQwMg==", "bodyText": "@underyx Thank you for the documentation! Did you consider keys like exclude or include-only, similar to Zulip's existing terminology and syntax? See https://github.com/zulip/zulip/blob/master/tools/linter_lib/custom_check.py#L7-L13\nSimilarly, did you consider and decide against accepting a list of paths?\npaths:\n   exclude: [\"*.jinja2\", \"_test.go\"]\nI don't have terribly strong opinion and am just exploring thought process above.", "url": "https://github.com/returntocorp/semgrep/pull/483#discussion_r409662402", "createdAt": "2020-04-16T15:48:12Z", "author": {"login": "dlukeomalley"}, "path": "docs/config/advanced.md", "diffHunk": "@@ -82,14 +82,74 @@ Filters: there are several operators that act as filters to remove results you d\n \n - `fix` allows for an expression to be displayed to the user as the suggested autofix. Can be applied with `--autofix`\n \n+## Path Filtering\n+\n+### Excluding a Rule in Paths\n+\n+To ignore a specific rule on specific files, set a `paths:` key with one or more filters like so:\n+\n+```yaml\n+rules:\n+  - id: eqeq-is-bad\n+    pattern: $X == $X\n+    paths:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0OTEzMTQy", "url": "https://github.com/returntocorp/semgrep/pull/483#pullrequestreview-394913142", "createdAt": "2020-04-16T18:54:55Z", "commit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxODo1NDo1NVrOGGy8DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxODo1NDo1NVrOGGy8DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc3OTIxMg==", "bodyText": "Just a heads up, I've also been iterating on the docs here: #476. This will probably require some merging at some point.", "url": "https://github.com/returntocorp/semgrep/pull/483#discussion_r409779212", "createdAt": "2020-04-16T18:54:55Z", "author": {"login": "mschwager"}, "path": "docs/config/advanced.md", "diffHunk": "@@ -82,14 +82,74 @@ Filters: there are several operators that act as filters to remove results you d\n \n - `fix` allows for an expression to be displayed to the user as the suggested autofix. Can be applied with `--autofix`\n \n+## Path Filtering", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NzA1Nzkz", "url": "https://github.com/returntocorp/semgrep/pull/483#pullrequestreview-395705793", "createdAt": "2020-04-17T19:07:42Z", "commit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d362d70345e00118fca66dca17d3e78e0dc7558b", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/d362d70345e00118fca66dca17d3e78e0dc7558b", "committedDate": "2020-04-16T13:04:00Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "eaf1a622dd856e98ba57477557c0578034ff0346", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/eaf1a622dd856e98ba57477557c0578034ff0346", "committedDate": "2020-04-17T19:42:25Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eaf1a622dd856e98ba57477557c0578034ff0346", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/eaf1a622dd856e98ba57477557c0578034ff0346", "committedDate": "2020-04-17T19:42:25Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "775a1fdd7b403cb39174b446867b83b59707c47d", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/775a1fdd7b403cb39174b446867b83b59707c47d", "committedDate": "2020-04-17T19:43:22Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "775a1fdd7b403cb39174b446867b83b59707c47d", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/775a1fdd7b403cb39174b446867b83b59707c47d", "committedDate": "2020-04-17T19:43:22Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "4c6e2438993ab15a463bf48a8025b6a91eac2790", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/4c6e2438993ab15a463bf48a8025b6a91eac2790", "committedDate": "2020-04-17T19:48:31Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db887f36be7ee3069176435f091b6d986c4c3f91", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/db887f36be7ee3069176435f091b6d986c4c3f91", "committedDate": "2020-04-17T19:50:28Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c6e2438993ab15a463bf48a8025b6a91eac2790", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/4c6e2438993ab15a463bf48a8025b6a91eac2790", "committedDate": "2020-04-17T19:48:31Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}, "afterCommit": {"oid": "db887f36be7ee3069176435f091b6d986c4c3f91", "author": {"user": {"login": "underyx", "name": "Bence Nagy"}}, "url": "https://github.com/returntocorp/semgrep/commit/db887f36be7ee3069176435f091b6d986c4c3f91", "committedDate": "2020-04-17T19:50:28Z", "message": "sgrep_lint: Support path includes/excludes in rule files\n\nCloses https://github.com/returntocorp/enterprise/issues/70"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1034, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}