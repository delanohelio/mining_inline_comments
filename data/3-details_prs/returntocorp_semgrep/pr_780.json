{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5ODQzMTM2", "number": 780, "title": "Expand argparse arguments", "bodyText": "Instead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\nThis also makes it possible to call semgrep as a python library.", "createdAt": "2020-05-19T02:46:16Z", "url": "https://github.com/returntocorp/semgrep/pull/780", "merged": true, "mergeCommit": {"oid": "a6bdf4e4907804b63919cff8c991ebcde0fd406e"}, "closed": true, "closedAt": "2020-05-19T17:23:17Z", "author": {"login": "brendongo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcirTcoABqjMzNDk4Mzc2MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci3eg-gBqjMzNTI4Mzc0MzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a674128ce0de1866db0bd788245a2a23f0bd7e15", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/a674128ce0de1866db0bd788245a2a23f0bd7e15", "committedDate": "2020-05-19T02:42:54Z", "message": "Expand argparse arguements\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}, "afterCommit": {"oid": "0506b8481ada0e1a10e4e40b8cbf855af1547d11", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/0506b8481ada0e1a10e4e40b8cbf855af1547d11", "committedDate": "2020-05-19T02:46:26Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDY0ODM1", "url": "https://github.com/returntocorp/semgrep/pull/780#pullrequestreview-414064835", "createdAt": "2020-05-19T02:48:00Z", "commit": {"oid": "0506b8481ada0e1a10e4e40b8cbf855af1547d11"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0506b8481ada0e1a10e4e40b8cbf855af1547d11", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/0506b8481ada0e1a10e4e40b8cbf855af1547d11", "committedDate": "2020-05-19T02:46:26Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}, "afterCommit": {"oid": "2d4f260fb0b49c84e3f6aaff3ddd7c1998aa8ad8", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/2d4f260fb0b49c84e3f6aaff3ddd7c1998aa8ad8", "committedDate": "2020-05-19T05:27:06Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d4f260fb0b49c84e3f6aaff3ddd7c1998aa8ad8", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/2d4f260fb0b49c84e3f6aaff3ddd7c1998aa8ad8", "committedDate": "2020-05-19T05:27:06Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}, "afterCommit": {"oid": "b729ca146ca9a2b3f063ed97ec419d69d9125d92", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/b729ca146ca9a2b3f063ed97ec419d69d9125d92", "committedDate": "2020-05-19T05:41:01Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDY5NTEw", "url": "https://github.com/returntocorp/semgrep/pull/780#pullrequestreview-414469510", "createdAt": "2020-05-19T13:55:12Z", "commit": {"oid": "b729ca146ca9a2b3f063ed97ec419d69d9125d92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1NToxMlrOGXhlpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1NToxMlrOGXhlpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMyMDc0Mw==", "bodyText": "Is there any way we can just grab the argparse defaults here? Currently all these values are duplicated between semgrep.cli.cli and here. I always forget to update this spot when adding a new argument and am reminded to duplicate it here.", "url": "https://github.com/returntocorp/semgrep/pull/780#discussion_r427320743", "createdAt": "2020-05-19T13:55:12Z", "author": {"login": "mschwager"}, "path": "semgrep/semgrep/test.py", "diffHunk": "@@ -169,35 +169,30 @@ def confusion_matrix_to_string(confusion: List[int]) -> str:\n \n \n def invoke_semgrep(\n-    verbose: bool, strict: bool, test_files: List[Path], config: Path, unsafe: bool\n+    strict: bool, test_files: List[Path], config: Path, unsafe: bool\n ) -> Any:\n     return json.loads(\n         semgrepmain(\n-            argparse.Namespace(\n-                verbose=verbose,\n-                strict=strict,\n-                dump_ast=False,\n-                no_rewrite_rule_ids=True,\n-                dangerously_allow_arbitrary_code_execution_from_rules=unsafe,\n-                config=str(config),\n-                quiet=True,\n-                precommit=False,\n-                generate_config=False,\n-                pattern=None,\n-                validate=False,\n-                json=True,\n-                sarif=False,\n-                exclude_tests=False,\n-                jobs=1,\n-                exclude=[],\n-                include=[],\n-                exclude_dir=[],\n-                include_dir=[],\n-                output=None,\n-                error=False,\n-                autofix=False,\n-                target=[str(t) for t in test_files],\n-            )\n+            target=[str(t) for t in test_files],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b729ca146ca9a2b3f063ed97ec419d69d9125d92"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "152434eed29379391e8d1c89a9ea7b6ce6a73331", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/152434eed29379391e8d1c89a9ea7b6ce6a73331", "committedDate": "2020-05-19T16:57:29Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b729ca146ca9a2b3f063ed97ec419d69d9125d92", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/b729ca146ca9a2b3f063ed97ec419d69d9125d92", "committedDate": "2020-05-19T05:41:01Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}, "afterCommit": {"oid": "152434eed29379391e8d1c89a9ea7b6ce6a73331", "author": {"user": {"login": "brendongo", "name": "Brendon Go"}}, "url": "https://github.com/returntocorp/semgrep/commit/152434eed29379391e8d1c89a9ea7b6ce6a73331", "committedDate": "2020-05-19T16:57:29Z", "message": "Expand argparse arguments\n\nInstead of functions accepting an argparse object explicitly pass each needed\nargument. Reduces random dictionary like objects being passed around semgrep.\n\nThis also makes it possible to call semgrep as a python library."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 994, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}