{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NjcwMTA2", "number": 1105, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjoyOTowNVrOEIcOQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzozMDo1NFrOEI21sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Mjg2NDY1OnYy", "diffSide": "RIGHT", "path": "semgrep/semgrep/synthesize_patterns.py", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjoyOTowNVrOGoZ7sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjoyOTowNVrOGoZ7sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTAyMTEwNg==", "bodyText": "We should probably raise an exception if targets is more than one file.\nSee dump_ast.py", "url": "https://github.com/returntocorp/semgrep/pull/1105#discussion_r445021106", "createdAt": "2020-06-24T16:29:05Z", "author": {"login": "brendongo"}, "path": "semgrep/semgrep/synthesize_patterns.py", "diffHunk": "@@ -0,0 +1,26 @@\n+import subprocess\n+import tempfile\n+from typing import List\n+from typing import Optional\n+\n+import semgrep.config_resolver\n+from semgrep.constants import PLEASE_FILE_ISSUE_TEXT\n+from semgrep.constants import SEMGREP_PATH\n+from semgrep.error import SemgrepError\n+\n+\n+def synthesize_patterns(\n+    language: str, code_to_synthesize: str, targets_str: List[str]\n+) -> None:\n+    targets = semgrep.config_resolver.resolve_targets(targets_str)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d8f70ec61b6b32f7216dd8c9060e4e0d2eae0c2"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Mjg2ODQ2OnYy", "diffSide": "RIGHT", "path": "semgrep/semgrep/synthesize_patterns.py", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjozMDowOFrOGoZ-NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjozMDowOFrOGoZ-NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTAyMTc0OQ==", "bodyText": "Should use the target that has been resolved in line 15 instead of the user arg.", "url": "https://github.com/returntocorp/semgrep/pull/1105#discussion_r445021749", "createdAt": "2020-06-24T16:30:08Z", "author": {"login": "brendongo"}, "path": "semgrep/semgrep/synthesize_patterns.py", "diffHunk": "@@ -0,0 +1,26 @@\n+import subprocess\n+import tempfile\n+from typing import List\n+from typing import Optional\n+\n+import semgrep.config_resolver\n+from semgrep.constants import PLEASE_FILE_ISSUE_TEXT\n+from semgrep.constants import SEMGREP_PATH\n+from semgrep.error import SemgrepError\n+\n+\n+def synthesize_patterns(\n+    language: str, code_to_synthesize: str, targets_str: List[str]\n+) -> None:\n+    targets = semgrep.config_resolver.resolve_targets(targets_str)\n+\n+    args = [\"-synthesize_patterns\", code_to_synthesize]\n+\n+    cmd = [SEMGREP_PATH] + args + targets_str", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d8f70ec61b6b32f7216dd8c9060e4e0d2eae0c2"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Mjg3MTM4OnYy", "diffSide": "RIGHT", "path": "semgrep/semgrep/cli.py", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjozMDo1NFrOGoaABw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNjozMDo1NFrOGoaABw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTAyMjIxNQ==", "bodyText": "Can we hide this from help text for now. See --pre-commit argument above.", "url": "https://github.com/returntocorp/semgrep/pull/1105#discussion_r445022215", "createdAt": "2020-06-24T16:30:54Z", "author": {"login": "brendongo"}, "path": "semgrep/semgrep/cli.py", "diffHunk": "@@ -191,6 +192,9 @@ def cli() -> None:\n             \"(can use --json).\"\n         ),\n     )\n+    output.add_argument(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d8f70ec61b6b32f7216dd8c9060e4e0d2eae0c2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzIyNTQ0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/env-tests.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzozMDo1NFrOGpEwjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzozMDo1NFrOGpEwjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyMjc2Nw==", "bodyText": "These should not have been in the PR", "url": "https://github.com/returntocorp/semgrep/pull/1105#discussion_r445722767", "createdAt": "2020-06-25T17:30:54Z", "author": {"login": "brendongo"}, "path": ".github/workflows/env-tests.yml", "diffHunk": "@@ -6,28 +6,60 @@ on:\n     branches: [master, develop]\n \n jobs:\n+  build-core:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52b42fe1688d2b85e9c40b04e8b299f467c13f17"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4999, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}