{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1OTEwMTI3", "number": 1763, "title": "Attempt to handle parsing errors from tree-sitter.", "bodyText": "It looks like I didn't add the exception catcher at the right spot because the original exceptions aborts the program:\n$ ./_build/install/default/bin/semgrep-core -lang ts -e x toto.ts\ntoto.ts:1:0: Fatal Error: Tree_sitter_run.Tree_sitter_error.Error(_)\n\nFatal error: exception Tree_sitter_run.Tree_sitter_error.Error(_)\n\n... but at least it compiles.\nHopefully my conversion from the Tree_sitter_run.Tree_sitter_error.t is correct. I had to add a field for holding the entire \"token\" (region of the error), which populates the str field on the semgrep side.\nI'll let you take it from here or give me guidance on where/how to catch the exception.\nThis depends on returntocorp/ocaml-tree-sitter-semgrep#114", "createdAt": "2020-10-01T02:44:47Z", "url": "https://github.com/returntocorp/semgrep/pull/1763", "merged": true, "mergeCommit": {"oid": "e04f96cf819a61bd4d65ea71ccedcc0236412b96"}, "closed": true, "closedAt": "2020-10-01T04:59:04Z", "author": {"login": "mjambon"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOH6P6AH2gAyNDk1OTEwMTI3OjY1Mzg1NWFiODllZTcwMmE1NTQzMjY5ODAxZjg0ZTUxNDhjNzM4OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOKG19AFqTUwMDAwODc4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "653855ab89ee702a5543269801f84e5148c73891", "author": {"user": null}, "url": "https://github.com/returntocorp/semgrep/commit/653855ab89ee702a5543269801f84e5148c73891", "committedDate": "2020-10-01T02:25:08Z", "message": "Attempt to handle parsing errors from tree-sitter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2ea4c00930c4a1258d87de099f197b8d5fd2e58", "author": {"user": null}, "url": "https://github.com/returntocorp/semgrep/commit/a2ea4c00930c4a1258d87de099f197b8d5fd2e58", "committedDate": "2020-10-01T03:05:43Z", "message": "Update pfff"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68cb9e8b121440fa99e8c60c6b246cd81f9cc575", "author": {"user": null}, "url": "https://github.com/returntocorp/semgrep/commit/68cb9e8b121440fa99e8c60c6b246cd81f9cc575", "committedDate": "2020-10-01T03:07:01Z", "message": "Update ocaml-tree-sitter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMDA4Nzgw", "url": "https://github.com/returntocorp/semgrep/pull/1763#pullrequestreview-500008780", "createdAt": "2020-10-01T04:58:21Z", "commit": {"oid": "68cb9e8b121440fa99e8c60c6b246cd81f9cc575"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwNDo1ODoyMlrOHa6htg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwNDo1ODoyMlrOHa6htg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk4MzkyNg==", "bodyText": "Why removing 42?", "url": "https://github.com/returntocorp/semgrep/pull/1763#discussion_r497983926", "createdAt": "2020-10-01T04:58:22Z", "author": {"login": "aryx"}, "path": "semgrep-core/dune", "diffHunk": "@@ -1,5 +1,5 @@\n (env\n (dev\n-(flags (:standard -w +42-52-6)))\n+(flags (:standard -w -52-6)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68cb9e8b121440fa99e8c60c6b246cd81f9cc575"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1274, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}