{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MDE4MTg3", "number": 563, "title": "Run \"fastpass amend\" in background", "bodyText": "Apart from that, some label changes.", "createdAt": "2020-09-01T11:35:00Z", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563", "merged": true, "mergeCommit": {"oid": "dbce8f4132ea9f99a8981a6869dc9991b526ab6c"}, "closed": true, "closedAt": "2020-09-07T13:09:00Z", "author": {"login": "tpasternak"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEmN9FAFqTQ3OTY2NDc5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFQa7YgFqTQ4MTgyNTYzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NjY0Nzk4", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#pullrequestreview-479664798", "createdAt": "2020-09-01T11:54:56Z", "commit": {"oid": "47154167a3a3c242973349908e4998d23b808cc5"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMTo1NDo1NlrOHKy2Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMjowNDoyMFrOHKzLEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4MDkyNg==", "bodyText": "Can we also edit the text \"Create new BSP project based on this Pants project\"? It doesn't appear in this property file.", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481080926", "createdAt": "2020-09-01T11:54:56Z", "author": {"login": "olafurpg"}, "path": "common/com/twitter/intellij/pants/PantsBundle.properties", "diffHunk": "@@ -58,7 +58,7 @@ pants.settings.text.use.intellij.compiler=Use the IntelliJ compiler [Experimenta\n pants.settings.text.use.intellij.compiler.help.messasge=If your project does not work with IntelliJ compiler out of the box, please try to conform the code structure to 1:1:1.\n pants.settings.text.use.intellij.compiler.help.messasge.link=https://www.pantsbuild.org/build_files.html#target-granularity\n \n-pants.bsp.select.targets=Amend BSP Project\n+pants.bsp.select.targets=Amend Fastpass Project", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47154167a3a3c242973349908e4998d23b808cc5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4MzA1OA==", "bodyText": "nit: can we use a Executors.newSingleThreadScheduledExecutor() and .scheduleWithFixedDelay(...) instead? Feel free to ignore, not sure what's the idiomatic way to achieve this.", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481083058", "createdAt": "2020-09-01T11:58:47Z", "author": {"login": "olafurpg"}, "path": "src/com/twitter/intellij/pants/bsp/FastpassUtils.java", "diffHunk": "@@ -248,4 +207,32 @@ private static String toString(InputStream process) throws IOException {\n         ))\n     );\n   }\n+\n+  /**\n+   * Instead of of JDK9's CompletableFuture::onExit\n+   */\n+  @NotNull\n+  public static CompletableFuture<Process> onExit(@NotNull Process process) {\n+    return CompletableFuture.supplyAsync(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47154167a3a3c242973349908e4998d23b808cc5"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4Mzg0NQ==", "bodyText": "Feel free to ignore this suggestion\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Thread.sleep(15000);\n          \n          \n            \n                    Thread.sleep(java.util.concurrent.TimeUnit.SECONDS.toMillis(15));", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481083845", "createdAt": "2020-09-01T12:00:06Z", "author": {"login": "olafurpg"}, "path": "src/com/twitter/intellij/pants/bsp/FastpassUtils.java", "diffHunk": "@@ -248,4 +207,32 @@ private static String toString(InputStream process) throws IOException {\n         ))\n     );\n   }\n+\n+  /**\n+   * Instead of of JDK9's CompletableFuture::onExit\n+   */\n+  @NotNull\n+  public static CompletableFuture<Process> onExit(@NotNull Process process) {\n+    return CompletableFuture.supplyAsync(() -> {\n+      try {\n+        Thread.sleep(15000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "47154167a3a3c242973349908e4998d23b808cc5"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4NjIyNw==", "bodyText": "Can you explain why we sleep 15 seconds? What happens if the amend process completes faster than 15 seconds?", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481086227", "createdAt": "2020-09-01T12:04:20Z", "author": {"login": "olafurpg"}, "path": "src/com/twitter/intellij/pants/bsp/FastpassUtils.java", "diffHunk": "@@ -248,4 +207,32 @@ private static String toString(InputStream process) throws IOException {\n         ))\n     );\n   }\n+\n+  /**\n+   * Instead of of JDK9's CompletableFuture::onExit\n+   */\n+  @NotNull\n+  public static CompletableFuture<Process> onExit(@NotNull Process process) {\n+    return CompletableFuture.supplyAsync(() -> {\n+      try {\n+        Thread.sleep(15000);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4Mzg0NQ=="}, "originalCommit": {"oid": "47154167a3a3c242973349908e4998d23b808cc5"}, "originalPosition": 81}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjIwNjAx", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#pullrequestreview-480620601", "createdAt": "2020-09-02T08:58:34Z", "commit": {"oid": "2d52d9f2b427f8fc2cfa600e1182a8b25fb77709"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODo1ODozNVrOHLlgAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODo1ODo0MFrOHLlgaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTkxMDc4Nw==", "bodyText": "For consistency with other commands\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          text=\"Create new fastpass project based on this Pants project\">\n          \n          \n            \n                          text=\"Create new Fastpass project based on this Pants project\">", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481910787", "createdAt": "2020-09-02T08:58:35Z", "author": {"login": "olafurpg"}, "path": "resources/META-INF/plugin.xml", "diffHunk": "@@ -64,7 +64,7 @@\n       </action>\n       <action id=\"com.twitter.intellij.pants.ui.PantsToBspProjectAction\"\n               class=\"com.twitter.intellij.pants.ui.PantsToBspProjectAction\"\n-              text=\"Create new BSP project based on this Pants project\">\n+              text=\"Create new fastpass project based on this Pants project\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d52d9f2b427f8fc2cfa600e1182a8b25fb77709"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTkxMDg4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            pants.message.amend.in.progress=Fastpass Amend already in progress\n          \n          \n            \n            pants.message.amend.in.progress=Fastpass amend already in progress", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#discussion_r481910889", "createdAt": "2020-09-02T08:58:40Z", "author": {"login": "olafurpg"}, "path": "common/com/twitter/intellij/pants/PantsBundle.properties", "diffHunk": "@@ -77,3 +77,4 @@ pants.bsp.msg.box.amend.title=BSP Amend\n pants.bsp.msg.box.specs.unchanged.content=Unchanged target specs, no import necessary\n pants.bsp.file.editor.amend.notification.title=To edit this file, convert ''{0}'' to source dependency\n pants.bsp.editor.convert.button=Convert\n+pants.message.amend.in.progress=Fastpass Amend already in progress", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d52d9f2b427f8fc2cfa600e1182a8b25fb77709"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78e91a5b580a2cd3f0ff86f12537258d59d3e8db", "author": {"user": {"login": "tpasternak", "name": "Tomasz Pasternak"}}, "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/78e91a5b580a2cd3f0ff86f12537258d59d3e8db", "committedDate": "2020-09-02T16:08:50Z", "message": "Run \"Fastpass amend\" in background"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6176fe029ff3dcbf1a75309342cab8f7e92883b1", "author": {"user": {"login": "tpasternak", "name": "Tomasz Pasternak"}}, "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/6176fe029ff3dcbf1a75309342cab8f7e92883b1", "committedDate": "2020-09-02T16:08:50Z", "message": "Label modifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9ce1160075837b309bc2379017e95c65310dbf9", "author": {"user": {"login": "tpasternak", "name": "Tomasz Pasternak"}}, "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/c9ce1160075837b309bc2379017e95c65310dbf9", "committedDate": "2020-09-02T19:04:42Z", "message": "Change fastpass -> Fastpass in label\n\nCo-authored-by: \u00d3lafur P\u00e1ll Geirsson <olafurpg@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f7b4d505aafc3afe6d453bc2d9ddb81424c9238", "author": {"user": {"login": "tpasternak", "name": "Tomasz Pasternak"}}, "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/3f7b4d505aafc3afe6d453bc2d9ddb81424c9238", "committedDate": "2020-09-02T19:05:00Z", "message": "Change Amend -> amend in label\n\nCo-authored-by: \u00d3lafur P\u00e1ll Geirsson <olafurpg@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxODI1NjM3", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/563#pullrequestreview-481825637", "createdAt": "2020-09-03T13:14:45Z", "commit": {"oid": "3f7b4d505aafc3afe6d453bc2d9ddb81424c9238"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1917, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}