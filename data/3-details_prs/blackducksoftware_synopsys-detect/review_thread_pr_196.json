{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MjU5Nzcy", "number": 196, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNjowODo0OFrOEICabg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNjowODo0OFrOEICabg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2ODYzNTk4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/detect/lifecycle/run/RunManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNjowODo0OFrOGnwb9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNTowODoxMVrOGrBCSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MTIzOA==", "bodyText": "did these changes for runBlackDuckProduct reduce the complexity enough?", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/196#discussion_r444341238", "createdAt": "2020-06-23T16:08:48Z", "author": {"login": "crowleySynopsys"}, "path": "src/main/java/com/synopsys/integration/detect/lifecycle/run/RunManager.java", "diffHunk": "@@ -401,17 +414,17 @@ private void runBlackDuckProduct(final ProductRunData productRunData, final Dete\n         logger.info(ReportConstants.RUN_SEPARATOR);\n         if (null != blackDuckServicesFactory) {\n             logger.info(\"Will perform Black Duck post actions.\");\n-            final BlackDuckPostOptions blackDuckPostOptions = detectConfigurationFactory.createBlackDuckPostOptions();\n-            final BlackDuckPostActions blackDuckPostActions = new BlackDuckPostActions(blackDuckServicesFactory, eventSystem);\n+            BlackDuckPostOptions blackDuckPostOptions = detectConfigurationFactory.createBlackDuckPostOptions();\n+            BlackDuckPostActions blackDuckPostActions = new BlackDuckPostActions(blackDuckServicesFactory, eventSystem);\n             blackDuckPostActions.perform(blackDuckPostOptions, codeLocationWaitController, projectVersionWrapper, detectConfigurationFactory.findTimeoutInSeconds());\n \n-            if ((bdioResult.getUploadTargets().size() > 0 || detectToolFilter.shouldInclude(DetectTool.SIGNATURE_SCAN))) {\n-                final Optional<String> componentsLink = Optional.ofNullable(projectVersionWrapper)\n-                                                            .map(ProjectVersionWrapper::getProjectVersionView)\n-                                                            .flatMap(projectVersionView -> projectVersionView.getFirstLink(ProjectVersionView.COMPONENTS_LINK));\n+            if ((!bdioResult.getUploadTargets().isEmpty() || detectToolFilter.shouldInclude(DetectTool.SIGNATURE_SCAN))) {\n+                Optional<String> componentsLink = Optional.ofNullable(projectVersionWrapper)\n+                                                      .map(ProjectVersionWrapper::getProjectVersionView)\n+                                                      .flatMap(projectVersionView -> projectVersionView.getFirstLink(ProjectVersionView.COMPONENTS_LINK));\n \n                 if (componentsLink.isPresent()) {\n-                    final DetectResult detectResult = new BlackDuckBomDetectResult(componentsLink.get());\n+                    DetectResult detectResult = new BlackDuckBomDetectResult(componentsLink.get());\n                     eventSystem.publishEvent(Event.ResultProduced, detectResult);\n                 }\n             }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2383426e1987c2a897fc91f57c01d95142b0371"}, "originalPosition": 349}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzc1ODkyMw==", "bodyText": "Not the final removals. I did slightly restructure one method. There were multiple cognitive complexity issues in this file. I am only addressing one of them here. Not quite sure how I want to tackle this file going forward.", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/196#discussion_r447758923", "createdAt": "2020-06-30T15:08:11Z", "author": {"login": "JakeMathews"}, "path": "src/main/java/com/synopsys/integration/detect/lifecycle/run/RunManager.java", "diffHunk": "@@ -401,17 +414,17 @@ private void runBlackDuckProduct(final ProductRunData productRunData, final Dete\n         logger.info(ReportConstants.RUN_SEPARATOR);\n         if (null != blackDuckServicesFactory) {\n             logger.info(\"Will perform Black Duck post actions.\");\n-            final BlackDuckPostOptions blackDuckPostOptions = detectConfigurationFactory.createBlackDuckPostOptions();\n-            final BlackDuckPostActions blackDuckPostActions = new BlackDuckPostActions(blackDuckServicesFactory, eventSystem);\n+            BlackDuckPostOptions blackDuckPostOptions = detectConfigurationFactory.createBlackDuckPostOptions();\n+            BlackDuckPostActions blackDuckPostActions = new BlackDuckPostActions(blackDuckServicesFactory, eventSystem);\n             blackDuckPostActions.perform(blackDuckPostOptions, codeLocationWaitController, projectVersionWrapper, detectConfigurationFactory.findTimeoutInSeconds());\n \n-            if ((bdioResult.getUploadTargets().size() > 0 || detectToolFilter.shouldInclude(DetectTool.SIGNATURE_SCAN))) {\n-                final Optional<String> componentsLink = Optional.ofNullable(projectVersionWrapper)\n-                                                            .map(ProjectVersionWrapper::getProjectVersionView)\n-                                                            .flatMap(projectVersionView -> projectVersionView.getFirstLink(ProjectVersionView.COMPONENTS_LINK));\n+            if ((!bdioResult.getUploadTargets().isEmpty() || detectToolFilter.shouldInclude(DetectTool.SIGNATURE_SCAN))) {\n+                Optional<String> componentsLink = Optional.ofNullable(projectVersionWrapper)\n+                                                      .map(ProjectVersionWrapper::getProjectVersionView)\n+                                                      .flatMap(projectVersionView -> projectVersionView.getFirstLink(ProjectVersionView.COMPONENTS_LINK));\n \n                 if (componentsLink.isPresent()) {\n-                    final DetectResult detectResult = new BlackDuckBomDetectResult(componentsLink.get());\n+                    DetectResult detectResult = new BlackDuckBomDetectResult(componentsLink.get());\n                     eventSystem.publishEvent(Event.ResultProduced, detectResult);\n                 }\n             }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MTIzOA=="}, "originalCommit": {"oid": "b2383426e1987c2a897fc91f57c01d95142b0371"}, "originalPosition": 349}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1627, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}