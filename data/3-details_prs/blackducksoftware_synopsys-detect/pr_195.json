{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTI4NDcw", "number": 195, "title": "Go mod replace implementations", "bodyText": "Exploring implementations for go mod replace as per IDETECT-2075", "createdAt": "2020-06-19T14:20:24Z", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/195", "merged": true, "mergeCommit": {"oid": "ce69409964f8cc6af2be9eae7c93e261f7149112"}, "closed": true, "closedAt": "2020-07-13T20:46:37Z", "author": {"login": "crowleySynopsys"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcskPx1AH2gAyNDM3MTI4NDcwOmQ3ZTY2YTk2OTdhOTA4MjY5ZTBiMWY2NGE1MWI0OWViMDQxNDJiYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczSvL3gH2gAyNDM3MTI4NDcwOmNlNjk0MDk5NjRmOGNjNmFmMmJlOWVhZTdjOTNlMjYxZjcxNDkxMTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7e66a9697a908269e0b1f64a51b49eb04142ba2", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/d7e66a9697a908269e0b1f64a51b49eb04142ba2", "committedDate": "2020-06-18T20:12:34Z", "message": "feat: Introduced second implementation for gomod replace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "229e4a7239e9f7338e41760ec6ec83aac07c20d5", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/229e4a7239e9f7338e41760ec6ec83aac07c20d5", "committedDate": "2020-06-18T20:17:29Z", "message": "style: Added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0896970031bc8cac0e79d0ae2eac46624be921ce", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/0896970031bc8cac0e79d0ae2eac46624be921ce", "committedDate": "2020-06-18T20:45:02Z", "message": "fix: Accounted for unusual component versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b9ae0a2430d3a3b8d06bd6d662901b0194dc822", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/0b9ae0a2430d3a3b8d06bd6d662901b0194dc822", "committedDate": "2020-06-18T21:26:17Z", "message": "feat: Added third implementation for replacement data extractor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9561126e26ae067c7e9bb5099e1e62abd9d8d065", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/9561126e26ae067c7e9bb5099e1e62abd9d8d065", "committedDate": "2020-06-18T21:34:57Z", "message": "feat: Added catches for JsonSyntaxExceptions from gson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2e04abd81ea3b501d7480d716d03f7e3a3b09e9", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/e2e04abd81ea3b501d7480d716d03f7e3a3b09e9", "committedDate": "2020-06-19T14:29:47Z", "message": "fix: Adjusted test to account for change to extractor B"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzE4Mzc3", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/195#pullrequestreview-443318377", "createdAt": "2020-07-06T18:35:32Z", "commit": {"oid": "e2e04abd81ea3b501d7480d716d03f7e3a3b09e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozNTozMlrOGtixKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozNTozMlrOGtixKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwODc0NQ==", "bodyText": "I prefer replacementDataExtractorC but he should return the replacement map (and not be passed a shared map).\nMap<String, String> replacementData = replacementDataExtractorC.extractReplacementData(listUJsonOutput);", "url": "https://github.com/blackducksoftware/synopsys-detect/pull/195#discussion_r450408745", "createdAt": "2020-07-06T18:35:32Z", "author": {"login": "taikuukaits"}, "path": "detectable/src/main/java/com/synopsys/integration/detectable/detectables/go/gomod/GoModCliExtractor.java", "diffHunk": "@@ -78,20 +80,8 @@ public Extraction extract(final File directory, final File goExe) {\n \n     private List<String> modGraphOutputWithReplacements(File directory, File goExe, List<String> listUJsonOutput) throws ExecutableRunnerException, DetectableException {\n         final List<String> modGraphOutput = execute(directory, goExe, \"Querying for the go mod graph failed:\", \"mod\", \"graph\");\n-        String jsonString = convertOutputToJsonString(listUJsonOutput);\n-\n-        Type goListUJsonEntryType = new TypeToken<List<GoListUJsonData>>() {}.getType();\n-        List<GoListUJsonData> data = gson.fromJson(jsonString, goListUJsonEntryType);\n \n-        for (final GoListUJsonData entry : data) {\n-            ReplaceData replace = entry.getReplace();\n-            if (replace != null) {\n-                String path = entry.getPath();\n-                String originalVersion = entry.getVersion();\n-                String replaceVersion = replace.getVersion();\n-                replacementData.put(String.format(\"%s@%s\", path, originalVersion), String.format(\"%s@%s\", path, replaceVersion));\n-            }\n-        }\n+        replacementDataExtractorC.extractReplacementData(listUJsonOutput);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2e04abd81ea3b501d7480d716d03f7e3a3b09e9"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce69409964f8cc6af2be9eae7c93e261f7149112", "author": {"user": {"login": "crowleySynopsys", "name": null}}, "url": "https://github.com/blackducksoftware/synopsys-detect/commit/ce69409964f8cc6af2be9eae7c93e261f7149112", "committedDate": "2020-07-09T17:46:03Z", "message": "feat: ReplacementDataExtractors now return maps instead of modifying a shared map"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3332, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}