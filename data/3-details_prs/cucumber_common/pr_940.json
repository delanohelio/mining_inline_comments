{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTAwMTE3", "number": 940, "title": "[gherkin-c] Linking against libmath", "bodyText": "Problem\nLlinking fails on log10 function in error_list.c\nSolution\nInclude libmath in the target_link_libraries so log10 function can be linked.\nTypes of changes\n\n Bug fix (non-breaking change which fixes an issue).\n New feature (non-breaking change which adds functionality).\n Breaking change (fix or feature that would cause existing functionality to not work as expected).", "createdAt": "2020-03-21T19:20:44Z", "url": "https://github.com/cucumber/common/pull/940", "merged": true, "mergeCommit": {"oid": "926fb4b2ac635c8c29bcfb98ba03c0f0682e6642"}, "closed": true, "closedAt": "2020-04-17T09:09:37Z", "author": {"login": "sappo"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcP6EX4gH2gAyMzkxOTAwMTE3Ojk1ZjZkM2EyYjFiMzJjY2VmNDU4NTFmNGU2NzJiZWZhMDc2OWM5MjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYdU5OAH2gAyMzkxOTAwMTE3OjhmYTM5MjFmMjZlODEwOGI2OGQ4ZWNlNDNlNjBhZmM1YmJmOTcwNDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "95f6d3a2b1b32ccef45851f4e672befa0769c925", "author": {"user": {"login": "sappo", "name": "Kevin Sapper"}}, "url": "https://github.com/cucumber/common/commit/95f6d3a2b1b32ccef45851f4e672befa0769c925", "committedDate": "2020-03-21T19:14:13Z", "message": "Problem: gherkin-c linking fails on log10 function\n\nSolution: Include libmath in the target_link_libraries so log10 function\ncan be linked."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ffefa0a8e78c3c88a17f7926f7ab33dd627649b", "author": {"user": {"login": "sappo", "name": "Kevin Sapper"}}, "url": "https://github.com/cucumber/common/commit/2ffefa0a8e78c3c88a17f7926f7ab33dd627649b", "committedDate": "2020-04-06T10:42:26Z", "message": "Problem: Cannot link against shared libraries\n\nSolution: Compile with -fPIC enabled by CMAKE_POSITION_INDEPENDENCT_CODE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MTcwNjk5", "url": "https://github.com/cucumber/common/pull/940#pullrequestreview-394170699", "createdAt": "2020-04-15T22:10:07Z", "commit": {"oid": "2ffefa0a8e78c3c88a17f7926f7ab33dd627649b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjoxMDowN1rOGGNY8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjoxMDoyMVrOGGNZXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE2NDAxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            target_link_libraries(gherkinexe gherkin m)\n          \n          \n            \n            target_link_libraries(gherkinexe PUBLIC gherkin PRIVATE m)\n          \n      \n    \n    \n  \n\nI don't know too much about C or CMake. But shouldn't this be linked privately so as not to expose math as part of the link interface?", "url": "https://github.com/cucumber/common/pull/940#discussion_r409164016", "createdAt": "2020-04-15T22:10:07Z", "author": {"login": "mpkorstanje"}, "path": "gherkin/c/CMakeLists.txt", "diffHunk": "@@ -70,11 +71,11 @@ target_include_directories(gherkin PUBLIC\n     \"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include;${CMAKE_CURRENT_SOURCE_DIR}/src>\")\n \n add_executable(gherkinexe ${GHERKIN_CLI})\n-target_link_libraries(gherkinexe gherkin)\n+target_link_libraries(gherkinexe gherkin m)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ffefa0a8e78c3c88a17f7926f7ab33dd627649b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE2NDEyNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            target_link_libraries(gherkin_generate_tokens gherkin m)\n          \n          \n            \n            target_link_libraries(gherkin_generate_tokens PUBLIC gherkin PRIVATE m)", "url": "https://github.com/cucumber/common/pull/940#discussion_r409164124", "createdAt": "2020-04-15T22:10:21Z", "author": {"login": "mpkorstanje"}, "path": "gherkin/c/CMakeLists.txt", "diffHunk": "@@ -70,11 +71,11 @@ target_include_directories(gherkin PUBLIC\n     \"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include;${CMAKE_CURRENT_SOURCE_DIR}/src>\")\n \n add_executable(gherkinexe ${GHERKIN_CLI})\n-target_link_libraries(gherkinexe gherkin)\n+target_link_libraries(gherkinexe gherkin m)\n target_include_directories(gherkinexe PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include ${CMAKE_CURRENT_SOURCE_DIR}/src)\n \n add_executable(gherkin_generate_tokens ${GENERATE_TOKEN})\n-target_link_libraries(gherkin_generate_tokens gherkin)\n+target_link_libraries(gherkin_generate_tokens gherkin m)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ffefa0a8e78c3c88a17f7926f7ab33dd627649b"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af630e39cfc5b0bff3c4485293fabddc0a9acea5", "author": {"user": {"login": "mpkorstanje", "name": "M.P. Korstanje"}}, "url": "https://github.com/cucumber/common/commit/af630e39cfc5b0bff3c4485293fabddc0a9acea5", "committedDate": "2020-04-15T22:19:44Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fa3921f26e8108b68d8ece43e60afc5bbf97041", "author": {"user": {"login": "sappo", "name": "Kevin Sapper"}}, "url": "https://github.com/cucumber/common/commit/8fa3921f26e8108b68d8ece43e60afc5bbf97041", "committedDate": "2020-04-17T08:50:20Z", "message": "Problem: libgherkin does not link against libmath\n\nThe missing link against libmath forces users of this library\nto link against libmath themselves even though libmath is not used in\nany public interface.\n\nSolution: Tell cmake to link libgherkin against libmath and make this\nlink private so its not exposed in the link interface."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3080, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}