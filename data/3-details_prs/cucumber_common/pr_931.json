{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2Njg1NDE0", "number": 931, "title": "Ruby html-formatter", "bodyText": "Create html-formatter for Ruby, based on what has been done for Java and Javascript.", "createdAt": "2020-03-11T13:20:43Z", "url": "https://github.com/cucumber/common/pull/931", "merged": true, "mergeCommit": {"oid": "347912cc9cbaf98c2e14fb19c0f324541fc4c92e"}, "closed": true, "closedAt": "2020-03-13T10:28:11Z", "author": {"login": "vincent-psarga"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMnAJhAH2gAyMzg2Njg1NDE0OjU4MzA5OGFiYTMwZTM4YmZiMTE2Y2MzMzI5NDFiN2MxNzdiODYxNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNLuuCgH2gAyMzg2Njg1NDE0OjMxMGM1ZWQ4YjYwMzdmMzk2MWMwMTM1MTEzYjczNWQ4M2FkMmJiMzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "583098aba30e38bfb116cc332941b7c177b86178", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/583098aba30e38bfb116cc332941b7c177b86178", "committedDate": "2020-03-11T13:19:38Z", "message": "Initialize gem for html-formatter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94385856712f0e8f1faf8446e8334dfddd76610d", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/94385856712f0e8f1faf8446e8334dfddd76610d", "committedDate": "2020-03-11T13:22:53Z", "message": "Enable CircleCI on html-formatter/ruby"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0017f71958c0f5b59ffb9bac4fab5a50375ced2", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/f0017f71958c0f5b59ffb9bac4fab5a50375ced2", "committedDate": "2020-03-11T13:59:39Z", "message": "Add acceptance tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3a8ecc996f2039301875b32a42930291204be60", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/e3a8ecc996f2039301875b32a42930291204be60", "committedDate": "2020-03-11T14:23:41Z", "message": "Copy needed data from html-formatter/javascript"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb58f821fb3b574ab93301fde58f79db8ef06225", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/bb58f821fb3b574ab93301fde58f79db8ef06225", "committedDate": "2020-03-11T14:59:51Z", "message": "Start simple mustache formatter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a345a90810e20de6a746e867944e7a9760ba5e69", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/a345a90810e20de6a746e867944e7a9760ba5e69", "committedDate": "2020-03-11T15:03:02Z", "message": "Ensure content before messages is only written once"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63c8fb1a90cbb187665d8536039234965784349b", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/63c8fb1a90cbb187665d8536039234965784349b", "committedDate": "2020-03-11T15:40:05Z", "message": "Added TemplateWriter class to cut content of the template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1198c1cf621dd3f7abc17683b1f51c034cc285a", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/c1198c1cf621dd3f7abc17683b1f51c034cc285a", "committedDate": "2020-03-11T16:53:24Z", "message": "Produce complete HTML"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36fe56e9a5ca501507545d29854bd4160409ee81", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/36fe56e9a5ca501507545d29854bd4160409ee81", "committedDate": "2020-03-12T07:38:13Z", "message": "Move assets loading in a specific class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a42c1bd36b6b92532ac73eb184aca5de53c2499d", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/a42c1bd36b6b92532ac73eb184aca5de53c2499d", "committedDate": "2020-03-12T07:45:41Z", "message": "Make tests more robust by mocking templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32f8824a8db90022cb2627e3c3baa4375cfa1778", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/32f8824a8db90022cb2627e3c3baa4375cfa1778", "committedDate": "2020-03-12T08:00:51Z", "message": "Add some tests for assets loader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ce43b6faae047aba89f12fd090bb84347464501", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/8ce43b6faae047aba89f12fd090bb84347464501", "committedDate": "2020-03-12T08:20:32Z", "message": "Implement html-formatter client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6949560819015c257c7fccf1db2f99f62e1c5b5", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/f6949560819015c257c7fccf1db2f99f62e1c5b5", "committedDate": "2020-03-12T08:42:13Z", "message": "Also use messages from CCK as acceptance tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e2c110ba37e114029ea4d5bcab4ea5f08ef5b54", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/9e2c110ba37e114029ea4d5bcab4ea5f08ef5b54", "committedDate": "2020-03-12T08:46:39Z", "message": "Enable specifying message format for CLI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e974d9f6c887401dc2279d12c6a3e07a67e985c", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/2e974d9f6c887401dc2279d12c6a3e07a67e985c", "committedDate": "2020-03-12T08:57:46Z", "message": "Add .process_messages entry point to formatter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84a0b9be543eb31e8594bc02c9cc2020a8e9abac", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/84a0b9be543eb31e8594bc02c9cc2020a8e9abac", "committedDate": "2020-03-12T09:00:28Z", "message": "Merge branch 'master' into html-formatter-for-ruby"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2bf6e06b0d2ad4bd8cbdb787e60ffd8bbccbdb4", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/d2bf6e06b0d2ad4bd8cbdb787e60ffd8bbccbdb4", "committedDate": "2020-03-12T09:11:18Z", "message": "Rename executable 'cucumber-html-formatter'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee0d26f072ff077eb344d1c0ae8db5f07b115e96", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/ee0d26f072ff077eb344d1c0ae8db5f07b115e96", "committedDate": "2020-03-12T09:15:10Z", "message": "Use same version as other formatters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14a6e125e463eb6f7eae0165c84ef33b38e5729c", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/14a6e125e463eb6f7eae0165c84ef33b38e5729c", "committedDate": "2020-03-12T09:30:26Z", "message": "Do not store assets in GIT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57d7541115d54e4453b45ce57c026f33f45332b9", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/57d7541115d54e4453b45ce57c026f33f45332b9", "committedDate": "2020-03-12T09:32:55Z", "message": "Do not run fake-cucumber as part of default make target as Node is not available on CI,\nuse CCK messages instead."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70d66eecf0e51e19c4d97fcb8029b546d606feb4", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/70d66eecf0e51e19c4d97fcb8029b546d606feb4", "committedDate": "2020-03-12T09:36:22Z", "message": "Add subrepo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe395c6aed8b3ff472245ad36e9aa9979963c6d1", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/fe395c6aed8b3ff472245ad36e9aa9979963c6d1", "committedDate": "2020-03-12T09:52:36Z", "message": "Apparently the assets removal was not properly commited"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNDEwNjg0", "url": "https://github.com/cucumber/common/pull/931#pullrequestreview-373410684", "createdAt": "2020-03-12T09:53:05Z", "commit": {"oid": "70d66eecf0e51e19c4d97fcb8029b546d606feb4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1MzowNVrOF1Xueg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1MzowNVrOF1Xueg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTUwNzU3OA==", "bodyText": "Are these removed again when make clean is used?", "url": "https://github.com/cucumber/common/pull/931#discussion_r391507578", "createdAt": "2020-03-12T09:53:05Z", "author": {"login": "mpkorstanje"}, "path": "html-formatter/ruby/assets/.gitignore", "diffHunk": "@@ -0,0 +1,3 @@\n+*.html\n+*.js\n+*.css", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70d66eecf0e51e19c4d97fcb8029b546d606feb4"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNDExNDY2", "url": "https://github.com/cucumber/common/pull/931#pullrequestreview-373411466", "createdAt": "2020-03-12T09:54:06Z", "commit": {"oid": "70d66eecf0e51e19c4d97fcb8029b546d606feb4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1NDowNlrOF1Xw8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1NDowNlrOF1Xw8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTUwODIwOQ==", "bodyText": "This file is duplicated 2 times now. Perhaps we should copy it from the html-formatter directory.", "url": "https://github.com/cucumber/common/pull/931#discussion_r391508209", "createdAt": "2020-03-12T09:54:06Z", "author": {"login": "mpkorstanje"}, "path": "html-formatter/ruby/assets/index.mustache.html", "diffHunk": "@@ -0,0 +1,20 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+<head>\n+\t<title>Cucumber</title>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70d66eecf0e51e19c4d97fcb8029b546d606feb4"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92b3fbd575173250f062ab37b477a7670344b9cc", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/92b3fbd575173250f062ab37b477a7670344b9cc", "committedDate": "2020-03-12T09:54:59Z", "message": "Remove assets when running make clean"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNDE0NTA4", "url": "https://github.com/cucumber/common/pull/931#pullrequestreview-373414508", "createdAt": "2020-03-12T09:58:06Z", "commit": {"oid": "92b3fbd575173250f062ab37b477a7670344b9cc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1ODowN1rOF1X6bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTo1ODowN1rOF1X6bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTUxMDYzOQ==", "bodyText": "Does this override the clean directive in the included make file or does it extend it?", "url": "https://github.com/cucumber/common/pull/931#discussion_r391510639", "createdAt": "2020-03-12T09:58:07Z", "author": {"login": "mpkorstanje"}, "path": "html-formatter/ruby/Makefile", "diffHunk": "@@ -0,0 +1,42 @@\n+include default.mk\n+# https://stackoverflow.com/questions/2483182/recursive-wildcards-in-gnu-make\n+rwildcard=$(foreach d,$(wildcard $(1:=/*)),$(call rwildcard,$d,$2) $(filter $(subst *,%,$2),$d))\n+\n+SOURCE_FEATURES=$(call rwildcard,../javascript/features,*.feature)\n+FEATURES=$(patsubst ../javascript/%,%,$(SOURCE_FEATURES))\n+CCK_MESSAGES=$(call rwildcard,../../compatibility-kit/ruby,*.ndjson)\n+\n+.deps: assets/cucumber-react.css assets/cucumber-html.js assets/index.mustache.html\n+\n+.tested: acceptance/cck.html\n+\n+acceptance/cck.html: $(CCK_MESSAGES)\n+\tmkdir -p $(@D)\n+\tcat $^ | bundle exec bin/cucumber-html-formatter --format ndjson > $@\n+\n+acceptance/cucumber.html: .deps $(FEATURES)\n+\tmkdir -p $(@D)\n+\t../../fake-cucumber/javascript/bin/fake-cucumber \\\n+\t  --format ndjson \\\n+\t\tfeatures/*.feature | \\\n+\t\tbundle exec bin/cucumber-html-formatter --format ndjson > \\\n+\t\t$@\n+\n+features/%.feature: ../javascript/features/%.feature\n+\tcp $^ $@\n+\n+assets/cucumber-react.css:\n+\tmkdir -p $(@D)\n+\tcp ../../react/javascript/dist/src/styles/cucumber-react.css $@\n+\n+assets/cucumber-html.js:\n+\tmkdir -p $(@D)\n+\tcp ../javascript/dist/main.js $@\n+\n+assets/index.mustache.html:\n+\tmkdir -p $(@D)\n+\tcp ../javascript/dist/src/index.mustache.html $@\n+\n+\n+clean:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92b3fbd575173250f062ab37b477a7670344b9cc"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39fd352ebe5f402e8e4135dd6274446b6d538ede", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/39fd352ebe5f402e8e4135dd6274446b6d538ede", "committedDate": "2020-03-12T13:12:23Z", "message": "CI: persist compatibility-kit/ruby generated files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "310c5ed8b6037f3961c0135113b735d83ad2bb35", "author": {"user": {"login": "vincent-psarga", "name": "Vincent"}}, "url": "https://github.com/cucumber/common/commit/310c5ed8b6037f3961c0135113b735d83ad2bb35", "committedDate": "2020-03-13T08:07:05Z", "message": "Update changelog"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3077, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}