{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MTI5OTky", "number": 481, "title": "Remote Config Refactor Public and Response types", "bodyText": "Refactor public and response types\nChange the response DTOs to simple java beans (with getters and setters)\nAdd protected ctors to public types to initialize from the corresponding response types\n\nRelated to: #446", "createdAt": "2020-10-02T20:52:31Z", "url": "https://github.com/firebase/firebase-admin-java/pull/481", "merged": true, "mergeCommit": {"oid": "01d0c98ef2ba9bccc1d2331fbed8b39e2c5410f7"}, "closed": true, "closedAt": "2020-10-06T16:10:25Z", "author": {"login": "lahirumaramba"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOscdagBqjM4MzU2MzA4OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP52l3gH2gAyNDk3MTI5OTkyOmNlNDk5ZjQ4ODBhYTdlOTNjZTNhYWZmMGI3ZjUzNmViOGU3MGM1NjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e205b6205444fe4019bed6fb8a8892910ea739b1", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/e205b6205444fe4019bed6fb8a8892910ea739b1", "committedDate": "2020-10-02T20:47:44Z", "message": "Refactor Public and Response types"}, "afterCommit": {"oid": "7439447e564667369a51921afea618c8b28875d7", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/7439447e564667369a51921afea618c8b28875d7", "committedDate": "2020-10-02T20:58:45Z", "message": "Refactor Public and Response types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daceb34df2150620a3d9d375d4d5d8815e05c9b3", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/daceb34df2150620a3d9d375d4d5d8815e05c9b3", "committedDate": "2020-10-02T21:00:12Z", "message": "Refactor Public and Response types"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7439447e564667369a51921afea618c8b28875d7", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/7439447e564667369a51921afea618c8b28875d7", "committedDate": "2020-10-02T20:58:45Z", "message": "Refactor Public and Response types"}, "afterCommit": {"oid": "daceb34df2150620a3d9d375d4d5d8815e05c9b3", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/daceb34df2150620a3d9d375d4d5d8815e05c9b3", "committedDate": "2020-10-02T21:00:12Z", "message": "Refactor Public and Response types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/a67f23bf58c8b3865995eec8a235d294baebf1e5", "committedDate": "2020-10-02T21:04:55Z", "message": "reformat code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNDY5NTM1", "url": "https://github.com/firebase/firebase-admin-java/pull/481#pullrequestreview-501469535", "createdAt": "2020-10-02T21:59:08Z", "commit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTo1OTowOFrOHb8qHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMjoxNDoxNlrOHb86kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NzQyMQ==", "bodyText": "No access modifier to make it package-protected", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499067421", "createdAt": "2020-10-02T21:59:08Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/RemoteConfigTemplate.java", "diffHunk": "@@ -39,6 +39,17 @@ public RemoteConfigTemplate() {\n     parameters = new HashMap<>();\n   }\n \n+  protected RemoteConfigTemplate(@NonNull TemplateResponse templateResponse) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NzYzMA==", "bodyText": "No access modifier", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499067630", "createdAt": "2020-10-02T21:59:52Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/RemoteConfigParameter.java", "diffHunk": "@@ -45,6 +44,21 @@ public RemoteConfigParameter() {\n     conditionalValues = new HashMap<>();\n   }\n \n+  protected RemoteConfigParameter(@NonNull ParameterResponse parameterResponse) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2ODE0NQ==", "bodyText": "I think this ought to be in the ParameterValue class. ParameterValue.fromParameterValueResponse() makes sense.", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499068145", "createdAt": "2020-10-02T22:01:37Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/RemoteConfigParameter.java", "diffHunk": "@@ -122,9 +136,21 @@ ParameterResponse toParameterResponse() {\n     for (Map.Entry<String, RemoteConfigParameterValue> entry : conditionalValues.entrySet()) {\n       conditionalResponseValues.put(entry.getKey(), entry.getValue().toParameterValueResponse());\n     }\n-    ParameterValueResponse parameterValueResponse = (defaultValue == null) ? null : defaultValue\n-            .toParameterValueResponse();\n-    return new ParameterResponse(parameterValueResponse, description,\n-            conditionalResponseValues);\n+    ParameterValueResponse defaultValueResponse = (defaultValue == null) ? null\n+            : defaultValue.toParameterValueResponse();\n+    return new ParameterResponse()\n+            .setDefaultValue(defaultValueResponse)\n+            .setDescription(description)\n+            .setConditionalValues(conditionalResponseValues);\n+  }\n+\n+  private RemoteConfigParameterValue fromParameterValueResponse(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2OTQyMA==", "bodyText": "Use this. to indicate local members. Particularly useful in constructor implementations.", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499069420", "createdAt": "2020-10-02T22:06:17Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/RemoteConfigParameter.java", "diffHunk": "@@ -45,6 +44,21 @@ public RemoteConfigParameter() {\n     conditionalValues = new HashMap<>();\n   }\n \n+  protected RemoteConfigParameter(@NonNull ParameterResponse parameterResponse) {\n+    checkNotNull(parameterResponse);\n+    conditionalValues = new HashMap<>();\n+    if (parameterResponse.getConditionalValues() != null) {\n+      for (Map.Entry<String, ParameterValueResponse> entry\n+              : parameterResponse.getConditionalValues().entrySet()) {\n+        conditionalValues.put(entry.getKey(), fromParameterValueResponse(entry.getValue()));\n+      }\n+    }\n+    ParameterValueResponse responseDefaultValue = parameterResponse.getDefaultValue();\n+    defaultValue = (responseDefaultValue == null) ? null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MDQ2NQ==", "bodyText": "Remove redundant null assignments.", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499070465", "createdAt": "2020-10-02T22:09:56Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/RemoteConfigParameterValue.java", "diffHunk": "@@ -67,7 +67,9 @@ public String getValue() {\n \n     @Override\n     ParameterValueResponse toParameterValueResponse() {\n-      return ParameterValueResponse.ofValue(this.value);\n+      return new ParameterValueResponse()\n+              .setValue(this.value)\n+              .setInAppDefaultValue(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MTM4Ng==", "bodyText": "is***() methods should never return null. Instead change this to one of the following:\npublic Boolean getUseInAppDefault() {\n  return this.useInAppDefault;\n}\n\npublic boolean isUseInAppDefault() {\n  return Boolean.TRUE.equals(this.useInAppDefault);\n}", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499071386", "createdAt": "2020-10-02T22:13:23Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/internal/TemplateResponse.java", "diffHunk": "@@ -110,27 +96,22 @@ public RemoteConfigParameter toRemoteConfigParameter() {\n     @Key(\"useInAppDefault\")\n     private Boolean inAppDefaultValue;\n \n-    public ParameterValueResponse() {\n-    }\n-\n-    private ParameterValueResponse(String value, Boolean inAppDefaultValue) {\n-      this.value = value;\n-      this.inAppDefaultValue = inAppDefaultValue;\n+    public String getValue() {\n+      return value;\n     }\n \n-    public static ParameterValueResponse ofValue(String value) {\n-      return new ParameterValueResponse(value, null);\n+    public Boolean isInAppDefaultValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MTQ0OQ==", "bodyText": "useInAppDefault", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499071449", "createdAt": "2020-10-02T22:13:36Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/internal/TemplateResponse.java", "diffHunk": "@@ -110,27 +96,22 @@ public RemoteConfigParameter toRemoteConfigParameter() {\n     @Key(\"useInAppDefault\")\n     private Boolean inAppDefaultValue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MTYzNA==", "bodyText": "Implement a setter that matches the getter you choose to implement.", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499071634", "createdAt": "2020-10-02T22:14:16Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/internal/TemplateResponse.java", "diffHunk": "@@ -110,27 +96,22 @@ public RemoteConfigParameter toRemoteConfigParameter() {\n     @Key(\"useInAppDefault\")\n     private Boolean inAppDefaultValue;\n \n-    public ParameterValueResponse() {\n-    }\n-\n-    private ParameterValueResponse(String value, Boolean inAppDefaultValue) {\n-      this.value = value;\n-      this.inAppDefaultValue = inAppDefaultValue;\n+    public String getValue() {\n+      return value;\n     }\n \n-    public static ParameterValueResponse ofValue(String value) {\n-      return new ParameterValueResponse(value, null);\n+    public Boolean isInAppDefaultValue() {\n+      return inAppDefaultValue;\n     }\n \n-    public static ParameterValueResponse ofInAppDefaultValue() {\n-      return new ParameterValueResponse(null, true);\n+    public ParameterValueResponse setValue(String value) {\n+      this.value = value;\n+      return this;\n     }\n \n-    public RemoteConfigParameterValue toRemoteConfigParameterValue() {\n-      if (this.inAppDefaultValue != null && this.inAppDefaultValue) {\n-        return RemoteConfigParameterValue.inAppDefault();\n-      }\n-      return RemoteConfigParameterValue.of(this.value);\n+    public ParameterValueResponse setInAppDefaultValue(Boolean inAppDefaultValue) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67f23bf58c8b3865995eec8a235d294baebf1e5"}, "originalPosition": 131}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a781d3b5e69daaa83fa9cb78c1faee963e09b67", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/8a781d3b5e69daaa83fa9cb78c1faee963e09b67", "committedDate": "2020-10-05T19:51:51Z", "message": "Clean up code style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNDc0NDcy", "url": "https://github.com/firebase/firebase-admin-java/pull/481#pullrequestreview-502474472", "createdAt": "2020-10-05T22:52:33Z", "commit": {"oid": "8a781d3b5e69daaa83fa9cb78c1faee963e09b67"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQyMjo1MjozM1rOHcwXIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQyMjo1MjozM1rOHcwXIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTkxNDUyOA==", "bodyText": "Is this used anywhere? If not lets remove it. And also change the setter to accept boolean so it matches the getter.", "url": "https://github.com/firebase/firebase-admin-java/pull/481#discussion_r499914528", "createdAt": "2020-10-05T22:52:33Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/internal/TemplateResponse.java", "diffHunk": "@@ -108,29 +94,28 @@ public RemoteConfigParameter toRemoteConfigParameter() {\n     private String value;\n \n     @Key(\"useInAppDefault\")\n-    private Boolean inAppDefaultValue;\n+    private Boolean useInAppDefault;\n \n-    public ParameterValueResponse() {\n+    public String getValue() {\n+      return value;\n     }\n \n-    private ParameterValueResponse(String value, Boolean inAppDefaultValue) {\n-      this.value = value;\n-      this.inAppDefaultValue = inAppDefaultValue;\n+    public Boolean getUseInAppDefault() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a781d3b5e69daaa83fa9cb78c1faee963e09b67"}, "originalPosition": 114}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce499f4880aa7e93ce3aaff0b7f536eb8e70c562", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/ce499f4880aa7e93ce3aaff0b7f536eb8e70c562", "committedDate": "2020-10-06T15:10:19Z", "message": "Remove getUseInAppDefault and use the value type in setter"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2766, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}