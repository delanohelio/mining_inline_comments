{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MDcyNDIy", "number": 489, "title": "Add Remote Config conditions to template", "bodyText": "Add Remote Config Conditions\nAdd unit tests\n\nRelated Issue: #446", "createdAt": "2020-10-16T19:55:05Z", "url": "https://github.com/firebase/firebase-admin-java/pull/489", "merged": true, "mergeCommit": {"oid": "e4bde999d4e072b5bf9d2f558d0124668b455070"}, "closed": true, "closedAt": "2020-10-27T21:30:04Z", "author": {"login": "lahirumaramba"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUcCsIAH2gAyNTA1MDcyNDIyOjFhODc4YTFmYmFmNTAwMmRkY2MyODcwNDJkYjJiODNiZmY1Yzc0ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWvzjYgFqTUxODE2MzI0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/1a878a1fbaf5002ddcc287042db2b83bff5c74d0", "committedDate": "2020-10-20T17:16:00Z", "message": "Add Remote Config conditions to template"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0b1306cd6cbbcd2a0f48f029ac3c849011d0555", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/f0b1306cd6cbbcd2a0f48f029ac3c849011d0555", "committedDate": "2020-10-16T19:54:09Z", "message": "Add Remote Config conditions to template"}, "afterCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/1a878a1fbaf5002ddcc287042db2b83bff5c74d0", "committedDate": "2020-10-20T17:16:00Z", "message": "Add Remote Config conditions to template"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTgxODgx", "url": "https://github.com/firebase/firebase-admin-java/pull/489#pullrequestreview-512981881", "createdAt": "2020-10-20T17:42:45Z", "commit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNzo0Mjo0NVrOHlJvEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNzo1MjoyNlrOHlKGyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcxODg2NA==", "bodyText": "Unnecessary linkage. Remove from all return descriptions.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508718864", "createdAt": "2020-10-20T17:42:45Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    checkArgument(!Strings.isNullOrEmpty(name), \"condition name must not be null or empty\");\n+    checkArgument(!Strings.isNullOrEmpty(expression),\n+            \"condition expression must not be null or empty\");\n+    this.name = name;\n+    this.expression = expression;\n+    this.tagColor = TagColor.UNSPECIFIED;\n+  }\n+\n+  Condition(@NonNull ConditionResponse conditionResponse) {\n+    checkNotNull(conditionResponse);\n+    this.name = conditionResponse.getName();\n+    this.expression = conditionResponse.getExpression();\n+    if (conditionResponse.getTagColor() == null) {\n+      this.tagColor = TagColor.UNSPECIFIED;\n+    } else {\n+      this.tagColor = TagColor.valueOf(conditionResponse.getTagColor());\n+    }\n+  }\n+\n+  /**\n+   * Gets the name of the condition.\n+   *\n+   * @return The {@link String} name of the condition.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcxOTQxOA==", "bodyText": "Why not just leave it as null?", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508719418", "createdAt": "2020-10-20T17:43:39Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    checkArgument(!Strings.isNullOrEmpty(name), \"condition name must not be null or empty\");\n+    checkArgument(!Strings.isNullOrEmpty(expression),\n+            \"condition expression must not be null or empty\");\n+    this.name = name;\n+    this.expression = expression;\n+    this.tagColor = TagColor.UNSPECIFIED;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMDA2Mg==", "bodyText": "I think we need a constructor that accepts the color as well.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508720062", "createdAt": "2020-10-20T17:44:43Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMDM5Mw==", "bodyText": "Add copyright header", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508720393", "createdAt": "2020-10-20T17:45:12Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/TagColor.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.google.firebase.remoteconfig;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMTQ0Mg==", "bodyText": "Just UNSPECIFIED?", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508721442", "createdAt": "2020-10-20T17:46:56Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/TagColor.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.google.firebase.remoteconfig;\n+\n+public enum TagColor {\n+  BLUE(\"BLUE\"),\n+  BROWN(\"BROWN\"),\n+  CYAN(\"CYAN\"),\n+  DEEP_ORANGE(\"DEEP_ORANGE\"),\n+  GREEN(\"GREEN\"),\n+  INDIGO(\"INDIGO\"),\n+  LIME(\"LIME\"),\n+  ORANGE(\"ORANGE\"),\n+  PINK(\"PINK\"),\n+  PURPLE(\"PURPLE\"),\n+  TEAL(\"TEAL\"),\n+  UNSPECIFIED(\"CONDITION_DISPLAY_COLOR_UNSPECIFIED\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMTc4MA==", "bodyText": "Can this be private?", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508721780", "createdAt": "2020-10-20T17:47:27Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/TagColor.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.google.firebase.remoteconfig;\n+\n+public enum TagColor {\n+  BLUE(\"BLUE\"),\n+  BROWN(\"BROWN\"),\n+  CYAN(\"CYAN\"),\n+  DEEP_ORANGE(\"DEEP_ORANGE\"),\n+  GREEN(\"GREEN\"),\n+  INDIGO(\"INDIGO\"),\n+  LIME(\"LIME\"),\n+  ORANGE(\"ORANGE\"),\n+  PINK(\"PINK\"),\n+  PURPLE(\"PURPLE\"),\n+  TEAL(\"TEAL\"),\n+  UNSPECIFIED(\"CONDITION_DISPLAY_COLOR_UNSPECIFIED\");\n+\n+  private final String color;\n+\n+  TagColor(String color) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyNDM5Mw==", "bodyText": "ImmutableList.of(\n  new Condition(...),\n  new Condition(...)\n);", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508724393", "createdAt": "2020-10-20T17:51:29Z", "author": {"login": "hiranya911"}, "path": "src/test/java/com/google/firebase/remoteconfig/FirebaseRemoteConfigClientImplTest.java", "diffHunk": "@@ -107,6 +109,24 @@ public void testGetTemplate() throws Exception {\n     assertTrue(\n             headerParameter.getDefaultValue() instanceof ParameterValue.InAppDefault);\n     checkGetRequestHeader(interceptor.getLastRequest());\n+\n+    // Check Conditions\n+    List<Condition> actualConditions = template.getConditions();\n+    List<Condition> expectedConditions = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyNDkzOQ==", "bodyText": "Might be meaningful to override equals() in Condition class, and use that here.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508724939", "createdAt": "2020-10-20T17:52:26Z", "author": {"login": "hiranya911"}, "path": "src/test/java/com/google/firebase/remoteconfig/FirebaseRemoteConfigClientImplTest.java", "diffHunk": "@@ -107,6 +109,24 @@ public void testGetTemplate() throws Exception {\n     assertTrue(\n             headerParameter.getDefaultValue() instanceof ParameterValue.InAppDefault);\n     checkGetRequestHeader(interceptor.getLastRequest());\n+\n+    // Check Conditions\n+    List<Condition> actualConditions = template.getConditions();\n+    List<Condition> expectedConditions = new ArrayList<>();\n+    expectedConditions\n+            .add(new Condition(\"ios_en\", \"device.os == 'ios' && device.country in ['us', 'uk']\")\n+                    .setTagColor(TagColor.INDIGO));\n+    expectedConditions\n+            .add(new Condition(\"android_en\",\n+                    \"device.os == 'android' && device.country in ['us', 'uk']\")\n+                    .setTagColor(TagColor.UNSPECIFIED));\n+    assertEquals(expectedConditions.size(), actualConditions.size());\n+    for (int i = 0; i < expectedConditions.size(); i++) {\n+      assertEquals(expectedConditions.get(i).getName(), actualConditions.get(i).getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/9d7c142405a775124b8b11202d277782c176eaa0", "committedDate": "2020-10-20T21:06:18Z", "message": "PR Fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMTU3MTU5", "url": "https://github.com/firebase/firebase-admin-java/pull/489#pullrequestreview-513157159", "createdAt": "2020-10-20T21:42:52Z", "commit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMTo0Mjo1MlrOHlSO2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQyMTo0Nzo1N1rOHlSYTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg1ODA3Mw==", "bodyText": "I don't think we follow this indentation pattern anywhere else. Let's be consistent with the rest of the codebase.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508858073", "createdAt": "2020-10-20T21:42:52Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name       A non-null, non-empty, and unique name of this condition.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg1ODIxMw==", "bodyText": "Feel free to include a note. Looks like an oversight if it's not already there.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508858213", "createdAt": "2020-10-20T21:43:11Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMDA2Mg=="}, "originalCommit": {"oid": "1a878a1fbaf5002ddcc287042db2b83bff5c74d0"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg1ODM0Mg==", "bodyText": "this(name, expression, null)", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508858342", "createdAt": "2020-10-20T21:43:27Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name       A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    checkArgument(!Strings.isNullOrEmpty(name), \"condition name must not be null or empty\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg1ODQyNg==", "bodyText": "TagColor should be nullable.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508858426", "createdAt": "2020-10-20T21:43:40Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name       A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    checkArgument(!Strings.isNullOrEmpty(name), \"condition name must not be null or empty\");\n+    checkArgument(!Strings.isNullOrEmpty(expression),\n+            \"condition expression must not be null or empty\");\n+    this.name = name;\n+    this.expression = expression;\n+  }\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name       A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   * @param tagColor   A non-null tag color of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression, @NonNull TagColor tagColor) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MDQ5NQ==", "bodyText": "Add some explicit test cases for equality test between different conditions.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r508860495", "createdAt": "2020-10-20T21:47:57Z", "author": {"login": "hiranya911"}, "path": "src/test/java/com/google/firebase/remoteconfig/FirebaseRemoteConfigClientImplTest.java", "diffHunk": "@@ -107,6 +108,20 @@ public void testGetTemplate() throws Exception {\n     assertTrue(\n             headerParameter.getDefaultValue() instanceof ParameterValue.InAppDefault);\n     checkGetRequestHeader(interceptor.getLastRequest());\n+\n+    // Check Conditions\n+    List<Condition> actualConditions = template.getConditions();\n+    List<Condition> expectedConditions = ImmutableList.of(\n+            new Condition(\"ios_en\", \"device.os == 'ios' && device.country in ['us', 'uk']\")\n+                    .setTagColor(TagColor.INDIGO),\n+            new Condition(\"android_en\",\n+                    \"device.os == 'android' && device.country in ['us', 'uk']\")\n+                    .setTagColor(TagColor.UNSPECIFIED)\n+    );\n+    assertEquals(expectedConditions.size(), actualConditions.size());\n+    for (int i = 0; i < expectedConditions.size(); i++) {\n+      assertEquals(expectedConditions.get(i), actualConditions.get(i));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d7c142405a775124b8b11202d277782c176eaa0"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc3ca65c9924667087e7dc09a046aed70512eb43", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/fc3ca65c9924667087e7dc09a046aed70512eb43", "committedDate": "2020-10-21T20:45:31Z", "message": "PR fixes"}, "afterCommit": {"oid": "128838e66e2c8c4cb1af178d50540ea4fd433bb2", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/128838e66e2c8c4cb1af178d50540ea4fd433bb2", "committedDate": "2020-10-21T21:24:26Z", "message": "PR fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/6d2a377e49801c6fb85a8e4e0bf5c204bc571af0", "committedDate": "2020-10-21T21:26:14Z", "message": "PR fixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "128838e66e2c8c4cb1af178d50540ea4fd433bb2", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/128838e66e2c8c4cb1af178d50540ea4fd433bb2", "committedDate": "2020-10-21T21:24:26Z", "message": "PR fixes"}, "afterCommit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/6d2a377e49801c6fb85a8e4e0bf5c204bc571af0", "committedDate": "2020-10-21T21:26:14Z", "message": "PR fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MjM3MjM4", "url": "https://github.com/firebase/firebase-admin-java/pull/489#pullrequestreview-514237238", "createdAt": "2020-10-21T22:34:37Z", "commit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjozNDozN1rOHmJh3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjozNDozN1rOHmJh3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTc2NDA2Mw==", "bodyText": "I think this could be a good place to add more Condition class specific tests (constructors, getter, setters etc). But feel free to add them in future PRs.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r509764063", "createdAt": "2020-10-21T22:34:37Z", "author": {"login": "hiranya911"}, "path": "src/test/java/com/google/firebase/remoteconfig/ConditionTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+\n+import org.junit.Test;\n+\n+public class ConditionTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjMxNTc1", "url": "https://github.com/firebase/firebase-admin-java/pull/489#pullrequestreview-517231575", "createdAt": "2020-10-26T22:49:53Z", "commit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMjo0OTo1M1rOHolPaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMjo1MjoxMVrOHolS8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNTI0Mw==", "bodyText": "I wonder if we might even want to clarify that this affects how the condition is displayed in the parameter list in the Firebase console.  That's true, right?  Outside the console, it is irrelevant?", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r512315243", "createdAt": "2020-10-26T22:49:53Z", "author": {"login": "egilmorez"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,169 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    this(name, expression, null);\n+  }\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   * @param tagColor A tag color of this condition.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNTgxMQ==", "bodyText": "Ah kind of like you did for the setter below.  Do you agree it would be good in both places?  For creating and setting; not so much for getting I think.\n\n\nThe color associated with this condition for display purposes in the Firebase Console.\n\nNot specifying this value results in the console picking an arbitrary color to associate\nwith the condition.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r512315811", "createdAt": "2020-10-26T22:51:20Z", "author": {"login": "egilmorez"}, "path": "src/main/java/com/google/firebase/remoteconfig/Condition.java", "diffHunk": "@@ -0,0 +1,169 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+import static com.google.common.base.Preconditions.checkArgument;\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import com.google.common.base.Strings;\n+import com.google.firebase.internal.NonNull;\n+import com.google.firebase.internal.Nullable;\n+import com.google.firebase.remoteconfig.internal.TemplateResponse.ConditionResponse;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Represents a Remote Config condition that can be included in a {@link Template}.\n+ * A condition targets a specific group of users. A list of these conditions make up\n+ * part of a Remote Config template.\n+ */\n+public final class Condition {\n+\n+  private String name;\n+  private String expression;\n+  private TagColor tagColor;\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   */\n+  public Condition(@NonNull String name, @NonNull String expression) {\n+    this(name, expression, null);\n+  }\n+\n+  /**\n+   * Creates a new {@link Condition}.\n+   *\n+   * @param name A non-null, non-empty, and unique name of this condition.\n+   * @param expression A non-null and non-empty expression of this condition.\n+   * @param tagColor A tag color of this condition.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNTI0Mw=="}, "originalCommit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNjE0NA==", "bodyText": "Here too, we might clarify we mean display in the Firebase console.", "url": "https://github.com/firebase/firebase-admin-java/pull/489#discussion_r512316144", "createdAt": "2020-10-26T22:52:11Z", "author": {"login": "egilmorez"}, "path": "src/main/java/com/google/firebase/remoteconfig/TagColor.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.firebase.remoteconfig;\n+\n+/**\n+ * Colors that are associated with conditions for display purposes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2a377e49801c6fb85a8e4e0bf5c204bc571af0"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "133163cf052718607776a595c9b5e6fa53e11bc5", "author": {"user": {"login": "lahirumaramba", "name": "Lahiru Maramba"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/133163cf052718607776a595c9b5e6fa53e11bc5", "committedDate": "2020-10-27T15:49:15Z", "message": "Fix javadocs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTYzMjQx", "url": "https://github.com/firebase/firebase-admin-java/pull/489#pullrequestreview-518163241", "createdAt": "2020-10-27T21:25:25Z", "commit": {"oid": "133163cf052718607776a595c9b5e6fa53e11bc5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2774, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}