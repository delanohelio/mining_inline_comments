{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2NTE4NTQ5", "number": 352, "title": "Pull parts of FirebaseAuth into an abstract class.", "bodyText": "This pull request moves part of FirebaseAuth into its abstract class as part of adding multi-tenancy support (see issue #332).\nThis class will eventually have a getTenantManager() method.", "createdAt": "2020-01-23T19:07:51Z", "url": "https://github.com/firebase/firebase-admin-java/pull/352", "merged": true, "mergeCommit": {"oid": "e30df7da6eb8e6d07aa1f928eb0c543351a66525"}, "closed": true, "closedAt": "2020-01-30T16:32:53Z", "author": {"login": "micahstairs"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9PHw9AH2gAyMzY2NTE4NTQ5OmY0YzU5YmVhOWQyOWE5ODRhYmNlYmZjMDcyMTIxYTcyYWM0Y2VkYzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9jHr_gFqTM0ODEzNjIxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f4c59bea9d29a984abcebfc072121a72ac4cedc8", "author": {"user": {"login": "micahstairs", "name": "Micah Stairs"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/f4c59bea9d29a984abcebfc072121a72ac4cedc8", "committedDate": "2020-01-23T19:01:22Z", "message": "Pull parts of FirebaseAuth into an abstract class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTQwOTEz", "url": "https://github.com/firebase/firebase-admin-java/pull/352#pullrequestreview-347540913", "createdAt": "2020-01-23T19:11:26Z", "commit": {"oid": "f4c59bea9d29a984abcebfc072121a72ac4cedc8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOToxMToyN1rOFhJg4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOToxMjozMlrOFhJjAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMzIwMg==", "bodyText": "Do checkNotNull in the parent constructor.", "url": "https://github.com/firebase/firebase-admin-java/pull/352#discussion_r370303202", "createdAt": "2020-01-23T19:11:27Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/auth/FirebaseAuth.java", "diffHunk": "@@ -53,35 +33,19 @@\n  * then use it to perform a variety of authentication-related operations, including generating\n  * custom tokens for use by client-side code, verifying Firebase ID Tokens received from clients, or\n  * creating new FirebaseApp instances that are scoped to a particular authentication UID.\n+ * \n+ * <p>TODO(micahstairs): Add getTenantManager() method.\n  */\n-public class FirebaseAuth {\n+public class FirebaseAuth extends AbstractFirebaseAuth {\n \n   private static final String SERVICE_ID = FirebaseAuth.class.getName();\n \n-  private static final String ERROR_CUSTOM_TOKEN = \"ERROR_CUSTOM_TOKEN\";\n-\n-  private final Object lock = new Object();\n-  private final AtomicBoolean destroyed = new AtomicBoolean(false);\n-\n-  private final FirebaseApp firebaseApp;\n-  private final Supplier<FirebaseTokenFactory> tokenFactory;\n-  private final Supplier<? extends FirebaseTokenVerifier> idTokenVerifier;\n-  private final Supplier<? extends FirebaseTokenVerifier> cookieVerifier;\n-  private final Supplier<? extends FirebaseUserManager> userManager;\n-  private final JsonFactory jsonFactory;\n-\n   private FirebaseAuth(Builder builder) {\n-    this.firebaseApp = checkNotNull(builder.firebaseApp);\n-    this.tokenFactory = threadSafeMemoize(builder.tokenFactory);\n-    this.idTokenVerifier = threadSafeMemoize(builder.idTokenVerifier);\n-    this.cookieVerifier = threadSafeMemoize(builder.cookieVerifier);\n-    this.userManager = threadSafeMemoize(new Supplier<FirebaseUserManager>() {\n-      @Override\n-      public FirebaseUserManager get() {\n-        return new FirebaseUserManager(firebaseApp);\n-      }\n-    });\n-    this.jsonFactory = firebaseApp.getOptions().getJsonFactory();\n+    super(\n+        checkNotNull(builder.firebaseApp),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4c59bea9d29a984abcebfc072121a72ac4cedc8"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMzc0NQ==", "bodyText": "Add newline", "url": "https://github.com/firebase/firebase-admin-java/pull/352#discussion_r370303745", "createdAt": "2020-01-23T19:12:32Z", "author": {"login": "hiranya911"}, "path": "src/main/java/com/google/firebase/auth/FirebaseAuth.java", "diffHunk": "@@ -1207,4 +148,4 @@ public void destroy() {\n       instance.destroy();\n     }\n   }\n-}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4c59bea9d29a984abcebfc072121a72ac4cedc8"}, "originalPosition": 1186}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67a8691eeb787aa34d82f18da679e895db111056", "author": {"user": {"login": "micahstairs", "name": "Micah Stairs"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/67a8691eeb787aa34d82f18da679e895db111056", "committedDate": "2020-01-23T19:23:47Z", "message": "Move null check to abstract class constructor and add missing newline."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd1997c4249b83758fd4acb4333907574af127d3", "author": {"user": {"login": "micahstairs", "name": "Micah Stairs"}}, "url": "https://github.com/firebase/firebase-admin-java/commit/bd1997c4249b83758fd4acb4333907574af127d3", "committedDate": "2020-01-23T19:27:11Z", "message": "Remove unused import from FirebaseAuth."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NjA2MTc4", "url": "https://github.com/firebase/firebase-admin-java/pull/352#pullrequestreview-347606178", "createdAt": "2020-01-23T21:05:24Z", "commit": {"oid": "bd1997c4249b83758fd4acb4333907574af127d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MTM2MjEw", "url": "https://github.com/firebase/firebase-admin-java/pull/352#pullrequestreview-348136210", "createdAt": "2020-01-24T18:19:23Z", "commit": {"oid": "bd1997c4249b83758fd4acb4333907574af127d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2810, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}