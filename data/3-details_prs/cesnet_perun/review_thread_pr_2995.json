{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MzM2Nzc4", "number": 2995, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTozODoyMVrOE8nGbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTozODoyMVrOE8nGbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxOTkwNjM3OnYy", "diffSide": "RIGHT", "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/MembersManagerMethod.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTozODoyMVrOH41XXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMDowMTo0NVrOH43L9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTM1NjYzNg==", "bodyText": "This will still fail, if the param is present, but the value is null, because of the way we parse date from the input.", "url": "https://github.com/CESNET/perun/pull/2995#discussion_r529356636", "createdAt": "2020-11-24T09:38:21Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/MembersManagerMethod.java", "diffHunk": "@@ -383,7 +383,10 @@ public Void call(ApiCaller ac, Deserializer params) throws PerunException {\n \n \t\t\tMember sponsoredMember = ac.getMemberById(params.readInt(\"member\"));\n \t\t\tUser sponsor = ac.getUserById(params.readInt(\"sponsor\"));\n-\t\t\tLocalDate newValidity = params.readLocalDate(\"validityTo\");\n+\t\t\tLocalDate newValidity = null;\n+\t\t\tif (params.contains(\"validityTo\")) {\n+\t\t\t\tnewValidity = params.readLocalDate(\"validityTo\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTM4NjQ4NA==", "bodyText": "You are right, I forget about that. It should be fixed now.", "url": "https://github.com/CESNET/perun/pull/2995#discussion_r529386484", "createdAt": "2020-11-24T10:01:45Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/MembersManagerMethod.java", "diffHunk": "@@ -383,7 +383,10 @@ public Void call(ApiCaller ac, Deserializer params) throws PerunException {\n \n \t\t\tMember sponsoredMember = ac.getMemberById(params.readInt(\"member\"));\n \t\t\tUser sponsor = ac.getUserById(params.readInt(\"sponsor\"));\n-\t\t\tLocalDate newValidity = params.readLocalDate(\"validityTo\");\n+\t\t\tLocalDate newValidity = null;\n+\t\t\tif (params.contains(\"validityTo\")) {\n+\t\t\t\tnewValidity = params.readLocalDate(\"validityTo\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTM1NjYzNg=="}, "originalCommit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2179, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}