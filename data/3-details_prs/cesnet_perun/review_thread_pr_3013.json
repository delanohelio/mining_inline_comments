{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjUxNTE0", "number": 3013, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjowNDoxNVrOE_HrWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjoxNToxNlrOE_H65A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NjIxNTI4OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/VosManagerBl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjowNDoxNVrOH8plTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxODozNTozMlrOH86e6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM1NzkwMg==", "bodyText": "This sentence is hard to understand. What exactly happened if there is not an empty list of ext sources?", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533357902", "createdAt": "2020-12-01T12:04:15Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/VosManagerBl.java", "diffHunk": "@@ -161,14 +161,14 @@\n \n \t/**\n \t * Finds MemberCandidates who can join the Group. If the given vo is not null, it searches only\n-\t * users who belong to this Vo.\n+\t * users who belong to this Vo or who have ues in any of given extSources.\n \t *\n \t * @param sess session\n-\t * @param vo vo if is null, users are searched in whole perun, otherwise only members of this vo are used.\n+\t * @param vo vo if is null, users are searched in whole perun, otherwise members of this vo are used and users with ues in given extSources.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYzNDc5Mw==", "bodyText": "I've edited the javadoc.", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533634793", "createdAt": "2020-12-01T18:35:32Z", "author": {"login": "metodej"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/VosManagerBl.java", "diffHunk": "@@ -161,14 +161,14 @@\n \n \t/**\n \t * Finds MemberCandidates who can join the Group. If the given vo is not null, it searches only\n-\t * users who belong to this Vo.\n+\t * users who belong to this Vo or who have ues in any of given extSources.\n \t *\n \t * @param sess session\n-\t * @param vo vo if is null, users are searched in whole perun, otherwise only members of this vo are used.\n+\t * @param vo vo if is null, users are searched in whole perun, otherwise members of this vo are used and users with ues in given extSources.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM1NzkwMg=="}, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NjI1NTA4OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/VosManagerBlImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjoxNToxNlrOH8p9bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxODozNTozN1rOH86fJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2NDA3Ng==", "bodyText": "You do not really filter them. You are just adding new users by the list of ext sources. (if vo is not null)", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533364076", "createdAt": "2020-12-01T12:15:16Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/VosManagerBlImpl.java", "diffHunk": "@@ -527,34 +528,51 @@ public Vo getVoById(PerunSession sess, int id) throws VoNotExistsException {\n \t * @throws InternalErrorException internal error\n \t */\n \tprivate List<RichUser> getRichUsersForMemberCandidates(PerunSession sess, List<String> attrNames, String searchString) {\n-\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString);\n+\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString, null);\n \t}\n \n \t/**\n \t * <p>Finds RichUsers who matches the given search string. If the given Vo is null,\n \t * they are searched in the whole Perun. If th Vo is not null, then are returned\n-\t * only RichUsers who has a member inside this Vo.</p>\n+\t * only RichUsers who has a member inside this Vo or who has ues in any of given ExtSources.</p>\n \t * <p>The RichUsers are returned with attributes of given names.</p>\n \t *\n \t *\n \t * @param sess session\n-\t * @param vo virtual organization, users are searched only inside this vo; if is null, then in the whole Perun\n+\t * @param vo virtual organization, users are searched inside this vo; if is null, then in the whole Perun\n \t * @param attrNames names of attributes that will be returned\n \t * @param searchString string used to find users\n+\t * @param extSources list of extSources to possibly filter RichUsers by", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYzNDg1Mw==", "bodyText": "I've edited the javadoc.", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533634853", "createdAt": "2020-12-01T18:35:37Z", "author": {"login": "metodej"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/VosManagerBlImpl.java", "diffHunk": "@@ -527,34 +528,51 @@ public Vo getVoById(PerunSession sess, int id) throws VoNotExistsException {\n \t * @throws InternalErrorException internal error\n \t */\n \tprivate List<RichUser> getRichUsersForMemberCandidates(PerunSession sess, List<String> attrNames, String searchString) {\n-\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString);\n+\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString, null);\n \t}\n \n \t/**\n \t * <p>Finds RichUsers who matches the given search string. If the given Vo is null,\n \t * they are searched in the whole Perun. If th Vo is not null, then are returned\n-\t * only RichUsers who has a member inside this Vo.</p>\n+\t * only RichUsers who has a member inside this Vo or who has ues in any of given ExtSources.</p>\n \t * <p>The RichUsers are returned with attributes of given names.</p>\n \t *\n \t *\n \t * @param sess session\n-\t * @param vo virtual organization, users are searched only inside this vo; if is null, then in the whole Perun\n+\t * @param vo virtual organization, users are searched inside this vo; if is null, then in the whole Perun\n \t * @param attrNames names of attributes that will be returned\n \t * @param searchString string used to find users\n+\t * @param extSources list of extSources to possibly filter RichUsers by", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2NDA3Ng=="}, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2201, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}