{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMjI1MDA5", "number": 2664, "title": "Use reactivation of member for group trigger", "bodyText": "if member is already direct member of any group in trigger, we need\nto reactivate him (set him valid, reset his expiration) to set his\nstatus as he was newly added to the group", "createdAt": "2020-04-09T05:57:04Z", "url": "https://github.com/CESNET/perun/pull/2664", "merged": true, "mergeCommit": {"oid": "8b4599312a7c0485a0eb906a586c6487226edeaa"}, "closed": true, "closedAt": "2020-04-14T10:28:01Z", "author": {"login": "stavamichal"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV3ZlegFqTM5MDU1MjY4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXgxZ-ABqjMyMzA0NTc3MTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNTUyNjg5", "url": "https://github.com/CESNET/perun/pull/2664#pullrequestreview-390552689", "createdAt": "2020-04-09T07:31:13Z", "commit": {"oid": "8f8d45ab807011a1821f422794f1ec227bb4de2e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNzU5Nzg2", "url": "https://github.com/CESNET/perun/pull/2664#pullrequestreview-392759786", "createdAt": "2020-04-14T09:33:21Z", "commit": {"oid": "8f8d45ab807011a1821f422794f1ec227bb4de2e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwOTozMzoyMlrOGFGQuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwOTozMzoyMlrOGFGQuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk5ODY0OA==", "bodyText": "Nit: missing space between \"if\" and \"(\"", "url": "https://github.com/CESNET/perun/pull/2664#discussion_r407998648", "createdAt": "2020-04-14T09:33:22Z", "author": {"login": "balcirakpeter"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/GroupsManagerBlImpl.java", "diffHunk": "@@ -1084,9 +1084,13 @@ private void addMemberToGroupsFromTriggerAttribute(PerunSession sess, Group grou\n \t\tfor (String groupId : groupsForAddition) {\n \t\t\ttry {\n \t\t\t\tGroup groupForAddition = getGroupById(sess, Integer.parseInt(groupId));\n-\t\t\t\taddDirectMember(sess, groupForAddition, member);\n-\t\t\t} catch (InternalErrorException | WrongReferenceAttributeValueException | AlreadyMemberException | WrongAttributeValueException | GroupNotExistsException e) {\n-\t\t\t\tlog.error(\"Member could not be added to the group, Exception message: \" + e.toString());\n+\t\t\t\tif(isDirectGroupMember(sess, groupForAddition, member)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f8d45ab807011a1821f422794f1ec227bb4de2e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d1d332df62233e4108d7bd641f8ea45ded5e96a", "author": {"user": {"login": "stavamichal", "name": "Michal Stava"}}, "url": "https://github.com/CESNET/perun/commit/7d1d332df62233e4108d7bd641f8ea45ded5e96a", "committedDate": "2020-04-14T10:17:02Z", "message": "Use reactivation of member for group trigger\n\n - if member is already direct member of any group in trigger, we need\n to reactivate him (set him valid, reset his expiration) to set his\n status as he was newly added to the group"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f8d45ab807011a1821f422794f1ec227bb4de2e", "author": {"user": {"login": "stavamichal", "name": "Michal Stava"}}, "url": "https://github.com/CESNET/perun/commit/8f8d45ab807011a1821f422794f1ec227bb4de2e", "committedDate": "2020-04-09T05:54:22Z", "message": "Use reactivation of member for group trigger\n\n - if member is already direct member of any group in trigger, we need\n to reactivate him (set him valid, reset his expiration) to set his\n status as he was newly added to the group"}, "afterCommit": {"oid": "7d1d332df62233e4108d7bd641f8ea45ded5e96a", "author": {"user": {"login": "stavamichal", "name": "Michal Stava"}}, "url": "https://github.com/CESNET/perun/commit/7d1d332df62233e4108d7bd641f8ea45ded5e96a", "committedDate": "2020-04-14T10:17:02Z", "message": "Use reactivation of member for group trigger\n\n - if member is already direct member of any group in trigger, we need\n to reactivate him (set him valid, reset his expiration) to set his\n status as he was newly added to the group"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1334, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}