{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1ODY4ODMy", "number": 2974, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDo0MDozOVrOE1mQGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMTozNDozNVrOE1ncYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjM2Njk3OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDo0MDozOVrOHt9WPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMTo1OToxNVrOHuAFSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzA4Ng==", "bodyText": "Can you add the attribute name and the invalid value to the error message?", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517953086", "createdAt": "2020-11-05T10:40:39Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpEnvironment. Possible values are \"TESTING\", \"STAGING\" or \"PRODUCTION\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpEnvironment extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"TESTING\") && !attrValue.equals(\"STAGING\") && !attrValue.equals(\"PRODUCTION\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'TESTING', 'STAGING' or 'PRODUCTION'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk4MzI5Mg==", "bodyText": "I think both the name and the value are already in the message because the final error message is created from given attribute, facility and message like this: attribute.toString() + \" Set for: \" + attributeHolder + \" - \" + message...", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517983292", "createdAt": "2020-11-05T11:33:18Z", "author": {"login": "metodej"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpEnvironment. Possible values are \"TESTING\", \"STAGING\" or \"PRODUCTION\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpEnvironment extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"TESTING\") && !attrValue.equals(\"STAGING\") && !attrValue.equals(\"PRODUCTION\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'TESTING', 'STAGING' or 'PRODUCTION'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzA4Ng=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5Nzg5Nw==", "bodyText": "OK.", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517997897", "createdAt": "2020-11-05T11:59:15Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpEnvironment. Possible values are \"TESTING\", \"STAGING\" or \"PRODUCTION\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpEnvironment extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"TESTING\") && !attrValue.equals(\"STAGING\") && !attrValue.equals(\"PRODUCTION\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'TESTING', 'STAGING' or 'PRODUCTION'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzA4Ng=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjM2OTg4OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDo0MToyM1rOHt9X9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMTo1OTo1NVrOHuAG3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzUyNA==", "bodyText": "Can you add the attribute name and the invalid value to the error message?", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517953524", "createdAt": "2020-11-05T10:41:23Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpProtocol. Possible values are \"SAML\" or \"OIDC\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpProtocol extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"SAML\") && !attrValue.equals(\"OIDC\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'SAML' or 'OIDC'.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk4MzMzOQ==", "bodyText": "I think both the name and the value are already in the message because the final error message is created from given attribute, facility and message like this: attribute.toString() + \" Set for: \" + attributeHolder + \" - \" + message...", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517983339", "createdAt": "2020-11-05T11:33:25Z", "author": {"login": "metodej"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpProtocol. Possible values are \"SAML\" or \"OIDC\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpProtocol extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"SAML\") && !attrValue.equals(\"OIDC\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'SAML' or 'OIDC'.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzUyNA=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5ODMwMg==", "bodyText": "OK.", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517998302", "createdAt": "2020-11-05T11:59:55Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpProtocol. Possible values are \"SAML\" or \"OIDC\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpProtocol extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"SAML\") && !attrValue.equals(\"OIDC\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'SAML' or 'OIDC'.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1MzUyNA=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjM3NTk4OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDo0MzowNFrOHt9b1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToxMTo0MVrOHuH25Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1NDUxNg==", "bodyText": "This description is not very informative, there is no information what the attribute means.", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517954516", "createdAt": "2020-11-05T10:43:04Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpEnvironment. Possible values are \"TESTING\", \"STAGING\" or \"PRODUCTION\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpEnvironment extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"TESTING\") && !attrValue.equals(\"STAGING\") && !attrValue.equals(\"PRODUCTION\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'TESTING', 'STAGING' or 'PRODUCTION'\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic AttributeDefinition getAttributeDefinition() {\n+\t\tAttributeDefinition attr = new AttributeDefinition();\n+\t\tattr.setNamespace(AttributesManager.NS_FACILITY_ATTR_DEF);\n+\t\tattr.setFriendlyName(\"rpEnvironment\");\n+\t\tattr.setDisplayName(\"rpEnvironment\");\n+\t\tattr.setType(String.class.getName());\n+\t\tattr.setDescription(\"rpEnvironment\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEyNTI4NQ==", "bodyText": "Done", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r518125285", "createdAt": "2020-11-05T15:11:41Z", "author": {"login": "cuadradek"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpEnvironment.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpEnvironment. Possible values are \"TESTING\", \"STAGING\" or \"PRODUCTION\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpEnvironment extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"TESTING\") && !attrValue.equals(\"STAGING\") && !attrValue.equals(\"PRODUCTION\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'TESTING', 'STAGING' or 'PRODUCTION'\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic AttributeDefinition getAttributeDefinition() {\n+\t\tAttributeDefinition attr = new AttributeDefinition();\n+\t\tattr.setNamespace(AttributesManager.NS_FACILITY_ATTR_DEF);\n+\t\tattr.setFriendlyName(\"rpEnvironment\");\n+\t\tattr.setDisplayName(\"rpEnvironment\");\n+\t\tattr.setType(String.class.getName());\n+\t\tattr.setDescription(\"rpEnvironment\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1NDUxNg=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjM3OTQ1OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDo0NDowMlrOHt9eHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToxMTo1MFrOHuH3YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1NTEwMQ==", "bodyText": "This description is not very informative, there is no information about the attribute meaning.", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517955101", "createdAt": "2020-11-05T10:44:02Z", "author": {"login": "mvocu"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpProtocol. Possible values are \"SAML\" or \"OIDC\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpProtocol extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"SAML\") && !attrValue.equals(\"OIDC\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'SAML' or 'OIDC'.\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic AttributeDefinition getAttributeDefinition() {\n+\t\tAttributeDefinition attr = new AttributeDefinition();\n+\t\tattr.setNamespace(AttributesManager.NS_FACILITY_ATTR_DEF);\n+\t\tattr.setFriendlyName(\"rpProtocol\");\n+\t\tattr.setDisplayName(\"rpProtocol\");\n+\t\tattr.setType(String.class.getName());\n+\t\tattr.setDescription(\"rpProtocol\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEyNTQwOA==", "bodyText": "Done", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r518125408", "createdAt": "2020-11-05T15:11:50Z", "author": {"login": "cuadradek"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/modules/attributes/urn_perun_facility_attribute_def_def_rpProtocol.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package cz.metacentrum.perun.core.impl.modules.attributes;\n+\n+import cz.metacentrum.perun.core.api.Attribute;\n+import cz.metacentrum.perun.core.api.AttributeDefinition;\n+import cz.metacentrum.perun.core.api.AttributesManager;\n+import cz.metacentrum.perun.core.api.Facility;\n+import cz.metacentrum.perun.core.api.exceptions.WrongAttributeValueException;\n+import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n+import cz.metacentrum.perun.core.implApi.modules.attributes.FacilityAttributesModuleAbstract;\n+\n+/**\n+ * Attribute module for rpProtocol. Possible values are \"SAML\" or \"OIDC\".\n+ *\n+ * @author Radoslav \u010cerh\u00e1k <r.cerhak@gmail.com>\n+ */\n+public class urn_perun_facility_attribute_def_def_rpProtocol extends FacilityAttributesModuleAbstract {\n+\n+\t@Override\n+\tpublic void checkAttributeSyntax(PerunSessionImpl perunSession, Facility facility, Attribute attribute) throws WrongAttributeValueException {\n+\t\tString attrValue = attribute.valueAsString();\n+\t\tif (attrValue == null) return;\n+\n+\t\tif (!attrValue.equals(\"SAML\") && !attrValue.equals(\"OIDC\")) {\n+\t\t\tthrow new WrongAttributeValueException(attribute, facility, \"Possible values for this attribute are 'SAML' or 'OIDC'.\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic AttributeDefinition getAttributeDefinition() {\n+\t\tAttributeDefinition attr = new AttributeDefinition();\n+\t\tattr.setNamespace(AttributesManager.NS_FACILITY_ATTR_DEF);\n+\t\tattr.setFriendlyName(\"rpProtocol\");\n+\t\tattr.setDisplayName(\"rpProtocol\");\n+\t\tattr.setType(String.class.getName());\n+\t\tattr.setDescription(\"rpProtocol\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk1NTEwMQ=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjU2MjI3OnYy", "diffSide": "RIGHT", "path": "perun-utils/ldapc-scripts/schemas/perun-schema.ldif", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMTozNDozNVrOHt_O_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToxMjowM1rOHuH37A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk4Mzk5Ng==", "bodyText": "Also please don't forget to update description here as well.", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r517983996", "createdAt": "2020-11-05T11:34:35Z", "author": {"login": "metodej"}, "path": "perun-utils/ldapc-scripts/schemas/perun-schema.ldif", "diffHunk": "@@ -63,12 +63,14 @@ olcAttributeTypes: {58}( 1.3.6.1.4.1.8057.2.80.64 NAME 'sponsoredMembershipInOrg\n olcAttributeTypes: {59}( 1.3.6.1.4.1.8057.2.80.65 NAME 'userIdentities' DESC 'All user ExtLogin for UserExtSource with Type IDP' EQUALITY caseIgnoreMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n olcAttributeTypes: {60}( 1.3.6.1.4.1.8057.2.80.66 NAME 'schacPersonalUniqueCodes' DESC 'Unique codes of the user in Perun' EQUALITY caseIgnoreMatch SUBSTR caseIgnoreSubstringsMatch ORDERING caseIgnoreOrderingMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n olcAttributeTypes: {61}( 1.3.6.1.4.1.8057.2.80.67 NAME 'rpIdentifier' DESC 'rpIdentifier of facility.' EQUALITY caseExactMatch SUBSTR caseExactSubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n+olcAttributeTypes: {62}( 1.3.6.1.4.1.8057.2.80.68 NAME 'rpEnvironment' DESC 'rpEnvironment' EQUALITY caseExactMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE )\n+olcAttributeTypes: {63}( 1.3.6.1.4.1.8057.2.80.69 NAME 'rpProtocol' DESC 'rpProtocol' EQUALITY caseExactMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEyNTU0OA==", "bodyText": "Done", "url": "https://github.com/CESNET/perun/pull/2974#discussion_r518125548", "createdAt": "2020-11-05T15:12:03Z", "author": {"login": "cuadradek"}, "path": "perun-utils/ldapc-scripts/schemas/perun-schema.ldif", "diffHunk": "@@ -63,12 +63,14 @@ olcAttributeTypes: {58}( 1.3.6.1.4.1.8057.2.80.64 NAME 'sponsoredMembershipInOrg\n olcAttributeTypes: {59}( 1.3.6.1.4.1.8057.2.80.65 NAME 'userIdentities' DESC 'All user ExtLogin for UserExtSource with Type IDP' EQUALITY caseIgnoreMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n olcAttributeTypes: {60}( 1.3.6.1.4.1.8057.2.80.66 NAME 'schacPersonalUniqueCodes' DESC 'Unique codes of the user in Perun' EQUALITY caseIgnoreMatch SUBSTR caseIgnoreSubstringsMatch ORDERING caseIgnoreOrderingMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n olcAttributeTypes: {61}( 1.3.6.1.4.1.8057.2.80.67 NAME 'rpIdentifier' DESC 'rpIdentifier of facility.' EQUALITY caseExactMatch SUBSTR caseExactSubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\n+olcAttributeTypes: {62}( 1.3.6.1.4.1.8057.2.80.68 NAME 'rpEnvironment' DESC 'rpEnvironment' EQUALITY caseExactMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE )\n+olcAttributeTypes: {63}( 1.3.6.1.4.1.8057.2.80.69 NAME 'rpProtocol' DESC 'rpProtocol' EQUALITY caseExactMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE )", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk4Mzk5Ng=="}, "originalCommit": {"oid": "3a107d6c60027a211416e2d8678ac5f089ebb3fa"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2151, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}