{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMjIwMjMz", "number": 2930, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMTo1Mjo1NVrOEtAEbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwOTozMjoxNVrOEtZhwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjIyNTA5OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMTo1Mjo1NVrOHgi4Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo0NzowNVrOHgk62w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4Nzk2Mg==", "bodyText": "Is there a reason for adding this class here? You are not using it here.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503887962", "createdAt": "2020-10-13T11:52:55Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "diffHunk": "@@ -2,6 +2,7 @@\n \n import cz.metacentrum.perun.core.api.AttributeDefinition;\n import cz.metacentrum.perun.core.api.Candidate;\n+import cz.metacentrum.perun.core.api.EnrichedSponsorship;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMTM3MQ==", "bodyText": "You are right, I have removed it.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503921371", "createdAt": "2020-10-13T12:47:05Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "diffHunk": "@@ -2,6 +2,7 @@\n \n import cz.metacentrum.perun.core.api.AttributeDefinition;\n import cz.metacentrum.perun.core.api.Candidate;\n+import cz.metacentrum.perun.core.api.EnrichedSponsorship;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4Nzk2Mg=="}, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjIyNzk0OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMTo1Mzo0MVrOHgi6Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo0NzoxNlrOHgk7Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4ODM5OA==", "bodyText": "You are not using EnrichedSponsorship in this manager either.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503888398", "createdAt": "2020-10-13T11:53:41Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "diffHunk": "@@ -21,11 +21,13 @@\n import cz.metacentrum.perun.core.api.BanOnVo;\n import cz.metacentrum.perun.core.api.BeansUtils;\n import cz.metacentrum.perun.core.api.Candidate;\n+import cz.metacentrum.perun.core.api.EnrichedSponsorship;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMTQ3OA==", "bodyText": "You are right, I have removed it.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503921478", "createdAt": "2020-10-13T12:47:16Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "diffHunk": "@@ -21,11 +21,13 @@\n import cz.metacentrum.perun.core.api.BanOnVo;\n import cz.metacentrum.perun.core.api.BeansUtils;\n import cz.metacentrum.perun.core.api.Candidate;\n+import cz.metacentrum.perun.core.api.EnrichedSponsorship;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4ODM5OA=="}, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjI2NjYxOnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/implApi/MembersManagerImplApi.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjowMzo0MlrOHgjRPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo0Nzo0MlrOHgk8aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5NDMzNQ==", "bodyText": "You can add information about the lowest value for 'from' and highest value for 'to' (using MIN and MAX of date).", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503894335", "createdAt": "2020-10-13T12:03:42Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/implApi/MembersManagerImplApi.java", "diffHunk": "@@ -367,4 +367,15 @@\n \t * @throws SponsorshipDoesNotExistException if the given user is not sponsor of the given member\n \t */\n \tvoid updateSponsorshipValidity(PerunSession sess, Member sponsoredMember, User sponsor, LocalDate newValidity) throws SponsorshipDoesNotExistException;\n+\n+\t/**\n+\t * Returns sponsorship, which have validityTo in range [from, to).\n+\t * (from is inclusive, to is exclusive).\n+\t *\n+\t * @param sess session\n+\t * @param from lower validityTo bound (inclusive)\n+\t * @param to upper validityTo bound (exclusive)\n+\t * @return list of sponsorships which have validityTo set in the given range", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMTc2OQ==", "bodyText": "I have updated the javadoc.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r503921769", "createdAt": "2020-10-13T12:47:42Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/implApi/MembersManagerImplApi.java", "diffHunk": "@@ -367,4 +367,15 @@\n \t * @throws SponsorshipDoesNotExistException if the given user is not sponsor of the given member\n \t */\n \tvoid updateSponsorshipValidity(PerunSession sess, Member sponsoredMember, User sponsor, LocalDate newValidity) throws SponsorshipDoesNotExistException;\n+\n+\t/**\n+\t * Returns sponsorship, which have validityTo in range [from, to).\n+\t * (from is inclusive, to is exclusive).\n+\t *\n+\t * @param sess session\n+\t * @param from lower validityTo bound (inclusive)\n+\t * @param to upper validityTo bound (exclusive)\n+\t * @return list of sponsorships which have validityTo set in the given range", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5NDMzNQ=="}, "originalCommit": {"oid": "78fe63fcafabb5cb6f99470e040aa633c460e92e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MDM5MjkyOnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwOTozMToyM1rOHhKdow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDoxOToyMFrOHiKPDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDUzNjQ4Mw==", "bodyText": "Nit: you can add the info about MIN and MAX value also to this layer.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r504536483", "createdAt": "2020-10-14T09:31:23Z", "author": {"login": "balcirakpeter"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "diffHunk": "@@ -1686,4 +1686,15 @@\n \t * @throws SponsorshipDoesNotExistException if the given user is not sponsor of the given member\n \t */\n \tvoid updateSponsorshipValidity(PerunSession sess, Member sponsoredMember, User sponsor, LocalDate newValidity) throws SponsorshipDoesNotExistException;\n+\n+\t/**\n+\t * Returns sponsorship, which have validityTo in range [from, to).\n+\t * (from is inclusive, to is exclusive).\n+\t *\n+\t * @param sess session\n+\t * @param from lower validityTo bound (inclusive)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "435569ab068cc811509b30b863d9f7a3dd11d503"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU4MTMyNQ==", "bodyText": "Done.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r505581325", "createdAt": "2020-10-15T14:19:20Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/MembersManagerBl.java", "diffHunk": "@@ -1686,4 +1686,15 @@\n \t * @throws SponsorshipDoesNotExistException if the given user is not sponsor of the given member\n \t */\n \tvoid updateSponsorshipValidity(PerunSession sess, Member sponsoredMember, User sponsor, LocalDate newValidity) throws SponsorshipDoesNotExistException;\n+\n+\t/**\n+\t * Returns sponsorship, which have validityTo in range [from, to).\n+\t * (from is inclusive, to is exclusive).\n+\t *\n+\t * @param sess session\n+\t * @param from lower validityTo bound (inclusive)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDUzNjQ4Mw=="}, "originalCommit": {"oid": "435569ab068cc811509b30b863d9f7a3dd11d503"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MDM5NjE3OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwOTozMjoxNVrOHhKfoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDoxOToyNVrOHiKPRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDUzNjk5Mw==", "bodyText": "Nit: You could add null checks for from and to variables.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r504536993", "createdAt": "2020-10-14T09:32:15Z", "author": {"login": "balcirakpeter"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "diffHunk": "@@ -2487,6 +2487,11 @@ public void updateSponsorshipValidity(PerunSession sess, Member sponsoredMember,\n \t\tperunBl.getAuditer().log(sess, new SponsorshipValidityUpdated(sponsoredMember, sponsor, newValidity));\n \t}\n \n+\t@Override\n+\tpublic List<Sponsorship> getSponsorshipsExpiringInRange(PerunSession sess, LocalDate from, LocalDate to) {\n+\t\treturn membersManagerImpl.getSponsorshipsExpiringInRange(sess, from, to);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "435569ab068cc811509b30b863d9f7a3dd11d503"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU4MTM4Mg==", "bodyText": "Done.", "url": "https://github.com/CESNET/perun/pull/2930#discussion_r505581382", "createdAt": "2020-10-15T14:19:25Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/MembersManagerBlImpl.java", "diffHunk": "@@ -2487,6 +2487,11 @@ public void updateSponsorshipValidity(PerunSession sess, Member sponsoredMember,\n \t\tperunBl.getAuditer().log(sess, new SponsorshipValidityUpdated(sponsoredMember, sponsor, newValidity));\n \t}\n \n+\t@Override\n+\tpublic List<Sponsorship> getSponsorshipsExpiringInRange(PerunSession sess, LocalDate from, LocalDate to) {\n+\t\treturn membersManagerImpl.getSponsorshipsExpiringInRange(sess, from, to);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDUzNjk5Mw=="}, "originalCommit": {"oid": "435569ab068cc811509b30b863d9f7a3dd11d503"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2333, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}