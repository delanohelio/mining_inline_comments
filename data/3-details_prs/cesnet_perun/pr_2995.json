{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MzM2Nzc4", "number": 2995, "title": "Perun core - updateSponsorshipValidity fix", "bodyText": "The updateSponsorshipValidity method used to force the validityTo\nparameter. Not, when not specified, it is used with the null value\n(which means that the sponsorship will not expire)\nThis was changed because the generated open api library in GUI was not\nable to pass the validityTo param with null value.", "createdAt": "2020-11-24T09:27:12Z", "url": "https://github.com/CESNET/perun/pull/2995", "merged": true, "mergeCommit": {"oid": "dd7dde9b83b5e69d65597a026f0d767018968cef"}, "closed": true, "closedAt": "2020-11-24T10:14:49Z", "author": {"login": "Vojtech-Sassmann"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfmZNegFqTUzNzMwMDEwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfm3MbAFqTUzNzMzMDE3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzAwMTA4", "url": "https://github.com/CESNET/perun/pull/2995#pullrequestreview-537300108", "createdAt": "2020-11-24T09:32:49Z", "commit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzA1MDA5", "url": "https://github.com/CESNET/perun/pull/2995#pullrequestreview-537305009", "createdAt": "2020-11-24T09:38:21Z", "commit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTozODoyMVrOH41XXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwOTozODoyMVrOH41XXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTM1NjYzNg==", "bodyText": "This will still fail, if the param is present, but the value is null, because of the way we parse date from the input.", "url": "https://github.com/CESNET/perun/pull/2995#discussion_r529356636", "createdAt": "2020-11-24T09:38:21Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/MembersManagerMethod.java", "diffHunk": "@@ -383,7 +383,10 @@ public Void call(ApiCaller ac, Deserializer params) throws PerunException {\n \n \t\t\tMember sponsoredMember = ac.getMemberById(params.readInt(\"member\"));\n \t\t\tUser sponsor = ac.getUserById(params.readInt(\"sponsor\"));\n-\t\t\tLocalDate newValidity = params.readLocalDate(\"validityTo\");\n+\t\t\tLocalDate newValidity = null;\n+\t\t\tif (params.contains(\"validityTo\")) {\n+\t\t\t\tnewValidity = params.readLocalDate(\"validityTo\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "725550c6e8b505dcc0ee575808066aa34e22889e", "author": {"user": {"login": "Vojtech-Sassmann", "name": "Vojt\u011bch Sassmann"}}, "url": "https://github.com/CESNET/perun/commit/725550c6e8b505dcc0ee575808066aa34e22889e", "committedDate": "2020-11-24T10:01:16Z", "message": "Perun core - updateSponsorshipValidity fix\n\n* The updateSponsorshipValidity method used to force the validityTo\nparameter. Not, when not specified, it is used with the null value\n(which means that the sponsorship will not expire)\n* This was changed because the generated open api library in GUI was not\nable to pass the validityTo param with null value."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63b77b246e60afcafe5b9059dd432d7319fae473", "author": {"user": {"login": "Vojtech-Sassmann", "name": "Vojt\u011bch Sassmann"}}, "url": "https://github.com/CESNET/perun/commit/63b77b246e60afcafe5b9059dd432d7319fae473", "committedDate": "2020-11-24T09:26:49Z", "message": "Perun core - updateSponsorshipValidity fix\n\n* The updateSponsorshipValidity method used to force the validityTo\nparameter. Not, when not specified, it is used with the null value\n(which means that the sponsorship will not expire)\n* This was changed because the generated open api library in GUI was not\nable to pass the validityTo param with null value."}, "afterCommit": {"oid": "725550c6e8b505dcc0ee575808066aa34e22889e", "author": {"user": {"login": "Vojtech-Sassmann", "name": "Vojt\u011bch Sassmann"}}, "url": "https://github.com/CESNET/perun/commit/725550c6e8b505dcc0ee575808066aa34e22889e", "committedDate": "2020-11-24T10:01:16Z", "message": "Perun core - updateSponsorshipValidity fix\n\n* The updateSponsorshipValidity method used to force the validityTo\nparameter. Not, when not specified, it is used with the null value\n(which means that the sponsorship will not expire)\n* This was changed because the generated open api library in GUI was not\nable to pass the validityTo param with null value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzMwMTc3", "url": "https://github.com/CESNET/perun/pull/2995#pullrequestreview-537330177", "createdAt": "2020-11-24T10:05:34Z", "commit": {"oid": "725550c6e8b505dcc0ee575808066aa34e22889e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1686, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}