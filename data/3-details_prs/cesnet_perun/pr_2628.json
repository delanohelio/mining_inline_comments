{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMzY1MzY0", "number": 2628, "title": "getUserExtSourceFromMultipleIdentifiers null", "bodyText": "Previous implementation of the method returned null\nwhen the UserExtSource was not found. That caused NullPointerException\nlater in the method getUserByUserExtSource which was called by the method\ngetPerunSession.\nTherefore, the method getUserExtSourceFromMultipleIdentifiers was changed\nto throw the UserExtSourceNotExistException when the UserExtSource was not found.\nIn this method was also check for null additionalIdentifiers, which was throwing\nthe UserExtSourceNotExistsException. This exception was replaced by the\nWrongReferenceAttributeValueException, which is usually used when an attribute\nis null and it cannot be null. The exception is catched in getPerunSession same as\nthe USerExtSourceNotExistsException so the behaviour will not change.", "createdAt": "2020-03-18T10:58:25Z", "url": "https://github.com/CESNET/perun/pull/2628", "merged": true, "mergeCommit": {"oid": "2aeeef576aecca5c227e13ed261dab16f15481fe"}, "closed": true, "closedAt": "2020-03-20T10:21:19Z", "author": {"login": "balcirakpeter"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO1RKOAFqTM3Njc2MDgyNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPL737AFqTM3NzcxNzg5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzYwODI1", "url": "https://github.com/CESNET/perun/pull/2628#pullrequestreview-376760825", "createdAt": "2020-03-18T11:04:44Z", "commit": {"oid": "d619d702f10a39079b72aab58f5127c19f2acca2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTowNDo0NFrOF4ACxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTowNDo0NFrOF4ACxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI2NTI4NA==", "bodyText": "Are you sure this is not rather a configuration error? That would mean using InternalErrorException.", "url": "https://github.com/CESNET/perun/pull/2628#discussion_r394265284", "createdAt": "2020-03-18T11:04:44Z", "author": {"login": "licehammer"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/UsersManagerBlImpl.java", "diffHunk": "@@ -706,10 +706,10 @@ private UserExtSource getUserExtSourceByUniqueAttributeValue(PerunSession sess,\n \t}\n \n \t@Override\n-\tpublic UserExtSource getUserExtSourceFromMultipleIdentifiers(PerunSession sess, PerunPrincipal principal) throws InternalErrorException, UserExtSourceNotExistsException {\n+\tpublic UserExtSource getUserExtSourceFromMultipleIdentifiers(PerunSession sess, PerunPrincipal principal) throws InternalErrorException, UserExtSourceNotExistsException, WrongReferenceAttributeValueException {\n \t\tString additionalIdentifiers = principal.getAdditionalInformations().get(additionalIdentifiersAttributeName);\n \t\tif (additionalIdentifiers == null) {\n-\t\t\tthrow new UserExtSourceNotExistsException(\"Mandatory attribute is not defined: \".concat(additionalIdentifiersAttributeName));\n+\t\t\tthrow new WrongReferenceAttributeValueException(\"Principal's mandatory attribute is not defined: \".concat(additionalIdentifiersAttributeName));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d619d702f10a39079b72aab58f5127c19f2acca2"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d619d702f10a39079b72aab58f5127c19f2acca2", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/d619d702f10a39079b72aab58f5127c19f2acca2", "committedDate": "2020-03-18T10:40:32Z", "message": "getUserExtSourceFromMultipleIdentifiers null\n\n- Previous implementation of the method returned null\n  when the UserExtSource was not found. That caused NullPointerException\n  later in the method getUserByUserExtSource which was called by the method\n  getPerunSession.\n- Therefore, the method getUserExtSourceFromMultipleIdentifiers was changed\n  to throw the UserExtSourceNotExistException when the UserExtSource was not found.\n- In this method was also check for null additionalIdentifiers, which was throwing\n  the UserExtSourceNotExistsException. This exception was replaced by the\n  WrongReferenceAttributeValueException, which is usually used when an attribute\n  is null and it cannot be null. The exception is catched in getPerunSession same as\n  the USerExtSourceNotExistsException so the behaviour will not change."}, "afterCommit": {"oid": "301b914bfd32180399fdf1da612f635158c98901", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/301b914bfd32180399fdf1da612f635158c98901", "committedDate": "2020-03-18T12:22:03Z", "message": "getUserExtSourceFromMultipleIdentifiers null\n\n- Previous implementation of the method returned null\n  when the UserExtSource was not found. That caused NullPointerException\n  later in the method getUserByUserExtSource which was called by the method\n  getPerunSession.\n- Therefore, the method getUserExtSourceFromMultipleIdentifiers was changed\n  to throw the UserExtSourceNotExistException when the UserExtSource was not found.\n- In this method was also check for null additionalIdentifiers, which was throwing\n  the UserExtSourceNotExistsException. This exception was replaced by the\n  InternalerrorException."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NTAwNzc0", "url": "https://github.com/CESNET/perun/pull/2628#pullrequestreview-377500774", "createdAt": "2020-03-19T08:17:03Z", "commit": {"oid": "301b914bfd32180399fdf1da612f635158c98901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NTEyNDM5", "url": "https://github.com/CESNET/perun/pull/2628#pullrequestreview-377512439", "createdAt": "2020-03-19T08:35:33Z", "commit": {"oid": "301b914bfd32180399fdf1da612f635158c98901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8cb5fc118906793af7ff698d98f61ecc14eed3d", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/a8cb5fc118906793af7ff698d98f61ecc14eed3d", "committedDate": "2020-03-19T13:09:13Z", "message": "getUserExtSourceFromMultipleIdentifiers null\n\n- Previous implementation of the method returned null\n  when the UserExtSource was not found. That caused NullPointerException\n  later in the method getUserByUserExtSource which was called by the method\n  getPerunSession.\n- Therefore, the method getUserExtSourceFromMultipleIdentifiers was changed\n  to throw the UserExtSourceNotExistException when the UserExtSource was not found.\n- In this method was also check for null additionalIdentifiers, which was throwing\n  the UserExtSourceNotExistsException. This exception was replaced by the\n  InternalerrorException."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "301b914bfd32180399fdf1da612f635158c98901", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/301b914bfd32180399fdf1da612f635158c98901", "committedDate": "2020-03-18T12:22:03Z", "message": "getUserExtSourceFromMultipleIdentifiers null\n\n- Previous implementation of the method returned null\n  when the UserExtSource was not found. That caused NullPointerException\n  later in the method getUserByUserExtSource which was called by the method\n  getPerunSession.\n- Therefore, the method getUserExtSourceFromMultipleIdentifiers was changed\n  to throw the UserExtSourceNotExistException when the UserExtSource was not found.\n- In this method was also check for null additionalIdentifiers, which was throwing\n  the UserExtSourceNotExistsException. This exception was replaced by the\n  InternalerrorException."}, "afterCommit": {"oid": "a8cb5fc118906793af7ff698d98f61ecc14eed3d", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/a8cb5fc118906793af7ff698d98f61ecc14eed3d", "committedDate": "2020-03-19T13:09:13Z", "message": "getUserExtSourceFromMultipleIdentifiers null\n\n- Previous implementation of the method returned null\n  when the UserExtSource was not found. That caused NullPointerException\n  later in the method getUserByUserExtSource which was called by the method\n  getPerunSession.\n- Therefore, the method getUserExtSourceFromMultipleIdentifiers was changed\n  to throw the UserExtSourceNotExistException when the UserExtSource was not found.\n- In this method was also check for null additionalIdentifiers, which was throwing\n  the UserExtSourceNotExistsException. This exception was replaced by the\n  InternalerrorException."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NzE3ODk1", "url": "https://github.com/CESNET/perun/pull/2628#pullrequestreview-377717895", "createdAt": "2020-03-19T13:29:18Z", "commit": {"oid": "a8cb5fc118906793af7ff698d98f61ecc14eed3d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1299, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}