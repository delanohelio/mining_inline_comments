{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NTE1NzI0", "number": 2675, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMTowMjozNlrOD48NtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMTowMjozNlrOD48NtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMDMzMzk2OnYy", "diffSide": "RIGHT", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/AttributesManagerImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMTowMjozNlrOGP7msA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMjo0NzowMlrOGP-sOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1ODM4NA==", "bodyText": "I just would like to ask, why is this change made only to these three methods and not to all of them? This way, the module accessing methods behave differently for different combinations of entities.", "url": "https://github.com/CESNET/perun/pull/2675#discussion_r419358384", "createdAt": "2020-05-04T11:02:36Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/AttributesManagerImpl.java", "diffHunk": "@@ -5097,7 +5097,8 @@ private UserExtSourceAttributesModuleImplApi getUserExtSourceAttributeModule(Per\n \t */\n \tGroupResourceVirtualAttributesModuleImplApi getResourceGroupVirtualAttributeModule(PerunSession sess, AttributeDefinition attribute) throws InternalErrorException {\n \t\tObject attributeModule = getAttributesModule(sess, attribute);\n-\t\tif (attributeModule == null) return null;\n+\t\tif (attributeModule == null)\n+\t\t\tthrow new ModuleNotExistsException(\"Virtual attribute module for \" + attribute + \" doesn't exists.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db9fcc893fcbe2243ef889a5c499933fbf26e803"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM3MDgxOQ==", "bodyText": "Module is \"required\" only for virtual attributes, since it implements getAttributeValue() to actually compute the value. Other getters for virtual attribute modules were already correct, so this commit fixes implementation to be consistent for all virtual attributes.", "url": "https://github.com/CESNET/perun/pull/2675#discussion_r419370819", "createdAt": "2020-05-04T11:30:56Z", "author": {"login": "zlamalp"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/AttributesManagerImpl.java", "diffHunk": "@@ -5097,7 +5097,8 @@ private UserExtSourceAttributesModuleImplApi getUserExtSourceAttributeModule(Per\n \t */\n \tGroupResourceVirtualAttributesModuleImplApi getResourceGroupVirtualAttributeModule(PerunSession sess, AttributeDefinition attribute) throws InternalErrorException {\n \t\tObject attributeModule = getAttributesModule(sess, attribute);\n-\t\tif (attributeModule == null) return null;\n+\t\tif (attributeModule == null)\n+\t\t\tthrow new ModuleNotExistsException(\"Virtual attribute module for \" + attribute + \" doesn't exists.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1ODM4NA=="}, "originalCommit": {"oid": "db9fcc893fcbe2243ef889a5c499933fbf26e803"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTQwODk1Mw==", "bodyText": "I see, thanks for the explanation.", "url": "https://github.com/CESNET/perun/pull/2675#discussion_r419408953", "createdAt": "2020-05-04T12:47:02Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/impl/AttributesManagerImpl.java", "diffHunk": "@@ -5097,7 +5097,8 @@ private UserExtSourceAttributesModuleImplApi getUserExtSourceAttributeModule(Per\n \t */\n \tGroupResourceVirtualAttributesModuleImplApi getResourceGroupVirtualAttributeModule(PerunSession sess, AttributeDefinition attribute) throws InternalErrorException {\n \t\tObject attributeModule = getAttributesModule(sess, attribute);\n-\t\tif (attributeModule == null) return null;\n+\t\tif (attributeModule == null)\n+\t\t\tthrow new ModuleNotExistsException(\"Virtual attribute module for \" + attribute + \" doesn't exists.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1ODM4NA=="}, "originalCommit": {"oid": "db9fcc893fcbe2243ef889a5c499933fbf26e803"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2019, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}