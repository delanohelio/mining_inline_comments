{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjUxNTE0", "number": 3013, "title": "Changed search space of getCompleteCandidates", "bodyText": "getCompleteCandidates for group now searches either all perun users or all users who have ues in any of group extSources or who are vo members\nalso added tests for getCompleteCandidates (with group parameter)", "createdAt": "2020-11-30T16:09:12Z", "url": "https://github.com/CESNET/perun/pull/3013", "merged": true, "mergeCommit": {"oid": "643708ebb8bb34f8829b2c947fd3543994f96118"}, "closed": true, "closedAt": "2020-12-02T11:44:11Z", "author": {"login": "metodej"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhnowYgH2gAyNTI5NjUxNTE0Ojk1NjUyODA2MjkwMDBmMDFiZDFkZmI3MTIyMDA2ZjliMTcwMmJiOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiNEHHgFqTU0Mjc1NDAzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/9565280629000f01bd1dfb7122006f9b1702bb8e", "committedDate": "2020-11-30T16:07:33Z", "message": "Changed search space of getCompleteCandidates\n\n- getCompleteCandidates for group now searches either all perun users or all users who have ues in any of group extSources or who are vo members\n- also added tests for getCompleteCandidates (with group parameter)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODI5OTIw", "url": "https://github.com/CESNET/perun/pull/3013#pullrequestreview-541829920", "createdAt": "2020-12-01T12:04:14Z", "commit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjowNDoxNVrOH8plTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjoxNToxNlrOH8p9bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM1NzkwMg==", "bodyText": "This sentence is hard to understand. What exactly happened if there is not an empty list of ext sources?", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533357902", "createdAt": "2020-12-01T12:04:15Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/VosManagerBl.java", "diffHunk": "@@ -161,14 +161,14 @@\n \n \t/**\n \t * Finds MemberCandidates who can join the Group. If the given vo is not null, it searches only\n-\t * users who belong to this Vo.\n+\t * users who belong to this Vo or who have ues in any of given extSources.\n \t *\n \t * @param sess session\n-\t * @param vo vo if is null, users are searched in whole perun, otherwise only members of this vo are used.\n+\t * @param vo vo if is null, users are searched in whole perun, otherwise members of this vo are used and users with ues in given extSources.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2NDA3Ng==", "bodyText": "You do not really filter them. You are just adding new users by the list of ext sources. (if vo is not null)", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533364076", "createdAt": "2020-12-01T12:15:16Z", "author": {"login": "stavamichal"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/VosManagerBlImpl.java", "diffHunk": "@@ -527,34 +528,51 @@ public Vo getVoById(PerunSession sess, int id) throws VoNotExistsException {\n \t * @throws InternalErrorException internal error\n \t */\n \tprivate List<RichUser> getRichUsersForMemberCandidates(PerunSession sess, List<String> attrNames, String searchString) {\n-\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString);\n+\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString, null);\n \t}\n \n \t/**\n \t * <p>Finds RichUsers who matches the given search string. If the given Vo is null,\n \t * they are searched in the whole Perun. If th Vo is not null, then are returned\n-\t * only RichUsers who has a member inside this Vo.</p>\n+\t * only RichUsers who has a member inside this Vo or who has ues in any of given ExtSources.</p>\n \t * <p>The RichUsers are returned with attributes of given names.</p>\n \t *\n \t *\n \t * @param sess session\n-\t * @param vo virtual organization, users are searched only inside this vo; if is null, then in the whole Perun\n+\t * @param vo virtual organization, users are searched inside this vo; if is null, then in the whole Perun\n \t * @param attrNames names of attributes that will be returned\n \t * @param searchString string used to find users\n+\t * @param extSources list of extSources to possibly filter RichUsers by", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbd4c456ba26573d4a768422ff39ea7551aeeeca", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/bbd4c456ba26573d4a768422ff39ea7551aeeeca", "committedDate": "2020-12-01T17:50:09Z", "message": "Fixes based on review\n\n- javadocs rewritten to make more sense"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjIxMzU5", "url": "https://github.com/CESNET/perun/pull/3013#pullrequestreview-542621359", "createdAt": "2020-12-02T09:02:44Z", "commit": {"oid": "bbd4c456ba26573d4a768422ff39ea7551aeeeca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNzU0MDMx", "url": "https://github.com/CESNET/perun/pull/3013#pullrequestreview-542754031", "createdAt": "2020-12-02T11:43:55Z", "commit": {"oid": "bbd4c456ba26573d4a768422ff39ea7551aeeeca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1715, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}