{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MTM1MTM3", "number": 2812, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzowNjoxMVrOERI3_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1Mjo1NFrOERdaCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDA2NjU0OnYy", "diffSide": "RIGHT", "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/RegistrarManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzowNjoxMVrOG1r-JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMTowOTozM1rOG2F8Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0ODEzMg==", "bodyText": "We probably can mark old createApplication() as deprecated (in core and RPC javadoc). I don't think anybody else is using it directly.", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r458948132", "createdAt": "2020-07-22T17:06:11Z", "author": {"login": "zlamalp"}, "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/RegistrarManager.java", "diffHunk": "@@ -229,6 +229,19 @@\n \t */\n \tList<ApplicationFormItemData> createApplication(PerunSession user, Application application, List<ApplicationFormItemData> data) throws PerunException;\n \n+\t/**\n+\t * Creates a new application and if succeeds, trigger validation and approval.\n+\t *\n+\t * <p>The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param session user present in session\n+\t * @param application application\n+\t * @param data data\n+\t * @return submitted application\n+\t * @throws PerunException\n+\t */\n+\tApplication submitApplication(PerunSession session, Application application, List<ApplicationFormItemData> data) throws PerunException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3MzY1OA==", "bodyText": "Done", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459373658", "createdAt": "2020-07-23T11:09:33Z", "author": {"login": "balcirakpeter"}, "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/RegistrarManager.java", "diffHunk": "@@ -229,6 +229,19 @@\n \t */\n \tList<ApplicationFormItemData> createApplication(PerunSession user, Application application, List<ApplicationFormItemData> data) throws PerunException;\n \n+\t/**\n+\t * Creates a new application and if succeeds, trigger validation and approval.\n+\t *\n+\t * <p>The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param session user present in session\n+\t * @param application application\n+\t * @param data data\n+\t * @return submitted application\n+\t * @throws PerunException\n+\t */\n+\tApplication submitApplication(PerunSession session, Application application, List<ApplicationFormItemData> data) throws PerunException;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0ODEzMg=="}, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDA4MjA4OnYy", "diffSide": "RIGHT", "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoxMDoyM1rOG1sHvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMTowOTozOVrOG2F8gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk1MDU5MA==", "bodyText": "You must specify data type in return for RPC docs: @return Application Submitted application", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r458950590", "createdAt": "2020-07-22T17:10:23Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -601,6 +601,29 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \n \t},\n \n+\t/*#\n+\t * Creates a new application.\n+\t * The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param app Application Application JSON object\n+\t * @param data List<ApplicationFormItemData> List of ApplicationFormItemData JSON objects\n+\t * @return submitted Application", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3MzY5OQ==", "bodyText": "Fixed", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459373699", "createdAt": "2020-07-23T11:09:39Z", "author": {"login": "balcirakpeter"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -601,6 +601,29 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \n \t},\n \n+\t/*#\n+\t * Creates a new application.\n+\t * The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param app Application Application JSON object\n+\t * @param data List<ApplicationFormItemData> List of ApplicationFormItemData JSON objects\n+\t * @return submitted Application", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk1MDU5MA=="}, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Njg5OTUyOnYy", "diffSide": "RIGHT", "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMTozMDowOVrOG2Gfrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMjowMDo0MlrOG2HWww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM4MjcwMw==", "bodyText": "Let docs reader know about the new way: @deprecated See submitApplication()", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459382703", "createdAt": "2020-07-23T11:30:09Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -582,6 +582,7 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \t * Creates a new application.\n \t * The method triggers approval for VOs with auto-approved applications.\n \t *\n+\t * @deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5NjgwMw==", "bodyText": "Done", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459396803", "createdAt": "2020-07-23T12:00:42Z", "author": {"login": "balcirakpeter"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -582,6 +582,7 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \t * Creates a new application.\n \t * The method triggers approval for VOs with auto-approved applications.\n \t *\n+\t * @deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM4MjcwMw=="}, "originalCommit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NzQyOTY2OnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1Mjo0NVrOG2Liyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1NDoxM1rOG2LnTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTQxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            - application\n          \n          \n            \n                            - app", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459465418", "createdAt": "2020-07-23T13:52:45Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NjU3Mw==", "bodyText": "Fixed", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459466573", "createdAt": "2020-07-23T13:54:13Z", "author": {"login": "balcirakpeter"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTQxOA=="}, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NzQzMDQ4OnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1Mjo1NFrOG2LjPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1NDoxOVrOG2LnlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTUzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            application: { $ref: '#/components/schemas/Application' }\n          \n          \n            \n                            app: { $ref: '#/components/schemas/Application' }", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459465534", "createdAt": "2020-07-23T13:52:54Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application\n+                - data\n+              properties:\n+                application: { $ref: '#/components/schemas/Application' }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NjY0NQ==", "bodyText": "Fixed", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459466645", "createdAt": "2020-07-23T13:54:19Z", "author": {"login": "balcirakpeter"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application\n+                - data\n+              properties:\n+                application: { $ref: '#/components/schemas/Application' }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTUzNA=="}, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1962, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}