{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MTM1MTM3", "number": 2812, "title": "new method submitApplication", "bodyText": "new method submitApplication was created, which works same as\ncreateApplication but it returns application instead of an application\nid. It will be used by perun-wui.\nprivate method processApplication was created to prevent duplicities.\nIt returns application id. According the id will be retrieved data or\napplication.", "createdAt": "2020-07-22T13:55:01Z", "url": "https://github.com/CESNET/perun/pull/2812", "merged": true, "mergeCommit": {"oid": "163e58baa823bec5002482682e4dfd79c9ab7d7d"}, "closed": true, "closedAt": "2020-07-23T14:08:10Z", "author": {"login": "balcirakpeter"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3bSL2gFqTQ1MzM0NTMyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3v1aqAFqTQ1NDE1NzE5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzQ1MzIy", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-453345322", "createdAt": "2020-07-22T13:59:13Z", "commit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzQ2MjI5", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-453346229", "createdAt": "2020-07-22T14:00:07Z", "commit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNTE2ODEw", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-453516810", "createdAt": "2020-07-22T17:06:11Z", "commit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzowNjoxMVrOG1r-JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoxMDoyM1rOG1sHvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0ODEzMg==", "bodyText": "We probably can mark old createApplication() as deprecated (in core and RPC javadoc). I don't think anybody else is using it directly.", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r458948132", "createdAt": "2020-07-22T17:06:11Z", "author": {"login": "zlamalp"}, "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/RegistrarManager.java", "diffHunk": "@@ -229,6 +229,19 @@\n \t */\n \tList<ApplicationFormItemData> createApplication(PerunSession user, Application application, List<ApplicationFormItemData> data) throws PerunException;\n \n+\t/**\n+\t * Creates a new application and if succeeds, trigger validation and approval.\n+\t *\n+\t * <p>The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param session user present in session\n+\t * @param application application\n+\t * @param data data\n+\t * @return submitted application\n+\t * @throws PerunException\n+\t */\n+\tApplication submitApplication(PerunSession session, Application application, List<ApplicationFormItemData> data) throws PerunException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk1MDU5MA==", "bodyText": "You must specify data type in return for RPC docs: @return Application Submitted application", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r458950590", "createdAt": "2020-07-22T17:10:23Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -601,6 +601,29 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \n \t},\n \n+\t/*#\n+\t * Creates a new application.\n+\t * The method triggers approval for VOs with auto-approved applications.\n+\t *\n+\t * @param app Application Application JSON object\n+\t * @param data List<ApplicationFormItemData> List of ApplicationFormItemData JSON objects\n+\t * @return submitted Application", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b127cf541366617eb38d73b39ce3ce553e01f8a5", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/b127cf541366617eb38d73b39ce3ce553e01f8a5", "committedDate": "2020-07-22T13:50:52Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}, "afterCommit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/d1c0495a356fa31029d088ded59b42e23269ff1f", "committedDate": "2020-07-23T11:03:18Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDQzNTIz", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-454043523", "createdAt": "2020-07-23T11:30:09Z", "commit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMTozMDowOVrOG2Gfrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMTozMDowOVrOG2Gfrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM4MjcwMw==", "bodyText": "Let docs reader know about the new way: @deprecated See submitApplication()", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459382703", "createdAt": "2020-07-23T11:30:09Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/RegistrarManagerMethod.java", "diffHunk": "@@ -582,6 +582,7 @@ public Application call(ApiCaller ac, Deserializer parms) throws PerunException\n \t * Creates a new application.\n \t * The method triggers approval for VOs with auto-approved applications.\n \t *\n+\t * @deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1c0495a356fa31029d088ded59b42e23269ff1f", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/d1c0495a356fa31029d088ded59b42e23269ff1f", "committedDate": "2020-07-23T11:03:18Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}, "afterCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/c16164c3843a1d3219d4887b4cab5f4dd0055002", "committedDate": "2020-07-23T12:00:22Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTUyMDU3", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-454152057", "createdAt": "2020-07-23T13:52:45Z", "commit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1Mjo0NVrOG2Liyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzo1Mjo1NFrOG2LjPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTQxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            - application\n          \n          \n            \n                            - app", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459465418", "createdAt": "2020-07-23T13:52:45Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2NTUzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            application: { $ref: '#/components/schemas/Application' }\n          \n          \n            \n                            app: { $ref: '#/components/schemas/Application' }", "url": "https://github.com/CESNET/perun/pull/2812#discussion_r459465534", "createdAt": "2020-07-23T13:52:54Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -11263,6 +11263,33 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/registrarManager/submitApplication:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: submitApplication\n+      summary: Creates a new application and if succeeds, trigger validation and approval.\n+        The method triggers approval for VOs with auto-approved applications.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSubmitApplication\n+              description: \"input to submitApplication\"\n+              type: object\n+              required:\n+                - application\n+                - data\n+              properties:\n+                application: { $ref: '#/components/schemas/Application' }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33ce90a6baefdc804410b309c071d3c4ed4a6d55", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/33ce90a6baefdc804410b309c071d3c4ed4a6d55", "committedDate": "2020-07-23T13:53:13Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c16164c3843a1d3219d4887b4cab5f4dd0055002", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/c16164c3843a1d3219d4887b4cab5f4dd0055002", "committedDate": "2020-07-23T12:00:22Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}, "afterCommit": {"oid": "33ce90a6baefdc804410b309c071d3c4ed4a6d55", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/33ce90a6baefdc804410b309c071d3c4ed4a6d55", "committedDate": "2020-07-23T13:53:13Z", "message": "new method submitApplication\n\n- new method submitApplication was created, which works same as\n  createApplication but it returns application instead of an application\n  id. It will be used by perun-wui.\n- submitApplication was also added to the OpenApi spec.\n- private method processApplication was created to prevent duplicities.\n  It returns application id. According the id will be retrieved data or\n  application."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTU3MTk2", "url": "https://github.com/CESNET/perun/pull/2812#pullrequestreview-454157196", "createdAt": "2020-07-23T13:55:48Z", "commit": {"oid": "33ce90a6baefdc804410b309c071d3c4ed4a6d55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1282, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}