{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMTk1Mjk3", "number": 2887, "title": "Removed functionality for creating sponsored users", "bodyText": "We want to use new functionality for sponsored members. We don't want\nto Create sponsored users anymore.\nTherefore, all places where it could be called from outside were\nremoved or forbiden.\nWe do not want to remove all logic around sponsored users (old way) for now,\nbecause there are still users which are set this way.", "createdAt": "2020-09-07T08:48:19Z", "url": "https://github.com/CESNET/perun/pull/2887", "merged": true, "mergeCommit": {"oid": "5f07b165d4b1ab8f60d7e4da868a942fab9c7106"}, "closed": true, "closedAt": "2020-09-18T07:28:05Z", "author": {"login": "balcirakpeter"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGfUVfgBqjM3MzYxNTgwOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGg0VDAFqTQ4MzQ2MjE2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef2eea394716591a82b3c1b93e676295c5e012aa", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/ef2eea394716591a82b3c1b93e676295c5e012aa", "committedDate": "2020-09-07T08:44:15Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}, "afterCommit": {"oid": "bbf934ea795357c7b1469075ce548dc1295a0b19", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/bbf934ea795357c7b1469075ce548dc1295a0b19", "committedDate": "2020-09-07T09:09:44Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbf934ea795357c7b1469075ce548dc1295a0b19", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/bbf934ea795357c7b1469075ce548dc1295a0b19", "committedDate": "2020-09-07T09:09:44Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}, "afterCommit": {"oid": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "committedDate": "2020-09-07T09:15:28Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNDM4Mzk5", "url": "https://github.com/CESNET/perun/pull/2887#pullrequestreview-483438399", "createdAt": "2020-09-07T10:19:18Z", "commit": {"oid": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxMDoxOToxOFrOHN5sOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxMDoxOToxOFrOHN5sOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODc0Nw==", "bodyText": "I think you don't need to delete this test, just the first part.", "url": "https://github.com/CESNET/perun/pull/2887#discussion_r484338747", "createdAt": "2020-09-07T10:19:18Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-core/src/test/java/cz/metacentrum/perun/core/entry/UsersManagerEntryIntegrationTest.java", "diffHunk": "@@ -156,33 +156,6 @@ public void getSpecificUsers() throws Exception {\n \t\tassertTrue(users.contains(sponsoredUser));\n \t}\n \n-\t@Test\n-\tpublic void setAndUnsetSpecificUser() throws Exception {\n-\t\tSystem.out.println(CLASS_NAME + \"setAndUnsetSpecificUser\");\n-\t\tsetUpUser();\n-\t\tUser owner = user;\n-\n-\t\tassertTrue(\"User should be sponsored\", sponsoredUser.isSponsoredUser());\n-\t\tusersManager.unsetSpecificUser(sess, sponsoredUser, SpecificUserType.SPONSORED);\n-\t\tUser user1 = usersManager.getUserById(sess, sponsoredUser.getId());\n-\t\tassertTrue(\"User shouldn't be sponsored\", !user1.isSponsoredUser());\n-\t\tusersManager.setSpecificUser(sess, user1, SpecificUserType.SPONSORED, owner);\n-\t\tuser1 = usersManager.getUserById(sess, user1.getId());\n-\t\tassertTrue(\"User should be sponsored again\", user1.isSponsoredUser());\n-\t\tList<User> owners = usersManager.getUsersBySpecificUser(sess, user1);\n-\t\tassertTrue(\"There should be just our owner\", owners.size() == 1 && owners.contains(owner));\n-\n-\t\tassertTrue(\"User should be service user\", serviceUser1.isServiceUser());\n-\t\tusersManager.unsetSpecificUser(sess, serviceUser1, SpecificUserType.SERVICE);\n-\t\tUser user2 = usersManager.getUserById(sess, serviceUser1.getId());\n-\t\tassertTrue(\"User shouldn't be service user\", !user2.isServiceUser());\n-\t\tusersManager.setSpecificUser(sess, user2, SpecificUserType.SERVICE, owner);\n-\t\tuser2 = usersManager.getUserById(sess, user2.getId());\n-\t\tassertTrue(\"User should be service user again\", user2.isServiceUser());\n-\t\towners = usersManager.getUsersBySpecificUser(sess, user2);\n-\t\tassertTrue(\"There should be just our owner\", owners.size() == 1 && owners.contains(owner));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "committedDate": "2020-09-07T10:43:05Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "committedDate": "2020-09-07T09:15:28Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}, "afterCommit": {"oid": "547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "author": {"user": {"login": "balcirakpeter", "name": null}}, "url": "https://github.com/CESNET/perun/commit/547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "committedDate": "2020-09-07T10:43:05Z", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNDYyMTY0", "url": "https://github.com/CESNET/perun/pull/2887#pullrequestreview-483462164", "createdAt": "2020-09-07T10:54:54Z", "commit": {"oid": "547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1028, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}