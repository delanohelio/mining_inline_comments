{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MTY2MzI0", "number": 2746, "title": "Updated methods in FacilitiesManagerMethod to work with facilityName", "bodyText": "methods in rpc FacilitiesManagerMethod were extended to work with facility name where previously only facility id was allowed\naddOwner, removeOwner were also extended to work with owner name and not just owner id\nremoveHostByHostname added to rpc to simulate removeHost with hostname as parameter\nmethods also added to openapi\nnew method removeHostByHostname removes host by given hostname if there is unique host to be removed after privilege check, otherwise throws exception\ngetOwnerByName was added to all layers", "createdAt": "2020-06-14T16:09:02Z", "url": "https://github.com/CESNET/perun/pull/2746", "merged": true, "mergeCommit": {"oid": "3b1b699cffc548c00bba9df5831a15dd296040e9"}, "closed": true, "closedAt": "2020-07-24T13:49:20Z", "author": {"login": "metodej"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrZ6ZLAFqTQzMDMyODg1NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4EB8VgH2gAyNDM0MTY2MzI0Ojg2MTk4ZWQwYjYyODVlYTZlMjQxZjE2ZTBlM2YxNWZiMTY1MWQ3OTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMzI4ODU0", "url": "https://github.com/CESNET/perun/pull/2746#pullrequestreview-430328854", "createdAt": "2020-06-15T05:22:37Z", "commit": {"oid": "5bcd8cb79313118bed9c5fd1ba6f66a8add4d104"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNToyMjozOFrOGjjjSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNTozNTo1NFrOGjjvcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTkzNTgxNg==", "bodyText": "We don't want to mention InternalErrorException in method definition and javadoc anymore, since its runtime.", "url": "https://github.com/CESNET/perun/pull/2746#discussion_r439935816", "createdAt": "2020-06-15T05:22:38Z", "author": {"login": "zlamalp"}, "path": "perun-core/src/main/java/cz/metacentrum/perun/core/api/OwnersManager.java", "diffHunk": "@@ -71,6 +71,20 @@\n \t */\n \tOwner getOwnerById(PerunSession perunSession, int id) throws OwnerNotExistsException, InternalErrorException, PrivilegeException;\n \n+\t/**\n+\t * Find owner by name.\n+\t *\n+\t * @param perunSession perun session\n+\t * @param name name of the owner\n+\t *\n+\t * @return Owner with specified name\n+\t *\n+\t * @throws OwnerNotExistsException if owner with given name does not exist\n+\t * @throws InternalErrorException\n+\t * @throws PrivilegeException if user does not have sufficient permissions\n+\t */\n+\tOwner getOwnerByName(PerunSession perunSession, String name) throws OwnerNotExistsException, InternalErrorException, PrivilegeException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5bcd8cb79313118bed9c5fd1ba6f66a8add4d104"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTkzODkzMA==", "bodyText": "Maybe you should mention that exception:\n@throw HostNotExistsException When host doesn't exist or is not unique by name.", "url": "https://github.com/CESNET/perun/pull/2746#discussion_r439938930", "createdAt": "2020-06-15T05:35:54Z", "author": {"login": "zlamalp"}, "path": "perun-rpc/src/main/java/cz/metacentrum/perun/rpc/methods/FacilitiesManagerMethod.java", "diffHunk": "@@ -565,6 +746,21 @@ public Void call(ApiCaller ac, Deserializer parms) throws PerunException {\n \t\t}\n \t},\n \n+\t/*#\n+\t * Remove host from the Facility based on hostname. If there is ambiguity, method throws exception and no host is removed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5bcd8cb79313118bed9c5fd1ba6f66a8add4d104"}, "originalPosition": 421}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMjMyMzI1", "url": "https://github.com/CESNET/perun/pull/2746#pullrequestreview-432232325", "createdAt": "2020-06-17T09:41:04Z", "commit": {"oid": "5bcd8cb79313118bed9c5fd1ba6f66a8add4d104"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NjUyODE5", "url": "https://github.com/CESNET/perun/pull/2746#pullrequestreview-434652819", "createdAt": "2020-06-22T07:06:47Z", "commit": {"oid": "9863d4fca89a6f986d49c555336f9751c35bace0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9863d4fca89a6f986d49c555336f9751c35bace0", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/9863d4fca89a6f986d49c555336f9751c35bace0", "committedDate": "2020-06-17T10:58:07Z", "message": "Fixes based on review\n\n- removed InternalErrorException in getOwnerByName definition and javadoc\n- added thrown exception to javadoc of removeHostByHostname"}, "afterCommit": {"oid": "d97ab02097e350902b583cca83fd38695c0e9593", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/d97ab02097e350902b583cca83fd38695c0e9593", "committedDate": "2020-06-28T10:42:19Z", "message": "Fixes based on review\n\n- removed InternalErrorException in getOwnerByName definition and javadoc\n- added thrown exception to javadoc of removeHostByHostname"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36d295ddfb9e19add18ea7135ff3836d0af1974a", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/36d295ddfb9e19add18ea7135ff3836d0af1974a", "committedDate": "2020-07-15T07:21:43Z", "message": "Added getOwnerByName to OwnerManager\n\n- getOwnerByName was added to all layers\n- also added tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31e5eb12e43ac7937dc1740f0f06644b1b7ae690", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/31e5eb12e43ac7937dc1740f0f06644b1b7ae690", "committedDate": "2020-07-15T07:21:43Z", "message": "Added method removeHostByHostname to FacilitiesManager\n\n- new method removeHostByHostname removes host by given hostname if there is unique host to be removed after privilege check, otherwise throws exception\n- also added tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5762d75e12e787ecaa786365d1d1678a6e6a0f97", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/5762d75e12e787ecaa786365d1d1678a6e6a0f97", "committedDate": "2020-07-15T07:21:43Z", "message": "Updated methods in FacilitiesManagerMethod to work with facilityName\n\n- methods in rpc FacilitiesManagerMethod were extended to work with facility name where previously only facility id was allowed\n- addOwner, removeOwner were also extended to work with owner name and not just owner id\n- removeHostByHostname added to rpc to simulate removeHost with hostname as parameter\n- methods also added to openapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3d605e5831e3adce9d1904a42e4c86c3306eb1d", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/e3d605e5831e3adce9d1904a42e4c86c3306eb1d", "committedDate": "2020-07-15T07:21:44Z", "message": "Fixes based on review\n\n- removed InternalErrorException in getOwnerByName definition and javadoc\n- added thrown exception to javadoc of removeHostByHostname"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d97ab02097e350902b583cca83fd38695c0e9593", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/d97ab02097e350902b583cca83fd38695c0e9593", "committedDate": "2020-06-28T10:42:19Z", "message": "Fixes based on review\n\n- removed InternalErrorException in getOwnerByName definition and javadoc\n- added thrown exception to javadoc of removeHostByHostname"}, "afterCommit": {"oid": "e3d605e5831e3adce9d1904a42e4c86c3306eb1d", "author": {"user": {"login": "metodej", "name": null}}, "url": "https://github.com/CESNET/perun/commit/e3d605e5831e3adce9d1904a42e4c86c3306eb1d", "committedDate": "2020-07-15T07:21:44Z", "message": "Fixes based on review\n\n- removed InternalErrorException in getOwnerByName definition and javadoc\n- added thrown exception to javadoc of removeHostByHostname"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86198ed0b6285ea6e241f16e0e3f15fb1651d797", "author": {"user": {"login": "Vojtech-Sassmann", "name": "Vojt\u011bch Sassmann"}}, "url": "https://github.com/CESNET/perun/commit/86198ed0b6285ea6e241f16e0e3f15fb1651d797", "committedDate": "2020-07-24T13:27:35Z", "message": "Merge branch 'master' into addMethodsByName"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1206, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}