{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDQzNTk2", "number": 3007, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDozODozNVrOE9qXIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwODo0MDo0M1rOE_AUQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMDkyNjQyOnYy", "diffSide": "RIGHT", "path": "perun-cli/Perun/MembersAgent.pm", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDozODozNlrOH6eDAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDozODozNlrOH6eDAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA3MTc0Nw==", "bodyText": "I am afraid this method is deprecated. Please, use usersManager/getSponsorsForMember instead.", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r531071747", "createdAt": "2020-11-26T14:38:36Z", "author": {"login": "stavamichal"}, "path": "perun-cli/Perun/MembersAgent.pm", "diffHunk": "@@ -128,4 +128,14 @@ sub unsetSponsorshipForMember\n  return Perun::Common::callManagerMethod('unsetSponsorshipForMember', 'RichMember', @_);\n }\n \n+sub getSponsors\n+{\n+ return Perun::Common::callManagerMethod('getSponsors', '[]RichUser', @_);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ada71dd3c7c64d98bd9f7255a68ec50560c9bf2"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMDkzMzk0OnYy", "diffSide": "RIGHT", "path": "perun-cli/setSponsorshipForMember", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0MDoyNlrOH6eHog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0MDoyNlrOH6eHog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA3MjkzMA==", "bodyText": "This line is probably not working correctly for parameter '-v'. It shoudl be:\n\"validityTo|v=s\" > $exp,", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r531072930", "createdAt": "2020-11-26T14:40:26Z", "author": {"login": "stavamichal"}, "path": "perun-cli/setSponsorshipForMember", "diffHunk": "@@ -13,26 +13,30 @@ sub help {\n \tAvailable options:\n \t--memberId       | -m member id\n \t--sponsorId      | -s sponsor (user) id\n+\t--validityTo     | -v expiration of sponsorship (YYYY-MM-DD) optional\n \t--batch          | -b batch\n \t--help           | -h prints this help\n \t};\n }\n \n-my ($memberId, $sponsorId, $batch);\n+my ($memberId, $sponsorId, $exp, $batch);\n GetOptions (\"help|h\"  => sub {\n \t\tprint help();\n \t\texit 0;\n \t}, \"batch|b\"        => \\$batch,\n-\t\"memberId|m=i\"        => \\$memberId, \n-\t\"sponsorId|s=i\"         => \\$sponsorId ) || die help();\n+\t\"validityTo=s\"      => \\$exp,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ada71dd3c7c64d98bd9f7255a68ec50560c9bf2"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMDk0MzgxOnYy", "diffSide": "RIGHT", "path": "perun-cli/listOfMembersSponsoredByUser", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0MzowMVrOH6eNwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0MzowMVrOH6eNwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA3NDQ5OA==", "bodyText": "This message is not correct for this script.", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r531074498", "createdAt": "2020-11-26T14:43:01Z", "author": {"login": "stavamichal"}, "path": "perun-cli/listOfMembersSponsoredByUser", "diffHunk": "@@ -0,0 +1,53 @@\n+#!/usr/bin/perl\n+\n+use strict;\n+use warnings;\n+use Getopt::Long qw(:config no_ignore_case);\n+use Text::ASCIITable;\n+use Perun::Agent;\n+use Perun::Common qw(printMessage tableToPrint getSortingFunction);\n+\n+sub help {\n+\treturn qq{\n+\tSets sponsorship for member. Member ID and sponsor ID is required.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ada71dd3c7c64d98bd9f7255a68ec50560c9bf2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTAwMjQwOnYy", "diffSide": "RIGHT", "path": "perun-cli/listOfMembersSponsoredByUser", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo1NzozOFrOH6ex3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo1NzozOFrOH6ex3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA4Mzc0MA==", "bodyText": "Name of the script should be probably little different. I would prefer:\n\nlistOfMembersSponsoredByUserInVo", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r531083740", "createdAt": "2020-11-26T14:57:38Z", "author": {"login": "stavamichal"}, "path": "perun-cli/listOfMembersSponsoredByUser", "diffHunk": "@@ -0,0 +1,53 @@\n+#!/usr/bin/perl\n+\n+use strict;\n+use warnings;\n+use Getopt::Long qw(:config no_ignore_case);\n+use Text::ASCIITable;\n+use Perun::Agent;\n+use Perun::Common qw(printMessage tableToPrint getSortingFunction);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ada71dd3c7c64d98bd9f7255a68ec50560c9bf2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTAwOTgxOnYy", "diffSide": "RIGHT", "path": "perun-cli/listOfSponsorsForMember", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo1OTozNVrOH6e2aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo1OTozNVrOH6e2aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA4NDkwNw==", "bodyText": "This message is not correct for this script.", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r531084907", "createdAt": "2020-11-26T14:59:35Z", "author": {"login": "stavamichal"}, "path": "perun-cli/listOfSponsorsForMember", "diffHunk": "@@ -0,0 +1,50 @@\n+#!/usr/bin/perl\n+\n+use strict;\n+use warnings;\n+use Getopt::Long qw(:config no_ignore_case);\n+use Text::ASCIITable;\n+use Perun::Agent;\n+use Perun::Common qw(printMessage tableToPrint getSortingFunction);\n+\n+sub help {\n+\treturn qq{\n+\tSets sponsorship for member. Member ID and sponsor ID is required.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ada71dd3c7c64d98bd9f7255a68ec50560c9bf2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NTAwOTI4OnYy", "diffSide": "RIGHT", "path": "perun-cli/Perun/beans/Sponsor.pm", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwODo0MDo0M1rOH8dcoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwODo0MDo0M1rOH8dcoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzE1OTA3Mg==", "bodyText": "Would be great to have more \"get\" method for listing sponsors (at least firstName and lastName).", "url": "https://github.com/CESNET/perun/pull/3007#discussion_r533159072", "createdAt": "2020-12-01T08:40:43Z", "author": {"login": "stavamichal"}, "path": "perun-cli/Perun/beans/Sponsor.pm", "diffHunk": "@@ -0,0 +1,45 @@\n+package Perun::beans::Sponsor;\n+\n+use strict;\n+use warnings;\n+\n+use Perun::Common;\n+\n+sub new\n+{\n+\tbless({});\n+}\n+\n+sub fromHash\n+{\n+        return Perun::Common::fromHash(@_);\n+}\n+\n+sub TO_JSON\n+{\n+\tmy $self = shift;\n+\n+\treturn { user => $self->{_user} };\n+}\n+\n+sub getUserId {\n+        return shift->{_user}->{id};\n+}\n+\n+sub getValidytyTo {\n+\treturn shift->{_validytyTo};\n+}\t\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e0bec012d16140e586a73b6b822757d51cbc4b9"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2193, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}