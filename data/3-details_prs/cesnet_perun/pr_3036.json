{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5Mjg2MDEw", "number": 3036, "title": "Edited finding firstName and lastName in displayName", "bodyText": "If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\nThis use case has been fixed and all tests run successfully.", "createdAt": "2020-12-14T09:10:39Z", "url": "https://github.com/CESNET/perun/pull/3036", "merged": true, "mergeCommit": {"oid": "900a33d1ea8aea935cbbcce3d906ce0b9d785ab7"}, "closed": true, "closedAt": "2020-12-15T08:49:38Z", "author": {"login": "HejdaJakub"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmMhXqAH2gAyNTM5Mjg2MDEwOmUwODdjNTNkZDNjZTVjMWQ0ZjcwMGZjMjZkN2RkOWE2ZTU3YTU1YTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmcmQSgFqTU1MjYxMTQ5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "author": {"user": {"login": "HejdaJakub", "name": null}}, "url": "https://github.com/CESNET/perun/commit/e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "committedDate": "2020-12-14T21:21:40Z", "message": "Edited finding firstName and lastName in displayName\n\n* If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\n* This use case has been fixed and all tests run successfully."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "987c6cd13a00045d6532fff02c2d3072bbbd0443", "author": {"user": {"login": "HejdaJakub", "name": null}}, "url": "https://github.com/CESNET/perun/commit/987c6cd13a00045d6532fff02c2d3072bbbd0443", "committedDate": "2020-12-14T08:53:44Z", "message": "Edited finding firstName and lastName in displayName\n\n* If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\n* This use case has been fixed and all tests run successfully."}, "afterCommit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "author": {"user": {"login": "HejdaJakub", "name": null}}, "url": "https://github.com/CESNET/perun/commit/e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "committedDate": "2020-12-14T21:21:40Z", "message": "Edited finding firstName and lastName in displayName\n\n* If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\n* This use case has been fixed and all tests run successfully."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMTQwMjA0", "url": "https://github.com/CESNET/perun/pull/3036#pullrequestreview-552140204", "createdAt": "2020-12-15T06:29:20Z", "commit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNjExNDk1", "url": "https://github.com/CESNET/perun/pull/3036#pullrequestreview-552611495", "createdAt": "2020-12-15T16:00:08Z", "commit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjowMDowOFrOIGS2qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjowMTowM1rOIGS5pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ3MTI3NA==", "bodyText": "It would be better to use parseTitlesBefore()", "url": "https://github.com/CESNET/perun/pull/3036#discussion_r543471274", "createdAt": "2020-12-15T16:00:08Z", "author": {"login": "mvocu"}, "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/impl/RegistrarManagerImpl.java", "diffHunk": "@@ -3533,8 +3533,14 @@ private boolean tryToParseTitlesAndMiddleNameFromPattern(Candidate candidate, St\n \t\t\t\t\t\"titles after, but get \" + matcher.groupCount() + \" groups.\" );\n \t\t}\n \n-\t\tparseTitlesBefore(candidate, matcher.group(1).trim());\n-\t\tparseMiddleName(candidate, matcher.group(2).trim());\n+\t\t// if the middle name equals to the first name placed in displayName (it can be firstName or lastName too)\n+\t\tif (matcher.group(1).contains(firstName)) {\n+\t\t\tcandidate.setTitleBefore(matcher.group(1).split(firstName)[0].trim());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ3MjAzOQ==", "bodyText": "Likewise for parseMiddleName()", "url": "https://github.com/CESNET/perun/pull/3036#discussion_r543472039", "createdAt": "2020-12-15T16:01:03Z", "author": {"login": "mvocu"}, "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/impl/RegistrarManagerImpl.java", "diffHunk": "@@ -3533,8 +3533,14 @@ private boolean tryToParseTitlesAndMiddleNameFromPattern(Candidate candidate, St\n \t\t\t\t\t\"titles after, but get \" + matcher.groupCount() + \" groups.\" );\n \t\t}\n \n-\t\tparseTitlesBefore(candidate, matcher.group(1).trim());\n-\t\tparseMiddleName(candidate, matcher.group(2).trim());\n+\t\t// if the middle name equals to the first name placed in displayName (it can be firstName or lastName too)\n+\t\tif (matcher.group(1).contains(firstName)) {\n+\t\t\tcandidate.setTitleBefore(matcher.group(1).split(firstName)[0].trim());\n+\t\t\tcandidate.setMiddleName(firstName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1001, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}