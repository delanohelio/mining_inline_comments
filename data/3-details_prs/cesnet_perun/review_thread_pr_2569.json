{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTQzMjc5", "number": 2569, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxNjoyMFrODhH-9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxODoyNFrODhIC7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDYwNDA0OnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxNjoyMFrOFrto0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxNjoyMFrOFrto0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MDgxNg==", "bodyText": "The type is no \"object\", but PerunBean.", "url": "https://github.com/CESNET/perun/pull/2569#discussion_r381380816", "createdAt": "2020-02-19T16:16:20Z", "author": {"login": "martin-kuba"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -1422,6 +1445,201 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/authzResolver/getRichAdmins:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzRichAdmins\n+      summary: Gets all rich admins\n+      description: Returns all managers for complementaryObject and role with specified attributes.\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+        - { name: specificAttributes,\n+            description: \"list of specified attributes which are needed in object richUser\",\n+            schema: {\n+              type: array,\n+              items: {\n+                type: string\n+              }\n+            },\n+            in: query,\n+            required: true\n+        }\n+        - { name: allUserAttributes,\n+            description: \"When true, do not specify attributes through list and return them all in objects richUser. Ignoring list of specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: false\n+            },\n+            in: query,\n+            required: false\n+        }\n+        - { name: onlyDirectAdmins,\n+            description: \"When true, return only direct users of the complementary object for role with specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: true\n+            },\n+            in: query,\n+            required: false\n+        }\n+      responses:\n+        '200':\n+          $ref: \"#/components/schemas/ListOfRichUsersResponse\"\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/getAdminGroups:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzAdminGroups\n+      summary: Get all groups of managers (authorizedGroups) for complementaryObject and role\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfGroupsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/setRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithUserComplementaryObject\n+      summary: Set role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithUserComplementaryObject\n+              description: \"input to setRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e64033c71a7a647877c261fc529daee979c11"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDYxMTc3OnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxNzo1OFrOFrttcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxNzo1OFrOFrttcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MjAwMg==", "bodyText": "The type is PerunBean.", "url": "https://github.com/CESNET/perun/pull/2569#discussion_r381382002", "createdAt": "2020-02-19T16:17:58Z", "author": {"login": "martin-kuba"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -1422,6 +1445,201 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/authzResolver/getRichAdmins:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzRichAdmins\n+      summary: Gets all rich admins\n+      description: Returns all managers for complementaryObject and role with specified attributes.\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+        - { name: specificAttributes,\n+            description: \"list of specified attributes which are needed in object richUser\",\n+            schema: {\n+              type: array,\n+              items: {\n+                type: string\n+              }\n+            },\n+            in: query,\n+            required: true\n+        }\n+        - { name: allUserAttributes,\n+            description: \"When true, do not specify attributes through list and return them all in objects richUser. Ignoring list of specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: false\n+            },\n+            in: query,\n+            required: false\n+        }\n+        - { name: onlyDirectAdmins,\n+            description: \"When true, return only direct users of the complementary object for role with specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: true\n+            },\n+            in: query,\n+            required: false\n+        }\n+      responses:\n+        '200':\n+          $ref: \"#/components/schemas/ListOfRichUsersResponse\"\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/getAdminGroups:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzAdminGroups\n+      summary: Get all groups of managers (authorizedGroups) for complementaryObject and role\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfGroupsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/setRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithUserComplementaryObject\n+      summary: Set role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithUserComplementaryObject\n+              description: \"input to setRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+  /json/authzResolver/unsetRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: unsetRoleWithUserComplementaryObject\n+      summary: Unset role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: unsetRoleWithUserComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e64033c71a7a647877c261fc529daee979c11"}, "originalPosition": 160}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDYxMzMwOnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxODoxNFrOFrtuSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxODoxNFrOFrtuSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MjIxNw==", "bodyText": "dtto", "url": "https://github.com/CESNET/perun/pull/2569#discussion_r381382217", "createdAt": "2020-02-19T16:18:14Z", "author": {"login": "martin-kuba"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -1422,6 +1445,201 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/authzResolver/getRichAdmins:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzRichAdmins\n+      summary: Gets all rich admins\n+      description: Returns all managers for complementaryObject and role with specified attributes.\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+        - { name: specificAttributes,\n+            description: \"list of specified attributes which are needed in object richUser\",\n+            schema: {\n+              type: array,\n+              items: {\n+                type: string\n+              }\n+            },\n+            in: query,\n+            required: true\n+        }\n+        - { name: allUserAttributes,\n+            description: \"When true, do not specify attributes through list and return them all in objects richUser. Ignoring list of specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: false\n+            },\n+            in: query,\n+            required: false\n+        }\n+        - { name: onlyDirectAdmins,\n+            description: \"When true, return only direct users of the complementary object for role with specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: true\n+            },\n+            in: query,\n+            required: false\n+        }\n+      responses:\n+        '200':\n+          $ref: \"#/components/schemas/ListOfRichUsersResponse\"\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/getAdminGroups:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzAdminGroups\n+      summary: Get all groups of managers (authorizedGroups) for complementaryObject and role\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfGroupsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/setRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithUserComplementaryObject\n+      summary: Set role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithUserComplementaryObject\n+              description: \"input to setRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+  /json/authzResolver/unsetRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: unsetRoleWithUserComplementaryObject\n+      summary: Unset role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: unsetRoleWithUserComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+\n+  /json/authzResolver/setRole/g-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithGroupComplementaryObject\n+      summary: Set role for authorizedGroup and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithGroupComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - authorizedGroups\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                authorizedGroups:\n+                  type: array\n+                  description: \"List of authorizedGroups ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e64033c71a7a647877c261fc529daee979c11"}, "originalPosition": 194}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDYxNDIwOnYy", "diffSide": "RIGHT", "path": "perun-openapi/openapi.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxODoyNFrOFrtu1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjoxODoyNFrOFrtu1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MjM1OA==", "bodyText": "dtto", "url": "https://github.com/CESNET/perun/pull/2569#discussion_r381382358", "createdAt": "2020-02-19T16:18:24Z", "author": {"login": "martin-kuba"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -1422,6 +1445,201 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/authzResolver/getRichAdmins:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzRichAdmins\n+      summary: Gets all rich admins\n+      description: Returns all managers for complementaryObject and role with specified attributes.\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+        - { name: specificAttributes,\n+            description: \"list of specified attributes which are needed in object richUser\",\n+            schema: {\n+              type: array,\n+              items: {\n+                type: string\n+              }\n+            },\n+            in: query,\n+            required: true\n+        }\n+        - { name: allUserAttributes,\n+            description: \"When true, do not specify attributes through list and return them all in objects richUser. Ignoring list of specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: false\n+            },\n+            in: query,\n+            required: false\n+        }\n+        - { name: onlyDirectAdmins,\n+            description: \"When true, return only direct users of the complementary object for role with specific attributes\",\n+            schema: {\n+              type: boolean,\n+              default: true\n+            },\n+            in: query,\n+            required: false\n+        }\n+      responses:\n+        '200':\n+          $ref: \"#/components/schemas/ListOfRichUsersResponse\"\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/getAdminGroups:\n+    get:\n+      tags:\n+        - AuthzResolver\n+      operationId: getAuthzAdminGroups\n+      summary: Get all groups of managers (authorizedGroups) for complementaryObject and role\n+      parameters:\n+        - $ref: '#/components/parameters/role'\n+        - $ref: '#/components/parameters/complementaryObjectId'\n+        - $ref: '#/components/parameters/complementaryObjectName'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfGroupsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/authzResolver/setRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithUserComplementaryObject\n+      summary: Set role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithUserComplementaryObject\n+              description: \"input to setRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+  /json/authzResolver/unsetRole/u-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: unsetRoleWithUserComplementaryObject\n+      summary: Unset role for user and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: unsetRoleWithUserComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - users\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                users:\n+                  type: array\n+                  description: \"List of user ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+\n+  /json/authzResolver/setRole/g-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: setRoleWithGroupComplementaryObject\n+      summary: Set role for authorizedGroup and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: setRoleWithGroupComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - authorizedGroups\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                authorizedGroups:\n+                  type: array\n+                  description: \"List of authorizedGroups ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}\n+\n+  /json/authzResolver/unsetRole/g-co:\n+    post:\n+      tags:\n+        - AuthzResolver\n+      operationId: unsetRoleWithGroupComplementaryObject\n+      summary: Unset role for authorizedGroup and complementaryObject\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: unsetRoleWithGroupComplementaryObject\n+              description: \"input to unsetRoleWithUserComplementaryObject\"\n+              type: object\n+              required:\n+                - role\n+                - authorizedGroups\n+                - complementaryObject\n+              properties:\n+                role: {type: string, nullable: false}\n+                authorizedGroups:\n+                  type: array\n+                  description: \"List of authorizedGroups ids\"\n+                  nullable: false\n+                  items:\n+                    type: integer\n+                complementaryObject: {type: object, description: \"Object (e.g.: vo | group | facility ) to associate role and user with.\", nullable: false}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e64033c71a7a647877c261fc529daee979c11"}, "originalPosition": 227}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2094, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}