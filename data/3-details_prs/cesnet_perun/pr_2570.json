{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTU1NjA5", "number": 2570, "title": "Openapi facility", "bodyText": "added new descriptions of methods to the openApi\nalso added new schemas, responses and parameters where needed\nmake different operationId of every operation", "createdAt": "2020-02-19T12:58:49Z", "url": "https://github.com/CESNET/perun/pull/2570", "merged": true, "mergeCommit": {"oid": "81bbb6a4ee2820426d310efda14ba8f16b7e65fc"}, "closed": true, "closedAt": "2020-02-28T09:09:55Z", "author": {"login": "xkureck"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcF1VDWAH2gAyMzc3MTU1NjA5OjkyNjFjNDFhN2YwNTAyYjUzNzlmMjJiNWU3ZDJjZmUyOTFkYjdlMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIsO1RAH2gAyMzc3MTU1NjA5OjdhZTY3OWQ0OTQzNDk1OGZlMWE0MjNmNTE1NzNhM2I2NjI5MmVmMzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9261c41a7f0502b5379f22b5e7d2cfe291db7e1a", "author": {"user": null}, "url": "https://github.com/CESNET/perun/commit/9261c41a7f0502b5379f22b5e7d2cfe291db7e1a", "committedDate": "2020-02-19T12:03:40Z", "message": "OpenAPI - facility manager implemented\n* added new descriptions of methods to the openApi\n* also added new schemas, responses and parameters where needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757", "author": {"user": null}, "url": "https://github.com/CESNET/perun/commit/534cf23ca5bfde3f69e7d1e243f16668acc6b757", "committedDate": "2020-02-19T12:56:25Z", "message": "OpenAPI - facility manager implemented\n* make different operationId of every operation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMjA5Nzg0", "url": "https://github.com/CESNET/perun/pull/2570#pullrequestreview-361209784", "createdAt": "2020-02-19T15:58:06Z", "commit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNTo1ODowNlrOFrs0Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNTo1ODowNlrOFrs0Sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM2NzM3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    users: { type: array, items: { $ref: '#/components/schemas/User' } }\n          \n          \n            \n                    users: { type: array, items: { $ref: '#/components/schemas/RichUser' } }", "url": "https://github.com/CESNET/perun/pull/2570#discussion_r381367370", "createdAt": "2020-02-19T15:58:06Z", "author": {"login": "martin-kuba"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -430,6 +430,24 @@ components:\n               items:\n                 type: integer\n \n+    ContactGroup:\n+      type: object\n+      properties:\n+        name: { type: string }\n+        facility: { $ref: '#/components/schemas/Facility' }\n+        groups: { type: array, items: { $ref: '#/components/schemas/Group' } }\n+        owners: { type: array, items: { $ref: '#/components/schemas/Owner' } }\n+        users: { type: array, items: { $ref: '#/components/schemas/User' } }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNTc1MzI0", "url": "https://github.com/CESNET/perun/pull/2570#pullrequestreview-362575324", "createdAt": "2020-02-21T11:46:31Z", "commit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMTo0NjozMVrOFs0XGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMTo0NzoxMlrOFs0YDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzOTU0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              /json/facilitiesManager/getAllowedUsers:\n          \n          \n            \n              /json/facilitiesManager/getAllowedUsers/v-f-s:\n          \n      \n    \n    \n  \n\nThere are also other versions of this method and might be in the future added to this file.", "url": "https://github.com/CESNET/perun/pull/2570#discussion_r382539544", "createdAt": "2020-02-21T11:46:31Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -5032,60 +5160,457 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/facilitiesManager/getFacilitiesWhereUserIsAdmin:\n+    get:\n+      tags:\n+        - FacilitiesManager\n+      operationId: getFacilitiesWhereUserIsAdmin\n+      summary: Returns list of Facilities, where the user is an Administrator.\n+      parameters:\n+        - $ref: '#/components/parameters/userId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfFacilitiesResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getRichAdmins\n-\n-  #TODO getRichAdminsWithAttributes\n+  /json/facilitiesManager/getFacilitiesByHostName:\n+    get:\n+      tags:\n+        - FacilitiesManager\n+      operationId: getFacilitiesByHostName\n+      summary: Return all facilities where exists host with the specific hostname\n+      parameters:\n+        - { name: hostname, schema: { type: string }, in: query, required: true, description: \"specific hostname\"}\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfFacilitiesResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getRichAdminsWithSpecificAttributes\n+  /json/facilitiesManager/getAllowedUsers:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzOTc5MQ==", "bodyText": "You should also add a TODO mentioning that there are missing some versions of this method.", "url": "https://github.com/CESNET/perun/pull/2570#discussion_r382539791", "createdAt": "2020-02-21T11:47:12Z", "author": {"login": "Vojtech-Sassmann"}, "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -5032,60 +5160,457 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n+  /json/facilitiesManager/getFacilitiesWhereUserIsAdmin:\n+    get:\n+      tags:\n+        - FacilitiesManager\n+      operationId: getFacilitiesWhereUserIsAdmin\n+      summary: Returns list of Facilities, where the user is an Administrator.\n+      parameters:\n+        - $ref: '#/components/parameters/userId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfFacilitiesResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getRichAdmins\n-\n-  #TODO getRichAdminsWithAttributes\n+  /json/facilitiesManager/getFacilitiesByHostName:\n+    get:\n+      tags:\n+        - FacilitiesManager\n+      operationId: getFacilitiesByHostName\n+      summary: Return all facilities where exists host with the specific hostname\n+      parameters:\n+        - { name: hostname, schema: { type: string }, in: query, required: true, description: \"specific hostname\"}\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfFacilitiesResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getRichAdminsWithSpecificAttributes\n+  /json/facilitiesManager/getAllowedUsers:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzOTU0NA=="}, "originalCommit": {"oid": "534cf23ca5bfde3f69e7d1e243f16668acc6b757"}, "originalPosition": 203}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "905fc2be1ef5c3c51ef0fddc8a0226d7199005bf", "author": {"user": null}, "url": "https://github.com/CESNET/perun/commit/905fc2be1ef5c3c51ef0fddc8a0226d7199005bf", "committedDate": "2020-02-25T12:44:08Z", "message": "OpenAPI - facility manager implemented\n* changes according to review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTM1NDAy", "url": "https://github.com/CESNET/perun/pull/2570#pullrequestreview-364135402", "createdAt": "2020-02-25T13:24:09Z", "commit": {"oid": "905fc2be1ef5c3c51ef0fddc8a0226d7199005bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MjQ4ODQ5", "url": "https://github.com/CESNET/perun/pull/2570#pullrequestreview-366248849", "createdAt": "2020-02-28T09:08:52Z", "commit": {"oid": "905fc2be1ef5c3c51ef0fddc8a0226d7199005bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae679d49434958fe1a423f51573a3b66292ef39", "author": {"user": {"login": "Vojtech-Sassmann", "name": "Vojt\u011bch Sassmann"}}, "url": "https://github.com/CESNET/perun/commit/7ae679d49434958fe1a423f51573a3b66292ef39", "committedDate": "2020-02-28T09:09:30Z", "message": "Merge branch 'master' into openapiFacility"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1429, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}