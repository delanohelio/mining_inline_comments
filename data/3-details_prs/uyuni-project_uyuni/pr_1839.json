{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NTAwNTA2", "number": 1839, "title": "Testsuite - debug selected formulas reintroduction", "bodyText": "What does this PR change?\nReintroduction of #1771. Removal of #1771 proved issue could be solved by adding of additional puts. (Problem is back when puts were removed.) This PR reintroduces previous code.\nAs a next step (when no new and useful information is reached) we can consider replacing this puts by simple delay before condition is evaluated. (Or with mechanism not using WAIT parameter.)\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-01-29T11:14:41Z", "url": "https://github.com/uyuni-project/uyuni/pull/1839", "merged": true, "mergeCommit": {"oid": "1e3056163d999a75a6dffa1e91c4c35103b9036c"}, "closed": true, "closedAt": "2020-01-29T14:38:09Z", "author": {"login": "lkotek"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_D82KAH2gAyMzY4NTAwNTA2OjY3NjFjMzFiYjA5YzBlMjViMTZiYmM0ZTQwNjE5ZDVjMWYyMGM3MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_GbtJgFqTM1MDEyNjIxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/6761c31bb09c0e25b16bbc4e40619d5c1f20c701", "committedDate": "2020-01-29T11:08:20Z", "message": "debug formulas reintroduction"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDgwNTUx", "url": "https://github.com/uyuni-project/uyuni/pull/1839#pullrequestreview-350080551", "createdAt": "2020-01-29T12:49:47Z", "commit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDk4ODE4", "url": "https://github.com/uyuni-project/uyuni/pull/1839#pullrequestreview-350098818", "createdAt": "2020-01-29T13:21:06Z", "commit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMTI1Nzc4", "url": "https://github.com/uyuni-project/uyuni/pull/1839#pullrequestreview-350125778", "createdAt": "2020-01-29T14:01:15Z", "commit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNDowMToxNVrOFjJXGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxNDowMToxNVrOFjJXGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjM5Nzg0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                raise \"xpath: #{xpath_query} not found\" unless find(:xpath, xpath_query, wait: DEFAULT_TIMEOUT).click\n          \n          \n            \n                element = find(:xpath, xpath_query, match: :first ,wait: DEFAULT_TIMEOUT) if find('#chooseFormulas')\n          \n          \n            \n                raise \"xpath: #{xpath_query} not found\" unless element.nil?\n          \n          \n            \n                \n          \n          \n            \n                element.click", "url": "https://github.com/uyuni-project/uyuni/pull/1839#discussion_r372397848", "createdAt": "2020-01-29T14:01:15Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/salt_steps.rb", "diffHunk": "@@ -271,11 +271,14 @@\n   # Complicated code because the checkbox is not a <input type=checkbox> but an <i>\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-square-o']\" if action == 'check'\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-check-square-o']\" if action == 'uncheck'\n+  puts \"Selected formulas [beginning]:\\n#{find('#chooseFormulas')['innerHTML']}\"\n   if all(:xpath, xpath_query, wait: DEFAULT_TIMEOUT).any?\n+    puts \"Selected formulas [if]:\\n#{find('#chooseFormulas')['innerHTML']}\"\n     raise \"xpath: #{xpath_query} not found\" unless find(:xpath, xpath_query, wait: DEFAULT_TIMEOUT).click", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMTI2MjE1", "url": "https://github.com/uyuni-project/uyuni/pull/1839#pullrequestreview-350126215", "createdAt": "2020-01-29T14:01:51Z", "commit": {"oid": "6761c31bb09c0e25b16bbc4e40619d5c1f20c701"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1757, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}