{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMTM4NTk4", "number": 2581, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjowODoxMVrOErQLkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo0NTozNlrOEyY7Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNzg5MzI4OnYy", "diffSide": "RIGHT", "path": "java/code/src/com/suse/manager/virtualization/GuestDiskDef.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjowODoxMVrOHd636Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzozNzozMlrOHeRppQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEzNTMzNw==", "bodyText": "Pattern is immutable so you could make it a static member of this class.", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r501135337", "createdAt": "2020-10-07T16:08:11Z", "author": {"login": "mateiw"}, "path": "java/code/src/com/suse/manager/virtualization/GuestDiskDef.java", "diffHunk": "@@ -216,6 +218,16 @@ else if (\"cdrom\".equals(disk.getDevice())) {\n                         source.put(\"file\", info.getFile());\n                     }\n                 }\n+                else if (Arrays.asList(\"block\", \"file\").contains(disk.getType())) {\n+                    Pattern regex = Pattern.compile(\"([^/]+)/([^/]+)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81dbf23a97edfa190bef55fdaa96154dd7f5f6e2"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUwODUxNw==", "bodyText": "done. Thanks for the suggestion", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r501508517", "createdAt": "2020-10-08T07:37:32Z", "author": {"login": "cbosdo"}, "path": "java/code/src/com/suse/manager/virtualization/GuestDiskDef.java", "diffHunk": "@@ -216,6 +218,16 @@ else if (\"cdrom\".equals(disk.getDevice())) {\n                         source.put(\"file\", info.getFile());\n                     }\n                 }\n+                else if (Arrays.asList(\"block\", \"file\").contains(disk.getType())) {\n+                    Pattern regex = Pattern.compile(\"([^/]+)/([^/]+)\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEzNTMzNw=="}, "originalCommit": {"oid": "81dbf23a97edfa190bef55fdaa96154dd7f5f6e2"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjcxODA1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/minkvm_guests.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo0NDowMVrOHo_-UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo1NToxNVrOHpAjvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1MzIzMg==", "bodyText": "scsi is an abbreviation: SCSI", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512753232", "createdAt": "2020-10-27T14:44:01Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/minkvm_guests.feature", "diffHunk": "@@ -129,7 +129,7 @@ Feature: Be able to manage KVM virtual machines via the GUI\n     And \"test-vm\" virtual machine on \"kvm_server\" should have spice graphics device\n     And \"test-vm\" virtual machine on \"kvm_server\" should have 1 NIC using \"test-net1\" network\n     And \"test-vm\" virtual machine on \"kvm_server\" should have a NIC with 02:34:56:78:9a:bc MAC address\n-    And \"test-vm\" virtual machine on \"kvm_server\" should have a \"test-vm_disk.qcow2\" scsi disk\n+    And \"test-vm\" virtual machine on \"kvm_server\" should have a \"test-vm_disk.qcow2\" scsi disk from pool \"tmp\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc2MjgxMw==", "bodyText": "OK, I'll lowercase it in the step then", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512762813", "createdAt": "2020-10-27T14:55:15Z", "author": {"login": "cbosdo"}, "path": "testsuite/features/secondary/minkvm_guests.feature", "diffHunk": "@@ -129,7 +129,7 @@ Feature: Be able to manage KVM virtual machines via the GUI\n     And \"test-vm\" virtual machine on \"kvm_server\" should have spice graphics device\n     And \"test-vm\" virtual machine on \"kvm_server\" should have 1 NIC using \"test-net1\" network\n     And \"test-vm\" virtual machine on \"kvm_server\" should have a NIC with 02:34:56:78:9a:bc MAC address\n-    And \"test-vm\" virtual machine on \"kvm_server\" should have a \"test-vm_disk.qcow2\" scsi disk\n+    And \"test-vm\" virtual machine on \"kvm_server\" should have a \"test-vm_disk.qcow2\" scsi disk from pool \"tmp\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1MzIzMg=="}, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjcyMTk4OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/minxen_guests.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo0NDo0NVrOHpAAzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo1NTozMlrOHpAkuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1Mzg2OA==", "bodyText": "could be \"And\"", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512753868", "createdAt": "2020-10-27T14:44:45Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -192,21 +186,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template-xenpv.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n-    And I select \"Spice\" from \"graphicsType\"\n+    And I select \"VNC\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm2\" text\n     And I wait at most 500 seconds until table row for \"test-vm2\" contains button \"Stop\"\n     And \"test-vm2\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus\n     And \"test-vm2\" virtual machine on \"xen_server\" should have 1 NIC using \"test-net0\" network\n-    And \"test-vm2\" virtual machine on \"xen_server\" should have a \"test-vm2_system\" xen disk from pool \"test-pool0\"\n+    And \"test-vm2\" virtual machine on \"xen_server\" should have a \"/var/lib/libvirt/images/test-pool0/test-vm2_system\" xen disk\n \n @virthost_xen\n-  Scenario: Show the Spice graphical console for Xen\n+  Scenario: Show the VNC graphical console for Xen\n     Given I am on the \"Virtualization\" page of this \"xen_server\"\n     When I click on \"Graphical Console\" in row \"test-vm2\"\n     And I switch to last opened window\n-    Then I wait until I see the spice graphical console\n+    Then I wait until I see the VNC graphical console", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc2MzA2NQ==", "bodyText": "OK", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512763065", "createdAt": "2020-10-27T14:55:32Z", "author": {"login": "cbosdo"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -192,21 +186,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template-xenpv.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n-    And I select \"Spice\" from \"graphicsType\"\n+    And I select \"VNC\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm2\" text\n     And I wait at most 500 seconds until table row for \"test-vm2\" contains button \"Stop\"\n     And \"test-vm2\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus\n     And \"test-vm2\" virtual machine on \"xen_server\" should have 1 NIC using \"test-net0\" network\n-    And \"test-vm2\" virtual machine on \"xen_server\" should have a \"test-vm2_system\" xen disk from pool \"test-pool0\"\n+    And \"test-vm2\" virtual machine on \"xen_server\" should have a \"/var/lib/libvirt/images/test-pool0/test-vm2_system\" xen disk\n \n @virthost_xen\n-  Scenario: Show the Spice graphical console for Xen\n+  Scenario: Show the VNC graphical console for Xen\n     Given I am on the \"Virtualization\" page of this \"xen_server\"\n     When I click on \"Graphical Console\" in row \"test-vm2\"\n     And I switch to last opened window\n-    Then I wait until I see the spice graphical console\n+    Then I wait until I see the VNC graphical console", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1Mzg2OA=="}, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjcyNTEwOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/minxen_guests.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo0NToxOFrOHpACuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo1NTo1NlrOHpAmEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1NDM2MQ==", "bodyText": "\"Then\"", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512754361", "createdAt": "2020-10-27T14:45:18Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -218,13 +212,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n+    And I select \"Spice\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc2MzQxMQ==", "bodyText": "That one is not new ;)", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512763411", "createdAt": "2020-10-27T14:55:56Z", "author": {"login": "cbosdo"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -218,13 +212,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n+    And I select \"Spice\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1NDM2MQ=="}, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjcyNjcwOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/minxen_guests.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDo0NTozN1rOHpADxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTowMDo1NFrOHpA3GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1NDYzMQ==", "bodyText": "Could be \"And\"", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512754631", "createdAt": "2020-10-27T14:45:37Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -218,13 +212,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n+    And I select \"Spice\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 1 NIC using \"test-net0\" network\n-    And \"test-vm3\" virtual machine on \"xen_server\" should have a \"test-vm3_system\" xen disk from pool \"test-pool0\"\n+    And \"test-vm3\" virtual machine on \"xen_server\" should have a \"/var/lib/libvirt/images/test-pool0/test-vm3_system\" xen disk\n+\n+@virthost_xen\n+  Scenario: Show the Spice graphical console for Xen\n+    Given I am on the \"Virtualization\" page of this \"xen_server\"\n+    When I click on \"Graphical Console\" in row \"test-vm3\"\n+    And I switch to last opened window\n+    Then I wait until I see the spice graphical console", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc2Nzc2OQ==", "bodyText": "Actually, I prefer it as Then :D I think we agreed to don't consider the \"I wait until\" part, sometime in the past.", "url": "https://github.com/uyuni-project/uyuni/pull/2581#discussion_r512767769", "createdAt": "2020-10-27T15:00:54Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -218,13 +212,21 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"512\" as \"memory\"\n     And I enter \"/var/testsuite-data/disk-image-template.qcow2\" as \"disk0_source_template\"\n     And I select \"test-net0\" from \"network0_source\"\n+    And I select \"Spice\" from \"graphicsType\"\n     And I click on \"Create\"\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus\n     And \"test-vm3\" virtual machine on \"xen_server\" should have 1 NIC using \"test-net0\" network\n-    And \"test-vm3\" virtual machine on \"xen_server\" should have a \"test-vm3_system\" xen disk from pool \"test-pool0\"\n+    And \"test-vm3\" virtual machine on \"xen_server\" should have a \"/var/lib/libvirt/images/test-pool0/test-vm3_system\" xen disk\n+\n+@virthost_xen\n+  Scenario: Show the Spice graphical console for Xen\n+    Given I am on the \"Virtualization\" page of this \"xen_server\"\n+    When I click on \"Graphical Console\" in row \"test-vm3\"\n+    And I switch to last opened window\n+    Then I wait until I see the spice graphical console", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc1NDYzMQ=="}, "originalCommit": {"oid": "cd68217da22a868fb1d2ab25c5212055324b340e"}, "originalPosition": 74}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4194, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}