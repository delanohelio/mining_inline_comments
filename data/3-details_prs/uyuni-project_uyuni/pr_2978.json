{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNTA4ODky", "number": 2978, "title": "PoC: Migrate CommonJS components to ES6", "bodyText": "What does this PR change?\nWhile working on SUSE/spacewalk#13208, I ran into the problem that we currently use a mix of CommonJS (require/module.exports) and ES6 (import/export) across different React components.\nTypescript has trouble jumping between the two correctly, even with interop and other shenanigans enabled.\nAs a solution, I propose migrating the CommonJS based components to ES6 so we have one uniform way of doing things, excluding async require usage which has no equivalent in ES6.\nThis is one possible way to resolve the situation, but I'm also very open to alternative suggestions.\nThis is mergeable as-is, but if the PR is too big I'm open to other ideas.\nCurrently I've migrated imports using jscodeshift, and exports with a mix of that and manual work depending on the situation.\nI've also gone through some of the common star imports manually to ensure they're consistently used.\nGUI diff\nNo difference.\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: Not sure if this needs additional documentation, no user-facing changes?\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: Needs to pass against all existing test suites.\n\n\n DONE\n\n\nLinks\nRelated: SUSE/spacewalk#13208\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-12-07T09:03:54Z", "url": "https://github.com/uyuni-project/uyuni/pull/2978", "merged": true, "mergeCommit": {"oid": "b7843e49a1f361fa083cda6617a7ae96a9dd9d35"}, "closed": true, "closedAt": "2020-12-11T11:03:14Z", "author": {"login": "Etheryte"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkO7JXgFqTU0NzU0MDgwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlFywiABqjQwOTk4MDc0MDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTQwODA4", "url": "https://github.com/uyuni-project/uyuni/pull/2978#pullrequestreview-547540808", "createdAt": "2020-12-08T19:01:47Z", "commit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTYwMTU4", "url": "https://github.com/uyuni-project/uyuni/pull/2978#pullrequestreview-549960158", "createdAt": "2020-12-11T10:05:29Z", "commit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTY2MjUz", "url": "https://github.com/uyuni-project/uyuni/pull/2978#pullrequestreview-549966253", "createdAt": "2020-12-11T10:13:44Z", "commit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMDoxMzo0NFrOIDyFPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxMDoxMzo0NFrOIDyFPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDgzNzE4MQ==", "bodyText": "Now that we are on it, I wonder if with some good regex it is possible to:\n\nfind and replace all the \".....\" to '.....'\nkeep a space between brackets from {abc} to { abc }\n\nwhile using imports. I see we are standardizing it so it would be nice, but not really required.", "url": "https://github.com/uyuni-project/uyuni/pull/2978#discussion_r540837181", "createdAt": "2020-12-11T10:13:44Z", "author": {"login": "ncounter"}, "path": "web/html/src/manager/admin/config/use-monitoring-api.js", "diffHunk": "@@ -1,6 +1,6 @@\n // @flow\n import {useState} from 'react';\n-import * as Network from 'utils/network';\n+import Network from 'utils/network';\n \n import type {JsonResult} from \"../../../utils/network\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTcxODcx", "url": "https://github.com/uyuni-project/uyuni/pull/2978#pullrequestreview-549971871", "createdAt": "2020-12-11T10:21:40Z", "commit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ac8af8e86e3babcf5690e836912d19a87aeca01", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/6ac8af8e86e3babcf5690e836912d19a87aeca01", "committedDate": "2020-12-11T10:56:03Z", "message": "Migrate imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2080afaf28941b902bd61c19fe822d389ee54d8", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/b2080afaf28941b902bd61c19fe822d389ee54d8", "committedDate": "2020-12-11T10:56:03Z", "message": "Migrate React imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76397cc185b7413952b6036d7069ee24061f9a90", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/76397cc185b7413952b6036d7069ee24061f9a90", "committedDate": "2020-12-11T10:56:03Z", "message": "Migrate exports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "485bddb5b023a4273378da7a8a64898f63eebdb4", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/485bddb5b023a4273378da7a8a64898f63eebdb4", "committedDate": "2020-12-11T10:56:03Z", "message": "Uniform utils imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eedc21f1112188d187a33599d755211b784e8e90", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/eedc21f1112188d187a33599d755211b784e8e90", "committedDate": "2020-12-11T10:56:04Z", "message": "Migrate star imports and spreads"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e88bf2c26a26e467597c85f943f3e6e3061fbf6d", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/e88bf2c26a26e467597c85f943f3e6e3061fbf6d", "committedDate": "2020-12-11T10:56:37Z", "message": "Update changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "189b0dc0b8c0cbf653b4a06b23a0d4ac8dcd3844", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/189b0dc0b8c0cbf653b4a06b23a0d4ac8dcd3844", "committedDate": "2020-12-11T10:56:38Z", "message": "Revert package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "467953212d1301dc7a1ec84ce9cffe8285c02857", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/467953212d1301dc7a1ec84ce9cffe8285c02857", "committedDate": "2020-12-07T08:58:58Z", "message": "Revert package"}, "afterCommit": {"oid": "189b0dc0b8c0cbf653b4a06b23a0d4ac8dcd3844", "author": {"user": {"login": "Etheryte", "name": "Karl Tarvas"}}, "url": "https://github.com/uyuni-project/uyuni/commit/189b0dc0b8c0cbf653b4a06b23a0d4ac8dcd3844", "committedDate": "2020-12-11T10:56:38Z", "message": "Revert package"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 799, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}