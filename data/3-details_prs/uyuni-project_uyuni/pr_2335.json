{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2Mzk5ODA1", "number": 2335, "title": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni", "bodyText": "What does this PR change?\nAdd aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni\nGUI diff\nNo difference.\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: Pending\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: Cucumber should take care of this at some point\n\n\n DONE\n\n\nLinks\nTracks SUSE/spacewalk#11554 and #2129\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-06-18T11:10:02Z", "url": "https://github.com/uyuni-project/uyuni/pull/2335", "merged": true, "mergeCommit": {"oid": "81b223c3a023710475337d6526605b89786f73cf"}, "closed": true, "closedAt": "2020-07-09T09:03:33Z", "author": {"login": "juliogonzalez"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcscgNCAFqTQzMzE3ODY1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABczKmRAABqjM1Mjg1Mjk3NDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMTc4NjUw", "url": "https://github.com/uyuni-project/uyuni/pull/2335#pullrequestreview-433178650", "createdAt": "2020-06-18T11:11:16Z", "commit": {"oid": "8ec6e64ae10d78cd093daa2f3f7f5966065a7572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToxMToxNlrOGlqpEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToxMToxNlrOGlqpEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE0OTEzOA==", "bodyText": "Since we do the same (using the same DEST for all SLE architectures), I guess this should be fine. However I wonder we shouldn't document at the doc something. As if someone recreates the repo with --flush the other architectures will be gone.", "url": "https://github.com/uyuni-project/uyuni/pull/2335#discussion_r442149138", "createdAt": "2020-06-18T11:11:16Z", "author": {"login": "juliogonzalez"}, "path": "susemanager/src/mgr_bootstrap_data.py", "diffHunk": "@@ -1098,6 +1098,10 @@\n         'BASECHANNEL' : 'opensuse_leap15_1-x86_64', 'PKGLIST' : PKGLIST15_TRAD + PKGLIST15_SALT + PKGLIST15SP0SP1_SALT + PKGLIST15_X86_ARM,\n         'DEST' : '/srv/www/htdocs/pub/repositories/opensuse/15/1/bootstrap/'\n     },\n+    'openSUSE-Leap-15.1-aarch64-uyuni' : {\n+        'BASECHANNEL' : 'opensuse_leap15_1-aarch64', 'PKGLIST' : PKGLIST15_TRAD + PKGLIST15_SALT + PKGLIST15SP0SP1_SALT + PKGLIST15_X86_ARM,\n+        'DEST' : '/srv/www/htdocs/pub/repositories/opensuse/15/1/bootstrap/'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ec6e64ae10d78cd093daa2f3f7f5966065a7572"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMTc5MzAy", "url": "https://github.com/uyuni-project/uyuni/pull/2335#pullrequestreview-433179302", "createdAt": "2020-06-18T11:12:12Z", "commit": {"oid": "8ec6e64ae10d78cd093daa2f3f7f5966065a7572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToxMjoxMlrOGlqrDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToxMjoxMlrOGlqrDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE0OTY0NQ==", "bodyText": "As far as I can understand, since the URLs are different and they don't have a common pattern for x86_64 and aarch64, we just need different sets of repositories.", "url": "https://github.com/uyuni-project/uyuni/pull/2335#discussion_r442149645", "createdAt": "2020-06-18T11:12:12Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-common-channels.ini", "diffHunk": "@@ -901,6 +901,62 @@ gpgkey_id = %(_uyuni_gpgkey_id)s\n gpgkey_fingerprint = %(_uyuni_gpgkey_fingerprint)s\n repo_url = https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Master:/openSUSE_Leap_15-Uyuni-Client-Tools/openSUSE_Leap_15.0/\n \n+[opensuse_leap15_1-aarch64]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ec6e64ae10d78cd093daa2f3f7f5966065a7572"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ec6e64ae10d78cd093daa2f3f7f5966065a7572", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8ec6e64ae10d78cd093daa2f3f7f5966065a7572", "committedDate": "2020-06-18T11:08:00Z", "message": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni"}, "afterCommit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8cf4dc538c0d205187893bd1c8554e91bb7867ae", "committedDate": "2020-06-18T11:18:03Z", "message": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMTg5NzMx", "url": "https://github.com/uyuni-project/uyuni/pull/2335#pullrequestreview-433189731", "createdAt": "2020-06-18T11:28:31Z", "commit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyODozMVrOGlrJgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyODozMVrOGlrJgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE1NzQ0Mw==", "bodyText": "But since here we have this I wonder: @mcalmer, should we add a set of repositories for the ports? Only problem, of course, is that not all of them are supported right now, so maybe it's best if we do it as in this PR.", "url": "https://github.com/uyuni-project/uyuni/pull/2335#discussion_r442157443", "createdAt": "2020-06-18T11:28:31Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-common-channels.ini", "diffHunk": "@@ -901,6 +901,46 @@ gpgkey_id = %(_uyuni_gpgkey_id)s\n gpgkey_fingerprint = %(_uyuni_gpgkey_fingerprint)s\n repo_url = https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Master:/openSUSE_Leap_15-Uyuni-Client-Tools/openSUSE_Leap_15.0/\n \n+[opensuse_leap15_1-aarch64]\n+checksum = sha256\n+archs    = aarch64\n+name     = openSUSE Leap 15.1 (%(arch)s)\n+gpgkey_url =  http://download.opensuse.org/ports/aarch64/distribution/leap/15.1/repo/oss/repodata/repomd.xml.key\n+gpgkey_id = 3DBDC284\n+gpgkey_fingerprint = 22C0 7BA5 3417 8CD0 2EFE  22AA B88B 2FD4 3DBD C284\n+repo_url = http://download.opensuse.org/distribution/leap/15.1/repo/oss/\n+dist_map_release = 15.1\n+\n+[opensuse_leap15_1-updates-aarch64]\n+label    = %(base_channel)s-updates\n+name     = openSUSE Leap 15.1 Updates (%(arch)s)\n+archs    = aarch64\n+checksum = sha256\n+base_channels = opensuse_leap15_1-%(arch)s\n+repo_url = http://download.opensuse.org/ports/update/leap/15.1/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMTg5OTQ3", "url": "https://github.com/uyuni-project/uyuni/pull/2335#pullrequestreview-433189947", "createdAt": "2020-06-18T11:28:49Z", "commit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyODo0OVrOGlrKGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMToyODo0OVrOGlrKGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE1NzU5NQ==", "bodyText": "Also keep in mind: I could not find non-oss repositories for the ports.", "url": "https://github.com/uyuni-project/uyuni/pull/2335#discussion_r442157595", "createdAt": "2020-06-18T11:28:49Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-common-channels.ini", "diffHunk": "@@ -901,6 +901,46 @@ gpgkey_id = %(_uyuni_gpgkey_id)s\n gpgkey_fingerprint = %(_uyuni_gpgkey_fingerprint)s\n repo_url = https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Master:/openSUSE_Leap_15-Uyuni-Client-Tools/openSUSE_Leap_15.0/\n \n+[opensuse_leap15_1-aarch64]\n+checksum = sha256\n+archs    = aarch64\n+name     = openSUSE Leap 15.1 (%(arch)s)\n+gpgkey_url =  http://download.opensuse.org/ports/aarch64/distribution/leap/15.1/repo/oss/repodata/repomd.xml.key\n+gpgkey_id = 3DBDC284\n+gpgkey_fingerprint = 22C0 7BA5 3417 8CD0 2EFE  22AA B88B 2FD4 3DBD C284\n+repo_url = http://download.opensuse.org/distribution/leap/15.1/repo/oss/\n+dist_map_release = 15.1\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTU4MDMy", "url": "https://github.com/uyuni-project/uyuni/pull/2335#pullrequestreview-433958032", "createdAt": "2020-06-19T10:08:14Z", "commit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4319dbdc414ae4ef73449e9e62c5f4a0a3e25a7a", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/4319dbdc414ae4ef73449e9e62c5f4a0a3e25a7a", "committedDate": "2020-07-09T08:16:43Z", "message": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8cf4dc538c0d205187893bd1c8554e91bb7867ae", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8cf4dc538c0d205187893bd1c8554e91bb7867ae", "committedDate": "2020-06-18T11:18:03Z", "message": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni"}, "afterCommit": {"oid": "4319dbdc414ae4ef73449e9e62c5f4a0a3e25a7a", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/4319dbdc414ae4ef73449e9e62c5f4a0a3e25a7a", "committedDate": "2020-07-09T08:16:43Z", "message": "Add aarch64 for openSUSE Leap 15.1 and Leap 15.2 on Uyuni"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1342, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}