{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNzcxMTAw", "number": 1802, "title": "Fix image store form credentials validation", "bodyText": "Triggers validation when enabling \"Use credentials\" checkbox.\nDocumentation\n\nNo documentation needed: Bugfix\n\nTest coverage\n\nCovered by Cucumber tests\n\nLinks\nFixes partly SUSE/spacewalk#10538\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-01-16T17:51:33Z", "url": "https://github.com/uyuni-project/uyuni/pull/1802", "merged": true, "mergeCommit": {"oid": "000fb96238fc69225f77eaf9f4a2f554c44f0172"}, "closed": true, "closedAt": "2020-01-16T17:56:28Z", "author": {"login": "cbbayburt"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb698z3AH2gAyMzYzNzcxMTAwOjM5YWM4OTY5MDQxZjRiNTdmOTllZmUxOGJjYTI0NzNmMGU3NzAzNWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7_KLkAFqTM0NTAyNjQ1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c", "author": {"user": {"login": "cbbayburt", "name": "Can Bulut Bayburt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/39ac8969041f4b57f99efe18bca2473f0e77035c", "committedDate": "2020-01-16T17:53:10Z", "message": "Fix image store form credentials validation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a832ffbe9952548440e60416e2d589a745fc28f", "author": {"user": {"login": "cbbayburt", "name": "Can Bulut Bayburt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1a832ffbe9952548440e60416e2d589a745fc28f", "committedDate": "2020-01-16T17:48:41Z", "message": "Fix image store form credentials validation"}, "afterCommit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c", "author": {"user": {"login": "cbbayburt", "name": "Can Bulut Bayburt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/39ac8969041f4b57f99efe18bca2473f0e77035c", "committedDate": "2020-01-16T17:53:10Z", "message": "Fix image store form credentials validation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MTA0MjI0", "url": "https://github.com/uyuni-project/uyuni/pull/1802#pullrequestreview-344104224", "createdAt": "2020-01-16T17:54:56Z", "commit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDI2NDUz", "url": "https://github.com/uyuni-project/uyuni/pull/1802#pullrequestreview-345026453", "createdAt": "2020-01-19T21:06:34Z", "commit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQyMTowNjozOFrOFfQpUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQyMTo1MTozNlrOFfQ0dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMyMjg5OQ==", "bodyText": "Do we actually need that the validators comparison? This one is always true even when it shouldn't and leads to infinite loops in the VM creation dialog at least. Even using lodash isEqual didn't fix it here.", "url": "https://github.com/uyuni-project/uyuni/pull/1802#discussion_r368322899", "createdAt": "2020-01-19T21:06:38Z", "author": {"login": "cbosdo"}, "path": "web/html/src/components/input/InputBase.js", "diffHunk": "@@ -85,6 +85,15 @@ export class InputBase extends React.Component<Props, State> {\n     }\n   }\n \n+  componentDidUpdate(prevProps) {\n+    // Support validation when changing the following props on-the-fly\n+    if (this.props.required !== prevProps.required ||\n+        this.props.disabled !== prevProps.disabled ||\n+        this.props.validators !== prevProps.validators) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMyNTc0OQ==", "bodyText": "Do we actually need that the validators comparison? This one is always true even when it shouldn't and leads to infinite loops in the VM creation dialog at least. Even using lodash isEqual didn't fix it here.", "url": "https://github.com/uyuni-project/uyuni/pull/1802#discussion_r368325749", "createdAt": "2020-01-19T21:51:36Z", "author": {"login": "cbosdo"}, "path": "web/html/src/components/input/InputBase.js", "diffHunk": "@@ -85,6 +85,15 @@ export class InputBase extends React.Component<Props, State> {\n     }\n   }\n \n+  componentDidUpdate(prevProps) {\n+    // Support validation when changing the following props on-the-fly\n+    if (this.props.required !== prevProps.required ||\n+        this.props.disabled !== prevProps.disabled ||\n+        this.props.validators !== prevProps.validators) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39ac8969041f4b57f99efe18bca2473f0e77035c"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1727, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}