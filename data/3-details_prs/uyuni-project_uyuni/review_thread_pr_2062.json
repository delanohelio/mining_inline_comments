{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzODg1OTEy", "number": 2062, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMjo0NDowN1rODsUBaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMjo0NDowN1rODsUBaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NzkxOTc3OnYy", "diffSide": "RIGHT", "path": "web/html/src/manager/notifications/notification-messages.js", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMjo0NDowN1rOF9JNRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQyMDozMjo1MlrOF9MI7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1ODMxMA==", "bodyText": "The t() here will not work. As we use gettext, we have an automated parser which evaluate the t() functions and get the text out of it which should be translated. This will not work here.\nPlease add the t() to the _MESSAGE_TYPE dict directly.", "url": "https://github.com/uyuni-project/uyuni/pull/2062#discussion_r399658310", "createdAt": "2020-03-28T12:44:07Z", "author": {"login": "mcalmer"}, "path": "web/html/src/manager/notifications/notification-messages.js", "diffHunk": "@@ -153,15 +201,7 @@ class NotificationMessages extends React.Component {\n   };\n \n   decodeTypeText = (rawType) => {\n-    var typeText;\n-    switch(rawType) {\n-      case 'OnboardingFailed': typeText = t('Onboarding failed'); break;\n-      case 'ChannelSyncFailed': typeText = t('Channel sync failed'); break;\n-      case 'ChannelSyncFinished': typeText = t('Channel sync finished'); break;\n-      case 'CreateBootstrapRepoFailed': typeText = t('Creating Bootstrap Repository failed'); break;\n-      case 'StateApplyFailed': typeText = t('State apply failed'); break;\n-    }\n-    return typeText;\n+    return t(_MESSAGE_TYPE[rawType].text);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18ce5b6dbc7ad7f7b736618383606adff23f17fc"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcwNjM0OA==", "bodyText": "Argh, good catch. I still need to make up my mind about it. Thanks for pointing it out \ud83d\udc4d\nFixed", "url": "https://github.com/uyuni-project/uyuni/pull/2062#discussion_r399706348", "createdAt": "2020-03-28T20:32:52Z", "author": {"login": "ncounter"}, "path": "web/html/src/manager/notifications/notification-messages.js", "diffHunk": "@@ -153,15 +201,7 @@ class NotificationMessages extends React.Component {\n   };\n \n   decodeTypeText = (rawType) => {\n-    var typeText;\n-    switch(rawType) {\n-      case 'OnboardingFailed': typeText = t('Onboarding failed'); break;\n-      case 'ChannelSyncFailed': typeText = t('Channel sync failed'); break;\n-      case 'ChannelSyncFinished': typeText = t('Channel sync finished'); break;\n-      case 'CreateBootstrapRepoFailed': typeText = t('Creating Bootstrap Repository failed'); break;\n-      case 'StateApplyFailed': typeText = t('State apply failed'); break;\n-    }\n-    return typeText;\n+    return t(_MESSAGE_TYPE[rawType].text);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1ODMxMA=="}, "originalCommit": {"oid": "18ce5b6dbc7ad7f7b736618383606adff23f17fc"}, "originalPosition": 91}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 44, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}