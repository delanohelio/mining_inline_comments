{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0ODE2NTMz", "number": 2878, "title": "Tftpboot test fix", "bodyText": "What does this PR change?\nFixes the testsuite to also run on uyuni.\nGUI diff\nNo difference.\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: test fixes\n\n\n DONE\n\n\nTest coverage\n\n\nCucumber tests were fixed\n\n\n DONE\n\n\nLinks\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-11-20T16:31:59Z", "url": "https://github.com/uyuni-project/uyuni/pull/2878", "merged": true, "mergeCommit": {"oid": "e624b2e55df9515092cd9156977c1a8843194daf"}, "closed": true, "closedAt": "2020-11-21T19:39:03Z", "author": {"login": "cbosdo"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeZ5pEgH2gAyNTI0ODE2NTMzOmFkZTMwN2Y3MGFjYzVlNmU4YmY0ZmVkMDE2NDUwMGUzNGEzOGQzYmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdexQ_OAFqTUzNjAwMzc1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ade307f70acc5e6e8bf4fed0164500e34a38d3be", "author": {"user": {"login": "cbosdo", "name": "Cedric Bosdonnat"}}, "url": "https://github.com/uyuni-project/uyuni/commit/ade307f70acc5e6e8bf4fed0164500e34a38d3be", "committedDate": "2020-11-20T16:25:33Z", "message": "Fix the autoinstallation repo killing after switch to 15SP3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cb1019a3be9fe730480e258bdf3f143071c790c", "author": {"user": {"login": "cbosdo", "name": "Cedric Bosdonnat"}}, "url": "https://github.com/uyuni-project/uyuni/commit/6cb1019a3be9fe730480e258bdf3f143071c790c", "committedDate": "2020-11-20T16:41:27Z", "message": "Install the tftpboot-installation package from the sync repo rpms\n\nA distro ships the tftpboot-installation package matching the\ndistro version. However we need the SLE 15 SP2 package, which is\nsynchronised with the BaseSystem repository. Use this rpm to test\nauto-installation of virtual machines."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "author": {"user": {"login": "cbosdo", "name": "Cedric Bosdonnat"}}, "url": "https://github.com/uyuni-project/uyuni/commit/547b7460899c06c1db1f2a339cc5a66616fc45b5", "committedDate": "2020-11-20T16:41:27Z", "message": "testsuite: remove memory checks on Xen\n\nOn Xen we are not guaranteed to have the exact amount of memory we\nrequested on the VMs and small diffs can make the test fail randomly.\nRemove the memory checks on Xen to avoid those random false errors."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f453b6211108d36b9f7e4f88946469e6674115d7", "author": {"user": {"login": "cbosdo", "name": "Cedric Bosdonnat"}}, "url": "https://github.com/uyuni-project/uyuni/commit/f453b6211108d36b9f7e4f88946469e6674115d7", "committedDate": "2020-11-20T16:27:00Z", "message": "testsuite: remove memory checks on Xen\n\nOn Xen we are not guaranteed to have the exact amount of memory we\nrequested on the VMs and small diffs can make the test fail randomly.\nRemove the memory checks on Xen to avoid those random false errors."}, "afterCommit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "author": {"user": {"login": "cbosdo", "name": "Cedric Bosdonnat"}}, "url": "https://github.com/uyuni-project/uyuni/commit/547b7460899c06c1db1f2a339cc5a66616fc45b5", "committedDate": "2020-11-20T16:41:27Z", "message": "testsuite: remove memory checks on Xen\n\nOn Xen we are not guaranteed to have the exact amount of memory we\nrequested on the VMs and small diffs can make the test fail randomly.\nRemove the memory checks on Xen to avoid those random false errors."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDAzNzUx", "url": "https://github.com/uyuni-project/uyuni/pull/2878#pullrequestreview-536003751", "createdAt": "2020-11-21T19:37:48Z", "commit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxOTozNzo0OVrOH3w3jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxOTozODowMFrOH3w3pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4Mg==", "bodyText": "Why is this removed?", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234382", "createdAt": "2020-11-21T19:37:49Z", "author": {"login": "juliogonzalez"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -106,7 +106,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     Given I am on the \"Virtualization\" page of this \"xen_server\"\n     When I click on \"Edit\" in row \"test-vm\"\n     And I wait until I do not see \"Loading...\" text\n-    Then I should see \"512\" in field \"memory\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4NQ==", "bodyText": "Same", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234385", "createdAt": "2020-11-21T19:37:53Z", "author": {"login": "juliogonzalez"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -117,7 +116,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"02:34:56:78:9a:bc\" as \"network0_mac\"\n     And I click on \"Update\"\n     Then I should see a \"Hosted Virtual Systems\" text\n-    And \"test-vm\" virtual machine on \"xen_server\" should have 1024MB memory and 2 vcpus", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDQwNA==", "bodyText": "And same", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234404", "createdAt": "2020-11-21T19:38:00Z", "author": {"login": "juliogonzalez"}, "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -217,7 +214,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n-    Then \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 862, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}