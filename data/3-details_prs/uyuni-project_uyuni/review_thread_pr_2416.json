{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4OTY5OTQ2", "number": 2416, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjozNToxMVrOEPhFjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNjo0OToyNVrOEPmucg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzA2MTkxOnYy", "diffSide": "RIGHT", "path": "java/code/src/com/suse/manager/reactor/messaging/RegistrationUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjozNToxMVrOGzRQrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQxMToxNTozOFrOGznmgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQxMzM1OA==", "bodyText": "Tested on Oracle Linux and with Salt 3000 the os grain is OEL.", "url": "https://github.com/uyuni-project/uyuni/pull/2416#discussion_r456413358", "createdAt": "2020-07-17T12:35:11Z", "author": {"login": "mateiw"}, "path": "java/code/src/com/suse/manager/reactor/messaging/RegistrationUtils.java", "diffHunk": "@@ -363,12 +363,14 @@ public static void subscribeMinionToChannels(SystemQuery systemQuery, MinionServ\n                     })).collect(toSet());\n         }\n         else if (\"redhat\".equalsIgnoreCase(grains.getValueAsString(OS)) ||\n-                \"centos\".equalsIgnoreCase(grains.getValueAsString(OS))) {\n+                 \"centos\".equalsIgnoreCase(grains.getValueAsString(OS)) ||\n+                 \"oracle\".equalsIgnoreCase(grains.getValueAsString(OS))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "543176b6fceb8b9cd1b5feedcd3365d0dc411415"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc3OTM5NA==", "bodyText": "Thanks. Fixed", "url": "https://github.com/uyuni-project/uyuni/pull/2416#discussion_r456779394", "createdAt": "2020-07-18T11:15:38Z", "author": {"login": "mcalmer"}, "path": "java/code/src/com/suse/manager/reactor/messaging/RegistrationUtils.java", "diffHunk": "@@ -363,12 +363,14 @@ public static void subscribeMinionToChannels(SystemQuery systemQuery, MinionServ\n                     })).collect(toSet());\n         }\n         else if (\"redhat\".equalsIgnoreCase(grains.getValueAsString(OS)) ||\n-                \"centos\".equalsIgnoreCase(grains.getValueAsString(OS))) {\n+                 \"centos\".equalsIgnoreCase(grains.getValueAsString(OS)) ||\n+                 \"oracle\".equalsIgnoreCase(grains.getValueAsString(OS))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQxMzM1OA=="}, "originalCommit": {"oid": "543176b6fceb8b9cd1b5feedcd3365d0dc411415"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0Nzk4NTc4OnYy", "diffSide": "RIGHT", "path": "java/code/src/com/suse/manager/reactor/utils/RhelUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNjo0OToyNVrOGzaE7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODo0Mjo0OFrOGzdfBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU1NzgwNA==", "bodyText": "In the DB the name of the product is one of oraclelinux-6, oraclelinux-7 or oraclelinux-8 but this method will look for the product by the lower cased name i.e. oraclelinux", "url": "https://github.com/uyuni-project/uyuni/pull/2416#discussion_r456557804", "createdAt": "2020-07-17T16:49:25Z", "author": {"login": "mateiw"}, "path": "java/code/src/com/suse/manager/reactor/utils/RhelUtils.java", "diffHunk": "@@ -207,6 +222,11 @@ public String getRelease() {\n                     majorVersion, release, arch));\n         }\n \n+        // next check if OracleLinux\n+        if (oracleReleaseFile.filter(StringUtils::isNotBlank).isPresent()) {\n+            return oracleReleaseFile.map(v -> detectPlainRHEL(v, arch, \"OracleLinux\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "543176b6fceb8b9cd1b5feedcd3365d0dc411415"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYxMzYzNg==", "bodyText": "Right, the fix for this is also in this PR. The additional_products.json file will change the db entries after a mgr-sync refresh", "url": "https://github.com/uyuni-project/uyuni/pull/2416#discussion_r456613636", "createdAt": "2020-07-17T18:42:48Z", "author": {"login": "mcalmer"}, "path": "java/code/src/com/suse/manager/reactor/utils/RhelUtils.java", "diffHunk": "@@ -207,6 +222,11 @@ public String getRelease() {\n                     majorVersion, release, arch));\n         }\n \n+        // next check if OracleLinux\n+        if (oracleReleaseFile.filter(StringUtils::isNotBlank).isPresent()) {\n+            return oracleReleaseFile.map(v -> detectPlainRHEL(v, arch, \"OracleLinux\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU1NzgwNA=="}, "originalCommit": {"oid": "543176b6fceb8b9cd1b5feedcd3365d0dc411415"}, "originalPosition": 86}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4240, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}