{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1Mzc4NTM0", "number": 2396, "title": "Bugfixes related to the maintenance windows picker", "bodyText": "(i.e. the picker user sees, when scheduling action for a system (highstate apply, package install.))\n\n\nIn the React picker: If there is schedule defined, but there are empty maintenance windows (e.g. calendar not defined) -> display a warning and hide the picker (as there is nothing to pick).\n\n\nIn both (React + Struts) picker: If there is schedule defined, but there are empty maintenance windows -> pre-select the action chains radio button (as that is the only actionable option the user has).\n\n\nReview commit-by-commit.\nChangelogs\n\n No changelog needed\n\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-07-07T12:25:14Z", "url": "https://github.com/uyuni-project/uyuni/pull/2396", "merged": true, "mergeCommit": {"oid": "717e19bae2a3e029b6e4db61c67d5f59b514e869"}, "closed": true, "closedAt": "2020-07-17T08:15:52Z", "author": {"login": "hustodemon"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyk-ZfABqjM1MjAxNzIzMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1ugcGABqjM1NTY3MTYwODg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1a2c753682b5c9e13de8cea8f7d697536ed90d2", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d1a2c753682b5c9e13de8cea8f7d697536ed90d2", "committedDate": "2020-07-07T12:19:46Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected."}, "afterCommit": {"oid": "4c1b26528b697fadc86911dca8f773a8627a9d1c", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/4c1b26528b697fadc86911dca8f773a8627a9d1c", "committedDate": "2020-07-07T12:26:40Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c1b26528b697fadc86911dca8f773a8627a9d1c", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/4c1b26528b697fadc86911dca8f773a8627a9d1c", "committedDate": "2020-07-07T12:26:40Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}, "afterCommit": {"oid": "cd631ee8c22a26ad1948469d76ffc2739c1b7421", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/cd631ee8c22a26ad1948469d76ffc2739c1b7421", "committedDate": "2020-07-07T12:41:02Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NTk4OTc2", "url": "https://github.com/uyuni-project/uyuni/pull/2396#pullrequestreview-449598976", "createdAt": "2020-07-16T07:46:01Z", "commit": {"oid": "cd631ee8c22a26ad1948469d76ffc2739c1b7421"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNzo0NjowMVrOGyeLEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNzo0NjowMVrOGyeLEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTU3NjMzOA==", "bodyText": "Just some really minor nitpick. This function uses alert-info, but is called ...Warning.\nMaybe call it ...Info?.\nThis is just a suggestion, I am totally fine if you ignore it \ud83d\ude04", "url": "https://github.com/uyuni-project/uyuni/pull/2396#discussion_r455576338", "createdAt": "2020-07-16T07:46:01Z", "author": {"login": "parlt91"}, "path": "web/html/src/components/action-schedule.js", "diffHunk": "@@ -198,6 +197,13 @@ class ActionSchedule extends React.Component<ActionScheduleProps, ActionSchedule\n     </div>);\n   }\n \n+  renderEmptyMaintWindowsWarning = () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd631ee8c22a26ad1948469d76ffc2739c1b7421"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c52f957cad78259834df794692010cc12d74f600", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/c52f957cad78259834df794692010cc12d74f600", "committedDate": "2020-07-17T07:14:53Z", "message": "Bugfix: Do not render maintenance windows, when they are empty and display warning instead"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbad76848172d5ee45143e6475895860a2148a54", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/dbad76848172d5ee45143e6475895860a2148a54", "committedDate": "2020-07-17T07:14:53Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd631ee8c22a26ad1948469d76ffc2739c1b7421", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/cd631ee8c22a26ad1948469d76ffc2739c1b7421", "committedDate": "2020-07-07T12:41:02Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}, "afterCommit": {"oid": "dbad76848172d5ee45143e6475895860a2148a54", "author": {"user": {"login": "hustodemon", "name": "Frantisek Kobzik"}}, "url": "https://github.com/uyuni-project/uyuni/commit/dbad76848172d5ee45143e6475895860a2148a54", "committedDate": "2020-07-17T07:14:53Z", "message": "Bugfix: Pre-select action chains radio, when maintenance windows are empty\n\nIn this case, the action chain picker is the only picker visible on the\npage, so it must be preselected.\n\nBoth the React and the Struts picker are affected."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1216, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}