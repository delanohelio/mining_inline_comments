{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMDEwOTIw", "number": 2182, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNToxNDowN1rOD5CN5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0ODo1MlrOD6Ma0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTMxNzQ4OnYy", "diffSide": "RIGHT", "path": "susemanager/src/mgr_bootstrap_data.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNToxNDowN1rOGQE_jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNjoyNjoxM1rOGQxdMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTUxMjIwNg==", "bodyText": "There will be more packages, don't panic.\nI want to start from scratch instead of reusing stuff from Ubuntu 18.04, so we can have only the packages we really need for a really minimal Ubuntu installation (I am trying with Ubuntu Server without anything preinstalled but the openssh server).", "url": "https://github.com/uyuni-project/uyuni/pull/2182#discussion_r419512206", "createdAt": "2020-05-04T15:14:07Z", "author": {"login": "juliogonzalez"}, "path": "susemanager/src/mgr_bootstrap_data.py", "diffHunk": "@@ -538,6 +538,11 @@\n     \"dmidecode\",\n ]\n \n+PKGLISTUBUNTU2004 = [\n+    \"salt-common\",\n+    \"salt-minion\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "76b2d9bb7f39deb969be40de2c4ac4620066bc4d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI0MDY5MQ==", "bodyText": "Ok, so I tried this and... looks just too good. I was able to bootstrap a minimal Ubuntu 20.04 minion only with this. No need to copy anything at all from Universe.\nToo good to be true. I need to review this tomorrow.", "url": "https://github.com/uyuni-project/uyuni/pull/2182#discussion_r420240691", "createdAt": "2020-05-05T16:26:13Z", "author": {"login": "juliogonzalez"}, "path": "susemanager/src/mgr_bootstrap_data.py", "diffHunk": "@@ -538,6 +538,11 @@\n     \"dmidecode\",\n ]\n \n+PKGLISTUBUNTU2004 = [\n+    \"salt-common\",\n+    \"salt-minion\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTUxMjIwNg=="}, "originalCommit": {"oid": "76b2d9bb7f39deb969be40de2c4ac4620066bc4d"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMzQ2OTkzOnYy", "diffSide": "RIGHT", "path": "spacewalk/certs-tools/rhn_bootstrap_strings.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0NzoyNVrOGR494Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0NzoyNVrOGR494Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQxMjMyMQ==", "bodyText": "This prevents getting extra \"recommended\" dependencies: debconf-utils, python3-tz and python3-croniter. I got the same test results with or without them. Even if we discover that they are really needed, then we should make them required on salt.\nWhy I did this? Because debconf-utils is a problem. The package is at universe, so for SUSE Manager I had to add it to the client tools. But the package that creates it is debconf (which is on main), and FMPOV doing that is really dangerous.", "url": "https://github.com/uyuni-project/uyuni/pull/2182#discussion_r421412321", "createdAt": "2020-05-07T10:47:25Z", "author": {"login": "juliogonzalez"}, "path": "spacewalk/certs-tools/rhn_bootstrap_strings.py", "diffHunk": "@@ -664,7 +664,7 @@ def getRegistrationStackSh(saltEnabled):\n \t        apt-get purge salt-common\n \t        rm -rf /etc/salt/minion.d/\n         fi\n-        apt-get --yes install $A_MISSING\n+        apt-get --yes install --no-install-recommends $A_MISSING", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c49978535e2f1c9070740d6ea3ea0ffc43787511"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMzQ3MjkxOnYy", "diffSide": "RIGHT", "path": "susemanager-utils/susemanager-sls/salt/bootstrap/init.sls", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0ODoyMlrOGR4_2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0ODoyMlrOGR4_2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQxMjgyNg==", "bodyText": "NOTE: This only works for apt-based systems (see https://docs.saltstack.com/en/latest/ref/states/all/salt.states.pkg.html)", "url": "https://github.com/uyuni-project/uyuni/pull/2182#discussion_r421412826", "createdAt": "2020-05-07T10:48:22Z", "author": {"login": "juliogonzalez"}, "path": "susemanager-utils/susemanager-sls/salt/bootstrap/init.sls", "diffHunk": "@@ -131,6 +131,7 @@ trust_suse_manager_tools_deb_gpg_key:\n salt-minion-package:\n   pkg.latest:\n     - name: salt-minion\n+    - install_recommends: False", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c49978535e2f1c9070740d6ea3ea0ffc43787511"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMzQ3NDc0OnYy", "diffSide": "RIGHT", "path": "susemanager/src/mgr_bootstrap_data.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0ODo1MlrOGR5A7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0ODo1MlrOGR5A7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQxMzEwMQ==", "bodyText": "Missing from this PR: the SUSE Manager repo. Can't add them until SCC channels for Ubuntu 20.04 are ready.", "url": "https://github.com/uyuni-project/uyuni/pull/2182#discussion_r421413101", "createdAt": "2020-05-07T10:48:52Z", "author": {"login": "juliogonzalez"}, "path": "susemanager/src/mgr_bootstrap_data.py", "diffHunk": "@@ -1142,6 +1156,11 @@\n         'DEST' : '/srv/www/htdocs/pub/repositories/ubuntu/18/4/bootstrap/',\n         'TYPE' : 'deb'\n     },\n+    'ubuntu-20.04-amd64-uyuni' : {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c49978535e2f1c9070740d6ea3ea0ffc43787511"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4366, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}