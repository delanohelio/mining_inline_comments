{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNDE1MTg3", "number": 2784, "title": "Added hostname field in system-history report", "bodyText": "What does this PR change?\nIt adds \"hostname\" field to the report\nGUI diff\nOne more column in the output of spacewalk-report\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: reports are not described at column detail\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: no test infra for spacewalk-report at this time\n\n\n DONE\n\n\nLinks\nNone\n\n DONE\n\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-10-31T11:14:08Z", "url": "https://github.com/uyuni-project/uyuni/pull/2784", "merged": true, "mergeCommit": {"oid": "5b87736b9e6b2ab7cf6274b87214d468e67d3137"}, "closed": true, "closedAt": "2020-11-05T09:07:12Z", "author": {"login": "ksanjeet"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdX402NAH2gAyNTEzNDE1MTg3OmQ2NDUxZjJlZjg2NGE1NzVjYmM2M2M0N2I5ZWFlOGZlNzdlNDczYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZKkiVAH2gAyNTEzNDE1MTg3OmNlOWYyMDhmNDUyOGFmNjc3ODQzYzdhNWQ5NTBjYTQ2MjJkMGQ2MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "author": {"user": {"login": "ksanjeet", "name": "Sanjeet Kumar"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "committedDate": "2020-10-31T10:29:54Z", "message": "Added hostname filed in system-history report"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNDI1MTIy", "url": "https://github.com/uyuni-project/uyuni/pull/2784#pullrequestreview-521425122", "createdAt": "2020-11-02T08:43:15Z", "commit": {"oid": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwODo0MzoxNVrOHr60LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwODo0MzozMFrOHr60ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDQ0NQ==", "bodyText": "As id is the primary key in rhnServer and server_id can't be NULL in rhnServerAction, I'd suggest an inner join here.\nhttps://github.com/uyuni-project/uyuni/blob/master/schema/spacewalk/common/tables/rhnServerAction.sql#L22", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r515814445", "createdAt": "2020-11-02T08:43:15Z", "author": {"login": "moio"}, "path": "reporting/reports/data/system-history", "diffHunk": "@@ -52,6 +54,8 @@ sql:\n \t\t\t\tend as event_data\n \t\tfrom rhnserveraction left outer join rhnactionerrataupdate\n \t\t\ton rhnserveraction.action_id = rhnactionerrataupdate.action_id\n+\t\t\tleft outer join rhnserver \n+\t\t\t\ton rhnserveraction.server_id = rhnserver.id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDU5NQ==", "bodyText": "Same as above.", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r515814595", "createdAt": "2020-11-02T08:43:30Z", "author": {"login": "moio"}, "path": "reporting/reports/data/system-history", "diffHunk": "@@ -89,7 +94,7 @@ sql:\n \t\t\t\twhen summary like 'unsubscribed from channel %' then details\n \t\t\t\twhen summary like 'Updated system release %' then substr(summary, 24)\n \t\t\tend\n-\t\tfrom rhnserverhistory\n+\t\tfrom rhnserverhistory left outer join rhnserver on rhnserverhistory.server_id = rhnserver.id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "248acb1c3662ae6c55f755d3afcb3a536d46207c", "author": {"user": {"login": "ksanjeet", "name": "Sanjeet Kumar"}}, "url": "https://github.com/uyuni-project/uyuni/commit/248acb1c3662ae6c55f755d3afcb3a536d46207c", "committedDate": "2020-11-04T08:34:46Z", "message": "changed left outer join to inner join"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce9f208f4528af677843c7a5d950ca4622d0d622", "author": {"user": {"login": "ksanjeet", "name": "Sanjeet Kumar"}}, "url": "https://github.com/uyuni-project/uyuni/commit/ce9f208f4528af677843c7a5d950ca4622d0d622", "committedDate": "2020-11-04T09:44:18Z", "message": "added changelog"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 961, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}