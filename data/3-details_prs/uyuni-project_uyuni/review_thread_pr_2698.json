{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MzEwNTIx", "number": 2698, "reviewThreads": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NDo1MVrOEtFKaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTo0ODoyNVrOEtG08Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA1OTYxOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NDo1MVrOHgq8RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowODozOFrOHhL2cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDAzNw==", "bodyText": "Add \"Redfish\" word", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504020037", "createdAt": "2020-10-13T14:54:51Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTIxOA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559218", "createdAt": "2020-10-14T10:08:38Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDAzNw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2MTcxOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NToxMVrOHgq9bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowODo0NlrOHhL2tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDMzNA==", "bodyText": "Or \"when\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504020334", "createdAt": "2020-10-13T14:55:11Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTI4Nw==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559287", "createdAt": "2020-10-14T10:08:46Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDMzNA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2Mzc1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NToyN1rOHgq-jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowODo1NFrOHhL3DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDYyMA==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504020620", "createdAt": "2020-10-13T14:55:27Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTM3Mg==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559372", "createdAt": "2020-10-14T10:08:54Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDYyMA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2NDUzOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NTozN1rOHgq_BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOTowMVrOHhL3VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDc0MA==", "bodyText": "\"And\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504020740", "createdAt": "2020-10-13T14:55:37Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTQ0NA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559444", "createdAt": "2020-10-14T10:09:01Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDc0MA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2NTM3OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NTo0OFrOHgq_hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOTowOVrOHhL3pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDg3MA==", "bodyText": "\"should contain\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504020870", "createdAt": "2020-10-13T14:55:48Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTUyNg==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559526", "createdAt": "2020-10-14T10:09:09Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMDg3MA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2NjI5OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NTo1OVrOHgrAGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOToyMFrOHhL4Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTAxOQ==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021019", "createdAt": "2020-10-13T14:55:59Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTYzMQ==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559631", "createdAt": "2020-10-14T10:09:20Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTAxOQ=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2NzQ0OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NjoxNFrOHgrA3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOToyOFrOHhL4dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTIxMg==", "bodyText": "\"And\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021212", "createdAt": "2020-10-13T14:56:14Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTczMg==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559732", "createdAt": "2020-10-14T10:09:28Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTIxMg=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2ODQ1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NjoyNlrOHgrBig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOTozOVrOHhL41g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTM4Ng==", "bodyText": "\"Then\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021386", "createdAt": "2020-10-13T14:56:26Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTgzMA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559830", "createdAt": "2020-10-14T10:09:39Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTM4Ng=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2OTI3OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NjozNFrOHgrCAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOTo0OFrOHhL5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTUwNg==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021506", "createdAt": "2020-10-13T14:56:34Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTkyNQ==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559925", "createdAt": "2020-10-14T10:09:48Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTUwNg=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA2OTkzOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Njo0M1rOHgrCcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDowN1rOHhL58g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTYxNw==", "bodyText": "\"Then\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021617", "createdAt": "2020-10-13T14:56:43Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDExNA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560114", "createdAt": "2020-10-14T10:10:07Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTYxNw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3MDY0OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Njo1M1rOHgrC8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDowOTo1NlrOHhL5fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTc0Ng==", "bodyText": "\"When\", etc", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021746", "createdAt": "2020-10-13T14:56:53Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1OTk5Ng==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504559996", "createdAt": "2020-10-14T10:09:56Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTc0Ng=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3MTY4OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NzowN1rOHgrDrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDoxNlrOHhL6Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTkzMw==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504021933", "createdAt": "2020-10-13T14:57:07Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDIxNQ==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560215", "createdAt": "2020-10-14T10:10:16Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMTkzMw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3MzU1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1NzoyOVrOHgrE4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDoyN1rOHhL6ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjI0MQ==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504022241", "createdAt": "2020-10-13T14:57:29Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDMyMw==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560323", "createdAt": "2020-10-14T10:10:27Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjI0MQ=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3NDUwOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Nzo0MVrOHgrFgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDozNlrOHhL7FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjQwMw==", "bodyText": "\"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504022403", "createdAt": "2020-10-13T14:57:41Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDQwNA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560404", "createdAt": "2020-10-14T10:10:36Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjQwMw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3NTk3OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1Nzo1N1rOHgrGVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDo0NVrOHhL7ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjYxMw==", "bodyText": "\"Then\", \"should\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504022613", "createdAt": "2020-10-13T14:57:57Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"\n+    And I set power management value \"\" for \"powerUsername\"\n+    And I set power management value \"\" for \"powerPassword\"\n+    And I set power management value \"ipmitool\" for \"powerType\"\n+    And the cobbler report contains \"Power Management Address       :\" for system \"sle_minion\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDQ4NA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560484", "createdAt": "2020-10-14T10:10:45Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"\n+    And I set power management value \"\" for \"powerUsername\"\n+    And I set power management value \"\" for \"powerPassword\"\n+    And I set power management value \"ipmitool\" for \"powerType\"\n+    And the cobbler report contains \"Power Management Address       :\" for system \"sle_minion\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjYxMw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA3NjgzOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1ODowOVrOHgrG6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMDo1NFrOHhL71Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjc2Mw==", "bodyText": "or \"When\"", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504022763", "createdAt": "2020-10-13T14:58:09Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"\n+    And I set power management value \"\" for \"powerUsername\"\n+    And I set power management value \"\" for \"powerPassword\"\n+    And I set power management value \"ipmitool\" for \"powerType\"\n+    And the cobbler report contains \"Power Management Address       :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : ipmitool\" for system \"sle_minion\"\n+\n+  Scenario: Cleanup: don't fake a Redfish host\n+    Given the server stops mocking a Redfish host", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDU5Nw==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560597", "createdAt": "2020-10-14T10:10:54Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"\n+    Then I click on \"Get status\"\n+    And I should see the power is \"Off\"\n+    Then I click on \"Power On\"\n+    And I should see a \"system has been powered on\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    Then I click on \"Reboot\"\n+    And I should see a \"system has been rebooted\" text\n+    Then I click on \"Get status\"\n+    And I should see the power is \"On\"\n+\n+  Scenario: Check power management SSM configuration for Redfish\n+    Given I am authorized\n+    And I am on the System Overview page\n+    And I check the \"sle_minion\" client\n+    And I am on System Set Manager Overview\n+    And I follow \"Configure power management\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Change Power Management Configuration\" text\n+    And I should see a \"Type\" text\n+    And I should see a \"Network address\" text\n+    And I should see a \"Username\" text\n+    And I should see a \"Password\" text\n+    And I should see a \"System identifier\" text\n+    And I should see a \"Update\" button\n+    When I enter \"testing\" as \"powerUsername\"\n+    And I enter \"qwertz\" as \"powerPassword\"\n+    And I click on \"Update\"\n+    Then I should see a \"Configuration successfully saved for 1 system(s)\" text\n+    And the cobbler report contains \"Power Management Username      : testing\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : qwertz\" for system \"sle_minion\"\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Check power management SSM operation for Redfish\n+    Given I am authorized\n+    And I am on System Set Manager Overview\n+    And I follow \"power management operations\" in the content area\n+    Then I should see \"sle_minion\" as link\n+    And I should see a \"Power On\" button\n+    And I should see a \"Power Off\" button\n+    And I should see a \"Reboot\" button\n+\n+  Scenario: Cleanup: reset Redfish values\n+    Given I am logged in via XML-RPC powermgmt as user \"admin\" and password \"admin\"\n+    And I want to operate on this \"sle_minion\"\n+    Then I set power management value \"\" for \"powerAddress\"\n+    And I set power management value \"\" for \"powerUsername\"\n+    And I set power management value \"\" for \"powerPassword\"\n+    And I set power management value \"ipmitool\" for \"powerType\"\n+    And the cobbler report contains \"Power Management Address       :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      :\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : ipmitool\" for system \"sle_minion\"\n+\n+  Scenario: Cleanup: don't fake a Redfish host\n+    Given the server stops mocking a Redfish host", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyMjc2Mw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA4NTA0OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo1OTo0NlrOHgrMFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMjoyMToyMlrOHhQPZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA==", "bodyText": "Excellent :-) directly from the standards\nOnly problem is it will fail if we have no external network at this point in time. But I still like it more than copying it to our git.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504024084", "createdAt": "2020-10-13T14:59:46Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA0OTQ1Mw==", "bodyText": "Could we please add it to our mirrors? better not have dependencies with external network.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504049453", "createdAt": "2020-10-13T15:30:37Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MDk1Mg==", "bodyText": "Nuremberg instances do not use a mirror. We need to think about a better solution", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504560952", "createdAt": "2020-10-14T10:11:27Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU4OTc3Ng==", "bodyText": "Ok, then we might need something like that:\ndef use_mirror(domain)\n  if ENV['SERVER'].include? 'mgr.prv.suse.net'\n    domain\n  else\n    'minima-mirror.mgr.prv.suse.net'\n  end\nend\n\n $server.run(\"curl --output DSP2043_2019.1.zip https://#{use_mirror('www.dmtf.org')}/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504589776", "createdAt": "2020-10-14T11:04:29Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU5MTAzNQ==", "bodyText": "Anyhow, nevermind, we can make it in a different PR, don't bother with that for now...", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504591035", "createdAt": "2020-10-14T11:06:50Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYxODQxMA==", "bodyText": "I thought to put it on one of our server, but for Uyuni users this is not reachable. So downloading from DMTF directly seems to be the best approach for now. Feel free to come up with a solution which works for us and the community.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504618410", "createdAt": "2020-10-14T11:58:50Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMTE0Mw==", "bodyText": "Yes, let's think twice and do it in a different PR", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504631143", "createdAt": "2020-10-14T12:21:22Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDA4NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA4OTI1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTowMDozN1rOHgrOuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMTo1NFrOHhL-QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDc2Mw==", "bodyText": "I would even put one parameter per line, I'm not a big fan of very long lines", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504024763", "createdAt": "2020-10-13T15:00:37Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")\n+  $server.run(\"unzip DSP2043_2019.1.zip\")\n+  cmd = \"/usr/bin/python3 /root/Redfish-Mockup-Server/redfishMockupServer.py -H #{$server.full_hostname} -p 8443 -S \" \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MTIxNw==", "bodyText": "done, but I tried to keep belonging params together", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504561217", "createdAt": "2020-10-14T10:11:54Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|\n+    source = File.dirname(__FILE__) + '/../upload_files/Redfish-Mockup-Server/' + file\n+    dest = \"/root/Redfish-Mockup-Server/\" + file\n+    return_code = file_inject($server, source, dest)\n+    raise 'File injection failed' unless return_code.zero?\n+  end\n+  $server.run(\"curl --output DSP2043_2019.1.zip https://www.dmtf.org/sites/default/files/standards/documents/DSP2043_2019.1.zip\")\n+  $server.run(\"unzip DSP2043_2019.1.zip\")\n+  cmd = \"/usr/bin/python3 /root/Redfish-Mockup-Server/redfishMockupServer.py -H #{$server.full_hostname} -p 8443 -S \" \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDc2Mw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA5MDU0OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTowMDo1NFrOHgrPlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMjowOVrOHhL-wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDk4MA==", "bodyText": "should", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504024980", "createdAt": "2020-10-13T15:00:54Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MTM0Ng==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504561346", "createdAt": "2020-10-14T10:12:09Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNDk4MA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzA5MTQ2OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTowMTowNVrOHgrQKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMjoyNFrOHhL_Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNTEyOA==", "bodyText": "should", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504025128", "createdAt": "2020-10-13T15:01:05Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|\n+  node = get_target(host)\n+  output = sshcmd(\"cobbler system report --name #{node.full_hostname}:1\", ignore_err: true)[:stdout]\n+  raise \"Not found: #{output}\" unless output.include?(arg1)\n+end\n+\n+Then(/^the cobbler report contains \"([^\"]*)\" for cobbler system \"([^\"]*)\"$/) do |arg1, system|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MTQ3OA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504561478", "createdAt": "2020-10-14T10:12:24Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|\n+  node = get_target(host)\n+  output = sshcmd(\"cobbler system report --name #{node.full_hostname}:1\", ignore_err: true)[:stdout]\n+  raise \"Not found: #{output}\" unless output.include?(arg1)\n+end\n+\n+Then(/^the cobbler report contains \"([^\"]*)\" for cobbler system \"([^\"]*)\"$/) do |arg1, system|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAyNTEyOA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzI1NDU1OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTozMjoxM1rOHgs0qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMjozNlrOHhL_tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1MDg1Nw==", "bodyText": "I prefer single quotes if we don't have something that needs to be escaped.\nIt applies to different places of these lines.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504050857", "createdAt": "2020-10-13T15:32:13Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MTU4OA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504561588", "createdAt": "2020-10-14T10:12:36Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -445,6 +445,25 @@\n   $server.run(\"kill $(pidof -x fake_ipmi_host.sh)\")\n end\n \n+When(/^the server starts mocking a Redfish host$/) do\n+  $server.run(\"mkdir -p /root/Redfish-Mockup-Server/\")\n+  [\"redfishMockupServer.py\", \"rfSsdpServer.py\"].each do |file|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1MDg1Nw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzI4Mjg2OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTozNzozOFrOHgtFmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMjo0NVrOHhMADQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NTE5NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              raise \"Not found: #{output}\" unless output.include?(arg1)\n          \n          \n            \n              raise \"Not found:\\n#{output}\" unless output.include?(arg1)", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504055194", "createdAt": "2020-10-13T15:37:38Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|\n+  node = get_target(host)\n+  output = sshcmd(\"cobbler system report --name #{node.full_hostname}:1\", ignore_err: true)[:stdout]\n+  raise \"Not found: #{output}\" unless output.include?(arg1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MTY3Nw==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504561677", "createdAt": "2020-10-14T10:12:45Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|\n+  node = get_target(host)\n+  output = sshcmd(\"cobbler system report --name #{node.full_hostname}:1\", ignore_err: true)[:stdout]\n+  raise \"Not found: #{output}\" unless output.include?(arg1)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NTE5NA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzI4NzY0OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/command_steps.rb", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTozODo0M1rOHgtIjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMzoyN1rOHhMBlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NTk1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|\n          \n          \n            \n            Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |text, system|", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504055950", "createdAt": "2020-10-13T15:38:43Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MjA2OQ==", "bodyText": "not done. We use \"host\" when we expect something like 'sle_client' or 'sle_minion'.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504562069", "createdAt": "2020-10-14T10:13:27Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/command_steps.rb", "diffHunk": "@@ -474,7 +493,13 @@\n   node.run('rm /tmp/test_user_defined_state')\n end\n \n-Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, system|\n+Then(/^the cobbler report contains \"([^\"]*)\" for system \"([^\"]*)\"$/) do |arg1, host|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NTk1MA=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzI5NzU4OnYy", "diffSide": "RIGHT", "path": "testsuite/features/step_definitions/navigation_steps.rb", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTo0MDo1MVrOHgtOoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMDoxMzozOFrOHhMB_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NzUwNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When(/^I enter \"([^\"]*)\" as the redfish server address$/) do |host|\n          \n          \n            \n            When(/^I enter the server hostname as the redfish server address$/) do", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504057505", "createdAt": "2020-10-13T15:40:51Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/navigation_steps.rb", "diffHunk": "@@ -950,3 +950,8 @@\n When(/^I select the next maintenance window$/) do\n   find(:xpath, \"//select[@id='maintenance-window-select']/option\", match: :first).select_option\n end\n+\n+When(/^I enter \"([^\"]*)\" as the redfish server address$/) do |host|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1ODE5NQ==", "bodyText": "In my opinion, if we are already sticking into use it only on the server node, in other steps like the stop.\nWe shouldn't allow here to pass other values. Just create a sentence without parameters, it's fine.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504058195", "createdAt": "2020-10-13T15:41:49Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/navigation_steps.rb", "diffHunk": "@@ -950,3 +950,8 @@\n When(/^I select the next maintenance window$/) do\n   find(:xpath, \"//select[@id='maintenance-window-select']/option\", match: :first).select_option\n end\n+\n+When(/^I enter \"([^\"]*)\" as the redfish server address$/) do |host|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NzUwNQ=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU2MjE3NA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504562174", "createdAt": "2020-10-14T10:13:38Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/step_definitions/navigation_steps.rb", "diffHunk": "@@ -950,3 +950,8 @@\n When(/^I select the next maintenance window$/) do\n   find(:xpath, \"//select[@id='maintenance-window-select']/option\", match: :first).select_option\n end\n+\n+When(/^I enter \"([^\"]*)\" as the redfish server address$/) do |host|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NzUwNQ=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzMxMzQ5OnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTo0NDoxOFrOHgtYvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMTo1MjoxNVrOHhPPgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2MDA5Mg==", "bodyText": "I would just hide the point that we are moking it, in our Gherkin scenarios.\nThe implementation we make behind the scenarios shouldn't be important at the test description level.\nIt should just be part of the tets framework, but not part of the step definitions or Scenario description.", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504060092", "createdAt": "2020-10-13T15:44:18Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYxNDc4NQ==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504614785", "createdAt": "2020-10-14T11:52:15Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2MDA5Mg=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzMzMjMzOnYy", "diffSide": "RIGHT", "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNTo0ODoyNVrOHgtklw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMTo1MjowN1rOHhPPNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2MzEyNw==", "bodyText": "Please just add a timeout of 20 seconds inside the step definition of I should see the power is \"Unknown\", so we can get rid of steps like I wait for x seconds", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504063127", "createdAt": "2020-10-13T15:48:25Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYxNDcxMA==", "bodyText": "I think the wait is useless. Maybe a artifact from the times when we used a real IPMI system. I will remove it", "url": "https://github.com/uyuni-project/uyuni/pull/2698#discussion_r504614710", "createdAt": "2020-10-14T11:52:07Z", "author": {"login": "mcalmer"}, "path": "testsuite/features/secondary/srv_power_management_redfish.feature", "diffHunk": "@@ -0,0 +1,95 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Power management\n+\n+  Scenario: Fake a Redfish host\n+    Given the server starts mocking a Redfish host\n+\n+  Scenario: Save power management values for Redfish\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    When I enter \"server\" as the redfish server address\n+    And I enter \"ipmiusr\" as \"powerUsername\"\n+    And I enter \"test\" as \"powerPassword\"\n+    And I select \"Redfish\" from \"powerType\"\n+    And I click on \"Save\"\n+    Then I should see a \"Power settings saved\" text\n+    And the cobbler report contains \":8443\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Username      : ipmiusr\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Password      : test\" for system \"sle_minion\"\n+    And the cobbler report contains \"Power Management Type          : redfish\" for system \"sle_minion\"\n+\n+  Scenario: Test Redfish functions\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    And I follow \"Provisioning\" in the content area\n+    And I follow \"Power Management\" in the content area\n+    Then I click on \"Power On\"\n+    And I click on \"Get status\"\n+    And I should see the power is \"On\"\n+    And I click on \"Power Off\"\n+    And I should see a \"system has been powered off\" text\n+    And I wait for \"20\" seconds\n+    And I should see the power is \"Unknown\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2MzEyNw=="}, "originalCommit": {"oid": "9f9bd28d36c8d648f8be995342768b2bb6c1a74c"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4088, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}