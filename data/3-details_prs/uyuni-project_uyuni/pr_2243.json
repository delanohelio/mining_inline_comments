{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxODI1NDU0", "number": 2243, "title": "Replace toastr javascript lib with react-toastify", "bodyText": "What does this PR change?\nSpin-off from #2070.\nThe toastr library currently used for displaying toast style notifications doesn't support displaying react components. This is needed to display for e.g. links in success messages.\nThis PR replaces toastr with react-toastify while keeping the API mostly compatible.\nThe style of the notifications was slightly adjusted  to make it consistent with the other notifications.\nGUI diff\nBefore:\n\nAfter:\n\n\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: small UI change\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: already covered by Cucumber tests\n\n\n DONE\n\n\nLinks\nFixes #\nTracks # add downstream PR, if any\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-05-22T09:49:36Z", "url": "https://github.com/uyuni-project/uyuni/pull/2243", "merged": true, "mergeCommit": {"oid": "a9506dcec84caf73ad982f53e508798c7541e145"}, "closed": true, "closedAt": "2020-05-26T12:09:53Z", "author": {"login": "mateiw"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjv7K8ABqjMzNjQyMDk5NjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclBx6PABqjMzNzI4Mjc0MzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6f19678ac923abff9f7bb3f537c61cab0fd3b10", "author": {"user": {"login": "mateiw", "name": "Matei Albu"}}, "url": "https://github.com/uyuni-project/uyuni/commit/a6f19678ac923abff9f7bb3f537c61cab0fd3b10", "committedDate": "2020-05-22T10:30:43Z", "message": "fixup! Replace javascript lib toastr with react-toastify"}, "afterCommit": {"oid": "5d15ced4bcede4a9ad5446c44cd66c9187739b47", "author": {"user": {"login": "mateiw", "name": "Matei Albu"}}, "url": "https://github.com/uyuni-project/uyuni/commit/5d15ced4bcede4a9ad5446c44cd66c9187739b47", "committedDate": "2020-05-22T10:43:16Z", "message": "Replace javascript lib toastr with react-toastify"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NTIxNDA3", "url": "https://github.com/uyuni-project/uyuni/pull/2243#pullrequestreview-417521407", "createdAt": "2020-05-25T07:48:01Z", "commit": {"oid": "5d15ced4bcede4a9ad5446c44cd66c9187739b47"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwNzo0ODowMVrOGZ35vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwNzo0ODowMVrOGZ35vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc4MzQ4Nw==", "bodyText": "Cosmetic nitpicking, but you can replace the verbose <React.Fragment></React.Fragment> by the much shorter <></>", "url": "https://github.com/uyuni-project/uyuni/pull/2243#discussion_r429783487", "createdAt": "2020-05-25T07:48:01Z", "author": {"login": "cbosdo"}, "path": "web/html/src/manager/minion/packages/package-states.renderer.js", "diffHunk": "@@ -1,12 +1,16 @@\n import React from 'react';\n import PackageStates from './package-states';\n import SpaRenderer from \"core/spa/spa-renderer\";\n+import {MessagesContainer} from \"components/toastr/toastr\";\n \n export const renderer = (id, {serverId}) => {\n   SpaRenderer.renderNavigationReact(\n-    <PackageStates\n-      serverId={serverId}\n-    />,\n+    <React.Fragment>\n+      <MessagesContainer/>\n+      <PackageStates\n+        serverId={serverId}\n+      />\n+    </React.Fragment>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d15ced4bcede4a9ad5446c44cd66c9187739b47"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c307c76558c9a75facd051c2dcf7e45301a1861", "author": {"user": {"login": "mateiw", "name": "Matei Albu"}}, "url": "https://github.com/uyuni-project/uyuni/commit/0c307c76558c9a75facd051c2dcf7e45301a1861", "committedDate": "2020-05-26T10:05:22Z", "message": "Replace javascript lib toastr with react-toastify"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e8af8e6d6f2abbef07b3ee2f510863508cc4a49", "author": {"user": {"login": "mateiw", "name": "Matei Albu"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8e8af8e6d6f2abbef07b3ee2f510863508cc4a49", "committedDate": "2020-05-26T10:03:25Z", "message": "fixup! Replace javascript lib toastr with react-toastify"}, "afterCommit": {"oid": "0c307c76558c9a75facd051c2dcf7e45301a1861", "author": {"user": {"login": "mateiw", "name": "Matei Albu"}}, "url": "https://github.com/uyuni-project/uyuni/commit/0c307c76558c9a75facd051c2dcf7e45301a1861", "committedDate": "2020-05-26T10:05:22Z", "message": "Replace javascript lib toastr with react-toastify"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1255, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}