{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MDg0NjQ4", "number": 1950, "title": "Split spacewalk-utils into two packages", "bodyText": "What does this PR change?\nThe current spacewalk-utils has two different groups of scripts, when it comes to SUSE Manager\n\nSupported\nUnsupported\n\nThis PR keeps those supported on spacewalk-utils and those unsupported on spacewalk-utils-extras.\nFor Uyuni this doesn't change support levels.\nTests (for SUSE Manager support) at SUSE/spacewalk#9405 (comment) and SUSE/spacewalk#9405 (comment)\nGUI diff\nNo difference.\n\n DONE\n\nDocumentation\n\n\nPR at uyuni-project/uyuni-docs#114\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: Tools are not covered AFAIK.\n\n\n DONE\n\n\nLinks\nFixes SUSE/spacewalk#9405\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-02-24T16:28:39Z", "url": "https://github.com/uyuni-project/uyuni/pull/1950", "merged": true, "mergeCommit": {"oid": "5097815ec99eccbce2b1eb802e906e143fca0228"}, "closed": true, "closedAt": "2020-03-09T10:45:10Z", "author": {"login": "juliogonzalez"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHgIDxgBqjMwNjYwNjM2MTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcK9kaDABqjMxMDQ4MTA5MDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f6b9e5ebe02e2d53a8561112ce0971cc0047f76f", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/f6b9e5ebe02e2d53a8561112ce0971cc0047f76f", "committedDate": "2020-02-24T16:25:19Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/6f352fb2b25e064ae558036f71ac0793e294ef3c", "committedDate": "2020-02-24T16:29:05Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI1MzA2", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363525306", "createdAt": "2020-02-24T16:30:01Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDowMVrOFtnMrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDowMVrOFtnMrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3MjQ2MA==", "bodyText": "AFAIK, this is not used anymore.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383372460", "createdAt": "2020-02-24T16:30:01Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI1NzAz", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363525703", "createdAt": "2020-02-24T16:30:32Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDozMlrOFtnN5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDozMlrOFtnN5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3Mjc3NQ==", "bodyText": "This package installs /usr/bin/docbook2man", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383372775", "createdAt": "2020-02-24T16:30:32Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  docbook-utils", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI1ODc3", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363525877", "createdAt": "2020-02-24T16:30:44Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDo0NFrOFtnOYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDo0NFrOFtnOYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3Mjg5OQ==", "bodyText": "Provided by perl", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383372899", "createdAt": "2020-02-24T16:30:44Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI2MDE0", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363526014", "createdAt": "2020-02-24T16:30:53Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDo1M1rOFtnO1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMDo1M1rOFtnO1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3MzAxNA==", "bodyText": "Provided by docbook-utils", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383373014", "createdAt": "2020-02-24T16:30:53Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI2MTY0", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363526164", "createdAt": "2020-02-24T16:31:05Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMTowNVrOFtnPYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMTowNVrOFtnPYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3MzE1NQ==", "bodyText": "Couldn't find what requires this.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383373155", "createdAt": "2020-02-24T16:31:05Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n-Requires(pre):  uyuni-base-common\n-Requires:       bash\n-Requires:       cobbler\n-Requires:       coreutils", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTI2MjI5", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-363526229", "createdAt": "2020-02-24T16:31:09Z", "commit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMToxMFrOFtnPnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNjozMToxMFrOFtnPnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3MzIxNQ==", "bodyText": "Couldn't find what requires this.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383373215", "createdAt": "2020-02-24T16:31:10Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n-Requires(pre):  uyuni-base-common\n-Requires:       bash\n-Requires:       cobbler\n-Requires:       coreutils\n-Requires:       /usr/bin/spacewalk-sql\n-Requires:       iproute\n-Requires:       net-tools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/6f352fb2b25e064ae558036f71ac0793e294ef3c", "committedDate": "2020-02-24T16:29:05Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "08d597ad3a3123a0c23dd23cbb4a4679e2333604", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/08d597ad3a3123a0c23dd23cbb4a4679e2333604", "committedDate": "2020-02-24T16:39:51Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08d597ad3a3123a0c23dd23cbb4a4679e2333604", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/08d597ad3a3123a0c23dd23cbb4a4679e2333604", "committedDate": "2020-02-24T16:39:51Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "d7b64424a3a4d1f2d6b1573609a56eb09410bec1", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d7b64424a3a4d1f2d6b1573609a56eb09410bec1", "committedDate": "2020-02-24T16:42:18Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7b64424a3a4d1f2d6b1573609a56eb09410bec1", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d7b64424a3a4d1f2d6b1573609a56eb09410bec1", "committedDate": "2020-02-24T16:42:18Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "670c703f3e018641175926a0049ce10a865c93ca", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/670c703f3e018641175926a0049ce10a865c93ca", "committedDate": "2020-02-25T10:42:43Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "670c703f3e018641175926a0049ce10a865c93ca", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/670c703f3e018641175926a0049ce10a865c93ca", "committedDate": "2020-02-25T10:42:43Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "ed4876c2ceb70ee043bf25c58c204093e1dbc3a9", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/ed4876c2ceb70ee043bf25c58c204093e1dbc3a9", "committedDate": "2020-02-25T10:46:26Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed4876c2ceb70ee043bf25c58c204093e1dbc3a9", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/ed4876c2ceb70ee043bf25c58c204093e1dbc3a9", "committedDate": "2020-02-25T10:46:26Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "3d40a26e3fc3d1f1619df9fc167f6571095c3bc4", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/3d40a26e3fc3d1f1619df9fc167f6571095c3bc4", "committedDate": "2020-02-25T10:59:56Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d40a26e3fc3d1f1619df9fc167f6571095c3bc4", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/3d40a26e3fc3d1f1619df9fc167f6571095c3bc4", "committedDate": "2020-02-25T10:59:56Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "bd74247656265ad4f8bd9ec8316a5f2f63ad353f", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/bd74247656265ad4f8bd9ec8316a5f2f63ad353f", "committedDate": "2020-02-25T11:01:23Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd74247656265ad4f8bd9ec8316a5f2f63ad353f", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/bd74247656265ad4f8bd9ec8316a5f2f63ad353f", "committedDate": "2020-02-25T11:01:23Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "207474393f84c59ce91773962a76edd9e58a7092", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/207474393f84c59ce91773962a76edd9e58a7092", "committedDate": "2020-02-25T11:03:21Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "207474393f84c59ce91773962a76edd9e58a7092", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/207474393f84c59ce91773962a76edd9e58a7092", "committedDate": "2020-02-25T11:03:21Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "dc033945b3d4023d52465bf1c051ed8b83eee6b3", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/dc033945b3d4023d52465bf1c051ed8b83eee6b3", "committedDate": "2020-02-25T11:06:03Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc033945b3d4023d52465bf1c051ed8b83eee6b3", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/dc033945b3d4023d52465bf1c051ed8b83eee6b3", "committedDate": "2020-02-25T11:06:03Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "8c958de1ed5793e70d01f8b6ee929a716fb4c4bb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8c958de1ed5793e70d01f8b6ee929a716fb4c4bb", "committedDate": "2020-02-25T11:08:03Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c958de1ed5793e70d01f8b6ee929a716fb4c4bb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8c958de1ed5793e70d01f8b6ee929a716fb4c4bb", "committedDate": "2020-02-25T11:08:03Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "05384fa6bafe58a33858b80dec209f8fd74910be", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/05384fa6bafe58a33858b80dec209f8fd74910be", "committedDate": "2020-02-25T12:19:00Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05384fa6bafe58a33858b80dec209f8fd74910be", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/05384fa6bafe58a33858b80dec209f8fd74910be", "committedDate": "2020-02-25T12:19:00Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1f0a2c052258d8cff4a99d231513982d7370c8e3", "committedDate": "2020-02-25T12:21:26Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MDk4Nzcx", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-364098771", "createdAt": "2020-02-25T12:22:03Z", "commit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjowNFrOFuEEEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjowNFrOFuEEEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0NTM5Mg==", "bodyText": "All shebangs are now changed to python3 as we don't support python2 anymore.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383845392", "createdAt": "2020-02-25T12:22:04Z", "author": {"login": "juliogonzalez"}, "path": "utils/apply_errata", "diffHunk": "@@ -1,4 +1,4 @@\n-#!/usr/bin/python\n+#!/usr/bin/python3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MDk4OTcx", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-364098971", "createdAt": "2020-02-25T12:22:26Z", "commit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjoyNlrOFuEEvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjoyNlrOFuEEvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0NTU2NA==", "bodyText": "And for the python files that are not really use as standalone scripts (despite they were in the past), we remove the shebang.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383845564", "createdAt": "2020-02-25T12:22:26Z", "author": {"login": "juliogonzalez"}, "path": "utils/cloneByDate.py", "diffHunk": "@@ -1,4 +1,3 @@\n-#!/usr/bin/python", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MDk5MjIw", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-364099220", "createdAt": "2020-02-25T12:22:53Z", "commit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjo1M1rOFuEFcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyMjo1M1rOFuEFcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0NTc0Ng==", "bodyText": "We can finally get rid of this.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r383845746", "createdAt": "2020-02-25T12:22:53Z", "author": {"login": "juliogonzalez"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,90 +21,113 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  fdupes\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n+%if 0%{?suse_version}\n+Requires:       perl = %{perl_version}\n+%else\n+Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n+%endif\n+# Required by debsolver.py\n+Requires:       python3-PyYAML\n+# Required by debsolver.py, cloneByDate.py\n+Requires:       python3-uyuni-common-libs\n+# Required by spacewalk-clone-by-date, spacewalk-sync-setup\n+Requires:       salt\n+# Required by cloneByDate.py, spacewalk-clone-by-date\n+Requires:       spacewalk-backend\n+# Required by cloneByDate.py\n+Requires:       spacewalk-backend-sql\n+# Required by spacewalk-final-archive\n+Requires:       spacewalk-backend-tools >= 2.2.27\n+# Required by cloneByDate.py, depsolver.py,spacewalk-clone-by-date\n Requires(pre):  uyuni-base-common\n+\n+%description\n+Utilities that may be run against a SUSE Manager server (supported) or an Uyuni server\n+\n+%package extras\n+Summary:        Extra utilities that may run against a SUSE Manager/Uyuni server\n+# Required by spacewalk-dump-schema, spacewalk-host-rename (provides /usr/bin/spacewalk-sql)\n+Requires:       susemanager-schema\n+# Required by spacewalk-hostname-rename, spacewalk-watch-channel-sync.sh\n Requires:       bash\n+# Required by spacewalk-hostname-rename\n Requires:       cobbler\n-Requires:       coreutils\n-Requires:       /usr/bin/spacewalk-sql\n+# Required by spacewalk-hostname-rename\n Requires:       iproute\n-Requires:       net-tools\n+# Required by spacewalk-hostname-rename\n Requires:       perl-Satcon\n+# Required by spacewalk-dump-schema, spacewalk-hostname-rename\n %if 0%{?suse_version}\n Requires:       perl = %{perl_version}\n %else\n Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n %endif\n-Requires:       python3\n-Requires:       python3-rpm\n+# Required by taskotop\n+Requires:       python3-curses\n+# Required by sw-ldap-user-sync\n+Requires:       python3-ldap\n+# Required by sw-ldap-user-sync\n+Requires:       python3-PyYAML\n+# Required by migrate-system-profile\n Requires:       python3-rhnlib >= 2.5.20\n+# Required by migrateSystemProfile.py, spacewalk-common-channels, systemSnapshot.py\n+Requires:       python3-uyuni-common-libs\n+# spacewalk-dump-schema, spacewalk-hostname-rename\n Requires:       rpm\n-Requires:       salt\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-admin\n+# Required by spacewalk-common-channels, spacewalk-manage-snapshots, systemSnapshot.py\n Requires:       spacewalk-backend\n-Requires:       python3-uyuni-common-libs\n+# Required by taskotop\n+Requires:       spacewalk-backend-sql\n+# Required by spacewalk-final-archive, spacewalk-watch-channel-sync.sh\n Requires:       spacewalk-backend-tools >= 2.2.27\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-certs-tools\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-config\n+# Required by spacewalk-export\n Requires:       spacewalk-reports\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-setup\n+# As spacewalk-utils owns {python3_sitelib}/utils\n+Requires:       spacewalk-utils\n+# Required by migrate-system-profile, migrateSystemProfile.py, spacewalk-export-channels, spacewalk-manage-snapshots, sw-system-snapshot, systemSnapshot.py\n+Requires(pre):  uyuni-base-common\n \n-Requires:       python3-curses\n-Requires:       python3-ldap\n-%if 0%{?suse_version} >= 1320\n-Requires:       python3-PyYAML\n-%else\n-Requires:       python3-yaml\n-%endif\n-\n-%description\n-Generic utilities that may be run against a Uyuni server.\n-\n+%description extras\n+Extra utilities that may be run against a SUSE Manager server (unsupported) or an Uyuni server\n \n %prep\n %setup -q\n \n %build\n make all %{?pod2man}\n \n-# Fixing shebang for Python 3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 145}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MTE3ODQ5", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-367117849", "createdAt": "2020-03-02T11:09:35Z", "commit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxMTowOTozNVrOFwbvPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxMTowOTo1NFrOFwbv2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjMzMDQzMA==", "bodyText": "What's the point of adding the SUMA name here?", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r386330430", "createdAt": "2020-03-02T11:09:35Z", "author": {"login": "Conan-Kudo"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,90 +21,113 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjMzMDU4NA==", "bodyText": "I'm okay with this going away given it's completely unused anyway.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r386330584", "createdAt": "2020-03-02T11:09:54Z", "author": {"login": "Conan-Kudo"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,74 +21,71 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM3MjQ2MA=="}, "originalCommit": {"oid": "6f352fb2b25e064ae558036f71ac0793e294ef3c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MTMwMDE5", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-368130019", "createdAt": "2020-03-03T16:27:35Z", "commit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNjoyNzozNVrOFxNI1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNjozODowMFrOFxNj7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzEzOTc5Ng==", "bodyText": "If you require the main package, you should not add requires for things which are already in the main package.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387139796", "createdAt": "2020-03-03T16:27:35Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,90 +21,113 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  fdupes\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n+%if 0%{?suse_version}\n+Requires:       perl = %{perl_version}\n+%else\n+Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n+%endif\n+# Required by debsolver.py\n+Requires:       python3-PyYAML\n+# Required by debsolver.py, cloneByDate.py\n+Requires:       python3-uyuni-common-libs\n+# Required by spacewalk-clone-by-date, spacewalk-sync-setup\n+Requires:       salt\n+# Required by cloneByDate.py, spacewalk-clone-by-date\n+Requires:       spacewalk-backend\n+# Required by cloneByDate.py\n+Requires:       spacewalk-backend-sql\n+# Required by spacewalk-final-archive\n+Requires:       spacewalk-backend-tools >= 2.2.27\n+# Required by cloneByDate.py, depsolver.py,spacewalk-clone-by-date\n Requires(pre):  uyuni-base-common\n+\n+%description\n+Utilities that may be run against a SUSE Manager server (supported) or an Uyuni server\n+\n+%package extras\n+Summary:        Extra utilities that may run against a SUSE Manager/Uyuni server\n+# Required by spacewalk-dump-schema, spacewalk-host-rename (provides /usr/bin/spacewalk-sql)\n+Requires:       susemanager-schema\n+# Required by spacewalk-hostname-rename, spacewalk-watch-channel-sync.sh\n Requires:       bash\n+# Required by spacewalk-hostname-rename\n Requires:       cobbler\n-Requires:       coreutils\n-Requires:       /usr/bin/spacewalk-sql\n+# Required by spacewalk-hostname-rename\n Requires:       iproute\n-Requires:       net-tools\n+# Required by spacewalk-hostname-rename\n Requires:       perl-Satcon\n+# Required by spacewalk-dump-schema, spacewalk-hostname-rename\n %if 0%{?suse_version}\n Requires:       perl = %{perl_version}\n %else\n Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n %endif\n-Requires:       python3\n-Requires:       python3-rpm\n+# Required by taskotop\n+Requires:       python3-curses\n+# Required by sw-ldap-user-sync\n+Requires:       python3-ldap\n+# Required by sw-ldap-user-sync\n+Requires:       python3-PyYAML\n+# Required by migrate-system-profile\n Requires:       python3-rhnlib >= 2.5.20\n+# Required by migrateSystemProfile.py, spacewalk-common-channels, systemSnapshot.py\n+Requires:       python3-uyuni-common-libs\n+# spacewalk-dump-schema, spacewalk-hostname-rename\n Requires:       rpm\n-Requires:       salt\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-admin\n+# Required by spacewalk-common-channels, spacewalk-manage-snapshots, systemSnapshot.py\n Requires:       spacewalk-backend\n-Requires:       python3-uyuni-common-libs\n+# Required by taskotop\n+Requires:       spacewalk-backend-sql\n+# Required by spacewalk-final-archive, spacewalk-watch-channel-sync.sh\n Requires:       spacewalk-backend-tools >= 2.2.27\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-certs-tools\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-config\n+# Required by spacewalk-export\n Requires:       spacewalk-reports\n+# Required by spacewalk-hostname-rename\n Requires:       spacewalk-setup\n+# As spacewalk-utils owns {python3_sitelib}/utils\n+Requires:       spacewalk-utils", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE0MDgwNw==", "bodyText": "Is spacewalk-final-archive in the \"supported\" area?\nIf not, this dependency is not needed here in this package.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387140807", "createdAt": "2020-03-03T16:28:58Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,90 +21,113 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  fdupes\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n+%if 0%{?suse_version}\n+Requires:       perl = %{perl_version}\n+%else\n+Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n+%endif\n+# Required by debsolver.py\n+Requires:       python3-PyYAML\n+# Required by debsolver.py, cloneByDate.py\n+Requires:       python3-uyuni-common-libs\n+# Required by spacewalk-clone-by-date, spacewalk-sync-setup\n+Requires:       salt\n+# Required by cloneByDate.py, spacewalk-clone-by-date\n+Requires:       spacewalk-backend\n+# Required by cloneByDate.py\n+Requires:       spacewalk-backend-sql\n+# Required by spacewalk-final-archive\n+Requires:       spacewalk-backend-tools >= 2.2.27", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE0MTk3NQ==", "bodyText": "The real required package seems to be python3-salt. Better to name that.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387141975", "createdAt": "2020-03-03T16:30:43Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -20,90 +21,113 @@\n %{!?pylint_check: %global pylint_check 1}\n %endif\n \n-%if 0%{?fedora} || 0%{?rhel}\n-%global apache_group apache\n-%endif\n-%if 0%{?suse_version}\n-%global apache_group www\n-%endif\n-\n Name:           spacewalk-utils\n Version:        4.1.5\n Release:        1%{?dist}\n-Summary:        Utilities that may be run against a Uyuni server\n+Summary:        Utilities that may be run against a SUSE Manager/Uyuni server\n License:        GPL-2.0-only AND GPL-3.0-or-later\n Group:          Productivity/Other\n-\n Url:            https://github.com/uyuni-project/uyuni\n Source0:        https://github.com/spacewalkproject/spacewalk/archive/%{name}-%{version}.tar.gz\n BuildRoot:      %{_tmppath}/%{name}-%{version}-build\n BuildArch:      noarch\n-\n+BuildRequires:  fdupes\n+BuildRequires:  docbook-utils\n+BuildRequires:  python3\n %if 0%{?pylint_check}\n BuildRequires:  spacewalk-python3-pylint\n %endif\n-BuildRequires:  /usr/bin/docbook2man\n-BuildRequires:  /usr/bin/pod2man\n-BuildRequires:  docbook-utils\n-BuildRequires:  python3\n BuildRequires:  uyuni-base-common\n \n+%if 0%{?suse_version}\n+Requires:       perl = %{perl_version}\n+%else\n+Requires:       perl(:MODULE_COMPAT_%(eval \"`%{__perl} -V:version`\"; echo $version))\n+%endif\n+# Required by debsolver.py\n+Requires:       python3-PyYAML\n+# Required by debsolver.py, cloneByDate.py\n+Requires:       python3-uyuni-common-libs\n+# Required by spacewalk-clone-by-date, spacewalk-sync-setup\n+Requires:       salt", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE0MzU3Mg==", "bodyText": "AFAIK there is a new macro for license files (%license) which should be used.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387143572", "createdAt": "2020-03-03T16:33:05Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -114,17 +138,57 @@ spacewalk-python3-pylint $RPM_BUILD_ROOT%{python3_sitelib}\n \n %files\n %defattr(-,root,root)\n-%config %{_sysconfdir}/rhn/spacewalk-common-channels.ini\n-%config(noreplace) %{_sysconfdir}/rhn/sw-ldap-user-sync.conf\n-%attr(755,root,root) %{_bindir}/*\n+%doc COPYING.GPLv2 COPYING.GPLv3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 167}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE0Mzc5Nw==", "bodyText": "Same as above please use %license now", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387143797", "createdAt": "2020-03-03T16:33:26Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -114,17 +138,57 @@ spacewalk-python3-pylint $RPM_BUILD_ROOT%{python3_sitelib}\n \n %files\n %defattr(-,root,root)\n-%config %{_sysconfdir}/rhn/spacewalk-common-channels.ini\n-%config(noreplace) %{_sysconfdir}/rhn/sw-ldap-user-sync.conf\n-%attr(755,root,root) %{_bindir}/*\n+%doc COPYING.GPLv2 COPYING.GPLv3\n+%attr(755,root,root) %{_bindir}/spacewalk-clone-by-date\n+%attr(755,root,root) %{_bindir}/spacewalk-manage-channel-lifecycle\n+%attr(755,root,root) %{_bindir}/spacewalk-sync-setup\n %dir %{python3_sitelib}/utils\n %{python3_sitelib}/utils/__init__.py*\n %{python3_sitelib}/utils/systemSnapshot.py*\n-%{python3_sitelib}/utils/migrateSystemProfile.py*\n %{python3_sitelib}/utils/cloneByDate.py*\n %{python3_sitelib}/utils/depsolver.py*\n-%{python3_sitelib}/utils/__pycache__\n-%{_mandir}/man8/*\n+%dir %{python3_sitelib}/utils/__pycache__\n+%{python3_sitelib}/utils/__pycache__/__init__.*\n+%{python3_sitelib}/utils/__pycache__/systemSnapshot.*\n+%{python3_sitelib}/utils/__pycache__/cloneByDate.*\n+%{python3_sitelib}/utils/__pycache__/depsolver.*\n+%{_mandir}/man8/spacewalk-clone-by-date.8.gz\n+%{_mandir}/man8/spacewalk-sync-setup.8.gz\n+\n+%files extras\n+%defattr(-,root,root)\n %doc COPYING.GPLv2 COPYING.GPLv3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 189}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE0NjczMg==", "bodyText": "As -extra package requires the main package we could remove the two %dir definitions here.\nI have the feeling it would be better as it show that we really require the other package to install this one.\nEven if we provide the directory, we miss the __init__.py which is mandatory to make a python module run.", "url": "https://github.com/uyuni-project/uyuni/pull/1950#discussion_r387146732", "createdAt": "2020-03-03T16:38:00Z", "author": {"login": "mcalmer"}, "path": "utils/spacewalk-utils.spec", "diffHunk": "@@ -114,17 +138,57 @@ spacewalk-python3-pylint $RPM_BUILD_ROOT%{python3_sitelib}\n \n %files\n %defattr(-,root,root)\n-%config %{_sysconfdir}/rhn/spacewalk-common-channels.ini\n-%config(noreplace) %{_sysconfdir}/rhn/sw-ldap-user-sync.conf\n-%attr(755,root,root) %{_bindir}/*\n+%doc COPYING.GPLv2 COPYING.GPLv3\n+%attr(755,root,root) %{_bindir}/spacewalk-clone-by-date\n+%attr(755,root,root) %{_bindir}/spacewalk-manage-channel-lifecycle\n+%attr(755,root,root) %{_bindir}/spacewalk-sync-setup\n %dir %{python3_sitelib}/utils\n %{python3_sitelib}/utils/__init__.py*\n %{python3_sitelib}/utils/systemSnapshot.py*\n-%{python3_sitelib}/utils/migrateSystemProfile.py*\n %{python3_sitelib}/utils/cloneByDate.py*\n %{python3_sitelib}/utils/depsolver.py*\n-%{python3_sitelib}/utils/__pycache__\n-%{_mandir}/man8/*\n+%dir %{python3_sitelib}/utils/__pycache__\n+%{python3_sitelib}/utils/__pycache__/__init__.*\n+%{python3_sitelib}/utils/__pycache__/systemSnapshot.*\n+%{python3_sitelib}/utils/__pycache__/cloneByDate.*\n+%{python3_sitelib}/utils/__pycache__/depsolver.*\n+%{_mandir}/man8/spacewalk-clone-by-date.8.gz\n+%{_mandir}/man8/spacewalk-sync-setup.8.gz\n+\n+%files extras\n+%defattr(-,root,root)\n %doc COPYING.GPLv2 COPYING.GPLv3\n+%attr(755,root,root) %{_bindir}/apply_errata\n+%attr(755,root,root) %{_bindir}/delete-old-systems-interactive\n+%attr(755,root,root) %{_bindir}/migrate-system-profile\n+%attr(755,root,root) %{_bindir}/spacewalk-api\n+%attr(755,root,root) %{_bindir}/spacewalk-common-channels\n+%attr(755,root,root) %{_bindir}/spacewalk-dump-schema\n+%attr(755,root,root) %{_bindir}/spacewalk-export\n+%attr(755,root,root) %{_bindir}/spacewalk-export-channels\n+%attr(755,root,root) %{_bindir}/spacewalk-final-archive\n+%attr(755,root,root) %{_bindir}/spacewalk-hostname-rename\n+%attr(755,root,root) %{_bindir}/spacewalk-manage-snapshots\n+%attr(755,root,root) %{_bindir}/spacewalk-watch-channel-sync.sh\n+%attr(755,root,root) %{_bindir}/sw-ldap-user-sync\n+%attr(755,root,root) %{_bindir}/sw-system-snapshot\n+%attr(755,root,root) %{_bindir}/taskotop\n+%dir %{python3_sitelib}/utils\n+%{python3_sitelib}/utils/migrateSystemProfile.py*\n+%dir %{python3_sitelib}/utils/__pycache__", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3"}, "originalPosition": 207}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f0a2c052258d8cff4a99d231513982d7370c8e3", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1f0a2c052258d8cff4a99d231513982d7370c8e3", "committedDate": "2020-02-25T12:21:26Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "990f54b66c7e59cf4d39d99a8558272faddbb255", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/990f54b66c7e59cf4d39d99a8558272faddbb255", "committedDate": "2020-03-04T09:17:27Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d48f87bf2221f784e2da6d58fbce632c0828756", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/3d48f87bf2221f784e2da6d58fbce632c0828756", "committedDate": "2020-03-04T09:36:14Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "990f54b66c7e59cf4d39d99a8558272faddbb255", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/990f54b66c7e59cf4d39d99a8558272faddbb255", "committedDate": "2020-03-04T09:17:27Z", "message": "Split spacewalk-utils into two packages"}, "afterCommit": {"oid": "3d48f87bf2221f784e2da6d58fbce632c0828756", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/3d48f87bf2221f784e2da6d58fbce632c0828756", "committedDate": "2020-03-04T09:36:14Z", "message": "Split spacewalk-utils into two packages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NjU4NzE1", "url": "https://github.com/uyuni-project/uyuni/pull/1950#pullrequestreview-368658715", "createdAt": "2020-03-04T10:23:01Z", "commit": {"oid": "3d48f87bf2221f784e2da6d58fbce632c0828756"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4645d5aedde61e178596a38f126bd7bfd1bb934", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/c4645d5aedde61e178596a38f126bd7bfd1bb934", "committedDate": "2020-03-04T16:39:56Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "16688bd7cc1a0f96e757cb11011cbba097e8d346", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/16688bd7cc1a0f96e757cb11011cbba097e8d346", "committedDate": "2020-03-06T09:43:17Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16688bd7cc1a0f96e757cb11011cbba097e8d346", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/16688bd7cc1a0f96e757cb11011cbba097e8d346", "committedDate": "2020-03-06T09:43:17Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "d8a68517af4c8843c25b609a3e5d117ba3ba9adb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d8a68517af4c8843c25b609a3e5d117ba3ba9adb", "committedDate": "2020-03-06T09:55:34Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8a68517af4c8843c25b609a3e5d117ba3ba9adb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/d8a68517af4c8843c25b609a3e5d117ba3ba9adb", "committedDate": "2020-03-06T09:55:34Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "a6828aa23d49450259bfc3a8d22f75351b8090fb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/a6828aa23d49450259bfc3a8d22f75351b8090fb", "committedDate": "2020-03-06T09:56:59Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6828aa23d49450259bfc3a8d22f75351b8090fb", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/a6828aa23d49450259bfc3a8d22f75351b8090fb", "committedDate": "2020-03-06T09:56:59Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "c77b900ce7fac823d0daf4c59d0b0cf639598ec6", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/c77b900ce7fac823d0daf4c59d0b0cf639598ec6", "committedDate": "2020-03-06T10:02:06Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c77b900ce7fac823d0daf4c59d0b0cf639598ec6", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/c77b900ce7fac823d0daf4c59d0b0cf639598ec6", "committedDate": "2020-03-06T10:02:06Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "8fb75468b818fe0ccc8c6718e75468819c29718e", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8fb75468b818fe0ccc8c6718e75468819c29718e", "committedDate": "2020-03-06T10:05:29Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fb75468b818fe0ccc8c6718e75468819c29718e", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8fb75468b818fe0ccc8c6718e75468819c29718e", "committedDate": "2020-03-06T10:05:29Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "989bd1995babda1ec6f76a720bf26739d2ba613c", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/989bd1995babda1ec6f76a720bf26739d2ba613c", "committedDate": "2020-03-06T10:10:32Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "459a32739193c427903c5bea2a62c3cb6418a847", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/459a32739193c427903c5bea2a62c3cb6418a847", "committedDate": "2020-03-06T10:23:45Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "989bd1995babda1ec6f76a720bf26739d2ba613c", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/989bd1995babda1ec6f76a720bf26739d2ba613c", "committedDate": "2020-03-06T10:10:32Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}, "afterCommit": {"oid": "459a32739193c427903c5bea2a62c3cb6418a847", "author": {"user": {"login": "juliogonzalez", "name": "Julio Gonz\u00e1lez Gil"}}, "url": "https://github.com/uyuni-project/uyuni/commit/459a32739193c427903c5bea2a62c3cb6418a847", "committedDate": "2020-03-06T10:23:45Z", "message": "Remove spacewalk-dump-schema, move spacewalk-common-channels and spacewalk-hostname-rename to main package"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1687, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}