{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMTQ3MzYy", "number": 2582, "title": "Fix unit-tests failing due to missing default locale", "bodyText": "What does this PR change?\nFix unit-tests failing due to missing default locale\nGUI diff\nNo difference.\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: Just a fix\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests:\n\n\n DONE\n\n\nLinks\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-09-08T16:02:45Z", "url": "https://github.com/uyuni-project/uyuni/pull/2582", "merged": true, "mergeCommit": {"oid": "f562d6d610d2fe6e2281a660fbddb24e69fff7d1"}, "closed": true, "closedAt": "2020-09-08T16:21:32Z", "author": {"login": "parlt91"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG57HCAFqTQ4NDI5MzI0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdG6B2rAFqTQ4NDI5OTE3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjkzMjQ3", "url": "https://github.com/uyuni-project/uyuni/pull/2582#pullrequestreview-484293247", "createdAt": "2020-09-08T16:09:55Z", "commit": {"oid": "2805f028ec51e671960c3675fd96735649a2e990"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjowOTo1NlrOHOkW6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjowOTo1NlrOHOkW6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAzNzgwMQ==", "bodyText": "I agree with the spirit of the patch but would suggest a different implementation, that is to add the default value as second parameter in ConfigDefaults.getDefaultLocale():\nhttps://github.com/uyuni-project/uyuni/blob/master/java/code/src/com/redhat/rhn/common/conf/ConfigDefaults.java#L1023\nReason is just consistency with other cases/centralization, see for example:\nhttps://github.com/uyuni-project/uyuni/blob/master/java/code/src/com/redhat/rhn/common/conf/ConfigDefaults.java#L933", "url": "https://github.com/uyuni-project/uyuni/pull/2582#discussion_r485037801", "createdAt": "2020-09-08T16:09:56Z", "author": {"login": "moio"}, "path": "java/code/src/com/redhat/rhn/common/localization/LocalizationService.java", "diffHunk": "@@ -693,6 +693,10 @@ public Collator newCollator() {\n      */\n     private static Locale getDefaultLocale() {\n         String defaultLocale = ConfigDefaults.get().getDefaultLocale();\n+        // Set fallback value if default can't be read from the config", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2805f028ec51e671960c3675fd96735649a2e990"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a2d5ea8c3a2c9aa7411092b8a8d85c33f96d20a", "author": {"user": {"login": "parlt91", "name": "Pascal Arlt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/0a2d5ea8c3a2c9aa7411092b8a8d85c33f96d20a", "committedDate": "2020-09-08T16:14:01Z", "message": "Fix unit-tests failing due to missing default locale\n\nSigned-off-by: Pascal Arlt <parlt@suse.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2805f028ec51e671960c3675fd96735649a2e990", "author": {"user": {"login": "parlt91", "name": "Pascal Arlt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/2805f028ec51e671960c3675fd96735649a2e990", "committedDate": "2020-09-08T15:58:23Z", "message": "Fix unit-tests failing due to missing default locale\n\nSigned-off-by: Pascal Arlt <parlt@suse.com>"}, "afterCommit": {"oid": "0a2d5ea8c3a2c9aa7411092b8a8d85c33f96d20a", "author": {"user": {"login": "parlt91", "name": "Pascal Arlt"}}, "url": "https://github.com/uyuni-project/uyuni/commit/0a2d5ea8c3a2c9aa7411092b8a8d85c33f96d20a", "committedDate": "2020-09-08T16:14:01Z", "message": "Fix unit-tests failing due to missing default locale\n\nSigned-off-by: Pascal Arlt <parlt@suse.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Mjk5MTc2", "url": "https://github.com/uyuni-project/uyuni/pull/2582#pullrequestreview-484299176", "createdAt": "2020-09-08T16:17:18Z", "commit": {"oid": "0a2d5ea8c3a2c9aa7411092b8a8d85c33f96d20a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1149, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}