{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTU2NzA1", "number": 1995, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQyMTozMzoyOFrODmH6rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQyMzo0MToyMVrODmIf-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzAyMTkwOnYy", "diffSide": "RIGHT", "path": "web/html/src/manager/admin/setup/products/products.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQyMTozMzoyOFrOFzXiNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwODo0OTozMFrOFzeuvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQwNzI4Ng==", "bodyText": "It is better to set the state everything at once. I'd just move these lines right before setState few lines above and preparing a variable to populate with messages. Something like the following:\nlet resultMessages = [];\n      if (currentObject.state.noToolsChannelSubscription && currentObject.state.issMaster) {\n        resultMessages = MessagesUtils.warning(t(\"No SUSE Manager Server Subscription availabel. Products requiring Client Tools Channel will not be shown.\"))\n      }\ncurrentObject.setState({\n          serverData: data[_DATA_ROOT_ID],\n          errors: resultMessages,\n          loading: false,\n          selectedItems: [],\n          scheduleResyncItems: [],\n          scheduledItems: [],\n        });", "url": "https://github.com/uyuni-project/uyuni/pull/1995#discussion_r389407286", "createdAt": "2020-03-08T21:33:28Z", "author": {"login": "ncounter"}, "path": "web/html/src/manager/admin/setup/products/products.js", "diffHunk": "@@ -118,6 +119,11 @@ class ProductsPageWrapper extends React.Component {\n           scheduleResyncItems: [],\n           scheduledItems: [],\n         });\n+        if (currentObject.state.noToolsChannelSubscription && currentObject.state.issMaster) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a99d9b364d9e71d7bdc9bc25bf4bf1883a1cdfb6"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTUyNTE4MA==", "bodyText": "done", "url": "https://github.com/uyuni-project/uyuni/pull/1995#discussion_r389525180", "createdAt": "2020-03-09T08:49:30Z", "author": {"login": "mcalmer"}, "path": "web/html/src/manager/admin/setup/products/products.js", "diffHunk": "@@ -118,6 +119,11 @@ class ProductsPageWrapper extends React.Component {\n           scheduleResyncItems: [],\n           scheduledItems: [],\n         });\n+        if (currentObject.state.noToolsChannelSubscription && currentObject.state.issMaster) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQwNzI4Ng=="}, "originalCommit": {"oid": "a99d9b364d9e71d7bdc9bc25bf4bf1883a1cdfb6"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzExNzM3OnYy", "diffSide": "RIGHT", "path": "web/html/src/manager/admin/setup/products/products.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQyMzo0MToyMVrOFzYQZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQyMzo0MToyMVrOFzYQZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQxOTEwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        errors: MessagesUtils.warning(t(\"No SUSE Manager Server Subscription availabel. Products requiring Client Tools Channel will not be shown.\"))\n          \n          \n            \n                        errors: MessagesUtils.warning(t(\"No SUSE Manager Server Subscription available. Products requiring Client Tools Channel will not be shown.\"))", "url": "https://github.com/uyuni-project/uyuni/pull/1995#discussion_r389419109", "createdAt": "2020-03-08T23:41:21Z", "author": {"login": "Loquacity"}, "path": "web/html/src/manager/admin/setup/products/products.js", "diffHunk": "@@ -118,6 +119,11 @@ class ProductsPageWrapper extends React.Component {\n           scheduleResyncItems: [],\n           scheduledItems: [],\n         });\n+        if (currentObject.state.noToolsChannelSubscription && currentObject.state.issMaster) {\n+          currentObject.setState({\n+            errors: MessagesUtils.warning(t(\"No SUSE Manager Server Subscription availabel. Products requiring Client Tools Channel will not be shown.\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a99d9b364d9e71d7bdc9bc25bf4bf1883a1cdfb6"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 142, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}