{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NTQyMTUz", "number": 2989, "title": "Add second arg head", "bodyText": "What does this PR change?\nPass the right type for the first argument\nAdd a 2nd optional arg with the target from where to obtain the GPG keys ($server, default).\nLinks\nFixes #2986\nPorts\n\nManager-4.0: https://github.com/SUSE/spacewalk/pull/13393\nManager-4.1: https://github.com/SUSE/spacewalk/pull/13392\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)", "createdAt": "2020-12-08T15:48:32Z", "url": "https://github.com/uyuni-project/uyuni/pull/2989", "merged": true, "mergeCommit": {"oid": "28ff0e2c552408c4ff29ca550a7b11603af9d88e"}, "closed": true, "closedAt": "2020-12-08T16:08:36Z", "author": {"login": "calancha"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkKmlLAH2gAyNTM0NTQyMTUzOjg4NTc1YTZiMDAxMzYwNjZhNzcyNGRmMzA4ZjViOGEwYzc5YmQzZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkRaU3gFqTU0NzY2NTA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "88575a6b00136066a7724df308f5b8a0c79bd3f1", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/88575a6b00136066a7724df308f5b8a0c79bd3f1", "committedDate": "2020-12-08T13:59:42Z", "message": "Testsuite: Add 2nd arg target into get_gpg_keys"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MzcwMjA4", "url": "https://github.com/uyuni-project/uyuni/pull/2989#pullrequestreview-547370208", "createdAt": "2020-12-08T15:52:53Z", "commit": {"oid": "6c21a08a696ebab7f5c0e6bf465a7a7403ea4d09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8c120f0bb2e90c638ce579bef7403f551cc4eed5", "committedDate": "2020-12-08T16:04:54Z", "message": "Testsuite: Pass the right type for the 1st arg of get_gpg_keys\n\nAdd optional 2nd argument (default $server) with the target\nfrom where to get the GPG keys.\n\n- testsuite/features/support/client_stack.rb:\nThe first arg is a node, not a string."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c21a08a696ebab7f5c0e6bf465a7a7403ea4d09", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/6c21a08a696ebab7f5c0e6bf465a7a7403ea4d09", "committedDate": "2020-12-08T15:46:10Z", "message": "Testsuite: Pass the right type for the 1st arg of get_gpg_keys\n\nAdd optional 2nd argument (default $server) with the target\nfrom where to get the GPG keys.\n\n- testsuite/features/support/client_stack.rb:\nThe first arg is a node, not a string."}, "afterCommit": {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/8c120f0bb2e90c638ce579bef7403f551cc4eed5", "committedDate": "2020-12-08T16:04:54Z", "message": "Testsuite: Pass the right type for the 1st arg of get_gpg_keys\n\nAdd optional 2nd argument (default $server) with the target\nfrom where to get the GPG keys.\n\n- testsuite/features/support/client_stack.rb:\nThe first arg is a node, not a string."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjY1MDcy", "url": "https://github.com/uyuni-project/uyuni/pull/2989#pullrequestreview-547665072", "createdAt": "2020-12-08T21:55:39Z", "commit": {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMTo1NTozOVrOIB3-SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMTo1NTozOVrOIB3-SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgzNjU1Mg==", "bodyText": "Naming it is just a bit confusing now, as to obtain the node we use the function get_target, and then as second parameter of the next function we use the variable target extracted from few lines above \ud83e\udd14\nI just hope it is clear enough the next time we revisit this code", "url": "https://github.com/uyuni-project/uyuni/pull/2989#discussion_r538836552", "createdAt": "2020-12-08T21:55:39Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/common_steps.rb", "diffHunk": "@@ -667,7 +667,7 @@\n   # Prepare bootstrap script for different types of clients\n   client = client_type == 'traditional' ? '--traditional' : ''\n   node = get_target(host)\n-  gpg_keys = get_gpg_keys(node)\n+  gpg_keys = get_gpg_keys(node, target)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 814, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}