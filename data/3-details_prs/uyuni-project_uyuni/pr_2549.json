{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MTI5ODY3", "number": 2549, "title": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64, Issue #2548", "bodyText": "What does this PR change?\nDB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64, Issue #2548\n    modified:   schema/spacewalk/common/data/rhnChannelArch.sql\n    modified:   schema/spacewalk/common/data/rhnChannelPackageArchCompat.sql\n    modified:   schema/spacewalk/common/data/rhnChildChannelArchCompat.sql\n    modified:   schema/spacewalk/common/data/rhnCpuArch.sql\n    modified:   schema/spacewalk/common/data/rhnPackageArch.sql\n    modified:   schema/spacewalk/common/data/rhnPackageUpgradeArchCompat.sql\n    modified:   schema/spacewalk/common/data/rhnServerArch.sql\n    modified:   schema/spacewalk/common/data/rhnServerChannelArchCompat.sql\n    modified:   schema/spacewalk/common/data/rhnServerPackageArchCompat.sql\n    modified:   schema/spacewalk/common/data/rhnServerServerGroupArchCompat.sql\n    modified:   schema/spacewalk/susemanager-schema.changes\n    new file:   schema/spacewalk/upgrade/susemanager-schema-4.2.0-to-susemanager-schema-4.2.1/120-arm64.sql\n\nGUI diff\nNo difference.\nBefore:\nAfter:\n\n DONE\n\nDocumentation\n\n\nNo documentation needed: add explanation. This can't be used if there is a GUI diff\n\n\nDocumentation issue was created: Link for SUSE Manager contributors, Link for community contributors.\n\n\n(OPTIONAL) Documentation PR\n\n\n DONE\n\n\nTest coverage\n\n\nNo tests: add explanation\n\n\nUnit tests were added\n\n\nCucumber tests were added\n\n\n DONE\n\n\nLinks\nIssue #2548\nTracks # add downstream PR, if any\n\n DONE\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-09-01T14:41:53Z", "url": "https://github.com/uyuni-project/uyuni/pull/2549", "merged": true, "mergeCommit": {"oid": "580c94c312beac3548fc2f8c6428a212f4add3dc"}, "closed": true, "closedAt": "2020-09-21T16:41:46Z", "author": {"login": "Shirocco88"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEo-c-gBqjM3MTU0ODE2NDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLGJN5AFqTQ5Mjc5NTUxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "695fbbaad705f9194e664071ec1a4db7379ccff8", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/695fbbaad705f9194e664071ec1a4db7379ccff8", "committedDate": "2020-09-01T14:52:58Z", "message": "Changelog"}, "afterCommit": {"oid": "104092c35ac4dcd363aebf2f43d098a12be95eb9", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/104092c35ac4dcd363aebf2f43d098a12be95eb9", "committedDate": "2020-09-01T15:16:41Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "104092c35ac4dcd363aebf2f43d098a12be95eb9", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/104092c35ac4dcd363aebf2f43d098a12be95eb9", "committedDate": "2020-09-01T15:16:41Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/9b0a583f27d5e2df0215eda178600edd1f0a6b16", "committedDate": "2020-09-01T16:52:37Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5OTYzMDM3", "url": "https://github.com/uyuni-project/uyuni/pull/2549#pullrequestreview-479963037", "createdAt": "2020-09-01T17:23:11Z", "commit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzoyMzoxMVrOHLA08Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzoyMzoxMVrOHLA08Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMwOTkzNw==", "bodyText": "I don't really understand, why do we need it commented?", "url": "https://github.com/uyuni-project/uyuni/pull/2549#discussion_r481309937", "createdAt": "2020-09-01T17:23:11Z", "author": {"login": "juliogonzalez"}, "path": "schema/spacewalk/common/data/rhnPackageUpgradeArchCompat.sql", "diffHunk": "@@ -144,4 +144,9 @@ insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_i\n insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) values (LOOKUP_PACKAGE_ARCH('amd64-deb'), LOOKUP_PACKAGE_ARCH('all-deb'), current_timestamp, current_timestamp);\n insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) values (LOOKUP_PACKAGE_ARCH('amd64-deb'), LOOKUP_PACKAGE_ARCH('amd64-deb'), current_timestamp, current_timestamp);\n insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) values (LOOKUP_PACKAGE_ARCH('all-deb'), LOOKUP_PACKAGE_ARCH('amd64-deb'), current_timestamp, current_timestamp);\n+insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) values (LOOKUP_PACKAGE_ARCH('arm64-deb'), LOOKUP_PACKAGE_ARCH('all-deb'), current_timestamp, current_timestamp);\n+-- insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) values (LOOKUP_PACKAGE_ARCH('arm64-deb'), LOOKUP_PACKAGE_ARCH('arm64-deb'), current_timestamp, current_timestamp);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5OTYzMjE3", "url": "https://github.com/uyuni-project/uyuni/pull/2549#pullrequestreview-479963217", "createdAt": "2020-09-01T17:23:27Z", "commit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzoyMzoyN1rOHLA1kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzoyMzoyN1rOHLA1kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxMDA5Ng==", "bodyText": "Same: why do we need it commented?", "url": "https://github.com/uyuni-project/uyuni/pull/2549#discussion_r481310096", "createdAt": "2020-09-01T17:23:27Z", "author": {"login": "juliogonzalez"}, "path": "schema/spacewalk/upgrade/susemanager-schema-4.2.0-to-susemanager-schema-4.2.1/120-arm64.sql", "diffHunk": "@@ -0,0 +1,96 @@\n+insert into rhnCpuArch (id, label, name) select\n+sequence_nextval('rhn_cpu_arch_id_seq'), 'arm64', 'ARM64' from dual\n+where not exists (select 1 from rhnCpuArch where label = 'arm64');\n+\n+\n+insert into rhnPackageArch (id, label, name, arch_type_id) select\n+sequence_nextval('rhn_package_arch_id_seq'), 'arm64-deb', 'ARM64-deb', lookup_arch_type('deb') from dual\n+where not exists (select 1 from rhnPackageArch where label = 'arm64-deb');\n+\n+\n+insert into rhnServerArch (id, label, name, arch_type_id) select\n+sequence_nextval('rhn_server_arch_id_seq'), 'arm64-debian-linux', 'ARM64 Debian', lookup_arch_type('deb') from dual\n+where not exists (select 1 from rhnServerArch where label = 'arm64-debian-linux');\n+\n+\n+insert into rhnChannelArch (id, label, name, arch_type_id) select\n+sequence_nextval('rhn_channel_arch_id_seq'), 'channel-arm64-deb', 'ARM64 Debian', lookup_arch_type('deb') from dual\n+where not exists (select 1 from rhnChannelArch where label = 'channel-arm64-deb');\n+\n+\n+insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) select \n+LOOKUP_PACKAGE_ARCH('arm64-deb'), LOOKUP_PACKAGE_ARCH('all-deb'), current_timestamp, current_timestamp from dual\n+where not exists (select 1 from rhnPackageUpgradeArchCompat where package_arch_id = LOOKUP_PACKAGE_ARCH('arm64-deb') and package_upgrade_arch_id = LOOKUP_PACKAGE_ARCH('all-deb'));\n+\n+-- insert into rhnPackageUpgradeArchCompat (package_arch_id, package_upgrade_arch_id, created, modified) select ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b0a583f27d5e2df0215eda178600edd1f0a6b16", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/9b0a583f27d5e2df0215eda178600edd1f0a6b16", "committedDate": "2020-09-01T16:52:37Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "9b8add88e9886b9d0ac1f86720ed630da6999454", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/9b8add88e9886b9d0ac1f86720ed630da6999454", "committedDate": "2020-09-01T19:05:41Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b8add88e9886b9d0ac1f86720ed630da6999454", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/9b8add88e9886b9d0ac1f86720ed630da6999454", "committedDate": "2020-09-01T19:05:41Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "33435eaffb82567e2f5da82205e0452d9397d7ce", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/33435eaffb82567e2f5da82205e0452d9397d7ce", "committedDate": "2020-09-02T08:26:25Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyMDAwNTY0", "url": "https://github.com/uyuni-project/uyuni/pull/2549#pullrequestreview-492000564", "createdAt": "2020-09-19T14:00:03Z", "commit": {"oid": "33435eaffb82567e2f5da82205e0452d9397d7ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33435eaffb82567e2f5da82205e0452d9397d7ce", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/33435eaffb82567e2f5da82205e0452d9397d7ce", "committedDate": "2020-09-02T08:26:25Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "63671977bf63790bc66917646f43cec741745fe8", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/63671977bf63790bc66917646f43cec741745fe8", "committedDate": "2020-09-21T11:52:09Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63671977bf63790bc66917646f43cec741745fe8", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/63671977bf63790bc66917646f43cec741745fe8", "committedDate": "2020-09-21T11:52:09Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "944d9536783fdb8efb2caa9c45fa9ae279abb9fa", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/944d9536783fdb8efb2caa9c45fa9ae279abb9fa", "committedDate": "2020-09-21T12:03:39Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "944d9536783fdb8efb2caa9c45fa9ae279abb9fa", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/944d9536783fdb8efb2caa9c45fa9ae279abb9fa", "committedDate": "2020-09-21T12:03:39Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "8a5e0138d4fca49850ddc254bf06bc458ba69f67", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/8a5e0138d4fca49850ddc254bf06bc458ba69f67", "committedDate": "2020-09-21T12:46:14Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNzM1NDg5", "url": "https://github.com/uyuni-project/uyuni/pull/2549#pullrequestreview-492735489", "createdAt": "2020-09-21T15:29:36Z", "commit": {"oid": "8a5e0138d4fca49850ddc254bf06bc458ba69f67"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNToyOTozNlrOHVWqIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNToyOTozNlrOHVWqIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE1MzM3OA==", "bodyText": "No, this is not right.\nJust add your entry after on top of the file, then an empty line.\nThe headers and the version change are added by the Release Engineer (me, in this case) with tito tag.", "url": "https://github.com/uyuni-project/uyuni/pull/2549#discussion_r492153378", "createdAt": "2020-09-21T15:29:36Z", "author": {"login": "juliogonzalez"}, "path": "schema/spacewalk/susemanager-schema.changes", "diffHunk": "@@ -1,4 +1,9 @@\n -------------------------------------------------------------------\n+Mon Sep 21 14:00:22 CEST 2020 - shirocco88\n+\n+- version 4.2.1-2\n+- Schema upgrade for Debian with ARM64v8+ (cpuach=aarch64, cpuarch=arm64) architecture", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a5e0138d4fca49850ddc254bf06bc458ba69f67"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91cd02c873c4ebc76103f3b0ad1d119df07425bd", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/91cd02c873c4ebc76103f3b0ad1d119df07425bd", "committedDate": "2020-09-21T16:12:31Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a5e0138d4fca49850ddc254bf06bc458ba69f67", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/8a5e0138d4fca49850ddc254bf06bc458ba69f67", "committedDate": "2020-09-21T12:46:14Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}, "afterCommit": {"oid": "91cd02c873c4ebc76103f3b0ad1d119df07425bd", "author": {"user": {"login": "Shirocco88", "name": null}}, "url": "https://github.com/uyuni-project/uyuni/commit/91cd02c873c4ebc76103f3b0ad1d119df07425bd", "committedDate": "2020-09-21T16:12:31Z", "message": "DB schema extension for Debian10-Minions on cpuarch=aarch64,osarch=arm64"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNzk1NTE3", "url": "https://github.com/uyuni-project/uyuni/pull/2549#pullrequestreview-492795517", "createdAt": "2020-09-21T16:39:54Z", "commit": {"oid": "91cd02c873c4ebc76103f3b0ad1d119df07425bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1130, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}