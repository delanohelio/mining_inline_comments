{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNDgzOTE0", "number": 1771, "title": "Testsuite - debug selected formulas", "bodyText": "What does this PR change?\nThis PR adds debug code to see status of selected formulas at formulas page. PR limits output to table with formulas content only.\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)\nRe-run a test\nIf you need to re-run a test, please mark the related checkbox, it will be unchecked automatically once it has re-run:\n\n Re-run test \"changelog_test\"\n Re-run test \"backend_unittests_pgsql\"\n Re-run test \"java_lint_checkstyle\"\n Re-run test \"java_pgsql_tests\"\n Re-run test \"ruby_rubocop\"\n Re-run test \"schema_migration_test_oracle\"\n Re-run test \"schema_migration_test_pgsql\"\n Re-run test \"susemanager_unittests\"\n Re-run test \"javascript_lint\"\n Re-run test \"spacecmd_unittests\"", "createdAt": "2020-01-08T14:24:37Z", "url": "https://github.com/uyuni-project/uyuni/pull/1771", "merged": true, "mergeCommit": {"oid": "b3a64f8c4bbd3780c0adff1bb1d8e1412508693e"}, "closed": true, "closedAt": "2020-01-08T14:51:04Z", "author": {"login": "lkotek"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4WMufAFqTMzOTg5NzU3MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4WhEPgFqTMzOTkxMjc4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5ODk3NTcx", "url": "https://github.com/uyuni-project/uyuni/pull/1771#pullrequestreview-339897571", "createdAt": "2020-01-08T14:26:30Z", "commit": {"oid": "b9411e33c0a4f69ae3332c185d063d40a41069c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "committedDate": "2020-01-08T14:29:37Z", "message": "testsuite debug selected formulas"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b9411e33c0a4f69ae3332c185d063d40a41069c7", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/b9411e33c0a4f69ae3332c185d063d40a41069c7", "committedDate": "2020-01-08T14:21:06Z", "message": "testsuite debug selected formulas"}, "afterCommit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "author": {"user": null}, "url": "https://github.com/uyuni-project/uyuni/commit/d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "committedDate": "2020-01-08T14:29:37Z", "message": "testsuite debug selected formulas"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5OTAzOTg0", "url": "https://github.com/uyuni-project/uyuni/pull/1771#pullrequestreview-339903984", "createdAt": "2020-01-08T14:36:14Z", "commit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDozNjoxNVrOFbYv-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDozNjoxNVrOFbYv-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2MTM3MQ==", "bodyText": "I don't get what's the difference of content between the find('#chooseFormulas')['innerHTML'] before and after the if.\nThat if can happen immediately after the first puts if the condition is true, so we will have duplicate info \ud83e\udd14", "url": "https://github.com/uyuni-project/uyuni/pull/1771#discussion_r364261371", "createdAt": "2020-01-08T14:36:15Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/step_definitions/salt_steps.rb", "diffHunk": "@@ -279,11 +279,14 @@\n   # Complicated code because the checkbox is not a <input type=checkbox> but an <i>\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-square-o']\" if action == 'check'\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-check-square-o']\" if action == 'uncheck'\n+  puts \"Selected formulas [beginning]:\\n#{find('#chooseFormulas')['innerHTML']}\"\n   if all(:xpath, xpath_query, wait: DEFAULT_TIMEOUT).any?\n+    puts \"Selected formulas [if]:\\n#{find('#chooseFormulas')['innerHTML']}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5OTA5Njgz", "url": "https://github.com/uyuni-project/uyuni/pull/1771#pullrequestreview-339909683", "createdAt": "2020-01-08T14:44:29Z", "commit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5OTEyNzgy", "url": "https://github.com/uyuni-project/uyuni/pull/1771#pullrequestreview-339912782", "createdAt": "2020-01-08T14:48:43Z", "commit": {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1710, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}