{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4MzU5MDQx", "number": 2744, "title": "Testsuite: Add test for salt minion ssh push via tunnel", "bodyText": "What does this PR change?\nAdd a test for SSH push via tunnel (Salt minion)\nAfter botstrap it, install/remove a package on it and\nrun a remote command.\n\n\nfeatures/core/srv_create_activationkey.feature:\nCreate a test key for SSH push via tunnel.\n\n\ntestsuite/features/secondary/min_ssh_tunnel.feature:\nNew test.\n\n\ntestsuite/run_sets/secondary.yml:\nAdd it to the secondary stage.\n\n\ntestsuite/features/support/twopence_init.rb:\nAdd label 'sle_ssh_tunnel_minion'.\n\n\ntestsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n\ntestsuite/features/secondary/trad_ssh_push.feature:\nDo not create new keys for ssh/ssh-tunnel, use the existent ones.\n\n\nLinks\nhttps://github.com/SUSE/spacewalk/issues/11427\nPorts\n\nManager-4.0: https://github.com/SUSE/spacewalk/pull/12839\nManager-4.1: https://github.com/SUSE/spacewalk/pull/12838\n\nChangelogs\nIf you don't need a changelog check, please mark this checkbox:\n\n No changelog needed\n\nIf you uncheck the checkbox after the PR is created, you will need to re-run changelog_test (see below)", "createdAt": "2020-10-22T15:01:33Z", "url": "https://github.com/uyuni-project/uyuni/pull/2744", "merged": true, "mergeCommit": {"oid": "5206bfbdda49027cffbbd97f17be91a0bd8bb871"}, "closed": true, "closedAt": "2020-10-23T10:12:38Z", "author": {"login": "calancha"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVDhumAFqTUxNDg0MTk5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVULbrAFqTUxNTU0ODM2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQxOTk5", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514841999", "createdAt": "2020-10-22T15:16:12Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxNjoxMlrOHmm7Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxNjoxMlrOHmm7Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0NTYzOQ==", "bodyText": "I would prefer to use the same naming everywhere, not sure which is the better one, I would say \"via SSH Tunnel\" ?", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510245639", "createdAt": "2020-10-22T15:16:12Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQzOTM0", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514843934", "createdAt": "2020-10-22T15:18:13Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxODoxM1rOHmnAsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxODoxM1rOHmnAsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0NzA4OA==", "bodyText": "for push via ssh tunnel maybe?", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510247088", "createdAt": "2020-10-22T15:18:13Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQ1MDM4", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514845038", "createdAt": "2020-10-22T15:19:19Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxOToxOVrOHmnD4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxOToxOVrOHmnD4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0NzkwNw==", "bodyText": ":D Definitely we need to find a unique name to describe that kind of test", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510247907", "createdAt": "2020-10-22T15:19:19Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text\n+    And I am on the System Overview page\n+    And I wait until I see the name of \"sle_minion\", refreshing the page\n+    And I wait until onboarding is completed for \"sle_minion\"\n+\n+  Scenario: Check this minion's contact method\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    Then I should see a \"Push via SSH tunnel\" text\n+\n+  Scenario: Cleanup: delete the SSH push tunnel minion\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Cleanup: register a salt minion after SSH push tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQ2MTMw", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514846130", "createdAt": "2020-10-22T15:20:21Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMDoyMlrOHmnHTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMDoyMlrOHmnHTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0ODc4MA==", "bodyText": "I would use a more unique name for that scenario, as one of our agreements is not repeat scenario names, and in this case can be too generic.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510248780", "createdAt": "2020-10-22T15:20:22Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text\n+    And I am on the System Overview page\n+    And I wait until I see the name of \"sle_minion\", refreshing the page\n+    And I wait until onboarding is completed for \"sle_minion\"\n+\n+  Scenario: Check this minion's contact method", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQ2NTM4", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514846538", "createdAt": "2020-10-22T15:20:46Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMDo0NlrOHmnIbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMDo0NlrOHmnIbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0OTA3MQ==", "bodyText": "When", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510249071", "createdAt": "2020-10-22T15:20:46Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQ2ODIx", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514846821", "createdAt": "2020-10-22T15:21:03Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMTowM1rOHmnJSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMTowM1rOHmnJSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0OTI5MQ==", "bodyText": "Then", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510249291", "createdAt": "2020-10-22T15:21:03Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQ3Nzgy", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514847782", "createdAt": "2020-10-22T15:22:02Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMjowMlrOHmnMTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToyMjowMlrOHmnMTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI1MDA2MQ==", "bodyText": "Do we really need those two steps? Maybe is enough with the last step I wait until onboarding is completed for \"sle_minion\"", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510250061", "createdAt": "2020-10-22T15:22:02Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text\n+    And I am on the System Overview page\n+    And I wait until I see the name of \"sle_minion\", refreshing the page", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0OTI1MjMw", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514925230", "createdAt": "2020-10-22T16:44:32Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "APPROVED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNjo0NDozMlrOHmqx-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNjo1MjozNlrOHmrGEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMwODg1Nw==", "bodyText": "Please  Copyright (c) 2010-2020 SUSE LLC on top of file.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510308857", "createdAt": "2020-10-22T16:44:32Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/core/srv_create_activationkey.feature", "diffHunk": "@@ -119,3 +119,15 @@ Feature: Be able to create and manipulate activation keys\n     And I select \"Push via SSH\" from \"contact-method\"\n     And I click on \"Create Activation Key\"\n     Then I should see a \"Activation key SUSE SSH Test Key x86_64 has been created\" text\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMTIyNg==", "bodyText": "We had a convention (introduced by Dario Maiocchi) to always use a minion name that reflects client's role. In this case \"sle_minion\" would also be called \"sle_reverse_ssh_minion\" or something alike.\nI'm not a big fan of this convention and we could also drop it alltogether, but then we need to also remove it at the other places.\nIf not, we need to conform to it.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510311226", "createdAt": "2020-10-22T16:48:07Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMTYwNA==", "bodyText": "via SSH tunnel then (capital, it's the protocol)", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510311604", "createdAt": "2020-10-22T16:48:45Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0NzA4OA=="}, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMjA1Ng==", "bodyText": "Not necessarily. This is an action (to wait). But ok.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510312056", "createdAt": "2020-10-22T16:49:27Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_minion\"\n+    Then \"sle_minion\" should not be registered\n+\n+  Scenario: Register this minion for SSH push via tunnel\n+    Given I am authorized\n+    And I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0OTI5MQ=="}, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMzE5NQ==", "bodyText": "what is \"ssh-reverse\" ? the name of a program?\nIf it's just \"SSH reverse\", then no dash, and use capital letters for protocol name.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510313195", "createdAt": "2020-10-22T16:51:15Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/min_ssh_push.feature", "diffHunk": "@@ -0,0 +1,48 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH push\n+\n+  Scenario: Delete the salt minion for ssh-reverse bootstrap", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMzgyNQ==", "bodyText": "nice catch.\n(SSH reverse ?)", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510313825", "createdAt": "2020-10-22T16:52:16Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/trad_ssh_push.feature", "diffHunk": "@@ -3,36 +3,16 @@\n \n Feature: Register a traditional system to be managed via SSH push\n \n-  Scenario: Delete the traditional client for ssh-reverse bootrap\n+  Scenario: Delete the traditional client for ssh-reverse bootstrap", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxNDAwMg==", "bodyText": "nice catch.", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510314002", "createdAt": "2020-10-22T16:52:36Z", "author": {"login": "Bischoff"}, "path": "testsuite/features/secondary/trad_ssh_push.feature", "diffHunk": "@@ -3,36 +3,16 @@\n \n Feature: Register a traditional system to be managed via SSH push\n \n-  Scenario: Delete the traditional client for ssh-reverse bootrap\n+  Scenario: Delete the traditional client for ssh-reverse bootstrap\n     Given I am on the Systems overview page of this \"sle_client\"\n     When I follow \"Delete System\"\n     Then I should see a \"Confirm System Profile Deletion\" text\n     When I click on \"Delete Profile\"\n     And I wait until I see \"has been deleted\" text\n     Then \"sle_client\" should not be registered\n \n-  Scenario: Create an activation key for SSH push\n-    Given I am on the Systems page\n-    When I follow the left menu \"Systems > Activation Keys\"\n-    And I follow \"Create Key\"\n-    And I enter \"SSH push key\" as \"description\"\n-    And I enter \"ssh-push\" as \"key\"\n-    And I select \"Push via SSH\" from \"contact-method\"\n-    And I click on \"Create Activation Key\"\n-    Then I should see a \"Activation key SSH push key has been created.\" text\n-\n-  Scenario: Create an activation key for SSH push via tunnel\n-    Given I am on the Systems page\n-    When I follow the left menu \"Systems > Activation Keys\"\n-    And I follow \"Create Key\"\n-    And I enter \"SSH push via tunnel key\" as \"description\"\n-    And I enter \"ssh-push-tunnel\" as \"key\"\n-    And I select \"Push via SSH tunnel\" from \"contact-method\"\n-    And I click on \"Create Activation Key\"\n-    Then I should see a \"Activation key SSH push via tunnel key has been created.\" text\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0OTY3MDc2", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-514967076", "createdAt": "2020-10-22T17:35:59Z", "commit": {"oid": "da0153d78d303e00ee375ab792e3c6af786c9bd5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "853043fc5cb2aba6f185931c84d8ff576d025498", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/853043fc5cb2aba6f185931c84d8ff576d025498", "committedDate": "2020-10-23T08:17:12Z", "message": "Add label sle_push_minion\n\nApply several tweaks: adjust scenario names and Gherkin syntaxis"}, "afterCommit": {"oid": "1501fefb0189dd38eb14cdca8331d8bc8e0a1c39", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1501fefb0189dd38eb14cdca8331d8bc8e0a1c39", "committedDate": "2020-10-23T09:24:13Z", "message": "Add label sle_push_minion\n\nApply several tweaks: adjust scenario names and Gherkin syntaxis"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDk1NjA3", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-515495607", "createdAt": "2020-10-23T09:25:57Z", "commit": {"oid": "1501fefb0189dd38eb14cdca8331d8bc8e0a1c39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NTAyNjgy", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-515502682", "createdAt": "2020-10-23T09:35:00Z", "commit": {"oid": "1501fefb0189dd38eb14cdca8331d8bc8e0a1c39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc9297be768446a941a98b6531348c3e3c9bf5c1", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/cc9297be768446a941a98b6531348c3e3c9bf5c1", "committedDate": "2020-10-23T09:42:35Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel_push.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion."}, "afterCommit": {"oid": "144d4a55b0f98ea8a5e490460f59addfe053b669", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/144d4a55b0f98ea8a5e490460f59addfe053b669", "committedDate": "2020-10-23T09:49:37Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "144d4a55b0f98ea8a5e490460f59addfe053b669", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/144d4a55b0f98ea8a5e490460f59addfe053b669", "committedDate": "2020-10-23T09:49:37Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}, "afterCommit": {"oid": "1d9d7bb38d6e7ece9ba7a25c145f1a7c751cd758", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1d9d7bb38d6e7ece9ba7a25c145f1a7c751cd758", "committedDate": "2020-10-23T09:57:07Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d9d7bb38d6e7ece9ba7a25c145f1a7c751cd758", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1d9d7bb38d6e7ece9ba7a25c145f1a7c751cd758", "committedDate": "2020-10-23T09:57:07Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}, "afterCommit": {"oid": "baff79177159d91db2c9b776001474e35098441f", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/baff79177159d91db2c9b776001474e35098441f", "committedDate": "2020-10-23T09:59:51Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1916b4c13a3e1081a75969f7f5f8d9a960479e4b", "committedDate": "2020-10-23T10:04:57Z", "message": "Testsuite: Add test for salt minion ssh push via tunnel\n\nAfter botstrap it, install/remove a package on it and\nrun a remote command.\n- features/core/srv_create_activationkey.feature:\nCreate a test key for SSH push via tunnel.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nNew test.\n- testsuite/run_sets/secondary.yml:\nAdd it to the secondary stage.\n\n- testsuite/features/support/twopence_init.rb:\nAdd label 'sle_ssh_tunnel_minion'.\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_push.feature:\nDo not create new keys for ssh/ssh-tunnel, use the existent ones."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "baff79177159d91db2c9b776001474e35098441f", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/baff79177159d91db2c9b776001474e35098441f", "committedDate": "2020-10-23T09:59:51Z", "message": "Rename feature file\n\n- testsuite/features/secondary/min_ssh_tunnel.feature\nRenamed from min_ssh_push.feature.\nRename the label from sle_push_minion to sle_ssh_tunnel_minion.\n\n- testsuite/run_sets/secondary.yml: Update file name."}, "afterCommit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b", "author": {"user": {"login": "calancha", "name": "Tino Calancha"}}, "url": "https://github.com/uyuni-project/uyuni/commit/1916b4c13a3e1081a75969f7f5f8d9a960479e4b", "committedDate": "2020-10-23T10:04:57Z", "message": "Testsuite: Add test for salt minion ssh push via tunnel\n\nAfter botstrap it, install/remove a package on it and\nrun a remote command.\n- features/core/srv_create_activationkey.feature:\nCreate a test key for SSH push via tunnel.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nNew test.\n- testsuite/run_sets/secondary.yml:\nAdd it to the secondary stage.\n\n- testsuite/features/support/twopence_init.rb:\nAdd label 'sle_ssh_tunnel_minion'.\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_push.feature:\nDo not create new keys for ssh/ssh-tunnel, use the existent ones."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NTQ4MjQ5", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-515548249", "createdAt": "2020-10-23T10:40:06Z", "commit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMDo0MDowNlrOHnIeHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMDo0MDowNlrOHnIeHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDc5NTI5NA==", "bodyText": "No need to fix.. but just so you are aware, maybe here we should also say SSH tunnel minion", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510795294", "createdAt": "2020-10-23T10:40:06Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_tunnel.feature", "diffHunk": "@@ -0,0 +1,86 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH tunnel\n+\n+  Scenario: Delete the salt minion for SSH reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_ssh_tunnel_minion\"\n+    Then \"sle_ssh_tunnel_minion\" should not be registered\n+\n+  Scenario: Register this minion for push via SSH tunnel\n+    Given I am authorized\n+    When I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_ssh_tunnel_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text\n+    And I wait until onboarding is completed for \"sle_ssh_tunnel_minion\"\n+\n+  Scenario: The contact method is SSH tunnel on this minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    Then I should see a \"Push via SSH tunnel\" text\n+\n+  Scenario: Install a package from this SSH tunnel minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    When I follow \"Software\" in the content area\n+    And I follow \"Install\"\n+    And I enter \"milkyway-dummy\" as the filtered package name\n+    And I click on the filter button\n+    And I check \"milkyway-dummy\" in the list\n+    And I click on \"Install Selected Packages\"\n+    And I click on \"Confirm\"\n+    Then I should see a \"1 package install has been scheduled for\" text\n+    When I force picking pending events on \"sle_ssh_tunnel_minion\" if necessary\n+    Then I wait until event \"Package Install/Upgrade scheduled by admin\" is completed\n+\n+  Scenario: Remove a package from this SSH tunnel minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    And I follow \"Software\" in the content area\n+    And I follow \"List / Remove\"\n+    And I enter \"milkyway-dummy\" as the filtered package name\n+    And I click on the filter button\n+    And I check \"milkyway-dummy\" in the list\n+    And I click on \"Remove Packages\"\n+    And I click on \"Confirm\"\n+    Then I should see a \"1 package removal has been scheduled\" text\n+    When I force picking pending events on \"sle_ssh_tunnel_minion\" if necessary\n+    Then I wait until event \"Package Removal scheduled by admin\" is completed\n+\n+  Scenario: Run a remote command on this SSH reverse minion\n+    Given I am authorized as \"testing\" with password \"testing\"\n+    When I follow the left menu \"Salt > Remote Commands\"\n+    Then I should see a \"Remote Commands\" text in the content area\n+    When I enter command \"echo 'My remote command output'\"\n+    And I enter the hostname of \"sle_ssh_tunnel_minion\" as \"target\"\n+    And I click on preview\n+    Then I should see a \"Target systems (1)\" text\n+    When I wait until I do not see \"pending\" text\n+    And I click on run\n+    And I wait until I see \"show response\" text\n+    And I expand the results for \"sle_ssh_tunnel_minion\"\n+    Then I should see \"My remote command output\" in the command output for \"sle_ssh_tunnel_minion\"\n+\n+  Scenario: Cleanup: delete the SSH push tunnel minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    Then \"sle_ssh_tunnel_minion\" should not be registered\n+\n+  Scenario: Cleanup: register a salt minion after SSH push tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NTQ4MzYy", "url": "https://github.com/uyuni-project/uyuni/pull/2744#pullrequestreview-515548362", "createdAt": "2020-10-23T10:40:14Z", "commit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMDo0MDoxNFrOHnIeXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMDo0MDoxNFrOHnIeXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDc5NTM1Nw==", "bodyText": "No need to fix.. but just so you are aware, maybe here we should also say SSH tunnel minion", "url": "https://github.com/uyuni-project/uyuni/pull/2744#discussion_r510795357", "createdAt": "2020-10-23T10:40:14Z", "author": {"login": "srbarrios"}, "path": "testsuite/features/secondary/min_ssh_tunnel.feature", "diffHunk": "@@ -0,0 +1,86 @@\n+# Copyright (c) 2020 SUSE LLC\n+# Licensed under the terms of the MIT license.\n+\n+Feature: Register a salt system to be managed via SSH tunnel\n+\n+  Scenario: Delete the salt minion for SSH reverse bootstrap\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    When I follow \"Delete System\"\n+    Then I should see a \"Confirm System Profile Deletion\" text\n+    When I click on \"Delete Profile\"\n+    And I wait until I see \"has been deleted\" text\n+    And I cleanup minion \"sle_ssh_tunnel_minion\"\n+    Then \"sle_ssh_tunnel_minion\" should not be registered\n+\n+  Scenario: Register this minion for push via SSH tunnel\n+    Given I am authorized\n+    When I go to the bootstrapping page\n+    Then I should see a \"Bootstrap Minions\" text\n+    And I enter the hostname of \"sle_ssh_tunnel_minion\" as \"hostname\"\n+    And I enter \"22\" as \"port\"\n+    And I enter \"root\" as \"user\"\n+    And I enter \"linux\" as \"password\"\n+    And I select \"1-SUSE-SSH-TUNNEL-DEV-x86_64\" from \"activationKeys\"\n+    And I select the hostname of \"proxy\" from \"proxies\"\n+    And I check \"manageWithSSH\"\n+    And I click on \"Bootstrap\"\n+    And I wait until I see \"Successfully bootstrapped host!\" text\n+    And I wait until onboarding is completed for \"sle_ssh_tunnel_minion\"\n+\n+  Scenario: The contact method is SSH tunnel on this minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    Then I should see a \"Push via SSH tunnel\" text\n+\n+  Scenario: Install a package from this SSH tunnel minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    When I follow \"Software\" in the content area\n+    And I follow \"Install\"\n+    And I enter \"milkyway-dummy\" as the filtered package name\n+    And I click on the filter button\n+    And I check \"milkyway-dummy\" in the list\n+    And I click on \"Install Selected Packages\"\n+    And I click on \"Confirm\"\n+    Then I should see a \"1 package install has been scheduled for\" text\n+    When I force picking pending events on \"sle_ssh_tunnel_minion\" if necessary\n+    Then I wait until event \"Package Install/Upgrade scheduled by admin\" is completed\n+\n+  Scenario: Remove a package from this SSH tunnel minion\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_minion\"\n+    And I follow \"Software\" in the content area\n+    And I follow \"List / Remove\"\n+    And I enter \"milkyway-dummy\" as the filtered package name\n+    And I click on the filter button\n+    And I check \"milkyway-dummy\" in the list\n+    And I click on \"Remove Packages\"\n+    And I click on \"Confirm\"\n+    Then I should see a \"1 package removal has been scheduled\" text\n+    When I force picking pending events on \"sle_ssh_tunnel_minion\" if necessary\n+    Then I wait until event \"Package Removal scheduled by admin\" is completed\n+\n+  Scenario: Run a remote command on this SSH reverse minion", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1916b4c13a3e1081a75969f7f5f8d9a960479e4b"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 917, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}