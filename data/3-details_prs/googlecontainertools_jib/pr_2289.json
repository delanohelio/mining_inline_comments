{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0Mzg3MTU3", "number": 2289, "title": "Do not overwrite Gradle task dependencies", "bodyText": "This fixes a bug where user-configured task dependencies (tasks.jib.dependsOn '...' immediately after jib {} section) are overwritten by the plugin.", "createdAt": "2020-02-12T15:57:02Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2289", "merged": true, "mergeCommit": {"oid": "3e53c5bb290ae4b80751932ce9c10028df564aaa"}, "closed": true, "closedAt": "2020-02-12T22:16:27Z", "author": {"login": "lightoze"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDoYHgAH2gAyMzc0Mzg3MTU3OmY1MTdkZWMyZDA4NTAyMjQxMTRjOGVkOTM0YjJjYTNiMzEwMzk4Y2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDrUq4gFqTM1NzcxODE4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f517dec2d0850224114c8ed934b2ca3b310398cb", "author": {"user": {"login": "lightoze", "name": "Vladimir Kulev"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/f517dec2d0850224114c8ed934b2ca3b310398cb", "committedDate": "2020-02-12T15:50:24Z", "message": "Do not overwrite Gradle task dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NTg2NTI5", "url": "https://github.com/GoogleContainerTools/jib/pull/2289#pullrequestreview-357586529", "createdAt": "2020-02-12T16:13:44Z", "commit": {"oid": "f517dec2d0850224114c8ed934b2ca3b310398cb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjoxMzo0NFrOFo091g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjoxMzo0NFrOFo091g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM1NTE1OA==", "bodyText": "Question: does task.dependsOn(jibDependencies) not work? (dependsOn() accepts Object..., but I am not actually sure if passing List<TaskProvider<Task>> will work as intended.)", "url": "https://github.com/GoogleContainerTools/jib/pull/2289#discussion_r378355158", "createdAt": "2020-02-12T16:13:44Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/JibPlugin.java", "diffHunk": "@@ -208,7 +208,7 @@ public void apply(Project project) {\n           jibDependencies.add(mainSourceSet.getRuntimeClasspath());\n \n           jibTaskProviders.forEach(\n-              provider -> provider.configure(task -> task.setDependsOn(jibDependencies)));\n+              provider -> provider.configure(task -> jibDependencies.forEach(task::dependsOn)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f517dec2d0850224114c8ed934b2ca3b310398cb"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NzE4MTgw", "url": "https://github.com/GoogleContainerTools/jib/pull/2289#pullrequestreview-357718180", "createdAt": "2020-02-12T19:16:22Z", "commit": {"oid": "f517dec2d0850224114c8ed934b2ca3b310398cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 350, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}