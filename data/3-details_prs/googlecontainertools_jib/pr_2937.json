{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3MjQwMjgw", "number": 2937, "title": "Add GitHub Actions for Jib CLI release", "bodyText": "We need to upload an archive containing all the JAR files, but I think this is a good starting point.", "createdAt": "2020-12-11T18:21:18Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2937", "merged": true, "mergeCommit": {"oid": "3f279a3ccb92774a3278b10cabaff8e8802408b8"}, "closed": true, "closedAt": "2020-12-14T15:57:38Z", "author": {"login": "chanseokoh"}, "timelineItems": {"totalCount": 44, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk6iZBAH2gAyNTM3MjQwMjgwOjZkMTAxMTA0NDU2NjE0MTRjOWVlZjA3Yjc5ODAzMzhkMmY1MDY3Yzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdl9FpygFqTU1MTAxOTUxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d10110445661414c9eef07b7980338d2f5067c9", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/6d10110445661414c9eef07b7980338d2f5067c9", "committedDate": "2020-12-10T21:50:34Z", "message": "initial release workflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "182936dfa4affb8b485605b3d01bbe8cbd91ba32", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/182936dfa4affb8b485605b3d01bbe8cbd91ba32", "committedDate": "2020-12-10T21:53:59Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1bbca7300c280e84371f141383c149c9065d819", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/c1bbca7300c280e84371f141383c149c9065d819", "committedDate": "2020-12-10T22:00:02Z", "message": "Rename job"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7508b92b2f3079e4afe825726658dd45f20d75ec", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/7508b92b2f3079e4afe825726658dd45f20d75ec", "committedDate": "2020-12-10T22:10:10Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "933556eeb92bf48bc69796d6ba331e6f6b8eb464", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/933556eeb92bf48bc69796d6ba331e6f6b8eb464", "committedDate": "2020-12-10T22:29:00Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d6d474a7745a4790c3be6bb363acea0b9c97740", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/7d6d474a7745a4790c3be6bb363acea0b9c97740", "committedDate": "2020-12-10T22:29:50Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42b8bd59574fba3c9e84b251f25c47a50e53b5aa", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/42b8bd59574fba3c9e84b251f25c47a50e53b5aa", "committedDate": "2020-12-10T22:40:09Z", "message": "Merge pull request #1 from chanseokoh/cli_release_v0.1.0\n\njib-cli/build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f314faec61c23be3bc61e22a281093fa44e7e9f", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/8f314faec61c23be3bc61e22a281093fa44e7e9f", "committedDate": "2020-12-10T22:43:53Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae180abfd061544e8769263e6dec186dfcbd01cc", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/ae180abfd061544e8769263e6dec186dfcbd01cc", "committedDate": "2020-12-10T22:50:13Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bbb20e918f210f8086059dc995c9469d0dbd611", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/0bbb20e918f210f8086059dc995c9469d0dbd611", "committedDate": "2020-12-10T23:12:01Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79ffd23353740b4ce4a33b4b59d15c0c866d6580", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/79ffd23353740b4ce4a33b4b59d15c0c866d6580", "committedDate": "2020-12-10T23:15:07Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51dc36ce354bdd5ab0be49d58c888e063f13edb3", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/51dc36ce354bdd5ab0be49d58c888e063f13edb3", "committedDate": "2020-12-10T23:21:57Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5600b2772df44720853d9e85c450877f8b2ec01", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/c5600b2772df44720853d9e85c450877f8b2ec01", "committedDate": "2020-12-10T23:22:26Z", "message": "Update build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaf13df2ad6e1830bc75511d3314d47b65b5efd7", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/aaf13df2ad6e1830bc75511d3314d47b65b5efd7", "committedDate": "2020-12-10T23:25:22Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62750148512e5f401dc56583da421874335c9fd9", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/62750148512e5f401dc56583da421874335c9fd9", "committedDate": "2020-12-10T23:27:10Z", "message": "[Gradle Release Plugin] - pre tag commit:  'v0.1.0-cli'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7191dc1ed9696ec705ee8ec765dfa26f4f37e591", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/7191dc1ed9696ec705ee8ec765dfa26f4f37e591", "committedDate": "2020-12-10T23:27:16Z", "message": "[Gradle Release Plugin] - new version commit:  'v0.1.1-SNAPSHOT-cli'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41bd71f5828e11777a145a93e645e300fa320222", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/41bd71f5828e11777a145a93e645e300fa320222", "committedDate": "2020-12-10T23:28:43Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24638e803156f56b0193bdef0d221c8be43615d2", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/24638e803156f56b0193bdef0d221c8be43615d2", "committedDate": "2020-12-10T23:30:28Z", "message": "[Gradle Release Plugin] - pre tag commit:  'v0.1.0-cli'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53b45d5c9374fc587aa6d240f5d829e08e0aca44", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/53b45d5c9374fc587aa6d240f5d829e08e0aca44", "committedDate": "2020-12-10T23:30:35Z", "message": "[Gradle Release Plugin] - new version commit:  'v0.1.1-SNAPSHOT-cli'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0653f19f5fff1d692ada8f3cba7ccc77685dfa4", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/c0653f19f5fff1d692ada8f3cba7ccc77685dfa4", "committedDate": "2020-12-11T00:53:09Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0126159dee5dde6fd9e612fb52bceb5102f2a5e7", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/0126159dee5dde6fd9e612fb52bceb5102f2a5e7", "committedDate": "2020-12-11T00:55:54Z", "message": "Update build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e77a1b70b5d9127469b253f5286c751decc23d2d", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e77a1b70b5d9127469b253f5286c751decc23d2d", "committedDate": "2020-12-11T00:59:52Z", "message": "Update build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5368b7f87bb7e358a6cf330391bdc37fc46e1b", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/2e5368b7f87bb7e358a6cf330391bdc37fc46e1b", "committedDate": "2020-12-11T15:29:59Z", "message": "back to original"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad33d3f454be9a8ff43c719f493e633b1eaf2f4d", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/ad33d3f454be9a8ff43c719f493e633b1eaf2f4d", "committedDate": "2020-12-11T15:41:04Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ddca6b1e2ffe77c30c1518007a22bbdeaa7995c", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/6ddca6b1e2ffe77c30c1518007a22bbdeaa7995c", "committedDate": "2020-12-11T15:46:29Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e54431b391113caed82b7b46bab8b7bb9b52089", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/2e54431b391113caed82b7b46bab8b7bb9b52089", "committedDate": "2020-12-11T16:21:00Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8627036c33fad0c95b3560a8f4e7549d015e520", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/b8627036c33fad0c95b3560a8f4e7549d015e520", "committedDate": "2020-12-11T16:26:16Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d071eaee5b2aaabae38174e0a3e2cfb2f2995a1", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/7d071eaee5b2aaabae38174e0a3e2cfb2f2995a1", "committedDate": "2020-12-11T16:31:06Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec7bfd165fcdb30595bed2655e609af99d60e16", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/2ec7bfd165fcdb30595bed2655e609af99d60e16", "committedDate": "2020-12-11T16:32:41Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3e271de78ce97f7ba3f77e2a8416d0da08c07cd", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e3e271de78ce97f7ba3f77e2a8416d0da08c07cd", "committedDate": "2020-12-11T16:41:00Z", "message": "release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17f965e2e0c77e20ac67f11029506d80063556aa", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/17f965e2e0c77e20ac67f11029506d80063556aa", "committedDate": "2020-12-11T16:45:15Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26061b8f45a055d7575b2387a55e1d1f9f4988c6", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/26061b8f45a055d7575b2387a55e1d1f9f4988c6", "committedDate": "2020-12-11T17:21:59Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e4d5eca021589d616f0c358fb845064df08fede", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/6e4d5eca021589d616f0c358fb845064df08fede", "committedDate": "2020-12-11T17:24:12Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecec54a7622aecbfbab1757994616358eb8e42bd", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/ecec54a7622aecbfbab1757994616358eb8e42bd", "committedDate": "2020-12-11T17:27:17Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c7b5ada8d01fa487e6e34a5de97f9c59674b1b7", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/1c7b5ada8d01fa487e6e34a5de97f9c59674b1b7", "committedDate": "2020-12-11T17:31:27Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e389d26864a320f5a52db03a58ba91c611f3870a", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e389d26864a320f5a52db03a58ba91c611f3870a", "committedDate": "2020-12-11T17:35:02Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2614b70f7612d564642666abe164d965edea1430", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/2614b70f7612d564642666abe164d965edea1430", "committedDate": "2020-12-11T17:38:32Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe68758ef6685fb74534edc665157d790d45d5e", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/cbe68758ef6685fb74534edc665157d790d45d5e", "committedDate": "2020-12-11T18:11:14Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9c21aa627ab0349cd9cf5164c79a0620c2d2f7c", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/c9c21aa627ab0349cd9cf5164c79a0620c2d2f7c", "committedDate": "2020-12-11T18:12:23Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3203e683240d11048aa5756f80118724c50531c4", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/3203e683240d11048aa5756f80118724c50531c4", "committedDate": "2020-12-11T18:13:59Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe732d2ddfc92d2f375d509cc0c1d1b82cac7e7", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/cbe732d2ddfc92d2f375d509cc0c1d1b82cac7e7", "committedDate": "2020-12-11T18:18:28Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "097c459f04e965fc64a74eb88cd1fb6ed71e030d", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/097c459f04e965fc64a74eb88cd1fb6ed71e030d", "committedDate": "2020-12-11T18:53:05Z", "message": "Update jib-cli-release.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "482b301e9dd83851a82f8ee76822fb3abcbfa8cd", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/482b301e9dd83851a82f8ee76822fb3abcbfa8cd", "committedDate": "2020-12-11T18:53:58Z", "message": "Update jib-cli-release.yml\n\nno need to push tag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMDE5NTEy", "url": "https://github.com/GoogleContainerTools/jib/pull/2937#pullrequestreview-551019512", "createdAt": "2020-12-14T03:22:03Z", "commit": {"oid": "482b301e9dd83851a82f8ee76822fb3abcbfa8cd"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMzoyMjowM1rOIE-Rbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMzoyMjowM1rOIE-Rbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA4NTQ4Ng==", "bodyText": "I wonder if this can be configured to be the user triggering the event?", "url": "https://github.com/GoogleContainerTools/jib/pull/2937#discussion_r542085486", "createdAt": "2020-12-14T03:22:03Z", "author": {"login": "loosebazooka"}, "path": ".github/workflows/jib-cli-release.yml", "diffHunk": "@@ -0,0 +1,56 @@\n+name: Release Jib CLI\n+on:\n+  workflow_dispatch:\n+    inputs:\n+      release_version:\n+        description: new release version\n+        required: true\n+        default: (for example, 0.1.0)\n+\n+jobs:\n+  release:\n+    name: Release Jib CLI\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Check out code\n+        uses: actions/checkout@v2\n+\n+      - name: Build Jib CLI\n+        run: |\n+          # TODO: run integration test? (Requries auth with GCP.)\n+          ./gradlew clean build jib-cli:instDist\n+\n+      - name: Run Gradle release\n+        run: |\n+          git checkout -b cli_release_v${{ github.event.inputs.release_version }}\n+          git config user.email \"chanseok@google.com\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "482b301e9dd83851a82f8ee76822fb3abcbfa8cd"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4728, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}