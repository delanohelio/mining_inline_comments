{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNDQ5NzMy", "number": 2594, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjowODoyM1rOEPUrZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNzowM1rOEPolug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTAyODg3OnYy", "diffSide": "RIGHT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjowODoyM1rOGy-hTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDowMzowN1rOGzURHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNjMxOQ==", "bodyText": "Should remove the line container the stray ;. However, I think we should rather test getPlatforms().", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456106319", "createdAt": "2020-07-16T22:08:23Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -222,8 +222,7 @@ public void testToContainerBuildPlan_default() throws InvalidImageReferenceExcep\n \n     ContainerBuildPlan buildPlan = containerBuilder.toContainerBuildPlan();\n     Assert.assertEquals(\"base/image\", buildPlan.getBaseImage());\n-    Assert.assertEquals(\"amd64\", buildPlan.getArchitectureHint());\n-    Assert.assertEquals(\"linux\", buildPlan.getOsHint());\n+    ;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ2MjYyMA==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456462620", "createdAt": "2020-07-17T14:03:07Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -222,8 +222,7 @@ public void testToContainerBuildPlan_default() throws InvalidImageReferenceExcep\n \n     ContainerBuildPlan buildPlan = containerBuilder.toContainerBuildPlan();\n     Assert.assertEquals(\"base/image\", buildPlan.getBaseImage());\n-    Assert.assertEquals(\"amd64\", buildPlan.getArchitectureHint());\n-    Assert.assertEquals(\"linux\", buildPlan.getOsHint());\n+    ;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNjMxOQ=="}, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTAzMTcyOnYy", "diffSide": "LEFT", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjowOTozMFrOGy-jAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDowNDoxOVrOGzUT2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNjc1NQ==", "bodyText": "I think this should call setPlatforms(buildPlan.getPlatforms()).", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456106755", "createdAt": "2020-07-16T22:09:30Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -610,8 +609,6 @@ public JibContainerBuilder applyContainerBuildPlan(ContainerBuildPlan buildPlan)\n       throws InvalidImageReferenceException {\n     containerBuildPlanBuilder\n         .setBaseImage(buildPlan.getBaseImage())\n-        .setArchitectureHint(buildPlan.getArchitectureHint())\n-        .setOsHint(buildPlan.getOsHint())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ2MzMyMg==", "bodyText": "I had done it here  https://github.com/GoogleContainerTools/jib/blob/0ab161a7787210925a2bb3af4d43884bfdeadcdc/jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456463322", "createdAt": "2020-07-17T14:04:19Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -610,8 +609,6 @@ public JibContainerBuilder applyContainerBuildPlan(ContainerBuildPlan buildPlan)\n       throws InvalidImageReferenceException {\n     containerBuildPlanBuilder\n         .setBaseImage(buildPlan.getBaseImage())\n-        .setArchitectureHint(buildPlan.getArchitectureHint())\n-        .setOsHint(buildPlan.getOsHint())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNjc1NQ=="}, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTAzNTgxOnYy", "diffSide": "LEFT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMTowOVrOGy-lZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMTowOVrOGy-lZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNzM2NA==", "bodyText": "ditto. We should test getPlatforms().", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456107364", "createdAt": "2020-07-16T22:11:09Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -257,8 +256,6 @@ public void testToContainerBuildPlan() throws InvalidImageReferenceException, IO\n \n     ContainerBuildPlan buildPlan = containerBuilder.toContainerBuildPlan();\n     Assert.assertEquals(\"base/image\", buildPlan.getBaseImage());\n-    Assert.assertEquals(\"amd64\", buildPlan.getArchitectureHint());\n-    Assert.assertEquals(\"linux\", buildPlan.getOsHint());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTAzODI0OnYy", "diffSide": "LEFT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMjoxMlrOGy-m7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMjoxMlrOGy-m7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNzc1Nw==", "bodyText": "Perhaps setPlatforms(Collections.singleton(new Platform(\"arch\", \"os\"))).", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456107757", "createdAt": "2020-07-16T22:12:12Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -297,8 +294,6 @@ public void setApplyContainerBuildPlan()\n     ContainerBuildPlan buildPlan =\n         ContainerBuildPlan.builder()\n             .setBaseImage(\"some/base\")\n-            .setArchitectureHint(\"arch\")\n-            .setOsHint(\"os\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTAzODc1OnYy", "diffSide": "LEFT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMjoyN1rOGy-nQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjoxMjoyN1rOGy-nQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwNzg0MQ==", "bodyText": "We should keep the test (with getPlatforms()).", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456107841", "createdAt": "2020-07-16T22:12:27Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -349,9 +344,5 @@ public void setApplyContainerBuildPlan()\n         AbsoluteUnixPath.get(\"/workspace\"), containerConfiguration.getWorkingDirectory());\n     Assert.assertEquals(Arrays.asList(\"foo\", \"entrypoint\"), containerConfiguration.getEntrypoint());\n     Assert.assertEquals(Arrays.asList(\"bar\", \"cmd\"), containerConfiguration.getProgramArguments());\n-\n-    ContainerBuildPlan convertedPlan = containerBuilder.toContainerBuildPlan();\n-    Assert.assertEquals(\"arch\", convertedPlan.getArchitectureHint());\n-    Assert.assertEquals(\"os\", convertedPlan.getOsHint());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9805903bece83ab392e2a64e3f61de69365b27b"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzUzNTE0OnYy", "diffSide": "RIGHT", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDo0Mjo1MlrOGzVvOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDo0Mjo1MlrOGzVvOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ4NjcxNA==", "bodyText": "Remove one of the setPlatforms", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456486714", "createdAt": "2020-07-17T14:42:52Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -610,8 +633,8 @@ public JibContainerBuilder applyContainerBuildPlan(ContainerBuildPlan buildPlan)\n       throws InvalidImageReferenceException {\n     containerBuildPlanBuilder\n         .setBaseImage(buildPlan.getBaseImage())\n-        .setArchitectureHint(buildPlan.getArchitectureHint())\n-        .setOsHint(buildPlan.getOsHint())\n+        .setPlatforms(buildPlan.getPlatforms())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "562d260e55c45b40196f3b3e745902c5d58f6377"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzUzNjgzOnYy", "diffSide": "RIGHT", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDo0MzoyMlrOGzVwPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDo1NDo1MFrOGzWNnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ4Njk3NA==", "bodyText": "Do not add new methods to JibContainerBuidler in this PR. You'll do it in #2589.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456486974", "createdAt": "2020-07-17T14:43:22Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -489,6 +489,29 @@ public JibContainerBuilder setCreationTime(Instant creationTime) {\n     return this;\n   }\n \n+  /**\n+   * Adds a platform to the platforms configurations for the container.\n+   *\n+   * @param os the os value\n+   * @param architecture the architecture value\n+   * @return this\n+   */\n+  public JibContainerBuilder addPlatform(String os, String architecture) {\n+    containerBuildPlanBuilder.addPlatform(os, architecture);\n+    return this;\n+  }\n+\n+  /**\n+   * Sets the platforms configurations for the container.\n+   *\n+   * @param platforms the list of platform objects\n+   * @return this\n+   */\n+  public JibContainerBuilder setPlatforms(Set<Platform> platforms) {\n+    containerBuildPlanBuilder.setPlatforms(platforms);\n+    return this;\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "562d260e55c45b40196f3b3e745902c5d58f6377"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ5NDQ5Mg==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456494492", "createdAt": "2020-07-17T14:54:50Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -489,6 +489,29 @@ public JibContainerBuilder setCreationTime(Instant creationTime) {\n     return this;\n   }\n \n+  /**\n+   * Adds a platform to the platforms configurations for the container.\n+   *\n+   * @param os the os value\n+   * @param architecture the architecture value\n+   * @return this\n+   */\n+  public JibContainerBuilder addPlatform(String os, String architecture) {\n+    containerBuildPlanBuilder.addPlatform(os, architecture);\n+    return this;\n+  }\n+\n+  /**\n+   * Sets the platforms configurations for the container.\n+   *\n+   * @param platforms the list of platform objects\n+   * @return this\n+   */\n+  public JibContainerBuilder setPlatforms(Set<Platform> platforms) {\n+    containerBuildPlanBuilder.setPlatforms(platforms);\n+    return this;\n+  }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ4Njk3NA=="}, "originalCommit": {"oid": "562d260e55c45b40196f3b3e745902c5d58f6377"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzYyMjM4OnYy", "diffSide": "RIGHT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNDoxMVrOGzWj_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNToxODoxN1rOGzXFUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDIyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")), convertedPlan.getPlatforms());\n          \n          \n            \n                    ImmutableSet.of(new Platform(\"testArchitecture\", \"testOs\")), convertedPlan.getPlatforms());", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456500221", "createdAt": "2020-07-17T15:04:11Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -351,7 +348,7 @@ public void setApplyContainerBuildPlan()\n     Assert.assertEquals(Arrays.asList(\"bar\", \"cmd\"), containerConfiguration.getProgramArguments());\n \n     ContainerBuildPlan convertedPlan = containerBuilder.toContainerBuildPlan();\n-    Assert.assertEquals(\"arch\", convertedPlan.getArchitectureHint());\n-    Assert.assertEquals(\"os\", convertedPlan.getOsHint());\n+    Assert.assertEquals(\n+        ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")), convertedPlan.getPlatforms());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMzM4MQ==", "bodyText": "Did we already update the platform api to change the argument order? The one we deployed.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456503381", "createdAt": "2020-07-17T15:09:20Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -351,7 +348,7 @@ public void setApplyContainerBuildPlan()\n     Assert.assertEquals(Arrays.asList(\"bar\", \"cmd\"), containerConfiguration.getProgramArguments());\n \n     ContainerBuildPlan convertedPlan = containerBuilder.toContainerBuildPlan();\n-    Assert.assertEquals(\"arch\", convertedPlan.getArchitectureHint());\n-    Assert.assertEquals(\"os\", convertedPlan.getOsHint());\n+    Assert.assertEquals(\n+        ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")), convertedPlan.getPlatforms());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDIyMQ=="}, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwNjE4OQ==", "bodyText": "Yeah. If you look into the jib-build-plan 3.0 library, you'll see the actual code.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456506189", "createdAt": "2020-07-17T15:14:07Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -351,7 +348,7 @@ public void setApplyContainerBuildPlan()\n     Assert.assertEquals(Arrays.asList(\"bar\", \"cmd\"), containerConfiguration.getProgramArguments());\n \n     ContainerBuildPlan convertedPlan = containerBuilder.toContainerBuildPlan();\n-    Assert.assertEquals(\"arch\", convertedPlan.getArchitectureHint());\n-    Assert.assertEquals(\"os\", convertedPlan.getOsHint());\n+    Assert.assertEquals(\n+        ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")), convertedPlan.getPlatforms());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDIyMQ=="}, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwODc1NA==", "bodyText": "Nice one.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456508754", "createdAt": "2020-07-17T15:18:17Z", "author": {"login": "louismurerwa"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -351,7 +348,7 @@ public void setApplyContainerBuildPlan()\n     Assert.assertEquals(Arrays.asList(\"bar\", \"cmd\"), containerConfiguration.getProgramArguments());\n \n     ContainerBuildPlan convertedPlan = containerBuilder.toContainerBuildPlan();\n-    Assert.assertEquals(\"arch\", convertedPlan.getArchitectureHint());\n-    Assert.assertEquals(\"os\", convertedPlan.getOsHint());\n+    Assert.assertEquals(\n+        ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")), convertedPlan.getPlatforms());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDIyMQ=="}, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzYyMzc3OnYy", "diffSide": "RIGHT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNDozNVrOGzWk2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNDozNVrOGzWk2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDQ0Mg==", "bodyText": "argument order", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456500442", "createdAt": "2020-07-17T15:04:35Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -297,8 +295,7 @@ public void setApplyContainerBuildPlan()\n     ContainerBuildPlan buildPlan =\n         ContainerBuildPlan.builder()\n             .setBaseImage(\"some/base\")\n-            .setArchitectureHint(\"arch\")\n-            .setOsHint(\"os\")\n+            .setPlatforms(ImmutableSet.of(new Platform(\"testOS\", \"testArchitecture\")))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzYyNDc3OnYy", "diffSide": "RIGHT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNDo1MFrOGzWlhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNDo1MFrOGzWlhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDYxMg==", "bodyText": "argument order", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456500612", "createdAt": "2020-07-17T15:04:50Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -257,8 +256,7 @@ public void testToContainerBuildPlan() throws InvalidImageReferenceException, IO\n \n     ContainerBuildPlan buildPlan = containerBuilder.toContainerBuildPlan();\n     Assert.assertEquals(\"base/image\", buildPlan.getBaseImage());\n-    Assert.assertEquals(\"amd64\", buildPlan.getArchitectureHint());\n-    Assert.assertEquals(\"linux\", buildPlan.getOsHint());\n+    Assert.assertEquals(ImmutableSet.of(new Platform(\"linux\", \"amd64\")), buildPlan.getPlatforms());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzYyNzQzOnYy", "diffSide": "LEFT", "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNToyM1rOGzWm9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTowNToyM1rOGzWm9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUwMDk4MQ==", "bodyText": "Restore the existing tests.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456500981", "createdAt": "2020-07-17T15:05:23Z", "author": {"login": "chanseokoh"}, "path": "jib-core/src/test/java/com/google/cloud/tools/jib/api/JibContainerBuilderTest.java", "diffHunk": "@@ -222,8 +223,6 @@ public void testToContainerBuildPlan_default() throws InvalidImageReferenceExcep\n \n     ContainerBuildPlan buildPlan = containerBuilder.toContainerBuildPlan();\n     Assert.assertEquals(\"base/image\", buildPlan.getBaseImage());\n-    Assert.assertEquals(\"amd64\", buildPlan.getArchitectureHint());\n-    Assert.assertEquals(\"linux\", buildPlan.getOsHint());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ee11e0616a5786504dd7b9472e523880fe66c60"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0ODI5MDQxOnYy", "diffSide": "RIGHT", "path": "jib-core/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNjo1M1rOGzdA_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODo0NTo0NFrOGzdkag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNTk1MQ==", "bodyText": "0.3.1", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456605951", "createdAt": "2020-07-17T18:26:53Z", "author": {"login": "chanseokoh"}, "path": "jib-core/CHANGELOG.md", "diffHunk": "@@ -9,6 +9,8 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNzQyMw==", "bodyText": "Is'nt this supposed to be a CHANGELOG for 0.3.0 ?", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456607423", "createdAt": "2020-07-17T18:29:45Z", "author": {"login": "louismurerwa"}, "path": "jib-core/CHANGELOG.md", "diffHunk": "@@ -9,6 +9,8 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNTk1MQ=="}, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYxMzI5Mw==", "bodyText": "Good question. Let me explain. Note that the top CHANGELOG entry is ## [unreleased] and the second entry is ## 0.15.0. That is, the latest jib-core version we released and is available on the Internet (on the repository called Maven Central) is 0.15.0. Now, until we make a new jib-core release (which could be 0.16.0, for example), we write under ## [unreleased] all important and publicly visible changes that the user needs/wants to know about that future release. The current jib-core 0.15.0 is using jib-build-plan 0.2.0, while the next jib-core release will use jib-build-plan 0.3.1. This is exactly what should be documented and also the truth.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456613293", "createdAt": "2020-07-17T18:42:00Z", "author": {"login": "chanseokoh"}, "path": "jib-core/CHANGELOG.md", "diffHunk": "@@ -9,6 +9,8 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNTk1MQ=="}, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYxNTAxOA==", "bodyText": "Thanks for the explanation @chanseokoh  ,now i understand how the release cycle works better.", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456615018", "createdAt": "2020-07-17T18:45:44Z", "author": {"login": "louismurerwa"}, "path": "jib-core/CHANGELOG.md", "diffHunk": "@@ -9,6 +9,8 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNTk1MQ=="}, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0ODI5MDk3OnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin-extension-api/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNzowMFrOGzdBVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNzowMFrOGzdBVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNjAzOQ==", "bodyText": "ditto", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456606039", "createdAt": "2020-07-17T18:27:00Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin-extension-api/CHANGELOG.md", "diffHunk": "@@ -7,5 +7,7 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0ODI5MTE0OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin-extension-api/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNzowM1rOGzdBcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODoyNzowM1rOGzdBcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwNjA2NA==", "bodyText": "ditto", "url": "https://github.com/GoogleContainerTools/jib/pull/2594#discussion_r456606064", "createdAt": "2020-07-17T18:27:03Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin-extension-api/CHANGELOG.md", "diffHunk": "@@ -7,5 +7,7 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Upgraded jib-build-plan to 0.3.0. ([#2594](https://github.com/GoogleContainerTools/jib/pull/2594))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64bf0ca1ba7c96a3b5addc02078075d72be325ca"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 267, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}