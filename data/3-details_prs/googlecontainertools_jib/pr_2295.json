{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MTExMTQw", "number": 2295, "title": "Treat empty update check config as non-existent", "bodyText": "I may keep looking into #2294 to see if I can somehow reproduce the error without intentionally creating an empty config file, but this should avoid the warning message in the meantime. Empty config files are now treated as empty, meaning they will be regenerated with defaults.", "createdAt": "2020-02-13T22:05:58Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2295", "merged": true, "mergeCommit": {"oid": "cec35e8c049e0ce698f54084ab1f64f8e6dd23af"}, "closed": true, "closedAt": "2020-02-13T23:19:11Z", "author": {"login": "TadCordle"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcECUeMgH2gAyMzc1MTExMTQwOjY0ZDg4NjQzMzQ4OGI2MzgwOWMxNzZmYzc3Y2I5OTE1ZTdlYTUwMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEDQj5gFqTM1ODYxNzAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015", "author": {"user": {"login": "TadCordle", "name": "Tad Cordle"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/64d886433488b63809c176fc77cb9915e7ea5015", "committedDate": "2020-02-13T22:03:57Z", "message": "Treat empty update check config as non-existent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTk4ODYw", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#pullrequestreview-358598860", "createdAt": "2020-02-13T22:29:48Z", "commit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyOTo0OFrOFpl1cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyOTo0OFrOFpl1cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NTgyNA==", "bodyText": "But this means if we ever create an empty file, we can never escape the situation and always call the endpoint. I think for this file, we don't need to check the size, because we don't show a warning. And this will auto-fix the empty file problem by deleting it.", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#discussion_r379155824", "createdAt": "2020-02-13T22:29:48Z", "author": {"login": "chanseokoh"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/UpdateChecker.java", "diffHunk": "@@ -134,7 +133,7 @@ void setDisableUpdateCheck(boolean disableUpdateCheck) {\n       }\n \n       // Check time of last update check\n-      if (Files.exists(lastUpdateCheck)) {\n+      if (Files.exists(lastUpdateCheck) && Files.size(lastUpdateCheck) > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4680529401a5adb9c8d91cc5ffbb039e99fc090", "author": {"user": {"login": "TadCordle", "name": "Tad Cordle"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e4680529401a5adb9c8d91cc5ffbb039e99fc090", "committedDate": "2020-02-13T22:38:32Z", "message": "Not lastUpdateCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NjE3MDM4", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#pullrequestreview-358617038", "createdAt": "2020-02-13T23:09:35Z", "commit": {"oid": "e4680529401a5adb9c8d91cc5ffbb039e99fc090"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 364, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}