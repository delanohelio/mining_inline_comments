{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTYwNTk1", "number": 2312, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyMDozM1rODlJu9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyOToyM1rODlJ6sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMjgzMzgwOnYy", "diffSide": "RIGHT", "path": "proposals/container-build-plan-spec.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyMDozM1rOFx4XSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMTowMDo0NlrOFzHUmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0ODAwOQ==", "bodyText": "should we allow passthrough from the baseImage env?\nCould path be \"PATH:$PATH\" ?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387848009", "createdAt": "2020-03-04T18:20:33Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE0MTY1OQ==", "bodyText": "As discussed, we will consider such extension in the future.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r389141659", "createdAt": "2020-03-06T21:00:46Z", "author": {"login": "chanseokoh"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0ODAwOQ=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMjg0MzY2OnYy", "diffSide": "RIGHT", "path": "proposals/container-build-plan-spec.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyMzoyM1rOFx4daA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDo1MjoxNFrOFzHGOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0OTU3Ng==", "bodyText": "files is not documented anywhere?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387849576", "createdAt": "2020-03-04T18:23:23Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",\n+          \"dest\": \"/app/classes/Main.class\",\n+          \"modificationTime\": \"2019-07-15T10:15:30+09:00\",\n+          \"permissions\": \"600\",\n+        },\n+        {\n+          \"src\": \"/home/jane/libs/util-1.0.jar\",\n+          \"dest\": \"/app/jars/util.jar\",\n+          \"modificationTime\": \"2011-12-03T22:42:05Z\",\n+        }\n+      ]\n+    },\n+    {\n+      \"archive\": {\n+        \"mediaType\": \"...\",\n+        \"path\": \"/home/jane/misc/cacerts.tar\",\n+      }\n+    },\n+    {\n+      \"files\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEzNzk3OA==", "bodyText": "Oops. Should have been entries.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r389137978", "createdAt": "2020-03-06T20:52:14Z", "author": {"login": "chanseokoh"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",\n+          \"dest\": \"/app/classes/Main.class\",\n+          \"modificationTime\": \"2019-07-15T10:15:30+09:00\",\n+          \"permissions\": \"600\",\n+        },\n+        {\n+          \"src\": \"/home/jane/libs/util-1.0.jar\",\n+          \"dest\": \"/app/jars/util.jar\",\n+          \"modificationTime\": \"2011-12-03T22:42:05Z\",\n+        }\n+      ]\n+    },\n+    {\n+      \"archive\": {\n+        \"mediaType\": \"...\",\n+        \"path\": \"/home/jane/misc/cacerts.tar\",\n+      }\n+    },\n+    {\n+      \"files\": [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0OTU3Ng=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMjg1NzI2OnYy", "diffSide": "RIGHT", "path": "proposals/container-build-plan-spec.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyNzoyMlrOFx4l6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDo1OTowN1rOFzHSJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTc1Mg==", "bodyText": "should each \"layers\" entry have a type and name?\ncould it be\n\"layers\": [\n  {\n    \"type\": \"entries/v1\"\n    \"name\": \"application classes\"\n    \"values\": [\n      {\n        ...\n      },\n      {\n        ...\n      },\n     ]\n  },\n  {\n    \"type\": \"archive/v1\"\n    \"name\": \"ca-certs\"\n    \"values\": {\n      \"mediaType\": \"....\"\n      \"path\": \"/hasdfasdfafs/cacerts.tar\"\n    }\n  }\n}", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387851752", "createdAt": "2020-03-04T18:27:22Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE0MTAzMA==", "bodyText": "Done. I didn't include name, since it's not used for building a layer. In jib-core, we use a layer name for the comment property in a history entry. But in this spec, I'm leaving the history part up to a builder implementation.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r389141030", "createdAt": "2020-03-06T20:59:07Z", "author": {"login": "chanseokoh"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTc1Mg=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMjg1ODkyOnYy", "diffSide": "RIGHT", "path": "proposals/container-build-plan-spec.md", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyNzo1MVrOFx4m2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDozNDozOVrOF0RoMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTk5NQ==", "bodyText": "should we allow blob wildcards in here?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387851995", "createdAt": "2020-03-04T18:27:51Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ5NDAzMw==", "bodyText": "glob*", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r388494033", "createdAt": "2020-03-05T18:54:59Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTk5NQ=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE0MTQ2MA==", "bodyText": "As discussed, we will consider such extension in the future.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r389141460", "createdAt": "2020-03-06T21:00:20Z", "author": {"login": "chanseokoh"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTk5NQ=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM1OTA4OQ==", "bodyText": "Just to finish this comment chain, I misunderstood the purpose of this design. Glob support should come as a layer above this.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r390359089", "createdAt": "2020-03-10T14:34:39Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTk5NQ=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMjg2Mzg3OnYy", "diffSide": "RIGHT", "path": "proposals/container-build-plan-spec.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyOToyM1rOFx4qFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDozNDo1MFrOF0RouA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MjgyMA==", "bodyText": "could we have nested file-permission/owner configs? like in go/cbsp?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387852820", "createdAt": "2020-03-04T18:29:23Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE0MTQyOQ==", "bodyText": "As discussed, we will consider such extension in the future.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r389141429", "createdAt": "2020-03-06T21:00:15Z", "author": {"login": "chanseokoh"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MjgyMA=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM1OTIyNA==", "bodyText": "Again, at a different layer.", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r390359224", "createdAt": "2020-03-10T14:34:50Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MjgyMA=="}, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 530, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}