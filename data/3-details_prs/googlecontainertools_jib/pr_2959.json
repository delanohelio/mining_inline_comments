{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NDE0MjQ0", "number": 2959, "title": "remove dependency on testkit in jibcli", "bodyText": "", "createdAt": "2020-12-22T23:03:04Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2959", "merged": true, "mergeCommit": {"oid": "a910a7da613731236baeef7c019a6beb2ae9c847"}, "closed": true, "closedAt": "2020-12-23T22:16:20Z", "author": {"login": "loosebazooka"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdozaiYgFqTU1NzQyNTEyNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpGYJSAFqTU1ODI0NDM4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NDI1MTI0", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#pullrequestreview-557425124", "createdAt": "2020-12-22T23:31:05Z", "commit": {"oid": "6fe9e4b806465243be51faf5133e17294cb6a5c2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMzozMTowNlrOIKMMtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMzozMjoxMlrOIKMN0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU1NjUzMw==", "bodyText": "Shouldn't this be removed?", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#discussion_r547556533", "createdAt": "2020-12-22T23:31:06Z", "author": {"login": "chanseokoh"}, "path": "jib-cli/src/integration-test/resources/jarTest/spring-boot/spring-boot/build.gradle", "diffHunk": "@@ -0,0 +1,26 @@\n+plugins {\n+    id 'org.springframework.boot' version '2.3.7.RELEASE'\n+    id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n+    id 'java'\n+}\n+\n+sourceCompatibility = '1.8'\n+\n+bootJar {\n+    layered {\n+        enabled = true\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe9e4b806465243be51faf5133e17294cb6a5c2"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU1NjgxNw==", "bodyText": "This can be chained? new Command(cmd).setWorkingDir(...).run()", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#discussion_r547556817", "createdAt": "2020-12-22T23:32:12Z", "author": {"login": "chanseokoh"}, "path": "jib-cli/src/integration-test/java/com/google/cloud/tools/jib/cli/cli2/TestProject.java", "diffHunk": "@@ -74,13 +73,15 @@ protected void before() throws Throwable {\n \n     projectRoot = newFolder().toPath();\n     copyProject(testProjectName, projectRoot);\n-\n-    gradleRunner =\n-        GradleRunner.create().withGradleVersion(gradleVersion).withProjectDir(projectRoot.toFile());\n   }\n \n-  public BuildResult build(String... gradleArguments) {\n-    return gradleRunner.withArguments(gradleArguments).build();\n+  public void build(String... gradleArguments) throws IOException, InterruptedException {\n+    List<String> cmd = new ArrayList<>();\n+    cmd.add(\"./gradlew\");\n+    cmd.addAll(Arrays.asList(gradleArguments));\n+    Command command = new Command(cmd);\n+    command.setWorkingDir(projectRoot);\n+    command.run();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe9e4b806465243be51faf5133e17294cb6a5c2"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NDMxNTY2", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#pullrequestreview-557431566", "createdAt": "2020-12-22T23:54:04Z", "commit": {"oid": "6fe9e4b806465243be51faf5133e17294cb6a5c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMzo1NDowNFrOIKMkvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMzo1NDowNFrOIKMkvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU2MjY4Ng==", "bodyText": "we can remove this since it's for a non-layered spring-boot jar", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#discussion_r547562686", "createdAt": "2020-12-22T23:54:04Z", "author": {"login": "mpeddada1"}, "path": "jib-cli/src/integration-test/resources/jarTest/spring-boot/spring-boot/build.gradle", "diffHunk": "@@ -0,0 +1,26 @@\n+plugins {\n+    id 'org.springframework.boot' version '2.3.7.RELEASE'\n+    id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n+    id 'java'\n+}\n+\n+sourceCompatibility = '1.8'\n+\n+bootJar {\n+    layered {\n+        enabled = true\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe9e4b806465243be51faf5133e17294cb6a5c2"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d4fcda0f02e4b88bd689bb5b30727561f118c35", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/6d4fcda0f02e4b88bd689bb5b30727561f118c35", "committedDate": "2020-12-23T16:06:17Z", "message": "remove dependency on testkit in jibcli"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8dc98f3b2f648f8245dfda88fc31608f9833901", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/d8dc98f3b2f648f8245dfda88fc31608f9833901", "committedDate": "2020-12-23T16:06:17Z", "message": "cleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd3a2c71208f0df9465e9c2b13eea896058571ef", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/dd3a2c71208f0df9465e9c2b13eea896058571ef", "committedDate": "2020-12-23T16:04:59Z", "message": "cleanup"}, "afterCommit": {"oid": "d8dc98f3b2f648f8245dfda88fc31608f9833901", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/d8dc98f3b2f648f8245dfda88fc31608f9833901", "committedDate": "2020-12-23T16:06:17Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dc5ea6172d23d935a48e2c3e7b08da0d05dd186", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/5dc5ea6172d23d935a48e2c3e7b08da0d05dd186", "committedDate": "2020-12-23T16:28:37Z", "message": "formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MjQ0Mzg5", "url": "https://github.com/GoogleContainerTools/jib/pull/2959#pullrequestreview-558244389", "createdAt": "2020-12-23T21:53:56Z", "commit": {"oid": "5dc5ea6172d23d935a48e2c3e7b08da0d05dd186"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4755, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}