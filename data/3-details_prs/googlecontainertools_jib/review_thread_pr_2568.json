{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1MDI3NjYy", "number": 2568, "reviewThreads": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzozMjoxM1rOEMLOzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo0MToyNFrOENTT9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjAyMzgxOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzozMjoxM1rOGuItzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNTozMjoyNFrOGutrUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMDQ3OA==", "bodyText": "Can the platforms list not be empty?\nIf we were to initialize this to an empty list at line 154, would it break the default beahavior?", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451030478", "createdAt": "2020-07-07T17:32:13Z", "author": {"login": "loosebazooka"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */\n+    public FromConfiguration() {\n+      platforms = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDE4Mw==", "bodyText": "The idea is to have a default platform amd64/linux in the platforms  list any time a user fails to specify a platform.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451050183", "createdAt": "2020-07-07T18:06:26Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */\n+    public FromConfiguration() {\n+      platforms = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMDQ3OA=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NTk4Mw==", "bodyText": "Another way to create a default singleton (immutable) list:\nPlatformsConfiguration platform = new PlatformsConfiguration();\nplatform.os = ...\nplatform.version = ...\nplatforms = Collections.singletonList(platform);", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451145983", "createdAt": "2020-07-07T21:11:58Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */\n+    public FromConfiguration() {\n+      platforms = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMDQ3OA=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTYzNjA0OA==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451636048", "createdAt": "2020-07-08T15:32:24Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */\n+    public FromConfiguration() {\n+      platforms = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMDQ3OA=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjAzMjMzOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzozNDo0MlrOGuIzBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODowODoxNVrOGuJ-lQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMTgxMg==", "bodyText": "Add comments about default perhaps?", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451031812", "createdAt": "2020-07-07T17:34:42Z", "author": {"login": "loosebazooka"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0MTc5Nw==", "bodyText": "What would an appropriate comment look like for this constructor?Would this work?\n`/** Initializing a default platform in case a user doesn't pass in one **/", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451041797", "createdAt": "2020-07-07T17:52:01Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMTgxMg=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0NTAwMA==", "bodyText": "I think for IDE users, just seeing the pop up of:\n/** Configuration for {@code platform} parameter. Defaults to amd64/linux. **/\n\nis helpful, since they wont have to go into the code and see what the defaults are?\nBut commenting sometimes feels pretty subjective. This is just how I would do it.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451045000", "createdAt": "2020-07-07T17:57:22Z", "author": {"login": "loosebazooka"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMTgxMg=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MTE1Nw==", "bodyText": "I agree commenting is subjective sometimes.I think your suggested comment works well in this case.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451051157", "createdAt": "2020-07-07T18:08:15Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMTgxMg=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjAzMzUzOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzozNTowM1rOGuIzzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODowODozMFrOGuJ_CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMjAxNQ==", "bodyText": "This comment seems out of place?", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451032015", "createdAt": "2020-07-07T17:35:03Z", "author": {"login": "loosebazooka"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzOTc1NQ==", "bodyText": "Yes !! I put it as place holder because the style guide required me to put Javadoc comment at this line.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451039755", "createdAt": "2020-07-07T17:48:27Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMjAxNQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0MDkwOA==", "bodyText": "Right maybe change it to /** Constructor for defaults . **/ or something?", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451040908", "createdAt": "2020-07-07T17:50:23Z", "author": {"login": "loosebazooka"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMjAxNQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MTI3Mw==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451051273", "createdAt": "2020-07-07T18:08:30Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +150,15 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Configuration for {@code platforms} parameter. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMjAxNQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjE0NTA1OnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODowNjoxMVrOGuJ6Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODo0MTo1OVrOGuLEzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDA1MQ==", "bodyText": "getOs() and getArchitecture() may not need to be public? I see some getters in other nested -Configuration classes don't have public. We can start with as much limited visibility as possible.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451050051", "createdAt": "2020-07-07T18:06:11Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";\n+\n+    public String getOs() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1NDMxOQ==", "bodyText": "We never use these methods locally so making them private throws  unused  method warnings .", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451054319", "createdAt": "2020-07-07T18:14:17Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";\n+\n+    public String getOs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDA1MQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2MDEyMw==", "bodyText": "Java has so-called \"package-private\" in addition to public, protected, and private. Just remove the public keyword, and the method will also be accessible from any class in the same Java package.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451060123", "createdAt": "2020-07-07T18:25:00Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";\n+\n+    public String getOs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDA1MQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2OTEzMg==", "bodyText": "Nicee !! This is an interesting concept Java concept.\nDone.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451069132", "createdAt": "2020-07-07T18:41:59Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";\n+\n+    public String getOs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDA1MQ=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjE0ODUwOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODowNzoxMlrOGuJ8Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODoxNjoxNVrOGuKPJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDU4Mg==", "bodyText": "At the current state, I don't think this method can ever return null. In that case, we should remove @Nullable.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451050582", "createdAt": "2020-07-07T18:07:12Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -330,6 +354,16 @@ protected void checkJibVersion() throws MojoExecutionException {\n     MojoCommon.checkJibVersion(descriptor);\n   }\n \n+  /**\n+   * Gets the specified platforms.\n+   *\n+   * @return the specified platforms\n+   */\n+  @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1NTM5OA==", "bodyText": "Thats true .Done.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451055398", "createdAt": "2020-07-07T18:16:15Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -330,6 +354,16 @@ protected void checkJibVersion() throws MojoExecutionException {\n     MojoCommon.checkJibVersion(descriptor);\n   }\n \n+  /**\n+   * Gets the specified platforms.\n+   *\n+   * @return the specified platforms\n+   */\n+  @Nullable", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDU4Mg=="}, "originalCommit": {"oid": "42c07474090218dcd4559cd1375850ef6e9c7544"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjczNTQyOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTowOToyNVrOGuPsCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNDozNDoyNFrOGurE9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDcxMw==", "bodyText": "As discussed in the design doc, if we are going to raise an error when one of these are missing, I think we have to make these @Nullable and not assign default values.\nNeed to add @Nullable in getters too.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451144713", "createdAt": "2020-07-07T21:09:25Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fb526584a3be7113b73a04d993266d15e5b979b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU5MzQ2Mg==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451593462", "createdAt": "2020-07-08T14:34:24Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */\n+  public static class PlatformsConfiguration {\n+    @Parameter private String os = \"linux\";\n+    @Parameter private String architecture = \"amd64\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDcxMw=="}, "originalCommit": {"oid": "4fb526584a3be7113b73a04d993266d15e5b979b"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjczNzE1OnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTowOTo1OFrOGuPtAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNDo1MDoxM1rOGuryvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDk2Mg==", "bodyText": "Therefore,\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */\n          \n          \n            \n              /** Configuration for {@code platform} parameter. */", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451144962", "createdAt": "2020-07-07T21:09:58Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fb526584a3be7113b73a04d993266d15e5b979b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU5NDMxOQ==", "bodyText": "Makes sense !! Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451594319", "createdAt": "2020-07-08T14:35:27Z", "author": {"login": "louismurerwa"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDk2Mg=="}, "originalCommit": {"oid": "4fb526584a3be7113b73a04d993266d15e5b979b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTYwNTE4Mg==", "bodyText": "You can mark a GitHub conversion \"resolved\" yourself if you believe the issue is cleanly resolved (but only after you pushed new changes).", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451605182", "createdAt": "2020-07-08T14:50:13Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,20 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. Defaults to amd64/linux. * */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDk2Mg=="}, "originalCommit": {"oid": "4fb526584a3be7113b73a04d993266d15e5b979b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNTk3OTM0OnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNTo1Njo0OFrOGuussA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNTo1Njo0OFrOGuussA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY1Mjc4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /** Constructor for defaults . * */\n          \n          \n            \n                /** Constructor for defaults. */", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r451652784", "createdAt": "2020-07-08T15:56:48Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -135,6 +151,16 @@ public PermissionConfiguration() {}\n     @Nullable @Parameter private String credHelper;\n \n     @Parameter private FromAuthConfiguration auth = new FromAuthConfiguration();\n+\n+    @Parameter private List<PlatformsConfiguration> platforms;\n+\n+    /** Constructor for defaults . * */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf6d625015a3ff6aa267366df60ffd9a41c53ee"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDU3MjQ4OnYy", "diffSide": "RIGHT", "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/RawConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzozMTo0N1rOGvbDsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODoxMjoxMVrOGvcYpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3OTU2OA==", "bodyText": "PlatformsConfiguration --> PlatformConfiguration (singular)", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452379568", "createdAt": "2020-07-09T17:31:47Z", "author": {"login": "chanseokoh"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/RawConfiguration.java", "diffHunk": "@@ -40,6 +40,13 @@\n     Optional<Object> getExtraConfiguration();\n   }\n \n+  static interface PlatformsConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTMxOQ==", "bodyText": "Done", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452401319", "createdAt": "2020-07-09T18:12:11Z", "author": {"login": "louismurerwa"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/RawConfiguration.java", "diffHunk": "@@ -40,6 +40,13 @@\n     Optional<Object> getExtraConfiguration();\n   }\n \n+  static interface PlatformsConfiguration {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3OTU2OA=="}, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDU3NDY4OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParametersSpec.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzozMjoyNFrOGvbFEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzozMjoyNFrOGvbFEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3OTkyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /** Allows to add {@link PlatformsParameters} objects to the list property of the same type. */\n          \n          \n            \n            /** Allows to add {@link PlatformParameters} objects to the list property of the same type. */", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452379922", "createdAt": "2020-07-09T17:32:24Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParametersSpec.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import javax.inject.Inject;\n+import org.gradle.api.Action;\n+import org.gradle.api.model.ObjectFactory;\n+import org.gradle.api.provider.ListProperty;\n+\n+/** Allows to add {@link PlatformsParameters} objects to the list property of the same type. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDU3NTY4OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParametersSpec.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzozMjozOVrOGvbFpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzozMjozOVrOGvbFpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MDA3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class PlatformsParametersSpec {\n          \n          \n            \n            public class PlatformParametersSpec {", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452380071", "createdAt": "2020-07-09T17:32:39Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParametersSpec.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import javax.inject.Inject;\n+import org.gradle.api.Action;\n+import org.gradle.api.model.ObjectFactory;\n+import org.gradle.api.provider.ListProperty;\n+\n+/** Allows to add {@link PlatformsParameters} objects to the list property of the same type. */\n+public class PlatformsParametersSpec {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDYyOTc2OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo0OToyNlrOGvbo3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo0OToyNlrOGvbo3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4OTA4Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class PlatformsParameters implements PlatformsConfiguration {\n          \n          \n            \n            public class PlatformParameters implements PlatformConfiguration {", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452389087", "createdAt": "2020-07-09T17:49:26Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import com.google.cloud.tools.jib.plugins.common.RawConfiguration.PlatformsConfiguration;\n+import javax.annotation.Nullable;\n+\n+/** Configuration of a platform. */\n+public class PlatformsParameters implements PlatformsConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDYzNDY3OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MDo1N1rOGvbsDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MDo1N1rOGvbsDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4OTkwMA==", "bodyText": "There's no other class with the same name Optional used in this file, so you don't have to fully qualify the class. Changing the code like below will make your IDE automatically add import java.util.Optional at the top.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              @Override\n          \n          \n            \n              public java.util.Optional<String> getOs() {\n          \n          \n            \n                return java.util.Optional.ofNullable(this.os);\n          \n          \n            \n              }\n          \n          \n            \n              @Override\n          \n          \n            \n              public Optional<String> getOs() {\n          \n          \n            \n                return Optional.ofNullable(this.os);\n          \n          \n            \n              }", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452389900", "createdAt": "2020-07-09T17:50:57Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import com.google.cloud.tools.jib.plugins.common.RawConfiguration.PlatformsConfiguration;\n+import javax.annotation.Nullable;\n+\n+/** Configuration of a platform. */\n+public class PlatformsParameters implements PlatformsConfiguration {\n+  @Nullable String os;\n+  @Nullable String architecture;\n+\n+  @Override\n+  public java.util.Optional<String> getOs() {\n+    return java.util.Optional.ofNullable(this.os);\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDYzNTEyOnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MTowNFrOGvbsXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MTowNFrOGvbsXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4OTk4MQ==", "bodyText": "ditto", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452389981", "createdAt": "2020-07-09T17:51:04Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformsParameters.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import com.google.cloud.tools.jib.plugins.common.RawConfiguration.PlatformsConfiguration;\n+import javax.annotation.Nullable;\n+\n+/** Configuration of a platform. */\n+public class PlatformsParameters implements PlatformsConfiguration {\n+  @Nullable String os;\n+  @Nullable String architecture;\n+\n+  @Override\n+  public java.util.Optional<String> getOs() {\n+    return java.util.Optional.ofNullable(this.os);\n+  }\n+\n+  @Override\n+  public java.util.Optional<String> getArchitecture() {\n+    return java.util.Optional.ofNullable(this.architecture);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDYzNTc1OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/JibExtension.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MToxOVrOGvbsyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MToxOVrOGvbsyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM5MDA5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *         os = 'value1'\n          \n          \n            \n             *         architecture = 'value2'\n          \n          \n            \n             *         os = 'linux'\n          \n          \n            \n             *         architecture = 'amd64'", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452390090", "createdAt": "2020-07-09T17:51:19Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/JibExtension.java", "diffHunk": "@@ -37,6 +37,12 @@\n  *   from {\n  *     image = 'gcr.io/my-gcp-project/my-base-image'\n  *     credHelper = 'gcr'\n+ *     platforms {\n+ *       platform {\n+ *         os = 'value1'\n+ *         architecture = 'value2'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDY0MjcwOnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MzozMFrOGvbxbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNzo1MzozMFrOGvbxbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM5MTI3OQ==", "bodyText": "I guess this can be final. (final in Java means the reference platforms must be assigned when the class is instantiated and cannot be changed to something else later.)\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private ListProperty<PlatformsParameters> platforms;\n          \n          \n            \n              private final ListProperty<PlatformsParameters> platforms;", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452391279", "createdAt": "2020-07-09T17:53:30Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,30 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;\n+  private final PlatformsParametersSpec platformsParametersSpec;\n+  private ListProperty<PlatformsParameters> platforms;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "532076c692d4a27fb6f9919e5be1dd200b16bcb1"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDgyNjM3OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo0OToxMFrOGvdmiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo0OToxMFrOGvdmiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyMTI1Nw==", "bodyText": "You need to add some annotations like this. For example, @Optional tells the Gradle system that from.platforms is an optional config that the user doesn't have to specify.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452421257", "createdAt": "2020-07-09T18:49:10Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,30 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;\n+  private final PlatformParametersSpec platformsParametersSpec;\n+  private final ListProperty<PlatformParameters> platforms;\n \n   @Inject\n   public BaseImageParameters(ObjectFactory objectFactory) {\n     auth = objectFactory.newInstance(AuthParameters.class, \"from.auth\");\n+    platforms = objectFactory.listProperty(PlatformParameters.class).empty();\n+    platformsParametersSpec =\n+        objectFactory.newInstance(PlatformParametersSpec.class, objectFactory, platforms);\n+\n+    PlatformParameters platform = new PlatformParameters();\n+    platform.os = \"linux\";\n+    platform.architecture = \"amd64\";\n+    platforms.add(platform);\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "368f971ab8feb9f5dc1d533f47bf1ee89222303d"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDg0NzUxOnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1NToxM1rOGvdzoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1NToxM1rOGvdzoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyNDYwOQ==", "bodyText": "Needs to add @Input as in ExtensionsParameters. This tells Gradle that platform.os is an input parameter.\nAnd I think you may need setters. Please check if setting platform.os = ... in build.gradle actually works.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452424609", "createdAt": "2020-07-09T18:55:13Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformParameters.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import com.google.cloud.tools.jib.plugins.common.RawConfiguration.PlatformConfiguration;\n+import java.util.Optional;\n+import javax.annotation.Nullable;\n+\n+/** Configuration of a platform. */\n+public class PlatformParameters implements PlatformConfiguration {\n+  @Nullable String os;\n+  @Nullable String architecture;\n+\n+  @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "368f971ab8feb9f5dc1d533f47bf1ee89222303d"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDg0ODAyOnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1NToxOVrOGvdz6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1NToxOVrOGvdz6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyNDY4MQ==", "bodyText": "ditto", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452424681", "createdAt": "2020-07-09T18:55:19Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/PlatformParameters.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.google.cloud.tools.jib.gradle;\n+\n+import com.google.cloud.tools.jib.plugins.common.RawConfiguration.PlatformConfiguration;\n+import java.util.Optional;\n+import javax.annotation.Nullable;\n+\n+/** Configuration of a platform. */\n+public class PlatformParameters implements PlatformConfiguration {\n+  @Nullable String os;\n+  @Nullable String architecture;\n+\n+  @Override\n+  public Optional<String> getOs() {\n+    return Optional.ofNullable(this.os);\n+  }\n+\n+  @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "368f971ab8feb9f5dc1d533f47bf1ee89222303d"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzgyMjU1OnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDozODozM1rOGv565A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDozODozM1rOGv565A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NTIyMA==", "bodyText": "platformsParametersSpec --> platformParametersSpec", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452885220", "createdAt": "2020-07-10T14:38:33Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,32 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;\n+  private final PlatformParametersSpec platformsParametersSpec;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzgyNTMzOnYy", "diffSide": "RIGHT", "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDozOToxOVrOGv58jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo1NDozNVrOGv6hIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NTY0NA==", "bodyText": "nit: I see the order of existing fields has changed. Let's revert this.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452885644", "createdAt": "2020-07-10T14:39:19Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,32 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg5MTg3Mg==", "bodyText": "Do you mean putting image on top of credHelper?", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452891872", "createdAt": "2020-07-10T14:49:33Z", "author": {"login": "louismurerwa"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,32 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NTY0NA=="}, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg5MjY2OQ==", "bodyText": "Yes. This is just an unnecessary change. No need to change unrelated code in this PR.", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452892669", "createdAt": "2020-07-10T14:50:46Z", "author": {"login": "chanseokoh"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,32 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NTY0NA=="}, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg5NTAxMA==", "bodyText": "Done !!", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452895010", "createdAt": "2020-07-10T14:54:35Z", "author": {"login": "louismurerwa"}, "path": "jib-gradle-plugin/src/main/java/com/google/cloud/tools/jib/gradle/BaseImageParameters.java", "diffHunk": "@@ -29,13 +30,32 @@\n public class BaseImageParameters {\n \n   private final AuthParameters auth;\n-\n-  @Nullable private String image;\n   @Nullable private String credHelper;\n+  @Nullable private String image;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NTY0NA=="}, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzgzMzUxOnYy", "diffSide": "RIGHT", "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo0MToyNFrOGv6Bpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo0MToyNFrOGv6Bpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4Njk1MQ==", "bodyText": "PlatformsParameters --> PlatformParameters", "url": "https://github.com/GoogleContainerTools/jib/pull/2568#discussion_r452886951", "createdAt": "2020-07-10T14:41:24Z", "author": {"login": "chanseokoh"}, "path": "jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/JibPluginConfiguration.java", "diffHunk": "@@ -127,6 +128,22 @@ public PermissionConfiguration() {}\n     }\n   }\n \n+  /** Configuration for {@code platform} parameter. */\n+  public static class PlatformsParameters implements PlatformConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9287c28b170d8b3a8e2ab5d3d1bd06f6fd9dc5ac"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 232, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}