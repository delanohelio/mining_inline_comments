{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMjExODc2", "number": 2876, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo0MjoyNVrOEz6s9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo0MjoyNVrOEz6s9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyODc0NjE0OnYy", "diffSide": "RIGHT", "path": "jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/logging/CliLogger.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo0MjoyNVrOHrb1uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo0MjoyNVrOHrb1uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMwNjkzOQ==", "bodyText": "Flipping enableTwoCursorUpJump doesn't effectively change output and is not required to fix the issue. However, since there's no need to employ the two-cursor-up-jump trick (was only necessary for Maven), I'm turning it off.", "url": "https://github.com/GoogleContainerTools/jib/pull/2876#discussion_r515306939", "createdAt": "2020-10-30T18:42:25Z", "author": {"login": "chanseokoh"}, "path": "jib-cli/src/main/java/com/google/cloud/tools/jib/cli/cli2/logging/CliLogger.java", "diffHunk": "@@ -22,36 +22,54 @@\n import com.google.common.annotations.VisibleForTesting;\n import java.io.PrintStream;\n \n-/** A simple cli logger that logs to the command line based on the configured log level. */\n+/** A simple CLI logger that logs to the command line based on the configured log level. */\n public class CliLogger {\n \n   /**\n-   * Create a new logger for the cli.\n+   * Create a new logger for the CLI.\n    *\n    * @param verbosity the configure verbosity\n    * @param consoleOutput the configured consoleOutput format\n    * @return a new ConsoleLogger instance\n    */\n   public static ConsoleLogger newLogger(Verbosity verbosity, ConsoleOutput consoleOutput) {\n-    CliLogger cliLogger = new CliLogger(verbosity, System.out, System.err);\n-    boolean isRichConsole = isRichConsole(consoleOutput);\n-\n-    return newLogger(cliLogger, isRichConsole, new SingleThreadedExecutor());\n+    return newLogger(\n+        verbosity, consoleOutput, System.out, System.err, new SingleThreadedExecutor());\n   }\n \n   @VisibleForTesting\n   static ConsoleLogger newLogger(\n-      CliLogger cliLogger, boolean isRichConsole, SingleThreadedExecutor executor) {\n-    // rich logger will use an explicit progress event handler\n+      Verbosity verbosity,\n+      ConsoleOutput consoleOutput,\n+      PrintStream stdout,\n+      PrintStream stderr,\n+      SingleThreadedExecutor executor) {\n+    boolean enableRichProgress =\n+        isRichConsole(consoleOutput) && verbosity.atLeast(Verbosity.lifecycle);\n     ConsoleLoggerBuilder builder =\n-        isRichConsole\n-            ? ConsoleLoggerBuilder.rich(executor, true)\n-            : ConsoleLoggerBuilder.plain(executor).progress(cliLogger::lifecycle);\n-    builder.error(cliLogger::error);\n-    builder.warn(cliLogger::warn);\n-    builder.lifecycle(cliLogger::lifecycle);\n-    builder.info(cliLogger::info);\n-    builder.debug(cliLogger::debug);\n+        enableRichProgress\n+            ? ConsoleLoggerBuilder.rich(executor, false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8930bc314b3bceb28c676f3f662a8f4c5205dcf9"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 11, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}