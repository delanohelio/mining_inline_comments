{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNDg4MjI2", "number": 2948, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMjo0Mjo0M1rOFH9NEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMjo0OToxN1rOFH9TfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzODg3MTIzOnYy", "diffSide": "RIGHT", "path": ".github/workflows/jib-gradle-prepare-release.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMjo0Mjo0M1rOIJoJHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMzoyMjoyNFrOIJpFLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk2NTc5MQ==", "bodyText": "so we can't validate this in the inputs section above?", "url": "https://github.com/GoogleContainerTools/jib/pull/2948#discussion_r546965791", "createdAt": "2020-12-21T22:42:43Z", "author": {"login": "loosebazooka"}, "path": ".github/workflows/jib-gradle-prepare-release.yml", "diffHunk": "@@ -1,38 +1,61 @@\n-name: Prepare Jib Gradle release\n+name: Prepare Jib release\n on:\n   workflow_dispatch:\n     inputs:\n+      project:\n+        description: Jib project to release\n+        required: true\n+        default: (build-plan | core | maven | gradle | extension-common | maven-extension | gradle-extension)\n       release_version:\n         description: new release version\n         required: true\n         default: (for example, 0.1.0)\n \n jobs:\n   release:\n-    name: Prepare Jib Gradle release\n+    name: Prepare Jib release\n     runs-on: ubuntu-latest\n     steps:\n       - name: Check out code\n         uses: actions/checkout@v2\n \n-      - name: Build project\n+      - name: Check input\n         run: |\n+          echo '* input project: \"${{ github.event.inputs.project }}\"'\n+\n+          case ${{ github.event.inputs.project }} in\n+            build-plan|core|maven|gradle|extension-common|maven-extension|gradle-extension) ;;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c71baa6469750ca41d0db529ee97c9543cfbba5"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk4MTE2Ng==", "bodyText": "I was not able to find any mentions about such a feature. This article says\n\nValidation for these inputs is currently limited to simple presence checking, and the only input type available is a free text field (strings only).\n\nAlso found this user question asked on Aug 13 about a feature for the options-list UI.", "url": "https://github.com/GoogleContainerTools/jib/pull/2948#discussion_r546981166", "createdAt": "2020-12-21T23:22:24Z", "author": {"login": "chanseokoh"}, "path": ".github/workflows/jib-gradle-prepare-release.yml", "diffHunk": "@@ -1,38 +1,61 @@\n-name: Prepare Jib Gradle release\n+name: Prepare Jib release\n on:\n   workflow_dispatch:\n     inputs:\n+      project:\n+        description: Jib project to release\n+        required: true\n+        default: (build-plan | core | maven | gradle | extension-common | maven-extension | gradle-extension)\n       release_version:\n         description: new release version\n         required: true\n         default: (for example, 0.1.0)\n \n jobs:\n   release:\n-    name: Prepare Jib Gradle release\n+    name: Prepare Jib release\n     runs-on: ubuntu-latest\n     steps:\n       - name: Check out code\n         uses: actions/checkout@v2\n \n-      - name: Build project\n+      - name: Check input\n         run: |\n+          echo '* input project: \"${{ github.event.inputs.project }}\"'\n+\n+          case ${{ github.event.inputs.project }} in\n+            build-plan|core|maven|gradle|extension-common|maven-extension|gradle-extension) ;;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk2NTc5MQ=="}, "originalCommit": {"oid": "5c71baa6469750ca41d0db529ee97c9543cfbba5"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzODg4NzY0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/jib-gradle-prepare-release.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMjo0OToxN1rOIJoSTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMzoyMzowM1rOIJpF1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk2ODE0MA==", "bodyText": "Just to clarify, we don't yet draft releases for the extension projects?", "url": "https://github.com/GoogleContainerTools/jib/pull/2948#discussion_r546968140", "createdAt": "2020-12-21T22:49:17Z", "author": {"login": "loosebazooka"}, "path": ".github/workflows/jib-gradle-prepare-release.yml", "diffHunk": "@@ -41,24 +64,38 @@ jobs:\n         with:\n           # Provided by Actions. No need to create a token.\n           github_token: ${{ secrets.GITHUB_TOKEN }}\n-          source_branch: gradle_release_v${{ github.event.inputs.release_version }}\n-          pr_title: \"Gradle release v${{ github.event.inputs.release_version }}\"\n+          source_branch: ${{ github.event.inputs.project }}-release-v${{ github.event.inputs.release_version }}\n+          pr_title: \"${{ github.event.inputs.project }} release v${{ github.event.inputs.release_version }}\"\n           pr_body: \"To be merged after the release is complete.\"\n \n-      - name: Draft GitHub release\n+      - name: Draft Maven/Gradle GitHub release", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c71baa6469750ca41d0db529ee97c9543cfbba5"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk4MTMzMw==", "bodyText": "Yeah, we never created GitHub releases for these. (We could have.)", "url": "https://github.com/GoogleContainerTools/jib/pull/2948#discussion_r546981333", "createdAt": "2020-12-21T23:23:03Z", "author": {"login": "chanseokoh"}, "path": ".github/workflows/jib-gradle-prepare-release.yml", "diffHunk": "@@ -41,24 +64,38 @@ jobs:\n         with:\n           # Provided by Actions. No need to create a token.\n           github_token: ${{ secrets.GITHUB_TOKEN }}\n-          source_branch: gradle_release_v${{ github.event.inputs.release_version }}\n-          pr_title: \"Gradle release v${{ github.event.inputs.release_version }}\"\n+          source_branch: ${{ github.event.inputs.project }}-release-v${{ github.event.inputs.release_version }}\n+          pr_title: \"${{ github.event.inputs.project }} release v${{ github.event.inputs.release_version }}\"\n           pr_body: \"To be merged after the release is complete.\"\n \n-      - name: Draft GitHub release\n+      - name: Draft Maven/Gradle GitHub release", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk2ODE0MA=="}, "originalCommit": {"oid": "5c71baa6469750ca41d0db529ee97c9543cfbba5"}, "originalPosition": 79}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4896, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}