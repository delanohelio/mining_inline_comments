{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MTExMTQw", "number": 2295, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyOTo0OFrODfuHpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyOTo0OFrODfuHpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTg4MDY4OnYy", "diffSide": "RIGHT", "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/UpdateChecker.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyOTo0OFrOFpl1cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMzowNzo1M1rOFpmrMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NTgyNA==", "bodyText": "But this means if we ever create an empty file, we can never escape the situation and always call the endpoint. I think for this file, we don't need to check the size, because we don't show a warning. And this will auto-fix the empty file problem by deleting it.", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#discussion_r379155824", "createdAt": "2020-02-13T22:29:48Z", "author": {"login": "chanseokoh"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/UpdateChecker.java", "diffHunk": "@@ -134,7 +133,7 @@ void setDisableUpdateCheck(boolean disableUpdateCheck) {\n       }\n \n       // Check time of last update check\n-      if (Files.exists(lastUpdateCheck)) {\n+      if (Files.exists(lastUpdateCheck) && Files.size(lastUpdateCheck) > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1OTEzNA==", "bodyText": "If we create an empty file won't it be fixed when it's written to at L163? I guess it doesn't matter.", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#discussion_r379159134", "createdAt": "2020-02-13T22:38:23Z", "author": {"login": "TadCordle"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/UpdateChecker.java", "diffHunk": "@@ -134,7 +133,7 @@ void setDisableUpdateCheck(boolean disableUpdateCheck) {\n       }\n \n       // Check time of last update check\n-      if (Files.exists(lastUpdateCheck)) {\n+      if (Files.exists(lastUpdateCheck) && Files.size(lastUpdateCheck) > 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NTgyNA=="}, "originalCommit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE2OTU4Ng==", "bodyText": "Oh! I didn't realize that.", "url": "https://github.com/GoogleContainerTools/jib/pull/2295#discussion_r379169586", "createdAt": "2020-02-13T23:07:53Z", "author": {"login": "chanseokoh"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/UpdateChecker.java", "diffHunk": "@@ -134,7 +133,7 @@ void setDisableUpdateCheck(boolean disableUpdateCheck) {\n       }\n \n       // Check time of last update check\n-      if (Files.exists(lastUpdateCheck)) {\n+      if (Files.exists(lastUpdateCheck) && Files.size(lastUpdateCheck) > 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NTgyNA=="}, "originalCommit": {"oid": "64d886433488b63809c176fc77cb9915e7ea5015"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 512, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}