{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MDYwNDk3", "number": 2704, "title": "Fix NullPointerException during preconditions validation for Java 9+", "bodyText": "In Java 9+,  passing in null to ImmutableCollection#contains results in a NullPointerException. This PR uses a workaround to manually check for null values in an immutablecollection instead of calling .contains().\nSince ImmutableCollection#contains in Java8 accepts null (https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableList.html#contains-java.lang.Object-), this issue can't be reproduced in Java 8.\nFixes #2702", "createdAt": "2020-08-17T20:49:03Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2704", "merged": true, "mergeCommit": {"oid": "ff58ee083d44987a641586e916a8bca66ed3ab98"}, "closed": true, "closedAt": "2020-08-18T20:16:14Z", "author": {"login": "mpeddada1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_4K0sgH2gAyNDY5MDYwNDk3OmJlNjYzMTU5NjI3OTY2NDJiMjU3NjNhNTQ3OWVlMzlkMTJiMGMxNTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAMnvNAFqTQ2OTc4NDE3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be66315962796642b25763a5479ee39d12b0c157", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/be66315962796642b25763a5479ee39d12b0c157", "committedDate": "2020-08-17T20:09:49Z", "message": "Workaround for .contains(null) to prevent npe in java 9+"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a630655373ae4138b35a6516cec71b6227084fd4", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/a630655373ae4138b35a6516cec71b6227084fd4", "committedDate": "2020-08-17T20:18:37Z", "message": "formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a63fe93f68f36685147ea4c1125230ac6b1ead25", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/a63fe93f68f36685147ea4c1125230ac6b1ead25", "committedDate": "2020-08-17T22:38:25Z", "message": "empty commit to trigger builds"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjMwMDc1", "url": "https://github.com/GoogleContainerTools/jib/pull/2704#pullrequestreview-469630075", "createdAt": "2020-08-18T16:34:11Z", "commit": {"oid": "be66315962796642b25763a5479ee39d12b0c157"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNjozNDoxMlrOHCcrlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNjozNDoxMlrOHCcrlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMyOTExMQ==", "bodyText": "May the non negative form be clearer ?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        !programArguments.stream().anyMatch(Objects::isNull), \"program arguments list contains null elements\");\n          \n          \n            \n                        programArguments.stream().allMatch(Objects::nonNull), \"program arguments list contains null elements\");", "url": "https://github.com/GoogleContainerTools/jib/pull/2704#discussion_r472329111", "createdAt": "2020-08-18T16:34:12Z", "author": {"login": "vgalloy"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/configuration/ContainerConfiguration.java", "diffHunk": "@@ -122,7 +122,7 @@ public Builder setProgramArguments(@Nullable List<String> programArguments) {\n         this.programArguments = null;\n       } else {\n         Preconditions.checkArgument(\n-            !programArguments.contains(null), \"program arguments list contains null elements\");\n+            !programArguments.stream().anyMatch(Objects::isNull), \"program arguments list contains null elements\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be66315962796642b25763a5479ee39d12b0c157"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzExNjM5", "url": "https://github.com/GoogleContainerTools/jib/pull/2704#pullrequestreview-469711639", "createdAt": "2020-08-18T18:19:24Z", "commit": {"oid": "a63fe93f68f36685147ea4c1125230ac6b1ead25"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5639c3facb41501889d7f6ab6f317bc069efb82a", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/5639c3facb41501889d7f6ab6f317bc069efb82a", "committedDate": "2020-08-18T18:28:57Z", "message": "handle ports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abe09cfec1e9b2f546193eaf550229249b84632e", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/abe09cfec1e9b2f546193eaf550229249b84632e", "committedDate": "2020-08-18T19:06:11Z", "message": "making preconditions more clear"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5949a933eee42a6ce732ad8135cf8f17069d4f89", "author": {"user": {"login": "mpeddada1", "name": "Mridula"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/5949a933eee42a6ce732ad8135cf8f17069d4f89", "committedDate": "2020-08-18T19:08:55Z", "message": "making preconditions more clear"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5Nzg0MTcz", "url": "https://github.com/GoogleContainerTools/jib/pull/2704#pullrequestreview-469784173", "createdAt": "2020-08-18T19:59:30Z", "commit": {"oid": "5949a933eee42a6ce732ad8135cf8f17069d4f89"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4964, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}