{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0Nzk1MjUz", "number": 2366, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTozODoyNFrODsTuyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0Mjo1NlrODsTwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Nzg3MjEwOnYy", "diffSide": "RIGHT", "path": "jib-build-plan/build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTozODoyNFrOF9I1_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNDoxMjo1MlrOF9ruxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1MjM1MQ==", "bodyText": "is this a modules thing?", "url": "https://github.com/GoogleContainerTools/jib/pull/2366#discussion_r399652351", "createdAt": "2020-03-28T11:38:24Z", "author": {"login": "loosebazooka"}, "path": "jib-build-plan/build.gradle", "diffHunk": "@@ -25,7 +25,7 @@ jar {\n     attributes 'Bundle-Vendor': 'Google LLC'\n     attributes 'Bundle-DocURL': 'https://github.com/GoogleContainerTools/jib'\n     attributes 'Bundle-License': 'https://www.apache.org/licenses/LICENSE-2.0'\n-    attributes 'Export-Package': 'com.google.cloud.tools.jib.plugins.api.buildplan'\n+    attributes 'Export-Package': 'com.google.cloud.tools.jib.api.buildplan'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0342e9851d4cddca1fc410e329abb9cf546918b8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIyMzk0Mg==", "bodyText": "Yes, an OSGi thing (not JPMS).", "url": "https://github.com/GoogleContainerTools/jib/pull/2366#discussion_r400223942", "createdAt": "2020-03-30T14:12:52Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/build.gradle", "diffHunk": "@@ -25,7 +25,7 @@ jar {\n     attributes 'Bundle-Vendor': 'Google LLC'\n     attributes 'Bundle-DocURL': 'https://github.com/GoogleContainerTools/jib'\n     attributes 'Bundle-License': 'https://www.apache.org/licenses/LICENSE-2.0'\n-    attributes 'Export-Package': 'com.google.cloud.tools.jib.plugins.api.buildplan'\n+    attributes 'Export-Package': 'com.google.cloud.tools.jib.api.buildplan'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1MjM1MQ=="}, "originalCommit": {"oid": "0342e9851d4cddca1fc410e329abb9cf546918b8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Nzg3NDk1OnYy", "diffSide": "RIGHT", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0MjowOVrOF9I3ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0MjowOVrOF9I3ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1MjcwOA==", "bodyText": "Can we leave the comment in also?", "url": "https://github.com/GoogleContainerTools/jib/pull/2366#discussion_r399652708", "createdAt": "2020-03-28T11:42:09Z", "author": {"login": "loosebazooka"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/api/JibContainerBuilder.java", "diffHunk": "@@ -640,8 +642,13 @@ public JibContainerBuilder applyContainerBuildPlan(ContainerBuildPlan buildPlan)\n     baseImageConfiguration.getTarPath().ifPresent(builder::setTarPath);\n     baseImageConfiguration = builder.build();\n \n-    // For now, only FileEntriesLayer is supported in jib-core.\n-    layerConfigurations = (List<FileEntriesLayer>) buildPlan.getLayers();\n+    Function<LayerObject, FileEntriesLayer> castToFileEntriesLayer =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0342e9851d4cddca1fc410e329abb9cf546918b8"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Nzg3NTcwOnYy", "diffSide": "RIGHT", "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/PluginConfigurationProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0Mjo1NlrOF9I3vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0Mjo1NlrOF9I3vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1Mjc5OA==", "bodyText": "Presumably no user will ever hit this, but should we include an error message if they do?", "url": "https://github.com/GoogleContainerTools/jib/pull/2366#discussion_r399652798", "createdAt": "2020-03-28T11:42:56Z", "author": {"login": "loosebazooka"}, "path": "jib-plugins-common/src/main/java/com/google/cloud/tools/jib/plugins/common/PluginConfigurationProcessor.java", "diffHunk": "@@ -302,7 +303,9 @@ public static String getSkaffoldSyncMap(\n     // since jib has already expanded out directories after processing everything, we just\n     // ignore directories and provide only files to watch\n     Set<Path> excludesExpanded = getAllFiles(excludes);\n-    for (FileEntriesLayer layer : jibContainerBuilder.describeContainer().getFileEntriesLayers()) {\n+    for (LayerObject layerObject : jibContainerBuilder.toContainerBuildPlan().getLayers()) {\n+      Verify.verify(layerObject instanceof FileEntriesLayer);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0342e9851d4cddca1fc410e329abb9cf546918b8"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 328, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}