{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTYwNTk1", "number": 2312, "title": "Container Build Plan specification", "bodyText": "> Preview <", "createdAt": "2020-02-26T23:32:26Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2312", "merged": true, "mergeCommit": {"oid": "42264dedd884ee1cc7a76b751585a8b6d49ff02f"}, "closed": true, "closedAt": "2020-03-12T20:00:13Z", "author": {"login": "chanseokoh"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIOjerAH2gAyMzgwNTYwNTk1OmZkZmNhYWIzY2ExMDNlZTI1MWNiNjBlMGMxOWRhN2YzZGQyNDI1Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNAxn7AFqTM3MzgzNjk2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fdfcaab3ca103ee251cb60e0c19da7f3dd242537", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/fdfcaab3ca103ee251cb60e0c19da7f3dd242537", "committedDate": "2020-02-26T22:34:54Z", "message": "Container Build Plan Specification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "136ad827b17d9c7a32d097cc97e7e716c1ceeeb4", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/136ad827b17d9c7a32d097cc97e7e716c1ceeeb4", "committedDate": "2020-02-26T22:37:54Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/65505a4ae1a17c2a08323f2094e97409e9e1c53c", "committedDate": "2020-02-26T23:31:10Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MDEyNTY0", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#pullrequestreview-369012564", "createdAt": "2020-03-04T18:20:33Z", "commit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyMDozM1rOFx4XSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxODoyOToyM1rOFx4qFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0ODAwOQ==", "bodyText": "should we allow passthrough from the baseImage env?\nCould path be \"PATH:$PATH\" ?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387848009", "createdAt": "2020-03-04T18:20:33Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0OTU3Ng==", "bodyText": "files is not documented anywhere?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387849576", "createdAt": "2020-03-04T18:23:23Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",\n+          \"dest\": \"/app/classes/Main.class\",\n+          \"modificationTime\": \"2019-07-15T10:15:30+09:00\",\n+          \"permissions\": \"600\",\n+        },\n+        {\n+          \"src\": \"/home/jane/libs/util-1.0.jar\",\n+          \"dest\": \"/app/jars/util.jar\",\n+          \"modificationTime\": \"2011-12-03T22:42:05Z\",\n+        }\n+      ]\n+    },\n+    {\n+      \"archive\": {\n+        \"mediaType\": \"...\",\n+        \"path\": \"/home/jane/misc/cacerts.tar\",\n+      }\n+    },\n+    {\n+      \"files\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTc1Mg==", "bodyText": "should each \"layers\" entry have a type and name?\ncould it be\n\"layers\": [\n  {\n    \"type\": \"entries/v1\"\n    \"name\": \"application classes\"\n    \"values\": [\n      {\n        ...\n      },\n      {\n        ...\n      },\n     ]\n  },\n  {\n    \"type\": \"archive/v1\"\n    \"name\": \"ca-certs\"\n    \"values\": {\n      \"mediaType\": \"....\"\n      \"path\": \"/hasdfasdfafs/cacerts.tar\"\n    }\n  }\n}", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387851752", "createdAt": "2020-03-04T18:27:22Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MTk5NQ==", "bodyText": "should we allow blob wildcards in here?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387851995", "createdAt": "2020-03-04T18:27:51Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {\n+          \"src\": \"/home/jane/workspace/bin/Main.class\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg1MjgyMA==", "bodyText": "could we have nested file-permission/owner configs? like in go/cbsp?", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#discussion_r387852820", "createdAt": "2020-03-04T18:29:23Z", "author": {"login": "loosebazooka"}, "path": "proposals/container-build-plan-spec.md", "diffHunk": "@@ -0,0 +1,176 @@\n+# Container Build Plan Specification\n+\n+Specification for building a container image.\n+\n+Although looking similar, the structure and semantics of similary named properties are different from the Docker/[OCI Image Configuration](https://github.com/opencontainers/image-spec/blob/master/config.md).\n+\n+## Example\n+\n+```\n+{\n+  \"baseImage\": \"gcr.io/distroless/java@sha256:b715126ebd36e5d5c2fd730f46a5b3c3b760e82dc18dffff7f5498d0151137c9\",\n+  \"architecture\": \"amd64\",\n+  \"os\": \"linux\",\n+  \"format\": \"Docker\",\n+  \"created\": \"2011-12-03T22:42:05Z\",\n+\n+  \"config\": {\n+    \"env\": {\n+      \"KEY\": \"value\",\n+      \"PATH\": \"/usr/sbin:/usr/bin:/sbin:/bin\",\n+      \"HOME\": \"/home/guest\"\n+    },\n+    \"labels\": {\n+      \"com.example.department.some-label-key\": \"avocado explosion\",\n+      \"com.example.system.xml\": \"<message>delivered</message>\"\n+    },\n+    \"volumes\": [\"/mnt/shared\", \"/tmp\"]\n+    \"exposedPorts\": [\"8080\", \"53/udp\", \"80/tcp\"]\n+    \"user\": \":12345\",\n+    \"workingDir\": \"/\n+    \"entrypoint\": [\"/bin/bash\", \"-c\"],\n+    \"cmd\": [\n+      \"-x\",\n+      \"set -o errexit ; echo \\\"\\$0=$0 \\$1=$1\\\" ; echo \\\"\\$PATH=${PATH}\\\" ; exit 0\",\n+      \"my-shell-name\",\n+      \"first shell arg\"\n+    ],\n+  },\n+\n+  \"layers\": [\n+    {\n+      \"entries\": [\n+        {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65505a4ae1a17c2a08323f2094e97409e9e1c53c"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ef257e49fad8509b9f0d816b48b3179c4a9f0d9", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/8ef257e49fad8509b9f0d816b48b3179c4a9f0d9", "committedDate": "2020-03-06T20:51:36Z", "message": "Covert layer to use polymorphic type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3760b8c829ce9d9592e8d7e7f55fd38482db7c13", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/3760b8c829ce9d9592e8d7e7f55fd38482db7c13", "committedDate": "2020-03-11T23:22:34Z", "message": "Update container-build-plan-spec.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczODM2OTYz", "url": "https://github.com/GoogleContainerTools/jib/pull/2312#pullrequestreview-373836963", "createdAt": "2020-03-12T19:21:19Z", "commit": {"oid": "3760b8c829ce9d9592e8d7e7f55fd38482db7c13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 385, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}