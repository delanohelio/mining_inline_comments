{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MDQ5MzYw", "number": 2499, "title": "Set configured file ownership when creating tarballs", "bodyText": "Towards writing an extension for #1257 and #1955, as well as a workaround for #1270.", "createdAt": "2020-05-27T18:51:08Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2499", "merged": true, "mergeCommit": {"oid": "ee8ab1b9a0ee7a28991facfbea1859f6892f347f"}, "closed": true, "closedAt": "2020-05-28T18:58:58Z", "author": {"login": "chanseokoh"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclI7M1gH2gAyNDI0MDQ5MzYwOjYwZTczMjgwMDJiNGE3ODdiMjNiZWYxMjg2NzA5MWEyMjlkOWFhOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclyW-tAH2gAyNDI0MDQ5MzYwOjZmMGYxNDBlNGUxMjhlZDNlOGVmZjQzYzAxYjQ0NmRjOTNkYmI0Y2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "60e7328002b4a787b23bef12867091a229d9aa8f", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/60e7328002b4a787b23bef12867091a229d9aa8f", "committedDate": "2020-05-26T18:25:11Z", "message": "Allow setting owners in layers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "612e75e4266d482e0f67b587d54a2a3c7f3d81a8", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/612e75e4266d482e0f67b587d54a2a3c7f3d81a8", "committedDate": "2020-05-26T18:58:57Z", "message": "Update API to accept file ownership in layers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e81774e319fbeedc1cbae534e27ec5b2cf7ddb5d", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e81774e319fbeedc1cbae534e27ec5b2cf7ddb5d", "committedDate": "2020-05-26T19:10:12Z", "message": "CHANGELOG"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2dd5a4600cebbbfb21cd0a1cba8201cb1fcb23e", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e2dd5a4600cebbbfb21cd0a1cba8201cb1fcb23e", "committedDate": "2020-05-26T19:14:50Z", "message": "Merge branch 'add-owners-property' into file-ownership"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c1a219eb5983d65e322a774005017a160811740", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/1c1a219eb5983d65e322a774005017a160811740", "committedDate": "2020-05-26T19:21:08Z", "message": "WIP: enable local dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b33f2de57003bc46649572b153db2cd01014502d", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/b33f2de57003bc46649572b153db2cd01014502d", "committedDate": "2020-05-26T21:23:44Z", "message": "Change default value for ownership"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4c4b5a45feb5558bc7bf40f6fd551269e9f26b", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/9a4c4b5a45feb5558bc7bf40f6fd551269e9f26b", "committedDate": "2020-05-26T21:38:10Z", "message": "Update Javadoc and Build Plan Spec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92f1323eee6967e4780ed393f55326e242481de6", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/92f1323eee6967e4780ed393f55326e242481de6", "committedDate": "2020-05-26T21:47:09Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce9da6d183d17f0e53cb84767afd98b73b0caa86", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/ce9da6d183d17f0e53cb84767afd98b73b0caa86", "committedDate": "2020-05-26T21:48:12Z", "message": "Merge branch 'add-owners-property' into file-ownership"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92c3fd6fe44e5606b420e97db6c4ecfdf3b0ca0e", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/92c3fd6fe44e5606b420e97db6c4ecfdf3b0ca0e", "committedDate": "2020-05-26T22:29:12Z", "message": "Set file ownership in layers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d088b39539ed6764d2ef7dd37219480608ff18bc", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/d088b39539ed6764d2ef7dd37219480608ff18bc", "committedDate": "2020-05-26T23:56:03Z", "message": "WIP: snapshots"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "855a18d7f83c454ec1b089657e8b65439e7190e0", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/855a18d7f83c454ec1b089657e8b65439e7190e0", "committedDate": "2020-05-27T17:27:10Z", "message": "resolve version conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b43d182a868ed501f6ae2eef8180b8b945f068b", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/3b43d182a868ed501f6ae2eef8180b8b945f068b", "committedDate": "2020-05-27T17:27:26Z", "message": "Merge branch 'master' into file-ownership"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3779d87e8366afa4a098bfc0f48ab94e0d2f638", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/e3779d87e8366afa4a098bfc0f48ab94e0d2f638", "committedDate": "2020-05-27T17:40:21Z", "message": "Remove old code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a784b363fee948e4a81fc2c04d2083d6e2242bd", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/4a784b363fee948e4a81fc2c04d2083d6e2242bd", "committedDate": "2020-05-27T18:58:04Z", "message": "CHANGELOG"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTI1NDYx", "url": "https://github.com/GoogleContainerTools/jib/pull/2499#pullrequestreview-419525461", "createdAt": "2020-05-27T19:05:28Z", "commit": {"oid": "4a784b363fee948e4a81fc2c04d2083d6e2242bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTowNToyOFrOGbZGqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTowNToyOFrOGbZGqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM3NjA0Mw==", "bodyText": "Seems like there could be some value in separating this out for readability (and documentability)", "url": "https://github.com/GoogleContainerTools/jib/pull/2499#discussion_r431376043", "createdAt": "2020-05-27T19:05:28Z", "author": {"login": "loosebazooka"}, "path": "jib-core/src/main/java/com/google/cloud/tools/jib/image/ReproducibleLayerBuilder.java", "diffHunk": "@@ -115,6 +115,34 @@ public Blob build() {\n       entry.setMode((entry.getMode() & ~0777) | layerEntry.getPermissions().getPermissionBits());\n       entry.setModTime(layerEntry.getModificationTime().toEpochMilli());\n \n+      entry.setUserId(0);\n+      entry.setGroupId(0);\n+      entry.setUserName(\"\");\n+      entry.setGroupName(\"\");\n+      if (!layerEntry.getOwnership().isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a784b363fee948e4a81fc2c04d2083d6e2242bd"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1b184a75839caab0c3f36d50f4f4cc544ae9b3e", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/d1b184a75839caab0c3f36d50f4f4cc544ae9b3e", "committedDate": "2020-05-27T19:48:21Z", "message": "Factor out code section into method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f20e6f700a682e50d3ef7b943f8753becf25d43e", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/f20e6f700a682e50d3ef7b943f8753becf25d43e", "committedDate": "2020-05-28T17:31:56Z", "message": "Merge branch 'master' into file-ownership"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMzc4Njk3", "url": "https://github.com/GoogleContainerTools/jib/pull/2499#pullrequestreview-420378697", "createdAt": "2020-05-28T18:26:44Z", "commit": {"oid": "f20e6f700a682e50d3ef7b943f8753becf25d43e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODoyNjo0NFrOGcBZIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODoyNjo0NFrOGcBZIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAzNjEzMA==", "bodyText": "Seems like this is a little wordy?\nPrevious locally cached application layers(<project root>/build/jib-cache) will be ignored because of changes to the caching selectors. (#2499) ?", "url": "https://github.com/GoogleContainerTools/jib/pull/2499#discussion_r432036130", "createdAt": "2020-05-28T18:26:44Z", "author": {"login": "loosebazooka"}, "path": "jib-gradle-plugin/CHANGELOG.md", "diffHunk": "@@ -7,6 +7,8 @@ All notable changes to this project will be documented in this file.\n \n ### Changed\n \n+- Invalidates Jib's local application layer cache (`<project root>/build/jib-cache` by default) due to changes to caching mechanism. (In other words, the local cache generated by old Jib versions is incompatible with this version.) ([#2499](https://github.com/GoogleContainerTools/jib/pull/2499))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f20e6f700a682e50d3ef7b943f8753becf25d43e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f0f140e4e128ed3e8eff43c01b446dc93dbb4cb", "author": {"user": {"login": "chanseokoh", "name": "Chanseok Oh"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/6f0f140e4e128ed3e8eff43c01b446dc93dbb4cb", "committedDate": "2020-05-28T18:41:38Z", "message": "Update CHANGELOG"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 18, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}