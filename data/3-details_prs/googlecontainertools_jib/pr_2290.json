{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0NDU1NjU4", "number": 2290, "title": "proposal for user control of skaffold helpers", "bodyText": "fyi @lightoze @balopat\nrendered: https://github.com/GoogleContainerTools/jib/blob/skaffold-config-proposal/proposals/skaffold_config.md\nShould help with: GoogleContainerTools/skaffold#3457", "createdAt": "2020-02-12T18:16:15Z", "url": "https://github.com/GoogleContainerTools/jib/pull/2290", "merged": true, "mergeCommit": {"oid": "35be192b404907e972272d8e63733323740e7ccb"}, "closed": true, "closedAt": "2020-02-14T20:23:38Z", "author": {"login": "loosebazooka"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDqgNdgBqjMwMzE5MTQ1MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFSXeRAFqTM1OTkyOTAyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd706586d0fa46a8c0c77a86fb08c683871ac23c", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/bd706586d0fa46a8c0c77a86fb08c683871ac23c", "committedDate": "2020-02-12T18:15:37Z", "message": "proposal for user control of skaffold helpers"}, "afterCommit": {"oid": "f0b5010ec028b23563aea637e5388ab0b973fe62", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/f0b5010ec028b23563aea637e5388ab0b973fe62", "committedDate": "2020-02-12T18:18:54Z", "message": "proposal for user control of skaffold helpers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTI2Nzkz", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#pullrequestreview-358526793", "createdAt": "2020-02-13T20:26:07Z", "commit": {"oid": "f0b5010ec028b23563aea637e5388ab0b973fe62"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyNjowOFrOFpiaag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyNzowM1rOFpicHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5OTc1NA==", "bodyText": "Shouldn't be in <outputPaths>.", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#discussion_r379099754", "createdAt": "2020-02-13T20:26:08Z", "author": {"login": "TadCordle"}, "path": "proposals/skaffold_config.md", "diffHunk": "@@ -0,0 +1,62 @@\n+# Proposal: Control over skaffold tasks/goals\n+\n+Relevant issues: https://github.com/GoogleContainerTools/skaffold/issues/3457, \n+\n+## Motivation\n+\n+Jib makes assumptions about what files to watch based on what it knows. Users\n+may have other ideas about intermediate build processes that occur before jib is\n+ready to process anything. Allowing users to configure the skaffold tasks to\n+correctly reflect what their build is doing could help our users use skaffold\n+more effectively.\n+\n+## Current Configuration\n+\n+None: Jib does not have any way to configure `_skaffold` tasks\n+\n+## Proposed Configuration\n+The proposal is to allow users to configure what jib shares with skaffold\n+1. Allowing inclusion/exclusion on top of the jib defaults for files to watch\n+2. Allow exclusion of files that will be sync'd\n+\n+The final jib output will not deviate from what skaffold expects, but just\n+allows for tighter control of what is sent to skaffold from jib.\n+\n+#### Gradle (`build.gradle`)\n+```\n+jib {\n+  ...\n+  skaffold {\n+    watch {\n+      include = project.files('my/custom/inputs')\n+      exclude = ['some/file/i/dont/want/watched']\n+    }\n+    sync {\n+      exclude = 'a/file'\n+    }\n+  }\n+}\n+```\n+\n+#### Maven (`pom.xml`)\n+```xml\n+<configuration>\n+  <outputPaths>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0b5010ec028b23563aea637e5388ab0b973fe62"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5OTg2MA==", "bodyText": "Missing </sync>", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#discussion_r379099860", "createdAt": "2020-02-13T20:26:22Z", "author": {"login": "TadCordle"}, "path": "proposals/skaffold_config.md", "diffHunk": "@@ -0,0 +1,62 @@\n+# Proposal: Control over skaffold tasks/goals\n+\n+Relevant issues: https://github.com/GoogleContainerTools/skaffold/issues/3457, \n+\n+## Motivation\n+\n+Jib makes assumptions about what files to watch based on what it knows. Users\n+may have other ideas about intermediate build processes that occur before jib is\n+ready to process anything. Allowing users to configure the skaffold tasks to\n+correctly reflect what their build is doing could help our users use skaffold\n+more effectively.\n+\n+## Current Configuration\n+\n+None: Jib does not have any way to configure `_skaffold` tasks\n+\n+## Proposed Configuration\n+The proposal is to allow users to configure what jib shares with skaffold\n+1. Allowing inclusion/exclusion on top of the jib defaults for files to watch\n+2. Allow exclusion of files that will be sync'd\n+\n+The final jib output will not deviate from what skaffold expects, but just\n+allows for tighter control of what is sent to skaffold from jib.\n+\n+#### Gradle (`build.gradle`)\n+```\n+jib {\n+  ...\n+  skaffold {\n+    watch {\n+      include = project.files('my/custom/inputs')\n+      exclude = ['some/file/i/dont/want/watched']\n+    }\n+    sync {\n+      exclude = 'a/file'\n+    }\n+  }\n+}\n+```\n+\n+#### Maven (`pom.xml`)\n+```xml\n+<configuration>\n+  <outputPaths>\n+    <skaffold>/absolute/location.tar\n+      <watch>\n+        <includes>some/file,another/file</includes>\n+        <excludes>\n+          <exclude>not/me</exclude>\n+          <exclude>also/not/me</exclude>\n+        <excludes>\n+      </watch>\n+      <sync>\n+        <excludes>some/file<excludes>\n+    </skaffold>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0b5010ec028b23563aea637e5388ab0b973fe62"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEwMDE5MA==", "bodyText": "If there's only one,\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Relevant issues: https://github.com/GoogleContainerTools/skaffold/issues/3457, \n          \n          \n            \n            Relevant issue: https://github.com/GoogleContainerTools/skaffold/issues/3457", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#discussion_r379100190", "createdAt": "2020-02-13T20:27:03Z", "author": {"login": "TadCordle"}, "path": "proposals/skaffold_config.md", "diffHunk": "@@ -0,0 +1,62 @@\n+# Proposal: Control over skaffold tasks/goals\n+\n+Relevant issues: https://github.com/GoogleContainerTools/skaffold/issues/3457, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0b5010ec028b23563aea637e5388ab0b973fe62"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8b3c0ed5b02ca38d7ca9d59b11dc31a5cd0b3f3", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/b8b3c0ed5b02ca38d7ca9d59b11dc31a5cd0b3f3", "committedDate": "2020-02-13T20:31:45Z", "message": "proposal for user control of skaffold helpers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97ad40c44c04b78adbad0cbe5a22f1577e9dc232", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/97ad40c44c04b78adbad0cbe5a22f1577e9dc232", "committedDate": "2020-02-13T20:31:45Z", "message": "fixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "86e5563ea416e3b3020bb79bd114c2039d737d0e", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/86e5563ea416e3b3020bb79bd114c2039d737d0e", "committedDate": "2020-02-13T20:30:02Z", "message": "fixes"}, "afterCommit": {"oid": "97ad40c44c04b78adbad0cbe5a22f1577e9dc232", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/97ad40c44c04b78adbad0cbe5a22f1577e9dc232", "committedDate": "2020-02-13T20:31:45Z", "message": "fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99b58fe1fdc0e7f9776b23781104a580676aa66f", "author": {"user": {"login": "loosebazooka", "name": "Appu"}}, "url": "https://github.com/GoogleContainerTools/jib/commit/99b58fe1fdc0e7f9776b23781104a580676aa66f", "committedDate": "2020-02-14T18:46:03Z", "message": "correct maven config, no parsing comma separated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5OTI5MDI1", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#pullrequestreview-359929025", "createdAt": "2020-02-17T19:17:21Z", "commit": {"oid": "99b58fe1fdc0e7f9776b23781104a580676aa66f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxOToxNzoyMVrOFqt6cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxOToxNzo0OVrOFqt6-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMzNjc1Mg==", "bodyText": "What does /absolute/location.tar mean?", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#discussion_r380336752", "createdAt": "2020-02-17T19:17:21Z", "author": {"login": "briandealwis"}, "path": "proposals/skaffold_config.md", "diffHunk": "@@ -0,0 +1,70 @@\n+# Proposal: Control over skaffold tasks/goals\n+\n+Relevant issue: https://github.com/GoogleContainerTools/skaffold/issues/3457\n+\n+## Motivation\n+\n+Jib makes assumptions about what files to watch based on what it knows. Users\n+may have other ideas about intermediate build processes that occur before jib is\n+ready to process anything. Allowing users to configure the skaffold tasks to\n+correctly reflect what their build is doing could help our users use skaffold\n+more effectively.\n+\n+## Current Configuration\n+\n+None: Jib does not have any way to configure `_skaffold` tasks\n+\n+## Proposed Configuration\n+The proposal is to allow users to configure what jib shares with skaffold\n+1. Allowing inclusion/exclusion on top of the jib defaults for files to watch\n+2. Allow exclusion of files that will be sync'd\n+\n+The final jib output will not deviate from what skaffold expects, but just\n+allows for tighter control of what is sent to skaffold from jib.\n+\n+#### Gradle (`build.gradle`)\n+```groovy\n+jib {\n+  ...\n+  skaffold {\n+    watch {\n+      buildIncludes = 'script.gradle'\n+      includes = project.files('my/custom/inputs')\n+      excludes = ['some/file/i/dont/want/watched']\n+    }\n+    sync {\n+      exclude = 'a/file'\n+    }\n+  }\n+}\n+```\n+\n+#### Maven (`pom.xml`)\n+```xml\n+<configuration>\n+  <skaffold>/absolute/location.tar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99b58fe1fdc0e7f9776b23781104a580676aa66f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMzNjg5MQ==", "bodyText": "typo: , \u2192 >", "url": "https://github.com/GoogleContainerTools/jib/pull/2290#discussion_r380336891", "createdAt": "2020-02-17T19:17:49Z", "author": {"login": "briandealwis"}, "path": "proposals/skaffold_config.md", "diffHunk": "@@ -0,0 +1,70 @@\n+# Proposal: Control over skaffold tasks/goals\n+\n+Relevant issue: https://github.com/GoogleContainerTools/skaffold/issues/3457\n+\n+## Motivation\n+\n+Jib makes assumptions about what files to watch based on what it knows. Users\n+may have other ideas about intermediate build processes that occur before jib is\n+ready to process anything. Allowing users to configure the skaffold tasks to\n+correctly reflect what their build is doing could help our users use skaffold\n+more effectively.\n+\n+## Current Configuration\n+\n+None: Jib does not have any way to configure `_skaffold` tasks\n+\n+## Proposed Configuration\n+The proposal is to allow users to configure what jib shares with skaffold\n+1. Allowing inclusion/exclusion on top of the jib defaults for files to watch\n+2. Allow exclusion of files that will be sync'd\n+\n+The final jib output will not deviate from what skaffold expects, but just\n+allows for tighter control of what is sent to skaffold from jib.\n+\n+#### Gradle (`build.gradle`)\n+```groovy\n+jib {\n+  ...\n+  skaffold {\n+    watch {\n+      buildIncludes = 'script.gradle'\n+      includes = project.files('my/custom/inputs')\n+      excludes = ['some/file/i/dont/want/watched']\n+    }\n+    sync {\n+      exclude = 'a/file'\n+    }\n+  }\n+}\n+```\n+\n+#### Maven (`pom.xml`)\n+```xml\n+<configuration>\n+  <skaffold>/absolute/location.tar\n+    <watch>\n+      <buildIncludes>\n+        <buildInclude>some/pomfile.xml</buildInclude>\n+      </buildIncludes>\n+      <includes>\n+        <include>some/file</include>\n+        <include,another/file</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99b58fe1fdc0e7f9776b23781104a580676aa66f"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 353, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}