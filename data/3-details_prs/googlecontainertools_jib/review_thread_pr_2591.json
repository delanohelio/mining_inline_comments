{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMzE0ODAx", "number": 2591, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNzoxNFrOEPMxEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjoyMzoyN1rOEPNMVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzczMjY2OnYy", "diffSide": "RIGHT", "path": "jib-build-plan/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNzoxNFrOGyyBmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzoxNTowOFrOGy0o0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTU5NA==", "bodyText": "We forgot to update CHANGELOG when we released 0.2.0, so doing this now.", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455901594", "createdAt": "2020-07-16T16:07:14Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/CHANGELOG.md", "diffHunk": "@@ -5,9 +5,17 @@ All notable changes to this project will be documented in this file.\n \n ### Added\n \n-- Added file ownership information in `FileEntry` and `FileEntriesLayer`. ([#2494](https://github.com/GoogleContainerTools/jib/pull/2494))\n+- Added `Platform` class representing an image platform. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+- Added `get/setPlatforms()` and `addPlatform()` to `ContainerBuildPlan` for setting and getting image platforms. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n \n ### Changed\n \n+- Removed `get/setOsHint()` and `get/setArchitectureHint()` in faver of `get/setPlatforms()` and `addPlatform()`. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+\n ### Fixed\n \n+## 0.2.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkyNDAzMQ==", "bodyText": "We edit the CHANGELOG when we make updates to the api only right?", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455924031", "createdAt": "2020-07-16T16:41:59Z", "author": {"login": "louismurerwa"}, "path": "jib-build-plan/CHANGELOG.md", "diffHunk": "@@ -5,9 +5,17 @@ All notable changes to this project will be documented in this file.\n \n ### Added\n \n-- Added file ownership information in `FileEntry` and `FileEntriesLayer`. ([#2494](https://github.com/GoogleContainerTools/jib/pull/2494))\n+- Added `Platform` class representing an image platform. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+- Added `get/setPlatforms()` and `addPlatform()` to `ContainerBuildPlan` for setting and getting image platforms. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n \n ### Changed\n \n+- Removed `get/setOsHint()` and `get/setArchitectureHint()` in faver of `get/setPlatforms()` and `addPlatform()`. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+\n ### Fixed\n \n+## 0.2.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTU5NA=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk0NDQwMw==", "bodyText": "Yes. CHANGELOG is to highlight user-visible changes, so that they understand what has changed between releases.", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455944403", "createdAt": "2020-07-16T17:15:08Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/CHANGELOG.md", "diffHunk": "@@ -5,9 +5,17 @@ All notable changes to this project will be documented in this file.\n \n ### Added\n \n-- Added file ownership information in `FileEntry` and `FileEntriesLayer`. ([#2494](https://github.com/GoogleContainerTools/jib/pull/2494))\n+- Added `Platform` class representing an image platform. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+- Added `get/setPlatforms()` and `addPlatform()` to `ContainerBuildPlan` for setting and getting image platforms. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n \n ### Changed\n \n+- Removed `get/setOsHint()` and `get/setArchitectureHint()` in faver of `get/setPlatforms()` and `addPlatform()`. ([#2584](https://github.com/GoogleContainerTools/jib/pull/2584))\n+\n ### Fixed\n \n+## 0.2.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTU5NA=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzczOTQ4OnYy", "diffSide": "RIGHT", "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowODo1NFrOGyyF9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzoxMzo1NFrOGy0lNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMjcxMQ==", "bodyText": "@louismurerwa we don't include RuntimeException (which IllegalArgumentException) in the method signature if such an exception is from checking arguments.", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455902711", "createdAt": "2020-07-16T16:08:54Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkyMTU2Nw==", "bodyText": "Sounds Good.Is this a Google Style or a Java Style?", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455921567", "createdAt": "2020-07-16T16:37:59Z", "author": {"login": "louismurerwa"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMjcxMQ=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk0MzQ3Ng==", "bodyText": "It's a common practice in Java. In a lot of cases, you don't make RuntimeException explicit.", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455943476", "createdAt": "2020-07-16T17:13:54Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMjcxMQ=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0Mzc0MDc1OnYy", "diffSide": "RIGHT", "path": "jib-build-plan/src/test/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlanTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowOTowOVrOGyyGtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowOTowOVrOGyyGtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMjkwMw==", "bodyText": "@louismurerwa FYI", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455902903", "createdAt": "2020-07-16T16:09:09Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/src/test/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlanTest.java", "diffHunk": "@@ -116,7 +116,7 @@ public void testToBuilder() {\n   }\n \n   @Test\n-  public void testAddPlatform_DuplicatePlatforms() {\n+  public void testAddPlatform_duplicatePlatforms() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzgwMjQ1OnYy", "diffSide": "RIGHT", "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjoyMzoyN1rOGyys9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzoxOTozNVrOGy0y6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkxMjY5Mw==", "bodyText": "oh buildplan doesn't have guava?", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455912693", "createdAt": "2020-07-16T16:23:27Z", "author": {"login": "loosebazooka"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {\n       if (platforms.isEmpty()) {\n-        throw new IllegalArgumentException(\"platforms set cannot be empty.\");\n+        throw new IllegalArgumentException(\"platforms set cannot be empty\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkxNjYxNw==", "bodyText": "Yeah, no Guava.", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455916617", "createdAt": "2020-07-16T16:29:44Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {\n       if (platforms.isEmpty()) {\n-        throw new IllegalArgumentException(\"platforms set cannot be empty.\");\n+        throw new IllegalArgumentException(\"platforms set cannot be empty\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkxMjY5Mw=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkyMjAzMg==", "bodyText": "Whats Guava ? Is it the commenting style?", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455922032", "createdAt": "2020-07-16T16:38:46Z", "author": {"login": "louismurerwa"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {\n       if (platforms.isEmpty()) {\n-        throw new IllegalArgumentException(\"platforms set cannot be empty.\");\n+        throw new IllegalArgumentException(\"platforms set cannot be empty\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkxMjY5Mw=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk0Njk4NA==", "bodyText": "Guava is a very popular Java library (from Google) that provides a lot of handy and convenient utilities, annotations, and language idioms. In this case, if jib-build-plan depended on Guava, we would have been able to use the Preconditions class from Guava.\nPreconditions.checkArgument(!platforms.isEmpty(), \"platforms set cannot be empty\");\nHowever, since we want jib-build-plan to be as much lightweight as possible, we don't use Guava. (jib-core uses Guava, OTOH.)", "url": "https://github.com/GoogleContainerTools/jib/pull/2591#discussion_r455946984", "createdAt": "2020-07-16T17:19:35Z", "author": {"login": "chanseokoh"}, "path": "jib-build-plan/src/main/java/com/google/cloud/tools/jib/api/buildplan/ContainerBuildPlan.java", "diffHunk": "@@ -70,39 +70,40 @@ public Builder setBaseImage(String baseImage) {\n     }\n \n     /**\n-     * Adds a desired platform (OS and architecture pair). If the base image reference is a Docker\n-     * manifest list or an OCI image index, must be set so that an image builder can select the\n-     * image matching the given platform. If the base image reference is an image manifest, this\n-     * value is ignored and the platform of the built image follows that of the base image. The\n-     * default is {@code linux amd64 }.\n+     * Adds a desired image platform (OS and architecture pair). If the base image reference is a\n+     * Docker manifest list or an OCI image index, an image builder may select the base image\n+     * matching the given platform. If the base image reference is an image manifest, an image\n+     * builder may ignore the given platform and use the platform of the base image or may decide to\n+     * raise on error.\n      *\n-     * <p>Note that the build plan starts with amd64/linux as the default platform. If you want to\n-     * reset the default platform instead of adding a new one, use setPlatforms()\"\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform. If you want\n+     * to reset the default platform instead of adding a new one, use {@link #setPlatforms(Set)}.\n      *\n-     * @param os value to select a base image in case of a manifest list\n-     * @param architecture value to select a base image in case of a manifest list\n+     * @param architecture architecture (for example, {@code amd64}) to select a base image in case\n+     *     of a manifest list\n+     * @param os OS (for example, {@code linux}) to select a base image in case of a manifest list\n      * @return this\n      */\n-    public Builder addPlatform(String os, String architecture) {\n-      platforms.add(new Platform(os, architecture));\n+    public Builder addPlatform(String architecture, String os) {\n+      platforms.add(new Platform(architecture, os));\n       return this;\n     }\n \n     /**\n-     * Sets a desired platform list ,a list containing (OS and architecture pairs). If the base\n-     * image reference is a Docker manifest list or an OCI image index, must be set so that an image\n-     * builder can select the images matching the given platforms. If the base image reference is an\n-     * image manifest, this value is ignored and the platform of the built image follows that of the\n-     * base image. The default is {@code linux amd64 }.\n+     * Sets a desired platform (properties including as OS and architecture) list. If the base image\n+     * reference is a Docker manifest list or an OCI image index, an image builder may select the\n+     * base images matching the given platforms. If the base image reference is an image manifest,\n+     * an image builder may ignore the given platforms and use the platform of the base image or may\n+     * decide to raise on error.\n      *\n-     * @param platforms is a list of platform objects to be used to select base images in case of a\n-     *     manifest list\n+     * <p>Note that a new build plan starts with \"amd64/linux\" as the default platform.\n+     *\n+     * @param platforms list of platforms to select base images in case of a manifest list\n      * @return this\n-     * @throws IllegalArgumentException if a user passes in an empty platform list\n      */\n-    public Builder setPlatforms(Set<Platform> platforms) throws IllegalArgumentException {\n+    public Builder setPlatforms(Set<Platform> platforms) {\n       if (platforms.isEmpty()) {\n-        throw new IllegalArgumentException(\"platforms set cannot be empty.\");\n+        throw new IllegalArgumentException(\"platforms set cannot be empty\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkxMjY5Mw=="}, "originalCommit": {"oid": "42c28fca4d5219339e48ee93080475a044d2de2f"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 261, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}