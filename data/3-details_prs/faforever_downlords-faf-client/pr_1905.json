{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2MjcwMDM5", "number": 1905, "title": "Add in check if game is running", "bodyText": "Fixes #714\nAttempts to add in a check for if the game is running before closing the client currently an alert pops up but the window closes anyway", "createdAt": "2020-09-14T00:59:04Z", "url": "https://github.com/FAForever/downlords-faf-client/pull/1905", "merged": true, "mergeCommit": {"oid": "fabc90ab68af292154eb994308dcdd3cab8430db"}, "closed": true, "closedAt": "2020-10-04T21:22:44Z", "author": {"login": "Sheikah45"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKZL8YgH2gAyNDg2MjcwMDM5OmQyNzA1YzY2OWZjM2Y0NGNhN2JkOTczNGYzMTgzNjU4NWM3ZmQ1OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPUttwAFqTUwMTY1NDI4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2705c669fc3f44ca7bd9734f31836585c7fd594", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/d2705c669fc3f44ca7bd9734f31836585c7fd594", "committedDate": "2020-09-19T12:17:09Z", "message": "Add in check if game is running"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "committedDate": "2020-09-19T12:17:10Z", "message": "Use fxStage0.7.4"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "889eaca8dfa0d53bd4e06969f4366629a18707e1", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/889eaca8dfa0d53bd4e06969f4366629a18707e1", "committedDate": "2020-09-19T12:08:25Z", "message": "Use fxStage0.7.4"}, "afterCommit": {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "committedDate": "2020-09-19T12:17:10Z", "message": "Use fxStage0.7.4"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjUzMjky", "url": "https://github.com/FAForever/downlords-faf-client/pull/1905#pullrequestreview-501653292", "createdAt": "2020-10-04T19:41:50Z", "commit": {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxOTo0MTo1MFrOHcJubg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxOTo0MTo1MFrOHcJubg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI4MTUxOA==", "bodyText": "Platform.exit()", "url": "https://github.com/FAForever/downlords-faf-client/pull/1905#discussion_r499281518", "createdAt": "2020-10-04T19:41:50Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/FafClientApplication.java", "diffHunk": "@@ -125,6 +136,25 @@ private void showMainWindow(FxStage fxStage) {\n     controller.display();\n   }\n \n+  private void closeMainWindow(WindowEvent event) {\n+    if (applicationContext.getBean(GameService.class).isGameRunning()) {\n+      I18n i18n = applicationContext.getBean(I18n.class);\n+      NotificationService notificationService = applicationContext.getBean(NotificationService.class);\n+      notificationService.addNotification(new ImmediateNotification(i18n.get(\"exitWarning.title\"),\n+          i18n.get(\"exitWarning.message\"),\n+          Severity.WARN,\n+          asList(\n+              new Action(i18n.get(\"yes\"), ev -> {\n+                Window window = (Window) event.getSource();\n+                window.hide();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "232265fe554fcddf62ff9956ccc5165e558b1e0a", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/232265fe554fcddf62ff9956ccc5165e558b1e0a", "committedDate": "2020-10-04T19:51:23Z", "message": "Use platform.exit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjU0Mjg0", "url": "https://github.com/FAForever/downlords-faf-client/pull/1905#pullrequestreview-501654284", "createdAt": "2020-10-04T19:54:08Z", "commit": {"oid": "232265fe554fcddf62ff9956ccc5165e558b1e0a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3292, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}