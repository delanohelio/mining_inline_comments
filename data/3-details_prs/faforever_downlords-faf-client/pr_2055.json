{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MDIzNzUx", "number": 2055, "title": "Feature/#1581 migrate reviews on maps and mods", "bodyText": "Fixes #1581\nFixes #1348\nHow the reviews look with the version label\n\nShowing how even recently updated versions keep the reviews.", "createdAt": "2020-11-28T23:37:03Z", "url": "https://github.com/FAForever/downlords-faf-client/pull/2055", "merged": true, "mergeCommit": {"oid": "b04a7e69988a89a40653879b91ead736528e4064"}, "closed": true, "closedAt": "2020-11-29T13:57:42Z", "author": {"login": "Sheikah45"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhEwm9gH2gAyNTI5MDIzNzUxOjYyMzM0MjA4N2M1Mjc5ZDdiMTJlMmJkOWI1YjIyYjcyYWU0OTgxMDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhMuX9gFqTU0MDQ1ODg2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "623342087c5279d7b12e2bd9b5b22b72ae498102", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/623342087c5279d7b12e2bd9b5b22b72ae498102", "committedDate": "2020-11-28T23:29:27Z", "message": "Add migration of previous version reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "796203479b8df2e0ef5968ffef8b6ec1d4a27b6e", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/796203479b8df2e0ef5968ffef8b6ec1d4a27b6e", "committedDate": "2020-11-28T23:34:27Z", "message": "Fix Unit Tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ab59f1fb62fa2db540827be43e6612141f769fd", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/7ab59f1fb62fa2db540827be43e6612141f769fd", "committedDate": "2020-11-28T23:39:57Z", "message": "Fix highest rated sort key"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e03c1562aceb69f8eb81e8f797979d9108ec7cc", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/1e03c1562aceb69f8eb81e8f797979d9108ec7cc", "committedDate": "2020-11-29T00:06:11Z", "message": "Display current version label"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cedf3d0432a5c89424413af29d67721aaf930ab8", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/cedf3d0432a5c89424413af29d67721aaf930ab8", "committedDate": "2020-11-29T03:55:48Z", "message": "Add check to see if author before writing review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b24e61a47c55229e76e72cc3b66e92005116f084", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/b24e61a47c55229e76e72cc3b66e92005116f084", "committedDate": "2020-11-29T04:17:14Z", "message": "Disable review button if not can write review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1d78cac3fde0d8a77938e1b321b9e548981e3a6", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/d1d78cac3fde0d8a77938e1b321b9e548981e3a6", "committedDate": "2020-11-29T04:33:34Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDU4NzI5", "url": "https://github.com/FAForever/downlords-faf-client/pull/2055#pullrequestreview-540458729", "createdAt": "2020-11-29T08:44:14Z", "commit": {"oid": "d1d78cac3fde0d8a77938e1b321b9e548981e3a6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwODo0NDoxNFrOH7hdCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwODo0NDoxNFrOH7hdCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE3NjEzOQ==", "bodyText": "Sneaky sneaky ;-)", "url": "https://github.com/FAForever/downlords-faf-client/pull/2055#discussion_r532176139", "createdAt": "2020-11-29T08:44:14Z", "author": {"login": "Brutus5000"}, "path": "src/main/java/com/faforever/client/mod/ModDetailController.java", "diffHunk": "@@ -147,7 +147,8 @@ public void setModVersion(ModVersion modVersion) {\n     Player player = playerService.getCurrentPlayer()\n         .orElseThrow(() -> new IllegalStateException(\"No current player is available\"));\n \n-    reviewsController.setCanWriteReview(modService.isModInstalled(modVersion.getUid()));\n+    reviewsController.setCanWriteReview(modService.isModInstalled(modVersion.getUid())\n+        && !modVersion.getMod().getAuthor().equals(player.getUsername()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d78cac3fde0d8a77938e1b321b9e548981e3a6"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDU4ODY1", "url": "https://github.com/FAForever/downlords-faf-client/pull/2055#pullrequestreview-540458865", "createdAt": "2020-11-29T08:46:15Z", "commit": {"oid": "d1d78cac3fde0d8a77938e1b321b9e548981e3a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3158, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}