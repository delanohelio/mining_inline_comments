{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MTAyMDY2", "number": 1819, "title": "Create game title text field changes border to red if not filled out", "bodyText": "Fixes #1813\nI'm new in FAF development, so I hope the implementation is ok. It changes the background color of the title text-field of the create game page to red to attract more attention if it's empty.", "createdAt": "2020-07-09T21:26:20Z", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819", "merged": true, "mergeCommit": {"oid": "0ff1e7a5e4e12cc12eedb6bd8e1fdf4acb77968a"}, "closed": true, "closedAt": "2020-07-17T13:45:47Z", "author": {"login": "TobiasJacob"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczV1JygH2gAyNDQ3MTAyMDY2OjM5N2EzNzVkNDFlMTFmNzIwODlkOTUxYzRlMjM4ZWNmOWU2NDcxNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc10Cu5gFqTQ1MDY2NzU0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "397a375d41e11f72089d951c4e238ecf9e647170", "author": {"user": {"login": "TobiasJacob", "name": "Tobias Jacob"}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/397a375d41e11f72089d951c4e238ecf9e647170", "committedDate": "2020-07-09T21:22:17Z", "message": "Create game title text field changes background to red if not filled out"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MjYyNTUz", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#pullrequestreview-446262553", "createdAt": "2020-07-10T09:34:57Z", "commit": {"oid": "397a375d41e11f72089d951c4e238ecf9e647170"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwOTozNDo1N1rOGvww1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwOTozNjowOVrOGvwzRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjczNTE5MA==", "bodyText": "We try to avoid hardcoding any styles. So basically, we never call setStyle(). Instead, have a look at titleTextField.pseudoClassStateChanged().\nAssuming we call the pseudo class invalid, it can then be styled like so:\n.game-title-input:invalid {\n  -fx-background-color: -bad;\n}\n... even though I think that a red background will look nasty :-) So I'd rather go with -fx-border-color: -bad", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#discussion_r452735190", "createdAt": "2020-07-10T09:34:57Z", "author": {"login": "micheljung"}, "path": "src/main/java/com/faforever/client/game/CreateGameController.java", "diffHunk": "@@ -220,6 +222,15 @@ private void init() {\n     );\n   }\n \n+  private void adjustCreateGameButtonBackgroundColor(String newValue) {\n+    if (Strings.isNullOrEmpty(newValue)) {\n+      // titleTextField.setBackground(new Background(new BackgroundFill(Paint.valueOf(\"FF0000\"), CornerRadii.EMPTY, Insets.EMPTY)));\n+      titleTextField.setStyle(\"-fx-background-color: -bad;\");\n+    } else {\n+      titleTextField.setStyle(\"-fx-background-color: transparent;\");\n+    }\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "397a375d41e11f72089d951c4e238ecf9e647170"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjczNTYxMw==", "bodyText": "I think this is obsolete then", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#discussion_r452735613", "createdAt": "2020-07-10T09:35:43Z", "author": {"login": "micheljung"}, "path": "src/main/resources/theme/style.css", "diffHunk": "@@ -959,6 +959,7 @@\n \n .game-title-input {\n   -fx-font-size: 0.8cm;\n+  -fx-prompt-text-fill: -fx-light-text-color;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "397a375d41e11f72089d951c4e238ecf9e647170"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjczNTgxMw==", "bodyText": "Dead code should be removed", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#discussion_r452735813", "createdAt": "2020-07-10T09:36:09Z", "author": {"login": "micheljung"}, "path": "src/main/java/com/faforever/client/game/CreateGameController.java", "diffHunk": "@@ -220,6 +222,15 @@ private void init() {\n     );\n   }\n \n+  private void adjustCreateGameButtonBackgroundColor(String newValue) {\n+    if (Strings.isNullOrEmpty(newValue)) {\n+      // titleTextField.setBackground(new Background(new BackgroundFill(Paint.valueOf(\"FF0000\"), CornerRadii.EMPTY, Insets.EMPTY)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "397a375d41e11f72089d951c4e238ecf9e647170"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eed23f662d6525679153f6e69fefd8e0c135b027", "author": {"user": {"login": "TobiasJacob", "name": "Tobias Jacob"}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/eed23f662d6525679153f6e69fefd8e0c135b027", "committedDate": "2020-07-10T11:47:07Z", "message": "Changes requested by @micheljung"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzg3NjMz", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#pullrequestreview-446787633", "createdAt": "2020-07-11T08:16:34Z", "commit": {"oid": "eed23f662d6525679153f6e69fefd8e0c135b027"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwODoxNjozNFrOGwLXaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwODoxNjozNFrOGwLXaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3MTA0OA==", "bodyText": "Add a unit test set the text to \"\" and to \"test\" and see if the Pseudo class is set correctly.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#discussion_r453171048", "createdAt": "2020-07-11T08:16:34Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/game/CreateGameController.java", "diffHunk": "@@ -195,7 +196,9 @@ private void init() {\n     titleTextField.textProperty().addListener((observable, oldValue, newValue) -> {\n       preferencesService.getPreferences().getLastGamePrefs().setLastGameTitle(newValue);\n       preferencesService.storeInBackground();\n+      adjustCreateGameButtonBackgroundColor(newValue);\n     });\n+    adjustCreateGameButtonBackgroundColor(titleTextField.getText());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eed23f662d6525679153f6e69fefd8e0c135b027"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "900deef60d14e53d0d2616e46b001fdff03813a1", "author": {"user": {"login": "TobiasJacob", "name": "Tobias Jacob"}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/900deef60d14e53d0d2616e46b001fdff03813a1", "committedDate": "2020-07-11T11:16:21Z", "message": "Added test for red border if empty on create game title text field"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4Mzk3MTY4", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#pullrequestreview-448397168", "createdAt": "2020-07-14T19:22:51Z", "commit": {"oid": "900deef60d14e53d0d2616e46b001fdff03813a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjY3NTQw", "url": "https://github.com/FAForever/downlords-faf-client/pull/1819#pullrequestreview-450667540", "createdAt": "2020-07-17T13:42:07Z", "commit": {"oid": "900deef60d14e53d0d2616e46b001fdff03813a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3236, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}