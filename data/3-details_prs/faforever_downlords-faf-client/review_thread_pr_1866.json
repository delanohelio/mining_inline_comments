{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxOTg0MjEw", "number": 1866, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDo1Mjo0NlrOEbUy6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDo1Mzo1OVrOEbUzPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MDg3NzIwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDo1Mjo0NlrOHFNq6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDo1Mjo0NlrOHFNq6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyODkwNQ==", "bodyText": "Use the KnowFeaturedMod Enum", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475228905", "createdAt": "2020-08-23T14:52:46Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata\n     // So we just take it directly from the replay data.\n-    if (StringUtils.isEmptyOrNull(mapName)) {\n+    if (gameType.equals(\"coop\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MDg3ODA0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "isResolved": false, "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDo1Mzo1OVrOHFNrTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMDo1MDowNlrOHGSehg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw==", "bodyText": "Could we maybe test this method with a real replay :D Then we would solve this issue forever", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475229007", "createdAt": "2020-08-23T14:53:59Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIzMjI4NQ==", "bodyText": "Do you mean just get the map name from the replay data for all maps?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475232285", "createdAt": "2020-08-23T15:26:03Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIzNjQyMw==", "bodyText": "I made a change assuming that is what you meant", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475236423", "createdAt": "2020-08-23T16:07:09Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI0Mjk3Ng==", "bodyText": "seems to work", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475242976", "createdAt": "2020-08-23T17:13:24Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI2MzgyNg==", "bodyText": "Was absolutely not what I meant XD I meant write a unit test", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475263826", "createdAt": "2020-08-23T20:36:23Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI2MzkwMw==", "bodyText": "Concerning what u did I don't know if that's a good idea. No idea what pros and cons are too that", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475263903", "createdAt": "2020-08-23T20:37:09Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI2NDA2OQ==", "bodyText": "Maybe @micheljung @Wesmania know what pros and cons are about reading the map from the replay file or the replayInfo stored in the databse.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475264069", "createdAt": "2020-08-23T20:39:44Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI2NjkwNg==", "bodyText": "It's the right thing to do for randomized maps, since these will never be stored in the DB. The coop map issue is here: FAForever/server#372\nI don't know which is right for all the rest tbh.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475266906", "createdAt": "2020-08-23T21:00:50Z", "author": {"login": "Wesmania"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI2OTEwOA==", "bodyText": "I tested it and it worked for maps in the vault as well. I think an issue would arise if for some reason the map in the lua header was different than the vault or if the map table structure is intended to be changed. Also I believe the replayinfo that is being read here is stored in the replay file as well just it is the part in the faf header vs the lua header.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r475269108", "createdAt": "2020-08-23T21:24:02Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM1NjIzMA==", "bodyText": "Hmm well I mean if it works better let's do it this way right.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1866#discussion_r476356230", "createdAt": "2020-08-25T10:50:06Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayService.java", "diffHunk": "@@ -513,14 +513,14 @@ private void runFafReplayFile(Path path) throws IOException {\n \n     // For some reason in the coop replay the map name is null in the metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyOTAwNw=="}, "originalCommit": {"oid": "9eac943200932726d6a555f59b9359448dfbe969"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2075, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}