{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDU3MzA5", "number": 1938, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjoxNDoyN1rOEpOSTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzozNTozOFrOEpelbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjYxMTM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/mod/ModService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjoxNDoyN1rOHaxMig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzozMToxNlrOHbKhYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgzMTA1MA==", "bodyText": "Why use a task to invalidate manually? Why is this different than the maps?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1938#discussion_r497831050", "createdAt": "2020-09-30T22:14:27Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/mod/ModService.java", "diffHunk": "@@ -110,7 +111,14 @@ public void afterPropertiesSet() {\n         onModDirectoryReady();\n       }\n     };\n-    modDirectoryChangedListener.invalidated(preferencesService.getPreferences().getForgedAlliance().modsDirectoryProperty());\n+    taskService.submitTask(new CompletableTask<Void>(Priority.LOW) {\n+      @Override\n+      protected Void call() throws Exception {\n+        updateTitle(i18n.get(\"modVault.loadingMaps\"));\n+        modDirectoryChangedListener.invalidated(preferencesService.getPreferences().getForgedAlliance().modsDirectoryProperty());\n+        return null;\n+      }\n+    });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a9648c06f4a9534d8bcd344f85dab898e78cdd5"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI0NTk4NQ==", "bodyText": "Cause it should be done in the background and maps are also loaded with a task", "url": "https://github.com/FAForever/downlords-faf-client/pull/1938#discussion_r498245985", "createdAt": "2020-10-01T13:31:16Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/mod/ModService.java", "diffHunk": "@@ -110,7 +111,14 @@ public void afterPropertiesSet() {\n         onModDirectoryReady();\n       }\n     };\n-    modDirectoryChangedListener.invalidated(preferencesService.getPreferences().getForgedAlliance().modsDirectoryProperty());\n+    taskService.submitTask(new CompletableTask<Void>(Priority.LOW) {\n+      @Override\n+      protected Void call() throws Exception {\n+        updateTitle(i18n.get(\"modVault.loadingMaps\"));\n+        modDirectoryChangedListener.invalidated(preferencesService.getPreferences().getForgedAlliance().modsDirectoryProperty());\n+        return null;\n+      }\n+    });", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgzMTA1MA=="}, "originalCommit": {"oid": "3a9648c06f4a9534d8bcd344f85dab898e78cdd5"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTI4MTc1OnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzozNTozOFrOHbKtgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzozNTozOFrOHbKtgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI0OTA5MA==", "bodyText": "Hmm it deleted my comment so making it again.\nShould be modVault.loadingMods", "url": "https://github.com/FAForever/downlords-faf-client/pull/1938#discussion_r498249090", "createdAt": "2020-10-01T13:35:38Z", "author": {"login": "Sheikah45"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -792,6 +793,7 @@ mod.manager.reload=Reload\n mod.manager.simModsTooltip=SIM mods are such mods that effect the game play of all players.\n mod.manager.uiModsTooltip=UI mods are mods that only effect how you see the game.\n modVault.modManager=Manage active mods\n+modVault.loadingMaps=Loading mods", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a9648c06f4a9534d8bcd344f85dab898e78cdd5"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2117, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}