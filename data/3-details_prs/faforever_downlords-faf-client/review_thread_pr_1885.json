{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5Nzg2ODEx", "number": 1885, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDoxNFrOEhABIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDo0MFrOEhABag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDM4NzU0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/map/MapCardController.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDoxNFrOHOFjbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QyMToyMzozOFrOHOHxFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzEwMw==", "bodyText": "what for?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484533103", "createdAt": "2020-09-07T17:44:14Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/map/MapCardController.java", "diffHunk": "@@ -87,8 +97,16 @@ public void setMap(MapBean map) {\n     sizeLabel.setText(i18n.get(\"mapPreview.size\", size.getWidthInKm(), size.getHeightInKm()));\n     maxPlayersLabel.setText(i18n.number(map.getPlayers()));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installedMapsChangeListener));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU1MTk2MQ==", "bodyText": "ha meant to disable it but got the logic wrong. Meant to be disabled so that if anything else in the client tries to manually fire it it wont do anything", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484551961", "createdAt": "2020-09-07T19:32:45Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/map/MapCardController.java", "diffHunk": "@@ -87,8 +97,16 @@ public void setMap(MapBean map) {\n     sizeLabel.setText(i18n.get(\"mapPreview.size\", size.getWidthInKm(), size.getHeightInKm()));\n     maxPlayersLabel.setText(i18n.number(map.getPlayers()));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installedMapsChangeListener));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzEwMw=="}, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU2NTk2NA==", "bodyText": "Dont thin that invisible buttons can be fired but well ok", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484565964", "createdAt": "2020-09-07T21:00:23Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/map/MapCardController.java", "diffHunk": "@@ -87,8 +97,16 @@ public void setMap(MapBean map) {\n     sizeLabel.setText(i18n.get(\"mapPreview.size\", size.getWidthInKm(), size.getHeightInKm()));\n     maxPlayersLabel.setText(i18n.number(map.getPlayers()));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installedMapsChangeListener));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzEwMw=="}, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU2OTM2NQ==", "bodyText": "ah I was probably being over cautious", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484569365", "createdAt": "2020-09-07T21:23:38Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/map/MapCardController.java", "diffHunk": "@@ -87,8 +97,16 @@ public void setMap(MapBean map) {\n     sizeLabel.setText(i18n.get(\"mapPreview.size\", size.getWidthInKm(), size.getHeightInKm()));\n     maxPlayersLabel.setText(i18n.number(map.getPlayers()));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installedMapsChangeListener));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzEwMw=="}, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDM4ODI2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/map/MapDetailController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDo0MFrOHOFjxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDo0MFrOHOFjxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzE5MQ==", "bodyText": "why", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484533191", "createdAt": "2020-09-07T17:44:40Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/map/MapDetailController.java", "diffHunk": "@@ -200,17 +200,23 @@ public void setMap(MapBean map) {\n             installButton.setDisable(true);\n           }\n         }));\n-    uninstallButton.setVisible(mapInstalled);\n \n     mapDescriptionLabel.setText(Optional.ofNullable(map.getDescription())\n         .map(Strings::emptyToNull)\n         .map(FaStrings::removeLocalizationTag)\n         .orElseGet(() -> i18n.get(\"map.noDescriptionAvailable\")));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installStatusChangeListener));\n \n-    setInstalled(mapService.isInstalled(map.getFolderName()));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2090, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}