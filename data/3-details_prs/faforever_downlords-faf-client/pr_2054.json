{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4ODA3NzQ5", "number": 2054, "title": "Add mapGenerator log", "bodyText": "Fixes #2053", "createdAt": "2020-11-27T22:57:04Z", "url": "https://github.com/FAForever/downlords-faf-client/pull/2054", "merged": true, "mergeCommit": {"oid": "7cafd82267f2aa6533b016be31021dc452f62181"}, "closed": true, "closedAt": "2020-11-28T13:58:51Z", "author": {"login": "Sheikah45"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgvru1gH2gAyNTI4ODA3NzQ5OjU5MTQzYjEyYWFlZDllNGVkYjJkYmJlNjczMzY4MjlhZjM5OWNiYzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdg73kBAFqTU0MDM3NDM5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59143b12aaed9e4edb2dbbe67336829af399cbc6", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/59143b12aaed9e4edb2dbbe67336829af399cbc6", "committedDate": "2020-11-27T22:56:07Z", "message": "Add mapGenerator log"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzU0MTQ2", "url": "https://github.com/FAForever/downlords-faf-client/pull/2054#pullrequestreview-540354146", "createdAt": "2020-11-28T09:18:29Z", "commit": {"oid": "59143b12aaed9e4edb2dbbe67336829af399cbc6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwOToxODoyOVrOH7XR5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwOToxOToyMlrOH7XSLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjAwOTQ0NA==", "bodyText": "It needs a better name if it's a special logger", "url": "https://github.com/FAForever/downlords-faf-client/pull/2054#discussion_r532009444", "createdAt": "2020-11-28T09:18:29Z", "author": {"login": "Brutus5000"}, "path": "src/main/java/com/faforever/client/map/generator/GenerateMapTask.java", "diffHunk": "@@ -16,16 +18,15 @@\n \n import javax.inject.Inject;\n import java.io.IOException;\n-import java.lang.invoke.MethodHandles;\n import java.nio.file.Path;\n import java.util.Objects;\n import java.util.concurrent.TimeUnit;\n \n-\n+@Slf4j\n @Component\n @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n public class GenerateMapTask extends CompletableTask<Void> {\n-  private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n+  private static final Logger logger = LoggerFactory.getLogger(\"faf-map-generator\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59143b12aaed9e4edb2dbbe67336829af399cbc6"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjAwOTUxNg==", "bodyText": "Some linebreaks would improve readability", "url": "https://github.com/FAForever/downlords-faf-client/pull/2054#discussion_r532009516", "createdAt": "2020-11-28T09:19:22Z", "author": {"login": "Brutus5000"}, "path": "src/main/java/com/faforever/client/map/generator/GenerateMapTask.java", "diffHunk": "@@ -60,23 +61,25 @@ protected Void call() throws Exception {\n     Path workingDirectory = preferencesService.getPreferences().getForgedAlliance().getCustomMapsDirectory();\n \n     ProcessBuilder processBuilder = new ProcessBuilder();\n-    processBuilder.inheritIO();\n     processBuilder.directory(workingDirectory.toFile());\n     processBuilder.command(\"java\", \"-jar\", generatorExecutableFile.toAbsolutePath().toString(), \".\", String.valueOf(seed), version, mapFilename);\n+    processBuilder.environment().put(\"LOG_DIR\", preferencesService.getFafLogDirectory().toAbsolutePath().toString());\n \n-    logger.info(\"Starting map generator in directory: {} with command: {}\", processBuilder.directory(), processBuilder.command().stream().reduce((l, r) -> l + \" \" + r).get());\n+    log.info(\"Starting map generator in directory: {} with command: {}\", processBuilder.directory(), processBuilder.command().stream().reduce((l, r) -> l + \" \" + r).get());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59143b12aaed9e4edb2dbbe67336829af399cbc6"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0026ea2c09ae669fa5c261c64fcb7e39290a4c5e", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/0026ea2c09ae669fa5c261c64fcb7e39290a4c5e", "committedDate": "2020-11-28T13:04:40Z", "message": "Add descriptive logger name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzc0Mzk1", "url": "https://github.com/FAForever/downlords-faf-client/pull/2054#pullrequestreview-540374395", "createdAt": "2020-11-28T13:07:54Z", "commit": {"oid": "0026ea2c09ae669fa5c261c64fcb7e39290a4c5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3156, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}