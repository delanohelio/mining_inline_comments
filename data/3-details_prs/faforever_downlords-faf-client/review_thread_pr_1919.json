{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4OTY2NzA5", "number": 1919, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNToxNDoyMFrOElAwZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNToxNDoyMFrOElAwZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MjQ1MTU5OnYy", "diffSide": "LEFT", "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNToxNDoyMFrOHURXjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMjozNDo1OFrOHUptTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxODEyNg==", "bodyText": "Well I think you fixed it but now if you click the back button after the search it showroom is empty. That is why this code existed. Maybe easier would be check if state is uninitialized on back button click and call loadShowRoom then", "url": "https://github.com/FAForever/downlords-faf-client/pull/1919#discussion_r491018126", "createdAt": "2020-09-18T15:14:20Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "diffHunk": "@@ -327,20 +325,7 @@ protected void onBackButtonClicked() {\n   protected void onDisplay(NavigateEvent navigateEvent) {\n     Class<? extends NavigateEvent> defaultNavigateEvent = getDefaultNavigateEvent();\n     if (!(navigateEvent.getClass().equals(defaultNavigateEvent)) && !navigateEvent.getClass().equals(NavigateEvent.class)) {\n-      if (state.get() == State.UNINITIALIZED) {\n-        state.addListener(new ChangeListener<>() {\n-          @Override\n-          public void changed(ObservableValue<? extends State> observable, State oldValue, State newValue) {\n-            if (newValue != State.UNINITIALIZED) {\n-              state.removeListener(this);\n-              handleSpecialNavigateEvent(navigateEvent);\n-            }\n-          }\n-        });\n-        loadShowRoom();\n-      } else {\n-        handleSpecialNavigateEvent(navigateEvent);\n-      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1b3aea602b95b683de04d34f75a5387b0a73aa6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4NzY4MA==", "bodyText": "I don't get this error the show room always populates for me with the back button. How are you getting an empty showroom?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1919#discussion_r491187680", "createdAt": "2020-09-18T20:58:38Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "diffHunk": "@@ -327,20 +325,7 @@ protected void onBackButtonClicked() {\n   protected void onDisplay(NavigateEvent navigateEvent) {\n     Class<? extends NavigateEvent> defaultNavigateEvent = getDefaultNavigateEvent();\n     if (!(navigateEvent.getClass().equals(defaultNavigateEvent)) && !navigateEvent.getClass().equals(NavigateEvent.class)) {\n-      if (state.get() == State.UNINITIALIZED) {\n-        state.addListener(new ChangeListener<>() {\n-          @Override\n-          public void changed(ObservableValue<? extends State> observable, State oldValue, State newValue) {\n-            if (newValue != State.UNINITIALIZED) {\n-              state.removeListener(this);\n-              handleSpecialNavigateEvent(navigateEvent);\n-            }\n-          }\n-        });\n-        loadShowRoom();\n-      } else {\n-        handleSpecialNavigateEvent(navigateEvent);\n-      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxODEyNg=="}, "originalCommit": {"oid": "d1b3aea602b95b683de04d34f75a5387b0a73aa6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4NzgyMg==", "bodyText": "In the code the back button always loads the showroom", "url": "https://github.com/FAForever/downlords-faf-client/pull/1919#discussion_r491187822", "createdAt": "2020-09-18T20:59:01Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "diffHunk": "@@ -327,20 +325,7 @@ protected void onBackButtonClicked() {\n   protected void onDisplay(NavigateEvent navigateEvent) {\n     Class<? extends NavigateEvent> defaultNavigateEvent = getDefaultNavigateEvent();\n     if (!(navigateEvent.getClass().equals(defaultNavigateEvent)) && !navigateEvent.getClass().equals(NavigateEvent.class)) {\n-      if (state.get() == State.UNINITIALIZED) {\n-        state.addListener(new ChangeListener<>() {\n-          @Override\n-          public void changed(ObservableValue<? extends State> observable, State oldValue, State newValue) {\n-            if (newValue != State.UNINITIALIZED) {\n-              state.removeListener(this);\n-              handleSpecialNavigateEvent(navigateEvent);\n-            }\n-          }\n-        });\n-        loadShowRoom();\n-      } else {\n-        handleSpecialNavigateEvent(navigateEvent);\n-      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxODEyNg=="}, "originalCommit": {"oid": "d1b3aea602b95b683de04d34f75a5387b0a73aa6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTM3Nzc4Nw==", "bodyText": "Was just an assumption because in the old code that used to be the case", "url": "https://github.com/FAForever/downlords-faf-client/pull/1919#discussion_r491377787", "createdAt": "2020-09-19T10:46:57Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "diffHunk": "@@ -327,20 +325,7 @@ protected void onBackButtonClicked() {\n   protected void onDisplay(NavigateEvent navigateEvent) {\n     Class<? extends NavigateEvent> defaultNavigateEvent = getDefaultNavigateEvent();\n     if (!(navigateEvent.getClass().equals(defaultNavigateEvent)) && !navigateEvent.getClass().equals(NavigateEvent.class)) {\n-      if (state.get() == State.UNINITIALIZED) {\n-        state.addListener(new ChangeListener<>() {\n-          @Override\n-          public void changed(ObservableValue<? extends State> observable, State oldValue, State newValue) {\n-            if (newValue != State.UNINITIALIZED) {\n-              state.removeListener(this);\n-              handleSpecialNavigateEvent(navigateEvent);\n-            }\n-          }\n-        });\n-        loadShowRoom();\n-      } else {\n-        handleSpecialNavigateEvent(navigateEvent);\n-      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxODEyNg=="}, "originalCommit": {"oid": "d1b3aea602b95b683de04d34f75a5387b0a73aa6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQxNjkwOQ==", "bodyText": "yeah if you test it and it happens let me know cause it isnt happening for me", "url": "https://github.com/FAForever/downlords-faf-client/pull/1919#discussion_r491416909", "createdAt": "2020-09-19T12:34:58Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/vault/VaultEntityController.java", "diffHunk": "@@ -327,20 +325,7 @@ protected void onBackButtonClicked() {\n   protected void onDisplay(NavigateEvent navigateEvent) {\n     Class<? extends NavigateEvent> defaultNavigateEvent = getDefaultNavigateEvent();\n     if (!(navigateEvent.getClass().equals(defaultNavigateEvent)) && !navigateEvent.getClass().equals(NavigateEvent.class)) {\n-      if (state.get() == State.UNINITIALIZED) {\n-        state.addListener(new ChangeListener<>() {\n-          @Override\n-          public void changed(ObservableValue<? extends State> observable, State oldValue, State newValue) {\n-            if (newValue != State.UNINITIALIZED) {\n-              state.removeListener(this);\n-              handleSpecialNavigateEvent(navigateEvent);\n-            }\n-          }\n-        });\n-        loadShowRoom();\n-      } else {\n-        handleSpecialNavigateEvent(navigateEvent);\n-      }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxODEyNg=="}, "originalCommit": {"oid": "d1b3aea602b95b683de04d34f75a5387b0a73aa6"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2105, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}