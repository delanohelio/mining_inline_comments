{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1Nzc4NTA1", "number": 1870, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNTo0Nzo0N1rOEd-4uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNTo0Nzo0N1rOEd-4uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODc0NDkxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNTo0Nzo0N1rOHJcP5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxMjoxMzo1NVrOHJiX4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw==", "bodyText": "How is that gonna look are there no seperation between Hours and minutes?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479662053", "createdAt": "2020-08-29T15:47:47Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY5MzI5NA==", "bodyText": "Thought this was a standard time format but can be changed if you have one you like better that is file valid", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479693294", "createdAt": "2020-08-29T21:49:16Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw=="}, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc1OTY0Mg==", "bodyText": "idk I find it hard to read. Btw the old client used the game uuid as a name. Not sure of that would be an advantage. I think that was so you could match replay and game log.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479759642", "createdAt": "2020-08-30T11:47:03Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw=="}, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc2MDQ4OA==", "bodyText": "That might be better I will just change to that if it works for you", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479760488", "createdAt": "2020-08-30T11:54:22Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw=="}, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc2MDg4MQ==", "bodyText": "Yeah sure. This is not what we gotta do, I also like the time. I am indecisive.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479760881", "createdAt": "2020-08-30T11:58:20Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw=="}, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc2MjQwMg==", "bodyText": "Yeah personally I think the time might be more intuitive for the user than game uid and I can add a dash separator for the time", "url": "https://github.com/FAForever/downlords-faf-client/pull/1870#discussion_r479762402", "createdAt": "2020-08-30T12:13:55Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/preferences/PreferencesService.java", "diffHunk": "@@ -346,6 +355,22 @@ public Path getThemesDirectory() {\n     return getFafDataDirectory().resolve(\"themes\");\n   }\n \n+  public Path getNewGameLogFile() {\n+    try (Stream<Path> listOfLogFiles = Files.list(getFafLogDirectory())) {\n+      listOfLogFiles\n+          .filter(p -> GAME_LOG_PATTERN.matcher(p.getFileName().toString()).matches())\n+          .sorted(Comparator.comparingLong(p -> p.toFile().lastModified()))\n+          .sorted(Collections.reverseOrder())\n+          .skip(NUMBER_GAME_LOGS_STORED - 1)\n+          .forEach(p -> noCatch(() -> Files.delete(p)));\n+    } catch (IOException e) {\n+      logger.error(\"Could not list log directory.\", e);\n+    } catch (NoCatchException e) {\n+      logger.error(\"Could not delete game log file\");\n+    }\n+    return getFafLogDirectory().resolve(new SimpleDateFormat(\"'game_'yyyy-MM-dd_HHmmss'.log'\").format(new Date()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2MjA1Mw=="}, "originalCommit": {"oid": "7f1f4b36d0a3e7a1958b7a8ef9a9cdd8ce41849b"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2078, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}