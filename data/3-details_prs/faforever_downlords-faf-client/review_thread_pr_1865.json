{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNjc3Mjkw", "number": 1865, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNDo0OToxOFrOEa_zrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNjoxNDoxMVrOEg_CCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NzQzODUyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNDo0OToxOFrOHEwPMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNDo1MToyMVrOHEwTyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc0NjY3Mg==", "bodyText": "This will not translate the validity reasons, so it's not a proper i18n solution.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r474746672", "createdAt": "2020-08-21T14:49:18Z", "author": {"login": "Brutus5000"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -318,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", replay.getValidity()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a00d638a4115f795b4f771756ad9d1405228bde"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc0NzA1Mg==", "bodyText": "ok so I need an I18N key for all of them? ok", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r474747052", "createdAt": "2020-08-21T14:49:56Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -318,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", replay.getValidity()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc0NjY3Mg=="}, "originalCommit": {"oid": "8a00d638a4115f795b4f771756ad9d1405228bde"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc0Nzg0OA==", "bodyText": "was just lazy", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r474747848", "createdAt": "2020-08-21T14:51:21Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -318,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", replay.getValidity()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc0NjY3Mg=="}, "originalCommit": {"oid": "8a00d638a4115f795b4f771756ad9d1405228bde"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTg2MzM4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzozODowM1rOHJkbXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzo0NzoyOFrOHJkfEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjA2Mw==", "bodyText": "I am pretty sure game.reasonNotValid.keyFormat should not be in I18N, imagine somebody thinks he most translate it then this breaks for the other languages.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r479796063", "createdAt": "2020-08-30T17:38:03Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -321,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", i18n.get(i18n.get(\"game.reasonNotValid.keyFormat\", replay.getValidity().ordinal()))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e163fee08ab740044802af99966df71ff731669"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NzAxMA==", "bodyText": "Hmm yeah good point will just change it back to string formatting unless you think there is a better way", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r479797010", "createdAt": "2020-08-30T17:47:28Z", "author": {"login": "Sheikah45"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -321,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", i18n.get(i18n.get(\"game.reasonNotValid.keyFormat\", replay.getValidity().ordinal()))));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjA2Mw=="}, "originalCommit": {"oid": "6e163fee08ab740044802af99966df71ff731669"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTg2MzY4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzozODozM1rOHJkbfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzo0MDowM1rOHJkcKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjA5NQ==", "bodyText": "Also you got to have a fallback. Maybe somebody adds a new validity reason to the server one day. I suggest if the i18n key does not exist just take the getValidity().name() and say it is the reason.", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r479796095", "createdAt": "2020-08-30T17:38:33Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -321,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", i18n.get(i18n.get(\"game.reasonNotValid.keyFormat\", replay.getValidity().ordinal()))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e163fee08ab740044802af99966df71ff731669"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjI2NQ==", "bodyText": "On the other hand then parsing the json would not work so maybe that is not needed. But safety messure would not hurt...", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r479796265", "createdAt": "2020-08-30T17:40:03Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -321,6 +315,22 @@ private void populateTeamsContainer() {\n     }));\n   }\n \n+  private void configureRatingControls() {\n+    if (!replay.getValidity().equals(Validity.VALID)) {\n+      showRatingChangeButton.setVisible(false);\n+      notRatedReasonLabel.setVisible(true);\n+      notRatedReasonLabel.setText(i18n.get(\"game.reasonNotValid\", i18n.get(i18n.get(\"game.reasonNotValid.keyFormat\", replay.getValidity().ordinal()))));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjA5NQ=="}, "originalCommit": {"oid": "6e163fee08ab740044802af99966df71ff731669"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTg2NDQ3OnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzozOToyMVrOHJkb2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNzozOToyMVrOHJkb2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc5NjE4Ng==", "bodyText": "That should be a constant", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r479796186", "createdAt": "2020-08-30T17:39:21Z", "author": {"login": "1-alex98"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -655,7 +655,32 @@ replay.playerCountTooltip=Players\n replay.ratingTooltip=Average rating\n replay.qualityTooltip=Quality\n game.showRatingChange=Show rating change\n-game.notValid=The game was not rated\n+game.reasonNotValid=Game was not rated. Reason: {0}\n+game.reasonNotValid.keyFormat=game.reasonNotValid.{0}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e163fee08ab740044802af99966df71ff731669"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDIyNjAwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNjoxNDoxMVrOHOEKHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNjoxNDoxMVrOHOEKHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxMDIzNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public final String REASON_KEY_FORMAT = \"game.reasonNotValid.%d\";\n          \n          \n            \n              private static final String REASON_KEY_FORMAT = \"game.reasonNotValid.%d\";", "url": "https://github.com/FAForever/downlords-faf-client/pull/1865#discussion_r484510236", "createdAt": "2020-09-07T16:14:11Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/replay/ReplayDetailController.java", "diffHunk": "@@ -66,6 +67,8 @@\n @RequiredArgsConstructor\n public class ReplayDetailController implements Controller<Node> {\n \n+  public final String REASON_KEY_FORMAT = \"game.reasonNotValid.%d\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcef7210caad1752b3c6e18651b027efb7daa2e7"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2072, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}