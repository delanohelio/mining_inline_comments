{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5Nzg2ODEx", "number": 1885, "title": "Add install button to map and mod cards for easier UX for installing", "bodyText": "Fixes #1874, Fixes #702", "createdAt": "2020-09-04T15:15:46Z", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885", "merged": true, "mergeCommit": {"oid": "3b9440f6fc324c6f1c633f2fb6dbe34022746665"}, "closed": true, "closedAt": "2020-09-13T16:45:43Z", "author": {"login": "Sheikah45"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFqK9_gFqTQ4Mjg5MDAyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHckKogFqTQ4NTcwMzM2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyODkwMDIx", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#pullrequestreview-482890021", "createdAt": "2020-09-04T19:14:51Z", "commit": {"oid": "4fa5dd1ea5b8b0847313b1b2f2462254edb7988a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNjUyMTAw", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#pullrequestreview-483652100", "createdAt": "2020-09-07T16:11:19Z", "commit": {"oid": "a8a397c23840da68ab44ae96de37e4c89fecb831"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNjc3MTgw", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#pullrequestreview-483677180", "createdAt": "2020-09-07T17:44:14Z", "commit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDoxNFrOHOFjbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzo0NDo0MFrOHOFjxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzEwMw==", "bodyText": "what for?", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484533103", "createdAt": "2020-09-07T17:44:14Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/map/MapCardController.java", "diffHunk": "@@ -87,8 +97,16 @@ public void setMap(MapBean map) {\n     sizeLabel.setText(i18n.get(\"mapPreview.size\", size.getWidthInKm(), size.getHeightInKm()));\n     maxPlayersLabel.setText(i18n.number(map.getPlayers()));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installedMapsChangeListener));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzE5MQ==", "bodyText": "why", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#discussion_r484533191", "createdAt": "2020-09-07T17:44:40Z", "author": {"login": "1-alex98"}, "path": "src/main/java/com/faforever/client/map/MapDetailController.java", "diffHunk": "@@ -200,17 +200,23 @@ public void setMap(MapBean map) {\n             installButton.setDisable(true);\n           }\n         }));\n-    uninstallButton.setVisible(mapInstalled);\n \n     mapDescriptionLabel.setText(Optional.ofNullable(map.getDescription())\n         .map(Strings::emptyToNull)\n         .map(FaStrings::removeLocalizationTag)\n         .orElseGet(() -> i18n.get(\"map.noDescriptionAvailable\")));\n \n-    ObservableList<MapBean> installedMaps = mapService.getInstalledMaps();\n-    JavaFxUtil.addListener(installedMaps, new WeakListChangeListener<>(installStatusChangeListener));\n \n-    setInstalled(mapService.isInstalled(map.getFolderName()));\n+    if (mapService.isOfficialMap(map.getFolderName())) {\n+      installButton.setDisable(false);\n+      uninstallButton.setDisable(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b1ca55ac76a8a8c41e5f79ff16386a391374600"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNzA4NDcz", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#pullrequestreview-483708473", "createdAt": "2020-09-07T20:59:46Z", "commit": {"oid": "ef1d71e1075b8c2a1622df7e67c97e36b2a059df"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eef317bb68b339d765037a5855de2139d442098c", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/eef317bb68b339d765037a5855de2139d442098c", "committedDate": "2020-09-07T21:02:13Z", "message": "Add install button to map and mod cards for easier UX for installing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "794c63b4a9248f8aa038b963e0ce921f62e5a019", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/794c63b4a9248f8aa038b963e0ce921f62e5a019", "committedDate": "2020-09-07T21:02:13Z", "message": "Use icons for buttons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb78fef96392ad5c12de10a6d909f4e31f7b43c6", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/fb78fef96392ad5c12de10a6d909f4e31f7b43c6", "committedDate": "2020-09-07T21:02:13Z", "message": "Use Bin for uninstall icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef2cad5825fb982ca8f056134dbc67e681e04c16", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/ef2cad5825fb982ca8f056134dbc67e681e04c16", "committedDate": "2020-09-07T21:02:14Z", "message": "Remove install uninstall for official maps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "645785fb80627c58bc3b58b085db8ecaa7dd4086", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/645785fb80627c58bc3b58b085db8ecaa7dd4086", "committedDate": "2020-09-07T21:02:14Z", "message": "Set buttons to disabled when official map"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef1d71e1075b8c2a1622df7e67c97e36b2a059df", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/ef1d71e1075b8c2a1622df7e67c97e36b2a059df", "committedDate": "2020-09-07T19:33:37Z", "message": "Set buttons to disabled when official map"}, "afterCommit": {"oid": "645785fb80627c58bc3b58b085db8ecaa7dd4086", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/645785fb80627c58bc3b58b085db8ecaa7dd4086", "committedDate": "2020-09-07T21:02:14Z", "message": "Set buttons to disabled when official map"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8288758d7e688c2486d97b85dc11edc969fcf54a", "author": {"user": {"login": "Sheikah45", "name": null}}, "url": "https://github.com/FAForever/downlords-faf-client/commit/8288758d7e688c2486d97b85dc11edc969fcf54a", "committedDate": "2020-09-09T12:01:06Z", "message": "Remove disabling buttons"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NzAzMzY0", "url": "https://github.com/FAForever/downlords-faf-client/pull/1885#pullrequestreview-485703364", "createdAt": "2020-09-10T08:31:33Z", "commit": {"oid": "8288758d7e688c2486d97b85dc11edc969fcf54a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3283, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}