{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNDg0Nzgw", "number": 1461, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNDowNTowNVrODyFnPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNDowNTowNVrODyFnPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzODQ3MzU3OnYy", "diffSide": "RIGHT", "path": "src/main/java/picard/sam/AbstractAlignmentMerger.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNDowNTowNVrOGF7WHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMjo0MToxMlrOGVKHdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg2ODM4Mw==", "bodyText": "The fix looks good to me. It's a shame the API isn't setAttribute(SAMTag, Object).\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        unaligned.setAttribute( SAMTag.CO.name(), optionalComment.map(s -> s + \" | \").orElse(\"\")  + \"Cross-species contamination\");\n          \n          \n            \n                        unaligned.setAttribute(SAMTag.CO.name(), optionalComment.map(s -> s + \" | \").orElse(\"\")  + \"Cross-species contamination\");", "url": "https://github.com/broadinstitute/picard/pull/1461#discussion_r408868383", "createdAt": "2020-04-15T14:05:05Z", "author": {"login": "pshapiro4broad"}, "path": "src/main/java/picard/sam/AbstractAlignmentMerger.java", "diffHunk": "@@ -694,8 +694,7 @@ private void transferAlignmentInfoToFragment(final SAMRecord unaligned, final SA\n \n             // if there already is a comment, add second comment with a | separator:\n             Optional<String> optionalComment = Optional.ofNullable(unaligned.getStringAttribute(SAMTag.CO.name()));\n-            unaligned.setAttribute(optionalComment.map(s -> s + \" | \").orElse(\"\") +\n-                    SAMTag.CO.name(), \"Cross-species contamination\");\n+            unaligned.setAttribute( SAMTag.CO.name(), optionalComment.map(s -> s + \" | \").orElse(\"\")  + \"Cross-species contamination\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25b72dba46034b578b98c188b05fbc1f2e4b32e1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgzOTAzMA==", "bodyText": "There's a pr open to do what you suggested.", "url": "https://github.com/broadinstitute/picard/pull/1461#discussion_r424839030", "createdAt": "2020-05-14T02:41:12Z", "author": {"login": "lbergelson"}, "path": "src/main/java/picard/sam/AbstractAlignmentMerger.java", "diffHunk": "@@ -694,8 +694,7 @@ private void transferAlignmentInfoToFragment(final SAMRecord unaligned, final SA\n \n             // if there already is a comment, add second comment with a | separator:\n             Optional<String> optionalComment = Optional.ofNullable(unaligned.getStringAttribute(SAMTag.CO.name()));\n-            unaligned.setAttribute(optionalComment.map(s -> s + \" | \").orElse(\"\") +\n-                    SAMTag.CO.name(), \"Cross-species contamination\");\n+            unaligned.setAttribute( SAMTag.CO.name(), optionalComment.map(s -> s + \" | \").orElse(\"\")  + \"Cross-species contamination\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg2ODM4Mw=="}, "originalCommit": {"oid": "25b72dba46034b578b98c188b05fbc1f2e4b32e1"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 702, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}