{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MTgwMTk5", "number": 275, "title": "Fix bugs in Decision Maker", "bodyText": "Issue #, if available:\n#285\nDescription of changes:\nfix bugs in Decision Maker\nTests:\ntested on docker\nCode coverage percentage for this patch:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-15T00:38:45Z", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275", "merged": true, "mergeCommit": {"oid": "8d61049edc900c526cdbcc0d3af0493fd4783587"}, "closed": true, "closedAt": "2020-07-16T23:03:16Z", "author": {"login": "rguo-aws"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc09kfwgH2gAyNDQ5MTgwMTk5OjUzOWY4Y2YwMWQ5NzU2NGJkNTZiMWQ3ODUwMzViNDc2ZjMwZTUwZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1nUyIAH2gAyNDQ5MTgwMTk5OjZiNWEzMjk0NmRiMGYwNGJiYjljZTI3ZjNhNDJkZDcxZjY4ZmE3YWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "539f8cf01d97564bd56b1d785035b476f30e50f0", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/539f8cf01d97564bd56b1d785035b476f30e50f0", "committedDate": "2020-07-14T22:14:13Z", "message": "Add client interface and fix bugs in Decision Maker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7592bddda87f9d2b1cafd52a2fdb391783d073b4", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/7592bddda87f9d2b1cafd52a2fdb391783d073b4", "committedDate": "2020-07-15T00:51:36Z", "message": "Fix check style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec53505aa73db2842c6fc21b26fb007d409c9f20", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/ec53505aa73db2842c6fc21b26fb007d409c9f20", "committedDate": "2020-07-15T01:02:46Z", "message": "remove space"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MjI4OTI2", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#pullrequestreview-449228926", "createdAt": "2020-07-15T18:36:10Z", "commit": {"oid": "ec53505aa73db2842c6fc21b26fb007d409c9f20"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/13e16650bcb6e9aeea5a76e6c377d9becb500408", "committedDate": "2020-07-15T19:41:23Z", "message": "remove client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDI5NDE1", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#pullrequestreview-449429415", "createdAt": "2020-07-16T00:27:45Z", "commit": {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMDoyNzo0NVrOGyV3tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMDoyNzo0NVrOGyV3tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0MDMwOQ==", "bodyText": "nit: decider + \": \" + actions ? (assuming this is for logging?)", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#discussion_r455440309", "createdAt": "2020-07-16T00:27:45Z", "author": {"login": "vigyasharma"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/Decision.java", "diffHunk": "@@ -54,6 +54,11 @@ public void setDecider(String decider) {\n     this.decider = decider;\n   }\n \n+  @Override\n+  public String toString() {\n+    return decider + actions;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDcyNzM3", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#pullrequestreview-450072737", "createdAt": "2020-07-16T17:41:29Z", "commit": {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzo0MToyOVrOGy1leg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzo0MToyOVrOGy1leg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1OTkzMA==", "bodyText": "Wondering if we should update the metric count before the logging, thoughts?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#discussion_r455959930", "createdAt": "2020-07-16T17:41:29Z", "author": {"login": "khushbr"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/Publisher.java", "diffHunk": "@@ -43,18 +46,30 @@ public EmptyFlowUnit operate() {\n       LOG.info(\"Executing action: [{}]\", action.name());\n       action.execute();\n     }\n-\n     return new EmptyFlowUnit(System.currentTimeMillis());\n   }\n \n-  /* Publisher does not have downstream nodes and does not emit flow units\n-   */\n-\n   @Override\n   public void generateFlowUnitListFromLocal(FlowUnitOperationArgWrapper args) {\n-    assert true;\n+    LOG.debug(\"Publisher: Executing fromLocal: {}\", name());\n+    long startTime = System.currentTimeMillis();\n+\n+    try {\n+      this.operate();\n+    } catch (Exception ex) {\n+      LOG.error(\"Publisher: Exception in operate\", ex);\n+      PerformanceAnalyzerApp.ERRORS_AND_EXCEPTIONS_AGGREGATOR.updateStat(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7fbbfcd6e18df2d9048763b7ce9d47159223e44", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/b7fbbfcd6e18df2d9048763b7ce9d47159223e44", "committedDate": "2020-07-16T22:48:50Z", "message": "Merge remote-tracking branch 'origin' into rguo-dm-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b5a32946db0f04bbb9ce27f3a42dd71f68fa7ab", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/6b5a32946db0f04bbb9ce27f3a42dd71f68fa7ab", "committedDate": "2020-07-16T22:53:04Z", "message": "Address PR comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1078, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}