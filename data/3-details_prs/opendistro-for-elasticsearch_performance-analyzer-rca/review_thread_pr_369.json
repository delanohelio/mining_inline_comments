{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MTAwMTM3", "number": 369, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNzoxNDowNVrOEYJbyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoxNDoxN1rOEYLS4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNzU1ODQ5OnYy", "diffSide": "RIGHT", "path": "build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNzoxNDowNVrOHAU_2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODowNjoxNlrOHAXk7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEwNjA3NQ==", "bodyText": "remove this line ?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/369#discussion_r470106075", "createdAt": "2020-08-13T17:14:05Z", "author": {"login": "rguo-aws"}, "path": "build.gradle", "diffHunk": "@@ -183,6 +183,16 @@ task rcaTest(type: Test) {\n     testLogging.showStandardStreams = true\n }\n \n+task rcaIt(type: Test) {\n+    dependsOn checkstyleMain\n+    dependsOn checkstyleTest\n+    dependsOn spotbugsMain\n+    useJUnit {\n+        includeCategories 'com.amazon.opendistro.elasticsearch.performanceanalyzer.rca.integTests.framework.RcaItMarker'\n+    }\n+    //testLogging.showStandardStreams = true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db9fd92ffd24c4864472419ee4e9153198014648"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE0ODMzMg==", "bodyText": "Wanted to keep it so than people can enable it if they want stdout ?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/369#discussion_r470148332", "createdAt": "2020-08-13T18:06:16Z", "author": {"login": "yojs"}, "path": "build.gradle", "diffHunk": "@@ -183,6 +183,16 @@ task rcaTest(type: Test) {\n     testLogging.showStandardStreams = true\n }\n \n+task rcaIt(type: Test) {\n+    dependsOn checkstyleMain\n+    dependsOn checkstyleTest\n+    dependsOn spotbugsMain\n+    useJUnit {\n+        includeCategories 'com.amazon.opendistro.elasticsearch.performanceanalyzer.rca.integTests.framework.RcaItMarker'\n+    }\n+    //testLogging.showStandardStreams = true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEwNjA3NQ=="}, "originalCommit": {"oid": "db9fd92ffd24c4864472419ee4e9153198014648"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNzg2MDU2OnYy", "diffSide": "RIGHT", "path": "docs/rcait.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoxMzoyOVrOHAX1qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoxMzoyOVrOHAX1qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE1MjYxOQ==", "bodyText": "maybe we can make the command a verb like other gradle tasks? runRcaIt?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/369#discussion_r470152619", "createdAt": "2020-08-13T18:13:29Z", "author": {"login": "ktkrg"}, "path": "docs/rcait.md", "diffHunk": "@@ -75,7 +79,57 @@ of 60 seconds.\n     \n A test class can get access to the programmaticAPI to get information about hosts in the cluster\n or a particular host then the test class can declare a method with name `setTestApi(final TestApi api)`\n-and the test runer will call this setter to give a reference of the TEestApi to the testClass. \n+and the test runner will call this setter to give a reference of the TestApi to the testClass.\n+\n+### Cluster Types\n+The integration test framework let's us create three kinds of clusters as mentioned above. But\n+you need to know the hostTags to pick a host that would publish certain metrics or its the\n+hostTag by which you identify a host to make a REST request to. This section tells you what are\n+the different hostTags available for different cluster types.\n+\n+__Dedicated Master Cluster__\n+\n+This cluster type is composed of three master nodes and 2 data nodes.\n+\n+Host Ids | Host Tags\n+---------|----------\n+0 | HostTag.ELECTED_MASTER\n+1 | HostTag.STANDBY_MASTER_0\n+2 | HostTag.STANDBY_MASTER_1\n+3 | HostTag.DATA_0\n+4 | HostTag.DATA_1\n+\n+__ Co-located Master Cluster __\n+A co-located master cluster is one where all the data-nodes are master eligible. In the\n+test framework, this is composed of two nodes.\n+\n+Host IDs | Host Tags\n+---------|----------\n+0 | HostTag.ELECTED_MASTER\n+1 | HostTag.DATA_0\n+\n+\n+__ Single Node Cluster__\n+There is just one node in a single node cluster which is tagged as `HostTag.DATA_0`.\n+\n+Host IDs | Host Tags\n+---------|----------\n+0 | HostTag.DATA_0\n+\n+### Examples\n+\n+Some of the examples for how to write the integ tests can be found here:\n+`src/test/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/integTests/tests/poc/*`\n+\n+### Running the integ tests\n+1. All integration tests written using this framework can be run by using the command\n+`./gradlew rcaIt`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b61b8e6df14f1874790cfc1a9a27cc3c82bd56"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNzg2MzM4OnYy", "diffSide": "RIGHT", "path": "build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoxNDoxN1rOHAX3cQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODoxNDoxN1rOHAX3cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE1MzA3Mw==", "bodyText": "Maybe we can make this a verb like other gradle tasks(build, assemble, etc) runRcaIt?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/369#discussion_r470153073", "createdAt": "2020-08-13T18:14:17Z", "author": {"login": "ktkrg"}, "path": "build.gradle", "diffHunk": "@@ -183,6 +183,16 @@ task rcaTest(type: Test) {\n     testLogging.showStandardStreams = true\n }\n \n+task rcaIt(type: Test) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b61b8e6df14f1874790cfc1a9a27cc3c82bd56"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2355, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}