{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODEwNjM4", "number": 230, "title": "Completely remove instanceof from summary framework", "bodyText": "Issue #, if available:\n#212\nDescription of changes:\nCompletely remove instanceof from summary framework\nTests:\ntested on docker\nCode coverage percentage for this patch:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-06-11T03:07:24Z", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230", "merged": true, "mergeCommit": {"oid": "3bb3fdab857a0c6b5d1ea668cd71f9d1630f8937"}, "closed": true, "closedAt": "2020-06-12T23:22:42Z", "author": {"login": "rguo-aws"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqA1vYAH2gAyNDMyODEwNjM4OjlmY2RmYTk0NDk4MTc0N2IxNThkODAyMjllMmM5NTg0ZWQwYTI0NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqrXY7AFqTQzMDA4MTQyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9fcdfa944981747b158d80229e2c9584ed0a2459", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/9fcdfa944981747b158d80229e2c9584ed0a2459", "committedDate": "2020-06-10T21:49:36Z", "message": "Fixed summary framework to support dedicated summary type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8df52d4bce9e26043e47fd3451c6eeb5e9610e1a", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/8df52d4bce9e26043e47fd3451c6eeb5e9610e1a", "committedDate": "2020-06-11T03:02:19Z", "message": "RCA changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/454912fa813ecdbdffb21111790c89ba5afee2b2", "committedDate": "2020-06-11T17:30:27Z", "message": "Fix a bug in SQL persistor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MzI2MDYy", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#pullrequestreview-429326062", "createdAt": "2020-06-11T22:06:38Z", "commit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMDQ5NTgx", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#pullrequestreview-430049581", "createdAt": "2020-06-12T21:34:20Z", "commit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMTozNDoyMFrOGjSMSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMTo1MzozM1rOGjSjKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwMg==", "bodyText": "Do we want throw IllegalArgumentException here ?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439651402", "createdAt": "2020-06-12T21:34:20Z", "author": {"login": "khushbr"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotClusterSummary.java", "diffHunk": "@@ -128,6 +131,30 @@ public JsonElement toJson() {\n     return summaryObj;\n   }\n \n+  @Override\n+  public List<GenericSummary> getNestedSummaryList() {\n+    return new ArrayList<>(hotNodeSummaryList);\n+  }\n+\n+  @Override\n+  public GenericSummary buildNestedSummary(String summaryTable, Record record) {\n+    GenericSummary ret = null;\n+    if (summaryTable.equals(HotNodeSummary.HOT_NODE_SUMMARY_TABLE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTMzNg==", "bodyText": "Since the NestedSummaryList will have objects from various derived classes of GenericSummary, good to add a doc string here.", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439655336", "createdAt": "2020-06-12T21:46:59Z", "author": {"login": "khushbr"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotNodeSummary.java", "diffHunk": "@@ -157,6 +166,41 @@ public JsonElement toJson() {\n     return summaryObj;\n   }\n \n+  @Override\n+  public List<GenericSummary> getNestedSummaryList() {\n+    List<GenericSummary> summaries = new ArrayList<>();\n+    summaries.addAll(hotResourceSummaryList);\n+    summaries.addAll(hotShardSummaryList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NzI1Nw==", "bodyText": "Is this meant to be final ?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439657257", "createdAt": "2020-06-12T21:53:33Z", "author": {"login": "khushbr"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotResourceSummary.java", "diffHunk": "@@ -59,6 +60,7 @@\n   private double maxValue;\n   private int timePeriod;\n   private String metaData;\n+  private final List<TopConsumerSummary> topConsumerSummaryList;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cba37b3138ab20aba8415327a6e93fccd40ea6ee", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/cba37b3138ab20aba8415327a6e93fccd40ea6ee", "committedDate": "2020-06-12T23:16:35Z", "message": "Address PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMDgxNDI5", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#pullrequestreview-430081429", "createdAt": "2020-06-12T23:22:22Z", "commit": {"oid": "cba37b3138ab20aba8415327a6e93fccd40ea6ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1035, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}