{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODU1MjA2", "number": 457, "title": "Fix a bug in old gen policy", "bodyText": "Fixes #:\nDescription of changes:\nfound a bug in end to end dev testing. The bucketization function had a bug and gave wrong bucket index. Fixing the bug and updating the corresponding UT to capture it.\nTests:\ntested on dev stack\nIf new tests are added, how long do the new ones take to complete\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-10-06T21:51:02Z", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457", "merged": true, "mergeCommit": {"oid": "f259aa8576e3a5a61bf7db5cd4d5e22b07c9fdd7"}, "closed": true, "closedAt": "2020-10-07T00:43:24Z", "author": {"login": "rguo-aws"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP_ftMgH2gAyNDk4ODU1MjA2OmFjOWE1ODE4NGYzNmJjNjg5MzZjMDQwOTFjN2RkZjg1NTYwZTBlNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQCA4oAFqTUwMzQ1MTM4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46", "author": {"user": {"login": "rguo-aws", "name": "Ruizhen Guo"}}, "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/ac9a58184f36bc68936c04091c7ddf85560e0e46", "committedDate": "2020-10-06T21:44:45Z", "message": "Fix a bug in old gen policy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzk3MzU2", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#pullrequestreview-503397356", "createdAt": "2020-10-06T22:14:55Z", "commit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoxNDo1NlrOHdb0LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoxNDo1NlrOHdb0LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyNjQ3Nw==", "bodyText": "The other format seems much clearer to me. Why did we change it to this? What does this mean?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500626477", "createdAt": "2020-10-06T22:14:56Z", "author": {"login": "sidheart"}, "path": "pa_config/rca_master.conf", "diffHunk": "@@ -109,20 +109,47 @@\n   // Default Values are added in the config specific file as well\n   // Modify them as well whenever changing the default values (DeciderConfig.java)\n   \"decider-config-settings\": {\n-    // Decreasing order of priority for the type of workload we can expect on the cluster.\n-    // Priority order in the list goes from most expected to the lease expected workload type.\n     \"workload-type\": {\n-      \"priority-order\": [\"ingest\", \"search\"]\n+      \"prefer-ingest\": true,\n+      \"prefer-search\": true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzk0MDEw", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#pullrequestreview-503394010", "createdAt": "2020-10-06T22:08:18Z", "commit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjowODoxOFrOHdbp2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMjoxMzo0NlrOHdbydw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyMzgzMw==", "bodyText": "We need to clean up these configs, muted_actions and muted_deciders are also only needed by master node. Can you create an issue for this?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500623833", "createdAt": "2020-10-06T22:08:18Z", "author": {"login": "vigyasharma"}, "path": "pa_config/rca.conf", "diffHunk": "@@ -93,46 +93,5 @@\n     \"ClusterTemperatureRca\"\n   ],\n   \"muted-deciders\": [],\n-  \"muted-actions\": [],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyNjAzOQ==", "bodyText": "nit: can we rename value by queueSize or size or resourceSize ?", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500626039", "createdAt": "2020-10-06T22:13:46Z", "author": {"login": "vigyasharma"}, "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/jvm/old_gen/LevelTwoActionBuilder.java", "diffHunk": "@@ -150,7 +150,7 @@ private void actionPriorityForCache() {\n    */\n   private int bucketization(int lowerBound, int upperBound, int val, int bucketSize) {\n     double step = (double) (upperBound - lowerBound) / (double) bucketSize;\n-    return (int) ((double) val / step);\n+    return (int) ((double) (val - lowerBound) / step);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDUxMzgw", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#pullrequestreview-503451380", "createdAt": "2020-10-07T00:40:48Z", "commit": {"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 971, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}