{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNzI0NzM2", "number": 1019, "title": "Add gRPC client/server instrumentation plugin", "bodyText": "What does this PR do?\nAdds a plugin for gRPC instrumentation that support unary method calls (request/response).\nThere are two parts:\n\nserver-side: incomming gRPC requests are instrumented as transactions.\nclient-side: any outgoing gRPC request within a transaction is instrumented as a span\n\nChecklist\n\n\n My code follows the style guidelines of this project\n\n\n I have rebased my changes on top of the latest master branch\n\n\n I have made corresponding changes to the documentation\n\n\n I have added tests that prove my fix is effective or that my feature works\n\n\n New and existing unit tests pass locally with my changes\n\n\n I have updated CHANGELOG.asciidoc\n\n\n I have updated supported-technologies.asciidoc\n\n\nAdded an API method or config option? Document in which version this will be introduced\n\n\n Added an instrumentation plugin? How did you make sure that old, non-supported versions are not instrumented by accident?\n\n\nAuthor's Checklist\n\nRelated issues\nSpec on APM repository : elastic/apm#200\nCloses #256\n\nUse cases", "createdAt": "2020-02-04T09:16:35Z", "url": "https://github.com/elastic/apm-agent-java/pull/1019", "merged": true, "mergeCommit": {"oid": "b2ac746be4d90fe9a7191c9d46f2fb0c364b3799"}, "closed": true, "closedAt": "2020-03-18T17:05:49Z", "author": {"login": "SylvainJuge"}, "timelineItems": {"totalCount": 69, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA-LNBAH2gAyMzcwNzI0NzM2OjVmNGZjMGQ0MzYyYTNlZTk4MjZjNDJiZmEzZjllY2Y5NWFhOGQ1M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOSEz1AFqTM3NTQ2NDY2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f4fc0d4362a3ee9826c42bfa3f9ecf95aa8d53e", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/5f4fc0d4362a3ee9826c42bfa3f9ecf95aa8d53e", "committedDate": "2020-02-04T09:32:26Z", "message": "remove redundant dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1e09ad78ce9b6971d69038ca8673d9a835a6da9", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/a1e09ad78ce9b6971d69038ca8673d9a835a6da9", "committedDate": "2020-02-04T09:33:03Z", "message": "bootstrap a new plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "604a013b2e065daa344d44eb6d401a7173f77a1d", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/604a013b2e065daa344d44eb6d401a7173f77a1d", "committedDate": "2020-02-04T09:33:03Z", "message": "add base grpc dependencies & build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e02236897a20880d6b106af9a1eefe8946caced9", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/e02236897a20880d6b106af9a1eefe8946caced9", "committedDate": "2020-02-04T09:33:03Z", "message": "bootstrap server impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19ab9ebfda3e6e0fd2d1b05ed24a9f0f0b8b41b4", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/19ab9ebfda3e6e0fd2d1b05ed24a9f0f0b8b41b4", "committedDate": "2020-02-04T09:33:03Z", "message": "wip test app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b8701e1899142d2ced9bb5d367e0e22f2a94ff1", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/0b8701e1899142d2ced9bb5d367e0e22f2a94ff1", "committedDate": "2020-02-04T09:33:03Z", "message": "move app to test scope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd32ff0552aa981c93695f029aa0d7622f0f3d14", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/cd32ff0552aa981c93695f029aa0d7622f0f3d14", "committedDate": "2020-02-04T09:33:03Z", "message": "add generated + nested calls support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "150bab7c7be5216d69e9a15a32ffdf9b2cdce9b7", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/150bab7c7be5216d69e9a15a32ffdf9b2cdce9b7", "committedDate": "2020-02-04T09:33:03Z", "message": "add simple tests for sample app behavior"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7eef77ba747d731048b9ba3c981c970c0e9fff06", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/7eef77ba747d731048b9ba3c981c970c0e9fff06", "committedDate": "2020-02-04T09:33:03Z", "message": "cover java-ish way to deal with server side errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69b05dffe49df0ddc943423b9f0d10636254c113", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/69b05dffe49df0ddc943423b9f0d10636254c113", "committedDate": "2020-02-04T09:33:03Z", "message": "wip on server interceptor\n\nruntime exceptions thrown during transaction are not properly handled\nwhen such exceptions happen, there is no reported transaction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b32c4cc6f1e7f0f8dc956bdf15d314a5cd64521", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/3b32c4cc6f1e7f0f8dc956bdf15d314a5cd64521", "committedDate": "2020-02-04T09:33:03Z", "message": "server transactions without Interceptor !!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "951ba529e0b3f1acd88b711533aa141a2673097c", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/951ba529e0b3f1acd88b711533aa141a2673097c", "committedDate": "2020-02-04T09:33:03Z", "message": "cleanup before PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a442b49cd3743d5b99b9060f4ad61d0ec1be8607", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/a442b49cd3743d5b99b9060f4ad61d0ec1be8607", "committedDate": "2020-02-04T09:33:03Z", "message": "cleanup before client instrumentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a67d7a3291f78ac48f900af74826e5ccda17bf63", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/a67d7a3291f78ac48f900af74826e5ccda17bf63", "committedDate": "2020-02-04T09:33:03Z", "message": "improve benchmark ascii layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd6b2e3eaa61097673980b23cb7d9383208d2529", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/bd6b2e3eaa61097673980b23cb7d9383208d2529", "committedDate": "2020-02-04T09:33:03Z", "message": "improve error message for easier debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06b3fb04ca82929aeb026f8cddd38a34fe03c59f", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/06b3fb04ca82929aeb026f8cddd38a34fe03c59f", "committedDate": "2020-02-04T09:33:03Z", "message": "add address+port at once on destination"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cad7be905b9c4684e516d9575b4c1036bf1cdb49", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/cad7be905b9c4684e516d9575b4c1036bf1cdb49", "committedDate": "2020-02-04T09:33:03Z", "message": "improve error message to help troubleshooting\n\nThis is quite common when we try to have an instrumentation that is an abstract class, thus making it obvious helps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd2d761778aa6f5ea79f3ff2cdf165a0ae061b13", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/fd2d761778aa6f5ea79f3ff2cdf165a0ae061b13", "committedDate": "2020-02-04T09:33:03Z", "message": "provide better exception messages for known causes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cec6ed85f32ff4e7e3aecf5f71125e0fd418059", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/2cec6ed85f32ff4e7e3aecf5f71125e0fd418059", "committedDate": "2020-02-04T09:33:56Z", "message": "enhance assertions description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f1167d256864c8e7f6441779fe9cc797e28814c", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/9f1167d256864c8e7f6441779fe9cc797e28814c", "committedDate": "2020-02-04T09:33:56Z", "message": "wip implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "219b709d5af720c3aafb878ef4902f3533d25875", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/219b709d5af720c3aafb878ef4902f3533d25875", "committedDate": "2020-02-04T09:33:56Z", "message": "fix port parsing with api from java9"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0698fa5b4bd03b651b94212d64a4fbf0007d3c1c", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/0698fa5b4bd03b651b94212d64a4fbf0007d3c1c", "committedDate": "2020-02-04T09:05:25Z", "message": "wip implementation"}, "afterCommit": {"oid": "219b709d5af720c3aafb878ef4902f3533d25875", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/219b709d5af720c3aafb878ef4902f3533d25875", "committedDate": "2020-02-04T09:33:56Z", "message": "fix port parsing with api from java9"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "612472fd35dcf10db413a75a5f42d85caaf90b19", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/612472fd35dcf10db413a75a5f42d85caaf90b19", "committedDate": "2020-02-04T09:47:51Z", "message": "fix & re-format code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79df2489af6ea7d2ff19bf3665e2bde63b5e0f24", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/79df2489af6ea7d2ff19bf3665e2bde63b5e0f24", "committedDate": "2020-02-04T13:34:04Z", "message": "minor (but essential) fixes from quick review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5913fa8a366bc8f69fd65811cd5e7e46d13b0def", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/5913fa8a366bc8f69fd65811cd5e7e46d13b0def", "committedDate": "2020-02-06T14:32:01Z", "message": "Merge branch 'master' into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b28940b4b1d674e9825fec048ff7193ce1d96da8", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/b28940b4b1d674e9825fec048ff7193ce1d96da8", "committedDate": "2020-02-07T15:14:58Z", "message": "Felix was right about the order + assertions improve"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d64f998c949bbccb43418174a97f48c48296c84", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/2d64f998c949bbccb43418174a97f48c48296c84", "committedDate": "2020-02-07T17:30:23Z", "message": "wip grpc async client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffd35786ace400903d13af407decacd048dc862a", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/ffd35786ace400903d13af407decacd048dc862a", "committedDate": "2020-02-17T15:26:43Z", "message": "Merge branch 'master' of github.com:elastic/apm-agent-java into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53fdd9b5819126c94a561d6b3e0c3a74c0123ed1", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/53fdd9b5819126c94a561d6b3e0c3a74c0123ed1", "committedDate": "2020-02-18T13:34:39Z", "message": "fix creating instrumentation instances"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "087b1ac46d1eff96288d42b5392d06f534c45447", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/087b1ac46d1eff96288d42b5392d06f534c45447", "committedDate": "2020-02-18T13:35:37Z", "message": "update parent after merging master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "899a0c6e5c234eb1bab36fcf5d6584efb0256ba6", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/899a0c6e5c234eb1bab36fcf5d6584efb0256ba6", "committedDate": "2020-02-18T13:37:56Z", "message": "use helper manager + start context propagation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4edded784d5d0b033a204501cb968805b14da91a", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/4edded784d5d0b033a204501cb968805b14da91a", "committedDate": "2020-02-18T15:56:49Z", "message": "add context propagation headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bffc17e1ba503363dc6f7f8d886a97a9beb3ede", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/1bffc17e1ba503363dc6f7f8d886a97a9beb3ede", "committedDate": "2020-02-18T15:57:16Z", "message": "remove unused class warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05f2df58eeb677eb9adacdd2da138a41be7d5633", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/05f2df58eeb677eb9adacdd2da138a41be7d5633", "committedDate": "2020-02-18T16:00:57Z", "message": "code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96fc366c39c7e281af7ab12b5fca82114ba7949c", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/96fc366c39c7e281af7ab12b5fca82114ba7949c", "committedDate": "2020-02-18T16:44:29Z", "message": "update doc & changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23645081388b228a454b188777c5341ba707670c", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/23645081388b228a454b188777c5341ba707670c", "committedDate": "2020-02-18T16:46:58Z", "message": "fix changelog for 1.14.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODY1MDYw", "url": "https://github.com/elastic/apm-agent-java/pull/1019#pullrequestreview-361865060", "createdAt": "2020-02-20T12:34:21Z", "commit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMjozNDoyMlrOFsRq-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNDo1NjoxNFrOFsWitg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk3MTE5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if( address != null) {\n          \n          \n            \n                    if (address != null) {", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r381971195", "createdAt": "2020-02-20T12:34:22Z", "author": {"login": "felixbarny"}, "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/impl/context/Destination.java", "diffHunk": "@@ -44,17 +44,8 @@\n     private int port;\n \n     public Destination withAddress(@Nullable CharSequence address) {\n-        if (address != null && address.length() > 0) {\n-            // remove square brackets for IPv6 addresses\n-            int startIndex = 0;\n-            if (address.charAt(0) == '[') {\n-                startIndex = 1;\n-            }\n-            int endIndex = address.length();\n-            if (address.charAt(endIndex - 1) == ']') {\n-                endIndex--;\n-            }\n-            this.address.append(address, startIndex, endIndex);\n+        if( address != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk3Mzc3Mg==", "bodyText": "how does that affect breakdown metrics? Seems related to #884", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r381973772", "createdAt": "2020-02-20T12:40:19Z", "author": {"login": "felixbarny"}, "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/impl/transaction/AbstractSpan.java", "diffHunk": "@@ -355,10 +357,22 @@ public Runnable withActive(Runnable runnable) {\n         return tracer.wrapCallable(callable, this);\n     }\n \n+    /**\n+     * Set start timestamp\n+     *\n+     * @param epochMicros start timestamp in micro-seconds since epoch\n+     */\n     public void setStartTimestamp(long epochMicros) {\n         timestamp = epochMicros;\n     }\n \n+    /**\n+     * Set start timestamp from context current clock\n+     */\n+    public void setStartTimestampNow() {\n+        timestamp = getTraceContext().getClock().getEpochMicros();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk3NDgwOQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r381974809", "createdAt": "2020-02-20T12:42:40Z", "author": {"login": "felixbarny"}, "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/util/DependencyInjectingServiceLoader.java", "diffHunk": "@@ -108,17 +109,39 @@ private void instantiate(Set<String> implementations) {\n     private T instantiate(String implementation) {\n         try {\n             final Class<?> implementationClass = Class.forName(implementation, true, classLoader);\n+            checkClassModifiers(implementationClass);\n             Constructor<?> constructor = getMatchingConstructor(implementationClass);\n             if (constructor != null) {\n+                checkConstructorModifiers(constructor);\n                 return clazz.cast(constructor.newInstance(constructorArguments));\n             } else {\n-                return clazz.cast(implementationClass.getConstructor().newInstance());\n+                constructor = implementationClass.getConstructor();\n+                checkConstructorModifiers(constructor);\n+                return clazz.cast(constructor.newInstance());\n             }\n+        } catch (InstantiationException e) {\n+            String msg = String.format(\"unable to instantiate '%s', please check descriptor in META-INF\", implementation);\n+            throw new ServiceConfigurationError(msg, e);\n         } catch (Exception e) {\n             throw new ServiceConfigurationError(e.getMessage(), e);\n         }\n     }\n \n+    private static void checkConstructorModifiers(Constructor<?> constructor) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk3NTUwOQ==", "bodyText": "\ud83e\udd29", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r381975509", "createdAt": "2020-02-20T12:44:15Z", "author": {"login": "felixbarny"}, "path": "apm-agent-core/src/test/java/co/elastic/apm/agent/MockReporter.java", "diffHunk": "@@ -180,7 +181,10 @@ private JsonNode asJson(String jsonContent) {\n     }\n \n     public synchronized Transaction getFirstTransaction() {\n-        return transactions.iterator().next();\n+        assertThat(transactions)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk3NzI2NA==", "bodyText": "We don't want to ship gRPC with our agent, just compile against it.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <version>${grpc.version}</version>\n          \n          \n            \n                        <version>${grpc.version}</version>\n          \n          \n            \n                        <scope>provided</scope>", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r381977264", "createdAt": "2020-02-20T12:47:57Z", "author": {"login": "felixbarny"}, "path": "apm-agent-plugins/apm-grpc-plugin/pom.xml", "diffHunk": "@@ -0,0 +1,128 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>co.elastic.apm</groupId>\n+        <artifactId>apm-agent-plugins</artifactId>\n+        <version>1.13.1-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>apm-grpc-plugin</artifactId>\n+    <name>${project.groupId}:${project.artifactId}</name>\n+\n+    <properties>\n+        <apm-agent-parent.base.dir>${project.basedir}/../..</apm-agent-parent.base.dir>\n+        <protobuf.version>3.8.0</protobuf.version>\n+        <grpc.version>1.26.0</grpc.version>\n+    </properties>\n+\n+    <dependencies>\n+        <!-- our instrumentation depends on this -->\n+        <dependency>\n+            <groupId>io.grpc</groupId>\n+            <artifactId>grpc-api</artifactId>\n+            <version>${grpc.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA0OTk1Mg==", "bodyText": "Cache Metadata.Key instances to avoid allocations.", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r382049952", "createdAt": "2020-02-20T14:54:37Z", "author": {"login": "felixbarny"}, "path": "apm-agent-plugins/apm-grpc-plugin/src/main/java/co/elastic/apm/agent/grpc/helper/GrpcHeaderGetter.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*-\n+ * #%L\n+ * Elastic APM Java agent\n+ * %%\n+ * Copyright (C) 2018 - 2020 Elastic and contributors\n+ * %%\n+ * Licensed to Elasticsearch B.V. under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch B.V. licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ * #L%\n+ */\n+package co.elastic.apm.agent.grpc.helper;\n+\n+import co.elastic.apm.agent.impl.transaction.AbstractHeaderGetter;\n+import co.elastic.apm.agent.impl.transaction.TextHeaderGetter;\n+import io.grpc.Metadata;\n+\n+import javax.annotation.Nullable;\n+\n+class GrpcHeaderGetter extends AbstractHeaderGetter<String, Metadata> implements TextHeaderGetter<Metadata> {\n+\n+    @Nullable\n+    @Override\n+    public String getFirstHeader(String headerName, Metadata carrier) {\n+        return carrier.get(Metadata.Key.of(headerName, Metadata.ASCII_STRING_MARSHALLER));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA1MDAzMA==", "bodyText": "Cache Metadata.Key instances to avoid allocations.", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r382050030", "createdAt": "2020-02-20T14:54:46Z", "author": {"login": "felixbarny"}, "path": "apm-agent-plugins/apm-grpc-plugin/src/main/java/co/elastic/apm/agent/grpc/helper/GrpcHeaderSetter.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*-\n+ * #%L\n+ * Elastic APM Java agent\n+ * %%\n+ * Copyright (C) 2018 - 2020 Elastic and contributors\n+ * %%\n+ * Licensed to Elasticsearch B.V. under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch B.V. licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ * #L%\n+ */\n+package co.elastic.apm.agent.grpc.helper;\n+\n+import co.elastic.apm.agent.impl.transaction.TextHeaderSetter;\n+import io.grpc.Metadata;\n+\n+class GrpcHeaderSetter implements TextHeaderSetter<Metadata> {\n+\n+    @Override\n+    public void setHeader(String headerName, String headerValue, Metadata carrier) {\n+        carrier.put(Metadata.Key.of(headerName, Metadata.ASCII_STRING_MARSHALLER), headerValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA1MDk5OA==", "bodyText": "Outdated?", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r382050998", "createdAt": "2020-02-20T14:56:14Z", "author": {"login": "felixbarny"}, "path": "apm-agent-plugins/apm-grpc-plugin/src/main/java/co/elastic/apm/agent/grpc/helper/GrpcHelperImpl.java", "diffHunk": "@@ -0,0 +1,202 @@\n+/*-\n+ * #%L\n+ * Elastic APM Java agent\n+ * %%\n+ * Copyright (C) 2018 - 2020 Elastic and contributors\n+ * %%\n+ * Licensed to Elasticsearch B.V. under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch B.V. licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ * #L%\n+ */\n+package co.elastic.apm.agent.grpc.helper;\n+\n+import co.elastic.apm.agent.impl.ElasticApmTracer;\n+import co.elastic.apm.agent.impl.context.Destination;\n+import co.elastic.apm.agent.impl.transaction.Span;\n+import co.elastic.apm.agent.impl.transaction.TextHeaderGetter;\n+import co.elastic.apm.agent.impl.transaction.TextHeaderSetter;\n+import co.elastic.apm.agent.impl.transaction.Transaction;\n+import com.blogspot.mydailyjava.weaklockfree.WeakConcurrentMap;\n+import io.grpc.ClientCall;\n+import io.grpc.Metadata;\n+import io.grpc.MethodDescriptor;\n+import io.grpc.ServerCall;\n+import io.grpc.Status;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * Helper class for gRPC client and server calls.\n+ *\n+ * <br>\n+ * Since instances of this class are loaded through {@see co.elastic.apm.agent.bci.HelperClassManager}, we can use all\n+ * classes that are part of the gRPC API.\n+ */\n+@SuppressWarnings(\"unused\")\n+public class GrpcHelperImpl implements GrpcHelper {\n+\n+    /**\n+     * Map of all in-flight spans, is only used by client part.\n+     * Key is {@link ClientCall}, but referred as {@link Object} to avoid loading any gRPC reference in the bootstrap classloader", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23645081388b228a454b188777c5341ba707670c"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd3ff7f8c887f3a878e9bd8a9a555c4f5eb07a18", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/cd3ff7f8c887f3a878e9bd8a9a555c4f5eb07a18", "committedDate": "2020-02-21T14:24:00Z", "message": "add tests for 1.23 & 1.27.1 gRPC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f140aab5e75d50b3db618094d738ab672463834", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/6f140aab5e75d50b3db618094d738ab672463834", "committedDate": "2020-02-21T14:26:00Z", "message": "Merge branch 'master' of github.com:elastic/apm-agent-java into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d6789c5f45b72e82b1c8ec16aef11da1f24244b", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/8d6789c5f45b72e82b1c8ec16aef11da1f24244b", "committedDate": "2020-02-21T14:46:29Z", "message": "remove old broken dep"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4005615749c0183a4cdb27cf0a57ffd63ce842d9", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/4005615749c0183a4cdb27cf0a57ffd63ce842d9", "committedDate": "2020-02-21T16:12:31Z", "message": "add test gRPC 1.22 + update protobuf compiler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "440fe0d429f69a4f3edab988fde597273344c07d", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/440fe0d429f69a4f3edab988fde597273344c07d", "committedDate": "2020-02-21T16:16:28Z", "message": "use 'Abstract' prefix to avoid duplicate class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21169994fdac37ab56d34883c4d6e9726604e6c2", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/21169994fdac37ab56d34883c4d6e9726604e6c2", "committedDate": "2020-02-24T09:26:33Z", "message": "use junit DisplayName for better test naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "161befdd9359221234e5893f55c0d92e9c9b01a0", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/161befdd9359221234e5893f55c0d92e9c9b01a0", "committedDate": "2020-02-24T10:25:54Z", "message": "junit5 test name generator is great !"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69eba6485341f3d867d50b6ffac0f24c30094a3a", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/69eba6485341f3d867d50b6ffac0f24c30094a3a", "committedDate": "2020-02-24T10:36:46Z", "message": "terminate root transaction before assert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "362cb712a2475c850f3de5c8bcc77652dc3bbe97", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/362cb712a2475c850f3de5c8bcc77652dc3bbe97", "committedDate": "2020-02-24T12:42:14Z", "message": "add test for grpc 1.6.1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf8c9913571ebad757e78b6aef1cb8649617812f", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/cf8c9913571ebad757e78b6aef1cb8649617812f", "committedDate": "2020-02-24T12:47:16Z", "message": "remove intermediate test versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87507529191a5305085d4755ea1d82fa2beefe0b", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/87507529191a5305085d4755ea1d82fa2beefe0b", "committedDate": "2020-02-24T13:53:48Z", "message": "trying to make test less flaky"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a9e6de3ef2b2e53b30cd6729621776cfba37fb7", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/2a9e6de3ef2b2e53b30cd6729621776cfba37fb7", "committedDate": "2020-02-26T10:12:05Z", "message": "minor fixes after PR review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "459227e6600e9b14b26e73bb6d1723feacdc85b1", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/459227e6600e9b14b26e73bb6d1723feacdc85b1", "committedDate": "2020-02-27T09:22:40Z", "message": "fix broken header read/write"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5318862404ff351935b29479eea3099b5ef85499", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/5318862404ff351935b29479eea3099b5ef85499", "committedDate": "2020-02-27T17:48:39Z", "message": "anticipate that startTransaction might return null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "108277a06617aa044cedc19c1de2c6c5b0a91734", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/108277a06617aa044cedc19c1de2c6c5b0a91734", "committedDate": "2020-02-28T17:43:23Z", "message": "add client streaming on test app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "732bd5318ec1a07aca36ed25f4d1dc3e7993f8ed", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/732bd5318ec1a07aca36ed25f4d1dc3e7993f8ed", "committedDate": "2020-02-28T17:52:50Z", "message": "ensure client streaming calls not instrumented"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca6f12f29b3fea36d46477b8d9d0d3da20e257a", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/5ca6f12f29b3fea36d46477b8d9d0d3da20e257a", "committedDate": "2020-03-02T08:33:04Z", "message": "Merge branch 'master' of github.com:elastic/apm-agent-java into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc981b40caca025b09938a2e0b39d3f5ec96b994", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/bc981b40caca025b09938a2e0b39d3f5ec96b994", "committedDate": "2020-03-03T14:18:27Z", "message": "add bidi + make test failures consistent\n\nYes, failure is an achievement here :-)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f03416df950e4d44586e079d9b03d171d76ea860", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/f03416df950e4d44586e079d9b03d171d76ea860", "committedDate": "2020-03-03T14:23:21Z", "message": "ignore non-unary method calls client-side"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e369905037ebcf15b262d3c12d03584bd997d4e1", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/e369905037ebcf15b262d3c12d03584bd997d4e1", "committedDate": "2020-03-03T14:36:56Z", "message": "avoid non-unary method calls server-side for now"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef7aa90849519685b85a3b431dabc99f6c6e1fb3", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/ef7aa90849519685b85a3b431dabc99f6c6e1fb3", "committedDate": "2020-03-04T11:04:36Z", "message": "make async cancel test less flaky"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2564b05f4d3eb0e5900fbe6df85717938d1e4d7d", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/2564b05f4d3eb0e5900fbe6df85717938d1e4d7d", "committedDate": "2020-03-04T12:59:31Z", "message": "making another test less flaky"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7652a02cba1e34fbad21478d561fe6927645327", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/e7652a02cba1e34fbad21478d561fe6927645327", "committedDate": "2020-03-04T13:18:47Z", "message": "Merge branch 'master' into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e573d18dc583c943683037bb754708a886e8d0ed", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/e573d18dc583c943683037bb754708a886e8d0ed", "committedDate": "2020-03-04T13:23:32Z", "message": "update changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65ed58364ca517648af95b362681ab7c10a6cd11", "author": {"user": {"login": "eyalkoren", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/65ed58364ca517648af95b362681ab7c10a6cd11", "committedDate": "2020-03-08T06:38:58Z", "message": "Restore unreleased 1.15.0 section ID in CHANGELOG"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b34c197b5c55c2eeb9778928073cac39027aa014", "author": {"user": {"login": "eyalkoren", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/b34c197b5c55c2eeb9778928073cac39027aa014", "committedDate": "2020-03-08T06:40:09Z", "message": "Restore protected access to objectPoolFactory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODA4Njcw", "url": "https://github.com/elastic/apm-agent-java/pull/1019#pullrequestreview-370808670", "createdAt": "2020-03-08T06:55:49Z", "commit": {"oid": "65ed58364ca517648af95b362681ab7c10a6cd11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwNjo1NTo0OVrOFzTg0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwNjo1NTo0OVrOFzTg0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0MTM5Mg==", "bodyText": "I restored the former section ID as it failed the docs build", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r389341392", "createdAt": "2020-03-08T06:55:49Z", "author": {"login": "eyalkoren"}, "path": "CHANGELOG.asciidoc", "diffHunk": "@@ -19,7 +19,7 @@ endif::[]\n ////\n \n === Unreleased\n-[[release-notes-1.14.0]]\n+[[release-notes-1.15.0]]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ed58364ca517648af95b362681ab7c10a6cd11"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODA4Njg5", "url": "https://github.com/elastic/apm-agent-java/pull/1019#pullrequestreview-370808689", "createdAt": "2020-03-08T06:56:25Z", "commit": {"oid": "b34c197b5c55c2eeb9778928073cac39027aa014"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwNjo1NjoyNVrOFzTg7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwNjo1NjoyNVrOFzTg7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0MTQyMQ==", "bodyText": "I restored protected access, as it failed compilation", "url": "https://github.com/elastic/apm-agent-java/pull/1019#discussion_r389341421", "createdAt": "2020-03-08T06:56:25Z", "author": {"login": "eyalkoren"}, "path": "apm-agent-core/src/test/java/co/elastic/apm/agent/AbstractInstrumentationTest.java", "diffHunk": "@@ -47,8 +47,7 @@\n     protected static ElasticApmTracer tracer;\n     protected static MockReporter reporter;\n     protected static ConfigurationRegistry config;\n-\n-    private static TestObjectPoolFactory objectPoolFactory;\n+    protected static TestObjectPoolFactory objectPoolFactory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b34c197b5c55c2eeb9778928073cac39027aa014"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5e52afb4e390eb8091eedd4ccca75f5647e8c3b", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/c5e52afb4e390eb8091eedd4ccca75f5647e8c3b", "committedDate": "2020-03-10T13:59:54Z", "message": "Merge branch 'master' into add-grpc-plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a9c6dc02b9fd738d56252a9d4bdb0d18d477d13", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/8a9c6dc02b9fd738d56252a9d4bdb0d18d477d13", "committedDate": "2020-03-10T14:49:37Z", "message": "reset paused tracer after test execution\n\nWhen a test pauses tracer, we need to avoid side effects on other tests.\nMost of them assume tracer is not paused when starting state."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e382e4aacd9f130d70b0af4fe315b6d92d76825", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/3e382e4aacd9f130d70b0af4fe315b6d92d76825", "committedDate": "2020-03-13T15:02:19Z", "message": "do not override start timestamp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NDY0NjY1", "url": "https://github.com/elastic/apm-agent-java/pull/1019#pullrequestreview-375464665", "createdAt": "2020-03-16T18:04:34Z", "commit": {"oid": "3e382e4aacd9f130d70b0af4fe315b6d92d76825"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4067, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}