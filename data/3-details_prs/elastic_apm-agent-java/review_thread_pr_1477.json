{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NzczMjUy", "number": 1477, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMzoxMjowNVrOE2aSSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMzoxMjowNVrOE2aSSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NDg5MjI0OnYy", "diffSide": "RIGHT", "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/bci/AgentMain.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMzoxMjowNVrOHvMfoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMzoxMjowNVrOHvMfoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTI0OTgyNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            msgTemplate = \"Failed to start agent - JVM version not supported: %s %s %s\";\n          \n          \n            \n                            msgTemplate = \"Failed to start agent - JVM version not supported: %s %s %s. To override Java version verification, set the \"elastic.apm.disable_bootstrap_checks\" System property to \"true\".\";", "url": "https://github.com/elastic/apm-agent-java/pull/1477#discussion_r519249824", "createdAt": "2020-11-08T03:12:05Z", "author": {"login": "eyalkoren"}, "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/bci/AgentMain.java", "diffHunk": "@@ -82,9 +82,26 @@ public synchronized static void init(String agentArguments, Instrumentation inst\n             // version is not supported. Agent might trigger known JVM bugs causing JVM crashes, notably on early Java 8\n             // versions (but fixed in later versions), given those versions are obsolete and agent can't have workarounds\n             // for JVM internals, there is no other option but to use an up-to-date JVM instead.\n-            System.err.println(String.format(\"Failed to start agent - JVM version not supported: %s %s %s\",\n+\n+            String msgTemplate;\n+\n+            boolean doDisable;\n+            if (Boolean.parseBoolean(System.getProperty(\"elastic.apm.disable_bootstrap_checks\"))) {\n+                // safety check disabled, warn end user that it might\n+                doDisable = false;\n+                msgTemplate = \"WARNING : JVM version unknown or not supported, safety check disabled - %s %s %s\";\n+            } else {\n+                doDisable = true;\n+                msgTemplate = \"Failed to start agent - JVM version not supported: %s %s %s\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f30119fcdcccb1b799e68150df9d35cf69789ed8"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 82, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}