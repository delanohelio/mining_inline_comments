{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwMzQ3OTM2", "number": 1571, "title": "Fix serializing all stack trace frames", "bodyText": "What does this PR do?\ncloses #1570\nChecklist\n\n\n This is an enhancement of existing features, or a new feature in existing plugins\n\n I have updated CHANGELOG.asciidoc\n I have added tests that prove my fix is effective or that my feature works\n Added an API method or config option? Document in which version this will be introduced\n I have made corresponding changes to the documentation\n\n\n This is a bugfix\n\n I have updated CHANGELOG.asciidoc\n I have added tests that would fail without this fix\n\n\n This is a new plugin\n\n I have updated CHANGELOG.asciidoc\n My code follows the style guidelines of this project\n I have made corresponding changes to the documentation\n I have added tests that prove my fix is effective or that my feature works\n New and existing unit tests pass locally with my changes\n I have updated supported-technologies.asciidoc\n Added an API method or config option? Document in which version this will be introduced\n Added an instrumentation plugin? Describe how you made sure that old, non-supported versions are not instrumented by accident.\n\n\n This is something else\n\n I have updated CHANGELOG.asciidoc", "createdAt": "2020-12-15T15:48:08Z", "url": "https://github.com/elastic/apm-agent-java/pull/1571", "merged": true, "mergeCommit": {"oid": "3c5a14c77100561413914ce3e4c3ae03a9f4c8b1"}, "closed": true, "closedAt": "2020-12-16T17:38:28Z", "author": {"login": "felixbarny"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmcUMCgH2gAyNTQwMzQ3OTM2OmVhZmE1OTQ0N2NlYjMwZDdiNjc4YjA2ODYyMDllMzY5YzFlOTNmMjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmyhh3AH2gAyNTQwMzQ3OTM2OjhiNGIwYWNjZGNhZWYzMzQ5ODk3ODQxOWI1MjE3NGZiMmM0NGUwYjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eafa59447ceb30d7b678b0686209e369c1e93f22", "author": {"user": {"login": "felixbarny", "name": "Felix Barnsteiner"}}, "url": "https://github.com/elastic/apm-agent-java/commit/eafa59447ceb30d7b678b0686209e369c1e93f22", "committedDate": "2020-12-15T15:45:45Z", "message": "Fix serializing all stack trace frames\n\ncloses #1570"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e266eac944c68131c9dd9f152cbb727f1c6bac4", "author": {"user": {"login": "felixbarny", "name": "Felix Barnsteiner"}}, "url": "https://github.com/elastic/apm-agent-java/commit/2e266eac944c68131c9dd9f152cbb727f1c6bac4", "committedDate": "2020-12-15T15:49:03Z", "message": "Add changelog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzODE2NjYw", "url": "https://github.com/elastic/apm-agent-java/pull/1571#pullrequestreview-553816660", "createdAt": "2020-12-16T15:43:15Z", "commit": {"oid": "2e266eac944c68131c9dd9f152cbb727f1c6bac4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNTo0MzoxNVrOIHLv5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNTo0MzoxNVrOIHLv5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQwMzQzMA==", "bodyText": "[minor] the 1405 also misses a #", "url": "https://github.com/elastic/apm-agent-java/pull/1571#discussion_r544403430", "createdAt": "2020-12-16T15:43:15Z", "author": {"login": "SylvainJuge"}, "path": "CHANGELOG.asciidoc", "diffHunk": "@@ -35,14 +35,15 @@ endif::[]\n [float]\n ===== Bug fixes\n * Fix small memory allocation regression introduced with tracestate header {pull}1508[#1508]\n-* Fix `NullPointerException` from `WeakConcurrentMap.put` through the Elasticsearch client instrumentation - {pull}1531[1531]\n-* Sending `transaction_id` and `parent_id` only for events that contain a valid `trace_id` as well - {pull}1537[1537]\n+* Fix `NullPointerException` from `WeakConcurrentMap.put` through the Elasticsearch client instrumentation - {pull}1531[#1531]\n+* Sending `transaction_id` and `parent_id` only for events that contain a valid `trace_id` as well - {pull}1537[#1537]\n * Fix `ClassNotFoundError` with old versions of Spring resttemplate {pull}1524[#1524]\n-* Fix Micrometer-driven metrics validation errors by the APM Server when sending with illegal values - {pull}1559[1559]\n+* Fix Micrometer-driven metrics validation errors by the APM Server when sending with illegal values - {pull}1559[#1559]\n+* Serialize all stack trace frames when setting `stack_trace_limit=-1` instead of none - {pull}1571[#1571]\n \n [float]\n ===== Refactors\n-* Migrate some plugins to indy dispatcher {pull}1405[1405] {pull}1394[1394]\n+* Migrate some plugins to indy dispatcher {pull}1405[1405] {pull}1394[#1394]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e266eac944c68131c9dd9f152cbb727f1c6bac4"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b4b0accdcaef33498978419b52174fb2c44e0b5", "author": {"user": {"login": "felixbarny", "name": "Felix Barnsteiner"}}, "url": "https://github.com/elastic/apm-agent-java/commit/8b4b0accdcaef33498978419b52174fb2c44e0b5", "committedDate": "2020-12-16T17:38:14Z", "message": "Update CHANGELOG.asciidoc"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3635, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}