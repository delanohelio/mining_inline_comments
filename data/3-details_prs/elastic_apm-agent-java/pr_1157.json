{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NjAwNjE2", "number": 1157, "title": "test gRPC with latest released version", "bodyText": "What does this PR do?\nWhenever there is a new gRPC version released, we have to update our agent build to ensure it's properly working as expected, this has quite a few drawbacks\n\ndoes not test latest version\nintermediate versions might not be properly tested\nrequires to update project: PR/review/build while it's a simple and minimal change.\n\nThis change will make build modify pom.xml to use the latest grpc dependency on every build.\nThis implies that doing a release (that requires no local modifications) will fail unless the change has been commited.\nChecklist\n\n My code follows the style guidelines of this project\n I have rebased my changes on top of the latest master branch\n I have made corresponding changes to the documentation\nI have added tests that prove my fix is effective or that my feature works\n New and existing unit tests pass locally with my changes\nI have updated CHANGELOG.asciidoc\n I have updated supported-technologies.asciidoc\nAdded an API method or config option? Document in which version this will be introduced\nAdded an instrumentation plugin? How did you make sure that old, non-supported versions are not instrumented by accident?\n\nAuthor's Checklist\n\n testing locally by simulating a 1.27 -> 1.29 update\n\nRelated issues\n#1156 : updating to latest version (1.29.0 as of today).", "createdAt": "2020-04-24T14:56:25Z", "url": "https://github.com/elastic/apm-agent-java/pull/1157", "merged": true, "mergeCommit": {"oid": "86b7d18f64714fe037765362c7a2941b10f753b0"}, "closed": true, "closedAt": "2020-04-27T09:21:33Z", "author": {"login": "SylvainJuge"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcayn2zAH2gAyNDA4NjAwNjE2OjkxNzI2MWVkMDhmMDRmMzdhNjA3Y2M0ZTA5NTE5YzVkNDI3ZDY3ZWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbrijnAFqTQwMDc2MjE5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "917261ed08f04f37a607cc4e09519c5d427d67ed", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/917261ed08f04f37a607cc4e09519c5d427d67ed", "committedDate": "2020-04-24T14:46:54Z", "message": "test gRPC with latest released version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMDM0Njcz", "url": "https://github.com/elastic/apm-agent-java/pull/1157#pullrequestreview-400034673", "createdAt": "2020-04-24T15:10:47Z", "commit": {"oid": "917261ed08f04f37a607cc4e09519c5d427d67ed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNToxMDo0N1rOGLcV-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNToxMDo0N1rOGLcV-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY1MTg5OQ==", "bodyText": "When setting grpc.version to [1.29.0,), do we still need the versions-maven-plugin?", "url": "https://github.com/elastic/apm-agent-java/pull/1157#discussion_r414651899", "createdAt": "2020-04-24T15:10:47Z", "author": {"login": "felixbarny"}, "path": "apm-agent-plugins/apm-grpc/apm-grpc-test-latest/pom.xml", "diffHunk": "@@ -21,6 +21,30 @@\n         <protobuf.version>3.11.0</protobuf.version>\n     </properties>\n \n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.codehaus.mojo</groupId>\n+                <artifactId>versions-maven-plugin</artifactId>\n+                <version>2.7</version>\n+                <executions>\n+                    <execution>\n+                        <phase>initialize</phase>\n+                        <goals>\n+                            <!-- because grpc version is set using a shared property -->\n+                            <goal>update-properties</goal>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "917261ed08f04f37a607cc4e09519c5d427d67ed"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e24cb6b62b734e22948803c1937943bde033c5a", "author": {"user": {"login": "SylvainJuge", "name": null}}, "url": "https://github.com/elastic/apm-agent-java/commit/6e24cb6b62b734e22948803c1937943bde033c5a", "committedDate": "2020-04-27T07:30:00Z", "message": "replace maven versions plugin with version range"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNzYyMTk5", "url": "https://github.com/elastic/apm-agent-java/pull/1157#pullrequestreview-400762199", "createdAt": "2020-04-27T09:05:42Z", "commit": {"oid": "6e24cb6b62b734e22948803c1937943bde033c5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3953, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}