{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NDgwMDQz", "number": 1399, "title": "[CI] Fix reset connection when downloading dependencies", "bodyText": "#1377 did not solve the issue with the reset connection.\nLet's try more maven magic tricks to fix the issue\nConsequences: build time gets increased by 2.5 times:\n\nUsed to be->  6 mnts average in the CI\nWith this -> 14 mnts average in the CI\n\nReferences\n\nhere\n\nIssues\nRelates to #1375", "createdAt": "2020-09-14T09:38:59Z", "url": "https://github.com/elastic/apm-agent-java/pull/1399", "merged": true, "mergeCommit": {"oid": "02f2f9ed2a8ca7f1b58ae7f89b1a643b858e1305"}, "closed": true, "closedAt": "2020-09-14T14:13:58Z", "author": {"login": "v1v"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIv38CAH2gAyNDg2NDgwMDQzOjgxZmE3ZTQ4NWM0OTFlYjA3MWMzNmIxNWE5YTE3NWM4MjBhMWQ3MTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIzaHngH2gAyNDg2NDgwMDQzOjZjNmM0MWM1NGVhNDNlYjBiOGFjZDU0NTc3MWJmOTI2ZWE2ZDlkNDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "81fa7e485c491eb071c36b15a9a175c820a1d718", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/81fa7e485c491eb071c36b15a9a175c820a1d718", "committedDate": "2020-09-14T09:35:16Z", "message": "[debug] maven environment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8dfa3906ddb65e747c7b1a61ca57be7877b24fd", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/f8dfa3906ddb65e747c7b1a61ca57be7877b24fd", "committedDate": "2020-09-14T09:35:25Z", "message": "only for testing purposes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1d068f19c382504023a326412663c4e7dd70509", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/f1d068f19c382504023a326412663c4e7dd70509", "committedDate": "2020-09-14T10:07:34Z", "message": "Fix keep alive\n\nSee https://stackoverflow.com/questions/55899091/maven-retry-dependency-download-if-failed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a5a6b26f532054e797f653d891f8c22ee698d97", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/2a5a6b26f532054e797f653d891f8c22ee698d97", "committedDate": "2020-09-14T10:07:44Z", "message": "Revert \"only for testing purposes\"\n\nThis reverts commit f8dfa3906ddb65e747c7b1a61ca57be7877b24fd."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f064378d29319449ccd41f9abda40c1e75bcc96", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/7f064378d29319449ccd41f9abda40c1e75bcc96", "committedDate": "2020-09-14T10:21:20Z", "message": "Revert \"[debug] maven environment\"\n\nThis reverts commit 81fa7e485c491eb071c36b15a9a175c820a1d718."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56", "committedDate": "2020-09-14T10:21:33Z", "message": "For debugging purposes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NjQ0MjI0", "url": "https://github.com/elastic/apm-agent-java/pull/1399#pullrequestreview-487644224", "createdAt": "2020-09-14T11:02:31Z", "commit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Njc2OTM3", "url": "https://github.com/elastic/apm-agent-java/pull/1399#pullrequestreview-487676937", "createdAt": "2020-09-14T11:53:36Z", "commit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Njc3OTM2", "url": "https://github.com/elastic/apm-agent-java/pull/1399#pullrequestreview-487677936", "createdAt": "2020-09-14T11:55:09Z", "commit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzY0MjIy", "url": "https://github.com/elastic/apm-agent-java/pull/1399#pullrequestreview-487764222", "createdAt": "2020-09-14T13:28:02Z", "commit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzoyODowM1rOHRTxGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzoyODowM1rOHRTxGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMTcwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                string(name: 'MAVEN_CONFIG', defaultValue: '-V -B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn -Dhttps.protocols=TLSv1.2 -Dmaven.wagon.http.retryHandler.count=3 -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false', description: 'Additional maven options.')\n          \n          \n            \n                string(name: 'MAVEN_CONFIG', defaultValue: '-V -B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn -Dhttp.keepAlive=false', description: 'Additional maven options.')", "url": "https://github.com/elastic/apm-agent-java/pull/1399#discussion_r487911705", "createdAt": "2020-09-14T13:28:03Z", "author": {"login": "v1v"}, "path": "Jenkinsfile", "diffHunk": "@@ -31,7 +31,7 @@ pipeline {\n     issueCommentTrigger('(?i).*(?:jenkins\\\\W+)?run\\\\W+(?:the\\\\W+)?(?:benchmark\\\\W+)?tests(?:\\\\W+please)?.*')\n   }\n   parameters {\n-    string(name: 'MAVEN_CONFIG', defaultValue: '-B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn -Dhttps.protocols=TLSv1.2', description: 'Additional maven options.')\n+    string(name: 'MAVEN_CONFIG', defaultValue: '-V -B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn -Dhttps.protocols=TLSv1.2 -Dmaven.wagon.http.retryHandler.count=3 -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false', description: 'Additional maven options.')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cdeec2fec19171e7cf2a23a7e9ae3968e7b8a56"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66b45f0d2c86c198662c9b1e19c1c5a486e464dc", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/66b45f0d2c86c198662c9b1e19c1c5a486e464dc", "committedDate": "2020-09-14T13:28:13Z", "message": "As suggested in the comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzczMjQ3", "url": "https://github.com/elastic/apm-agent-java/pull/1399#pullrequestreview-487773247", "createdAt": "2020-09-14T13:34:02Z", "commit": {"oid": "66b45f0d2c86c198662c9b1e19c1c5a486e464dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c6c41c54ea43eb0b8acd545771bf926ea6d9d40", "author": {"user": {"login": "v1v", "name": "Victor Martinez"}}, "url": "https://github.com/elastic/apm-agent-java/commit/6c6c41c54ea43eb0b8acd545771bf926ea6d9d40", "committedDate": "2020-09-14T13:42:19Z", "message": "Revert \"As suggested in the comment\"\n\nThis reverts commit 66b45f0d2c86c198662c9b1e19c1c5a486e464dc."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3668, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}