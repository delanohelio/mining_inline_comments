{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NzQ4NDAz", "number": 1241, "title": "Fix log framework docs and log4j2 error instrumentation", "bodyText": "closes #1116", "createdAt": "2020-06-17T10:13:39Z", "url": "https://github.com/elastic/apm-agent-java/pull/1241", "merged": true, "mergeCommit": {"oid": "d8c0354e13f1ccd1bb928baf3d3f626ba03edc55"}, "closed": true, "closedAt": "2020-06-17T11:58:40Z", "author": {"login": "felixbarny"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsHEWNAH2gAyNDM1NzQ4NDAzOmY2YWRmNDMzZWNjYzIxMTJiZWRhMTQwNjBlODJiYWU4MmFjNWIyNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsHQtOAFqTQzMjI2NTEwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f6adf433eccc2112beda14060e82bae82ac5b278", "author": {"user": {"login": "felixbarny", "name": "Felix Barnsteiner"}}, "url": "https://github.com/elastic/apm-agent-java/commit/f6adf433eccc2112beda14060e82bae82ac5b278", "committedDate": "2020-06-17T10:12:50Z", "message": "Fix log framework docs and log4j2 error instrumentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMjY1MTAz", "url": "https://github.com/elastic/apm-agent-java/pull/1241#pullrequestreview-432265103", "createdAt": "2020-06-17T10:24:37Z", "commit": {"oid": "f6adf433eccc2112beda14060e82bae82ac5b278"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMDoyNDozN1rOGk_mQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMDoyNDozN1rOGk_mQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ0MzkwNg==", "bodyText": "\ud83e\udd26  How come the test passed? We shade the tests as well?", "url": "https://github.com/elastic/apm-agent-java/pull/1241#discussion_r441443906", "createdAt": "2020-06-17T10:24:37Z", "author": {"login": "eyalkoren"}, "path": "apm-agent-plugins/apm-error-logging-plugin/src/main/java/co/elastic/apm/agent/error/logging/Log4j2LoggerErrorCapturingInstrumentation.java", "diffHunk": "@@ -29,18 +29,19 @@\n \n import java.util.Collection;\n \n+import static co.elastic.apm.agent.error.logging.Slf4jLoggerErrorCapturingInstrumentation.SLF4J_LOGGER;\n import static net.bytebuddy.matcher.ElementMatchers.hasSuperType;\n import static net.bytebuddy.matcher.ElementMatchers.named;\n import static net.bytebuddy.matcher.ElementMatchers.not;\n \n-public class Log4jLoggingInstrumentation extends AbstractLoggingInstrumentation {\n+public class Log4j2LoggerErrorCapturingInstrumentation extends AbstractLoggerErrorCapturingInstrumentation {\n \n-    // prevents the shade plugin from relocating org.slf4j.Logger to co.elastic.apm.agent.shaded.slf4j.Logger\n-    private static final String SLF4J_LOGGER = \"org!slf4j!Logger\".replace('!', '.');\n+    // prevents the shade plugin from relocating org.apache.logging.log4j.Logger to co.elastic.apm.agent.shaded.logging.log4j.Logger\n+    static final String LOG4J2_LOGGER = \"org!apache!logging!log4j!Logger\".replace('!', '.');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6adf433eccc2112beda14060e82bae82ac5b278"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3758, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}