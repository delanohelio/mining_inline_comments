{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MDY4NTE4", "number": 1564, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxODoyOFrOFC2Emw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxOToxNVrOFC2F3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NTI3Mzg3OnYy", "diffSide": "RIGHT", "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxODoyOFrOICNA1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDozNDo1MlrOICNtcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTI3MA==", "bodyText": "Filter only master and PRs", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539181270", "createdAt": "2020-12-09T10:18:28Z", "author": {"login": "v1v"}, "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+---\n+##### MBP JOB\n+- job:\n+    name: apm-agent-java/apm-agent-java-load-mbp\n+    display-name: APM Agent Java Load Testing\n+    description: APM Agent Java Load Testing\n+    script-path: .ci/load/Jenkinsfile\n+    project-type: multibranch\n+    scm:\n+        - github:\n+            branch-discovery: no-pr\n+            discover-pr-forks-strategy: merge-current\n+            discover-pr-forks-trust: permission\n+            discover-pr-origin: merge-current\n+            discover-tags: false\n+            disable-pr-notifications: true\n+            notification-context: 'apm-ci'\n+            head-filter-regex: '(master|PR-.*)'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4OTY4Ng==", "bodyText": "Since the repository is the agent repository, not all PRs are related to load-testing.\n\ncould we have a way to filter those, maybe on branch/PR name pattern ?\n\nFor example, if we want to filter on branch name, would having (master|wip-load-testing-.*) instead allow to have:\n\none instance of the job for master\none instance of the job for each branch matching pattern wip-load-testing-*.\n\nOne very minor downside of relying on branch name and not on PR would be to require pushing to the upstream repository.", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539189686", "createdAt": "2020-12-09T10:30:39Z", "author": {"login": "SylvainJuge"}, "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+---\n+##### MBP JOB\n+- job:\n+    name: apm-agent-java/apm-agent-java-load-mbp\n+    display-name: APM Agent Java Load Testing\n+    description: APM Agent Java Load Testing\n+    script-path: .ci/load/Jenkinsfile\n+    project-type: multibranch\n+    scm:\n+        - github:\n+            branch-discovery: no-pr\n+            discover-pr-forks-strategy: merge-current\n+            discover-pr-forks-trust: permission\n+            discover-pr-origin: merge-current\n+            discover-tags: false\n+            disable-pr-notifications: true\n+            notification-context: 'apm-ci'\n+            head-filter-regex: '(master|PR-.*)'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTI3MA=="}, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE5MjY4OA==", "bodyText": "Let me explain a bit better:\nThe requirement we had in mind was to support the run of PRs that are related to the load testing, for such we took in consideration:\n\nthere will no be automated builds for any PRs, or commits into the master branch.\nThe only way to interact with it would be manually -> apm-agent-java-load-mbp (once the job is created)", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539192688", "createdAt": "2020-12-09T10:34:52Z", "author": {"login": "v1v"}, "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+---\n+##### MBP JOB\n+- job:\n+    name: apm-agent-java/apm-agent-java-load-mbp\n+    display-name: APM Agent Java Load Testing\n+    description: APM Agent Java Load Testing\n+    script-path: .ci/load/Jenkinsfile\n+    project-type: multibranch\n+    scm:\n+        - github:\n+            branch-discovery: no-pr\n+            discover-pr-forks-strategy: merge-current\n+            discover-pr-forks-trust: permission\n+            discover-pr-origin: merge-current\n+            discover-tags: false\n+            disable-pr-notifications: true\n+            notification-context: 'apm-ci'\n+            head-filter-regex: '(master|PR-.*)'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTI3MA=="}, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NTI3NDczOnYy", "diffSide": "RIGHT", "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxODo0MFrOICNBVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxODo0MFrOICNBVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTM5OA==", "bodyText": "Avoid GH status checks", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539181398", "createdAt": "2020-12-09T10:18:40Z", "author": {"login": "v1v"}, "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+---\n+##### MBP JOB\n+- job:\n+    name: apm-agent-java/apm-agent-java-load-mbp\n+    display-name: APM Agent Java Load Testing\n+    description: APM Agent Java Load Testing\n+    script-path: .ci/load/Jenkinsfile\n+    project-type: multibranch\n+    scm:\n+        - github:\n+            branch-discovery: no-pr\n+            discover-pr-forks-strategy: merge-current\n+            discover-pr-forks-trust: permission\n+            discover-pr-origin: merge-current\n+            discover-tags: false\n+            disable-pr-notifications: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NTI3NjEzOnYy", "diffSide": "RIGHT", "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxOTowMVrOICNCNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxOTowMVrOICNCNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTYyMQ==", "bodyText": "Avoid running when a PR is created or a merge to master happens automatically", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539181621", "createdAt": "2020-12-09T10:19:01Z", "author": {"login": "v1v"}, "path": ".ci/jobs/apm-agent-java-load-mbp.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+---\n+##### MBP JOB\n+- job:\n+    name: apm-agent-java/apm-agent-java-load-mbp\n+    display-name: APM Agent Java Load Testing\n+    description: APM Agent Java Load Testing\n+    script-path: .ci/load/Jenkinsfile\n+    project-type: multibranch\n+    scm:\n+        - github:\n+            branch-discovery: no-pr\n+            discover-pr-forks-strategy: merge-current\n+            discover-pr-forks-trust: permission\n+            discover-pr-origin: merge-current\n+            discover-tags: false\n+            disable-pr-notifications: true\n+            notification-context: 'apm-ci'\n+            head-filter-regex: '(master|PR-.*)'\n+            repo: apm-agent-java\n+            repo-owner: elastic\n+            credentials-id: 2a9602aa-ab9f-4e52-baf3-b71ca88469c7-UserAndToken\n+            ssh-checkout:\n+            credentials: f6c7695a-671e-4f4f-a331-acdce44ff9ba\n+            property-strategies:\n+                all-branches:\n+                - suppress-scm-triggering: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NTI3NzEwOnYy", "diffSide": "RIGHT", "path": ".ci/load/Jenkinsfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxOToxNVrOICNC1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMDoxOToxNVrOICNC1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4MTc4MA==", "bodyText": "Ensure the first time contributor check happens", "url": "https://github.com/elastic/apm-agent-java/pull/1564#discussion_r539181780", "createdAt": "2020-12-09T10:19:15Z", "author": {"login": "v1v"}, "path": ".ci/load/Jenkinsfile", "diffHunk": "@@ -40,7 +40,7 @@ pipeline {\n     stages {\n         stage('Pre-flight') {\n             steps {\n-                checkout scm\n+                gitCheckout(basedir: '.', githubNotifyFirstTimeContributor: true, shallow: false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcc1260300e121428feb09a480bc1ace0622a513"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}