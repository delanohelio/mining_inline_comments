{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzODAxOTc2", "number": 1205, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzoyMToyNVrOEAFyuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzoyMToyNVrOEAFyuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NTMwMzYxOnYy", "diffSide": "RIGHT", "path": "apm-agent-attach/src/main/java/co/elastic/apm/attach/JvmDiscoverer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzoyMToyNVrOGbJy-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzoyMToyNVrOGbJy-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTEyNTI0Mg==", "bodyText": "[minor] might make it more resilient when packages are renamed.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if(!parse.packageOrPathOrJvmProperties.contains(\"sun.tools.jps.Jps\")){\n          \n          \n            \n                            if(!parse.packageOrPathOrJvmProperties.contains(\".Jps\")){", "url": "https://github.com/elastic/apm-agent-java/pull/1205#discussion_r431125242", "createdAt": "2020-05-27T13:21:25Z", "author": {"login": "felixbarny"}, "path": "apm-agent-attach/src/main/java/co/elastic/apm/attach/JvmDiscoverer.java", "diffHunk": "@@ -96,19 +99,45 @@ private static String getJpsOutput() throws IOException, InterruptedException {\n             Set<JvmInfo> set = new HashSet<>();\n             for (String s : jpsOutput.split(\"\\n\")) {\n                 JvmInfo parse = JvmInfo.parse(s);\n-                set.add(parse);\n+                // ignore jps command that we just started as it's already terminated and not relevant for attachment\n+                if(!parse.packageOrPathOrJvmProperties.contains(\"sun.tools.jps.Jps\")){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9eee0d42204c9d53da14e2cf9bf30114184a709f"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 337, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}