{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2NTE4Njky", "number": 2892, "title": "NMS-12505: Provide ID and IpInterface in JSON results", "bodyText": "JIRA: https://issues.opennms.org/browse/NMS-12505", "createdAt": "2020-02-18T09:54:34Z", "url": "https://github.com/OpenNMS/opennms/pull/2892", "merged": true, "mergeCommit": {"oid": "8e171678c832c57e7113fe7d8c189521e0638147"}, "closed": true, "closedAt": "2020-02-19T10:43:44Z", "author": {"login": "christianpape"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDju88gH2gAyMzc2NTE4NjkyOmFlODJkZDc0N2ViNDU0OGUxMGUzMzQ2YTFlYjczMGRjMjM0MTcwOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFz267gFqTM2MDk5MzI4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae82dd747eb4548e10e3346a1eb730dc23417094", "author": {"user": {"login": "christianpape", "name": "Christian Pape"}}, "url": "https://github.com/OpenNMS/opennms/commit/ae82dd747eb4548e10e3346a1eb730dc23417094", "committedDate": "2020-02-12T10:25:49Z", "message": "NMS-12505: Provide id and ipInterfaceId in api/v2/ifservices JSON results"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "748071294522e1e818e1c7f51ae5253c98d97ab4", "author": {"user": {"login": "christianpape", "name": "Christian Pape"}}, "url": "https://github.com/OpenNMS/opennms/commit/748071294522e1e818e1c7f51ae5253c98d97ab4", "committedDate": "2020-02-12T14:48:08Z", "message": "NMS-12505: Fixed tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16bf3a31830c47e49ad2feae8b40d44747242420", "author": {"user": {"login": "christianpape", "name": "Christian Pape"}}, "url": "https://github.com/OpenNMS/opennms/commit/16bf3a31830c47e49ad2feae8b40d44747242420", "committedDate": "2020-02-13T07:42:45Z", "message": "NMS-12505: Fixed tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d", "author": {"user": {"login": "christianpape", "name": "Christian Pape"}}, "url": "https://github.com/OpenNMS/opennms/commit/5855e070c97a53d8b1bc1ae0af35a45e61fae70d", "committedDate": "2020-02-14T07:05:20Z", "message": "Merge branch 'release-25.2.1' into jira/NMS-12505"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMjA5NDk5", "url": "https://github.com/OpenNMS/opennms/pull/2892#pullrequestreview-360209499", "createdAt": "2020-02-18T10:05:02Z", "commit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMDowNTowMlrOFq8Q4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMDowNjozMlrOFq8Uaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU3MTg3NQ==", "bodyText": "Fu und Fara oder was?\nShould probably be named differently :D", "url": "https://github.com/OpenNMS/opennms/pull/2892#discussion_r380571875", "createdAt": "2020-02-18T10:05:02Z", "author": {"login": "mvrueden"}, "path": "opennms-model/src/main/java/org/opennms/netmgt/model/OnmsMonitoredService.java", "diffHunk": "@@ -416,14 +421,20 @@ public void removeMetaData(final String context) {\n      * @return a {@link org.opennms.netmgt.model.OnmsIpInterface} object.\n      */\n     @XmlIDREF\n-    @JsonBackReference\n+    @JsonIgnore\n     @XmlElement(name=\"ipInterfaceId\")\n     @ManyToOne(optional=false, fetch=FetchType.LAZY)\n     @JoinColumn(name=\"ipInterfaceId\")\n     public OnmsIpInterface getIpInterface() {\n         return m_ipInterface;\n     }\n \n+    @JsonProperty(\"ipInterfaceId\")\n+    @Transient\n+    public Integer getFoo() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU3MjI2NQ==", "bodyText": "Can m_ipInterface ever be null?", "url": "https://github.com/OpenNMS/opennms/pull/2892#discussion_r380572265", "createdAt": "2020-02-18T10:05:40Z", "author": {"login": "mvrueden"}, "path": "opennms-model/src/main/java/org/opennms/netmgt/model/OnmsMonitoredService.java", "diffHunk": "@@ -416,14 +421,20 @@ public void removeMetaData(final String context) {\n      * @return a {@link org.opennms.netmgt.model.OnmsIpInterface} object.\n      */\n     @XmlIDREF\n-    @JsonBackReference\n+    @JsonIgnore\n     @XmlElement(name=\"ipInterfaceId\")\n     @ManyToOne(optional=false, fetch=FetchType.LAZY)\n     @JoinColumn(name=\"ipInterfaceId\")\n     public OnmsIpInterface getIpInterface() {\n         return m_ipInterface;\n     }\n \n+    @JsonProperty(\"ipInterfaceId\")\n+    @Transient\n+    public Integer getFoo() {\n+        return m_ipInterface.getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU3MjY3OA==", "bodyText": "Do we need to store this as a field, can't we just return that in the getIpinterfaceId() method?", "url": "https://github.com/OpenNMS/opennms/pull/2892#discussion_r380572678", "createdAt": "2020-02-18T10:06:23Z", "author": {"login": "mvrueden"}, "path": "opennms-model/src/main/java/org/opennms/netmgt/model/OnmsMonitoredServiceDetail.java", "diffHunk": "@@ -73,6 +75,7 @@ public OnmsMonitoredServiceDetail(OnmsMonitoredService service) {\n         m_statusCode = service.getStatus();\n         m_status = service.getStatusLong();\n         m_id = service.getXmlId();\n+        m_ipInterfaceId = service.getIpInterface().getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU3Mjc3OQ==", "bodyText": "Should be getIpInterfaceId() instead.", "url": "https://github.com/OpenNMS/opennms/pull/2892#discussion_r380572779", "createdAt": "2020-02-18T10:06:32Z", "author": {"login": "mvrueden"}, "path": "opennms-model/src/main/java/org/opennms/netmgt/model/OnmsMonitoredServiceDetail.java", "diffHunk": "@@ -140,6 +143,11 @@ public void setId(String id) {\n         m_id = id;\n     }\n \n+    @XmlAttribute(name=\"ipInterfaceId\")\n+    public Integer getIpinterfaceId() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5855e070c97a53d8b1bc1ae0af35a45e61fae70d"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e7ce7869a0f98a81125707f627ef21e8a7cf2c1", "author": {"user": {"login": "christianpape", "name": "Christian Pape"}}, "url": "https://github.com/OpenNMS/opennms/commit/7e7ce7869a0f98a81125707f627ef21e8a7cf2c1", "committedDate": "2020-02-18T10:12:19Z", "message": "NMS-12505: Review changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwOTkzMjg1", "url": "https://github.com/OpenNMS/opennms/pull/2892#pullrequestreview-360993285", "createdAt": "2020-02-19T10:20:51Z", "commit": {"oid": "7e7ce7869a0f98a81125707f627ef21e8a7cf2c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3757, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}