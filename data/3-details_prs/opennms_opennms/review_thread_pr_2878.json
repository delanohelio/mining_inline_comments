{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwODMzNTQ3", "number": 2878, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDoyNToxOVrODe8v3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDoyNToxOVrODe8v3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNzc5MTY3OnYy", "diffSide": "RIGHT", "path": "features/graph/service/src/main/java/org/opennms/netmgt/graph/service/DefaultGraphService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDoyNToxOVrOFoX23w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMDowNzozNFrOFooi_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg3ODIzOQ==", "bodyText": "Should we use a thread-safe map here?", "url": "https://github.com/OpenNMS/opennms/pull/2878#discussion_r377878239", "createdAt": "2020-02-11T20:25:19Z", "author": {"login": "j-white"}, "path": "features/graph/service/src/main/java/org/opennms/netmgt/graph/service/DefaultGraphService.java", "diffHunk": "@@ -42,10 +45,25 @@\n import org.opennms.netmgt.graph.api.info.GraphInfo;\n import org.opennms.netmgt.graph.api.service.GraphContainerProvider;\n import org.opennms.netmgt.graph.api.service.GraphService;\n+import org.opennms.netmgt.graph.api.service.osgi.GraphContainerProviderRegistration;\n+import org.osgi.framework.BundleContext;\n+import org.osgi.framework.ServiceRegistration;\n+\n+import com.google.common.collect.Maps;\n \n public class DefaultGraphService implements GraphService {\n \n     private List<GraphContainerProvider> graphContainerProviders = new CopyOnWriteArrayList<>();\n+    private final BundleContext bundleContext;\n+    private final Map<GraphContainerProvider, ServiceRegistration<GraphContainerProviderRegistration>> serviceRegistrationMap = Maps.newHashMap();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74be0c3f53882d75831936e5b706bc533cf27137"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODE1MTY3OQ==", "bodyText": "Yes, we should use a thread-safe map here.", "url": "https://github.com/OpenNMS/opennms/pull/2878#discussion_r378151679", "createdAt": "2020-02-12T10:07:34Z", "author": {"login": "mvrueden"}, "path": "features/graph/service/src/main/java/org/opennms/netmgt/graph/service/DefaultGraphService.java", "diffHunk": "@@ -42,10 +45,25 @@\n import org.opennms.netmgt.graph.api.info.GraphInfo;\n import org.opennms.netmgt.graph.api.service.GraphContainerProvider;\n import org.opennms.netmgt.graph.api.service.GraphService;\n+import org.opennms.netmgt.graph.api.service.osgi.GraphContainerProviderRegistration;\n+import org.osgi.framework.BundleContext;\n+import org.osgi.framework.ServiceRegistration;\n+\n+import com.google.common.collect.Maps;\n \n public class DefaultGraphService implements GraphService {\n \n     private List<GraphContainerProvider> graphContainerProviders = new CopyOnWriteArrayList<>();\n+    private final BundleContext bundleContext;\n+    private final Map<GraphContainerProvider, ServiceRegistration<GraphContainerProviderRegistration>> serviceRegistrationMap = Maps.newHashMap();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg3ODIzOQ=="}, "originalCommit": {"oid": "74be0c3f53882d75831936e5b706bc533cf27137"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 735, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}