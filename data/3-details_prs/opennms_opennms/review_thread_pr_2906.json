{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMDIzODA3", "number": 2906, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjoyNjoyN1rODlfcjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjoyNjoyN1rODlfcjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjM5MTE5OnYy", "diffSide": "RIGHT", "path": "opennms-config/src/main/java/org/opennms/netmgt/config/SnmpPeerFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjoyNjoyN1rOFyai-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjoyNjoyN1rOFyai-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQwODA1Nw==", "bodyText": "Let's use LocationUtils here.", "url": "https://github.com/OpenNMS/opennms/pull/2906#discussion_r388408057", "createdAt": "2020-03-05T16:26:27Z", "author": {"login": "j-white"}, "path": "opennms-config/src/main/java/org/opennms/netmgt/config/SnmpPeerFactory.java", "diffHunk": "@@ -470,6 +480,84 @@ public boolean removeFromDefinition(InetAddress inetAddress, String location, St\n         return succeeded;\n     }\n \n+    private Definition findMatchingDefinition(InetAddress inetAddress, String location) {\n+        SnmpConfig config = getSnmpConfig();\n+        List<Definition> definitions = config.getDefinitions();\n+        return definitions.stream().filter(definition -> matchDefinition(definition, inetAddress, location)).findFirst().orElse(null);\n+    }\n+\n+    private  static Definition createDefinition(Definition matchingDefinition) {\n+        Definition definition = new Definition();\n+        definition.setProfileLabel(matchingDefinition.getProfileLabel());\n+        definition.setLocation(matchingDefinition.getLocation());\n+        // Fill configuration\n+        definition.setProxyHost(matchingDefinition.getProxyHost());\n+        definition.setMaxVarsPerPdu(matchingDefinition.getMaxVarsPerPdu());\n+        definition.setMaxRepetitions(matchingDefinition.getMaxRepetitions());\n+        definition.setMaxRequestSize(matchingDefinition.getMaxRequestSize());\n+\n+        definition.setSecurityName(matchingDefinition.getSecurityName());\n+        definition.setSecurityLevel(matchingDefinition.getSecurityLevel());\n+        definition.setAuthPassphrase(matchingDefinition.getAuthPassphrase());\n+        definition.setAuthProtocol(matchingDefinition.getAuthProtocol());\n+        definition.setEngineId(matchingDefinition.getEngineId());\n+        definition.setContextEngineId(matchingDefinition.getContextEngineId());\n+        definition.setContextName(matchingDefinition.getContextName());\n+        definition.setEnterpriseId(matchingDefinition.getEnterpriseId());\n+        definition.setPrivacyPassphrase(matchingDefinition.getPrivacyPassphrase());\n+        definition.setPrivacyProtocol(matchingDefinition.getPrivacyProtocol());\n+        definition.setVersion(matchingDefinition.getVersion());\n+        definition.setReadCommunity(matchingDefinition.getReadCommunity());\n+        definition.setWriteCommunity(matchingDefinition.getWriteCommunity());\n+        definition.setPort(matchingDefinition.getPort());\n+        definition.setTimeout(matchingDefinition.getTimeout());\n+        definition.setTTL(matchingDefinition.getTTL());\n+        definition.setRetry(matchingDefinition.getRetry());\n+        return definition;\n+    }\n+\n+    private boolean matchDefinition(Definition definition, InetAddress inetAddress, String location) {\n+        String locationFromDefinition = definition.getLocation();\n+        if(DEFAULT_LOCATION.equals(location)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c17b202512c41e5c5eb8899e8f3bc243d06093"}, "originalPosition": 97}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 786, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}