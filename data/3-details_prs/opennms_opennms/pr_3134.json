{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0ODk0Mzcw", "number": 3134, "title": "NMS-12788: fully enable NTLMv2; get SMBv2 by move to jcifs-ng and j-interop-ng", "bodyText": "All Contributors\n\n Have you read and followed our Contribution Guidelines?\n Have you made an issue in the OpenNMS issue tracker?If so, you should:\n\nupdate the title of this PR to be of the format: ${JIRA-ISSUE-NUMBER}: subject of pull request\nupdate the JIRA link at the bottom of this comment to refer to the real issue number\nprefix your commit messages with the issue number, if possible\n\n\n Have you made a comment in that issue which points back to this PR?\n Have you updated the JIRA link at the bottom of this comment to link to your issue?\n If this is a new or updated feature, is there documentation for the new behavior?\n If this is new code, are there unit and/or integration tests?\n If this PR targets a foundation-* branch, does it avoid changing files in $OPENNMS_HOME/etc/?\n\nPull Request Process\nOne or more reviewers should be assigned to each PR.\nIf you know that a particular person is subject matter expert in the area your PR affects, feel free to assign one or more reviewers when you create this PR, otherwise reviewers will be assigned for you.\nIf you have made additions or changes to the documentation, or if you need documentation for these code changes, please make sure a technical writer has looked it over.\nOnce the reviewer(s) accept the PR and the branch passes continuous integration, the PR is eligible for merge.\nAt that time, if you have commit access (are an OpenNMS Group employee or a member of the Order of the Green Polo) you are welcome to merge the PR.\nOtherwise, a reviewer can merge it for you.\nThanks for taking time to contribute!\nExternal References\n\nJIRA (Issue Tracker): http://issues.opennms.org/browse/NMS-12788", "createdAt": "2020-08-27T19:07:11Z", "url": "https://github.com/OpenNMS/opennms/pull/3134", "merged": true, "mergeCommit": {"oid": "d571db57287483ce3b83241b7ee457e061b6bc67"}, "closed": true, "closedAt": "2020-10-07T15:15:31Z", "author": {"login": "dschlenk"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxE3B_AH2gAyNDc0ODk0MzcwOjVmMjBkMjY0NDU1OTQ2YWQyNmEyOWIwM2M5NmYzNjc4OTA2YmY3YzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPmm3ygFqTUwMjIzODE4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f20d264455946ad26a29b03c96f3678906bf7c6", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/5f20d264455946ad26a29b03c96f3678906bf7c6", "committedDate": "2020-07-02T20:28:06Z", "message": "NMS-12788: fully enable NTLMv2; get SMBv2 by move to jcifs-ng and j-interop-ng"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f41897650fdf459b16ea37f458c7eca4e8c75551", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/f41897650fdf459b16ea37f458c7eca4e8c75551", "committedDate": "2020-07-02T23:04:05Z", "message": "well they changed the API anyway so let's go all the way to latest\njcifs-ng; fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76e339c8c977b1b6ae4e39a6bfb1f14116785e94", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/76e339c8c977b1b6ae4e39a6bfb1f14116785e94", "committedDate": "2020-07-03T01:56:48Z", "message": "oops a space"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d6b30b3b5abb77d211bb29783701bb263fe7c60", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/7d6b30b3b5abb77d211bb29783701bb263fe7c60", "committedDate": "2020-07-17T17:39:57Z", "message": "Update protocols/cifs/src/main/java/org/opennms/netmgt/poller/monitors/JCifsMonitor.java\n\nCo-authored-by: Jesse White <jwhite08@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef7601000c73754b1ea82f2472934eeceba97e9b", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/ef7601000c73754b1ea82f2472934eeceba97e9b", "committedDate": "2020-07-17T19:13:45Z", "message": "use SingletonContext if config of timeout fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d0b3f7cf082e2de34a88e32e22dd93bae87c45", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/25d0b3f7cf082e2de34a88e32e22dd93bae87c45", "committedDate": "2020-07-17T19:14:52Z", "message": "Merge branch 'jira/NMS-12788' of github.com:dschlenk/opennms into jira/NMS-12788"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eb2c7cdf9fad05c59036e3847d065215f526f4e", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/4eb2c7cdf9fad05c59036e3847d065215f526f4e", "committedDate": "2020-07-17T19:31:48Z", "message": "maybe it should compile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c93021adb04c4ca1bc5c8b2c8a95c4f7cc7872fa", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/c93021adb04c4ca1bc5c8b2c8a95c4f7cc7872fa", "committedDate": "2020-07-17T20:13:14Z", "message": "bump bcprov to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "965242055e53174ad3dcd4deaf461d5073555205", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/965242055e53174ad3dcd4deaf461d5073555205", "committedDate": "2020-08-27T16:49:14Z", "message": "Merge remote-tracking branch 'origin/develop' into jira/NMS-12788"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11ddf00dfa81f05de151c2fd7424fee958c34e57", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/11ddf00dfa81f05de151c2fd7424fee958c34e57", "committedDate": "2020-08-28T17:22:28Z", "message": "bc security provider preventing karaf shell from starting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a140e06920403af1c70689daf4c98a734145ba1b", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/a140e06920403af1c70689daf4c98a734145ba1b", "committedDate": "2020-09-14T22:07:49Z", "message": "call the correct method for the cast to work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b67b51c81614864397ce9fb1f459262814baa569", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/b67b51c81614864397ce9fb1f459262814baa569", "committedDate": "2020-09-14T22:07:57Z", "message": "Merge remote-tracking branch 'origin/develop' into jira/NMS-12788"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODEzNDIz", "url": "https://github.com/OpenNMS/opennms/pull/3134#pullrequestreview-498813423", "createdAt": "2020-09-29T19:29:52Z", "commit": {"oid": "b67b51c81614864397ce9fb1f459262814baa569"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyOTo1MlrOHZ98tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyOTo1MlrOHZ98tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk5MTQxNQ==", "bodyText": "Looks like this  is already bundle. Don't need to wrap it.", "url": "https://github.com/OpenNMS/opennms/pull/3134#discussion_r496991415", "createdAt": "2020-09-29T19:29:52Z", "author": {"login": "cgorantla"}, "path": "container/features/src/main/resources/features.xml", "diffHunk": "@@ -186,7 +189,8 @@\n         <bundle>mvn:org.eclipse.persistence/org.eclipse.persistence.antlr/${eclipselinkVersion}</bundle>\n     </feature>\n     <feature name=\"jcifs\" version=\"${jcifsVersion}\" description=\"jcifs\">\n-        <bundle>wrap:mvn:org.samba.jcifs/jcifs/${jcifsVersion}</bundle>\n+        <feature>bcprov</feature>\n+        <bundle>wrap:mvn:eu.agno3.jcifs/jcifs-ng/${jcifsVersion}</bundle>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b67b51c81614864397ce9fb1f459262814baa569"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e4a373bf62262bd979150d5c102ebf328c7b8a3", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/2e4a373bf62262bd979150d5c102ebf328c7b8a3", "committedDate": "2020-09-30T20:21:06Z", "message": "no need to wrap this one"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bff2de31ee5c2aa24fb3a603de37ceada08aed0", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/3bff2de31ee5c2aa24fb3a603de37ceada08aed0", "committedDate": "2020-10-01T02:02:08Z", "message": "getting NoClassDefFoundError for two classes in two of these packages, and they were not added to the Import-Package list by the wrap feature so hoping this resolves it."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjA1OTM3", "url": "https://github.com/OpenNMS/opennms/pull/3134#pullrequestreview-500605937", "createdAt": "2020-10-01T18:19:42Z", "commit": {"oid": "3bff2de31ee5c2aa24fb3a603de37ceada08aed0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxODoxOTo0M1rOHbV92Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxODoxOTo0M1rOHbV92Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzMzQ5Nw==", "bodyText": "Update these bundles with com.github.skyghis/j-interop-ng  and com.github.skyghis/j-interop-ng-deps", "url": "https://github.com/OpenNMS/opennms/pull/3134#discussion_r498433497", "createdAt": "2020-10-01T18:19:43Z", "author": {"login": "cgorantla"}, "path": "container/features/src/main/resources/features.xml", "diffHunk": "@@ -805,7 +809,8 @@\n         <feature>commons-cli</feature>\n         <feature>opennms-collection-api</feature>\n         <feature>opennms-provisioning-api</feature>\n-        <bundle dependency=\"true\">wrap:mvn:org.jinterop/j-interop/${jinteropVersion}</bundle>\n+        <feature>jcifs</feature>\n+        <bundle dependency=\"true\">wrap:mvn:org.jinterop/j-interop/${jinteropVersion}$Import-Package=jcifs,jcifs.smb,jcifs.util,jcifs.netbios,ndr,rpc,rpc.core,rpc.ncacn_np,rpc.pdu,rpc.security.ntlm</bundle>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bff2de31ee5c2aa24fb3a603de37ceada08aed0"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c5d65288ad484561f407ab0d144262dec190ef2", "author": {"user": {"login": "dschlenk", "name": "David Schlenk"}}, "url": "https://github.com/OpenNMS/opennms/commit/0c5d65288ad484561f407ab0d144262dec190ef2", "committedDate": "2020-10-05T14:20:20Z", "message": "use the correct group / artifact for j-interop 3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMTI2MDI4", "url": "https://github.com/OpenNMS/opennms/pull/3134#pullrequestreview-502126028", "createdAt": "2020-10-05T14:39:50Z", "commit": {"oid": "0c5d65288ad484561f407ab0d144262dec190ef2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDozOTo1MFrOHcgLmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDozOTo1MFrOHcgLmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY0OTQzMg==", "bodyText": "Still need this system property ?", "url": "https://github.com/OpenNMS/opennms/pull/3134#discussion_r499649432", "createdAt": "2020-10-05T14:39:50Z", "author": {"login": "cgorantla"}, "path": "container/karaf/src/main/filtered-resources/etc/system.properties", "diffHunk": "@@ -177,10 +177,13 @@ karaf.handle.sigterm = false\n # @see https://issues.opennms.org/browse/NMS-9416\n # @see https://github.com/apache/mina-sshd/blob/master/sshd-core/src/main/java/org/apache/sshd/common/util/security/SecurityUtils.java\n #\n+# The WMI enhancements of NMS-12788 require Bouncy Castle in the system classpath, so the change is now configured by default.\n+# @see https://issues.opennms.org/browse/NMS-12788\n+\n # Original:\n #org.apache.sshd.security.registrars = \\\n #  org.apache.sshd.common.util.security.bouncycastle.BouncyCastleSecurityProviderRegistrar,\\\n #  org.apache.sshd.common.util.security.eddsa.EdDSASecurityProviderRegistrar\n #\n # Edited:\n-#org.apache.sshd.security.registrars = org.apache.sshd.common.util.security.eddsa.EdDSASecurityProviderRegistrar\n+org.apache.sshd.security.registrars = org.apache.sshd.common.util.security.eddsa.EdDSASecurityProviderRegistrar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c5d65288ad484561f407ab0d144262dec190ef2"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjM4MTgx", "url": "https://github.com/OpenNMS/opennms/pull/3134#pullrequestreview-502238181", "createdAt": "2020-10-05T16:44:57Z", "commit": {"oid": "0c5d65288ad484561f407ab0d144262dec190ef2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3543, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}