{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2MTc2NDY4", "number": 2890, "title": "NMS-12513: Fix HQL Injection issue", "bodyText": "Here we address an HQL Injection issue when using the nodeList page.\n\nJIRA: https://issues.opennms.org/browse/NMS-12513", "createdAt": "2020-02-17T14:48:22Z", "url": "https://github.com/OpenNMS/opennms/pull/2890", "merged": true, "mergeCommit": {"oid": "fb2761548cef06c23f5e33c0c0ad154f85d6292b"}, "closed": true, "closedAt": "2020-02-23T00:18:18Z", "author": {"login": "mvrueden"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFP6FBgBqjMwNDQzNjgyMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGmVEbAH2gAyMzc2MTc2NDY4Ojc0NzBhZDI0ZTI2YThkNTNiN2Q1M2U4YTZlNmQ0YjgyNTY3MmUyNmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53cfa2e2dd307e48f770e68ad7cb2e2e5928ac48", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/53cfa2e2dd307e48f770e68ad7cb2e2e5928ac48", "committedDate": "2020-02-17T14:41:02Z", "message": "NMS-12513: Fix HQL injection issue"}, "afterCommit": {"oid": "167f78221e50d954c8a465dd75ec23f9f206c726", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/167f78221e50d954c8a465dd75ec23f9f206c726", "committedDate": "2020-02-17T16:27:30Z", "message": "NMS-12513: Fix HQL injection issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09e0618cc732aa922384143553fc0c0c4496eda", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/d09e0618cc732aa922384143553fc0c0c4496eda", "committedDate": "2020-02-18T08:37:49Z", "message": "NMS-12513: Fix HQL injection issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "167f78221e50d954c8a465dd75ec23f9f206c726", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/167f78221e50d954c8a465dd75ec23f9f206c726", "committedDate": "2020-02-17T16:27:30Z", "message": "NMS-12513: Fix HQL injection issue"}, "afterCommit": {"oid": "d09e0618cc732aa922384143553fc0c0c4496eda", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/d09e0618cc732aa922384143553fc0c0c4496eda", "committedDate": "2020-02-18T08:37:49Z", "message": "NMS-12513: Fix HQL injection issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNTM2MjA3", "url": "https://github.com/OpenNMS/opennms/pull/2890#pullrequestreview-361536207", "createdAt": "2020-02-20T00:28:29Z", "commit": {"oid": "d09e0618cc732aa922384143553fc0c0c4496eda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjQ0MDYx", "url": "https://github.com/OpenNMS/opennms/pull/2890#pullrequestreview-362244061", "createdAt": "2020-02-20T21:24:19Z", "commit": {"oid": "d09e0618cc732aa922384143553fc0c0c4496eda"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMToyNDoyMFrOFsjpvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMToyNDoyMFrOFsjpvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI2NTc4OA==", "bodyText": "Using a Set here instead of a list would be more efficient for lookups.\nWe should also move to a static constant rather than defining it in the function here.", "url": "https://github.com/OpenNMS/opennms/pull/2890#discussion_r382265788", "createdAt": "2020-02-20T21:24:20Z", "author": {"login": "j-white"}, "path": "opennms-web-api/src/main/java/org/opennms/web/svclayer/support/DefaultNodeListService.java", "diffHunk": "@@ -189,8 +191,16 @@ private static void addCriteriaForSnmpParm(OnmsCriteria criteria,\n         if(snmpParmMatchType.equals(\"contains\")) {\n             criteria.add(Restrictions.ilike(\"snmpInterface.\".concat(snmpParm), snmpParmValue, MatchMode.ANYWHERE));\n         } else if(snmpParmMatchType.equals(\"equals\")) {\n+            final List<String> acceptedParamNames = Lists.newArrayList(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d09e0618cc732aa922384143553fc0c0c4496eda"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f163c203082c5100ef14610716c1f654a71adc1", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/9f163c203082c5100ef14610716c1f654a71adc1", "committedDate": "2020-02-21T09:28:04Z", "message": "NMS-12513: Use Set instead of List and make it static"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7470ad24e26a8d53b7d53e8a6e6d4b825672e26f", "author": {"user": {"login": "RangerRick", "name": "Benjamin Reed"}}, "url": "https://github.com/OpenNMS/opennms/commit/7470ad24e26a8d53b7d53e8a6e6d4b825672e26f", "committedDate": "2020-02-21T21:09:02Z", "message": "Merge remote-tracking branch 'origin/foundation-2019' into jira/NMS-12513-smoke-hql"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3754, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}