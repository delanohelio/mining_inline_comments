{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0ODcwOTE4", "number": 3171, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNDoyNTo0OFrOEok82g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNToxNzoxN1rOEomg-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwOTgzODk4OnYy", "diffSide": "RIGHT", "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNDoyNTo0OFrOHZv9AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNDo1NTozNFrOHZxcMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2MjExMw==", "bodyText": "This is screaming at me for unit test coverage.", "url": "https://github.com/OpenNMS/opennms/pull/3171#discussion_r496762113", "createdAt": "2020-09-29T14:25:48Z", "author": {"login": "j-white"}, "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "diffHunk": "@@ -255,4 +256,79 @@ protected static String getStringProperty(File directory, String key) {\n             throw new DataAccessResourceFailureException(message, e);\n         }\n     }\n+\n+    /**\n+     * Alphanumeric sort that handles substrings with numeric components\n+     */\n+    public static class AlphaNumericOnmsAttributeComparator implements Serializable, Comparator<OnmsAttribute> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec94a0efd67d9c56831ead78f7401ea14ef0cec"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2NjQ5NA==", "bodyText": "What's BS? :)\n\nFiiiine, it didn't seem worth making a whole other issue for a pretty simple change, but for you, I'll do it.  ;)\nYeah, I can add a couple unit tests.", "url": "https://github.com/OpenNMS/opennms/pull/3171#discussion_r496766494", "createdAt": "2020-09-29T14:31:15Z", "author": {"login": "RangerRick"}, "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "diffHunk": "@@ -255,4 +256,79 @@ protected static String getStringProperty(File directory, String key) {\n             throw new DataAccessResourceFailureException(message, e);\n         }\n     }\n+\n+    /**\n+     * Alphanumeric sort that handles substrings with numeric components\n+     */\n+    public static class AlphaNumericOnmsAttributeComparator implements Serializable, Comparator<OnmsAttribute> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2MjExMw=="}, "originalCommit": {"oid": "5ec94a0efd67d9c56831ead78f7401ea14ef0cec"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc4NjQ4MQ==", "bodyText": "Didn't bother changing the branch name, but changed the commits.", "url": "https://github.com/OpenNMS/opennms/pull/3171#discussion_r496786481", "createdAt": "2020-09-29T14:55:34Z", "author": {"login": "RangerRick"}, "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "diffHunk": "@@ -255,4 +256,79 @@ protected static String getStringProperty(File directory, String key) {\n             throw new DataAccessResourceFailureException(message, e);\n         }\n     }\n+\n+    /**\n+     * Alphanumeric sort that handles substrings with numeric components\n+     */\n+    public static class AlphaNumericOnmsAttributeComparator implements Serializable, Comparator<OnmsAttribute> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2MjExMw=="}, "originalCommit": {"oid": "5ec94a0efd67d9c56831ead78f7401ea14ef0cec"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMDA5Mzg0OnYy", "diffSide": "RIGHT", "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNToxNjo1OVrOHZydTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNToxNjo1OVrOHZydTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgwMzE0OQ==", "bodyText": "lengthFirstStr and lengthSecondStr can be final", "url": "https://github.com/OpenNMS/opennms/pull/3171#discussion_r496803149", "createdAt": "2020-09-29T15:16:59Z", "author": {"login": "christianpape"}, "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "diffHunk": "@@ -255,4 +256,79 @@ protected static String getStringProperty(File directory, String key) {\n             throw new DataAccessResourceFailureException(message, e);\n         }\n     }\n+\n+    /**\n+     * Alphanumeric sort that handles substrings with numeric components\n+     */\n+    public static class AlphaNumericOnmsAttributeComparator implements Serializable, Comparator<OnmsAttribute> {\n+        private static final long serialVersionUID = 1;\n+\n+        public int compare(final OnmsAttribute firstAtt, final OnmsAttribute secondAtt) {\n+            // Sorting algorithm found here: http://blog.icodejava.com/261/how-to-sort-alpha-numeric-strings-in-java/\n+            final String firstString  = firstAtt.getName();\n+            final String secondString = secondAtt.getName();\n+\n+            if (secondString == null || firstString == null) {\n+                return 0;\n+            }\n+\n+            int lengthFirstStr = firstString.length();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d58056a0eb2a71364214511c2fb591d15fcf7d40"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMDA5NTI5OnYy", "diffSide": "RIGHT", "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNToxNzoxN1rOHZyeIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNToxNzoxN1rOHZyeIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgwMzM2MQ==", "bodyText": "result can also be final", "url": "https://github.com/OpenNMS/opennms/pull/3171#discussion_r496803361", "createdAt": "2020-09-29T15:17:17Z", "author": {"login": "christianpape"}, "path": "opennms-dao/src/main/java/org/opennms/netmgt/dao/support/RrdResourceAttributeUtils.java", "diffHunk": "@@ -255,4 +256,79 @@ protected static String getStringProperty(File directory, String key) {\n             throw new DataAccessResourceFailureException(message, e);\n         }\n     }\n+\n+    /**\n+     * Alphanumeric sort that handles substrings with numeric components\n+     */\n+    public static class AlphaNumericOnmsAttributeComparator implements Serializable, Comparator<OnmsAttribute> {\n+        private static final long serialVersionUID = 1;\n+\n+        public int compare(final OnmsAttribute firstAtt, final OnmsAttribute secondAtt) {\n+            // Sorting algorithm found here: http://blog.icodejava.com/261/how-to-sort-alpha-numeric-strings-in-java/\n+            final String firstString  = firstAtt.getName();\n+            final String secondString = secondAtt.getName();\n+\n+            if (secondString == null || firstString == null) {\n+                return 0;\n+            }\n+\n+            int lengthFirstStr = firstString.length();\n+            int lengthSecondStr = secondString.length();\n+\n+            int index1 = 0;\n+            int index2 = 0;\n+\n+            while (index1 < lengthFirstStr && index2 < lengthSecondStr) {\n+                char ch1 = firstString.charAt(index1);\n+                char ch2 = secondString.charAt(index2);\n+\n+                final char[] space1 = new char[lengthFirstStr];\n+                final char[] space2 = new char[lengthSecondStr];\n+\n+                int loc1 = 0;\n+                int loc2 = 0;\n+\n+                do {\n+                    space1[loc1++] = ch1;\n+                    index1++;\n+\n+                    if (index1 < lengthFirstStr) {\n+                        ch1 = firstString.charAt(index1);\n+                    } else {\n+                        break;\n+                    }\n+                } while (Character.isDigit(ch1) == Character.isDigit(space1[0]));\n+\n+                do {\n+                    space2[loc2++] = ch2;\n+                    index2++;\n+\n+                    if (index2 < lengthSecondStr) {\n+                        ch2 = secondString.charAt(index2);\n+                    } else {\n+                        break;\n+                    }\n+                } while (Character.isDigit(ch2) == Character.isDigit(space2[0]));\n+\n+                final String str1 = new String(space1);\n+                final String str2 = new String(space2);\n+\n+                int result;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d58056a0eb2a71364214511c2fb591d15fcf7d40"}, "originalPosition": 86}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2993, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}