{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTA1ODA2", "number": 2883, "title": "NMS-12422: Allow multiple values for ip address input", "bodyText": "Here we fix an issue with the ip src and dest fields when defining Classifcation Rules.\nSomehow it was possible to define an IP-Like expression using commas. However that was a bit misleading and didn't work under the hood. Instead it is now possible to define actual IP-Ranges, e.g. 10.0.0.0-10.255.255.255, as well as multiple definitions at once:\n192.168.0.1,10.0.0.0-10.255.255.255\nSupport for wildcard entries was dropped.\nA next step is to allow CIDR expressions (which is not done here)\nIt may be possible that invalid rules exist and when applying this patch to a system the classification engine may not load.\nAt the moment this is targeted for develop but should go into foundation-2019\nJIRA: https://issues.opennms.org/browse/NMS-12422", "createdAt": "2020-02-06T13:42:07Z", "url": "https://github.com/OpenNMS/opennms/pull/2883", "merged": true, "mergeCommit": {"oid": "86754e1b7e7f25c9533c872277302fe8e6531d36"}, "closed": true, "closedAt": "2020-02-14T09:04:47Z", "author": {"login": "mvrueden"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBrNZ9AH2gAyMzcxOTA1ODA2OmM5MDNlM2YwZjE5ZjQzMWMyZDg5Zjc4ZTdkMDE1NDBjYzM2MmFiNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDmdoogH2gAyMzcxOTA1ODA2OmY4YTBiY2FhMTZiN2MyMzk1ODY1ZDY2OWUyNDE3YWRhNmVkMjBjNjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c903e3f0f19f431c2d89f78e7d01540cc362ab60", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/c903e3f0f19f431c2d89f78e7d01540cc362ab60", "committedDate": "2020-02-06T14:00:34Z", "message": "NMS-12422: Allow multiple values for ip address input"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3316545646f10de7b76be598c831428d4cf732a", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/f3316545646f10de7b76be598c831428d4cf732a", "committedDate": "2020-02-06T13:09:14Z", "message": "NMS-12422: Allow multiple values for ip address input"}, "afterCommit": {"oid": "c903e3f0f19f431c2d89f78e7d01540cc362ab60", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/c903e3f0f19f431c2d89f78e7d01540cc362ab60", "committedDate": "2020-02-06T14:00:34Z", "message": "NMS-12422: Allow multiple values for ip address input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7aba6ab6793192e7e032fd8cb7f8fe59b2da15be", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/7aba6ab6793192e7e032fd8cb7f8fe59b2da15be", "committedDate": "2020-02-06T14:46:09Z", "message": "NMS-12422: Add a few ipv6 tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab5df1d0f4c476ada55c132f400d91c19d0452c8", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/ab5df1d0f4c476ada55c132f400d91c19d0452c8", "committedDate": "2020-02-06T14:50:52Z", "message": "NMS-12422: More tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0ODMwMjA0", "url": "https://github.com/OpenNMS/opennms/pull/2883#pullrequestreview-354830204", "createdAt": "2020-02-06T22:54:43Z", "commit": {"oid": "ab5df1d0f4c476ada55c132f400d91c19d0452c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMjo1NDo0M1rOFmtBlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMjo1NDo0M1rOFmtBlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjEyNzg5NA==", "bodyText": "I wonder if we should give here an example of how a valid range should look like?", "url": "https://github.com/OpenNMS/opennms/pull/2883#discussion_r376127894", "createdAt": "2020-02-06T22:54:43Z", "author": {"login": "patrick-schweizer"}, "path": "features/flows/classification/engine/api/src/main/java/org/opennms/netmgt/flows/classification/error/Errors.java", "diffHunk": "@@ -54,6 +54,8 @@\n     ErrorTemplate RULE_EXPORTER_FILTER_INVALID = new ErrorTemplate(\"rule.filter.invalid\", \"The provided filter ''{0}'' is invalid: {1}\");\n \n     ErrorTemplate RULE_IP_ADDRESS_INVALID = new ErrorTemplate(\"rule.ipaddress.invalid\", \"The provided IP Address ''{0}'' is not valid.\");\n+    ErrorTemplate RULE_IP_ADDRESS_RANGE_INVALID = new ErrorTemplate(\"rule.ipaddress.range.invalid\", \"The provided IP Address range ''{0}'' is not valid.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab5df1d0f4c476ada55c132f400d91c19d0452c8"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0ODMxOTU3", "url": "https://github.com/OpenNMS/opennms/pull/2883#pullrequestreview-354831957", "createdAt": "2020-02-06T22:58:44Z", "commit": {"oid": "ab5df1d0f4c476ada55c132f400d91c19d0452c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjA4MjY0", "url": "https://github.com/OpenNMS/opennms/pull/2883#pullrequestreview-357208264", "createdAt": "2020-02-12T06:10:38Z", "commit": {"oid": "ab5df1d0f4c476ada55c132f400d91c19d0452c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aacf8e5f3f36b065f7a8c240951420295bba0727", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/aacf8e5f3f36b065f7a8c240951420295bba0727", "committedDate": "2020-02-12T10:26:04Z", "message": "NMS-12422: Gracefully ignore invalid classification rules (instead of kill opennms)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538f2c55a0e81391f8edf8f5585d3a155d1fa6b3", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/538f2c55a0e81391f8edf8f5585d3a155d1fa6b3", "committedDate": "2020-02-12T10:26:24Z", "message": "NMS-12422: Fix exception message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f77c39824e49a41341d258a7e775f7ad27853de", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/9f77c39824e49a41341d258a7e775f7ad27853de", "committedDate": "2020-02-12T10:26:59Z", "message": "NMS-12422: Provide shell command to identify broken rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24fc7c2bf5b9ef1503bb6ee9c06e991c1cfc9eee", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/24fc7c2bf5b9ef1503bb6ee9c06e991c1cfc9eee", "committedDate": "2020-02-12T10:47:03Z", "message": "NMS-12422: Add breaking changes section"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "457e977f42bf5ee4b9716beb486bd32eaf48c4c7", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/457e977f42bf5ee4b9716beb486bd32eaf48c4c7", "committedDate": "2020-02-12T10:51:04Z", "message": "NMS-12422: Add example for ip-range"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd14d3e9bd57b89d8bccf764e79418632cf89c34", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/dd14d3e9bd57b89d8bccf764e79418632cf89c34", "committedDate": "2020-02-12T10:51:27Z", "message": "NMS-12422: Include valid ip address range expression in error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8a0bcaa16b7c2395865d669e2417ada6ed20c69", "author": {"user": {"login": "mvrueden", "name": null}}, "url": "https://github.com/OpenNMS/opennms/commit/f8a0bcaa16b7c2395865d669e2417ada6ed20c69", "committedDate": "2020-02-12T13:36:37Z", "message": "NMS-12422: Consider more space for ip address inputs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3731, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}