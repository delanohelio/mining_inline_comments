{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTA3MDIw", "number": 2884, "title": "NMS-12520: Add documentation for downtime model delete attribute", "bodyText": "All Contributors\n\n Have you read and followed our Contribution Guidelines?\n Have you made an issue in the OpenNMS issue tracker?If so, you should:\n\nupdate the title of this PR to be of the format: ${JIRA-ISSUE-NUMBER}: subject of pull request\nupdate the JIRA link at the bottom of this comment to refer to the real issue number\nprefix your commit messages with the issue number, if possible\n\n\n Have you made a comment in that issue which points back to this PR?\n Have you updated the JIRA link at the bottom of this comment to link to your issue?\n If this is a new or updated feature, is there documentation for the new behavior?\n If this is new code, are there unit and/or integration tests?\n If this PR targets a foundation-* branch, does it avoid changing files in $OPENNMS_HOME/etc/?\n\nAdd documentation for the downtime model change introduced in NMS-12442. We describe valid delete values for never, managed,always and when it is not set.\nExternal References\n\nJIRA (Issue Tracker): http://issues.opennms.org/browse/NMS-12520", "createdAt": "2020-02-06T13:44:34Z", "url": "https://github.com/OpenNMS/opennms/pull/2884", "merged": true, "mergeCommit": {"oid": "3ce01b24e43475a5b2c634b2902839df67230155"}, "closed": true, "closedAt": "2020-02-17T12:52:09Z", "author": {"login": "indigo423"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBq7sKgH2gAyMzcxOTA3MDIwOmE1OTFhNTgwMDNlNTUwZTc5NDFhOGVkN2I4ZTg1NGI3MzI3MWYwMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcD__xmABqjMwMzYxOTY0ODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024", "author": {"user": {"login": "indigo423", "name": "Ronny Trommer"}}, "url": "https://github.com/OpenNMS/opennms/commit/a591a58003e550e7941a8ed7b8e854b73271f024", "committedDate": "2020-02-06T13:41:13Z", "message": "NMS-12520: Add documentation for downtime model delete attribute introduced in NMS-12442"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NDI3MDQy", "url": "https://github.com/OpenNMS/opennms/pull/2884#pullrequestreview-358427042", "createdAt": "2020-02-13T17:51:44Z", "commit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNzo1MTo0NFrOFpdofw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNzo1NDoyNlrOFpduOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMTQzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n          \n          \n            \n            <4> after 5 days of an ongoing outage the service will be polled only once a hour and we do not delete services", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379021439", "createdAt": "2020-02-13T17:51:44Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMTg4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | Value     | Description\n          \n          \n            \n            | Value     | description", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379021888", "createdAt": "2020-02-13T17:52:34Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n+\n+The last downtime interval can have an attribute `delete` and allows you to influence the service lifecycle. \n+It defines the behavior that happens if a service doesn't come back online after 5 days.\n+The following downtime attributes for `delete` can be used:\n+\n+[options=\"header, autowidth\"]\n+|===\n+| Value     | Description", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjAzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | _not set_ | If `delete` is not configured it is similar to `delete=\"never\"` and is the default\n          \n          \n            \n            | _not set_ | if `delete` is not configured it is similar to `delete=\"never\"` and is the default", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022032", "createdAt": "2020-02-13T17:52:51Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n+\n+The last downtime interval can have an attribute `delete` and allows you to influence the service lifecycle. \n+It defines the behavior that happens if a service doesn't come back online after 5 days.\n+The following downtime attributes for `delete` can be used:\n+\n+[options=\"header, autowidth\"]\n+|===\n+| Value     | Description\n+| `never`   | services will never be deleted automatically\n+| `managed` | only managed services will be deleted\n+| `always`  | managed and unmanaged services will be deleted\n+| _not set_ | If `delete` is not configured it is similar to `delete=\"never\"` and is the default", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjM0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n          \n          \n            \n            <1> from 0 seconds after an outage is detected until 5 minutes, the polling interval will be set to 30 seconds", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022346", "createdAt": "2020-02-13T17:53:25Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjc3OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n          \n          \n            \n            <2> after 5 minutes of an ongoing outage until 12 hours, the polling interval will be set to 5 minutes", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022779", "createdAt": "2020-02-13T17:54:13Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjkwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n          \n          \n            \n            <3> after 12 hours of an ongoing outage until 5 days, the polling interval will be set to 10 minutes", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022906", "createdAt": "2020-02-13T17:54:26Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a591a58003e550e7941a8ed7b8e854b73271f024"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7feac36128fff2e0be6e1494738759ca91704e8f", "author": {"user": {"login": "indigo423", "name": "Ronny Trommer"}}, "url": "https://github.com/OpenNMS/opennms/commit/7feac36128fff2e0be6e1494738759ca91704e8f", "committedDate": "2020-02-13T19:20:48Z", "message": "NMS-12520: Reviewer comments and improvements\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d61bbcc1d03a55619c371fdd7880bb1703e5864", "author": {"user": {"login": "indigo423", "name": "Ronny Trommer"}}, "url": "https://github.com/OpenNMS/opennms/commit/9d61bbcc1d03a55619c371fdd7880bb1703e5864", "committedDate": "2020-02-13T17:57:34Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}, "afterCommit": {"oid": "7feac36128fff2e0be6e1494738759ca91704e8f", "author": {"user": {"login": "indigo423", "name": "Ronny Trommer"}}, "url": "https://github.com/OpenNMS/opennms/commit/7feac36128fff2e0be6e1494738759ca91704e8f", "committedDate": "2020-02-13T19:20:48Z", "message": "NMS-12520: Reviewer comments and improvements\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3735, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}