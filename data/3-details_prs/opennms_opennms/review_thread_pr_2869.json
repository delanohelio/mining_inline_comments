{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyODIxODI2", "number": 2869, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMjozMTowNVrODYAlwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMjozMTowNVrODYAlwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NTAyMDgxOnYy", "diffSide": "RIGHT", "path": "features/events/api/src/main/java/org/opennms/netmgt/events/api/model/IAlarmData.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMjozMTowNVrOFdn8hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNToyNDowOVrOFd8Bow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNzQ5Mw==", "bodyText": "As discussed lets see if we can get rid of these copy...() methods by updating the copyFrom() methods to interrogate the object via the has...() methods to determine if a default would be given or not.", "url": "https://github.com/OpenNMS/opennms/pull/2869#discussion_r366607493", "createdAt": "2020-01-14T22:31:05Z", "author": {"login": "mattixtech"}, "path": "features/events/api/src/main/java/org/opennms/netmgt/events/api/model/IAlarmData.java", "diffHunk": "@@ -35,11 +35,14 @@\n  */\n public interface IAlarmData {\n     Integer getAlarmType();\n+    Integer copyAlarmType();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c52bda37c4067f825963268bdd1693de646b8da8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYxMTU3OA==", "bodyText": "If the ImmutableMapper implementations are updated to check the has method first and set the appropriate value on the Immutable object we should be able to get rid of the copy methods on the interface since we know the value returned by the getter will be as-set not a default.\n\nShould be able to delete all the new copy...() methods from the interfaces.\nShould be able to delete all the new copy...() methods from the JAXB types.", "url": "https://github.com/OpenNMS/opennms/pull/2869#discussion_r366611578", "createdAt": "2020-01-14T22:41:59Z", "author": {"login": "mattixtech"}, "path": "features/events/api/src/main/java/org/opennms/netmgt/events/api/model/IAlarmData.java", "diffHunk": "@@ -35,11 +35,14 @@\n  */\n public interface IAlarmData {\n     Integer getAlarmType();\n+    Integer copyAlarmType();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNzQ5Mw=="}, "originalCommit": {"oid": "c52bda37c4067f825963268bdd1693de646b8da8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYxMjgzMw==", "bodyText": "Ex using AlarmData updating the set calls to check first for defaulted types:\n    public static ImmutableAlarmData fromMutableAlarmData(AlarmData alarmData) {\n        if (alarmData == null) {\n            return null;\n        }\n\n        return ImmutableAlarmData.newBuilder()\n                .setReductionKey(alarmData.getReductionKey())\n                .setAlarmType(alarmData.hasAlarmType() ? alarmData.getAlarmType() : null)\n                .setClearKey(alarmData.getClearKey())\n                .setAutoClean(alarmData.hasAutoClean() ? alarmData.getAutoClean() : null)\n                .setX733AlarmType(alarmData.getX733AlarmType())\n                .setX733ProbableCause(alarmData.hasX733ProbableCause() ? alarmData.getX733ProbableCause() : null)\n                .setUpdateFieldList(\n                        alarmData.getUpdateFieldList()\n                                .stream().map(ImmutableMapper::fromMutableUpdateField)\n                                .collect(Collectors.toList()))\n                .setManagedObject(fromMutableManagedObject(alarmData.getManagedObject()))\n                .build();\n    }", "url": "https://github.com/OpenNMS/opennms/pull/2869#discussion_r366612833", "createdAt": "2020-01-14T22:45:30Z", "author": {"login": "mattixtech"}, "path": "features/events/api/src/main/java/org/opennms/netmgt/events/api/model/IAlarmData.java", "diffHunk": "@@ -35,11 +35,14 @@\n  */\n public interface IAlarmData {\n     Integer getAlarmType();\n+    Integer copyAlarmType();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNzQ5Mw=="}, "originalCommit": {"oid": "c52bda37c4067f825963268bdd1693de646b8da8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkzNjQ4Mw==", "bodyText": "Updated to remove the copy...() methods and make use of has...() methods.  Thanks for the feedback.  :)", "url": "https://github.com/OpenNMS/opennms/pull/2869#discussion_r366936483", "createdAt": "2020-01-15T15:24:09Z", "author": {"login": "bouff"}, "path": "features/events/api/src/main/java/org/opennms/netmgt/events/api/model/IAlarmData.java", "diffHunk": "@@ -35,11 +35,14 @@\n  */\n public interface IAlarmData {\n     Integer getAlarmType();\n+    Integer copyAlarmType();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYwNzQ5Mw=="}, "originalCommit": {"oid": "c52bda37c4067f825963268bdd1693de646b8da8"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 728, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}