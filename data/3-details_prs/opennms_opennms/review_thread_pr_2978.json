{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0NzQxNjU2", "number": 2978, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzoyMDozNlrOD5FhoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzoyMDozNlrOD5FhoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTg1OTUyOnYy", "diffSide": "RIGHT", "path": "opennms-doc/guide-admin/src/asciidoc/text/database-reports/database.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzoyMDozNlrOGQKNZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzo0NToxOVrOGQLJJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU5NzY3MA==", "bodyText": "I couldn't find this image here", "url": "https://github.com/OpenNMS/opennms/pull/2978#discussion_r419597670", "createdAt": "2020-05-04T17:20:36Z", "author": {"login": "indigo423"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/database-reports/database.adoc", "diffHunk": "@@ -278,3 +278,73 @@ WARNING: If `org.opennms.netmgt.jasper.measurement.ssl.enable` is set to `false`\n \n  * Only a _JDBC Datasource_ to the _{opennms-product-name} Database connection_ can be passed to a report, or no datasource at all.\n    One does not have to use the datasource, though.\n+\n+=== Creating PDF Reports from Grafana Dashboards Using {opennms-product-name}\n+\n+{opennms-product-name} provides three templates to create a PDF report from an existing Grafana dashboard. \n+You can also schedule and email these PDF reports to anyone:\n+\n+* Keep staff without access to {opennms-product-name} informed about network performance for improved capacity planning\n+* Create a permanent record of strategic information and progress over a long period of time\n+\n+The PDF report displays each of the panels from the specified dashboard, with one, two, or four panels per page, depending on the selected template. \n+\n+Dashboard to PDF:\n+\n+image:database-reports/dashboard-pdf.png[PDF report, 600]\n+\n+==== Before You Begin\n+\n+This feature requires {opennms-product-name} and an instance of Grafana with at least one dashboard and panel. OpenNMS allows you to create a report for any Grafana dashboard, not just those created using link:http://docs.opennms.org/helm/branches/master/helm/latest/welcome/index.html[OpenNMS Helm].\n+\n+You must set up Grafana as a datasource by xref:grafana-ednpoint[configuring the Grafana endpoint] in {opennms-product-name}. \n+\n+[[grafana-endpoint]]\n+==== Configure the Grafana Endpoint\n+\n+Configuring the Grafana endpoint sets up Grafana as the datasource for the dashboards from which you create PDFs. \n+\n+. Login to your Grafana instance.\n+. Choose **Configuration > API Keys** and click **New API Key**. \n+. Specify a key name and \"Viewer\" role and click **Add**.\n+.. Leave the time to live blank so that the key never expires. \n+. Copy the key so that you can paste it into the {opennms-product-name} UI. \n++\n+image:database-reports/API-Key.png[Grafana API, 400]\n+\n+.. If desired, test the key using the Curl command provided oi the API key dialog. \n+. In OpenNMS, click *Please add a Grafana endpoint*:\n+\n++\n+image:database-reports/grafana-endpoint.png[Endpoint, 400]\n+\n+. In the *Endpoint Configuration* screen click the plus sign on the right to add a new endpoint.\n+. Fill in the information and click *Test Connection*.\n+. Click *Create*.\n+\n+You can now use {opennms-product-name} to create PDF reports of Grafana dashboards. \n+\n+==== Creating a PDF of a Grafana Dashboard\n+\n+. In the {opennms-product-name} UI, choose `Reports>Database Reports`.\n+. In the `Report Templates` area, click `Grafana Dashboard Report <Xppp>`, where `<Xppp>` represents the number of panels per page you want to display. \n+. In the `Report Parameters` area, specify the appropriate information.\n+.. Note that `Grafana Endpoint` is the datasource. Select a Grafana dashboard from the drop-down list. \n+.. You can also specify CSV for report type. \n+. Click `Create Report`. \n+.. You are prompted to save the report locally or open it.\n+The file is saved to a folder on the {opennms-product-name} Server. \n+It also appears in the UI in the `Persisted Reports` tab. \n+. To send the report to someone, click `Deliver this report`.\n+. Fill out the `Report Delivery Options`.\n+.. If you select `Email report`, specify the recipient\u2019s email address in the `Recipient` field. \n+Separate multiple recipient emails with a comma. \n+.. Webhook allows you to post the generated report to the specified URL. \n+. Click `Deliver Report`.\n+. To schedule the report for regular delivery, click `Schedule this report`.\n+. Specify the report frequency (daily, days per week, etc.) and interval of the report.\n+. Click `Schedule Report`.\n+\n+Scheduled reports appear in the `Report Schedules` tab, where you can edit or delete them:\n+\n+image::database-reports/PDF-Report.png[pdf report, 600]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68cdbff087b8553c59261146507217a2573a638a"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYxMjk2NQ==", "bodyText": "I couldn't find this image here\nAdded image.", "url": "https://github.com/OpenNMS/opennms/pull/2978#discussion_r419612965", "createdAt": "2020-05-04T17:45:19Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/database-reports/database.adoc", "diffHunk": "@@ -278,3 +278,73 @@ WARNING: If `org.opennms.netmgt.jasper.measurement.ssl.enable` is set to `false`\n \n  * Only a _JDBC Datasource_ to the _{opennms-product-name} Database connection_ can be passed to a report, or no datasource at all.\n    One does not have to use the datasource, though.\n+\n+=== Creating PDF Reports from Grafana Dashboards Using {opennms-product-name}\n+\n+{opennms-product-name} provides three templates to create a PDF report from an existing Grafana dashboard. \n+You can also schedule and email these PDF reports to anyone:\n+\n+* Keep staff without access to {opennms-product-name} informed about network performance for improved capacity planning\n+* Create a permanent record of strategic information and progress over a long period of time\n+\n+The PDF report displays each of the panels from the specified dashboard, with one, two, or four panels per page, depending on the selected template. \n+\n+Dashboard to PDF:\n+\n+image:database-reports/dashboard-pdf.png[PDF report, 600]\n+\n+==== Before You Begin\n+\n+This feature requires {opennms-product-name} and an instance of Grafana with at least one dashboard and panel. OpenNMS allows you to create a report for any Grafana dashboard, not just those created using link:http://docs.opennms.org/helm/branches/master/helm/latest/welcome/index.html[OpenNMS Helm].\n+\n+You must set up Grafana as a datasource by xref:grafana-ednpoint[configuring the Grafana endpoint] in {opennms-product-name}. \n+\n+[[grafana-endpoint]]\n+==== Configure the Grafana Endpoint\n+\n+Configuring the Grafana endpoint sets up Grafana as the datasource for the dashboards from which you create PDFs. \n+\n+. Login to your Grafana instance.\n+. Choose **Configuration > API Keys** and click **New API Key**. \n+. Specify a key name and \"Viewer\" role and click **Add**.\n+.. Leave the time to live blank so that the key never expires. \n+. Copy the key so that you can paste it into the {opennms-product-name} UI. \n++\n+image:database-reports/API-Key.png[Grafana API, 400]\n+\n+.. If desired, test the key using the Curl command provided oi the API key dialog. \n+. In OpenNMS, click *Please add a Grafana endpoint*:\n+\n++\n+image:database-reports/grafana-endpoint.png[Endpoint, 400]\n+\n+. In the *Endpoint Configuration* screen click the plus sign on the right to add a new endpoint.\n+. Fill in the information and click *Test Connection*.\n+. Click *Create*.\n+\n+You can now use {opennms-product-name} to create PDF reports of Grafana dashboards. \n+\n+==== Creating a PDF of a Grafana Dashboard\n+\n+. In the {opennms-product-name} UI, choose `Reports>Database Reports`.\n+. In the `Report Templates` area, click `Grafana Dashboard Report <Xppp>`, where `<Xppp>` represents the number of panels per page you want to display. \n+. In the `Report Parameters` area, specify the appropriate information.\n+.. Note that `Grafana Endpoint` is the datasource. Select a Grafana dashboard from the drop-down list. \n+.. You can also specify CSV for report type. \n+. Click `Create Report`. \n+.. You are prompted to save the report locally or open it.\n+The file is saved to a folder on the {opennms-product-name} Server. \n+It also appears in the UI in the `Persisted Reports` tab. \n+. To send the report to someone, click `Deliver this report`.\n+. Fill out the `Report Delivery Options`.\n+.. If you select `Email report`, specify the recipient\u2019s email address in the `Recipient` field. \n+Separate multiple recipient emails with a comma. \n+.. Webhook allows you to post the generated report to the specified URL. \n+. Click `Deliver Report`.\n+. To schedule the report for regular delivery, click `Schedule this report`.\n+. Specify the report frequency (daily, days per week, etc.) and interval of the report.\n+. Click `Schedule Report`.\n+\n+Scheduled reports appear in the `Report Schedules` tab, where you can edit or delete them:\n+\n+image::database-reports/PDF-Report.png[pdf report, 600]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU5NzY3MA=="}, "originalCommit": {"oid": "68cdbff087b8553c59261146507217a2573a638a"}, "originalPosition": 73}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 621, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}