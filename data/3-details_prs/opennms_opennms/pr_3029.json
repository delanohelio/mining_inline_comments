{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3OTE2MjM2", "number": 3029, "title": "NMS-7547: fix UTF-8 comparison decoding hex strings", "bodyText": "We pulled this out of the backlog this week, it's an old patch that Seth did that supposedly broke some Enlinkd tests, but we've refactored plenty of the related code and everything passes here.  I've gone ahead and made a foundation-2019 version of it here just to make sure it passes there too, and and as long as it does, I'd say we should hopefully be safe to merge.\nJIRA: https://issues.opennms.org/browse/NMS-7547", "createdAt": "2020-06-04T15:25:09Z", "url": "https://github.com/OpenNMS/opennms/pull/3029", "merged": true, "mergeCommit": {"oid": "133d9bbc7c041f5bd26e4505b356616e7875676f"}, "closed": true, "closedAt": "2020-06-09T18:48:42Z", "author": {"login": "RangerRick"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpWbDJAH2gAyNDI3OTE2MjM2OjM3MzI5YjIwZDM5NTU5MTZmNDM0OGJkN2ZjNjYzMWU0OTc1ZWVlZGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpoqEmAFqTQyNzM5NDQ3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37329b20d3955916f4348bd7fc6631e4975eeedc", "author": {"user": {"login": "soleger", "name": "Seth Leger"}}, "url": "https://github.com/OpenNMS/opennms/commit/37329b20d3955916f4348bd7fc6631e4975eeedc", "committedDate": "2020-06-08T20:24:26Z", "message": "Fixed bug NMS-7547 by updating UTF-8 detection function for SNMP values. Added\nunit test for this function."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb0bfe843221cf5439d00b03969c9fb8849d2b47", "author": {"user": {"login": "RangerRick", "name": "Benjamin Reed"}}, "url": "https://github.com/OpenNMS/opennms/commit/bb0bfe843221cf5439d00b03969c9fb8849d2b47", "committedDate": "2020-06-08T20:24:26Z", "message": "NMS-7547: fix processing of bad/weird LLDP IDs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca4ab567848fa196cd5880ac2f3c90de8d185742", "author": {"user": {"login": "RangerRick", "name": "Benjamin Reed"}}, "url": "https://github.com/OpenNMS/opennms/commit/ca4ab567848fa196cd5880ac2f3c90de8d185742", "committedDate": "2020-06-08T20:24:17Z", "message": "NMS-7547: fix processing of bad/weird LLDP IDs"}, "afterCommit": {"oid": "bb0bfe843221cf5439d00b03969c9fb8849d2b47", "author": {"user": {"login": "RangerRick", "name": "Benjamin Reed"}}, "url": "https://github.com/OpenNMS/opennms/commit/bb0bfe843221cf5439d00b03969c9fb8849d2b47", "committedDate": "2020-06-08T20:24:26Z", "message": "NMS-7547: fix processing of bad/weird LLDP IDs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f015f9376fd4ef1bda4ad2305bcaa25b867a8eb", "author": {"user": {"login": "RangerRick", "name": "Benjamin Reed"}}, "url": "https://github.com/OpenNMS/opennms/commit/2f015f9376fd4ef1bda4ad2305bcaa25b867a8eb", "committedDate": "2020-06-09T14:30:15Z", "message": "NMS-7547: revert changes from NMS-8915 now that this is fixed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MzUyMTIw", "url": "https://github.com/OpenNMS/opennms/pull/3029#pullrequestreview-427352120", "createdAt": "2020-06-09T16:45:08Z", "commit": {"oid": "2f015f9376fd4ef1bda4ad2305bcaa25b867a8eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjo0NTowOFrOGhTV7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjo0NTowOFrOGhTV7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU3MzEwMQ==", "bodyText": "So basically we are limiting the displayable to UTF-8 validation.\nIf Enlinkd expects this way, that's fine.\nOtherwise I'm good with skipping the test validation for values in order to get the original fix of preventing ArrayIndexOutOfBoundsException", "url": "https://github.com/OpenNMS/opennms/pull/3029#discussion_r437573101", "createdAt": "2020-06-09T16:45:08Z", "author": {"login": "cgorantla"}, "path": "opennms-services/src/main/java/org/opennms/netmgt/enlinkd/snmp/LldpLocalGroupTracker.java", "diffHunk": "@@ -92,10 +93,10 @@\n     public static String getDisplayable(final SnmpValue snmpValue) {\n         String decodedsnmpValue = snmpValue.toHexString();\n         try {\n-            if (snmpValue.isDisplayable())\n+            if (AbstractSnmpValue.allBytesUTF_8(snmpValue.getBytes()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f015f9376fd4ef1bda4ad2305bcaa25b867a8eb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3Mzk0NDc4", "url": "https://github.com/OpenNMS/opennms/pull/3029#pullrequestreview-427394478", "createdAt": "2020-06-09T17:39:08Z", "commit": {"oid": "2f015f9376fd4ef1bda4ad2305bcaa25b867a8eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3670, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}