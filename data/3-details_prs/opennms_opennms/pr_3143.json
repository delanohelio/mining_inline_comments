{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5Nzc4NTk3", "number": 3143, "title": "NMS-12892:  Document the MailTransportMonitor", "bodyText": "All Contributors\n\n Have you read and followed our Contribution Guidelines?\n Have you made an issue in the OpenNMS issue tracker?If so, you should:\n\nupdate the title of this PR to be of the format: ${JIRA-ISSUE-NUMBER}: subject of pull request\nupdate the JIRA link at the bottom of this comment to refer to the real issue number\nprefix your commit messages with the issue number, if possible\n\n\n Have you made a comment in that issue which points back to this PR?\n Have you updated the JIRA link at the bottom of this comment to link to your issue?\n If this is a new or updated feature, is there documentation for the new behavior?\n If this is new code, are there unit and/or integration tests?\n If this PR targets a foundation-* branch, does it avoid changing files in $OPENNMS_HOME/etc/?\n\nPull Request Process\nOne or more reviewers should be assigned to each PR.\nIf you know that a particular person is subject matter expert in the area your PR affects, feel free to assign one or more reviewers when you create this PR, otherwise reviewers will be assigned for you.\nIf you have made additions or changes to the documentation, or if you need documentation for these code changes, please make sure a technical writer has looked it over.\nOnce the reviewer(s) accept the PR and the branch passes continuous integration, the PR is eligible for merge.\nAt that time, if you have commit access (are an OpenNMS Group employee or a member of the Order of the Green Polo) you are welcome to merge the PR.\nOtherwise, a reviewer can merge it for you.\nThanks for taking time to contribute!\nExternal References\n\nJIRA (Issue Tracker): http://issues.opennms.org/browse/NMS-12892", "createdAt": "2020-09-04T15:08:32Z", "url": "https://github.com/OpenNMS/opennms/pull/3143", "merged": true, "mergeCommit": {"oid": "22da1756861c4797720bb73bb36a45684e81cea9"}, "closed": true, "closedAt": "2020-09-17T17:29:12Z", "author": {"login": "dino2gnt"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFmLUqgH2gAyNDc5Nzc4NTk3OmY3ZmI1ZmEwOWE2MWQ4YWQ0NDNmMjhkMDhmNjk4ODhhNzllNmViMmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJxRn0gH2gAyNDc5Nzc4NTk3OjFhMDVmOGNmMTc0MzZjZDk4NzQ5ZmQzOWE1ZmFlYjlmYTk0NjQ5YjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b", "committedDate": "2020-09-04T14:35:37Z", "message": "NMS-12892:  Document the MailTransportMonitor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyODMxNzAw", "url": "https://github.com/OpenNMS/opennms/pull/3143#pullrequestreview-482831700", "createdAt": "2020-09-04T17:24:53Z", "commit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNzoyNDo1NFrOHNWStw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNzozNzo1OVrOHNWpfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc1ODc3NQ==", "bodyText": "Text is great. I've been trying to standardize so that there is a separate line for each sentence.", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483758775", "createdAt": "2020-09-04T17:24:54Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc1OTAzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n          \n          \n            \n            | `sendmail-test` | Defines the test for sending mail. Contains sendmail-host, sendmail-protocol, sendmail-message,", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483759038", "createdAt": "2020-09-04T17:25:28Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc1OTIzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n          \n          \n            \n            | `readmail-test` | Defines the test for reading mail. Contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483759233", "createdAt": "2020-09-04T17:25:54Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc1OTU4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n          \n          \n            \n            | `mailer`               | Use smtpsend or an alternate mailer                                                        | optional | `smtpsend`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483759585", "createdAt": "2020-09-04T17:26:41Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MDA4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n          \n          \n            \n            | `transport`            | SMTP  or SMTPS                                                                               | optional | `smtp`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483760080", "createdAt": "2020-09-04T17:27:52Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MDU3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n          \n          \n            \n            | `port`      | The appropriate port for the protocol                                                                   | optional | `110`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483760578", "createdAt": "2020-09-04T17:29:04Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MDcxNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n          \n          \n            \n            | `transport`  | The transport ptotocol to use. One of: pop3 pop3s imap imaps                                          | optional | `pop3`\n          \n      \n    \n    \n  \n\nAre these literals? If not, please capitalize: POP3 POP3S IMAP IMAPS", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483760717", "createdAt": "2020-09-04T17:29:20Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MTcwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n          \n          \n            \n            | `user-name` | The user name for SMTP, POP, or IMAP authentication                                                      | optional | `opennms`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483761709", "createdAt": "2020-09-04T17:31:31Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MjQ1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`\n          \n          \n            \n            | `password`  | The password for SMTP, POP, or IMAP authentication                                                      | optional | `opennms`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483762451", "createdAt": "2020-09-04T17:33:12Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+| `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MjY0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Test for an end to end email transaction.\n          \n          \n            \n            Test for an end-to-end email transaction.", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483762640", "createdAt": "2020-09-04T17:33:40Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+| `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+|===\n+\n+.Variables which can be used in the configuration\n+[options=\"header, autowidth\"]\n+|===\n+| Variable        | Description\n+| `${ipaddr}`     | This value will be substituted with the IP address of the interface on which the monitored service \n+                     appears\n+|===\n+\n+===== Examples\n+\n+Test for an end to end email transaction.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2MjkwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            There are five basic tests that can be performed by this monitor.\n          \n          \n            \n            There are five basic tests that this monitor can perform.", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483762909", "createdAt": "2020-09-04T17:34:25Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+| `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+|===\n+\n+.Variables which can be used in the configuration\n+[options=\"header, autowidth\"]\n+|===\n+| Variable        | Description\n+| `${ipaddr}`     | This value will be substituted with the IP address of the interface on which the monitored service \n+                     appears\n+|===\n+\n+===== Examples\n+\n+Test for an end to end email transaction.\n+\n+[source, xml]\n+----\n+<service name=\"MTM\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <sendmail-test attempt-interval=\"30000\" use-authentication=\"false\" use-jmta=\"false\" debug=\"false\" >\n+          <sendmail-host host=\"${ipaddr}\" port=\"25\" />\n+          <sendmail-protocol mailer=\"smtpsend\" />\n+          <sendmail-message to=\"opennms@gmail.com\" subject=\"OpenNMS Test Message\"\n+            body=\"This is an OpenNMS test message.\" />\n+          <user-auth user-name=\"opennms\" password=\"roolz\" />\n+        </sendmail-test>\n+        <readmail-test attempt-interval=\"5000\" subject-match=\"OpenNMS Test Message\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"mtm_lat\"/>\n+  <parameter key=\"retry\" value=\"20\" />\n+</service>\n+----\n+\n+Test that we can connect via IMAPS and open the OPENNMS folder.\n+\n+[source, xml]\n+----\n+<service name=\"MTM-Readmail\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <readmail-test attempt-interval=\"5000\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"rdmail_lat\"/>\n+</service>\n+----\n+\n+===== Tests\n+There are five basic tests that can be performed by this monitor.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 173}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2NDAxMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Access of Mail Store and Folder: Configure a readmail-test and don't configure a subject-match attribute. This will test only the ability to open the default mail store and the configured mail folder (\"INBOX\") by default. Folders are given by \"INBOX<seperator>Foldername\"; seperator character might vary between IMAP implementations. Exchange uses \"/\" as seperator, for example.\n          \n          \n            \n            Access of Mail Store and Folder: Configure a readmail-test and don't configure a subject-match attribute. This will test only the ability to open the default mail store and the configured mail folder (\"INBOX\") by default. Folders are given by \"INBOX<separator>Foldername\"; separator character might vary between IMAP implementations. Exchange uses \"/\" as separator, for example.\n          \n      \n    \n    \n  \n\nSeparate lines, if possible. I love it when people use \"only\" and semi-colons correctly. :-)", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483764010", "createdAt": "2020-09-04T17:36:49Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+| `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+|===\n+\n+.Variables which can be used in the configuration\n+[options=\"header, autowidth\"]\n+|===\n+| Variable        | Description\n+| `${ipaddr}`     | This value will be substituted with the IP address of the interface on which the monitored service \n+                     appears\n+|===\n+\n+===== Examples\n+\n+Test for an end to end email transaction.\n+\n+[source, xml]\n+----\n+<service name=\"MTM\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <sendmail-test attempt-interval=\"30000\" use-authentication=\"false\" use-jmta=\"false\" debug=\"false\" >\n+          <sendmail-host host=\"${ipaddr}\" port=\"25\" />\n+          <sendmail-protocol mailer=\"smtpsend\" />\n+          <sendmail-message to=\"opennms@gmail.com\" subject=\"OpenNMS Test Message\"\n+            body=\"This is an OpenNMS test message.\" />\n+          <user-auth user-name=\"opennms\" password=\"roolz\" />\n+        </sendmail-test>\n+        <readmail-test attempt-interval=\"5000\" subject-match=\"OpenNMS Test Message\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"mtm_lat\"/>\n+  <parameter key=\"retry\" value=\"20\" />\n+</service>\n+----\n+\n+Test that we can connect via IMAPS and open the OPENNMS folder.\n+\n+[source, xml]\n+----\n+<service name=\"MTM-Readmail\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <readmail-test attempt-interval=\"5000\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"rdmail_lat\"/>\n+</service>\n+----\n+\n+===== Tests\n+There are five basic tests that can be performed by this monitor.\n+\n+Sending Mail: The most basic test, the sendmail-test is highly configurable. An Exception thrown during the sending of the configured email message will cause the poll to fail.\n+\n+Access of Mail Store and Folder: Configure a readmail-test and don't configure a subject-match attribute. This will test only the ability to open the default mail store and the configured mail folder (\"INBOX\") by default. Folders are given by \"INBOX<seperator>Foldername\"; seperator character might vary between IMAP implementations. Exchange uses \"/\" as seperator, for example.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2NDYwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Sending and Receipt (end-to-end test) of a Message:Test your infrastructure's ability to send and receive email. It tests sending and receiving of an mail message via one or two separate mail servers. For example, you can send email via SMTPS to one server outside of your organization addressed to a recipient on your internal mail server and verify delivery.\n          \n          \n            \n            Sending and Receipt (end-to-end test) of a Message: Test your infrastructure's ability to send and receive email. It tests sending and receiving of an mail message via one or two separate mail servers. For example, you can send email via SMTPS to one server outside of your organization addressed to a recipient on your internal mail server and verify delivery.\n          \n      \n    \n    \n  \n\nSeparate lines, if possible.", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r483764605", "createdAt": "2020-09-04T17:37:59Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -0,0 +1,182 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+==== MailTransportMonitor\n+\n+MailTransportMonitor is used to run a synthetic test of a complete email transaction, including sending a mail and determining that it has been delivered.  It can also use both sendmail-test and readmail-test \n+independently to determine whether an email can be sent or a mailbox can be read.\n+\n+===== Monitor facts\n+\n+[options=\"autowidth\"]\n+|===\n+| Class Name     | `org.opennms.netmgt.poller.monitors.MailTransportMonitor`\n+| Remote Enabled | true\n+|===\n+\n+===== Configuration and Usage\n+\n+.Monitor specific parameters for the MailTransportMonitor\n+[options=\"header, autowidth\"]\n+|===\n+| Parameter        | Description                                                                                       | Required | Default value\n+| `sendmail-test` | Defines the test for sending mail, contains sendmail-host, sendmail-protocol, sendmail-message,\n+                     and user-auth                                                                                     | optional | `debug=\"true\" use-authentication=\"false\" use-jmta=\"true\" attempt-interval=\"3000\"`\n+| `readmail-test` | Defines the test for reading mail, contains readmail-host, readmail-protocol, and user-auth.       | optional | `debug=\"true\" mail-folder=\"INBOX\" attempt-interval=\"1000\" delete-all-mail=\"false\"`\n+|===\n+\n+.Options for sendmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute            | Description                                                                                    | Required | Default value\n+| `debug`              | Show additional debug output                                                                   | optional | `true`\n+| `use-authentication` | Whether to use authentication, in the event it is required                                     | optional | `false`\n+| `use-jmta`           | Use the JavaMail Mail Transport Agent                                                          | optional | `true`\n+| `attempt-interval`   | Interval in ms between send attempts                                                           | optional | `3000`\n+|===\n+\n+.Options for sendmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute       | Description                                                                                         | Required | Default value\n+| `host`          | The SMTP server address for sending mail                                                            | optional | `${ipaddr}`\n+| `port`          | The SMTP server port                                                                                | optional | `25`\n+|===\n+\n+.Options for sendmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute              | Description                                                                                  | Required | Default value\n+| `char-set`             | Set the character set                                                                        | optional | `us-ascii`\n+| `mailer`               | use smtpsend or some alternate mailer                                                        | optional | `smtpsend`\n+| `message-content-type` | Set the message content-type                                                                 | optional | `text/plain`\n+| `message-encoding`     | Set the message encoding                                                                     | optional | `7-bit`\n+| `quit-wait`            | If set to false, the QUIT command is sent and the connection is immediately closed. If set \n+                            to true (the default), causes the transport to wait for the response to the QUIT command.   | optional | `true`\n+| `transport`            | smtp  or smtps                                                                               | optional | `smtp`\n+| `ssl-enable`           | Use SSL or not                                                                               | optional | `\"false`\n+| `start-tls`            | Use the STARTTLS command (if supported or required by the server) to switch the connection \n+                            to a TLS-protected connection before issuing any login commands                             | optional | `\"false`\n+|===\n+\n+.Options for sendmail-message\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute | Description                                                                                               | Required | Default value\n+| `to`      | The destination address                                                                                   | optional | `root@localhost`\n+| `from`    | The address to insert into the From: field                                                                | optional | `root@[127.0.0.1]`\n+| `subject` | The message subject                                                                                       | optional | `OpenNMS Test Message`\n+| `body`    | The body of the message                                                                                   | optional | `This is an OpenNMS test message.`\n+|===\n+\n+.Options for readmail-test\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute          | Description                                                                                      | Required | Default value\n+| `debug`            | Show additional debug output                                                                     | optional | `true`\n+| `mail-folder`      | The folder or IMAP label to check for mail                                                       | optional | `INBOX`\n+| `subject-match`    | Substring match in email subjects when looking for a specific email                              | optional | `no default`\n+| `attempt-interval` | Attempt to read email after this many milliseconds have passed, also used for retry interval     | optional | `1000`\n+| `delete-all-mail`  | Delete all read mail after a successful match                                                    | optional | `false`\n+|===\n+\n+.Options for readmail-host\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `host`      | The target host for reading mail                                                                        | optional | `${ipaddr}`\n+| `port`      | the appropriate port for the protocol                                                                   | optional | `110`\n+|===\n+\n+.Options for readmail-protocol\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute    | Description                                                                                             | Required | Default value\n+| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n+| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| `start-tls`  | Use the STARTTLS command (if supported or required by the server) to switch the connection to a \n+                  TLS-protected connection before issuing any login commands                                             | optional | `false`\n+|===\n+\n+.Options for user-auth\n+[options=\"header, autowidth\"]\n+|===\n+| Attribute   | Description                                                                                             | Required | Default value\n+| `user-name` | The username for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+| `password`  | The password for smtp, pop, or imap authentication                                                      | optional | `opennms`\n+|===\n+\n+.Variables which can be used in the configuration\n+[options=\"header, autowidth\"]\n+|===\n+| Variable        | Description\n+| `${ipaddr}`     | This value will be substituted with the IP address of the interface on which the monitored service \n+                     appears\n+|===\n+\n+===== Examples\n+\n+Test for an end to end email transaction.\n+\n+[source, xml]\n+----\n+<service name=\"MTM\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <sendmail-test attempt-interval=\"30000\" use-authentication=\"false\" use-jmta=\"false\" debug=\"false\" >\n+          <sendmail-host host=\"${ipaddr}\" port=\"25\" />\n+          <sendmail-protocol mailer=\"smtpsend\" />\n+          <sendmail-message to=\"opennms@gmail.com\" subject=\"OpenNMS Test Message\"\n+            body=\"This is an OpenNMS test message.\" />\n+          <user-auth user-name=\"opennms\" password=\"roolz\" />\n+        </sendmail-test>\n+        <readmail-test attempt-interval=\"5000\" subject-match=\"OpenNMS Test Message\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"mtm_lat\"/>\n+  <parameter key=\"retry\" value=\"20\" />\n+</service>\n+----\n+\n+Test that we can connect via IMAPS and open the OPENNMS folder.\n+\n+[source, xml]\n+----\n+<service name=\"MTM-Readmail\" interval=\"300000\" user-defined=\"false\" status=\"on\">\n+  <parameter key=\"mail-transport-test\">\n+    <mail-transport-test>\n+      <mail-test>\n+        <readmail-test attempt-interval=\"5000\" mail-folder=\"OPENNMS\" debug=\"false\" >\n+          <readmail-host host=\"imap.gmail.com\" port=\"993\">\n+            <readmail-protocol ssl-enable=\"true\" start-tls=\"false\" transport=\"imaps\" />\n+          </readmail-host>\n+          <user-auth user-name=\"opennms@gmail.com\" password=\"opennms\"/>\n+        </readmail-test>\n+      </mail-test>\n+    </mail-transport-test>\n+  </parameter>\n+  <parameter key=\"rrd-repository\" value=\"/opt/opennms/share/rrd/response\"/>\n+  <parameter key=\"ds-name\" value=\"rdmail_lat\"/>\n+</service>\n+----\n+\n+===== Tests\n+There are five basic tests that can be performed by this monitor.\n+\n+Sending Mail: The most basic test, the sendmail-test is highly configurable. An Exception thrown during the sending of the configured email message will cause the poll to fail.\n+\n+Access of Mail Store and Folder: Configure a readmail-test and don't configure a subject-match attribute. This will test only the ability to open the default mail store and the configured mail folder (\"INBOX\") by default. Folders are given by \"INBOX<seperator>Foldername\"; seperator character might vary between IMAP implementations. Exchange uses \"/\" as seperator, for example.\n+\n+Specific Message in Folder: Configure a readmail-test and a matching subject. Optionally configure the test to delete all read mail. Probably not something you want to do unless this is a mail folder that you are sending email to from another system that you can't do in the end-to-end test behavior.\n+\n+Sending and Receipt (end-to-end test) of a Message:Test your infrastructure's ability to send and receive email. It tests sending and receiving of an mail message via one or two separate mail servers. For example, you can send email via SMTPS to one server outside of your organization addressed to a recipient on your internal mail server and verify delivery.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7fb5fa09a61d8ad443f28d08f69888a79e6eb2b"}, "originalPosition": 181}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5948eaa23ca54a706136b049a3fd76d6ad4679a", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/e5948eaa23ca54a706136b049a3fd76d6ad4679a", "committedDate": "2020-09-04T19:16:28Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51c1e0160ad8351e830be81e280a5017748e9e45", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/51c1e0160ad8351e830be81e280a5017748e9e45", "committedDate": "2020-09-04T19:17:01Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82674dee13c4b9ddf79f976f763b4a98f466414b", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/82674dee13c4b9ddf79f976f763b4a98f466414b", "committedDate": "2020-09-04T19:17:16Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "154ae01fdbc3b47840fe3850035b33a879df1ca0", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/154ae01fdbc3b47840fe3850035b33a879df1ca0", "committedDate": "2020-09-04T19:22:11Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee98f0f5205cdecc5a290ea50d521faa3a53b8bd", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/ee98f0f5205cdecc5a290ea50d521faa3a53b8bd", "committedDate": "2020-09-04T19:22:24Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e52331de1a3ee42efde2ae5bfbd2976df084440", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/7e52331de1a3ee42efde2ae5bfbd2976df084440", "committedDate": "2020-09-04T19:22:35Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27c76f2e366c76a62032bd074514d276ccd5f3b0", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/27c76f2e366c76a62032bd074514d276ccd5f3b0", "committedDate": "2020-09-04T19:32:01Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfd4963e5bc78f3cc1b9d5e74e39e83627965388", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/bfd4963e5bc78f3cc1b9d5e74e39e83627965388", "committedDate": "2020-09-04T19:39:33Z", "message": "requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "392306a6df273e2b7d4bc2851e67f97dfa6107c5", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/392306a6df273e2b7d4bc2851e67f97dfa6107c5", "committedDate": "2020-09-09T13:36:17Z", "message": "More markdown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNTc0OTMy", "url": "https://github.com/OpenNMS/opennms/pull/3143#pullrequestreview-490574932", "createdAt": "2020-09-17T13:10:34Z", "commit": {"oid": "bfd4963e5bc78f3cc1b9d5e74e39e83627965388"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzoxMDozNFrOHThT8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzoxMTozM1rOHThWwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzMDc3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `transport`  | The transport ptotocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`\n          \n          \n            \n            | `transport`  | The transport protocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r490230770", "createdAt": "2020-09-17T13:10:34Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -92,18 +92,18 @@ independently to determine whether an email can be sent or a mailbox can be read\n .Options for readmail-protocol\n [options=\"header, autowidth\"]\n |===\n-| Attribute    | Description                                                                                             | Required | Default value\n-| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n-| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| Attribute    | Description                                                                                            | Required | Default value\n+| `transport`  | The transport ptotocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd4963e5bc78f3cc1b9d5e74e39e83627965388"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzMTAwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `transport`  | The transport ptotocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`\n          \n          \n            \n            | `transport`  | The transport protocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r490231007", "createdAt": "2020-09-17T13:10:53Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -92,18 +92,18 @@ independently to determine whether an email can be sent or a mailbox can be read\n .Options for readmail-protocol\n [options=\"header, autowidth\"]\n |===\n-| Attribute    | Description                                                                                             | Required | Default value\n-| `transport`  | The transport ptotocol to use.  One of:  pop3 pop3s imap imaps                                          | optional | `pop3`\n-| `ssl-enable` | Whether to enable SSL for the connection                                                                | optional | `false`\n+| Attribute    | Description                                                                                            | Required | Default value\n+| `transport`  | The transport ptotocol to use. One of: pop3 pop3s imap imaps                                           | optional | `pop3`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd4963e5bc78f3cc1b9d5e74e39e83627965388"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzMTQ4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            An Exception thrown during the sending of the configured email message will cause the poll to fail.\n          \n          \n            \n            An exception thrown during the sending of the configured email message will cause the poll to fail.", "url": "https://github.com/OpenNMS/opennms/pull/3143#discussion_r490231489", "createdAt": "2020-09-17T13:11:33Z", "author": {"login": "Bonrob2"}, "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc", "diffHunk": "@@ -170,12 +170,18 @@ Test that we can connect via IMAPS and open the OPENNMS folder.\n ----\n \n ===== Tests\n-There are five basic tests that can be performed by this monitor.\n+There are five basic tests that this monitor can perform.\n \n-Sending Mail: The most basic test, the sendmail-test is highly configurable. An Exception thrown during the sending of the configured email message will cause the poll to fail.\n+Sending Mail: The most basic test, the sendmail-test is highly configurable.\n+An Exception thrown during the sending of the configured email message will cause the poll to fail.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd4963e5bc78f3cc1b9d5e74e39e83627965388"}, "originalPosition": 67}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNTc3Mjg0", "url": "https://github.com/OpenNMS/opennms/pull/3143#pullrequestreview-490577284", "createdAt": "2020-09-17T13:13:11Z", "commit": {"oid": "392306a6df273e2b7d4bc2851e67f97dfa6107c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a05f8cf17436cd98749fd39a5faeb9fa94649b0", "author": {"user": {"login": "dino2gnt", "name": "Dino"}}, "url": "https://github.com/OpenNMS/opennms/commit/1a05f8cf17436cd98749fd39a5faeb9fa94649b0", "committedDate": "2020-09-17T13:47:09Z", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/service-assurance/monitors/MailTransportMonitor.adoc\n\nCo-authored-by: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3558, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}