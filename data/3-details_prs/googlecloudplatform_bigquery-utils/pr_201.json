{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NjkxNTA4", "number": 201, "title": "fix: external configs not found in parent dirs", "bodyText": "fixes a bug where external table configs were not properly discovered in parent directories and add an integration test for this.", "createdAt": "2020-11-25T21:04:17Z", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201", "merged": true, "mergeCommit": {"oid": "783608402decd295a3fe44740b5206e23c15ce89"}, "closed": true, "closedAt": "2021-01-13T18:55:35Z", "author": {"login": "jaketf"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhslPRABqjQwNTQxMjIwNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdv0aOXgFqTU2NzUyNTkyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "27e37dafb7194a5cdb9c5272370b9399168b8c65", "author": {"user": null}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/27e37dafb7194a5cdb9c5272370b9399168b8c65", "committedDate": "2020-11-25T21:02:41Z", "message": "fix: external configs not found in parent dirs"}, "afterCommit": {"oid": "a73d14bf48ec1ddb56bb034235d9b9373eaa0c9d", "author": {"user": null}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a73d14bf48ec1ddb56bb034235d9b9373eaa0c9d", "committedDate": "2020-11-30T21:52:57Z", "message": "fix: external configs not found in parent dirs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df", "author": {"user": null}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/63acfc06f8db5ed727fd5755a93714e9b7d0f7df", "committedDate": "2020-11-30T21:55:36Z", "message": "fix: external configs not found in parent dirs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a73d14bf48ec1ddb56bb034235d9b9373eaa0c9d", "author": {"user": null}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a73d14bf48ec1ddb56bb034235d9b9373eaa0c9d", "committedDate": "2020-11-30T21:52:57Z", "message": "fix: external configs not found in parent dirs"}, "afterCommit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df", "author": {"user": null}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/63acfc06f8db5ed727fd5755a93714e9b7d0f7df", "committedDate": "2020-11-30T21:55:36Z", "message": "fix: external configs not found in parent dirs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NTA5MzI0", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201#pullrequestreview-567509324", "createdAt": "2021-01-13T18:33:09Z", "commit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxODozMzowOVrOIS85RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxODozMzowOVrOIS85RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc0Mjk4MQ==", "bodyText": "Can you add docstring with brief explanation of fixture. The name isn't clear as to what it's doing.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201#discussion_r556742981", "createdAt": "2021-01-13T18:33:09Z", "author": {"login": "danieldeleo"}, "path": "tools/cloud_functions/gcs_event_based_ingest/tests/conftest.py", "diffHunk": "@@ -134,6 +134,30 @@ def teardown():\n     return data_objs[-1]\n \n \n+@pytest.fixture(scope=\"function\")\n+@pytest.mark.usefixtures(\"gcs_bucket\", \"dest_dataset\", \"dest_table\")\n+def gcs_data_under_sub_dirs(request, gcs_bucket, dest_dataset,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NTE2OTI2", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201#pullrequestreview-567516926", "createdAt": "2021-01-13T18:43:19Z", "commit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxODo0MzoxOVrOIS9RRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxODo0MzoxOVrOIS9RRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc0OTEyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                data_objs = []\n          \n          \n            \n                \"\"\"test that config files in parents are discovered when a success file\n          \n          \n            \n                is uploaded in a child directory.\"\"\"\n          \n          \n            \n                data_objs = []", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201#discussion_r556749126", "createdAt": "2021-01-13T18:43:19Z", "author": {"login": "jaketf"}, "path": "tools/cloud_functions/gcs_event_based_ingest/tests/conftest.py", "diffHunk": "@@ -134,6 +134,30 @@ def teardown():\n     return data_objs[-1]\n \n \n+@pytest.fixture(scope=\"function\")\n+@pytest.mark.usefixtures(\"gcs_bucket\", \"dest_dataset\", \"dest_table\")\n+def gcs_data_under_sub_dirs(request, gcs_bucket, dest_dataset,\n+                            dest_table) -> storage.blob.Blob:\n+    data_objs = []", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63acfc06f8db5ed727fd5755a93714e9b7d0f7df"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a239b1aec96974b05e9ade4e7ececc777888132b", "author": {"user": {"login": "danieldeleo", "name": "Daniel De Leo"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a239b1aec96974b05e9ade4e7ececc777888132b", "committedDate": "2021-01-13T18:52:07Z", "message": "Update tools/cloud_functions/gcs_event_based_ingest/tests/conftest.py\n\nCo-authored-by: Jacob Ferriero <jferriero@google.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "411ce9da8a42b46062ac5b3ea67baff1e4ee3721", "author": {"user": {"login": "danieldeleo", "name": "Daniel De Leo"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/411ce9da8a42b46062ac5b3ea67baff1e4ee3721", "committedDate": "2021-01-13T18:52:31Z", "message": "Merge branch 'master' into fix/configDiscovery"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NTI1OTI4", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/201#pullrequestreview-567525928", "createdAt": "2021-01-13T18:55:23Z", "commit": {"oid": "411ce9da8a42b46062ac5b3ea67baff1e4ee3721"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 559, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}