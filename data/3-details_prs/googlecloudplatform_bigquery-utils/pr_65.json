{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMjkxMDEz", "number": 65, "title": "Get last day of the month as date", "bodyText": "Get the date representing the last day of the month.", "createdAt": "2020-05-23T15:45:27Z", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65", "merged": true, "mergeCommit": {"oid": "9b30b247da58befa1f3c37415eb3b565e43e8e57"}, "closed": true, "closedAt": "2020-06-04T05:17:01Z", "author": {"login": "christippett"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABckIxKtAH2gAyNDIyMjkxMDEzOmFmYTQ2Y2ZlOWFjZDBmMTdjYTI0MmQyNDNhYmI3NGZmZWM3YjY3Yzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn3AmpAFqTQyNDEwNzU0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "afa46cfe9acd0f17ca242d243abb74ffec7b67c9", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/afa46cfe9acd0f17ca242d243abb74ffec7b67c9", "committedDate": "2020-05-23T15:40:18Z", "message": "add udf for getting the last day of the month"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "912359ed92fb74376c963ebb12096d8d0aa020d3", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/912359ed92fb74376c963ebb12096d8d0aa020d3", "committedDate": "2020-05-23T15:48:05Z", "message": "update data type used in readme example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8d944ba38c7b43cc8d74484c19d5f41f743228b", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f8d944ba38c7b43cc8d74484c19d5f41f743228b", "committedDate": "2020-05-23T15:54:39Z", "message": "add bqutil prefix to function calls in readme examples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTcwOTA3", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#pullrequestreview-421570907", "createdAt": "2020-06-01T03:05:19Z", "commit": {"oid": "f8d944ba38c7b43cc8d74484c19d5f41f743228b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwMzowNToxOVrOGc9qmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwMzowNzo1MFrOGc9sMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyMzY0MA==", "bodyText": "I would rename this to LAST_DAY as that's how this function appears in other data warehouses:\n\nSnowflake - https://docs.snowflake.com/en/sql-reference/functions/last_day.html\nTerdata - https://docs.teradata.com/reader/kmuOwjp1zEYg98JsB8fu_A/FhiYdsm_Lmhy_GaOgXC26A\n\nAlso, since this appears in the Teradata migration functions, it would be best to make the Teradata function refer to the community one for consistency.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433023640", "createdAt": "2020-06-01T03:05:19Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/month_ceil.sql", "diffHunk": "@@ -0,0 +1,25 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+CREATE OR REPLACE FUNCTION fn.month_ceil(dt DATE) RETURNS DATE AS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8d944ba38c7b43cc8d74484c19d5f41f743228b"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNDA1MA==", "bodyText": "I'm confused at what this restructure is doing.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433024050", "createdAt": "2020-06-01T03:07:50Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/README.md", "diffHunk": "@@ -13,24 +13,29 @@ SELECT bqutil.fn.int(1.684)\n \n ## UDFs\n \n-* [csv_to_struct](#csv_to_structstrlist-string)\n-* [find_in_set](#find_in_setstr-string-strlist-string)\n-* [freq_table](#freq_tablearr-any-type)\n-* [get_array_value](#get_array_valuek-string-arr-any-type)\n-* [get_value](#get_valuek-string-arr-any-type)\n-* [int](#intv-any-type)\n-* [median](#medianarr-any-type)\n-* [nlp_compromise_number](#nlp_compromise_numberstr-string)\n-* [nlp_compromise_people](#nlp_compromise_peoplestr-string)\n-* [radians](#radiansx-any-type)\n-* [random_int](#random_intmin-any-type-max-any-type)\n-* [random_value](#random_valuearr-any-type)\n-* [translate](#translateexpression-string-characters_to_replace-string-characters_to_substitute-string)\n-* [typeof](#typeofinput-any-type)\n-* [url_keys](#url_keysquery-string)\n-* [url_param](#url_paramquery-string-p-string)\n-* [url_parse](#url_parseurlstring-string-parttoextract-string)\n-* [zeronorm](#zeronormx-any-type-meanx-float64-stddevx-float64)\n+- [Community UDFs](#community-udfs)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8d944ba38c7b43cc8d74484c19d5f41f743228b"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08723494474130d543e66b3513d4188284f57950", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/08723494474130d543e66b3513d4188284f57950", "committedDate": "2020-06-01T04:25:17Z", "message": "rename `month_ceil` to `last_day`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfc66efb4ecf70d78e5b373cce5563d27c8db16", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/4bfc66efb4ecf70d78e5b373cce5563d27c8db16", "committedDate": "2020-06-01T04:30:29Z", "message": "point teradata function to community version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3ba971ee4a1d319e001a8060dbdf6181f512142", "author": {"user": {"login": "christippett", "name": "Chris"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e3ba971ee4a1d319e001a8060dbdf6181f512142", "committedDate": "2020-06-01T04:46:45Z", "message": "merge latest changes from bigquery-utils/master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MTA3NTQ0", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#pullrequestreview-424107544", "createdAt": "2020-06-04T05:14:34Z", "commit": {"oid": "e3ba971ee4a1d319e001a8060dbdf6181f512142"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 571, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}