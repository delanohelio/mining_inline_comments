{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NjY1Njgy", "number": 44, "title": "Add Redshift SPLIT_PART function", "bodyText": "Implement Redshift SPLIT_PART function", "createdAt": "2020-03-13T09:04:09Z", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44", "merged": true, "mergeCommit": {"oid": "f4610cb6e9285c493bfb62eb04e1a3b719f5024e"}, "closed": true, "closedAt": "2020-04-14T01:45:00Z", "author": {"login": "OTA2000"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNMX8tgH2gAyMzg3NjY1NjgyOmIxMzVmMTljNDM5NmU3MTFjMzcyNmFkN2M2NGEwOGU5YThjZjRhNmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXZbSFAFqTM5MjU0ODI0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b135f19c4396e711c3726ad7c64a08e9a8cf4a6c", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/b135f19c4396e711c3726ad7c64a08e9a8cf4a6c", "committedDate": "2020-03-13T08:52:07Z", "message": "add rs.split_part"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75ac769e4bc07933567b11ef429f2694e5363e1b", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/75ac769e4bc07933567b11ef429f2694e5363e1b", "committedDate": "2020-03-13T09:02:33Z", "message": "add rs.split_part readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a9a5f76ed142da0cda6f9446f36d3f44796f89d", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8a9a5f76ed142da0cda6f9446f36d3f44796f89d", "committedDate": "2020-03-13T09:08:50Z", "message": "modified udfs/migration/redshift/README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1579aa9312c742fd2a9b51f3ec29d7f561d57d98", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1579aa9312c742fd2a9b51f3ec29d7f561d57d98", "committedDate": "2020-03-13T09:20:30Z", "message": "modified udfs/migration/redshift/README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38d45649e855749d8971cca1e023f7637f2e9a68", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/38d45649e855749d8971cca1e023f7637f2e9a68", "committedDate": "2020-03-13T09:22:02Z", "message": "modified udfs/migration/redshift/README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d40ddabbfc1200cbedfc9b929398af338f92228b", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/d40ddabbfc1200cbedfc9b929398af338f92228b", "committedDate": "2020-03-13T09:22:41Z", "message": "modified udfs/migration/redshift/README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa7bebfad9991028929c368b0f01e8ff0d5640e8", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/aa7bebfad9991028929c368b0f01e8ff0d5640e8", "committedDate": "2020-03-13T17:44:45Z", "message": "Corresponds to exception of \"part\" arg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "935f246fd4ab2899116507cccc943d036c2991d4", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/935f246fd4ab2899116507cccc943d036c2991d4", "committedDate": "2020-03-13T17:56:16Z", "message": "modified split_part.spl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5283ce4afc594d40b1cd6f6fdb7d9180cfe32a9", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/b5283ce4afc594d40b1cd6f6fdb7d9180cfe32a9", "committedDate": "2020-03-13T18:15:49Z", "message": "modified error message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MTg1NDAx", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#pullrequestreview-389185401", "createdAt": "2020-04-07T14:40:58Z", "commit": {"oid": "b5283ce4afc594d40b1cd6f6fdb7d9180cfe32a9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1c860fd8e02a779afbce28157db1187a27114dd", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/b1c860fd8e02a779afbce28157db1187a27114dd", "committedDate": "2020-04-08T03:10:55Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5e3b46af3c0332bc946b57efc3f2b69b47da3d4", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/b5e3b46af3c0332bc946b57efc3f2b69b47da3d4", "committedDate": "2020-04-08T03:22:05Z", "message": "modified test_cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTY2NTI1", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#pullrequestreview-389966525", "createdAt": "2020-04-08T13:20:42Z", "commit": {"oid": "b5e3b46af3c0332bc946b57efc3f2b69b47da3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMzoyMDo0MlrOGCu6dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMzoyMDo0MlrOGCu6dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTUxODk2Ng==", "bodyText": "Change \"OFFSET(part - 1)\" to \"ORDINAL(part)\"", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#discussion_r405518966", "createdAt": "2020-04-08T13:20:42Z", "author": {"login": "danieldeleo"}, "path": "udfs/migration/redshift/split_part.sql", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+CREATE OR REPLACE FUNCTION rs.split_part(\n+  string STRING,\n+  delimiter STRING,\n+  part INT64)\n+AS (\n+  CASE\n+    WHEN part < 1 THEN ERROR('The part argument must be an integer greater than 1!')\n+    WHEN ARRAY_LENGTH(SPLIT(string, delimiter)) < part THEN \"\"\n+    ELSE SPLIT(string, delimiter)[OFFSET(part - 1)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e3b46af3c0332bc946b57efc3f2b69b47da3d4"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTY4NDYw", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#pullrequestreview-389968460", "createdAt": "2020-04-08T13:22:52Z", "commit": {"oid": "b5e3b46af3c0332bc946b57efc3f2b69b47da3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMzoyMjo1M1rOGCvAcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMzoyMjo1M1rOGCvAcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTUyMDQ5Ng==", "bodyText": "'The part argument must be an integer greater than 0'", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#discussion_r405520496", "createdAt": "2020-04-08T13:22:53Z", "author": {"login": "danieldeleo"}, "path": "udfs/migration/redshift/split_part.sql", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+CREATE OR REPLACE FUNCTION rs.split_part(\n+  string STRING,\n+  delimiter STRING,\n+  part INT64)\n+AS (\n+  CASE\n+    WHEN part < 1 THEN ERROR('The part argument must be an integer greater than 1!')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5e3b46af3c0332bc946b57efc3f2b69b47da3d4"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a5571876066130f6b7d2c2959e5a44118d93ab4", "author": {"user": {"login": "OTA2000", "name": "Yasuhiro Arakaki"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/0a5571876066130f6b7d2c2959e5a44118d93ab4", "committedDate": "2020-04-10T01:15:52Z", "message": "modified sql"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTQ4MjQ4", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/44#pullrequestreview-392548248", "createdAt": "2020-04-14T01:43:46Z", "commit": {"oid": "0a5571876066130f6b7d2c2959e5a44118d93ab4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 770, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}