{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MjE0OTEy", "number": 82, "reviewThreads": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxMzoxNVrOELirAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNTozMDowMFrOELi1uQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM3ODU3OnYy", "diffSide": "RIGHT", "path": "udfs/community/from_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxMzoxNVrOGtJB5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxMzoxNVrOGtJB5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzA0Nw==", "bodyText": "Delete blank line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449987047", "createdAt": "2020-07-06T05:13:15Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM3OTA0OnYy", "diffSide": "RIGHT", "path": "udfs/community/from_binary.sql", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxMzozMFrOGtJCJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwMDowMDoyMFrOGwQC_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzEwOQ==", "bodyText": "Add trailing newline", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449987109", "createdAt": "2020-07-06T05:13:30Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(c AS INT64) << (LENGTH(s) - 1 - bit))\n+    FROM \n+      UNNEST(SPLIT(s, '')) AS c WITH OFFSET bit\n+  )\n+);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0NzM5NA==", "bodyText": "Where to add a trailing newline? I don't see any issues with formatting.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r453247394", "createdAt": "2020-07-11T23:55:15Z", "author": {"login": "epishova"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(c AS INT64) << (LENGTH(s) - 1 - bit))\n+    FROM \n+      UNNEST(SPLIT(s, '')) AS c WITH OFFSET bit\n+  )\n+);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzEwOQ=="}, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0Nzc0MQ==", "bodyText": "The file should end with a newline character. I believe GitHub is calling this out with the red symbol at the end of line 30.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r453247741", "createdAt": "2020-07-12T00:00:20Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(c AS INT64) << (LENGTH(s) - 1 - bit))\n+    FROM \n+      UNNEST(SPLIT(s, '')) AS c WITH OFFSET bit\n+  )\n+);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzEwOQ=="}, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4MDU2OnYy", "diffSide": "RIGHT", "path": "udfs/community/from_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNDoyMFrOGtJDAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNDoyMFrOGtJDAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzMyOA==", "bodyText": "Seems like this would all fit on one line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449987328", "createdAt": "2020-07-06T05:14:20Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(c AS INT64) << (LENGTH(s) - 1 - bit))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4MDkwOnYy", "diffSide": "RIGHT", "path": "udfs/community/from_hex.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNDozOVrOGtJDPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNDozOVrOGtJDPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzM4OQ==", "bodyText": "Delete blank line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449987389", "createdAt": "2020-07-06T05:14:39Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_hex.sql", "diffHunk": "@@ -0,0 +1,35 @@\n+  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4MTE3OnYy", "diffSide": "RIGHT", "path": "udfs/community/from_hex.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNDo0N1rOGtJDZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwMDowMToxNFrOGwQDQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzQyOA==", "bodyText": "Add trailing newline", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449987428", "createdAt": "2020-07-06T05:14:47Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_hex.sql", "diffHunk": "@@ -0,0 +1,35 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_hex:\n+-- Input: STRING representing a number in hexadecimal form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_hex(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(\n+      \t  CONCAT(\n+      \t  \t'0x', \n+      \t  \tSUBSTR(\n+      \t  \t  s, \n+      \t  \t  byte * 2 + 1, 2)) \n+      \t  AS INT64) << ((LENGTH(s) - (byte + 1) * 2) * 4))\n+   FROM UNNEST(GENERATE_ARRAY(1, LENGTH(s) / 2)) WITH OFFSET byte\n+  )\n+);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0NzgwOQ==", "bodyText": "Where to add a trailing newline?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r453247809", "createdAt": "2020-07-12T00:01:14Z", "author": {"login": "epishova"}, "path": "udfs/community/from_hex.sql", "diffHunk": "@@ -0,0 +1,35 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_hex:\n+-- Input: STRING representing a number in hexadecimal form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_hex(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(\n+      \t  CONCAT(\n+      \t  \t'0x', \n+      \t  \tSUBSTR(\n+      \t  \t  s, \n+      \t  \t  byte * 2 + 1, 2)) \n+      \t  AS INT64) << ((LENGTH(s) - (byte + 1) * 2) * 4))\n+   FROM UNNEST(GENERATE_ARRAY(1, LENGTH(s) / 2)) WITH OFFSET byte\n+  )\n+);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4NzQyOA=="}, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4NTUyOnYy", "diffSide": "RIGHT", "path": "udfs/community/from_hex.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNzoxOVrOGtJF0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNzoxOVrOGtJF0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODA0OA==", "bodyText": "Reformat\ngo/sqlstyle#function-calls", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449988048", "createdAt": "2020-07-06T05:17:19Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_hex.sql", "diffHunk": "@@ -0,0 +1,35 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_hex:\n+-- Input: STRING representing a number in hexadecimal form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_hex(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(\n+      \t  CONCAT(\n+      \t  \t'0x', \n+      \t  \tSUBSTR(\n+      \t  \t  s, \n+      \t  \t  byte * 2 + 1, 2)) \n+      \t  AS INT64) << ((LENGTH(s) - (byte + 1) * 2) * 4))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4NjA0OnYy", "diffSide": "RIGHT", "path": "udfs/community/test_cases.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNzozNlrOGtJGIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxNzozNlrOGtJGIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODEzMQ==", "bodyText": "Add trailing new line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449988131", "createdAt": "2020-07-06T05:17:36Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/test_cases.yaml", "diffHunk": "@@ -293,4 +293,19 @@ percentage_difference:\n   - test:\n     input: CAST(1.0 AS FLOAT64), CAST(1000000000 AS INT64)\n     expected_output: CAST(2.0 AS FLOAT64)\n- \n+to_binary:\n+  - test:\n+    input: CAST(123456 AS INT64)\n+    expected_output: CAST('0000000000000000000000000000000000000000000000011110001001000000' AS STRING)\n+from_binary:\n+  - test:\n+    input: CAST('0000000000000000000000000000000000000000000000011110001001000000' AS STRING)\n+    expected_output: CAST(123456 AS INT64)\n+to_hex:\n+  - test:\n+    input: CAST(123456 AS INT64)\n+    expected_output: CAST('000000000001e240' AS STRING)\n+from_hex:\n+  - test:\n+    input: CAST('000000000001e240' AS STRING)\n+    expected_output: CAST(123456 AS INT64)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4Nzg2OnYy", "diffSide": "RIGHT", "path": "udfs/community/test_cases.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxODo0M1rOGtJHKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxODo0M1rOGtJHKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODM5NQ==", "bodyText": "What happens when input is NULL?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449988395", "createdAt": "2020-07-06T05:18:43Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/test_cases.yaml", "diffHunk": "@@ -293,4 +293,19 @@ percentage_difference:\n   - test:\n     input: CAST(1.0 AS FLOAT64), CAST(1000000000 AS INT64)\n     expected_output: CAST(2.0 AS FLOAT64)\n- \n+to_binary:\n+  - test:\n+    input: CAST(123456 AS INT64)\n+    expected_output: CAST('0000000000000000000000000000000000000000000000011110001001000000' AS STRING)\n+from_binary:\n+  - test:\n+    input: CAST('0000000000000000000000000000000000000000000000011110001001000000' AS STRING)\n+    expected_output: CAST(123456 AS INT64)\n+to_hex:\n+  - test:\n+    input: CAST(123456 AS INT64)\n+    expected_output: CAST('000000000001e240' AS STRING)\n+from_hex:\n+  - test:\n+    input: CAST('000000000001e240' AS STRING)\n+    expected_output: CAST(123456 AS INT64)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4ODIwOnYy", "diffSide": "RIGHT", "path": "udfs/community/to_binary.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxODo1OFrOGtJHZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwMDozNjo0NVrOGwQMTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODQ1NQ==", "bodyText": "Add trailing new line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449988455", "createdAt": "2020-07-06T05:18:58Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_binary.sql", "diffHunk": "@@ -0,0 +1,31 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_binary:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in binary form\n+CREATE OR REPLACE FUNCTION fn.to_binary(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        CAST(x >> bit & 0x1 AS STRING), \n+        '' ORDER BY bit DESC)\n+    FROM \n+      UNNEST(GENERATE_ARRAY(0, 63)) AS bit\n+  )\n+);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI1MDEyNg==", "bodyText": "Where to add a trailing newline?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r453250126", "createdAt": "2020-07-12T00:36:45Z", "author": {"login": "epishova"}, "path": "udfs/community/to_binary.sql", "diffHunk": "@@ -0,0 +1,31 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_binary:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in binary form\n+CREATE OR REPLACE FUNCTION fn.to_binary(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        CAST(x >> bit & 0x1 AS STRING), \n+        '' ORDER BY bit DESC)\n+    FROM \n+      UNNEST(GENERATE_ARRAY(0, 63)) AS bit\n+  )\n+);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODQ1NQ=="}, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM4ODUyOnYy", "diffSide": "RIGHT", "path": "udfs/community/to_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxOTowNFrOGtJHjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToxOTowNFrOGtJHjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4ODQ5Mg==", "bodyText": "Delete blank line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449988492", "createdAt": "2020-07-06T05:19:04Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_binary.sql", "diffHunk": "@@ -0,0 +1,31 @@\n+  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM5NTc5OnYy", "diffSide": "RIGHT", "path": "udfs/community/to_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyMzozN1rOGtJLxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyMzozN1rOGtJLxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4OTU3Mg==", "bodyText": "ORDER BY should be on the next line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449989572", "createdAt": "2020-07-06T05:23:37Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_binary.sql", "diffHunk": "@@ -0,0 +1,31 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_binary:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in binary form\n+CREATE OR REPLACE FUNCTION fn.to_binary(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        CAST(x >> bit & 0x1 AS STRING), \n+        '' ORDER BY bit DESC)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM5NjI4OnYy", "diffSide": "RIGHT", "path": "udfs/community/to_hex.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyMzo1NlrOGtJMEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyMzo1NlrOGtJMEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4OTY1MQ==", "bodyText": "Delete blank line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449989651", "createdAt": "2020-07-06T05:23:56Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_hex.sql", "diffHunk": "@@ -0,0 +1,33 @@\n+  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM5NjQ5OnYy", "diffSide": "RIGHT", "path": "udfs/community/to_hex.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyNDowNFrOGtJMMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwMDozNzowNVrOGwQMYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4OTY4Mw==", "bodyText": "Add trailing new line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449989683", "createdAt": "2020-07-06T05:24:04Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_hex.sql", "diffHunk": "@@ -0,0 +1,33 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_hex:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in hexadecimal form\n+CREATE OR REPLACE FUNCTION fn.to_hex(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        FORMAT(\n+          '%02x', \n+          x >> (byte * 8) & 0xff), \n+        '' ORDER BY byte DESC)\n+    FROM \n+      UNNEST(GENERATE_ARRAY(0, 7)) AS byte\n+  )\n+);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI1MDE0Ng==", "bodyText": "Where to add a trailing newline?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r453250146", "createdAt": "2020-07-12T00:37:05Z", "author": {"login": "epishova"}, "path": "udfs/community/to_hex.sql", "diffHunk": "@@ -0,0 +1,33 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_hex:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in hexadecimal form\n+CREATE OR REPLACE FUNCTION fn.to_hex(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        FORMAT(\n+          '%02x', \n+          x >> (byte * 8) & 0xff), \n+        '' ORDER BY byte DESC)\n+    FROM \n+      UNNEST(GENERATE_ARRAY(0, 7)) AS byte\n+  )\n+);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4OTY4Mw=="}, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTM5OTA2OnYy", "diffSide": "RIGHT", "path": "udfs/community/to_hex.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyNTozNlrOGtJNnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyNTozNlrOGtJNnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk5MDA0Nw==", "bodyText": "ORDER BY\u00a0should be on the next line", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449990047", "createdAt": "2020-07-06T05:25:36Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/to_hex.sql", "diffHunk": "@@ -0,0 +1,33 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- to_hex:\n+-- Input: INT64 number\n+-- Output: STRING representing the input number in hexadecimal form\n+CREATE OR REPLACE FUNCTION fn.to_hex(x INT64) AS \n+(\n+  (\n+    SELECT \n+      STRING_AGG(\n+        FORMAT(\n+          '%02x', \n+          x >> (byte * 8) & 0xff), \n+        '' ORDER BY byte DESC)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTQwNDczOnYy", "diffSide": "RIGHT", "path": "udfs/community/from_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyOTowMlrOGtJQ9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyOTowMlrOGtJQ9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk5MDkwMg==", "bodyText": "It may make sense to name the s parameter as value", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449990902", "createdAt": "2020-07-06T05:29:02Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTQwNTU0OnYy", "diffSide": "RIGHT", "path": "udfs/community/from_binary.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyOTozOVrOGtJRfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNToyOTozOVrOGtJRfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk5MTAzOQ==", "bodyText": "It may make sense to name the c variable as char", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449991039", "createdAt": "2020-07-06T05:29:39Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_binary.sql", "diffHunk": "@@ -0,0 +1,30 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_binary:\n+-- Input: STRING representing a number in binary form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_binary(s STRING) AS \n+(\n+  (\n+    SELECT \n+      SUM(\n+      \tCAST(c AS INT64) << (LENGTH(s) - 1 - bit))\n+    FROM \n+      UNNEST(SPLIT(s, '')) AS c WITH OFFSET bit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNTQwNjAxOnYy", "diffSide": "RIGHT", "path": "udfs/community/from_hex.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNTozMDowMFrOGtJRxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNTozMDowMFrOGtJRxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk5MTExMA==", "bodyText": "It may make sense to name the s parameter as value", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/82#discussion_r449991110", "createdAt": "2020-07-06T05:30:00Z", "author": {"login": "ryanmcdowell"}, "path": "udfs/community/from_hex.sql", "diffHunk": "@@ -0,0 +1,35 @@\n+  \n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- from_hex:\n+-- Input: STRING representing a number in hexadecimal form\n+-- Output: INT64 number in decimal form\n+CREATE OR REPLACE FUNCTION fn.from_hex(s STRING) AS ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be0df10231368f6752049f491ff12f087306662"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2982, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}