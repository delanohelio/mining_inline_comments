{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NjAyNDYz", "number": 150, "title": "ZetaSQL Helper: Init the project", "bodyText": "A gRPC server and client to provide ZetaSQL functions and those derived from them. It is primarily used by Auto Query Fixer.", "createdAt": "2020-08-13T19:55:52Z", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150", "merged": true, "mergeCommit": {"oid": "22663b62282ab7b8081568c144e14a1c841c9811"}, "closed": true, "closedAt": "2020-08-18T18:59:08Z", "author": {"login": "mingen-pan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-lh4ggH2gAyNDY3NjAyNDYzOjc3M2ZiMzNiMjFkMzA1MWY2MmRlMzMxNWZiMjIzMmMyNTMyZmQzOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdALwGqAH2gAyNDY3NjAyNDYzOjg2ZDM2OGFjYTU1YmY1MzIyM2RkNGM1YzdiYzNkYTljMWJlYWU1Yzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395", "author": {"user": {"login": "mingen-pan", "name": "Mingen Pan"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/773fb33b21d3051f62de3315fb2232c2532fd395", "committedDate": "2020-08-13T19:52:53Z", "message": "Init the ZetaSQL Helper Project: A C++ gRPC server to provide helper functions for query fixers."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTg0NzM5", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150#pullrequestreview-468184739", "createdAt": "2020-08-17T06:07:42Z", "commit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjowNzo0MlrOHBazHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjowNzo0MlrOHBazHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0OTY5Mg==", "bodyText": "can we run on localhost?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150#discussion_r471249692", "createdAt": "2020-08-17T06:07:42Z", "author": {"login": "kikkyo"}, "path": "tools/zetasql_helper/zetasql_helper/local_service/run_server.cc", "diffHunk": "@@ -0,0 +1,37 @@\n+#include <iostream>\n+\n+#include <grpcpp/grpcpp.h>\n+#include <grpcpp/health_check_service_interface.h>\n+#include <grpcpp/ext/proto_server_reflection_plugin.h>\n+\n+#include \"zetasql_helper/local_service/local_service_grpc.h\"\n+\n+\n+using bigquery::utils::zetasql_helper::local_service::ZetaSqlHelperLocalServiceGrpcImpl;\n+\n+\n+void RunServer(const std::string &server_address) {\n+    ZetaSqlHelperLocalServiceGrpcImpl service;\n+\n+    grpc::EnableDefaultHealthCheckService(true);\n+    grpc::reflection::InitProtoReflectionServerBuilderPlugin();\n+    grpc::ServerBuilder builder;\n+    // Listen on the given address without any authentication mechanism.\n+    builder.AddListeningPort(server_address, grpc::InsecureServerCredentials());\n+    // Register \"service\" as the instance through which we'll communicate with\n+    // clients. In this case it corresponds to an *synchronous* service.\n+    builder.RegisterService(&service);\n+    // Finally assemble the server.\n+    std::unique_ptr<grpc::Server> server(builder.BuildAndStart());\n+    std::cout << \"Server listening on \" << server_address << std::endl;\n+\n+    // Wait for the server to shutdown. Note that some other thread must be\n+    // responsible for shutting down the server for this call to ever return.\n+    server->Wait();\n+}\n+\n+\n+int main() {\n+    RunServer(\"0.0.0.0:50051\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTg1MTgy", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150#pullrequestreview-468185182", "createdAt": "2020-08-17T06:08:46Z", "commit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjowODo0N1rOHBa0lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjowODo0N1rOHBa0lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1MDA3MA==", "bodyText": "These are just dummy methods right?", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150#discussion_r471250070", "createdAt": "2020-08-17T06:08:47Z", "author": {"login": "kikkyo"}, "path": "tools/zetasql_helper/zetasql_helper/local_service/local_service_grpc.h", "diffHunk": "@@ -0,0 +1,19 @@\n+#ifndef ZETASQL_HELPER_LOCAL_SERVICE_LOCAL_SERVICE_GRPC_H_\n+#define ZETASQL_HELPER_LOCAL_SERVICE_LOCAL_SERVICE_GRPC_H_\n+\n+#include \"zetasql_helper/local_service/local_service.grpc.pb.h\"\n+#include \"zetasql_helper/local_service/local_service.pb.h\"\n+\n+namespace bigquery::utils::zetasql_helper::local_service {\n+\n+    // Implementation of ZetaSql Helper LocalService Grpc service.\n+    class ZetaSqlHelperLocalServiceGrpcImpl : public ZetaSqlHelperLocalService::Service {\n+    public:\n+\n+        grpc::Status Hello(grpc::ServerContext *context, const HelloRequest *request, HelloResponse *response) override;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTg2NzM3", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/150#pullrequestreview-468186737", "createdAt": "2020-08-17T06:12:49Z", "commit": {"oid": "773fb33b21d3051f62de3315fb2232c2532fd395"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fde0aa2dda4dde63c6647256a4e555cca1095827", "author": {"user": {"login": "mingen-pan", "name": "Mingen Pan"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/fde0aa2dda4dde63c6647256a4e555cca1095827", "committedDate": "2020-08-18T18:58:01Z", "message": "reformat in Google C++ style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86d368aca55bf53223dd4c5c7bc3da9c1beae5c9", "author": {"user": {"login": "mingen-pan", "name": "Mingen Pan"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/86d368aca55bf53223dd4c5c7bc3da9c1beae5c9", "committedDate": "2020-08-18T18:58:44Z", "message": "Merge branch 'master' into init_zetasql_helper"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 744, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}