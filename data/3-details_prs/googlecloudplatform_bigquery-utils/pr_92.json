{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3Njc4ODgx", "number": 92, "title": "SQL Extraction: Java analyzer", "bodyText": "The Java Visitor is generated by Antlr and involves lots of boilerplate code. It visits all nodes in the parsed AST in program order, and each node gets a callback where they can specify which child nodes are visited: this is either done by automatically visiting them all (visitChildren) or by calling accept(this) manually for each child node. The methods that are not overriden visit all children by default.\nThe idea is to decorate some visit callbacks with the relevant dataflow engine method. These include finding a literal, concatenating strings, managing variable scope, etc. The dataflow engine assumes the frontend is visiting nodes correctly, and it keeps string literals in reference for both variables and the current expression. The current expression is reset to null after each statement.", "createdAt": "2020-07-10T23:14:29Z", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/92", "merged": true, "mergeCommit": {"oid": "18c4a546f9e7c82962b9d50114897330afd33c11"}, "closed": true, "closedAt": "2020-07-14T17:20:22Z", "author": {"login": "creativitRy"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczr4QVgH2gAyNDQ3Njc4ODgxOjI3ZTg5YjEyMGQ5MDRmNjgzMTBkODY5MGNiZDAxNGQ5NGNkZTkxNmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc04dGogH2gAyNDQ3Njc4ODgxOmE1ZGQyYzYxMGRmOTcxYmZjMzRlN2NkMGI0YTVhNTA5NzFjN2IxMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27e89b120d904f68310d8690cbd014d94cde916b", "author": {"user": {"login": "creativitRy", "name": "Gahwon Lee"}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/27e89b120d904f68310d8690cbd014d94cde916b", "committedDate": "2020-07-10T23:03:35Z", "message": "SQL Extraction: Java analyzer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NjMzMTQ1", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/92#pullrequestreview-447633145", "createdAt": "2020-07-13T21:45:58Z", "commit": {"oid": "27e89b120d904f68310d8690cbd014d94cde916b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMTo0NTo1OVrOGw7C-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMTo0NTo1OVrOGw7C-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk1MjI1MA==", "bodyText": "Maybe this test should belong to DataFlowEngine rather than JavaFrontEnd.", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/92#discussion_r453952250", "createdAt": "2020-07-13T21:45:59Z", "author": {"login": "creativitRy"}, "path": "tools/sql_extraction/src/test/kotlin/JavaAnalysisTest.kt", "diffHunk": "@@ -0,0 +1,151 @@\n+package com.google.cloud.sqlecosystem.sqlextraction\n+\n+import com.google.cloud.sqlecosystem.sqlextraction.output.QueryUsages\n+import org.antlr.v4.runtime.CharStreams\n+import kotlin.test.Test\n+import kotlin.test.assertEquals\n+\n+class JavaAnalysisTest {\n+    @Test\n+    fun `strings without usages are not returned`() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27e89b120d904f68310d8690cbd014d94cde916b"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjU5NjEy", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/92#pullrequestreview-448259612", "createdAt": "2020-07-14T16:16:21Z", "commit": {"oid": "27e89b120d904f68310d8690cbd014d94cde916b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5dd2c610df971bfc34e7cd0b4a5a50971c7b117", "author": {"user": {"login": "feiling", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/a5dd2c610df971bfc34e7cd0b4a5a50971c7b117", "committedDate": "2020-07-14T16:16:37Z", "message": "Merge branch 'master' into master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 647, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}