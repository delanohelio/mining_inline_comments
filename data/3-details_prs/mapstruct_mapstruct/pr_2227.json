{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMDk0Nzky", "number": 2227, "title": "861 remove compiler specific workarounds", "bodyText": "Ok..have a look at whether you like this approach.. I can also bring stuff currently in filters to the new TypeUtils .. The nice thing is.. we don't have to pass Types and Elements as arguments on util methods..", "createdAt": "2020-10-11T07:30:57Z", "url": "https://github.com/mapstruct/mapstruct/pull/2227", "merged": true, "mergeCommit": {"oid": "c2e803403027f3fae92bd15b0ba50ab7df5063e6"}, "closed": true, "closedAt": "2020-10-21T18:02:29Z", "author": {"login": "sjaakd"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRbxJcABqjM4NjM1MDEzMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUxAr0gBqjM5MDUxNTMyMDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "864c6cdd8ec4a23210351ca73fbfaab11bdeda11", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/864c6cdd8ec4a23210351ca73fbfaab11bdeda11", "committedDate": "2020-10-11T07:44:57Z", "message": "861 remove compiler specific workarounds 2"}, "afterCommit": {"oid": "cde348a0e9eef54478bcffd5bd3c54636aca1355", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/cde348a0e9eef54478bcffd5bd3c54636aca1355", "committedDate": "2020-10-11T09:14:55Z", "message": "861 remove compiler specific workarounds 2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTc4OTY4", "url": "https://github.com/mapstruct/mapstruct/pull/2227#pullrequestreview-510978968", "createdAt": "2020-10-17T11:31:10Z", "commit": {"oid": "89a0437c656b1ddd94f202f2c7e48fc3230b4f6a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTgxOTAx", "url": "https://github.com/mapstruct/mapstruct/pull/2227#pullrequestreview-510981901", "createdAt": "2020-10-17T12:24:02Z", "commit": {"oid": "89a0437c656b1ddd94f202f2c7e48fc3230b4f6a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjoyNDowM1rOHjdCmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjoyNDowM1rOHjdCmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjkzODAwOA==", "bodyText": "This does not have the same logic as before. We not check if the types are regular types before delegating. Before we returned false if t1 was of TypeKind#VOID.\nThe current implementation is not forward compatible, as if there is a new TypeKind then we will always return false.\nThis comment holds for the other methods that are replaced from the SpecificCompilerWorkarounds", "url": "https://github.com/mapstruct/mapstruct/pull/2227#discussion_r506938008", "createdAt": "2020-10-17T12:24:03Z", "author": {"login": "filiphr"}, "path": "processor/src/main/java/org/mapstruct/ap/internal/util/AbstractTypeUtilsDecorator.java", "diffHunk": "@@ -52,12 +46,18 @@ public boolean isSameType(TypeMirror t1, TypeMirror t2) {\n \n     @Override\n     public boolean isSubtype(TypeMirror t1, TypeMirror t2) {\n-        return SpecificCompilerWorkarounds.isSubtype( delegate, t1, t2 );\n+        if ( isRegularType( t1 ) && isRegularType( t2 ) ) {\n+            return delegate.isSubtype( erasure( t1 ), erasure(  t2 ) );\n+        }\n+        return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89a0437c656b1ddd94f202f2c7e48fc3230b4f6a"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24e085ded196de058f08bde98a88c829611f8db1", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/24e085ded196de058f08bde98a88c829611f8db1", "committedDate": "2020-10-17T19:17:09Z", "message": "861 experiment.. moving back to isSubType.. When does it fail?"}, "afterCommit": {"oid": "4cdd90fc2524e8e432ca9e2157ae83ab449c7e9c", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/4cdd90fc2524e8e432ca9e2157ae83ab449c7e9c", "committedDate": "2020-10-17T18:17:16Z", "message": "861 making a clean solution for isSubtype, isSubtypeErased"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc6aba7d976fcb2bef70148cbaff0b8fbc7fa237", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/dc6aba7d976fcb2bef70148cbaff0b8fbc7fa237", "committedDate": "2020-10-21T17:39:49Z", "message": "861 remove compiler specif workarounds 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7af4345ae169fed2518188d2a3b5156003bba07", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/f7af4345ae169fed2518188d2a3b5156003bba07", "committedDate": "2020-10-21T17:39:49Z", "message": "861 remove compiler specific workarounds 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a20054631c1467e03b5ed5c22704cf06c9c2323d", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/a20054631c1467e03b5ed5c22704cf06c9c2323d", "committedDate": "2020-10-21T17:39:49Z", "message": "861 introduce compiler specific wrappers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f65e47b41354917bed6ffe0615acafccdef6676", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/2f65e47b41354917bed6ffe0615acafccdef6676", "committedDate": "2020-10-21T17:39:49Z", "message": "861 types and utils as extension"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5127033f2e2c4d03c0ed842ad227a0089a5671c5", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/5127033f2e2c4d03c0ed842ad227a0089a5671c5", "committedDate": "2020-10-21T17:39:49Z", "message": "861 adding methods from Executables and Fields to the new ElementUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63ab8813d066edf732f7d85531dbcf07b96692e9", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/63ab8813d066edf732f7d85531dbcf07b96692e9", "committedDate": "2020-10-21T17:39:49Z", "message": "861 removing check in isAssignable (seems not needed anymore)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d76c00c7a99c27443203847bd897379ccec16f4", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/6d76c00c7a99c27443203847bd897379ccec16f4", "committedDate": "2020-10-21T17:39:49Z", "message": "861 removing check in erasure (seems not needed anymore)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4720e64dd583cf5dd3b06b03c2078c6477518e7", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/a4720e64dd583cf5dd3b06b03c2078c6477518e7", "committedDate": "2020-10-21T17:39:49Z", "message": "861 removing check in isSubType (seems not needed anymore)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "251499217b1392f7a1429bf7a5722e6f5bbcd3c7", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/251499217b1392f7a1429bf7a5722e6f5bbcd3c7", "committedDate": "2020-10-21T17:41:37Z", "message": "861 making a clean solution for isSubtype, isSubtypeErased"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4cdd90fc2524e8e432ca9e2157ae83ab449c7e9c", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/4cdd90fc2524e8e432ca9e2157ae83ab449c7e9c", "committedDate": "2020-10-17T18:17:16Z", "message": "861 making a clean solution for isSubtype, isSubtypeErased"}, "afterCommit": {"oid": "251499217b1392f7a1429bf7a5722e6f5bbcd3c7", "author": {"user": null}, "url": "https://github.com/mapstruct/mapstruct/commit/251499217b1392f7a1429bf7a5722e6f5bbcd3c7", "committedDate": "2020-10-21T17:41:37Z", "message": "861 making a clean solution for isSubtype, isSubtypeErased"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4474, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}