{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMzQwMTEz", "number": 2103, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxODo1MzoxNlrOELZpXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxODo1MzoxNlrOELZpXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMzg5OTgzOnYy", "diffSide": "RIGHT", "path": "processor/src/main/java/org/mapstruct/ap/internal/model/source/MappingMethodOptions.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxODo1MzoxNlrOGs9a0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxOToxMDozN1rOGs9fOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc5NjgxOA==", "bodyText": "Streams are all OK, but we are going twice through the same mappings.\nWhy not defined the sets, then use a for-loop to iterate the mappings and add to the sets?", "url": "https://github.com/mapstruct/mapstruct/pull/2103#discussion_r449796818", "createdAt": "2020-07-04T18:53:16Z", "author": {"login": "filiphr"}, "path": "processor/src/main/java/org/mapstruct/ap/internal/model/source/MappingMethodOptions.java", "diffHunk": "@@ -177,13 +177,54 @@ public void applyInheritedOptions(SourceMethod templateMethod, boolean isInverse\n             }\n \n             // now add all (does not override duplicates and leaves original mappings)\n-            mappings.addAll( newMappings );\n+            addAllNonRedefined( newMappings );\n \n             // filter new mappings\n             filterNestedTargetIgnores( mappings );\n         }\n     }\n \n+    private void addAllNonRedefined(Set<MappingOptions> inheritedMappings) {\n+        Set<String> redefinedSources = mappings.stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4470711036ba00a9b80ff7244608bf3fb9b601fd"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc5NzM0Nw==", "bodyText": "will correct.. I'm all into this streams nowadays.. \ud83d\ude04", "url": "https://github.com/mapstruct/mapstruct/pull/2103#discussion_r449797347", "createdAt": "2020-07-04T19:01:15Z", "author": {"login": "sjaakd"}, "path": "processor/src/main/java/org/mapstruct/ap/internal/model/source/MappingMethodOptions.java", "diffHunk": "@@ -177,13 +177,54 @@ public void applyInheritedOptions(SourceMethod templateMethod, boolean isInverse\n             }\n \n             // now add all (does not override duplicates and leaves original mappings)\n-            mappings.addAll( newMappings );\n+            addAllNonRedefined( newMappings );\n \n             // filter new mappings\n             filterNestedTargetIgnores( mappings );\n         }\n     }\n \n+    private void addAllNonRedefined(Set<MappingOptions> inheritedMappings) {\n+        Set<String> redefinedSources = mappings.stream()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc5NjgxOA=="}, "originalCommit": {"oid": "4470711036ba00a9b80ff7244608bf3fb9b601fd"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc5Nzk0Ng==", "bodyText": "I love streams as well. However, good old imperative style is better sometimes. Lately I am all into performance \ud83d\ude00", "url": "https://github.com/mapstruct/mapstruct/pull/2103#discussion_r449797946", "createdAt": "2020-07-04T19:10:37Z", "author": {"login": "filiphr"}, "path": "processor/src/main/java/org/mapstruct/ap/internal/model/source/MappingMethodOptions.java", "diffHunk": "@@ -177,13 +177,54 @@ public void applyInheritedOptions(SourceMethod templateMethod, boolean isInverse\n             }\n \n             // now add all (does not override duplicates and leaves original mappings)\n-            mappings.addAll( newMappings );\n+            addAllNonRedefined( newMappings );\n \n             // filter new mappings\n             filterNestedTargetIgnores( mappings );\n         }\n     }\n \n+    private void addAllNonRedefined(Set<MappingOptions> inheritedMappings) {\n+        Set<String> redefinedSources = mappings.stream()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc5NjgxOA=="}, "originalCommit": {"oid": "4470711036ba00a9b80ff7244608bf3fb9b601fd"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4219, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}