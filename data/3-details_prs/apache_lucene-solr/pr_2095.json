{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTMyMTA4", "number": 2095, "title": "LUCENE-9618: Do not call IntervalIterator.nextInterval after NO_MORE_DOCS returned", "bodyText": "Description\n\nIn ConjunctionIntervalIterator check whether approximation's returned docId is NO_MORE_DOCS to avoid nextInterval() call after NO_MORE_DOCS is returned\nAdd a test case to verify the problem is addressed\n\nChecklist\nPlease review the following and check all that apply:\n\n I have reviewed the guidelines for How to Contribute and my code conforms to the standards described there to the best of my ability.\n I have created a Jira issue and added the issue ID to my pull request title.\n I have given Solr maintainers access to contribute to my PR branch. (optional but recommended)\n I have developed this patch against the master branch.\n I have run ./gradlew check.\n I have added tests for my changes.\n I have added documentation for the Ref Guide (for Solr changes only).", "createdAt": "2020-11-23T18:58:09Z", "url": "https://github.com/apache/lucene-solr/pull/2095", "merged": true, "mergeCommit": {"oid": "f24b497c72440bdc5cdaf30f4351f2d5015ece3c"}, "closed": true, "closedAt": "2020-12-03T15:17:31Z", "author": {"login": "zhaih"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfEx9ygH2gAyNTI1OTMyMTA4OmM4ZWQ4YTZlNWFlNjllZGY4M2YyODllOTlmMWMyNDEwMzVmY2NkMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiDxK8gBqjQwNTk4OTY1NzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c8ed8a6e5ae69edf83f289e99f1c241035fccd08", "author": {"user": {"login": "zhaih", "name": "Patrick Zhai"}}, "url": "https://github.com/apache/lucene-solr/commit/c8ed8a6e5ae69edf83f289e99f1c241035fccd08", "committedDate": "2020-11-22T18:23:05Z", "message": "LUCENE-9618: Do not call IntervalIterator.nextInterval after\nNO_MORE_DOCS is returned"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NzYzMTY3", "url": "https://github.com/apache/lucene-solr/pull/2095#pullrequestreview-536763167", "createdAt": "2020-11-23T19:01:33Z", "commit": {"oid": "c8ed8a6e5ae69edf83f289e99f1c241035fccd08"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTowMTozM1rOH4bUBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTowMjoxM1rOH4bVjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkyOTc5Ng==", "bodyText": "Hmm maybe be more specific than other methods?  E.g. maybe say returned by the query scorer's nextDoc() method?", "url": "https://github.com/apache/lucene-solr/pull/2095#discussion_r528929796", "createdAt": "2020-11-23T19:01:33Z", "author": {"login": "mikemccand"}, "path": "lucene/queries/src/java/org/apache/lucene/queries/intervals/IntervalIterator.java", "diffHunk": "@@ -82,6 +82,11 @@ public int width() {\n   /**\n    * Advance the iterator to the next interval\n    *\n+   * Should not be called after {@link DocIdSetIterator#NO_MORE_DOCS} is returned by other methods", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8ed8a6e5ae69edf83f289e99f1c241035fccd08"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkzMDA2OQ==", "bodyText": "This is a new sentence -- maybe add . at end of previous one and capitlize If?", "url": "https://github.com/apache/lucene-solr/pull/2095#discussion_r528930069", "createdAt": "2020-11-23T19:02:02Z", "author": {"login": "mikemccand"}, "path": "lucene/queries/src/java/org/apache/lucene/queries/intervals/IntervalIterator.java", "diffHunk": "@@ -82,6 +82,11 @@ public int width() {\n   /**\n    * Advance the iterator to the next interval\n    *\n+   * Should not be called after {@link DocIdSetIterator#NO_MORE_DOCS} is returned by other methods\n+   * if that's the case in some existing code, please consider opening an issue", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8ed8a6e5ae69edf83f289e99f1c241035fccd08"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkzMDE5MQ==", "bodyText": "Period at end of this sentence?", "url": "https://github.com/apache/lucene-solr/pull/2095#discussion_r528930191", "createdAt": "2020-11-23T19:02:13Z", "author": {"login": "mikemccand"}, "path": "lucene/queries/src/java/org/apache/lucene/queries/intervals/IntervalIterator.java", "diffHunk": "@@ -82,6 +82,11 @@ public int width() {\n   /**\n    * Advance the iterator to the next interval\n    *\n+   * Should not be called after {@link DocIdSetIterator#NO_MORE_DOCS} is returned by other methods\n+   * if that's the case in some existing code, please consider opening an issue\n+   * However, after {@link IntervalIterator#NO_MORE_INTERVALS} is returned by this method, it might be\n+   * called again", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8ed8a6e5ae69edf83f289e99f1c241035fccd08"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b45f23f760a80da6bd27a3ffef419686390d2e7", "author": {"user": {"login": "zhaih", "name": "Patrick Zhai"}}, "url": "https://github.com/apache/lucene-solr/commit/6b45f23f760a80da6bd27a3ffef419686390d2e7", "committedDate": "2020-11-25T18:17:54Z", "message": "Refine javadoc wording"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDkwMDUw", "url": "https://github.com/apache/lucene-solr/pull/2095#pullrequestreview-540490050", "createdAt": "2020-11-29T15:26:53Z", "commit": {"oid": "44e0def27913b4c5c86d40b62289fcfc2b94f7eb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQxNToyNjo1NFrOH7kcSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQxNToyNjo1NFrOH7kcSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjIyNTA5OA==", "bodyText": "You can add your name to the end of this CHANGES entry (in parens)?", "url": "https://github.com/apache/lucene-solr/pull/2095#discussion_r532225098", "createdAt": "2020-11-29T15:26:54Z", "author": {"login": "mikemccand"}, "path": "lucene/CHANGES.txt", "diffHunk": "@@ -84,6 +84,8 @@ API Changes\n \n Improvements\n \n+* LUCENE-9618: Do not call IntervalIterator.nextInterval after NO_MORE_DOCS is returned", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44e0def27913b4c5c86d40b62289fcfc2b94f7eb"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a6607f2e6a97904cef92ea1de58ae3302ea7ed9", "author": {"user": {"login": "zhaih", "name": "Patrick Zhai"}}, "url": "https://github.com/apache/lucene-solr/commit/3a6607f2e6a97904cef92ea1de58ae3302ea7ed9", "committedDate": "2020-12-02T00:52:46Z", "message": "Edit CHANGE.txt entry"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "44e0def27913b4c5c86d40b62289fcfc2b94f7eb", "author": {"user": null}, "url": "https://github.com/apache/lucene-solr/commit/44e0def27913b4c5c86d40b62289fcfc2b94f7eb", "committedDate": "2020-11-23T22:19:37Z", "message": "Refine javadoc wording"}, "afterCommit": {"oid": "3a6607f2e6a97904cef92ea1de58ae3302ea7ed9", "author": {"user": {"login": "zhaih", "name": "Patrick Zhai"}}, "url": "https://github.com/apache/lucene-solr/commit/3a6607f2e6a97904cef92ea1de58ae3302ea7ed9", "committedDate": "2020-12-02T00:52:46Z", "message": "Edit CHANGE.txt entry"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2622, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}