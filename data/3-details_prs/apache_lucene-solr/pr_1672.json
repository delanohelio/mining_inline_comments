{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5NTg1NDEy", "number": 1672, "title": "SOLR-14651: Metrics History could disable better", "bodyText": "SolrRrdBackendFactory should not be created if history is disabled\nDisable MetricsHistoryHandler by default in tests\nAwait shutdown of all executors\n\nInterestingly, all tests passed with the history handler disabled.  Isn't that a problem @sigram ?\nSomewhat related: I'm also inclined to make a little refactor in CoreContainer.shutdown such that IOUtils.closeQuietly(metricsHistoryHandler.getSolrClient()); can move into metricsHistoryHandler.close()", "createdAt": "2020-07-15T16:12:07Z", "url": "https://github.com/apache/lucene-solr/pull/1672", "merged": true, "mergeCommit": {"oid": "a3624029ad262489b091d9a474430359f782d307"}, "closed": true, "closedAt": "2020-07-28T20:46:28Z", "author": {"login": "dsmiley"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1M2sQAH2gAyNDQ5NTg1NDEyOjBkNmJiNTdiNDdmNDQ0NWM4NDNlODc5NDhkOWU1ZjVmNzMxMjE5ZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5cp5OAH2gAyNDQ5NTg1NDEyOjhmYmM4MjUxZjU4Mjk1M2QyNjM1YjE5MWI3YzM0ODgwMDg5MWU4OTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0d6bb57b47f4445c843e87948d9e5f5f731219d7", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/0d6bb57b47f4445c843e87948d9e5f5f731219d7", "committedDate": "2020-07-15T16:02:40Z", "message": "SOLR-14651: Metrics History could disable better\n* SolrRrdBackendFactory should not be created if history is disabled\n* Disable MetricsHistoryHandler by default in tests\n* Await shutdown of all executors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NzY0ODgy", "url": "https://github.com/apache/lucene-solr/pull/1672#pullrequestreview-456764882", "createdAt": "2020-07-28T15:42:21Z", "commit": {"oid": "0d6bb57b47f4445c843e87948d9e5f5f731219d7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0MjoyMVrOG4S2GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0MjoyMVrOG4S2GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MjIwMA==", "bodyText": "missing space after if", "url": "https://github.com/apache/lucene-solr/pull/1672#discussion_r461682200", "createdAt": "2020-07-28T15:42:21Z", "author": {"login": "sigram"}, "path": "solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java", "diffHunk": "@@ -77,6 +77,12 @@ public static void shutdownAndAwaitTermination(ExecutorService pool) {\n     awaitTermination(pool);\n   }\n \n+  public static void shutdownNowAndAwaitTermination(ExecutorService pool) {\n+    if(pool == null) return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d6bb57b47f4445c843e87948d9e5f5f731219d7"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19aaf2e5e7e7e750d9ad9382c8ec3d0bbcd85507", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/19aaf2e5e7e7e750d9ad9382c8ec3d0bbcd85507", "committedDate": "2020-07-28T20:42:05Z", "message": "CHANGES.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fbc8251f582953d2635b191b7c348800891e890", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/8fbc8251f582953d2635b191b7c348800891e890", "committedDate": "2020-07-28T20:42:52Z", "message": "Merge branch 'master' into solr-14651\n\n# Conflicts:\n#\tsolr/CHANGES.txt"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2465, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}