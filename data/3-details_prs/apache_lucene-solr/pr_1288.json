{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5ODY3MTU0", "number": 1288, "title": "SOLR-14281: Make sharedLib configurable through SysProp", "bodyText": "...and allow multiple comma separated paths\nSee https://issues.apache.org/jira/browse/SOLR-14281", "createdAt": "2020-02-25T23:15:19Z", "url": "https://github.com/apache/lucene-solr/pull/1288", "merged": true, "mergeCommit": {"oid": "62f5bd50cdd5ce8dd47267d39c02a0595f944064"}, "closed": true, "closedAt": "2020-02-27T13:16:34Z", "author": {"login": "janhoy"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH6gK1gH2gAyMzc5ODY3MTU0OjE2NDE2ZGEzZjQ1MDg1YzZiNDBmODczYmE1NTYzZDcwOWE5NzU0MWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIa8KHgH2gAyMzc5ODY3MTU0OjU1OTg2MWZkOWI3Y2FkNzI5OWMzMDljY2Y2YjVkOTZlNDg1YTQ4MDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "16416da3f45085c6b40f873ba5563d709a97541a", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/16416da3f45085c6b40f873ba5563d709a97541a", "committedDate": "2020-02-25T23:13:11Z", "message": "SOLR-14281: Make sharedLib configurable through SysProp and allow multiple comma separated paths"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c88ba714437620e80267c8bfa5449fcca4f1ff13", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/c88ba714437620e80267c8bfa5449fcca4f1ff13", "committedDate": "2020-02-26T00:33:56Z", "message": "Various fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0OTA1MzAx", "url": "https://github.com/apache/lucene-solr/pull/1288#pullrequestreview-364905301", "createdAt": "2020-02-26T13:42:14Z", "commit": {"oid": "c88ba714437620e80267c8bfa5449fcca4f1ff13"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMzo0MjoxNFrOFur58g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMzo0NDozN1rOFur_Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ5ODE2Mg==", "bodyText": "SysProp should by \"sys-prop\" or system property.  The way you capitalized it makes it seem like some class.", "url": "https://github.com/apache/lucene-solr/pull/1288#discussion_r384498162", "createdAt": "2020-02-26T13:42:14Z", "author": {"login": "dsmiley"}, "path": "solr/CHANGES.txt", "diffHunk": "@@ -110,6 +110,9 @@ Improvements\n \n * SOLR-14114: Add WARN to Solr log that embedded ZK is not supported in production (janhoy)\n \n+* SOLR-14281: Make sharedLib configurable through SysProp and allow multiple comma separated paths.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88ba714437620e80267c8bfa5449fcca4f1ff13"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ5OTEyNA==", "bodyText": "I'm almost certain we've got a utility that does this so that you don't have to define your regexp", "url": "https://github.com/apache/lucene-solr/pull/1288#discussion_r384499124", "createdAt": "2020-02-26T13:43:55Z", "author": {"login": "dsmiley"}, "path": "solr/core/src/java/org/apache/solr/core/CoreContainer.java", "diffHunk": "@@ -607,19 +609,31 @@ public PackageStoreAPI getPackageStoreAPI() {\n   public void load() {\n     log.debug(\"Loading cores into CoreContainer [instanceDir={}]\", loader.getInstancePath());\n \n+    // Always add $SOLR_HOME/lib to the shared resource loader\n+    Set<String> libDirs = new HashSet<>();\n+    libDirs.add(\"lib\");\n+\n+    if (!StringUtils.isBlank(cfg.getSharedLibDirectory())) {\n+      List<String> sharedLibs = Arrays.asList(cfg.getSharedLibDirectory().split(\"\\\\s*,\\\\s*\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88ba714437620e80267c8bfa5449fcca4f1ff13"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ5OTUwNg==", "bodyText": "Use LinkedHashSet", "url": "https://github.com/apache/lucene-solr/pull/1288#discussion_r384499506", "createdAt": "2020-02-26T13:44:37Z", "author": {"login": "dsmiley"}, "path": "solr/core/src/java/org/apache/solr/core/CoreContainer.java", "diffHunk": "@@ -607,19 +609,31 @@ public PackageStoreAPI getPackageStoreAPI() {\n   public void load() {\n     log.debug(\"Loading cores into CoreContainer [instanceDir={}]\", loader.getInstancePath());\n \n+    // Always add $SOLR_HOME/lib to the shared resource loader\n+    Set<String> libDirs = new HashSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88ba714437620e80267c8bfa5449fcca4f1ff13"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125c9048da912194f295f13b0f8ae188f4834a95", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/125c9048da912194f295f13b0f8ae188f4834a95", "committedDate": "2020-02-26T22:27:57Z", "message": "Address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3787e143a09f11c55b85ab785aac219aac246a2f", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/3787e143a09f11c55b85ab785aac219aac246a2f", "committedDate": "2020-02-27T07:54:41Z", "message": "Fix precommit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb849d6d310fb59db6488a2e9dda3670897adcd4", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/fb849d6d310fb59db6488a2e9dda3670897adcd4", "committedDate": "2020-02-27T08:47:24Z", "message": "Merge branch 'master' into SOLR-14281-sharedLib\n\n# Conflicts:\n#\tsolr/CHANGES.txt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NjU0NDE1", "url": "https://github.com/apache/lucene-solr/pull/1288#pullrequestreview-365654415", "createdAt": "2020-02-27T12:51:52Z", "commit": {"oid": "fb849d6d310fb59db6488a2e9dda3670897adcd4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "559861fd9b7cad7299c309ccf6b5d96e485a4808", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/559861fd9b7cad7299c309ccf6b5d96e485a4808", "committedDate": "2020-02-27T13:00:43Z", "message": "Merge branch 'master' into SOLR-14281-sharedLib"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2148, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}