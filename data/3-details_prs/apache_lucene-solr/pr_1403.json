{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NDM1NTM3", "number": 1403, "title": "SOLR-9679: Exception when removing zk node /security.json", "bodyText": "See https://issues.apache.org/jira/browse/SOLR-9679", "createdAt": "2020-04-04T00:10:01Z", "url": "https://github.com/apache/lucene-solr/pull/1403", "merged": true, "mergeCommit": {"oid": "f404a38fa6d508b9dad78ce7d38e2a9cd6bf2ed1"}, "closed": true, "closedAt": "2020-06-07T23:11:57Z", "author": {"login": "janhoy"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUKEoygH2gAyMzk4NDM1NTM3OmM5Y2VmZjAwZWEwMTg4MWZmY2YzNTM2MTYwMjlkMDZiNTA3OGY2N2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpD2vYgH2gAyMzk4NDM1NTM3OjYwODBhOTNkOWNkYjQ2MjdlMWQyZGMzMDI5YzNmODk5YjQ3ZTYxOWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c9ceff00ea01881ffcf353616029d06b5078f67a", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/c9ceff00ea01881ffcf353616029d06b5078f67a", "committedDate": "2020-04-04T00:08:41Z", "message": "SOLR-9679: Exception when removing zk node /security.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c4cbf8e53b2e71ef40ca3030638fe5f17843718", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/9c4cbf8e53b2e71ef40ca3030638fe5f17843718", "committedDate": "2020-04-04T00:35:14Z", "message": "Much smaller footprint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c5d349cd2671f1dd5533ffaa42b76c0c583fedf", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/4c5d349cd2671f1dd5533ffaa42b76c0c583fedf", "committedDate": "2020-04-04T00:43:47Z", "message": "Precommit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzA2NTUz", "url": "https://github.com/apache/lucene-solr/pull/1403#pullrequestreview-397706553", "createdAt": "2020-04-21T21:59:24Z", "commit": {"oid": "4c5d349cd2671f1dd5533ffaa42b76c0c583fedf"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f58207a6e978bd9bc5d61810d7b50ccf3a8fe16", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/5f58207a6e978bd9bc5d61810d7b50ccf3a8fe16", "committedDate": "2020-05-18T11:32:40Z", "message": "Merge branch 'master' into solr9679-remove-securityjson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd9c441729b44fa425825efbb5bef442a80e7091", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/dd9c441729b44fa425825efbb5bef442a80e7091", "committedDate": "2020-05-18T12:30:20Z", "message": "Adding a test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08", "committedDate": "2020-05-18T12:44:49Z", "message": "Add tearDown for tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNTU4NDk0", "url": "https://github.com/apache/lucene-solr/pull/1403#pullrequestreview-413558494", "createdAt": "2020-05-18T12:46:32Z", "commit": {"oid": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMjo0NjozMlrOGW1g_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMjo0Nzo1M1rOGW1kew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU5ODY1Mw==", "bodyText": "I removed this part of initialization - don't see why we should tear down and recreate cluster every time?", "url": "https://github.com/apache/lucene-solr/pull/1403#discussion_r426598653", "createdAt": "2020-05-18T12:46:32Z", "author": {"login": "janhoy"}, "path": "solr/core/src/test/org/apache/solr/security/BasicAuthOnSingleNodeTest.java", "diffHunk": "@@ -45,13 +45,13 @@ public void setupCluster() throws Exception {\n         .setBasicAuthCredentials(\"solr\", \"solr\")\n         .process(cluster.getSolrClient());\n     cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  }\n \n-    JettySolrRunner jetty = cluster.getJettySolrRunner(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU5OTU0Nw==", "bodyText": "With just one test in this class, resource cleanup happened automatically at the end I guess, but with two methods, we need to shutdown cluster in tearDown...", "url": "https://github.com/apache/lucene-solr/pull/1403#discussion_r426599547", "createdAt": "2020-05-18T12:47:53Z", "author": {"login": "janhoy"}, "path": "solr/core/src/test/org/apache/solr/security/BasicAuthOnSingleNodeTest.java", "diffHunk": "@@ -45,13 +45,13 @@ public void setupCluster() throws Exception {\n         .setBasicAuthCredentials(\"solr\", \"solr\")\n         .process(cluster.getSolrClient());\n     cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  }\n \n-    JettySolrRunner jetty = cluster.getJettySolrRunner(0);\n-    jetty.stop();\n-    cluster.waitForJettyToStop(jetty);\n-    jetty.start();\n-    cluster.waitForAllNodes(30);\n-    cluster.waitForActiveCollection(COLLECTION, 4, 4);\n+  @Override\n+  @After\n+  public void tearDown() throws Exception {\n+    cluster.shutdown();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b9c461e1b11d3304e5c2f9f218a5d944fd6cf08"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4736f1d50bd919b6bbeff393e0fc14c422ea8da", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/c4736f1d50bd919b6bbeff393e0fc14c422ea8da", "committedDate": "2020-06-02T13:25:03Z", "message": "Merge branch 'master' into solr9679-remove-securityjson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe8cb944afe8e3244c03e3e2fd2d7de188eaad80", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/fe8cb944afe8e3244c03e3e2fd2d7de188eaad80", "committedDate": "2020-06-02T13:53:59Z", "message": "Merge branch 'master' into solr9679-remove-securityjson\n\n# Conflicts:\n#\tsolr/CHANGES.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9351c04d58509c61ca3e71a7c4d3a1a0b06207ca", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/9351c04d58509c61ca3e71a7c4d3a1a0b06207ca", "committedDate": "2020-06-02T13:54:57Z", "message": "Merge remote-tracking branch 'origin/solr9679-remove-securityjson' into solr9679-remove-securityjson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9219624061ee5b3ce973c72dfe2276a5894bc8ee", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/9219624061ee5b3ce973c72dfe2276a5894bc8ee", "committedDate": "2020-06-06T00:33:02Z", "message": "Merge branch 'master' into solr9679-remove-securityjson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27dabf64e717659ec0267c7033824a210a5dce03", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/27dabf64e717659ec0267c7033824a210a5dce03", "committedDate": "2020-06-07T22:41:14Z", "message": "Merge branch 'master' into solr9679-remove-securityjson"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14534456443a04af23ea670ececf1c57f86782a3", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/14534456443a04af23ea670ececf1c57f86782a3", "committedDate": "2020-06-07T22:42:44Z", "message": "Add empty line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6080a93d9cdb4627e1d2dc3029c3f899b47e619d", "author": {"user": {"login": "janhoy", "name": "Jan H\u00f8ydahl"}}, "url": "https://github.com/apache/lucene-solr/commit/6080a93d9cdb4627e1d2dc3029c3f899b47e619d", "committedDate": "2020-06-07T22:46:29Z", "message": "Remove line"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2083, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}