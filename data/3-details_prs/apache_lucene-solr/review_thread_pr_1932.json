{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MjE1MjIy", "number": 1932, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNDoyNFrOEpJ7bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjowNjowN1rOEpOJ2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNTg5NzQwOnYy", "diffSide": "RIGHT", "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNDoyNFrOHaqY5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNDoyNFrOHaqY5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcxOTUyNQ==", "bodyText": "Why not use the key-pair that's already on disk? See https://github.com/apache/lucene-solr/blob/master/solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4.java#L289-L290", "url": "https://github.com/apache/lucene-solr/pull/1932#discussion_r497719525", "createdAt": "2020-09-30T18:34:24Z", "author": {"login": "madrob"}, "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "diffHunk": "@@ -124,6 +126,17 @@\n \n   protected volatile static PerThreadExecService testExecutor;\n \n+  private static final CryptoKeys.RSAKeyPair reusedKeys = new CryptoKeys.RSAKeyPair();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a94f02d46caaa50d1da50199cf5ac123be94b815"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjU4NDI4OnYy", "diffSide": "RIGHT", "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjowNDowMlrOHaw8xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjowNDowMlrOHaw8xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgyNzAxMg==", "bodyText": "Looks like I had this reversed. We should likely enable reuse below in the non Nightly run and disable for the closer to prod Nightly run.", "url": "https://github.com/apache/lucene-solr/pull/1932#discussion_r497827012", "createdAt": "2020-09-30T22:04:02Z", "author": {"login": "markrmiller"}, "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "diffHunk": "@@ -225,7 +238,7 @@ public static void setDefaultConfigDirSysPropIfNotSet() throws Exception {\n     System.setProperty(\"solr.clustering.enabled\", \"false\");\n     System.setProperty(\"solr.peerSync.useRangeVersions\", String.valueOf(random().nextBoolean()));\n     System.setProperty(\"zookeeper.nio.directBufferBytes\", Integer.toString(32 * 1024 * 2));\n-    System.setProperty(\"solr.disablePublicKeyHandler\", \"true\");\n+    enableReuseOfCryptoKeys();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a94f02d46caaa50d1da50199cf5ac123be94b815"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjU4OTcxOnYy", "diffSide": "RIGHT", "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjowNjowN1rOHaxAFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMjowNjowN1rOHaxAFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgyNzg2MQ==", "bodyText": "Let's enable reuse here instead.", "url": "https://github.com/apache/lucene-solr/pull/1932#discussion_r497827861", "createdAt": "2020-09-30T22:06:07Z", "author": {"login": "markrmiller"}, "path": "solr/test-framework/src/java/org/apache/solr/SolrTestCase.java", "diffHunk": "@@ -225,7 +238,7 @@ public static void setDefaultConfigDirSysPropIfNotSet() throws Exception {\n     System.setProperty(\"solr.clustering.enabled\", \"false\");\n     System.setProperty(\"solr.peerSync.useRangeVersions\", String.valueOf(random().nextBoolean()));\n     System.setProperty(\"zookeeper.nio.directBufferBytes\", Integer.toString(32 * 1024 * 2));\n-    System.setProperty(\"solr.disablePublicKeyHandler\", \"true\");\n+    enableReuseOfCryptoKeys();\n \n     if (!TEST_NIGHTLY) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a94f02d46caaa50d1da50199cf5ac123be94b815"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1109, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}