{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwOTkyMDAw", "number": 1296, "title": "LUCENE-9253: Support custom dictionaries in KoreanTokenizer", "bodyText": "KoreanTokenizer does not support custom dictionaries(system, unknown) now, even though Nori provides DictionaryBuilder that creates custom dictionary.\nIn the current state, it is very difficult for Nori users to use a custom dictionary.\nTherefore, we need to open a new constructor that uses it.\nJIRA : https://issues.apache.org/jira/browse/LUCENE-9253", "createdAt": "2020-02-27T17:59:02Z", "url": "https://github.com/apache/lucene-solr/pull/1296", "merged": true, "mergeCommit": {"oid": "b2dbd18f96e05478146a838108d096df7348d1b4"}, "closed": true, "closedAt": "2020-03-02T17:11:45Z", "author": {"login": "danmuzi"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIe3XRAH2gAyMzgwOTkyMDAwOmJkMTk0Mjc4YzJiNjY4OTY4MjcxOTJjMmY2ZTFjNzQ5MmI3NzdiYWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJdH6AgH2gAyMzgwOTkyMDAwOjY1ZDliZDYxZmVkZDg0N2JiNmJjOGQwNDg0ODQzNjc2YTU1ODM2ZGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bd194278c2b66896827192c2f6e1c7492b777baf", "author": {"user": {"login": "danmuzi", "name": "Namgyu Kim"}}, "url": "https://github.com/apache/lucene-solr/commit/bd194278c2b66896827192c2f6e1c7492b777baf", "committedDate": "2020-02-27T17:35:06Z", "message": "support custom system dictionary and unknown dictionary in KoreanTokenizer\n\nSigned-off-by: Namgyu Kim <namgyu@apache.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5e44e95175dbf027915e162925057bbcc14200b", "author": {"user": {"login": "danmuzi", "name": "Namgyu Kim"}}, "url": "https://github.com/apache/lucene-solr/commit/d5e44e95175dbf027915e162925057bbcc14200b", "committedDate": "2020-02-27T18:12:35Z", "message": "fix wrong tag in javadoc\n\nSigned-off-by: Namgyu Kim <kng0828@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODU4ODM0", "url": "https://github.com/apache/lucene-solr/pull/1296#pullrequestreview-366858834", "createdAt": "2020-03-01T13:21:06Z", "commit": {"oid": "d5e44e95175dbf027915e162925057bbcc14200b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzoyMTowNlrOFwOJeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzoyNDozMVrOFwOKeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwNzc2OQ==", "bodyText": "Don't capitalize \"If\"", "url": "https://github.com/apache/lucene-solr/pull/1296#discussion_r386107769", "createdAt": "2020-03-01T13:21:06Z", "author": {"login": "msokolov"}, "path": "lucene/analysis/nori/src/java/org/apache/lucene/analysis/ko/KoreanTokenizer.java", "diffHunk": "@@ -185,16 +185,43 @@ public KoreanTokenizer(AttributeFactory factory, UserDictionary userDictionary,\n    * @param discardPunctuation true if punctuation tokens should be dropped from the output.\n    */\n   public KoreanTokenizer(AttributeFactory factory, UserDictionary userDictionary, DecompoundMode mode, boolean outputUnknownUnigrams, boolean discardPunctuation) {\n+    this(factory,\n+        TokenInfoDictionary.getInstance(),\n+        UnknownDictionary.getInstance(),\n+        ConnectionCosts.getInstance(),\n+        userDictionary, mode, outputUnknownUnigrams, discardPunctuation);\n+  }\n+\n+  /**\n+   * <p>Create a new KoreanTokenizer supplying a custom system dictionary and unknown dictionary.\n+   * This constructor provides an entry point for users that want to construct custom language models\n+   * that can be used as input to {@link org.apache.lucene.analysis.ko.util.DictionaryBuilder}.</p>\n+   *\n+   * @param factory the AttributeFactory to use\n+   * @param systemDictionary a custom known token dictionary\n+   * @param unkDictionary a custom unknown token dictionary\n+   * @param connectionCosts custom token transition costs\n+   * @param userDictionary Optional: if non-null, user dictionary.\n+   * @param mode Decompound mode.\n+   * @param outputUnknownUnigrams If true outputs unigrams for unknown words.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5e44e95175dbf027915e162925057bbcc14200b"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwODAyNA==", "bodyText": "so .. this basically follows the pattern from JapaneseTokenizer, I think. .. but somehow I don't see where we defined ResourceScheme? We're not referencing the one in kuromoji, right?", "url": "https://github.com/apache/lucene-solr/pull/1296#discussion_r386108024", "createdAt": "2020-03-01T13:24:31Z", "author": {"login": "msokolov"}, "path": "lucene/analysis/nori/src/java/org/apache/lucene/analysis/ko/dict/BinaryDictionary.java", "diffHunk": "@@ -150,7 +150,18 @@ protected final InputStream getResource(String suffix) throws IOException {\n         throw new IllegalStateException(\"unknown resource scheme \" + resourceScheme);\n     }\n   }\n-  \n+\n+  public static InputStream getResource(ResourceScheme scheme, String path) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5e44e95175dbf027915e162925057bbcc14200b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a43cc22d5a0da63ac6ab04fc9c26f582ce954e6", "author": {"user": {"login": "danmuzi", "name": "Namgyu Kim"}}, "url": "https://github.com/apache/lucene-solr/commit/2a43cc22d5a0da63ac6ab04fc9c26f582ce954e6", "committedDate": "2020-03-01T16:51:09Z", "message": "remove some capital letters in Javadoc\n\nSigned-off-by: Namgyu Kim <namgyu@apache.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c36616f8567ac393c3f99226febe6995cae066ba", "author": {"user": {"login": "danmuzi", "name": "Namgyu Kim"}}, "url": "https://github.com/apache/lucene-solr/commit/c36616f8567ac393c3f99226febe6995cae066ba", "committedDate": "2020-03-01T17:02:54Z", "message": "add a change log to CHANGES.txt\n\nSigned-off-by: Namgyu Kim <namgyu@apache.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65d9bd61fedd847bb6bc8d0484843676a55836df", "author": {"user": {"login": "danmuzi", "name": "Namgyu Kim"}}, "url": "https://github.com/apache/lucene-solr/commit/65d9bd61fedd847bb6bc8d0484843676a55836df", "committedDate": "2020-03-01T18:07:17Z", "message": "resovle a conflict in CHANGES.txt"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2158, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}