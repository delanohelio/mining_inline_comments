{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NjUzNDU3", "number": 1929, "title": "LUCENE-9548: Apache repository publishing", "bodyText": "", "createdAt": "2020-09-29T08:23:41Z", "url": "https://github.com/apache/lucene-solr/pull/1929", "merged": true, "mergeCommit": {"oid": "d9a410920af66bc288d36bd4213966aadcfe50fc"}, "closed": true, "closedAt": "2020-10-04T17:18:30Z", "author": {"login": "dweiss"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNjPQ4AH2gAyNDk0NjUzNDU3OjUzYTliOGVmNzUwNjMyYThkMDQ2ZjkwOTAyZWZmZTZmOGU4ODBhMGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPSTvQgH2gAyNDk0NjUzNDU3OmZiZTQxNGRlYTkxZGI4NzY3MTY2ZDRlMjM2YmZkYWU4M2VhODFlZDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53a9b8ef750632a8d046f90902effe6f8e880a0f", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/53a9b8ef750632a8d046f90902effe6f8e880a0f", "committedDate": "2020-09-29T07:41:36Z", "message": "LUCENE-9546: Configure Nori and Kuromoji generation lazily when java plugin is applied to the projects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "babe261d2a4aa0cb00931aab23769f4d84c7d1ca", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/babe261d2a4aa0cb00931aab23769f4d84c7d1ca", "committedDate": "2020-09-29T07:41:53Z", "message": "Remove unused imports."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83ccd7151836fb1e4a82b56e87263f1e5db182ab", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/83ccd7151836fb1e4a82b56e87263f1e5db182ab", "committedDate": "2020-09-29T07:42:56Z", "message": "LUCENE-9547: Race condition in maven artifact configuration results in wrong group/ artifact name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e29942bec64d1822b6f0ef3a75f9bc01214910e", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/4e29942bec64d1822b6f0ef3a75f9bc01214910e", "committedDate": "2020-09-29T08:23:11Z", "message": "LUCENE-9548: Apache repository publishing."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60abdb93153069619be04a95774172b02bded5de", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/60abdb93153069619be04a95774172b02bded5de", "committedDate": "2020-09-29T08:25:48Z", "message": "Merge remote-tracking branch 'origin/master' into LUCENE-9548"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d97a43d2f687ebfcb95ab557ae87e71c78c717c", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/8d97a43d2f687ebfcb95ab557ae87e71c78c717c", "committedDate": "2020-09-29T08:55:51Z", "message": "Add remaining POM information."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4f230aebbf25c29fc37de6dbded609945e91bec", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/c4f230aebbf25c29fc37de6dbded609945e91bec", "committedDate": "2020-09-30T07:19:12Z", "message": "Merge remote-tracking branch 'origin/master' into LUCENE-9548"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NzA4OTM2", "url": "https://github.com/apache/lucene-solr/pull/1929#pullrequestreview-499708936", "createdAt": "2020-09-30T18:36:25Z", "commit": {"oid": "c4f230aebbf25c29fc37de6dbded609945e91bec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNjoyNVrOHaqdQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNjoyNVrOHaqdQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcyMDY0Mw==", "bodyText": "This should be split by project?", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r497720643", "createdAt": "2020-09-30T18:36:25Z", "author": {"login": "madrob"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -102,29 +123,74 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n     gradle.projectsEvaluated {\n       publishing {\n         def configurePom = {\n-          name = \"Apache Solr/Lucene (${project.name})\"\n+          if (project.path.startsWith(\":solr\")) {\n+            name = \"Apache Solr (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/solr/'\n+          } else {\n+            name = \"Apache Lucene (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/'\n+          }\n+\n           licenses {\n             license {\n               name = 'Apache 2'\n               url = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n             }\n           }\n-        }\n \n-        publications {\n-          // JARS and sources, no javadocs (for local inspection only).\n-          jars(MavenPublication) {\n-            from components.java\n-            groupId = project.group\n-            artifactId = project.archivesBaseName\n+          inceptionYear = \"2000\"\n \n-            artifact sourcesJar\n+          issueManagement {\n+            system = \"JIRA\"\n+            url = \"https://issues.apache.org/jira/browse/LUCENE\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4f230aebbf25c29fc37de6dbded609945e91bec"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8b3624b004e5baa7f333036d8d8c924f02cc0c0", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/a8b3624b004e5baa7f333036d8d8c924f02cc0c0", "committedDate": "2020-10-02T06:22:35Z", "message": "Merge remote-tracking branch 'origin/master' into LUCENE-9548"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d80a03e35d7c235706236f16a5910be1407e8552", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/d80a03e35d7c235706236f16a5910be1407e8552", "committedDate": "2020-10-02T06:32:38Z", "message": "Split POM configuration into Solr and Lucene-specific parts. Changed Nexus credential access properties to those aligned with: https://cwiki.apache.org/confluence/display/INFRA/Gradle+Installations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/d6380a395aa733330e0c95d0066412a9a7a6e0d1", "committedDate": "2020-10-02T06:56:23Z", "message": "Added shorter task aliases for publishing to local maven repository, local build folder (for inspection) and Apache snapshots repository."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjIzMjE5", "url": "https://github.com/apache/lucene-solr/pull/1929#pullrequestreview-501623219", "createdAt": "2020-10-04T13:22:46Z", "commit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMjo0NlrOHcHk2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMzoxOFrOHcHlCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI0NjI5Nw==", "bodyText": "Can't use the property defined before?: apacheNexusUrl", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r499246297", "createdAt": "2020-10-04T13:22:46Z", "author": {"login": "uschindler"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -76,7 +78,26 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n   apply plugin: 'signing'\n \n   publishing {\n-    // TODO: Add publishing repository details.\n+    repositories {\n+      maven {\n+        name = \"ApacheSnapshots\"\n+        url = \"https://repository.apache.org/content/repositories/snapshots\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI0NjM0NA==", "bodyText": "Maybe put this into separate file like maven-local.gradle?", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r499246344", "createdAt": "2020-10-04T13:23:18Z", "author": {"login": "uschindler"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -137,8 +254,17 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n         }\n       }\n \n+      // Add aliases of convention tasks with shorter names.\n+      task mavenToApacheSnapshots() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "originalPosition": 186}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8a16fffca7e105e77d58044b9fcf0d16040cb14", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/a8a16fffca7e105e77d58044b9fcf0d16040cb14", "committedDate": "2020-10-04T17:04:15Z", "message": "Merge remote-tracking branch 'origin/master' into LUCENE-9548"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbe414dea91db8767166d4e236bfdae83ea81ed9", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/fbe414dea91db8767166d4e236bfdae83ea81ed9", "committedDate": "2020-10-04T17:05:57Z", "message": "Use property for Apache Nexus repo."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2654, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}