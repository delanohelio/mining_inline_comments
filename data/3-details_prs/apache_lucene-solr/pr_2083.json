{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxODcxNTY4", "number": 2083, "title": "SOLR-15001 Docker: require init_var_solr.sh", "bodyText": "https://issues.apache.org/jira/browse/SOLR-15001\nThere are two distinct commits here.  The second is just to the build.gradle.  I struggled with the Docker gradle build because the inputs/outputs were not configured correctly which confused Gradle's cool incremental build.  I also disagree with defining a verbose class file inside a build file when it won't be re-used by other modules -- just do ad-hoc instead.  Build automation is best suited to scripting languages IMO.", "createdAt": "2020-11-16T19:14:32Z", "url": "https://github.com/apache/lucene-solr/pull/2083", "merged": true, "mergeCommit": {"oid": "1e0ae2fb74884aa1813e69813f30a972afe55885"}, "closed": true, "closedAt": "2020-11-27T19:59:54Z", "author": {"login": "dsmiley"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddJvSTAH2gAyNTIxODcxNTY4OjI3NjMyYmJmNDhmYWY5Y2YzZTJhNzBiMTA2YTlmMmU4OWFlZGQ0YTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgtHzoAH2gAyNTIxODcxNTY4OmM0N2E1MGMzNzkwMjI2NjJiZTMzNzM5MTA5Yzk2MWEzYWU4M2IxOWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27632bbf48faf9cf3e2a70b106a9f2e89aedd4a8", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/27632bbf48faf9cf3e2a70b106a9f2e89aedd4a8", "committedDate": "2020-11-16T19:01:50Z", "message": "SOLR-15001: Docker: rely on init_var_solr.sh\n\nThe Dockerfile should not initialize /var/solr's contents because this is confusing and redundant with init_var_solr.sh.\nNo need for init_var_solr.sh to echo what it does; VERBOSE can be used to accomplish that."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "235349b30a26113a38127754108f6fee8a4a1a8e", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/235349b30a26113a38127754108f6fee8a4a1a8e", "committedDate": "2020-11-16T19:02:53Z", "message": "SOLR-15001: Docker: build.gradle simplify/fix incremental\n\nIncremental builds were not working because inputs & outputs were not being declared.  Also, lets simplify this a bit."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b29979ae4ac0d01375cb64f18d4007f31e32067e", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/b29979ae4ac0d01375cb64f18d4007f31e32067e", "committedDate": "2020-11-16T22:06:13Z", "message": "Revert Docker build.gradle\n\nThis reverts commit 235349b3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzY5MTgz", "url": "https://github.com/apache/lucene-solr/pull/2083#pullrequestreview-533769183", "createdAt": "2020-11-18T18:45:51Z", "commit": {"oid": "b29979ae4ac0d01375cb64f18d4007f31e32067e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODo0NTo1MVrOH19Aqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODo0NTo1MVrOH19Aqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMzNjE3MQ==", "bodyText": "Combine these into mkdir -m?", "url": "https://github.com/apache/lucene-solr/pull/2083#discussion_r526336171", "createdAt": "2020-11-18T18:45:51Z", "author": {"login": "madrob"}, "path": "solr/docker/include/scripts/init-var-solr", "diffHunk": "@@ -31,31 +31,31 @@ function check_dir_writability {\n }\n \n if [ ! -d \"$DIR/data\" ]; then\n-    echo \"Creating $DIR/data\"\n+    #echo \"Creating $DIR/data\"\n     check_dir_writability \"$DIR\"\n     mkdir \"$DIR/data\"\n     chmod 0770 \"$DIR/data\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b29979ae4ac0d01375cb64f18d4007f31e32067e"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzODIxMzEx", "url": "https://github.com/apache/lucene-solr/pull/2083#pullrequestreview-533821311", "createdAt": "2020-11-18T19:52:30Z", "commit": {"oid": "b29979ae4ac0d01375cb64f18d4007f31e32067e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8be8279fe0bfc008d79e8f25a62d514b02a39c06", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/8be8279fe0bfc008d79e8f25a62d514b02a39c06", "committedDate": "2020-11-18T19:55:35Z", "message": "init-var-solr: combine mkdir and chmod"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1557125746c7ca5e1405151a00c0ad3f13db656c", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/1557125746c7ca5e1405151a00c0ad3f13db656c", "committedDate": "2020-11-20T13:50:23Z", "message": "Docker: Do init-var-solr only from entrypoint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NzcwNDYy", "url": "https://github.com/apache/lucene-solr/pull/2083#pullrequestreview-535770462", "createdAt": "2020-11-20T20:56:30Z", "commit": {"oid": "1557125746c7ca5e1405151a00c0ad3f13db656c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "540f8117153d12bd13441326035820f97084878a", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/540f8117153d12bd13441326035820f97084878a", "committedDate": "2020-11-23T21:43:39Z", "message": "CHANGES.md for solr/docker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75c5032109f9f2b5cf47b3808da86312c2ace745", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/75c5032109f9f2b5cf47b3808da86312c2ace745", "committedDate": "2020-11-27T19:51:58Z", "message": "Merge branch 'master' into solrRequireInitVarSolr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c47a50c379022662be33739109c961a3ae83b19a", "author": {"user": {"login": "dsmiley", "name": "David Smiley"}}, "url": "https://github.com/apache/lucene-solr/commit/c47a50c379022662be33739109c961a3ae83b19a", "committedDate": "2020-11-27T19:57:04Z", "message": "Docker and contrib modules have separate CHANGES.md files."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2596, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}