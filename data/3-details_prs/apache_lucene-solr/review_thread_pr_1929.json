{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NjUzNDU3", "number": 1929, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNjoyNVrOEpJ-FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMzoxOFrOEqF3Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNTkwNDIxOnYy", "diffSide": "RIGHT", "path": "gradle/maven/defaults-maven.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODozNjoyNVrOHaqdQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxOTozNzo0M1rOHasglg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcyMDY0Mw==", "bodyText": "This should be split by project?", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r497720643", "createdAt": "2020-09-30T18:36:25Z", "author": {"login": "madrob"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -102,29 +123,74 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n     gradle.projectsEvaluated {\n       publishing {\n         def configurePom = {\n-          name = \"Apache Solr/Lucene (${project.name})\"\n+          if (project.path.startsWith(\":solr\")) {\n+            name = \"Apache Solr (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/solr/'\n+          } else {\n+            name = \"Apache Lucene (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/'\n+          }\n+\n           licenses {\n             license {\n               name = 'Apache 2'\n               url = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n             }\n           }\n-        }\n \n-        publications {\n-          // JARS and sources, no javadocs (for local inspection only).\n-          jars(MavenPublication) {\n-            from components.java\n-            groupId = project.group\n-            artifactId = project.archivesBaseName\n+          inceptionYear = \"2000\"\n \n-            artifact sourcesJar\n+          issueManagement {\n+            system = \"JIRA\"\n+            url = \"https://issues.apache.org/jira/browse/LUCENE\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4f230aebbf25c29fc37de6dbded609945e91bec"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc1NDI2Mg==", "bodyText": "All of it should be project-dependent, really... But yes -- feel free to commit a patch.", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r497754262", "createdAt": "2020-09-30T19:37:43Z", "author": {"login": "dweiss"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -102,29 +123,74 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n     gradle.projectsEvaluated {\n       publishing {\n         def configurePom = {\n-          name = \"Apache Solr/Lucene (${project.name})\"\n+          if (project.path.startsWith(\":solr\")) {\n+            name = \"Apache Solr (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/solr/'\n+          } else {\n+            name = \"Apache Lucene (module: ${project.name})\"\n+            description = name\n+            url = 'https://lucene.apache.org/'\n+          }\n+\n           licenses {\n             license {\n               name = 'Apache 2'\n               url = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n             }\n           }\n-        }\n \n-        publications {\n-          // JARS and sources, no javadocs (for local inspection only).\n-          jars(MavenPublication) {\n-            from components.java\n-            groupId = project.group\n-            artifactId = project.archivesBaseName\n+          inceptionYear = \"2000\"\n \n-            artifact sourcesJar\n+          issueManagement {\n+            system = \"JIRA\"\n+            url = \"https://issues.apache.org/jira/browse/LUCENE\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcyMDY0Mw=="}, "originalCommit": {"oid": "c4f230aebbf25c29fc37de6dbded609945e91bec"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNTcxNjM2OnYy", "diffSide": "RIGHT", "path": "gradle/maven/defaults-maven.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMjo0NlrOHcHk2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMjo0NlrOHcHk2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI0NjI5Nw==", "bodyText": "Can't use the property defined before?: apacheNexusUrl", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r499246297", "createdAt": "2020-10-04T13:22:46Z", "author": {"login": "uschindler"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -76,7 +78,26 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n   apply plugin: 'signing'\n \n   publishing {\n-    // TODO: Add publishing repository details.\n+    repositories {\n+      maven {\n+        name = \"ApacheSnapshots\"\n+        url = \"https://repository.apache.org/content/repositories/snapshots\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNTcxNjcxOnYy", "diffSide": "RIGHT", "path": "gradle/maven/defaults-maven.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxMzoyMzoxOFrOHcHlCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxNzoxODoxN1rOHcI6yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI0NjM0NA==", "bodyText": "Maybe put this into separate file like maven-local.gradle?", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r499246344", "createdAt": "2020-10-04T13:23:18Z", "author": {"login": "uschindler"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -137,8 +254,17 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n         }\n       }\n \n+      // Add aliases of convention tasks with shorter names.\n+      task mavenToApacheSnapshots() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "originalPosition": 186}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2ODI5Ng==", "bodyText": "Don't know if it makes sense. The \"local\" maven gradle config is there mostly so that I could review the artifacts without polluting my local Maven repo. It could be removed later. The rest of maven config does make sense as a single unit. Let's leave it for now and try to publish those snapshots. If needed, we can always change later.", "url": "https://github.com/apache/lucene-solr/pull/1929#discussion_r499268296", "createdAt": "2020-10-04T17:18:17Z", "author": {"login": "dweiss"}, "path": "gradle/maven/defaults-maven.gradle", "diffHunk": "@@ -137,8 +254,17 @@ configure(subprojects.findAll { it.path in rootProject.published }) { prj ->\n         }\n       }\n \n+      // Add aliases of convention tasks with shorter names.\n+      task mavenToApacheSnapshots() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI0NjM0NA=="}, "originalCommit": {"oid": "d6380a395aa733330e0c95d0066412a9a7a6e0d1"}, "originalPosition": 186}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1107, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}