{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzODEyMDAy", "number": 2127, "title": "LUCENE-9633: Improve match highlighter behavior for degenerate intervals", "bodyText": "", "createdAt": "2020-12-07T16:55:51Z", "url": "https://github.com/apache/lucene-solr/pull/2127", "merged": true, "mergeCommit": {"oid": "a6481439556c2f9dcb038d233d7eee4179f4ffff"}, "closed": true, "closedAt": "2020-12-11T19:07:26Z", "author": {"login": "dweiss"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj4jbfAH2gAyNTMzODEyMDAyOmUwNjg1ZmNjNTdjM2VmMmM0MzExOGQ1NTZmYmRlNjBmNjZkY2ZmMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj4l4tgFqTU0NjM0Nzk2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e0685fcc57c3ef2c43118d556fbde60f66dcff24", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/e0685fcc57c3ef2c43118d556fbde60f66dcff24", "committedDate": "2020-12-07T16:57:58Z", "message": "LUCENE-9633: Improve match highlighter behavior for degenerate intervals (on non-existing positions)."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccc0e5ef1fb96aa463aa98e9d60ad17ff5213cd4", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/ccc0e5ef1fb96aa463aa98e9d60ad17ff5213cd4", "committedDate": "2020-12-07T16:54:35Z", "message": "LUCENE-9633: Improve match highlighter behavior for degenerate intervals (on non-existing positions)."}, "afterCommit": {"oid": "e0685fcc57c3ef2c43118d556fbde60f66dcff24", "author": {"user": {"login": "dweiss", "name": "Dawid Weiss"}}, "url": "https://github.com/apache/lucene-solr/commit/e0685fcc57c3ef2c43118d556fbde60f66dcff24", "committedDate": "2020-12-07T16:57:58Z", "message": "LUCENE-9633: Improve match highlighter behavior for degenerate intervals (on non-existing positions)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MzQ3OTYz", "url": "https://github.com/apache/lucene-solr/pull/2127#pullrequestreview-546347963", "createdAt": "2020-12-07T17:00:38Z", "commit": {"oid": "e0685fcc57c3ef2c43118d556fbde60f66dcff24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNzowMDozOVrOIAwuBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNzowMDozOVrOIAwuBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzY2OTEyNA==", "bodyText": "@romseygeek Alan - this may be interesting for you. Is this how it's supposed to work with fields with offsets? If you enable this test and compare how positions only vs. positions+offsets field behaves you'll see what I mean - the stored offsets actually cause an incorrect highlight in this case.", "url": "https://github.com/apache/lucene-solr/pull/2127#discussion_r537669124", "createdAt": "2020-12-07T17:00:39Z", "author": {"login": "dweiss"}, "path": "lucene/highlighter/src/test/org/apache/lucene/search/matchhighlight/TestMatchRegionRetriever.java", "diffHunk": "@@ -361,6 +374,41 @@ public void testIntervalQueries() throws IOException {\n     );\n   }\n \n+  @Test\n+  public void testDegenerateIntervalsWithPositions() throws IOException {\n+    testDegenerateIntervals(FLD_TEXT_POS);\n+  }\n+\n+  @Test @AwaitsFix(bugUrl = \"https://issues.apache.org/jira/browse/LUCENE-9634: \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0685fcc57c3ef2c43118d556fbde60f66dcff24"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2417, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}