{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4Mzg1NzEw", "number": 2020, "title": "SOLR-14949: Ability to customize Solr Docker build", "bodyText": "https://issues.apache.org/jira/browse/SOLR-14949\nCustom inputs:\n\nDocker Image repo\nDocker Image tag\nDocker Image name\nBase Docker Image\n\nAlso added a gradlew helpDocker page.", "createdAt": "2020-10-22T15:40:23Z", "url": "https://github.com/apache/lucene-solr/pull/2020", "merged": true, "mergeCommit": {"oid": "212b0f8657029b31979b12da9330ec0613c5b271"}, "closed": true, "closedAt": "2020-11-10T15:42:39Z", "author": {"login": "HoustonPutman"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVD1p_AH2gAyNTA4Mzg1NzEwOjQwN2Q5Y2ZjMzg0NzZjMjdiYzcyMGIyM2EyOTc4M2Q0OTBiYjQ3MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZ7I45gH2gAyNTA4Mzg1NzEwOjcxZTkzZmRmNTkzODE1N2RiNzU1ODBmMWE4ZjA1ZDZhZWQyNmYwYTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "407d9cfc38476c27bc720b23a29783d490bb4721", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/407d9cfc38476c27bc720b23a29783d490bb4721", "committedDate": "2020-10-22T15:37:58Z", "message": "SOLR-14949: Ability to customize Solr Docker build\n\nCustom inputs:\n- Docker Image repo\n- Docker Image tag\n- Docker Image name\n- Base Docker Image\n\nAlso added a gradlew helpDocker page."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/147a16faed5ef5337f62f8ba305f9088d0c2d7c4", "committedDate": "2020-10-22T16:31:51Z", "message": "Removing unnecessary version test. We can add something when adding a release process."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1Nzg0MjYy", "url": "https://github.com/apache/lucene-solr/pull/2020#pullrequestreview-515784262", "createdAt": "2020-10-23T15:35:07Z", "commit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNTozNTowOFrOHnTG6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjowNzo1MlrOHnUVRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk2OTU3OA==", "bodyText": "Should this be solr.docker instead of docker.solr?", "url": "https://github.com/apache/lucene-solr/pull/2020#discussion_r510969578", "createdAt": "2020-10-23T15:35:08Z", "author": {"login": "madrob"}, "path": "help/docker.txt", "diffHunk": "@@ -0,0 +1,53 @@\n+Docker Images for Solr\n+======================\n+\n+Solr docker images are built using Palantir's Docker Gradle plugin, https://github.com/palantir/gradle-docker.\n+\n+Common Inputs\n+-------------\n+\n+The docker image and it's tag can be customized via the following options, all accepted via both Environment Variables and Gradle Properties.\n+\n+Docker Image Repository:\n+   Default: \"apache/solr\"\n+   EnvVar: DOCKER_SOLR_IMAGE_REPO\n+   Gradle Property: -Pdocker.solr.imageRepo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NjU2MA==", "bodyText": "s/it's/its", "url": "https://github.com/apache/lucene-solr/pull/2020#discussion_r510986560", "createdAt": "2020-10-23T16:02:40Z", "author": {"login": "madrob"}, "path": "help/docker.txt", "diffHunk": "@@ -0,0 +1,53 @@\n+Docker Images for Solr\n+======================\n+\n+Solr docker images are built using Palantir's Docker Gradle plugin, https://github.com/palantir/gradle-docker.\n+\n+Common Inputs\n+-------------\n+\n+The docker image and it's tag can be customized via the following options, all accepted via both Environment Variables and Gradle Properties.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NjkwMQ==", "bodyText": "Does this mean we will publish all of our PR docker images somewhere?", "url": "https://github.com/apache/lucene-solr/pull/2020#discussion_r510986901", "createdAt": "2020-10-23T16:03:18Z", "author": {"login": "madrob"}, "path": ".github/workflows/docker-test.yml", "diffHunk": "@@ -17,6 +17,10 @@ jobs:\n \n     runs-on: ubuntu-latest\n \n+    env:\n+      DOCKER_SOLR_IMAGE_REPO: github-pr/solr", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4ODExMg==", "bodyText": "This is displayed as plain text, not markdown.", "url": "https://github.com/apache/lucene-solr/pull/2020#discussion_r510988112", "createdAt": "2020-10-23T16:05:23Z", "author": {"login": "madrob"}, "path": "help/docker.txt", "diffHunk": "@@ -0,0 +1,53 @@\n+Docker Images for Solr\n+======================\n+\n+Solr docker images are built using Palantir's Docker Gradle plugin, https://github.com/palantir/gradle-docker.\n+\n+Common Inputs\n+-------------\n+\n+The docker image and it's tag can be customized via the following options, all accepted via both Environment Variables and Gradle Properties.\n+\n+Docker Image Repository:\n+   Default: \"apache/solr\"\n+   EnvVar: DOCKER_SOLR_IMAGE_REPO\n+   Gradle Property: -Pdocker.solr.imageRepo\n+\n+Docker Image Tag:\n+   Default: the Solr version, e.g. \"9.0.0-SNAPSHOT\"\n+   EnvVar: DOCKER_SOLR_IMAGE_TAG\n+   Gradle Property: -Pdocker.solr.imageTag\n+\n+Docker Image Name: (Use this to explicitly set a whole image name. If given, the image repo and image version options above are ignored.)\n+   Default: {image_repo}/{image_tag} (both options provided above, with defaults)\n+   EnvVar: DOCKER_SOLR_IMAGE_NAME\n+   Gradle Property: -Pdocker.solr.imageName\n+\n+Building\n+--------\n+\n+In order to build the Solr Docker image, run:\n+\n+gradlew docker\n+\n+The docker build task (`gradlew docker`) accepts the following inputs, in addition to the common inputs listed above:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4OTYzNg==", "bodyText": "Deleted because we can set the tag and version to be anything now?", "url": "https://github.com/apache/lucene-solr/pull/2020#discussion_r510989636", "createdAt": "2020-10-23T16:07:52Z", "author": {"login": "madrob"}, "path": "solr/docker/tests/cases/version/test.sh", "diffHunk": "@@ -1,45 +0,0 @@\n-#!/bin/bash", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "147a16faed5ef5337f62f8ba305f9088d0c2d7c4"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c7aab02a1d6829fc4be87793e8b38e5d5c99b42", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/3c7aab02a1d6829fc4be87793e8b38e5d5c99b42", "committedDate": "2020-10-23T16:29:29Z", "message": "Fixes in docker help."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9de1a0475d124f14dcd49468408acede71bc5f6", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/b9de1a0475d124f14dcd49468408acede71bc5f6", "committedDate": "2020-10-27T15:58:09Z", "message": "Merge branch 'master' into docker-inputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5faf73587dbbcbcdb05dcf818481cf17f86df223", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/5faf73587dbbcbcdb05dcf818481cf17f86df223", "committedDate": "2020-10-27T16:05:53Z", "message": "Changing to solr.docker instead of docker.solr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7f8e136173b93eca702ce9f1a41edd1f8561be8", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/b7f8e136173b93eca702ce9f1a41edd1f8561be8", "committedDate": "2020-10-27T16:08:12Z", "message": "Fixing changes.txt mistake"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71e93fdf5938157db75580f1a8f05d6aed26f0a0", "author": {"user": {"login": "HoustonPutman", "name": "Houston Putman"}}, "url": "https://github.com/apache/lucene-solr/commit/71e93fdf5938157db75580f1a8f05d6aed26f0a0", "committedDate": "2020-11-06T18:19:27Z", "message": "Merge branch 'master' into docker-inputs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2509, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}