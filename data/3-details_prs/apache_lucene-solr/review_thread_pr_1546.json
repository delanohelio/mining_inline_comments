{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NTYzMjIx", "number": 1546, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwNToyMTozMlrOEBJ_vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMDo0NDoxOFrOEE1-SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjQ3ODA1OnYy", "diffSide": "RIGHT", "path": "solr/core/src/java/org/apache/solr/handler/admin/CoreAdminOperation.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwNToyMTozMlrOGc2yeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwNToyMTozMlrOGc2yeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkxMDk2OQ==", "bodyText": "Just a little change to make the var effectively final, which is clearer.", "url": "https://github.com/apache/lucene-solr/pull/1546#discussion_r432910969", "createdAt": "2020-05-31T05:21:32Z", "author": {"login": "dsmiley"}, "path": "solr/core/src/java/org/apache/solr/handler/admin/CoreAdminOperation.java", "diffHunk": "@@ -77,7 +77,7 @@\n     String coreName = params.required().get(CoreAdminParams.NAME);\n     Map<String, String> coreParams = buildCoreParams(params);\n     CoreContainer coreContainer = it.handler.coreContainer;\n-    Path instancePath = coreContainer.getCoreRootDirectory().resolve(coreName);\n+    Path instancePath;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b96bc84a0b378911a62bdf2039a8dc4833e0c7dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNTE0MDU3OnYy", "diffSide": "RIGHT", "path": "solr/core/src/java/org/apache/solr/core/CoreDescriptor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMDo0NDoxOFrOGiuJMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMTozNzozOFrOGivjmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA2MDc4Nw==", "bodyText": "A bit late, but I don't think this is necessary, as all callers will send absolute paths. And if you ever get a relative path, resolving it with toAbsolutePath() leads to it being relative to whatever CWD the app is started with, while the typical resolving of relative instanceDir is to resolve it relative to CoreContainer#coreRootDirectory.", "url": "https://github.com/apache/lucene-solr/pull/1546#discussion_r439060787", "createdAt": "2020-06-11T20:44:18Z", "author": {"login": "janhoy"}, "path": "solr/core/src/java/org/apache/solr/core/CoreDescriptor.java", "diffHunk": "@@ -182,7 +182,7 @@ public CoreDescriptor(String coreName, CoreDescriptor other) {\n    */\n   public CoreDescriptor(String name, Path instanceDir, Map<String, String> coreProps,\n                         Properties containerProperties, ZkController zkController) {\n-    this.instanceDir = instanceDir;\n+    this.instanceDir = instanceDir.toAbsolutePath();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eb2be42918be1e190d1addc98c91c4a42f31b6c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4MzkzMA==", "bodyText": "That makes sense; thanks.  I see that all callers send absolute paths already.  So I think I should change this to throw an exception if it isn't absolute to protect us from mistakes.\nI'll push a new commit here for review.  I've never done that for an already merged PR; we'll see how it goes.", "url": "https://github.com/apache/lucene-solr/pull/1546#discussion_r439083930", "createdAt": "2020-06-11T21:37:38Z", "author": {"login": "dsmiley"}, "path": "solr/core/src/java/org/apache/solr/core/CoreDescriptor.java", "diffHunk": "@@ -182,7 +182,7 @@ public CoreDescriptor(String coreName, CoreDescriptor other) {\n    */\n   public CoreDescriptor(String name, Path instanceDir, Map<String, String> coreProps,\n                         Properties containerProperties, ZkController zkController) {\n-    this.instanceDir = instanceDir;\n+    this.instanceDir = instanceDir.toAbsolutePath();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA2MDc4Nw=="}, "originalCommit": {"oid": "4eb2be42918be1e190d1addc98c91c4a42f31b6c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1433, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}