{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNzEwNzQ3", "number": 1719, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDoyNjo0M1rOEVn1sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDoyNjo0M1rOEVn1sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTA4MjczOnYy", "diffSide": "RIGHT", "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDoyNjo0M1rOG8fB1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMjo0MlrOG8-2Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA==", "bodyText": "I left this intentionally using the new parameters because this configuration is only read locally", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466076118", "createdAt": "2020-08-06T00:26:43Z", "author": {"login": "tflobbe"}, "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMjc4MQ==", "bodyText": "\ud83e\udd28", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466112781", "createdAt": "2020-08-06T02:43:59Z", "author": {"login": "MarcusSorealheis"}, "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, "originalCommit": {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMjg5MA==", "bodyText": "left intentionally \u2014\u00a0what are you saying?", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466112890", "createdAt": "2020-08-06T02:44:20Z", "author": {"login": "MarcusSorealheis"}, "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, "originalCommit": {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjExMzEwNg==", "bodyText": "It should be left intentionally. It comes from the leader, right?", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466113106", "createdAt": "2020-08-06T02:45:07Z", "author": {"login": "MarcusSorealheis"}, "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, "originalCommit": {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NzQxMQ==", "bodyText": "For 8.x branches, every time we set a parameter or configuration (for requests, etc) we use the legacy names. In this particular case, I'm using the new parameters even for setting, and the reason is that this is a configuration that is set and read locally only. The TLOG/PULL replicas create this to create their replication process.", "url": "https://github.com/apache/lucene-solr/pull/1719#discussion_r466597411", "createdAt": "2020-08-06T18:12:42Z", "author": {"login": "tflobbe"}, "path": "solr/core/src/java/org/apache/solr/cloud/ReplicateFromLeader.java", "diffHunk": "@@ -76,12 +76,12 @@ public void startReplication(boolean switchTransactionLog) throws InterruptedExc\n       }\n       log.info(\"Will start replication from leader with poll interval: {}\", pollIntervalStr );\n \n-      NamedList<Object> slaveConfig = new NamedList<>();\n-      slaveConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n-      slaveConfig.add(ReplicationHandler.SKIP_COMMIT_ON_MASTER_VERSION_ZERO, switchTransactionLog);\n-      slaveConfig.add(\"pollInterval\", pollIntervalStr);\n+      NamedList<Object> followerConfig = new NamedList<>();\n+      followerConfig.add(\"fetchFromLeader\", Boolean.TRUE);\n+      followerConfig.add(ReplicationHandler.SKIP_COMMIT_ON_LEADER_VERSION_ZERO, switchTransactionLog);\n+      followerConfig.add(\"pollInterval\", pollIntervalStr);\n       NamedList<Object> replicationConfig = new NamedList<>();\n-      replicationConfig.add(\"slave\", slaveConfig);\n+      replicationConfig.add(\"follower\", followerConfig);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3NjExOA=="}, "originalCommit": {"oid": "748fb4dc32a2b9cd2e720cf5b3c224a96d6de50f"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1265, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}