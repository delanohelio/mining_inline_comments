{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NjgzODY1", "number": 1694, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo0NDo0MlrOESLIiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxMTozNVrOETRdKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDkyMjMzOnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrNode.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo0NDo0MlrOG3OW8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMzowODo1MFrOG3SQsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDExMw==", "bodyText": "Possibly good to also answer the question of \"what collections are participating in this node\" and what shards of Collection X are on this node.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460560113", "createdAt": "2020-07-26T18:44:42Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrNode.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * A read only view of a Solr node\n+ */\n+public interface SolrNode {\n+\n+  /** The node name */\n+  String name();\n+\n+  String baseUrl(boolean isV2);\n+\n+  SimpleMap<ShardReplica> cores();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyNDA1MA==", "bodyText": "I would say, that is something that can be easily computed from the cores() method and can be provided as a helper method elsewhere", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460624050", "createdAt": "2020-07-27T03:08:50Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrNode.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * A read only view of a Solr node\n+ */\n+public interface SolrNode {\n+\n+  /** The node name */\n+  String name();\n+\n+  String baseUrl(boolean isV2);\n+\n+  SimpleMap<ShardReplica> cores();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDExMw=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDkyMzQzOnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo0NjowMFrOG3OXeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMzoyNjozNlrOG3Sexg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDI0OA==", "bodyText": "Also aliases... and the Alias class returned should list the collections provided and routing info if routed. (also law of Demeter etc...)", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460560248", "createdAt": "2020-07-26T18:46:00Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * Represents a Solr cluster\n+ */\n+public interface SolrCluster {\n+  /** collections in the cluster */\n+  SimpleMap<SolrCollection> collections();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyNzY1NA==", "bodyText": "Yes, I wanted to include aliases. Where do you propose it to be there?\nI would say , There should be no Alias class/interface.\nIt should be as simple as\nSolrCluster#collections#get(String name , boolean includeAlias) \nand\n SolrCollection#aliases() returns List<String>", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460627654", "createdAt": "2020-07-27T03:26:36Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * Represents a Solr cluster\n+ */\n+public interface SolrCluster {\n+  /** collections in the cluster */\n+  SimpleMap<SolrCollection> collections();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDI0OA=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDkyNDYwOnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCollection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo0NzoyNFrOG3OYCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMzoyNzoyMlrOG3SfcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDM5Mg==", "bodyText": "Also I've definitely had cases where I wanted a list of nodes where this collection is hosted.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460560392", "createdAt": "2020-07-26T18:47:24Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCollection.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/** Represents a collection in Solr */\n+public interface SolrCollection {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyNzgyNA==", "bodyText": "That should be a utility method outside", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460627824", "createdAt": "2020-07-27T03:27:22Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCollection.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/** Represents a collection in Solr */\n+public interface SolrCollection {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MDM5Mg=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDkyOTU3OnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo1NDoxMlrOG3OaeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMzoyMTowNFrOG3SapA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MTAxNw==", "bodyText": "Since we have our own package namespace, prepending solr isn't really needed unless we think we might also model non-solr clusters.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460561017", "createdAt": "2020-07-26T18:54:12Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * Represents a Solr cluster\n+ */\n+public interface SolrCluster {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyNjU5Ng==", "bodyText": "I know. Imagine this will also be used outside of Solr as a part of SolrJ. So if you read some client code,\nCluster cluster;\nis less readable compared to\nSolrCluster solrCluster;\nEventually, I would wish to replace a lot of SolrJ code/API with a standard set of interfaces.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460626596", "createdAt": "2020-07-27T03:21:04Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * Represents a Solr cluster\n+ */\n+public interface SolrCluster {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MTAxNw=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDkzMTMxOnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo1NjoxNlrOG3ObQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxODo1NjoxNlrOG3ObQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MTIxOQ==", "bodyText": "I've wondered sometimes if clusters should have name or id of some sort but that's probably another topic.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460561219", "createdAt": "2020-07-26T18:56:16Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/sdk/SolrCluster.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.common.cloud.sdk;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/**\n+ * Represents a Solr cluster\n+ */\n+public interface SolrCluster {\n+  /** collections in the cluster */\n+  SimpleMap<SolrCollection> collections();\n+\n+  /** nodes in the cluster */\n+  SimpleMap<SolrNode> nodes();\n+\n+  /** Get a {@link SolrNode} by name. returns null if no such node exists */\n+  SolrNode getNode(String node);\n+\n+  /**\n+   * Name of the node in which the overseer is running\n+   */\n+  String overseerNode();\n+\n+  /**\n+   * The name of the node in which this method is invoked from. returns null, if this is not invoked from a\n+   * Solr node\n+   */\n+  String thisNode();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDk0MTE2OnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/util/LinkedSimpleHashMap.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOTowODo1MlrOG3Of2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMjo1OToyN1rOG3SJFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MjM5NA==", "bodyText": "this class appears unused...", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460562394", "createdAt": "2020-07-26T19:08:52Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/util/LinkedSimpleHashMap.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.solr.common.util;\n+\n+import java.util.LinkedHashMap;\n+\n+public class LinkedSimpleHashMap<T> extends LinkedHashMap<CharSequence, T>  implements SimpleMap<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyMjEwMA==", "bodyText": "yes, this was to demonstrate how to implement a default impl of SimpleMap", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460622100", "createdAt": "2020-07-27T02:59:27Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/util/LinkedSimpleHashMap.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.solr.common.util;\n+\n+import java.util.LinkedHashMap;\n+\n+public class LinkedSimpleHashMap<T> extends LinkedHashMap<CharSequence, T>  implements SimpleMap<T> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2MjM5NA=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDk0NDUzOnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOToxMjo0NVrOG3OhXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwMzowNzo1MlrOG3SP9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mjc4MQ==", "bodyText": "Little worried that this design allows for casting of the SolrCluster reference...", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460562781", "createdAt": "2020-07-26T19:12:45Z", "author": {"login": "gus-asf"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState.java", "diffHunk": "@@ -38,7 +43,7 @@\n  * {@link ZkStateReader#getClusterState()}.\n  * @lucene.experimental\n  */\n-public class ClusterState implements JSONWriter.Writable {\n+public class ClusterState implements JSONWriter.Writable , SolrCluster {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyMjUyMA==", "bodyText": "We can have multiple implementations of SolrCluster .The idea of existing classes implementing these interfaces is to have readily available implementations", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460622520", "createdAt": "2020-07-27T03:01:31Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState.java", "diffHunk": "@@ -38,7 +43,7 @@\n  * {@link ZkStateReader#getClusterState()}.\n  * @lucene.experimental\n  */\n-public class ClusterState implements JSONWriter.Writable {\n+public class ClusterState implements JSONWriter.Writable , SolrCluster {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mjc4MQ=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyMzg2Mw==", "bodyText": "Let's rename Solr luster to Cluster.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r460623863", "createdAt": "2020-07-27T03:07:52Z", "author": {"login": "chatman"}, "path": "solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState.java", "diffHunk": "@@ -38,7 +43,7 @@\n  * {@link ZkStateReader#getClusterState()}.\n  * @lucene.experimental\n  */\n-public class ClusterState implements JSONWriter.Writable {\n+public class ClusterState implements JSONWriter.Writable , SolrCluster {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mjc4MQ=="}, "originalCommit": {"oid": "342ae67f2a701f4439e872a1c95c821e5f912572"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjQwNjQ0OnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/cluster/api/SolrNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDowNDowOVrOG46Aag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxMTozNzo1MlrOG-LBiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyMzgxOA==", "bodyText": "Instead of boolean isV2, what about an Enum, that could then evolve?", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462323818", "createdAt": "2020-07-29T14:04:09Z", "author": {"login": "janhoy"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/SolrNode.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/** A read only view of a Solr node */\n+public interface SolrNode {\n+\n+  /** The node name */\n+  String name();\n+\n+  /**Base http url for this node\n+   *\n+   * @param isV2 if true gives the /api endpoint , else /solr endpoint\n+   */\n+  String baseUrl(boolean isV2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg0NTUxMg==", "bodyText": "done", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r467845512", "createdAt": "2020-08-10T11:37:52Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/SolrNode.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import org.apache.solr.common.util.SimpleMap;\n+\n+/** A read only view of a Solr node */\n+public interface SolrNode {\n+\n+  /** The node name */\n+  String name();\n+\n+  /**Base http url for this node\n+   *\n+   * @param isV2 if true gives the /api endpoint , else /solr endpoint\n+   */\n+  String baseUrl(boolean isV2);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyMzgxOA=="}, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjQyNjM0OnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDowODoyOVrOG46MzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDo0NjowNFrOG5d3Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyNjk4OQ==", "bodyText": "General : Please format Javadocs properly with text starting on line 2 and capital letter, even if it takes more lines.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462326989", "createdAt": "2020-07-29T14:08:29Z", "author": {"login": "janhoy"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import java.io.InputStream;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+\n+import org.apache.solr.common.SolrException;\n+\n+public interface Config {\n+\n+  String name();\n+\n+  /**set of files in the config */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUwODk4Mw==", "bodyText": "A one-line variant is acceptable: https://google.github.io/styleguide/javaguide.html#s7.1.1-javadoc-multi-line\nThe only problem I see with the javadoc here is that it's missing a leading space, and it should capitalize the first letter.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462508983", "createdAt": "2020-07-29T18:40:37Z", "author": {"login": "dsmiley"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import java.io.InputStream;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+\n+import org.apache.solr.common.SolrException;\n+\n+public interface Config {\n+\n+  String name();\n+\n+  /**set of files in the config */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyNjk4OQ=="}, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkxMTMzNQ==", "bodyText": "Ok, agree", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462911335", "createdAt": "2020-07-30T10:46:04Z", "author": {"login": "janhoy"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import java.io.InputStream;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+\n+import org.apache.solr.common.SolrException;\n+\n+public interface Config {\n+\n+  String name();\n+\n+  /**set of files in the config */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyNjk4OQ=="}, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjQ0Mzk0OnYy", "diffSide": "RIGHT", "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxMTozNVrOG46XIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMToyODoxOVrOG5fFFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyOTYzNA==", "bodyText": "Use ConfigSet instead? Config is soooo overloaded.", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462329634", "createdAt": "2020-07-29T14:11:35Z", "author": {"login": "janhoy"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import java.io.InputStream;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+\n+import org.apache.solr.common.SolrException;\n+\n+public interface Config {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMTIyMA==", "bodyText": "I don't like both names , Config & ConfigSet\nconfigset suggests it is a set of configs? in reality it's a single configuration which has multiple files", "url": "https://github.com/apache/lucene-solr/pull/1694#discussion_r462931220", "createdAt": "2020-07-30T11:28:19Z", "author": {"login": "noblepaul"}, "path": "solr/solrj/src/java/org/apache/solr/cluster/api/Config.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.solr.cluster.api;\n+\n+import java.io.InputStream;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+\n+import org.apache.solr.common.SolrException;\n+\n+public interface Config {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyOTYzNA=="}, "originalCommit": {"oid": "b91b461632b19c9488926a9302126a2158df3298"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1388, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}