{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMDc0ODY0", "number": 1979, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzowOTo0NFrOEted2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzoxNzoyM1rOEterpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTIwNTM3OnYy", "diffSide": "RIGHT", "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzowOTo0NFrOHhSL3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNDozMTo1NFrOHhWEVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2MzAwNg==", "bodyText": "Can you make the class final and make the constructor public? Why is this protected?", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504663006", "createdAt": "2020-10-14T13:09:44Z", "author": {"login": "uschindler"}, "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.lucene.analysis.miscellaneous;\n+\n+import org.apache.lucene.analysis.FilteringTokenFilter;\n+import org.apache.lucene.analysis.TokenStream;\n+import org.apache.lucene.analysis.tokenattributes.FlagsAttribute;\n+\n+/**\n+ * Allows Tokens with a given combination of flags to be dropped. If all flags specified are present\n+ * the token is dropped, otherwise it is retained.\n+ *\n+ * @see DropIfFlaggedFilterFactory\n+ * @since 8.8.0\n+ */\n+public class DropIfFlaggedFilter extends FilteringTokenFilter {\n+  private final FlagsAttribute flagsAtt = addAttribute(FlagsAttribute.class);\n+  private final int dropFlags;\n+\n+  /**\n+   * Construct a token stream filtering the given input.\n+   *\n+   * @param input the source stream\n+   * @param dropFlags a combination of flags that indicates that the token should be dropped.\n+   */\n+  @SuppressWarnings(\"WeakerAccess\")\n+  protected DropIfFlaggedFilter(TokenStream input, int dropFlags) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDcyNjYxMw==", "bodyText": "Not sure why that wound up protected.  Thx for noticing this.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504726613", "createdAt": "2020-10-14T14:31:54Z", "author": {"login": "gus-asf"}, "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.lucene.analysis.miscellaneous;\n+\n+import org.apache.lucene.analysis.FilteringTokenFilter;\n+import org.apache.lucene.analysis.TokenStream;\n+import org.apache.lucene.analysis.tokenattributes.FlagsAttribute;\n+\n+/**\n+ * Allows Tokens with a given combination of flags to be dropped. If all flags specified are present\n+ * the token is dropped, otherwise it is retained.\n+ *\n+ * @see DropIfFlaggedFilterFactory\n+ * @since 8.8.0\n+ */\n+public class DropIfFlaggedFilter extends FilteringTokenFilter {\n+  private final FlagsAttribute flagsAtt = addAttribute(FlagsAttribute.class);\n+  private final int dropFlags;\n+\n+  /**\n+   * Construct a token stream filtering the given input.\n+   *\n+   * @param input the source stream\n+   * @param dropFlags a combination of flags that indicates that the token should be dropped.\n+   */\n+  @SuppressWarnings(\"WeakerAccess\")\n+  protected DropIfFlaggedFilter(TokenStream input, int dropFlags) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2MzAwNg=="}, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTIxMjQ3OnYy", "diffSide": "RIGHT", "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzoxMTowOVrOHhSQEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNjowNTowNlrOHhab0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2NDA4Mw==", "bodyText": "You should make the class final, too. That's not a requirement, but would be in line with other filters. The reason is: We don't want subclasses, as we prefer delegation over inheritance.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504664083", "createdAt": "2020-10-14T13:11:09Z", "author": {"login": "uschindler"}, "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.lucene.analysis.miscellaneous;\n+\n+import org.apache.lucene.analysis.FilteringTokenFilter;\n+import org.apache.lucene.analysis.TokenStream;\n+import org.apache.lucene.analysis.tokenattributes.FlagsAttribute;\n+\n+/**\n+ * Allows Tokens with a given combination of flags to be dropped. If all flags specified are present\n+ * the token is dropped, otherwise it is retained.\n+ *\n+ * @see DropIfFlaggedFilterFactory\n+ * @since 8.8.0\n+ */\n+public class DropIfFlaggedFilter extends FilteringTokenFilter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDcyNjUwMQ==", "bodyText": "If it's a standard for the project I'll do it. I have my disagreements but we can hash that out elsewhere.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504726501", "createdAt": "2020-10-14T14:31:46Z", "author": {"login": "gus-asf"}, "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.lucene.analysis.miscellaneous;\n+\n+import org.apache.lucene.analysis.FilteringTokenFilter;\n+import org.apache.lucene.analysis.TokenStream;\n+import org.apache.lucene.analysis.tokenattributes.FlagsAttribute;\n+\n+/**\n+ * Allows Tokens with a given combination of flags to be dropped. If all flags specified are present\n+ * the token is dropped, otherwise it is retained.\n+ *\n+ * @see DropIfFlaggedFilterFactory\n+ * @since 8.8.0\n+ */\n+public class DropIfFlaggedFilter extends FilteringTokenFilter {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2NDA4Mw=="}, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5ODE2MA==", "bodyText": "Thanks. All fine.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504798160", "createdAt": "2020-10-14T16:05:06Z", "author": {"login": "uschindler"}, "path": "lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/DropIfFlaggedFilter.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.lucene.analysis.miscellaneous;\n+\n+import org.apache.lucene.analysis.FilteringTokenFilter;\n+import org.apache.lucene.analysis.TokenStream;\n+import org.apache.lucene.analysis.tokenattributes.FlagsAttribute;\n+\n+/**\n+ * Allows Tokens with a given combination of flags to be dropped. If all flags specified are present\n+ * the token is dropped, otherwise it is retained.\n+ *\n+ * @see DropIfFlaggedFilterFactory\n+ * @since 8.8.0\n+ */\n+public class DropIfFlaggedFilter extends FilteringTokenFilter {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2NDA4Mw=="}, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTI0MDY4OnYy", "diffSide": "LEFT", "path": "lucene/CHANGES.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzoxNzoyM1rOHhShOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNDoxMToxOFrOHhVEJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2ODQ3NA==", "bodyText": "Hi could you please undo all the formaating changes in the CHANGES.txt? This makes merging of other pull requests hard.\nMaybe your editor reformatted the whole file. I'd just copy the new changes entry into the file.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504668474", "createdAt": "2020-10-14T13:17:23Z", "author": {"login": "uschindler"}, "path": "lucene/CHANGES.txt", "diffHunk": "@@ -19,7 +19,7 @@ API Changes\n * LUCENE-8474: RAMDirectory and associated deprecated classes have been\n   removed. (Dawid Weiss)\n \n-* LUCENE-3041: The deprecated Weight#extractTerms() method has been ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDcxMDE4MQ==", "bodyText": "Yeah apparently the file has a bazillion lines that end in spaces. I typically want this on in the editor to avoid silly extra white-space in code, I'll have to figure out how to turn it off temporarily. Might not be bad to have a commit at some point that fixes this up, but we don't have to do it here.", "url": "https://github.com/apache/lucene-solr/pull/1979#discussion_r504710181", "createdAt": "2020-10-14T14:11:18Z", "author": {"login": "gus-asf"}, "path": "lucene/CHANGES.txt", "diffHunk": "@@ -19,7 +19,7 @@ API Changes\n * LUCENE-8474: RAMDirectory and associated deprecated classes have been\n   removed. (Dawid Weiss)\n \n-* LUCENE-3041: The deprecated Weight#extractTerms() method has been ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY2ODQ3NA=="}, "originalCommit": {"oid": "a2a8c4ea270a05ee01646cf5913fbeb4e44d3747"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1150, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}