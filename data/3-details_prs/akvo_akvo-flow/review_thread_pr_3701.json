{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxNjc5Njc1", "number": 3701, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTozNDo1OVrOFAMH-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTozNjozM1rOFAMLfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzQyOTcwOnYy", "diffSide": "RIGHT", "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTozNDo1OVrOH-WVqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTo0MDoxN1rOH-WpYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEzOTc1Mw==", "bodyText": "Why there is a need to use a Pair from gwt?", "url": "https://github.com/akvo/akvo-flow/pull/3701#discussion_r535139753", "createdAt": "2020-12-03T11:34:59Z", "author": {"login": "iperdomo"}, "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "diffHunk": "@@ -16,11 +16,13 @@\n \n package com.gallatinsystems.survey.dao;\n \n+import com.google.gwt.dev.util.Pair;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4987d94d2faefce7dfabdc86e7bb785b8a542ae"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE0NDgwMw==", "bodyText": "we were using javafx.util.Pair but that worked in my local environment but broke the build saying the class was not found, this was another option, I don't see what si the problem with this class, can you specify? I also though about creating my own object but why doing so if that class exists, unless there is a valid reason to not use it", "url": "https://github.com/akvo/akvo-flow/pull/3701#discussion_r535144803", "createdAt": "2020-12-03T11:40:17Z", "author": {"login": "valllllll2000"}, "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "diffHunk": "@@ -16,11 +16,13 @@\n \n package com.gallatinsystems.survey.dao;\n \n+import com.google.gwt.dev.util.Pair;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEzOTc1Mw=="}, "originalCommit": {"oid": "f4987d94d2faefce7dfabdc86e7bb785b8a542ae"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NzQzODcwOnYy", "diffSide": "RIGHT", "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTozNjozM1rOH-Wbbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTo0MzoxOVrOH-W2QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE0MTIzMQ==", "bodyText": "this complex one can be done with new ArrayList(sourceToCopiedGroupMap.values()) ? not sure the value of stream to just get the values", "url": "https://github.com/akvo/akvo-flow/pull/3701#discussion_r535141231", "createdAt": "2020-12-03T11:36:33Z", "author": {"login": "iperdomo"}, "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "diffHunk": "@@ -111,14 +113,14 @@ public static void copySurvey(Long copiedSurveyId, Long originalSurveyId) {\n \n         log.log(Level.INFO, \"Copying \" + qgList.size() + \" `QuestionGroup`\");\n \n-        Map<Long, QuestionGroup> sourceToCopiedGroupMap = shallowCopyQuestionGroups(copiedSurveyId, qgList);\n+        List<Pair<Long, QuestionGroup>> sourceToCopiedGroupMap = shallowCopyQuestionGroups(copiedSurveyId, qgList);\n \n         // batch save question groups\n-        new QuestionGroupDao().save(sourceToCopiedGroupMap.values());\n+        new QuestionGroupDao().save(sourceToCopiedGroupMap.stream().map(pair -> pair.right).collect(Collectors.toList()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4987d94d2faefce7dfabdc86e7bb785b8a542ae"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE0ODA5Nw==", "bodyText": "yes because this is no longer a map, I renamed the var to reflect that", "url": "https://github.com/akvo/akvo-flow/pull/3701#discussion_r535148097", "createdAt": "2020-12-03T11:43:19Z", "author": {"login": "valllllll2000"}, "path": "GAE/src/com/gallatinsystems/survey/dao/SurveyUtils.java", "diffHunk": "@@ -111,14 +113,14 @@ public static void copySurvey(Long copiedSurveyId, Long originalSurveyId) {\n \n         log.log(Level.INFO, \"Copying \" + qgList.size() + \" `QuestionGroup`\");\n \n-        Map<Long, QuestionGroup> sourceToCopiedGroupMap = shallowCopyQuestionGroups(copiedSurveyId, qgList);\n+        List<Pair<Long, QuestionGroup>> sourceToCopiedGroupMap = shallowCopyQuestionGroups(copiedSurveyId, qgList);\n \n         // batch save question groups\n-        new QuestionGroupDao().save(sourceToCopiedGroupMap.values());\n+        new QuestionGroupDao().save(sourceToCopiedGroupMap.stream().map(pair -> pair.right).collect(Collectors.toList()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE0MTIzMQ=="}, "originalCommit": {"oid": "f4987d94d2faefce7dfabdc86e7bb785b8a542ae"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4622, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}