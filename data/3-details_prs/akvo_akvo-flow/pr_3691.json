{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDczODQ4", "number": 3691, "title": "[#3685] add tooltip translations", "bodyText": "Before the PR (what is the issue or what needed to be done)\nThe solution\nScreenshots (if appropriate)\nReviewer Checklist\n\n Added an explanation about the work done\n Connected the PR and the issue on Zenhub\n Added a test plan to the issue\n Updated the copyright header (when relevant)\n Formatted the code\n Added a documentation (if relevant)\n Added some unit tests (if relevant)", "createdAt": "2020-11-26T13:21:40Z", "url": "https://github.com/akvo/akvo-flow/pull/3691", "merged": true, "mergeCommit": {"oid": "4f056c22f55ea6d7e719eaa4a11af2068f442bb0"}, "closed": true, "closedAt": "2020-11-26T20:57:27Z", "author": {"login": "valllllll2000"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgUBJdAFqTUzOTM3MTg2MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgZYIoAFqTUzOTU0NjgzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzcxODYx", "url": "https://github.com/akvo/akvo-flow/pull/3691#pullrequestreview-539371861", "createdAt": "2020-11-26T14:42:10Z", "commit": {"oid": "1f16a50ef8ace22bd0034a12f5c9ddee23441dcb"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5Mzc1NzYx", "url": "https://github.com/akvo/akvo-flow/pull/3691#pullrequestreview-539375761", "createdAt": "2020-11-26T14:47:08Z", "commit": {"oid": "1f16a50ef8ace22bd0034a12f5c9ddee23441dcb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0NzowOFrOH6eX3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDo0NzowOFrOH6eX3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA3NzA4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        q.getKey().getId(), ParentType.QUESTION_TEXT));\n          \n          \n            \n                                        q.getKey().getId(), ParentType.QUESTION_TEXT, ParentType.QUESTION_TIP));\n          \n      \n    \n    \n  \n\nI believe in this one indeed we need to add the Question top as well.", "url": "https://github.com/akvo/akvo-flow/pull/3691#discussion_r531077086", "createdAt": "2020-11-26T14:47:08Z", "author": {"login": "muloem"}, "path": "GAE/src/com/gallatinsystems/survey/dao/QuestionDao.java", "diffHunk": "@@ -593,8 +593,8 @@ public Question getByKey(Long questionId) {\n                     if (Question.Type.OPTION == q.getType()) {\n                         q.setQuestionOptionMap(optionDao.listOptionByQuestion(q.getKey().getId()));\n                     }\n-                    q.setTranslationMap(translationDao.findTranslations(\n-                            ParentType.QUESTION_TEXT, q.getKey().getId()));\n+                    q.setTranslations(translationDao.findTranslations(\n+                            q.getKey().getId(), ParentType.QUESTION_TEXT));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f16a50ef8ace22bd0034a12f5c9ddee23441dcb"}, "originalPosition": 44}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49e3d2b7cf8d5590084495ced6d8206d6b31fbe6", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/49e3d2b7cf8d5590084495ced6d8206d6b31fbe6", "committedDate": "2020-11-26T18:31:38Z", "message": "[#3685] added tests for question converted to json + renamed a method\n\nif the method contains `get` the translations map is repeated in the json file"}, "afterCommit": {"oid": "e91ea9baf616fbc4c26bce9ad256c9c2733c35d0", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/e91ea9baf616fbc4c26bce9ad256c9c2733c35d0", "committedDate": "2020-11-26T18:37:26Z", "message": "[#3685] added tests for question converted to json + renamed a method\n\nif the method contains `get` the translations map is repeated in the json file\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5628fe086a96c76a41a7c9e8df551eb4a5556f4b", "author": {"user": {"login": "muloem", "name": "Emmanuel Mulo"}}, "url": "https://github.com/akvo/akvo-flow/commit/5628fe086a96c76a41a7c9e8df551eb4a5556f4b", "committedDate": "2020-11-26T18:45:53Z", "message": "[#3685] Cleanup unnecessary code to enable refactor translations (#3690)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f09a18fd03d83e25c12c5ca6660d9f37bdb8d55e", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/f09a18fd03d83e25c12c5ca6660d9f37bdb8d55e", "committedDate": "2020-11-26T18:46:37Z", "message": "[#3685] add tooltip translations\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb0f10343cdd7c9c9b6b7a58b635b88ea6f032cd", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/eb0f10343cdd7c9c9b6b7a58b635b88ea6f032cd", "committedDate": "2020-11-26T18:47:02Z", "message": "Update GAE/src/com/gallatinsystems/survey/dao/QuestionDao.java\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80bd3710a4325c7eece7cc393609690fdcf75ca7", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/80bd3710a4325c7eece7cc393609690fdcf75ca7", "committedDate": "2020-11-26T18:47:03Z", "message": "[#3685] added tests for question converted to json + renamed a method\n\nif the method contains `get` the translations map is repeated in the json file\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e91ea9baf616fbc4c26bce9ad256c9c2733c35d0", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/e91ea9baf616fbc4c26bce9ad256c9c2733c35d0", "committedDate": "2020-11-26T18:37:26Z", "message": "[#3685] added tests for question converted to json + renamed a method\n\nif the method contains `get` the translations map is repeated in the json file\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}, "afterCommit": {"oid": "80bd3710a4325c7eece7cc393609690fdcf75ca7", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/80bd3710a4325c7eece7cc393609690fdcf75ca7", "committedDate": "2020-11-26T18:47:03Z", "message": "[#3685] added tests for question converted to json + renamed a method\n\nif the method contains `get` the translations map is repeated in the json file\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTExNTE4", "url": "https://github.com/akvo/akvo-flow/pull/3691#pullrequestreview-539511518", "createdAt": "2020-11-26T18:51:19Z", "commit": {"oid": "80bd3710a4325c7eece7cc393609690fdcf75ca7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODo1MToyMFrOH6lM5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODo1MToyMFrOH6lM5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE4ODk2Nw==", "bodyText": "this cannot be a get method or the map and list both appear in the json file", "url": "https://github.com/akvo/akvo-flow/pull/3691#discussion_r531188967", "createdAt": "2020-11-26T18:51:20Z", "author": {"login": "valllllll2000"}, "path": "GAE/src/com/gallatinsystems/survey/domain/Question.java", "diffHunk": "@@ -184,12 +185,26 @@ public void setQuestionGroupId(Long questionGroupId) {\n         this.questionGroupId = questionGroupId;\n     }\n \n-    public Map<String, Translation> getTranslationMap() {\n-        return translationMap;\n+    public Map<String, Translation> translationsAsMap() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80bd3710a4325c7eece7cc393609690fdcf75ca7"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c7eddfc03a2d4dd8182de90efc80d7d8ce8ad0b", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/1c7eddfc03a2d4dd8182de90efc80d7d8ce8ad0b", "committedDate": "2020-11-26T18:54:02Z", "message": "[#3685] removed unused imports\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTQ2ODM2", "url": "https://github.com/akvo/akvo-flow/pull/3691#pullrequestreview-539546836", "createdAt": "2020-11-26T20:56:48Z", "commit": {"oid": "1c7eddfc03a2d4dd8182de90efc80d7d8ce8ad0b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4564, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}