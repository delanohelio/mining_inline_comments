{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NDY5NDYz", "number": 3694, "title": "[#3685] added translations to question group", "bodyText": "Before the PR (what is the issue or what needed to be done)\nThe solution\nScreenshots (if appropriate)\nReviewer Checklist\n\n Added an explanation about the work done\n Connected the PR and the issue on Zenhub\n Added a test plan to the issue\n Updated the copyright header (when relevant)\n Formatted the code\n Added a documentation (if relevant)\n Added some unit tests (if relevant)", "createdAt": "2020-11-30T11:03:31Z", "url": "https://github.com/akvo/akvo-flow/pull/3694", "merged": true, "mergeCommit": {"oid": "f07052992df5ae2ed1ec9791f2ec9880ec204dab"}, "closed": true, "closedAt": "2020-11-30T21:17:14Z", "author": {"login": "valllllll2000"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhjPZjAH2gAyNTI5NDY5NDYzOjM2NTE0OTNiOWE0N2Y1MTVjM2NkZmE5Y2MzNjEwMWNmNGJhMGM1YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhr4RVgFqTU0MTI5MjkwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "committedDate": "2020-11-30T11:00:14Z", "message": "[#3685] added translations to question group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwODI5ODMy", "url": "https://github.com/akvo/akvo-flow/pull/3694#pullrequestreview-540829832", "createdAt": "2020-11-30T11:41:28Z", "commit": {"oid": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMTo0MToyOFrOH73XKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMTo0MToyOFrOH73XKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjUzNTA4Mw==", "bodyText": "Wont it happen here that if we have a list of translation for both the group description and the group name that one will be overwritten for the same language?", "url": "https://github.com/akvo/akvo-flow/pull/3694#discussion_r532535083", "createdAt": "2020-11-30T11:41:28Z", "author": {"login": "muloem"}, "path": "GAE/src/com/gallatinsystems/survey/dao/QuestionGroupDao.java", "diffHunk": "@@ -79,6 +85,16 @@ public void deleteGroupsForSurvey(Long surveyId) throws IllegalDeletionException\n         if (groups != null) {\n             int i = 1;\n             for (QuestionGroup group : groups) {\n+                List<Translation> translations = translationDao.findTranslations(\n+                        group.getKey().getId(), Translation.ParentType.QUESTION_GROUP_DESC,\n+                        Translation.ParentType.QUESTION_GROUP_NAME);\n+                HashMap<String, Translation> translationMap = new HashMap<>();\n+                if (translations != null) {\n+                    for (Translation t: translations) {\n+                        translationMap.put(t.getLanguageCode(), t);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b0c37d0f3a338312a52fc33444d7de5448efe39", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/2b0c37d0f3a338312a52fc33444d7de5448efe39", "committedDate": "2020-11-30T11:56:33Z", "message": "[#3685] added test for group when no translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5beffd0004655ac096f63cf93c326f0ad8295ad7", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/5beffd0004655ac096f63cf93c326f0ad8295ad7", "committedDate": "2020-11-30T12:14:01Z", "message": "[#3685] use only \tquestion group name translation type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf6118be2bb310978ac782620bf565b4f60e7ab4", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/bf6118be2bb310978ac782620bf565b4f60e7ab4", "committedDate": "2020-11-30T13:02:10Z", "message": "[#3685] add translations to dto + add getters and setters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjkyOTAy", "url": "https://github.com/akvo/akvo-flow/pull/3694#pullrequestreview-541292902", "createdAt": "2020-11-30T21:04:07Z", "commit": {"oid": "bf6118be2bb310978ac782620bf565b4f60e7ab4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4567, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}