{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjI2OTg4", "number": 3695, "title": "Issue/3685 form translations", "bodyText": "Before the PR (what is the issue or what needed to be done)\nThe solution\nsecond part from #3694\nScreenshots (if appropriate)\nReviewer Checklist\n\n Added an explanation about the work done\n Connected the PR and the issue on Zenhub\n Added a test plan to the issue\n Updated the copyright header (when relevant)\n Formatted the code\n Added a documentation (if relevant)\n Added some unit tests (if relevant)", "createdAt": "2020-11-30T15:30:55Z", "url": "https://github.com/akvo/akvo-flow/pull/3695", "merged": true, "mergeCommit": {"oid": "dce9545d4cca27ef0c83a84e9997103748a436e8"}, "closed": true, "closedAt": "2020-12-01T05:36:20Z", "author": {"login": "valllllll2000"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhjPZjAH2gAyNTI5NjI2OTg4OjM2NTE0OTNiOWE0N2Y1MTVjM2NkZmE5Y2MzNjEwMWNmNGJhMGM1YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhsVGEAH2gAyNTI5NjI2OTg4OmI1ZGRlMzllNWRmZTZjODRhNDhlZGZiYjk0ZjM5MTljMWFhZGI1ZGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "committedDate": "2020-11-30T11:00:14Z", "message": "[#3685] added translations to question group"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b0c37d0f3a338312a52fc33444d7de5448efe39", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/2b0c37d0f3a338312a52fc33444d7de5448efe39", "committedDate": "2020-11-30T11:56:33Z", "message": "[#3685] added test for group when no translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5beffd0004655ac096f63cf93c326f0ad8295ad7", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/5beffd0004655ac096f63cf93c326f0ad8295ad7", "committedDate": "2020-11-30T12:14:01Z", "message": "[#3685] use only \tquestion group name translation type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf6118be2bb310978ac782620bf565b4f60e7ab4", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/bf6118be2bb310978ac782620bf565b4f60e7ab4", "committedDate": "2020-11-30T13:02:10Z", "message": "[#3685] add translations to dto + add getters and setters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f2747f7cfd216f07442d5d2383dfe932933117e", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/7f2747f7cfd216f07442d5d2383dfe932933117e", "committedDate": "2020-11-30T14:54:22Z", "message": "[#3685] added form title translation to xml + added tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9f6ee34766448f4a1a495a45deeeb87dcc2e562", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/f9f6ee34766448f4a1a495a45deeeb87dcc2e562", "committedDate": "2020-11-30T15:36:50Z", "message": "[#3685] remove commented out code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjgyMzE2", "url": "https://github.com/akvo/akvo-flow/pull/3695#pullrequestreview-541282316", "createdAt": "2020-11-30T20:48:31Z", "commit": {"oid": "f9f6ee34766448f4a1a495a45deeeb87dcc2e562"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0ODozMlrOH8NQZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0ODozMlrOH8NQZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5Mzc5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            form1.getObjectId(), Translation.ParentType.SURVEY_DESC);\n          \n          \n            \n                            form1.getObjectId(), Translation.ParentType.SURVEY_NAME;\n          \n      \n    \n    \n  \n\nPerhaps it should be the name instead?", "url": "https://github.com/akvo/akvo-flow/pull/3695#discussion_r532893799", "createdAt": "2020-11-30T20:48:32Z", "author": {"login": "muloem"}, "path": "GAE/test/org/akvo/flow/xml/FlowXmlObjectWriterTests.java", "diffHunk": "@@ -513,4 +515,76 @@ void testSerialiseFormWithBarcode() throws IOException {\n         //And finally parse it to a DTO\n         SurveyDto dto = PublishedForm.parse(xml, true).toDto(); //be strict\n     }\n+\n+    @Test\n+    void testSerialiseQuestionLessFormWithTranslations() throws IOException {\n+\n+        //Mock up a form tree\n+        Survey form1 = new Survey();\n+        form1.setKey(KeyFactory.createKey(\"Survey\", 17L));\n+        form1.setName(\"This is a form\");\n+        form1.setVersion(11.0);\n+        form1.setSurveyGroupId(123L);\n+\n+        HashMap<String, Translation> translationHashMap = createTranslationMap(\"Formulario\", \"es\", form1.getObjectId(),\n+                form1.getObjectId(), Translation.ParentType.SURVEY_DESC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9f6ee34766448f4a1a495a45deeeb87dcc2e562"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2b9399867fc42c8fc6715711ea9f9cc0b89c38e", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/b2b9399867fc42c8fc6715711ea9f9cc0b89c38e", "committedDate": "2020-11-30T20:52:54Z", "message": "Update GAE/test/org/akvo/flow/xml/FlowXmlObjectWriterTests.java\n\nCo-authored-by: Emmanuel Mulo <emmanuel@akvo.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d30dc3f8acdc883a0cbca1e6697d8808587a289c", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/d30dc3f8acdc883a0cbca1e6697d8808587a289c", "committedDate": "2020-11-30T21:19:46Z", "message": "[#3685] fix compilation error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61d3791ebdc1cf305d461c1fca56255d400d5083", "author": {"user": {"login": "muloem", "name": "Emmanuel Mulo"}}, "url": "https://github.com/akvo/akvo-flow/commit/61d3791ebdc1cf305d461c1fca56255d400d5083", "committedDate": "2020-11-30T21:29:36Z", "message": "[#3685] Merge branch 'master' into issue/3685-form-translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6729330fd704433951d48433d44b9021c0a4f6fe", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/6729330fd704433951d48433d44b9021c0a4f6fe", "committedDate": "2020-11-30T21:35:18Z", "message": "Merge branch 'master' into issue/3685-form-translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5dde39e5dfe6c84a48edfbb94f3919c1aadb5df", "author": {"user": null}, "url": "https://github.com/akvo/akvo-flow/commit/b5dde39e5dfe6c84a48edfbb94f3919c1aadb5df", "committedDate": "2020-11-30T21:35:36Z", "message": "Merge branch 'issue/3685-form-translations' of github.com:akvo/akvo-flow into issue/3685-form-translations"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4569, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}