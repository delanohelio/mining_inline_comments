{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNjA2NDg3", "number": 3653, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyNToyMlrOEtK5IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyODowN1rOEtK8qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1Nzk5ODQxOnYy", "diffSide": "RIGHT", "path": "GAE/src/org/akvo/flow/api/app/DataPointUtil.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyNToyMlrOHg0Cjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwNzoxMjoyN1rOHhFPCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE2OTEwMg==", "bodyText": "There are lots of changes to import style and order that are not directly to the change business logic change we want.", "url": "https://github.com/akvo/akvo-flow/pull/3653#discussion_r504169102", "createdAt": "2020-10-13T18:25:22Z", "author": {"login": "iperdomo"}, "path": "GAE/src/org/akvo/flow/api/app/DataPointUtil.java", "diffHunk": "@@ -35,10 +33,18 @@\n import org.waterforpeople.mapping.domain.SurveyInstance;\n import org.waterforpeople.mapping.serialization.response.MediaResponse;\n \n-import com.gallatinsystems.survey.dao.QuestionDao;\n-import com.gallatinsystems.survey.domain.Question;\n-import com.gallatinsystems.surveyal.domain.SurveyedLocale;\n import javax.annotation.Nullable;\n+import java.util.ArrayList;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757155a918a44db85ec5f64a844cc6527decfec5"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQ0NzYzNw==", "bodyText": "the IDE does this, we need a common code style for all IDEs so this does not happen", "url": "https://github.com/akvo/akvo-flow/pull/3653#discussion_r504447637", "createdAt": "2020-10-14T07:06:02Z", "author": {"login": "valllllll2000"}, "path": "GAE/src/org/akvo/flow/api/app/DataPointUtil.java", "diffHunk": "@@ -35,10 +33,18 @@\n import org.waterforpeople.mapping.domain.SurveyInstance;\n import org.waterforpeople.mapping.serialization.response.MediaResponse;\n \n-import com.gallatinsystems.survey.dao.QuestionDao;\n-import com.gallatinsystems.survey.domain.Question;\n-import com.gallatinsystems.surveyal.domain.SurveyedLocale;\n import javax.annotation.Nullable;\n+import java.util.ArrayList;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE2OTEwMg=="}, "originalCommit": {"oid": "757155a918a44db85ec5f64a844cc6527decfec5"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQ1MDgyNA==", "bodyText": "it does it with you reformat the whole file. We had a common style defined for Eclipse but not for IntelliJ IDEA", "url": "https://github.com/akvo/akvo-flow/pull/3653#discussion_r504450824", "createdAt": "2020-10-14T07:12:27Z", "author": {"login": "iperdomo"}, "path": "GAE/src/org/akvo/flow/api/app/DataPointUtil.java", "diffHunk": "@@ -35,10 +33,18 @@\n import org.waterforpeople.mapping.domain.SurveyInstance;\n import org.waterforpeople.mapping.serialization.response.MediaResponse;\n \n-import com.gallatinsystems.survey.dao.QuestionDao;\n-import com.gallatinsystems.survey.domain.Question;\n-import com.gallatinsystems.surveyal.domain.SurveyedLocale;\n import javax.annotation.Nullable;\n+import java.util.ArrayList;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE2OTEwMg=="}, "originalCommit": {"oid": "757155a918a44db85ec5f64a844cc6527decfec5"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1ODAwMDQ5OnYy", "diffSide": "RIGHT", "path": "GAE/src/org/waterforpeople/mapping/dao/SurveyInstanceDAO.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyNTo1N1rOHg0D4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyNTo1N1rOHg0D4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE2OTQ0Mg==", "bodyText": "IDEM. Import re-ordering, not directly related to business logic changes.", "url": "https://github.com/akvo/akvo-flow/pull/3653#discussion_r504169442", "createdAt": "2020-10-13T18:25:57Z", "author": {"login": "iperdomo"}, "path": "GAE/src/org/waterforpeople/mapping/dao/SurveyInstanceDAO.java", "diffHunk": "@@ -67,6 +44,26 @@\n import com.google.appengine.api.taskqueue.Queue;\n import com.google.appengine.api.taskqueue.QueueFactory;\n import com.google.appengine.api.taskqueue.TaskOptions;\n+import org.akvo.flow.domain.DataUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757155a918a44db85ec5f64a844cc6527decfec5"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1ODAwNzQ3OnYy", "diffSide": "RIGHT", "path": "GAE/src/org/waterforpeople/mapping/dao/SurveyInstanceDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyODowN1rOHg0IZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODoyODowN1rOHg0IZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE3MDU5OA==", "bodyText": "We're changing the logic and introduce a corner case. We should add a test in SurveyInstanceDAOTest", "url": "https://github.com/akvo/akvo-flow/pull/3653#discussion_r504170598", "createdAt": "2020-10-13T18:28:07Z", "author": {"login": "iperdomo"}, "path": "GAE/src/org/waterforpeople/mapping/dao/SurveyInstanceDAO.java", "diffHunk": "@@ -774,13 +771,14 @@ public SurveyInstance getRegistrationSurveyInstance(SurveyedLocale locale,\n     public List<SurveyInstance> getMonitoringData(@Nonnull List<SurveyedLocale> surveyedLocales, int numberOfInstances) {\n         List<SurveyInstance> result = new ArrayList<>();\n \n-        surveyedLocales.forEach(surveyedLocale ->\n-                result.add(getRegistrationSurveyInstance(surveyedLocale, surveyedLocale.getCreationSurveyId())));\n-\n-        surveyedLocales.forEach(surveyedLocale ->\n+        for (SurveyedLocale s: surveyedLocales) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757155a918a44db85ec5f64a844cc6527decfec5"}, "originalPosition": 65}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4596, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}