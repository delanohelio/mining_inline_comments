{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MTUwMDk5", "number": 687, "title": "Migrate Kafka Streams quickstart code to Mutiny", "bodyText": "Related issue #12520", "createdAt": "2020-10-05T22:20:17Z", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/687", "merged": true, "mergeCommit": {"oid": "9935e99202d14632918ff2a16896ef529ceb9a25"}, "closed": true, "closedAt": "2020-10-07T05:38:51Z", "author": {"login": "alexey-anufriev"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPyDzBAFqTUwMjYwNjk1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQGRqogFqTUwMzUzODA1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNjA2OTUy", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/687#pullrequestreview-502606952", "createdAt": "2020-10-06T06:05:24Z", "commit": {"oid": "71bde39b9af3afd8df4a3157be48db178df6559f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNjowNToyNVrOHc3GFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNjowNToyNVrOHc3GFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAyNDg1Mg==", "bodyText": "Minor - 2 things:\n\nwe can create a Multi directly from a Stream (Multi.createFrom().items(stream)), it will iterate according to demands, which is often better\nI don't believe we need to use KafkaRecord, we can use Record directly (depends who consume the stream).\n\nCan you check with:\npublic Multi<Record<Integer, String>> weatherStations() {\n   return Multi.createFrom().items(stations.stream()\n      .map(s -> Record.of(s.id, \"{ \\\"id\\\" : \" + s.id + \", \\\"name\\\" : \\\"\" + s.name + \"\\\" }\"))\n   );\n}", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/687#discussion_r500024852", "createdAt": "2020-10-06T06:05:25Z", "author": {"login": "cescoffier"}, "path": "kafka-streams-quickstart/producer/src/main/java/org/acme/kafka/streams/producer/generator/ValuesGenerator.java", "diffHunk": "@@ -60,13 +60,13 @@\n     }\n \n     @Outgoing(\"weather-stations\")\n-    public Flowable<KafkaRecord<Integer, String>> weatherStations() {\n+    public Multi<KafkaRecord<Integer, String>> weatherStations() {\n         List<KafkaRecord<Integer, String>> stationsAsJson = stations.stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71bde39b9af3afd8df4a3157be48db178df6559f"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fedea1a0ac233f2dbeb0df896944e248ee69f134", "author": {"user": {"login": "alexey-anufriev", "name": "Alexey Anufriev"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/fedea1a0ac233f2dbeb0df896944e248ee69f134", "committedDate": "2020-10-06T21:21:22Z", "message": "Migrate Kafka Streams quickstart code to Mutiny"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71bde39b9af3afd8df4a3157be48db178df6559f", "author": {"user": {"login": "alexey-anufriev", "name": "Alexey Anufriev"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/71bde39b9af3afd8df4a3157be48db178df6559f", "committedDate": "2020-10-05T22:17:51Z", "message": "Migrate Kafka Streams quickstart code to Mutiny"}, "afterCommit": {"oid": "fedea1a0ac233f2dbeb0df896944e248ee69f134", "author": {"user": {"login": "alexey-anufriev", "name": "Alexey Anufriev"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/fedea1a0ac233f2dbeb0df896944e248ee69f134", "committedDate": "2020-10-06T21:21:22Z", "message": "Migrate Kafka Streams quickstart code to Mutiny"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNTM4MDU5", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/687#pullrequestreview-503538059", "createdAt": "2020-10-07T05:38:45Z", "commit": {"oid": "fedea1a0ac233f2dbeb0df896944e248ee69f134"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3360, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}