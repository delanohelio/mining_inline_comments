{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5ODMyNzU5", "number": 721, "title": "reactive-messaging-http quickstart", "bodyText": "Check list:\nYour pull request:\n\n targets the development branch\n uses the 999-SNAPSHOT version of Quarkus\n has tests (mvn clean test)\n works in native (mvn clean package -Pnative)\n has native tests (mvn clean verify -Pnative)\n makes sure the associated guide must not be updated\n links the guide update pull request (if needed)\n updates or creates the README.md file (with build and run instructions)\n for new quickstart, is located in the directory component-quickstart\n for new quickstart, is added to the root pom.xml and README.md", "createdAt": "2020-11-30T21:52:12Z", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/721", "merged": true, "mergeCommit": {"oid": "5f8afd7772c97d411b9d0d95f87ad497a97cea49"}, "closed": true, "closedAt": "2021-01-21T18:47:59Z", "author": {"login": "michalszynkiewicz"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdyGofFABqjQyMzAwMDc2NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdyXvHuABqjQyMzQ2Njk1NTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6969b7d8c79fa4b2b976c778e20b0d8bcabf96f0", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/6969b7d8c79fa4b2b976c778e20b0d8bcabf96f0", "committedDate": "2020-11-30T21:49:59Z", "message": "reactive-messaging-http quickstart"}, "afterCommit": {"oid": "05c888c1f0887a7fb286f0f75c1c16e1a26b3d02", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/05c888c1f0887a7fb286f0f75c1c16e1a26b3d02", "committedDate": "2021-01-20T21:16:53Z", "message": "reactive-messaging-http quickstart"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMDE3MTE1", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/721#pullrequestreview-573017115", "createdAt": "2021-01-21T06:29:49Z", "commit": {"oid": "05c888c1f0887a7fb286f0f75c1c16e1a26b3d02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwNjoyOTo0OVrOIXnOwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwNjozMDo0MlrOIXnQGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTYzMDkxMw==", "bodyText": "Concurrency issue - sum can be accessed concurrently.", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/721#discussion_r561630913", "createdAt": "2021-01-21T06:29:49Z", "author": {"login": "cescoffier"}, "path": "reactive-messaging-http-quickstart/src/main/java/org/acme/reactivehttp/CostCollector.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.acme.reactivehttp;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+\n+@Path(\"/cost-collector\")\n+@ApplicationScoped\n+public class CostCollector {\n+\n+    private double sum = 0;\n+\n+    @POST\n+    public void consumeCost(String valueAsString) {\n+        sum += Double.parseDouble(valueAsString);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05c888c1f0887a7fb286f0f75c1c16e1a26b3d02"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTYzMTI1Ng==", "bodyText": "It might be just me, but I'm not a big fan of the 1. notation. I found 1.0 clearly, but again, that might be me, so feel free to ignore it.", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/721#discussion_r561631256", "createdAt": "2021-01-21T06:30:42Z", "author": {"login": "cescoffier"}, "path": "reactive-messaging-http-quickstart/src/main/java/org/acme/reactivehttp/CostConverter.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package org.acme.reactivehttp;\n+\n+import org.eclipse.microprofile.reactive.messaging.Incoming;\n+import org.eclipse.microprofile.reactive.messaging.Outgoing;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * A bean consuming costs in multiple currencies and producing prices in EUR from them\n+ */\n+@ApplicationScoped\n+public class CostConverter {\n+\n+    private static final Map<String, Double> conversionRatios = new HashMap<>();\n+\n+    static {\n+        conversionRatios.put(\"CHF\", 0.93);\n+        conversionRatios.put(\"USD\", 0.84);\n+        conversionRatios.put(\"PLN\", 0.22);\n+        conversionRatios.put(\"EUR\", 1.);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05c888c1f0887a7fb286f0f75c1c16e1a26b3d02"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05c888c1f0887a7fb286f0f75c1c16e1a26b3d02", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/05c888c1f0887a7fb286f0f75c1c16e1a26b3d02", "committedDate": "2021-01-20T21:16:53Z", "message": "reactive-messaging-http quickstart"}, "afterCommit": {"oid": "e32e5caec88e641196447a2d79b06ff38b6951ed", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/e32e5caec88e641196447a2d79b06ff38b6951ed", "committedDate": "2021-01-21T11:37:28Z", "message": "reactive-messaging-http quickstart"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMjg1MDg2", "url": "https://github.com/quarkusio/quarkus-quickstarts/pull/721#pullrequestreview-573285086", "createdAt": "2021-01-21T12:37:07Z", "commit": {"oid": "e32e5caec88e641196447a2d79b06ff38b6951ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1560a2475fe5c0a00d897680dfdc9dbe96de925a", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/1560a2475fe5c0a00d897680dfdc9dbe96de925a", "committedDate": "2021-01-21T17:09:12Z", "message": "reactive-messaging-http quickstart"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e32e5caec88e641196447a2d79b06ff38b6951ed", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/e32e5caec88e641196447a2d79b06ff38b6951ed", "committedDate": "2021-01-21T11:37:28Z", "message": "reactive-messaging-http quickstart"}, "afterCommit": {"oid": "1560a2475fe5c0a00d897680dfdc9dbe96de925a", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus-quickstarts/commit/1560a2475fe5c0a00d897680dfdc9dbe96de925a", "committedDate": "2021-01-21T17:09:12Z", "message": "reactive-messaging-http quickstart"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3373, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}