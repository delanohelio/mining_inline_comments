{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjM2Mzk3", "number": 8493, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozODo0MFrOE7gXRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozOTowOFrOE7gX-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODMxNjg1OnYy", "diffSide": "RIGHT", "path": "modules/runtime/src/service/systemd/xp.service", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozODo0MFrOH3MPog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTo0MzozOVrOH3MZ1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDMzOA==", "bodyText": "/opt Is it commonly used directory nowadays?", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527634338", "createdAt": "2020-11-20T11:38:40Z", "author": {"login": "rymsha"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNjk0OA==", "bodyText": "/opt \u2013 Optional Packages\n\nThe /opt directory contains subdirectories for optional software packages. It\u2019s commonly used by proprietary software that doesn\u2019t obey the standard file system hierarchy \u2013 for example, a proprietary program might dump its files in /opt/application when you install it.\n\nSo if the XP distro is installed there this makes sense.", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527636948", "createdAt": "2020-11-20T11:43:39Z", "author": {"login": "gbbirkisson"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDMzOA=="}, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODMxODY1OnYy", "diffSide": "RIGHT", "path": "modules/runtime/src/service/systemd/xp.service", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozOTowOFrOH3MQqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMjowODowNlrOH3NKQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDYwMA==", "bodyText": "does this apply to sh script? we don't directly call java, but does script propagate same java exit code (143 means java exited normally after SIGTERM)", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527634600", "createdAt": "2020-11-20T11:39:08Z", "author": {"login": "rymsha"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp\n+\n+User=xp\n+Group=xp\n+\n+ExecStart=/opt/enonic/xp/bin/server.sh\n+\n+StandardOutput=journal\n+StandardError=inherit\n+\n+LimitNOFILE=65535\n+\n+LimitNPROC=4096\n+\n+LimitAS=infinity\n+\n+LimitFSIZE=infinity\n+\n+KillSignal=SIGTERM\n+\n+KillMode=process\n+\n+SendSIGKILL=no\n+\n+SuccessExitStatus=143", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzODM1Nw==", "bodyText": "@anatol-sialitski can you verify this, please", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527638357", "createdAt": "2020-11-20T11:46:26Z", "author": {"login": "rymsha"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp\n+\n+User=xp\n+Group=xp\n+\n+ExecStart=/opt/enonic/xp/bin/server.sh\n+\n+StandardOutput=journal\n+StandardError=inherit\n+\n+LimitNOFILE=65535\n+\n+LimitNPROC=4096\n+\n+LimitAS=infinity\n+\n+LimitFSIZE=infinity\n+\n+KillSignal=SIGTERM\n+\n+KillMode=process\n+\n+SendSIGKILL=no\n+\n+SuccessExitStatus=143", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDYwMA=="}, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY0ODYxMA==", "bodyText": "Doing a test on my machine:\n$XP_HOME=$HOME/.enonic/sandboxes/jwt/home ./bin/server.sh\n\n....\n\nCTRL+C\n\n$echo $?\n130", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527648610", "createdAt": "2020-11-20T12:06:32Z", "author": {"login": "gbbirkisson"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp\n+\n+User=xp\n+Group=xp\n+\n+ExecStart=/opt/enonic/xp/bin/server.sh\n+\n+StandardOutput=journal\n+StandardError=inherit\n+\n+LimitNOFILE=65535\n+\n+LimitNPROC=4096\n+\n+LimitAS=infinity\n+\n+LimitFSIZE=infinity\n+\n+KillSignal=SIGTERM\n+\n+KillMode=process\n+\n+SendSIGKILL=no\n+\n+SuccessExitStatus=143", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDYwMA=="}, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY0OTM0NQ==", "bodyText": "Killing with sigterm results in 143.", "url": "https://github.com/enonic/xp/pull/8493#discussion_r527649345", "createdAt": "2020-11-20T12:08:06Z", "author": {"login": "gbbirkisson"}, "path": "modules/runtime/src/service/systemd/xp.service", "diffHunk": "@@ -0,0 +1,40 @@\n+[Unit]\n+Description=Enonic XP\n+Documentation=https://developer.enonic.com/docs\n+Wants=network-online.target\n+After=network-online.target\n+\n+[Service]\n+Type=simple\n+PrivateTmp=true\n+Environment=XP_INSTALL=/opt/enonic/xp\n+Environment=XP_JAVA_HOME=${XP_INSTALL}/jdk\n+\n+WorkingDirectory=/opt/enonic/xp\n+\n+User=xp\n+Group=xp\n+\n+ExecStart=/opt/enonic/xp/bin/server.sh\n+\n+StandardOutput=journal\n+StandardError=inherit\n+\n+LimitNOFILE=65535\n+\n+LimitNPROC=4096\n+\n+LimitAS=infinity\n+\n+LimitFSIZE=infinity\n+\n+KillSignal=SIGTERM\n+\n+KillMode=process\n+\n+SendSIGKILL=no\n+\n+SuccessExitStatus=143", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDYwMA=="}, "originalCommit": {"oid": "0f003b00a68da7bb5f1e1690e2a11f81eaf49dc0"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 968, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}