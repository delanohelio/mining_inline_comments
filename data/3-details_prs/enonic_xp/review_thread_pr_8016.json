{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxODE1OTU1", "number": 8016, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1MDoxOVrODwzNJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1OTowNFrODwzWjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDk3MTg4OnYy", "diffSide": "RIGHT", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ModifyLanguageParamsJson.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1MDoxOVrOGD_xZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1MDoxOVrOGD_xZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0Mzc1MQ==", "bodyText": "!isBlank()", "url": "https://github.com/enonic/xp/pull/8016#discussion_r406843751", "createdAt": "2020-04-10T16:50:19Z", "author": {"login": "rymsha"}, "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ModifyLanguageParamsJson.java", "diffHunk": "@@ -17,7 +18,10 @@\n     ModifyLanguageParamsJson( @JsonProperty(\"name\") final String name, @JsonProperty(\"language\") final String language )\n     {\n         this.name = ProjectName.from( name );\n-        this.language = Locale.forLanguageTag( language );\n+        this.language = Optional.ofNullable( language ).\n+            filter( lang -> !lang.trim().isEmpty() ).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dab44ad24a3ae4ab43a45a91c853617d40c3fa4f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDk3ODM4OnYy", "diffSide": "RIGHT", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/ProjectResource.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1Mjo0NVrOGD_1aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1Mjo0NVrOGD_1aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0NDc3Ng==", "bodyText": "To improve readability return optional from doApplyLanguage", "url": "https://github.com/enonic/xp/pull/8016#discussion_r406844776", "createdAt": "2020-04-10T16:52:45Z", "author": {"login": "rymsha"}, "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/ProjectResource.java", "diffHunk": "@@ -97,8 +97,9 @@ public ProjectJson modify( final MultipartForm form )\n     @Path(\"modifyLanguage\")\n     public String modifyLanguage( final ModifyLanguageParamsJson params )\n     {\n-        return doApplyLanguage( params.getName(), params.getLanguage() ).\n-            toLanguageTag();\n+        return Optional.ofNullable( doApplyLanguage( params.getName(), params.getLanguage() ) ).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dab44ad24a3ae4ab43a45a91c853617d40c3fa4f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDk4NDcwOnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/Content.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1NTowM1rOGD_5PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1NTowM1rOGD_5PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0NTc1Ng==", "bodyText": "getters to class of itself look very suspicions. What was wrong with direct field access?", "url": "https://github.com/enonic/xp/pull/8016#discussion_r406845756", "createdAt": "2020-04-10T16:55:03Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/Content.java", "diffHunk": "@@ -444,31 +444,31 @@ protected Builder()\n \n         protected Builder( final Content source )\n         {\n-            this.id = source.id;\n-            this.valid = source.valid;\n-            this.parentPath = source.parentPath;\n-            this.name = source.name;\n-            this.type = source.type;\n-            this.data = source.data != null ? source.data.copy() : null;\n-            this.attachments = source.attachments;\n-            this.extraDatas = source.extraDatas != null ? source.extraDatas.copy() : null;\n-            this.displayName = source.displayName;\n-            this.owner = source.owner;\n-            this.createdTime = source.createdTime;\n-            this.modifiedTime = source.modifiedTime;\n-            this.creator = source.creator;\n-            this.modifier = source.modifier;\n-            this.hasChildren = source.hasChildren;\n-            this.page = source.page != null ? source.page.copy() : null;\n-            this.thumbnail = source.thumbnail;\n-            this.childOrder = source.childOrder;\n-            this.permissions = source.permissions;\n-            this.inheritPermissions = source.inheritPermissions;\n-            this.language = source.language;\n-            this.contentState = source.contentState;\n-            this.publishInfo = source.publishInfo;\n-            this.processedReferences = ContentIds.create().addAll( source.processedReferences );\n-            this.workflowInfo = source.workflowInfo;\n+            this.id = source.getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dab44ad24a3ae4ab43a45a91c853617d40c3fa4f"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDk5NTk4OnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1OTowNFrOGEAAYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjo1OTowNFrOGEAAYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0NzU4NQ==", "bodyText": "this is not exact conversion. Exact one is !nullToEmpty( owner ).isBlank()\nBut why do we need this null guard? What cand of caller tries to add null owner/editor/author/...?", "url": "https://github.com/enonic/xp/pull/8016#discussion_r406847585", "createdAt": "2020-04-10T16:59:04Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java", "diffHunk": "@@ -105,7 +103,7 @@ private Builder( final ProjectPermissions source )\n \n         public Builder addOwner( final String owner )\n         {\n-            if ( StringUtils.isNotBlank( owner ) )\n+            if ( owner != null )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dab44ad24a3ae4ab43a45a91c853617d40c3fa4f"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1049, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}