{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MDYxNjY3", "number": 8246, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMDo0MlrOEREqUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxODoxMlrOERZ9VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzM3NjE3OnYy", "diffSide": "RIGHT", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/json/content/ContentSummaryJson.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMDo0MlrOG1lK4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMDo0MlrOG1lK4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgzNjcwNg==", "bodyText": "Use stream.distinct", "url": "https://github.com/enonic/xp/pull/8246#discussion_r458836706", "createdAt": "2020-07-22T14:30:42Z", "author": {"login": "rymsha"}, "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/json/content/ContentSummaryJson.java", "diffHunk": "@@ -44,7 +48,7 @@ public ContentSummaryJson( final Content content, final ContentIconUrlResolver i\n         this.thumbnailJson = content.hasThumbnail() ? new ThumbnailJson( content.getThumbnail() ) : null;\n         this.isSite = content.isSite();\n         this.isPage = content.hasPage();\n-        this.inherited = content.isInherited();\n+        this.inherit = new ArrayList( new TreeSet( content.getInherit() ) );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c8a3170e97525ecf4e5a7e0864b607f7074eda2"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzM4NzUzOnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentParams.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMzowN1rOG1lR4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMzowN1rOG1lR4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgzODQ5Ng==", "bodyText": "Collection instead of Set", "url": "https://github.com/enonic/xp/pull/8246#discussion_r458838496", "createdAt": "2020-07-22T14:33:07Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentParams.java", "diffHunk": "@@ -378,9 +380,12 @@ public Builder createSiteTemplateFolder( final boolean createSiteTemplateFolder\n             return this;\n         }\n \n-        public Builder inherited( final boolean inherited )\n+        public Builder inherit( final Set<ContentInheritType> inherit )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c8a3170e97525ecf4e5a7e0864b607f7074eda2"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzQxNjg4OnYy", "diffSide": "RIGHT", "path": "modules/core/core-content/src/main/java/com/enonic/xp/core/impl/content/serializer/ContentDataSerializer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozOToyNVrOG1lkQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozOToyNVrOG1lkQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg0MzIwMg==", "bodyText": "use Enum::name as it is guaranteed to be stable", "url": "https://github.com/enonic/xp/pull/8246#discussion_r458843202", "createdAt": "2020-07-22T14:39:25Z", "author": {"login": "rymsha"}, "path": "modules/core/core-content/src/main/java/com/enonic/xp/core/impl/content/serializer/ContentDataSerializer.java", "diffHunk": "@@ -242,6 +246,17 @@ private void addWorkflowInfo( final PropertySet contentAsData, final WorkflowInf\n         }\n     }\n \n+    private void addInherit( final PropertySet contentAsData, final Set<ContentInheritType> inherit )\n+    {\n+        if ( inherit != null )\n+        {\n+            contentAsData.ifNotNull().addStrings( INHERIT, inherit.\n+                stream().\n+                map( Enum::toString ).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c8a3170e97525ecf4e5a7e0864b607f7074eda2"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzQ0MDA3OnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/Content.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDo0NDoxOFrOG1lyuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDo0NDoxOFrOG1lyuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg0NjkwNw==", "bodyText": "Immutable EnumSet", "url": "https://github.com/enonic/xp/pull/8246#discussion_r458846907", "createdAt": "2020-07-22T14:44:18Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/Content.java", "diffHunk": "@@ -416,7 +418,7 @@ public int hashCode()\n \n         protected boolean hasChildren;\n \n-        protected boolean inherited;\n+        protected ImmutableSet.Builder<ContentInheritType> inherit = ImmutableSet.builder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c8a3170e97525ecf4e5a7e0864b607f7074eda2"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Njg1ODA1OnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentParams.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxNToyM1rOG2GGUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzoxNjowMlrOG2J_eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3NjIwOA==", "bodyText": "Why do you need null check?", "url": "https://github.com/enonic/xp/pull/8246#discussion_r459376208", "createdAt": "2020-07-23T11:15:23Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentParams.java", "diffHunk": "@@ -378,9 +381,12 @@ public Builder createSiteTemplateFolder( final boolean createSiteTemplateFolder\n             return this;\n         }\n \n-        public Builder inherited( final boolean inherited )\n+        public Builder inherit( final Collection<ContentInheritType> inherit )\n         {\n-            this.inherited = inherited;\n+            if ( inherit != null )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c830b7b9d68d6ea0003a5d56cd2681dea7876fd"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQzOTk5NA==", "bodyText": "to avoid NPE if someone will send it here(CreateContentParams is PublicApi)", "url": "https://github.com/enonic/xp/pull/8246#discussion_r459439994", "createdAt": "2020-07-23T13:16:02Z", "author": {"login": "vbradnitski"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentParams.java", "diffHunk": "@@ -378,9 +381,12 @@ public Builder createSiteTemplateFolder( final boolean createSiteTemplateFolder\n             return this;\n         }\n \n-        public Builder inherited( final boolean inherited )\n+        public Builder inherit( final Collection<ContentInheritType> inherit )\n         {\n-            this.inherited = inherited;\n+            if ( inherit != null )", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3NjIwOA=="}, "originalCommit": {"oid": "9c830b7b9d68d6ea0003a5d56cd2681dea7876fd"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Njg1OTI5OnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentTranslatorParams.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxNTo0OVrOG2GHHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxNTo0OVrOG2GHHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3NjQxMg==", "bodyText": "Allow Collection", "url": "https://github.com/enonic/xp/pull/8246#discussion_r459376412", "createdAt": "2020-07-23T11:15:49Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentTranslatorParams.java", "diffHunk": "@@ -387,9 +389,12 @@ public Builder workflowInfo( final WorkflowInfo workflowInfo )\n             return this;\n         }\n \n-        public Builder inherited( final boolean inherited )\n+        public Builder inherit( final Set<ContentInheritType> inherit )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c830b7b9d68d6ea0003a5d56cd2681dea7876fd"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Njg2MDAxOnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentTranslatorParams.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxNjowNVrOG2GHkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxNjowNVrOG2GHkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3NjUyOQ==", "bodyText": "Why would you need null check?", "url": "https://github.com/enonic/xp/pull/8246#discussion_r459376529", "createdAt": "2020-07-23T11:16:05Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/CreateContentTranslatorParams.java", "diffHunk": "@@ -387,9 +389,12 @@ public Builder workflowInfo( final WorkflowInfo workflowInfo )\n             return this;\n         }\n \n-        public Builder inherited( final boolean inherited )\n+        public Builder inherit( final Set<ContentInheritType> inherit )\n         {\n-            this.inherited = inherited;\n+            if ( inherit != null )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c830b7b9d68d6ea0003a5d56cd2681dea7876fd"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Njg2NTQ4OnYy", "diffSide": "RIGHT", "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/UpdateContentParams.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxODoxMlrOG2GLPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMToxODoxMlrOG2GLPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM3NzQ2OQ==", "bodyText": "It differs from CreateContentParams.\nThere inherit is an immutable final field set from a builder.", "url": "https://github.com/enonic/xp/pull/8246#discussion_r459377469", "createdAt": "2020-07-23T11:18:12Z", "author": {"login": "rymsha"}, "path": "modules/core/core-api/src/main/java/com/enonic/xp/content/UpdateContentParams.java", "diffHunk": "@@ -26,7 +27,7 @@\n \n     private boolean requireValid;\n \n-    private boolean inherited = false;\n+    private Set<ContentInheritType> inherit = Set.of();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c830b7b9d68d6ea0003a5d56cd2681dea7876fd"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 994, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}