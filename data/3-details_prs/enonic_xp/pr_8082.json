{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NTA1MTMy", "number": 8082, "title": "Implement lib-project #8068", "bodyText": "", "createdAt": "2020-05-13T17:24:28Z", "url": "https://github.com/enonic/xp/pull/8082", "merged": true, "mergeCommit": {"oid": "2a95d47aefa21398b4211d3d572923a00e6098e3"}, "closed": true, "closedAt": "2020-05-14T06:44:39Z", "author": {"login": "vbradnitski"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg8QOUgH2gAyNDE3NTA1MTMyOjg1YjA3ZDQ1M2RhNmY4ZjljZGFlMWEyZjQzN2Y1N2MxYWU4Y2JhM2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchHtPaAFqTQxMTUwNTk3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "85b07d453da6f8f9cdae1a2f437f57c1ae8cba3d", "author": {"user": {"login": "vbradnitski", "name": "Bradnitski Viachaslau"}}, "url": "https://github.com/enonic/xp/commit/85b07d453da6f8f9cdae1a2f437f57c1ae8cba3d", "committedDate": "2020-05-13T17:23:41Z", "message": "Implement lib-project #8068"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "author": {"user": {"login": "alansemenov", "name": "Alan Semenov"}}, "url": "https://github.com/enonic/xp/commit/e7b4686ebbc8d0270baed273b86f0cbef0caa02f", "committedDate": "2020-05-14T06:37:28Z", "message": "Fixed small codacy issues (#8068)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTA0OTY1", "url": "https://github.com/enonic/xp/pull/8082#pullrequestreview-411504965", "createdAt": "2020-05-14T06:42:34Z", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNFrOGVOEew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNFrOGVOEew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgwMw==", "bodyText": "Issue found: Unexpected use of undefined.", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903803", "createdAt": "2020-05-14T06:42:34Z", "author": {"login": "jsi"}, "path": "modules/lib/lib-project/src/main/resources/lib/xp/project.js", "diffHunk": "@@ -0,0 +1,200 @@\n+/**\n+ * Functions to manage Content Projects.\n+ *\n+ * @example\n+ * var projectLib = require('/lib/xp/project');\n+ *\n+ * @module project\n+ */\n+\n+/* global __ */\n+\n+function required(params, name) {\n+    var value = params[name];\n+    if (value === undefined) {\n+        throw 'Parameter \\'' + name + '\\' is required';\n+    }\n+\n+    return value;\n+}\n+\n+function nullOrValue(value) {\n+    if (value === undefined) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTA0OTc2", "url": "https://github.com/enonic/xp/pull/8082#pullrequestreview-411504976", "createdAt": "2020-05-14T06:42:35Z", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNVrOGVOEgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNVrOGVOEgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgwOQ==", "bodyText": "Issue found: Variable Assigned to Object Injection Sink", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903809", "createdAt": "2020-05-14T06:42:35Z", "author": {"login": "jsi"}, "path": "modules/lib/lib-project/src/main/resources/lib/xp/project.js", "diffHunk": "@@ -0,0 +1,200 @@\n+/**\n+ * Functions to manage Content Projects.\n+ *\n+ * @example\n+ * var projectLib = require('/lib/xp/project');\n+ *\n+ * @module project\n+ */\n+\n+/* global __ */\n+\n+function required(params, name) {\n+    var value = params[name];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTA0OTg5", "url": "https://github.com/enonic/xp/pull/8082#pullrequestreview-411504989", "createdAt": "2020-05-14T06:42:36Z", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNlrOGVOEjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozNlrOGVOEjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgyMA==", "bodyText": "Issue found: Missing semicolon.", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903820", "createdAt": "2020-05-14T06:42:36Z", "author": {"login": "jsi"}, "path": "modules/lib/lib-project/src/main/resources/lib/xp/examples/project/delete.js", "diffHunk": "@@ -0,0 +1,28 @@\n+// BEGIN\n+// Deletes an existing content project\n+var projectLib = require('/lib/xp/project');\n+var result = projectLib.delete({\n+    id: 'my-project'\n+});\n+// END\n+\n+// BEGIN\n+// Deletes an existing content project inside context with `system.admin` role\n+var projectLib2 = require('/lib/xp/project');\n+var contextLib = require('/lib/xp/context');\n+\n+var deleteProject = function () {\n+    return projectLib2.delete({\n+        id: 'my-project'\n+    });\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTA0OTk4", "url": "https://github.com/enonic/xp/pull/8082#pullrequestreview-411504998", "createdAt": "2020-05-14T06:42:37Z", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozN1rOGVOEmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNjo0MjozN1rOGVOEmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzgzMw==", "bodyText": "Issue found: 'log' is not defined.", "url": "https://github.com/enonic/xp/pull/8082#discussion_r424903833", "createdAt": "2020-05-14T06:42:37Z", "author": {"login": "jsi"}, "path": "modules/lib/lib-project/src/main/resources/lib/xp/examples/project/create.js", "diffHunk": "@@ -0,0 +1,96 @@\n+// BEGIN\n+// Creates a Content Project with minimal properties\n+var projectLib = require('/lib/xp/project');\n+try {\n+    var project = projectLib.create({\n+        id: 'my-project',\n+        displayName: 'My Content Project',\n+        readAccess: {\n+            public: true\n+        }\n+    });\n+} catch (e) {\n+    log.error('Failed to create a project: ' + e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTA1OTcy", "url": "https://github.com/enonic/xp/pull/8082#pullrequestreview-411505972", "createdAt": "2020-05-14T06:44:20Z", "commit": {"oid": "e7b4686ebbc8d0270baed273b86f0cbef0caa02f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4542, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}