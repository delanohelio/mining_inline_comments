{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NTQ0OTU5", "number": 8122, "title": "App initialiser is called before default repository is created #8119", "bodyText": "", "createdAt": "2020-06-02T12:13:48Z", "url": "https://github.com/enonic/xp/pull/8122", "merged": true, "mergeCommit": {"oid": "3379cd17db17f061a0a93064f7bb749c7aae080e"}, "closed": true, "closedAt": "2020-06-02T14:57:37Z", "author": {"login": "vbradnitski"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnUF6IgFqTQyMjYyNzg2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnVs0EgFqTQyMjczNDMxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNjI3ODYz", "url": "https://github.com/enonic/xp/pull/8122#pullrequestreview-422627863", "createdAt": "2020-06-02T12:32:44Z", "commit": {"oid": "638fa174f9b8830f9b474a2b41631f0c2bc155e5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMjozMjo0NFrOGdvcGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMjozMjo0NFrOGdvcGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgzOTEzMA==", "bodyText": "Could you write little bit more?\nMany starters depend on ContentService avaialbe only when default cms repo is fully initialized. Starting from 7.3 Initialization happens in ProjectService, so we need a dependency.", "url": "https://github.com/enonic/xp/pull/8122#discussion_r433839130", "createdAt": "2020-06-02T12:32:44Z", "author": {"login": "rymsha"}, "path": "modules/core/core-content/src/main/java/com/enonic/xp/core/impl/content/ContentServiceImpl.java", "diffHunk": "@@ -1290,4 +1291,10 @@ public void setContentAuditLogSupport( final ContentAuditLogSupport contentAudit\n     {\n         this.contentAuditLogSupport = contentAuditLogSupport;\n     }\n+\n+    @Reference\n+    public void setProjectService( final ProjectService projectService )\n+    {\n+        //Needed to ensure startup-order", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "638fa174f9b8830f9b474a2b41631f0c2bc155e5"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4100184009a68b998e941061668282ac9cf0d582", "author": {"user": {"login": "vbradnitski", "name": "Bradnitski Viachaslau"}}, "url": "https://github.com/enonic/xp/commit/4100184009a68b998e941061668282ac9cf0d582", "committedDate": "2020-06-02T12:40:26Z", "message": "App initialiser is called before default repository is created #8119"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "638fa174f9b8830f9b474a2b41631f0c2bc155e5", "author": {"user": {"login": "vbradnitski", "name": "Bradnitski Viachaslau"}}, "url": "https://github.com/enonic/xp/commit/638fa174f9b8830f9b474a2b41631f0c2bc155e5", "committedDate": "2020-06-02T12:12:30Z", "message": "App initialiser is called before default repository is created #8119"}, "afterCommit": {"oid": "4100184009a68b998e941061668282ac9cf0d582", "author": {"user": {"login": "vbradnitski", "name": "Bradnitski Viachaslau"}}, "url": "https://github.com/enonic/xp/commit/4100184009a68b998e941061668282ac9cf0d582", "committedDate": "2020-06-02T12:40:26Z", "message": "App initialiser is called before default repository is created #8119"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNjM2MjI1", "url": "https://github.com/enonic/xp/pull/8122#pullrequestreview-422636225", "createdAt": "2020-06-02T12:43:39Z", "commit": {"oid": "4100184009a68b998e941061668282ac9cf0d582"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNzM0MzEx", "url": "https://github.com/enonic/xp/pull/8122#pullrequestreview-422734311", "createdAt": "2020-06-02T14:26:05Z", "commit": {"oid": "4100184009a68b998e941061668282ac9cf0d582"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4417, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}