{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MDc5MTYw", "number": 7823, "title": "ES7: using ES_HOME env variable for embedded mode #7822", "bodyText": "", "createdAt": "2020-01-17T10:43:06Z", "url": "https://github.com/enonic/xp/pull/7823", "merged": true, "mergeCommit": {"oid": "510eb066dac5089461c038c96a3eb2304dcf883a"}, "closed": true, "closedAt": "2020-01-17T13:54:32Z", "author": {"login": "anatol-sialitski"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7Niy9AH2gAyMzY0MDc5MTYwOmJmY2M0ZGViZGQzNDUyYTQ2OTRiMWNhYjQ0MWYyZDYwYzE4MjQ4ZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7Nw1ZAFqTM0NDU0MjAxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3", "author": {"user": {"login": "anatol-sialitski", "name": null}}, "url": "https://github.com/enonic/xp/commit/bfcc4debdd3452a4694b1cab441f2d60c18248f3", "committedDate": "2020-01-17T12:03:14Z", "message": "ES7: using ES_HOME env variable for embedded mode #7822"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2e6ba2d463d08cd328d285a9059556101389aaa", "author": {"user": {"login": "anatol-sialitski", "name": null}}, "url": "https://github.com/enonic/xp/commit/a2e6ba2d463d08cd328d285a9059556101389aaa", "committedDate": "2020-01-17T11:59:25Z", "message": "ES7 and cluster: Index report should use rest client #7810"}, "afterCommit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3", "author": {"user": {"login": "anatol-sialitski", "name": null}}, "url": "https://github.com/enonic/xp/commit/bfcc4debdd3452a4694b1cab441f2d60c18248f3", "committedDate": "2020-01-17T12:03:14Z", "message": "ES7: using ES_HOME env variable for embedded mode #7822"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NTQyMDE0", "url": "https://github.com/enonic/xp/pull/7823#pullrequestreview-344542014", "createdAt": "2020-01-17T12:18:13Z", "commit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMjoxODoxM1rOFe3W3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMjoxODoxM1rOFe3W3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkwODU3NA==", "bodyText": "why toFile().toPath() ?", "url": "https://github.com/enonic/xp/pull/7823#discussion_r367908574", "createdAt": "2020-01-17T12:18:13Z", "author": {"login": "rymsha"}, "path": "modules/core/core-elasticsearch-server/src/main/java/com/enonic/xp/elasticsearch/server/config/ElasticsearchServerConfigResolver.java", "diffHunk": "@@ -49,13 +49,14 @@ private String getPathOfDirAsString( final String value, final String defaultSub\n             return value;\n         }\n \n-        return HomeDir.get().toFile().toPath().resolve( defaultSubPath ).toAbsolutePath().toString();\n-    }\n-\n-    public String resolveElasticServerDir()\n-    {\n-        final String value = configuration.esServerDir();\n-        return getPathOfDirAsString( value, \"../elasticsearch\" );\n+        try\n+        {\n+            return Files.createDirectories( HomeDir.get().toFile().toPath().resolve( defaultSubPath ) ).toAbsolutePath().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4557, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}