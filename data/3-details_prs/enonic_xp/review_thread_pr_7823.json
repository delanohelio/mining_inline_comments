{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MDc5MTYw", "number": 7823, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMjoxODoxM1rODYzO-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMjoxODoxM1rODYzO-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MzMxODMzOnYy", "diffSide": "RIGHT", "path": "modules/core/core-elasticsearch-server/src/main/java/com/enonic/xp/elasticsearch/server/config/ElasticsearchServerConfigResolver.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMjoxODoxM1rOFe3W3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxMzo1Mzo0N1rOFe5mZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkwODU3NA==", "bodyText": "why toFile().toPath() ?", "url": "https://github.com/enonic/xp/pull/7823#discussion_r367908574", "createdAt": "2020-01-17T12:18:13Z", "author": {"login": "rymsha"}, "path": "modules/core/core-elasticsearch-server/src/main/java/com/enonic/xp/elasticsearch/server/config/ElasticsearchServerConfigResolver.java", "diffHunk": "@@ -49,13 +49,14 @@ private String getPathOfDirAsString( final String value, final String defaultSub\n             return value;\n         }\n \n-        return HomeDir.get().toFile().toPath().resolve( defaultSubPath ).toAbsolutePath().toString();\n-    }\n-\n-    public String resolveElasticServerDir()\n-    {\n-        final String value = configuration.esServerDir();\n-        return getPathOfDirAsString( value, \"../elasticsearch\" );\n+        try\n+        {\n+            return Files.createDirectories( HomeDir.get().toFile().toPath().resolve( defaultSubPath ) ).toAbsolutePath().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0NTMxOQ==", "bodyText": "HomeDir.get() returns an instance of HomeDir, so we need to call toFole and toPath", "url": "https://github.com/enonic/xp/pull/7823#discussion_r367945319", "createdAt": "2020-01-17T13:53:47Z", "author": {"login": "anatol-sialitski"}, "path": "modules/core/core-elasticsearch-server/src/main/java/com/enonic/xp/elasticsearch/server/config/ElasticsearchServerConfigResolver.java", "diffHunk": "@@ -49,13 +49,14 @@ private String getPathOfDirAsString( final String value, final String defaultSub\n             return value;\n         }\n \n-        return HomeDir.get().toFile().toPath().resolve( defaultSubPath ).toAbsolutePath().toString();\n-    }\n-\n-    public String resolveElasticServerDir()\n-    {\n-        final String value = configuration.esServerDir();\n-        return getPathOfDirAsString( value, \"../elasticsearch\" );\n+        try\n+        {\n+            return Files.createDirectories( HomeDir.get().toFile().toPath().resolve( defaultSubPath ) ).toAbsolutePath().toString();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkwODU3NA=="}, "originalCommit": {"oid": "bfcc4debdd3452a4694b1cab441f2d60c18248f3"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1074, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}