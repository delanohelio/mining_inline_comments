{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMjE4Njgx", "number": 2023, "title": "Added maven profile to run a set of integration tests for the new image certification", "bodyText": "this set of tests added to the new maven profile\nItParameterizedDomain.java\nItServerStartPolicy.java\nItMiiUpdateDomainConfig.java\nItIntrospectVersion.java\nItMiiSample.java,\nItJrfDomainInPV.java,\nItStickySession.java\nItSessionMigration.java\nbased on the QA wiki:\nhttp://aseng-wiki.****/asengwiki/display/WLSQA/WebLogic+Kubernetes+Operator+Certification\nJenkins job passed\n\n\nparallel + fmw-image-cert\nhttps://build.weblogick8s.org:8443/job/wko-tmp/92\n\n\nparallel + wls-image-cert\nhttps://build.weblogick8s.org:8443/job/wko-tmp/95/\n\n\nparallel + integration-tests\nhttps://build.weblogick8s.org:8443/job/wko-tmp/94/", "createdAt": "2020-10-30T18:54:42Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023", "merged": true, "mergeCommit": {"oid": "bb5ab0b549ae67ebf8ebf81f0202d4fa15138fac"}, "closed": true, "closedAt": "2020-11-09T21:27:24Z", "author": {"login": "hzhao-github"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXrQ0fgH2gAyNTEzMjE4NjgxOjc1Yjk2MWMxZmVkY2YxOTIyNzU4MTI0OGRmZGRlOTlhZWNiZTIxZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda7J63AFqTUyNjY0NTk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75b961c1fedcf19227581248dfdde99aecbe21f9", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/75b961c1fedcf19227581248dfdde99aecbe21f9", "committedDate": "2020-10-30T18:41:47Z", "message": "Added maven profile to run a set of integration tests for the new image certification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwOTg0MjE2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-520984216", "createdAt": "2020-10-30T19:40:33Z", "commit": {"oid": "75b961c1fedcf19227581248dfdde99aecbe21f9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1295bff6ee9797ea52603bbf684fa38b13afbe73", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1295bff6ee9797ea52603bbf684fa38b13afbe73", "committedDate": "2020-10-30T21:56:34Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into maven-image-verify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051c8395577b047ee0d9cd0fee3df1bf96705dd3", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/051c8395577b047ee0d9cd0fee3df1bf96705dd3", "committedDate": "2020-10-30T22:20:26Z", "message": "Enabled verify-images-tests in kindtest.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9c922a556ddbd404df7a359e52a7c4979b351fd3", "committedDate": "2020-11-02T20:02:46Z", "message": "Changed the newly added option from boolean to string in kindtest.sh"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyODQ3Njg3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-522847687", "createdAt": "2020-11-03T20:23:49Z", "commit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyODQ2NjQ3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-522846647", "createdAt": "2020-11-03T20:22:05Z", "commit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDoyMjowNlrOHs_IZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDozMzo1OVrOHs_fBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzczNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            verify_image_run=\"false\"\n          \n          \n            \n            maven_profile_name=\"integration-tests\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516933735", "createdAt": "2020-11-03T20:22:06Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -73,6 +75,7 @@ parallel_run=\"false\"\n threads=\"2\"\n wdt_download_url=\"https://github.com/oracle/weblogic-deploy-tooling/releases/latest\"\n wit_download_url=\"https://github.com/oracle/weblogic-image-tool/releases/latest\"\n+verify_image_run=\"false\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzkxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                m) verify_image_run=\"${OPTARG}\"\n          \n          \n            \n                m) maven_profile_name=\"${OPTARG}\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516933913", "createdAt": "2020-11-03T20:22:27Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -94,6 +97,8 @@ while getopts \":h:n:o:t:v:c:x:p:d:i:\" opt; do\n     ;;\n     i) wit_download_url=\"${OPTARG}\"\n     ;;\n+    m) verify_image_run=\"${OPTARG}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzOTUyNw==", "bodyText": "you don't need this condition, use ${maven_profile_name} in the mvn command", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516939527", "createdAt": "2020-11-03T20:33:59Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -237,9 +242,19 @@ rm -rf \"${RESULT_ROOT:?}/*\"\n \n echo 'Run tests...'\n if [ \"${test_filter}\" = \"ItOperatorUpgrade\" ] || [ \"${parallel_run}\" = \"false\" ]; then\n-  echo \"Running mvn -Dit.test=${test_filter} -Dwdt.download.url=${wdt_download_url} -Dwit.download.url=${wit_download_url} -pl integration-tests -P integration-tests verify\"\n-  time mvn -Dit.test=\"${test_filter}\" -Dwdt.download.url=\"${wdt_download_url}\" -Dwit.download.url=\"${wit_download_url}\" -pl integration-tests -P integration-tests verify 2>&1 | tee \"${RESULT_ROOT}/kindtest.log\"\n+  if [ \"${verify_image_run}\" != \"verify-images-tests\" ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c305b2e96b20a2ea999bd466cd58ed73ddbe517", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9c305b2e96b20a2ea999bd466cd58ed73ddbe517", "committedDate": "2020-11-03T22:37:18Z", "message": "Added one more profile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7f97ec3c94a4808d4475c45fda3cf375bc34fb8", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b7f97ec3c94a4808d4475c45fda3cf375bc34fb8", "committedDate": "2020-11-03T23:04:06Z", "message": "Added one more profile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffd9ca6d9fc21c8b06d7cae5028194368009f412", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ffd9ca6d9fc21c8b06d7cae5028194368009f412", "committedDate": "2020-11-05T03:11:26Z", "message": "Changed project name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8740ed958dd63e338c6ca41b097909e40e12140", "author": {"user": {"login": "hzhao-github", "name": "Huiling Zhao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d8740ed958dd63e338c6ca41b097909e40e12140", "committedDate": "2020-11-05T18:23:44Z", "message": "A small fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8935522ba193e9592072809700ad94d833de603b", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8935522ba193e9592072809700ad94d833de603b", "committedDate": "2020-11-06T05:19:07Z", "message": "Changed test filter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MjA5OTIy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-525209922", "createdAt": "2020-11-06T14:36:01Z", "commit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNDozNjowMVrOHuwdfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNDozNjowMVrOHuwdfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc5MDUyNg==", "bodyText": "if (maven_profile_name)  is not defined  (the current behaviour) what path it should follows ?  It should default to current behavior  where it does not take any maven profile.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r518790526", "createdAt": "2020-11-06T14:36:01Z", "author": {"login": "anpanigr"}, "path": "kindtest.sh", "diffHunk": "@@ -235,11 +242,18 @@ export JAVA_HOME=\"${JAVA_HOME:-`type -p java|xargs readlink -f|xargs dirname|xar\n echo 'Clean up result root...'\n rm -rf \"${RESULT_ROOT:?}/*\"\n \n-echo 'Run tests...'\n+echo 'Determine test filter ...'\n+if [ \"${maven_profile_name}\" = \"wls-image-cert\" ]; then\n+  test_filter=\"${test_filter_wls}\"\n+elif [ \"${maven_profile_name}\" = \"fmw-image-cert\" ]; then\n+  test_filter=\"${test_filter_fmw}\"\n+fi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MzMzOTg3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-525333987", "createdAt": "2020-11-06T17:01:15Z", "commit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzowMToxNVrOHu2GAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzowMToxNVrOHu2GAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODg4MjgxOA==", "bodyText": "these are defined in the profile, you don't have to set here", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r518882818", "createdAt": "2020-11-06T17:01:15Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -68,13 +70,16 @@ else\n   outdir=\"${WORKSPACE}/logdir/${BUILD_TAG}\"\n fi\n test_filter=\"**/It*\"\n+test_filter_wls=\"**/ItParameterizedDomain.java,**/ItServerStartPolicy.java,**/ItMiiUpdateDomainConfig.java,**/ItIntrospectVersion.java,**/ItMiiSample.java,**/ItJrfDomainInPV.java,**/ItStickySession.java,**/ItSessionMigration.java\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fc8233a67ba984e23c65fe457547fd1818c940a", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2fc8233a67ba984e23c65fe457547fd1818c940a", "committedDate": "2020-11-06T17:46:05Z", "message": "Debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09520e39774871ccf01e26a35f685966e5dc5cd8", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/09520e39774871ccf01e26a35f685966e5dc5cd8", "committedDate": "2020-11-06T19:23:15Z", "message": "Removed test filter for the profile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NjAwNDEz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-526600413", "createdAt": "2020-11-09T19:49:35Z", "commit": {"oid": "09520e39774871ccf01e26a35f685966e5dc5cd8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NjQ1OTU5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#pullrequestreview-526645959", "createdAt": "2020-11-09T20:54:30Z", "commit": {"oid": "09520e39774871ccf01e26a35f685966e5dc5cd8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4066, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}