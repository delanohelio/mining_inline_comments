{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MTc4Njg3", "number": 1872, "title": "log rotation enhancements and doc", "bodyText": "This pull covers the work for JIRA OWLS-83859:\n\nadd log rotation for node manager .out/.log\nenhance log rotation for introspector .out\ndocument log rotation for WLS .out and .log", "createdAt": "2020-08-14T20:53:52Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872", "merged": true, "mergeCommit": {"oid": "915434c3059c9d8937cc52513b3f5de1beb4a79d"}, "closed": true, "closedAt": "2020-08-17T21:42:26Z", "author": {"login": "tbarnes-us"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-68-ggH2gAyNDY4MTc4Njg3OmI3NDFmYTJiMDA1ZWM1OWY0YTI1NGY0NjMyZTQ4YmFlMzU0YTM1ZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_5fhmAFqTQ2ODg1MjI3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b741fa2b005ec59f4a254f4632e48bae354a35d4", "committedDate": "2020-08-14T20:50:29Z", "message": "Add log rotation for NM .out/.log, enhance log rotation for introspector .out, and document log rotation for WLS .out and .log."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NDIxMzEz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#pullrequestreview-468421313", "createdAt": "2020-08-17T12:34:19Z", "commit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjozNDoxOVrOHBm2rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjo0MzozNFrOHBnJiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ0NzIxNQ==", "bodyText": "WebLogic servers -> WebLogic Servers (Because WebLogic Server is a legal product name, it should always be capitalized)\nIn your previous sentence, \"...rotation behavior for WebLogic domains and servers,\" I recommend that you re-write it as \"...rotation behavior for WebLogic Servers and domains.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#discussion_r471447215", "createdAt": "2020-08-17T12:34:19Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-domains/_index.md", "diffHunk": "@@ -132,3 +134,65 @@ The operator let's you initiate scaling of clusters in various ways:\n * [Using the operator's REST APIs]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#calling-the-operators-rest-scale-api\" >}})\n * [Using WLDF policies]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-wldf-policy-rule-and-script-action-to-call-the-operators-rest-scale-api\" >}})\n * [Using a Prometheus action]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-prometheus-alert-action-to-call-the-operators-rest-scale-api\" >}})\n+\n+### Log files\n+\n+The operator can automatically override WebLogic domain, server, and introspector `.log` and `.out` locations.\n+This occurs if the Domain `logHomeEnabled` field is explicitly set to `true`, or if `logHomeEnabled` isn't set\n+and `domainHomeSourceType` is set to `PersistentVolume`.  When overriding, the log location will be the location specified by the `logHome` setting.\n+\n+If you want to fine tune the `.log` and `.out` rotation behavior for WebLogic domains and servers, then\n+you can update the related `Log MBean` in your WebLogic configuration. Alternatively, for WebLogic\n+servers, you can set corresponding system properties in `JAVA_OPTIONS`:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ0NzU5Nw==", "bodyText": "off-line -> offline (adj) (adv) One word. Note no hyphen.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#discussion_r471447597", "createdAt": "2020-08-17T12:35:07Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-domains/_index.md", "diffHunk": "@@ -132,3 +134,65 @@ The operator let's you initiate scaling of clusters in various ways:\n * [Using the operator's REST APIs]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#calling-the-operators-rest-scale-api\" >}})\n * [Using WLDF policies]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-wldf-policy-rule-and-script-action-to-call-the-operators-rest-scale-api\" >}})\n * [Using a Prometheus action]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-prometheus-alert-action-to-call-the-operators-rest-scale-api\" >}})\n+\n+### Log files\n+\n+The operator can automatically override WebLogic domain, server, and introspector `.log` and `.out` locations.\n+This occurs if the Domain `logHomeEnabled` field is explicitly set to `true`, or if `logHomeEnabled` isn't set\n+and `domainHomeSourceType` is set to `PersistentVolume`.  When overriding, the log location will be the location specified by the `logHome` setting.\n+\n+If you want to fine tune the `.log` and `.out` rotation behavior for WebLogic domains and servers, then\n+you can update the related `Log MBean` in your WebLogic configuration. Alternatively, for WebLogic\n+servers, you can set corresponding system properties in `JAVA_OPTIONS`:\n+\n+- Here are some WLST off-line examples for creating and accessing commonly tuned Log MBeans:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ0ODAzMQ==", "bodyText": "Here is WLST off-line for commonly tuned Log MBean attributes: -> Here are some WLST offline (command settings OR examples) for commonly tuned Log MBean attributes:", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#discussion_r471448031", "createdAt": "2020-08-17T12:35:57Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-domains/_index.md", "diffHunk": "@@ -132,3 +134,65 @@ The operator let's you initiate scaling of clusters in various ways:\n * [Using the operator's REST APIs]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#calling-the-operators-rest-scale-api\" >}})\n * [Using WLDF policies]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-wldf-policy-rule-and-script-action-to-call-the-operators-rest-scale-api\" >}})\n * [Using a Prometheus action]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-prometheus-alert-action-to-call-the-operators-rest-scale-api\" >}})\n+\n+### Log files\n+\n+The operator can automatically override WebLogic domain, server, and introspector `.log` and `.out` locations.\n+This occurs if the Domain `logHomeEnabled` field is explicitly set to `true`, or if `logHomeEnabled` isn't set\n+and `domainHomeSourceType` is set to `PersistentVolume`.  When overriding, the log location will be the location specified by the `logHome` setting.\n+\n+If you want to fine tune the `.log` and `.out` rotation behavior for WebLogic domains and servers, then\n+you can update the related `Log MBean` in your WebLogic configuration. Alternatively, for WebLogic\n+servers, you can set corresponding system properties in `JAVA_OPTIONS`:\n+\n+- Here are some WLST off-line examples for creating and accessing commonly tuned Log MBeans:\n+\n+  ```bash\n+  # domain log\n+  cd('/')\n+  create(dname,'Log')\n+  cd('/Log/' + dname);\n+  \n+  # configured server log for a server named 'sname'\n+  cd('/Servers/' + sname)\n+  create(sname, 'Log')\n+  cd('/Servers/' + sname + '/Log/' + sname)\n+  \n+  # templated (dynamic) server log for a template named 'tname'\n+  cd('/ServerTemplates/' + tname)\n+  create(tname,'Log')\n+  cd('/ServerTemplates/' + tname + '/Log/' + tname)\n+  ```\n+\n+- Here is WLST off-line for commonly tuned Log MBean attributes:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ1MTE0MQ==", "bodyText": "WebLogic server -> WebLogic Server", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#discussion_r471451141", "createdAt": "2020-08-17T12:41:51Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-domains/_index.md", "diffHunk": "@@ -132,3 +134,65 @@ The operator let's you initiate scaling of clusters in various ways:\n * [Using the operator's REST APIs]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#calling-the-operators-rest-scale-api\" >}})\n * [Using WLDF policies]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-wldf-policy-rule-and-script-action-to-call-the-operators-rest-scale-api\" >}})\n * [Using a Prometheus action]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-prometheus-alert-action-to-call-the-operators-rest-scale-api\" >}})\n+\n+### Log files\n+\n+The operator can automatically override WebLogic domain, server, and introspector `.log` and `.out` locations.\n+This occurs if the Domain `logHomeEnabled` field is explicitly set to `true`, or if `logHomeEnabled` isn't set\n+and `domainHomeSourceType` is set to `PersistentVolume`.  When overriding, the log location will be the location specified by the `logHome` setting.\n+\n+If you want to fine tune the `.log` and `.out` rotation behavior for WebLogic domains and servers, then\n+you can update the related `Log MBean` in your WebLogic configuration. Alternatively, for WebLogic\n+servers, you can set corresponding system properties in `JAVA_OPTIONS`:\n+\n+- Here are some WLST off-line examples for creating and accessing commonly tuned Log MBeans:\n+\n+  ```bash\n+  # domain log\n+  cd('/')\n+  create(dname,'Log')\n+  cd('/Log/' + dname);\n+  \n+  # configured server log for a server named 'sname'\n+  cd('/Servers/' + sname)\n+  create(sname, 'Log')\n+  cd('/Servers/' + sname + '/Log/' + sname)\n+  \n+  # templated (dynamic) server log for a template named 'tname'\n+  cd('/ServerTemplates/' + tname)\n+  create(tname,'Log')\n+  cd('/ServerTemplates/' + tname + '/Log/' + tname)\n+  ```\n+\n+- Here is WLST off-line for commonly tuned Log MBean attributes:\n+\n+  ```bash\n+  # minimum log file size before rotation in kilobytes\n+  set('FileMinSize', 1000)\n+  \n+  # maximum number of rotated files\n+  set('FileCount', 10)\n+  \n+  # set to true to rotate file every time on startup (instead of append)\n+  set('RotateLogOnStartup', 'true')\n+  ```\n+\n+- Here are the defaults for commonly tuned Log MBean attributes:\n+\n+  | Log MBean Attribute | Production Mode Default | Development Mode Default |\n+  | --------- | ----------------------- | ------------------------ |\n+  | FileMinSize (in kilobytes) | 5000 | 500 |\n+  | FileCount | 100 | 7 |\n+  | RotateLogOnStartup | false | true |\n+\n+- For WebLogic server `.log` and `.out` files (including both dynamic and configured servers), you can alternatively", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ1MjA0MQ==", "bodyText": "WebLogic servers -> WebLogic Servers", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#discussion_r471452041", "createdAt": "2020-08-17T12:43:34Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-domains/_index.md", "diffHunk": "@@ -132,3 +134,65 @@ The operator let's you initiate scaling of clusters in various ways:\n * [Using the operator's REST APIs]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#calling-the-operators-rest-scale-api\" >}})\n * [Using WLDF policies]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-wldf-policy-rule-and-script-action-to-call-the-operators-rest-scale-api\" >}})\n * [Using a Prometheus action]({{< relref \"/userguide/managing-domains/domain-lifecycle/scaling#using-a-prometheus-alert-action-to-call-the-operators-rest-scale-api\" >}})\n+\n+### Log files\n+\n+The operator can automatically override WebLogic domain, server, and introspector `.log` and `.out` locations.\n+This occurs if the Domain `logHomeEnabled` field is explicitly set to `true`, or if `logHomeEnabled` isn't set\n+and `domainHomeSourceType` is set to `PersistentVolume`.  When overriding, the log location will be the location specified by the `logHome` setting.\n+\n+If you want to fine tune the `.log` and `.out` rotation behavior for WebLogic domains and servers, then\n+you can update the related `Log MBean` in your WebLogic configuration. Alternatively, for WebLogic\n+servers, you can set corresponding system properties in `JAVA_OPTIONS`:\n+\n+- Here are some WLST off-line examples for creating and accessing commonly tuned Log MBeans:\n+\n+  ```bash\n+  # domain log\n+  cd('/')\n+  create(dname,'Log')\n+  cd('/Log/' + dname);\n+  \n+  # configured server log for a server named 'sname'\n+  cd('/Servers/' + sname)\n+  create(sname, 'Log')\n+  cd('/Servers/' + sname + '/Log/' + sname)\n+  \n+  # templated (dynamic) server log for a template named 'tname'\n+  cd('/ServerTemplates/' + tname)\n+  create(tname,'Log')\n+  cd('/ServerTemplates/' + tname + '/Log/' + tname)\n+  ```\n+\n+- Here is WLST off-line for commonly tuned Log MBean attributes:\n+\n+  ```bash\n+  # minimum log file size before rotation in kilobytes\n+  set('FileMinSize', 1000)\n+  \n+  # maximum number of rotated files\n+  set('FileCount', 10)\n+  \n+  # set to true to rotate file every time on startup (instead of append)\n+  set('RotateLogOnStartup', 'true')\n+  ```\n+\n+- Here are the defaults for commonly tuned Log MBean attributes:\n+\n+  | Log MBean Attribute | Production Mode Default | Development Mode Default |\n+  | --------- | ----------------------- | ------------------------ |\n+  | FileMinSize (in kilobytes) | 5000 | 500 |\n+  | FileCount | 100 | 7 |\n+  | RotateLogOnStartup | false | true |\n+\n+- For WebLogic server `.log` and `.out` files (including both dynamic and configured servers), you can alternatively\n+set logging attributes using system properties that start with `weblogic.log.`\n+and that end with the corresponding Log MBean attribute name. \n+\n+  For example, you can include `-Dweblogic.log.FileMinSize=1000 -Dweblogic.log.FileCount=10 -Dweblogic.log.RotateLogOnStartup=true` in `domain.spec.serverPod.env.name.JAVA_OPTIONS` to set the behavior for all WebLogic servers in your domain. For information about setting `JAVA_OPTIONS`, see [Domain resource]({{< relref \"/userguide/managing-domains/domain-resource/_index.md#jvm-memory-and-java-option-environment-variables\" >}}).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b741fa2b005ec59f4a254f4632e48bae354a35d4"}, "originalPosition": 75}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d5df0130ddcb71ff9de811cb9024c903b82326a", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4d5df0130ddcb71ff9de811cb9024c903b82326a", "committedDate": "2020-08-17T19:09:59Z", "message": "minor doc edits"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4Nzc3NTk0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#pullrequestreview-468777594", "createdAt": "2020-08-17T19:34:52Z", "commit": {"oid": "4d5df0130ddcb71ff9de811cb9024c903b82326a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4ODQxODEw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#pullrequestreview-468841810", "createdAt": "2020-08-17T21:22:14Z", "commit": {"oid": "4d5df0130ddcb71ff9de811cb9024c903b82326a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4ODUyMjc4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1872#pullrequestreview-468852278", "createdAt": "2020-08-17T21:42:20Z", "commit": {"oid": "4d5df0130ddcb71ff9de811cb9024c903b82326a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4385, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}