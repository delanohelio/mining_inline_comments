{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNDEzODEx", "number": 1881, "title": " List continuation and watch bookmark support", "bodyText": "This PR resolves two problems:\n\nAnytime the operator lists resources (Pods, Services, ConfigMaps, Namespaces, etc.), Kubernetes can limit the set of resources returned. Kubernetes then includes in the result a \"continuation\" token that may be used to repeat the search and retrieve the next batch of results. The operator had only a partial implementation of this continuation support that was not yet functional.\n\nWith this proposed change, the operator will handle continuations for all list operations. Since we didn't previously support this pattern, our tuning parameters defaulted to only limiting resources at 500 results so that it was very unlikely that a customer would hit this issue. Therefore, I've now tuned the default limit to 50.\n\nWith Kubernetes 1.15, the watch pattern supports a BOOKMARK event type that is used to tell watch listeners to no longer use resource versions older than the value given in the bookmark. While researching the listing support, I discovered that we could easily support bookmarks since the functionality was complete. I've added unit-tests and enabled the necessary flag.", "createdAt": "2020-08-19T19:40:50Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881", "merged": true, "mergeCommit": {"oid": "6d15d38b19bac28318ea9437009065d0c2f8a269"}, "closed": true, "closedAt": "2020-09-14T13:48:42Z", "author": {"login": "rjeberhard"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-hP0eAH2gAyNDcwNDEzODExOmVlMmIxMzQ2MTFmN2UxY2FhMmQ3MzljYThhYTBjMzVjNjVkMTAzMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIzIDXgFqTQ4Nzc1MTE5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ee2b134611f7e1caa2d739ca8aa0c35c65d10300", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ee2b134611f7e1caa2d739ca8aa0c35c65d10300", "committedDate": "2020-08-13T14:53:32Z", "message": "Allow watch bookmarks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a98a366a0fb572cebdc4e774fdbcdd909a3660ab", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a98a366a0fb572cebdc4e774fdbcdd909a3660ab", "committedDate": "2020-08-13T21:25:12Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8056b4561673aeadbebe839f677abcb01d92e0cb", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8056b4561673aeadbebe839f677abcb01d92e0cb", "committedDate": "2020-08-17T13:12:10Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ea68747ff84f7d1b051d99ea3a9caf00e726774", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6ea68747ff84f7d1b051d99ea3a9caf00e726774", "committedDate": "2020-08-17T14:26:06Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fa913ea7b79a47b01cb41f3fddda37740da1ac2", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5fa913ea7b79a47b01cb41f3fddda37740da1ac2", "committedDate": "2020-08-17T21:51:28Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a642f8a9eb79ff0519b36a73977857664adae508", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a642f8a9eb79ff0519b36a73977857664adae508", "committedDate": "2020-08-17T22:11:38Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a94ab5e04cf4ab540dcc8551140d9b9dc71b96a7", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a94ab5e04cf4ab540dcc8551140d9b9dc71b96a7", "committedDate": "2020-08-18T15:17:18Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "604f41a1f8cf84d2a226c0ec6b88afd947f8efb5", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/604f41a1f8cf84d2a226c0ec6b88afd947f8efb5", "committedDate": "2020-08-18T20:51:04Z", "message": "AsyncRequestStep tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e3b392b05e22b75df7667ffdf1412b7d9ac5280", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1e3b392b05e22b75df7667ffdf1412b7d9ac5280", "committedDate": "2020-08-19T15:29:02Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a43b855672456797ef8258069625715aacbacf0", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8a43b855672456797ef8258069625715aacbacf0", "committedDate": "2020-08-19T15:45:32Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af2f2b39372b24899ddd9367b95e429cb9f49ed4", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/af2f2b39372b24899ddd9367b95e429cb9f49ed4", "committedDate": "2020-08-19T17:48:30Z", "message": "Bookmark tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80ddf895486f309b62200ad6b3ebdd5736ba738f", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/80ddf895486f309b62200ad6b3ebdd5736ba738f", "committedDate": "2020-08-19T19:04:18Z", "message": "Clarify names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/94aafd6aeebe13a99861f4b22077fddc75cd1641", "committedDate": "2020-08-31T12:46:06Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NjUxMzk4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-478651398", "createdAt": "2020-08-31T14:11:48Z", "commit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNDoxMTo0OFrOHJ6grQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNDoyODoxMlrOHJ7JcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE1Nzg2OQ==", "bodyText": "Should this really be part of the PR? I don't see a change in the CRD.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r480157869", "createdAt": "2020-08-31T14:11:48Z", "author": {"login": "russgold"}, "path": "docs/charts/index.yaml", "diffHunk": "@@ -3,108 +3,108 @@ entries:\n   weblogic-operator:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE1OTk4NQ==", "bodyText": "I don't understand the name of this test. It seems to be testing that if a watcher receives  a bookmark callback, it updates its resource version for future queries. Is that correct? If so, I'd suggest that the test be named something like, whenWatcherReceivesBookmarkEvent_updateResourceVersion. The current name seems to be talking about what Kubernetes does, not what the operator does.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r480159985", "createdAt": "2020-08-31T14:15:07Z", "author": {"login": "russgold"}, "path": "operator/src/test/java/oracle/kubernetes/operator/DomainWatcherTest.java", "diffHunk": "@@ -43,6 +45,13 @@ public void initialRequest_specifiesStartingResourceVersion() {\n         hasEntry(\"resourceVersion\", INITIAL_RESOURCE_VERSION.toString()));\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2MTkwNg==", "bodyText": "Generally, we've kept the type of watcher generic in the test base. This could simply return Watcher<?> and the unit test could either cast the result or just accept the generic.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r480161906", "createdAt": "2020-08-31T14:18:12Z", "author": {"login": "russgold"}, "path": "operator/src/test/java/oracle/kubernetes/operator/WatcherTestBase.java", "diffHunk": "@@ -101,10 +105,20 @@ void sendInitialRequest(BigInteger initialResourceVersion) {\n     createAndRunWatcher(NAMESPACE, stopping, initialResourceVersion);\n   }\n \n+  DomainWatcher sendBookmarkRequest(BigInteger initialResourceVersion, String bookmarkResourceVersion) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2ODMwNQ==", "bodyText": "Here you have the retry logic and list continue logic mixed together. It seems to me that they really need to be separate, as a retry and and a continue are orthogonal. You seem to be conditioning the processing of a retry on the presence of a continue token. At the very least, the code is unclear.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r480168305", "createdAt": "2020-08-31T14:28:12Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/ResponseStep.java", "diffHunk": "@@ -92,17 +94,34 @@ private NextAction getPotentialRetryAction(Packet packet) {\n \n   /**\n    * Returns next action that can be used to get the next batch of results from a list search that\n-   * specified a \"continue\" value.\n+   * specified a \"continue\" value, if any; otherwise, returns next.\n    *\n+   * @param callResponse Call response\n    * @param packet Packet\n    * @return Next action for list continue\n    */\n-  protected final NextAction doContinueList(Packet packet) {\n-    RetryStrategy retryStrategy = packet.getSpi(RetryStrategy.class);\n-    if (retryStrategy != null) {\n-      retryStrategy.reset();\n+  protected final NextAction doContinueListOrNext(CallResponse<T> callResponse, Packet packet) {\n+    return doContinueListOrNext(callResponse, packet, getNext());\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94aafd6aeebe13a99861f4b22077fddc75cd1641"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6873ba6627ee082298e7766446d1215d3bbecd08", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6873ba6627ee082298e7766446d1215d3bbecd08", "committedDate": "2020-08-31T20:25:53Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b95eccc0283e546e652cd0b52d5ab74ae7c28e05", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b95eccc0283e546e652cd0b52d5ab74ae7c28e05", "committedDate": "2020-08-31T21:50:06Z", "message": "Better support for namespace lists spanning REST calls"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NzExMzkw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-479711390", "createdAt": "2020-09-01T12:54:45Z", "commit": {"oid": "b95eccc0283e546e652cd0b52d5ab74ae7c28e05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMjo1NDo0NVrOHK08OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMjo1NDo0NVrOHK08OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTExNTE5Mw==", "bodyText": "This code is becoming increasingly complex. The coupling between the listNamespace calls and the CRD processing should not be done at this level. One of the great things about the Step/Fiber architecture is that you have those separate steps, and let the code that sets them up define the chain. Putting the dependency directly in the response to the namespace list makes future maintenance ever more difficult.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r481115193", "createdAt": "2020-09-01T12:54:45Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/Main.java", "diffHunk": "@@ -369,14 +370,33 @@ private static Step readExistingPods(String ns) {\n   }\n \n   static Step readExistingNamespaces(DomainNamespaceSelectionStrategy selectionStrategy,\n-                                             Collection<String> domainNamespaces,\n-                                             boolean isFullRecheck) {\n+                                     Collection<String> domainNamespaces,\n+                                     boolean isFullRecheck) {\n     CallBuilder builder = new CallBuilder();\n     String selector = selectionStrategy.getLabelSelector();\n     if (selector != null) {\n       builder.withLabelSelectors(selector);\n     }\n-    return builder.listNamespaceAsync(new NamespaceListStep(selectionStrategy, domainNamespaces, isFullRecheck));\n+    return builder.listNamespaceAsync(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b95eccc0283e546e652cd0b52d5ab74ae7c28e05"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a933fb484a6e46682a01adabb3aec67549300d7b", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a933fb484a6e46682a01adabb3aec67549300d7b", "committedDate": "2020-09-02T13:01:24Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61b5ba91fb71cf9d8273c2afb9e47787ad9740bd", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/61b5ba91fb71cf9d8273c2afb9e47787ad9740bd", "committedDate": "2020-09-02T19:48:11Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39ae62967421f78e9fa2f0cb288ce59affad9ab6", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/39ae62967421f78e9fa2f0cb288ce59affad9ab6", "committedDate": "2020-09-03T22:18:32Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cf233511cce345965d9f21577f1887ab066e2ae", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5cf233511cce345965d9f21577f1887ab066e2ae", "committedDate": "2020-09-04T17:43:09Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5c93f4c60614309cac6d1b59468950cc5374861", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c5c93f4c60614309cac6d1b59468950cc5374861", "committedDate": "2020-09-04T23:22:14Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "608af60efb940732eb7d6d5320e7787b2c3eba53", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/608af60efb940732eb7d6d5320e7787b2c3eba53", "committedDate": "2020-09-08T14:19:59Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf467956fa115155d03daa6e545c28d66d537baf", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cf467956fa115155d03daa6e545c28d66d537baf", "committedDate": "2020-09-08T15:12:22Z", "message": "Revert changes to charts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3ef12a94d13f9087d4e01b2b28ac9958da5f023", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f3ef12a94d13f9087d4e01b2b28ac9958da5f023", "committedDate": "2020-09-08T18:59:06Z", "message": "Bug fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "093e373e268325a8f0475702e8f3362ac6ee4b61", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/093e373e268325a8f0475702e8f3362ac6ee4b61", "committedDate": "2020-09-08T21:29:34Z", "message": "Disassociate CRD creation from namespace startup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb4b6a88ae2a0e97a4ff797d0cf0fe1c44c59bf5", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fb4b6a88ae2a0e97a4ff797d0cf0fe1c44c59bf5", "committedDate": "2020-09-09T13:48:44Z", "message": "Make unit-test more generic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee5823896093daa4d15acbbcc9f80dfbaf05fc20", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ee5823896093daa4d15acbbcc9f80dfbaf05fc20", "committedDate": "2020-09-09T14:36:34Z", "message": "Clarify continue pattern"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "704c4d334678d5fa85f1e9a1bbabaf0e3b558c53", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/704c4d334678d5fa85f1e9a1bbabaf0e3b558c53", "committedDate": "2020-09-09T16:02:05Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9314171a7887e2c711773ab0c9c90eef5a90a89b", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9314171a7887e2c711773ab0c9c90eef5a90a89b", "committedDate": "2020-09-10T16:22:22Z", "message": "Save continue for reinvoke of async request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7619b35e664a45d69321744bb654d2cc1809bd4e", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7619b35e664a45d69321744bb654d2cc1809bd4e", "committedDate": "2020-09-10T16:41:58Z", "message": "Merge remote-tracking branch 'origin/develop' into owls-83432"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MzMwMTQ1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-486330145", "createdAt": "2020-09-10T21:40:47Z", "commit": {"oid": "7619b35e664a45d69321744bb654d2cc1809bd4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMTo0MDo0N1rOHQGuHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMTo0MDo0N1rOHQGuHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0OTM3NQ==", "bodyText": "The method name is bit unclear. Should it be something like resetRetryStrategyAndReinvokeRequest?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r486649375", "createdAt": "2020-09-10T21:40:47Z", "author": {"login": "ankedia"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/ResponseStep.java", "diffHunk": "@@ -126,6 +147,20 @@ private NextAction doPotentialRetry(Step conflictStep, Packet packet, CallRespon\n     return null;\n   }\n \n+  /**\n+   * Resets any retry strategy, such as a failed retry count and invokes the request again. This\n+   * will be useful for patterns such as list requests that include a \"continue\" value.\n+   * @param packet Packet\n+   * @return Next action for the original request\n+   */\n+  private NextAction resetResetAndReinvokeRequest(Packet packet) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7619b35e664a45d69321744bb654d2cc1809bd4e"}, "originalPosition": 87}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecdb291a7081ee9348f0a11d000409366a21c71b", "author": {"user": {"login": "rjeberhard", "name": "Ryan Eberhard"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ecdb291a7081ee9348f0a11d000409366a21c71b", "committedDate": "2020-09-10T21:55:04Z", "message": "Correct method name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MzUyMDQ5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-486352049", "createdAt": "2020-09-10T22:23:22Z", "commit": {"oid": "7619b35e664a45d69321744bb654d2cc1809bd4e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMjoyMzoyMlrOHQHxrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMjoyODozMFrOHQH5Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NjY2OQ==", "bodyText": "The ALLOW_BOOKMARKS is set to true in WatchBuilder but I don't see BOOKMARK watch event handled in Watcher.java. My understanding of Watch bookmark feature is that it will send an event of type BOOKMARK to mark that all changes up to a given resourceVersion the client is requesting have already been sent. I was imagining that we'll update the resource version in Watcher.java with resource version set in BOOKMARK event . https://kubernetes.io/docs/reference/using-api/api-concepts/#watch-bookmarks", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r486666669", "createdAt": "2020-09-10T22:23:22Z", "author": {"login": "ankedia"}, "path": "operator/src/main/java/oracle/kubernetes/operator/builders/WatchBuilder.java", "diffHunk": "@@ -29,7 +29,7 @@\n   /** Ignored for watches. */\n   private static final String START_LIST = null;\n \n-  private static final Boolean ALLOW_BOOKMARKS = false;\n+  private static final Boolean ALLOW_BOOKMARKS = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7619b35e664a45d69321744bb654d2cc1809bd4e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2ODU0Nw==", "bodyText": "I was thinking that getNewResourceVersion() method of Watcher.java will check if event type is BOOKMARK and then update the resource version sent as part of bookmark event. Please let me know if my understanding is incorrect or if I missed something.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#discussion_r486668547", "createdAt": "2020-09-10T22:28:30Z", "author": {"login": "ankedia"}, "path": "operator/src/main/java/oracle/kubernetes/operator/Watcher.java", "diffHunk": "@@ -93,6 +93,11 @@ void waitForExit() {\n     }\n   }\n \n+  // for test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecdb291a7081ee9348f0a11d000409366a21c71b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjY2MzEw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-487266310", "createdAt": "2020-09-13T01:08:43Z", "commit": {"oid": "ecdb291a7081ee9348f0a11d000409366a21c71b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzUxMTk5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1881#pullrequestreview-487751199", "createdAt": "2020-09-14T13:22:35Z", "commit": {"oid": "ecdb291a7081ee9348f0a11d000409366a21c71b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4406, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}