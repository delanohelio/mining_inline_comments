{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDMwMjkz", "number": 1635, "title": "Endless status updates", "bodyText": "This address two issues that caused the operator to send status updates repeatedly:\n\nOur server status reader sometimes fails to get the status for a server. The code was defaulting to SHUTDOWN, meaning that we would intermittently change the state of a server to SHUTDOWN and then back to the real value. The code now defaults to the previous state of a server, if known.\nThe ServerStatus object has a volatile field called isAdminServer used for sorting to ensure that the admin server is listed first in the domain status; unfortunately, it was also included in the equals() method, meaning that it always looked as though the status had changed and needed to be updated. Since the field is volatile, that did nothing, so we updated the status about once a second. It has now been removed from equals() and hashCode().", "createdAt": "2020-05-08T20:56:40Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1635", "merged": true, "mergeCommit": {"oid": "3170f8edc08997910c3659cf3fae15696cc01eb4"}, "closed": true, "closedAt": "2020-05-08T21:21:02Z", "author": {"login": "russgold"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfTy1FgH2gAyNDE1NDMwMjkzOmY3Zjg4NDAwMTQyMGNlYjgxZDA1ZGQ0MWQxNmNkYTdjM2FmODNhZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfYjIrAFqTQwODUzMTQzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7f884001420ceb81d05dd41d16cda7c3af83ae2", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f7f884001420ceb81d05dd41d16cda7c3af83ae2", "committedDate": "2020-05-08T15:41:27Z", "message": "Add status update debug log"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67e4c12f031f91676a43d9736bbb5f2b3ad3c5db", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/67e4c12f031f91676a43d9736bbb5f2b3ad3c5db", "committedDate": "2020-05-08T18:33:13Z", "message": "preserve prior server state if new is unknown"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eeb44126d5a61ed4e6f062e6613d9042b6f7069", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4eeb44126d5a61ed4e6f062e6613d9042b6f7069", "committedDate": "2020-05-08T18:48:47Z", "message": "avoid NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "983aad83555cf2a5c55f638cb246aec104df0852", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/983aad83555cf2a5c55f638cb246aec104df0852", "committedDate": "2020-05-08T20:04:59Z", "message": "include isAdminServer field in patch comparison"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eabd537c4765281783ba3a310e7b4873c09553a6", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/eabd537c4765281783ba3a310e7b4873c09553a6", "committedDate": "2020-05-08T20:39:54Z", "message": "remove isAdminServer field from patch comparison AND equals()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTI5OTA0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1635#pullrequestreview-408529904", "createdAt": "2020-05-08T21:11:06Z", "commit": {"oid": "eabd537c4765281783ba3a310e7b4873c09553a6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMToxMTowNlrOGSz1tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMToxMTowNlrOGSz1tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM3Njg4NA==", "bodyText": "should we make clusters private too?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1635#discussion_r422376884", "createdAt": "2020-05-08T21:11:06Z", "author": {"login": "alai8"}, "path": "operator/src/main/java/oracle/kubernetes/weblogic/domain/model/DomainStatus.java", "diffHunk": "@@ -51,7 +52,7 @@\n   @Description(\"Status of WebLogic Servers in this domain.\")\n   @Valid\n   // sorted list of ServerStatus\n-  List<ServerStatus> servers = new ArrayList<>();\n+  private final List<ServerStatus> servers;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eabd537c4765281783ba3a310e7b4873c09553a6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTMwMDEx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1635#pullrequestreview-408530011", "createdAt": "2020-05-08T21:11:17Z", "commit": {"oid": "eabd537c4765281783ba3a310e7b4873c09553a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTMxNDM5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1635#pullrequestreview-408531439", "createdAt": "2020-05-08T21:13:50Z", "commit": {"oid": "eabd537c4765281783ba3a310e7b4873c09553a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4765, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}