{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzOTUxMDQz", "number": 1682, "title": "Implement distribution strategy for config override changes", "bodyText": "This is a revised PR based on #1671, splitting the issues into two separate changes.\nThe essence of this change is simply to set an environment variable based on the selected distribution strategy, and to modify the scripts to watch for it.\nThere is a fair bit of refactoring in this change as well, initial done in order to enable more extensive processing, some of which turned out not to be needed. I'm leaving them here as they add to the test coverage and simplify the code.", "createdAt": "2020-05-27T15:52:48Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682", "merged": true, "mergeCommit": {"oid": "3dc72e3e1b09141b2986486d70407a0410b587cb"}, "closed": true, "closedAt": "2020-06-09T13:38:52Z", "author": {"login": "russgold"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclbMAjAH2gAyNDIzOTUxMDQzOjM4M2IwYmUzYzM0MDlmOTIzZGFjNWI0MjFjNjIwYTUwOTNhN2NkM2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABco4ffcAH2gAyNDIzOTUxMDQzOmUzOGIxOTIwY2Q1MTQ5ZTUxMGM4NmI1NzYwM2I0NjYwYTIwZDBlM2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "383b0be3c3409f923dac5b421c620a5093a7cd3f", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/383b0be3c3409f923dac5b421c620a5093a7cd3f", "committedDate": "2020-05-27T15:41:50Z", "message": "When configured, tell server pod to copy changed overrides"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a992bd73323c3d97be1b863cf8b4ebb7e31dca25", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a992bd73323c3d97be1b863cf8b4ebb7e31dca25", "committedDate": "2020-05-27T15:42:10Z", "message": "Rename copySitCfg functions in livenessProbe.sh and startServer.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/20cba0d40a5ca06899e5cbb0df95c996fcdeadd8", "committedDate": "2020-05-27T15:42:27Z", "message": "make copy conditional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NDE1NDY5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-419415469", "createdAt": "2020-05-27T16:43:19Z", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo0MzoxOVrOGbTwnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo0MzoxOVrOGbTwnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4ODQ3Nw==", "bodyText": "or overridesConfigMaps fields. --> or overridesConfigMaps fields once the introspectVersion is changed.\n\nOr something similar.\nThe idea is to make it clear that the strategy is related to handling a change to the introspectVersion field.\nDo the same edit for all related discussion of distributionStrategy since they're all tied to introspectVersion.\nAlso, consider changing the name to 'introspectVersionDistributionStrategy' or similar...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r431288477", "createdAt": "2020-05-27T16:43:19Z", "author": {"login": "tbarnes-us"}, "path": "docs/domains/Domain.json", "diffHunk": "@@ -183,6 +183,14 @@\n           \"description\": \"Model in image model files and properties.\",\n           \"$ref\": \"#/definitions/Model\"\n         },\n+        \"distributionStrategy\": {\n+          \"description\": \"The strategy for handling changes to the secrets or overridesConfigMap fields. Legal values are DYNAMIC and ON_RESTART.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NDE2OTI4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-419416928", "createdAt": "2020-05-27T16:45:06Z", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo0NTowNlrOGbT1JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo0NTowNlrOGbT1JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4OTYzNw==", "bodyText": "All descriptions for 'introspectVersion' should also have something like 'See also 'distributionStrategy'.'.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r431289637", "createdAt": "2020-05-27T16:45:06Z", "author": {"login": "tbarnes-us"}, "path": "docs/domains/Domain.json", "diffHunk": "@@ -183,6 +183,14 @@\n           \"description\": \"Model in image model files and properties.\",\n           \"$ref\": \"#/definitions/Model\"\n         },\n+        \"distributionStrategy\": {\n+          \"description\": \"The strategy for handling changes to the secrets or overridesConfigMap fields. Legal values are DYNAMIC and ON_RESTART.\",\n+          \"type\": \"string\",\n+          \"enum\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NDI2MDkw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-419426090", "createdAt": "2020-05-27T16:54:13Z", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1NDoxNFrOGbUPeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1NDoxNFrOGbUPeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5NjM3Ng==", "bodyText": "This is a confusing rename IMO.\nWe have at least four config maps:   'Scripts' configmap deployed per namespace, Introspector Output per domain, Optional Custom Situational Config Input per domain, and Optional Model Input per domain.\nThis change renames situational to 'Domain' which is a bit confusing because (a) both Situational and Model are both domain scoped, and (b) the namespaced cm is called 'weblogic-domain-cm'.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r431296376", "createdAt": "2020-05-27T16:54:14Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -675,7 +675,7 @@ Step createDomainUpPlan(DomainPresenceInfo info) {\n \n     return Step.chain(\n           createDomainUpInitialStep(info),\n-          ConfigMapHelper.readExistingSituConfigMap(info.getNamespace(), info.getDomainUid()),\n+          ConfigMapHelper.readExistingDomainConfigMap(info.getNamespace(), info.getDomainUid()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NDMyNTUw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-419432550", "createdAt": "2020-05-27T17:02:02Z", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNzowMjowMlrOGbUk8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNzowMjowMlrOGbUk8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMwMTg3NQ==", "bodyText": "Does this trace have a side effect on eventing/logging?  This will be called every 10 seconds, which seems distracting if so.    Maybe only trace at line 38 (just before the cp) to only trace when copying a change over?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r431301875", "createdAt": "2020-05-27T17:02:02Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/resources/scripts/livenessProbe.sh", "diffHunk": "@@ -7,6 +7,49 @@\n # the pod should be restarted. The script checks a WebLogic Server state file which\n # is updated by the node manager.\n \n+function copySitCfgWhileRunning() {\n+  # Helper fn to copy sit cfg xml files to the WL server's domain home.\n+  #   - params $1/$2/$3 == 'src_dir tgt_dir fil_prefix'\n+  #   - $src_dir files are assumed to start with $fil_prefix and end with .xml\n+  #   - copied $tgt_dir files are stripped of their $fil_prefix\n+  #   - any .xml files in $tgt_dir that are not in $src_dir/$fil_prefix+FILE are deleted\n+  #\n+  # This method is called while the server is already running, see \n+  # 'copySitCfgWhileBooting' in 'startServer.sh' for a similar method that\n+  # is called just before the server boots.\n+  #\n+  # It will do nothing unless the environment variable DYNAMIC_CONFIG_OVERRIDE is set.\n+\n+if [ ! \"${DYNAMIC_CONFIG_OVERRIDE:-notset}\" = notset ]; then\n+    (\n+    shopt -s nullglob  # force file matching 'glob' for loops below to run 0 times if 0 matches\n+    local src_dir=${1?}\n+    local tgt_dir=${2?}\n+    local fil_prefix=${3?}\n+    local local_fname\n+    local tgt_file\n+    trace \"Copying files starting with '$src_dir/$fil_prefix' to '$tgt_dir' without the prefix.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5Njk5MTI0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-419699124", "createdAt": "2020-05-28T00:27:48Z", "commit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMDoyNzo0OFrOGbhsew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMDoyNzo0OFrOGbhsew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUxNjc5NQ==", "bodyText": "Can we consider changing the name to something like 'situationalConfigurationDistributionStrategy'?   The distribution strategy term is very generic - it doesn't let you know what the field is meant for.  Also the generic nature introduces potential conflicts - for example, we'll likely have a 'modelDistributionStrategy' at some point.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r431516795", "createdAt": "2020-05-28T00:27:48Z", "author": {"login": "tbarnes-us"}, "path": "docs/domains/Domain.json", "diffHunk": "@@ -183,6 +183,14 @@\n           \"description\": \"Model in image model files and properties.\",\n           \"$ref\": \"#/definitions/Model\"\n         },\n+        \"distributionStrategy\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20cba0d40a5ca06899e5cbb0df95c996fcdeadd8"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23ea8016d2e58623bdefdf7ae4c22156854fbb53", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/23ea8016d2e58623bdefdf7ae4c22156854fbb53", "committedDate": "2020-05-28T02:12:15Z", "message": "Generate trace only on actual copy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6207642f1cf8783a88f60ea6dbbeb1eb2b7089a", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f6207642f1cf8783a88f60ea6dbbeb1eb2b7089a", "committedDate": "2020-05-28T02:12:37Z", "message": "Don't roll pods when distribution strategy changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4099ddd208fc49c072a9648c6ceb88d9e41e16f8", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4099ddd208fc49c072a9648c6ceb88d9e41e16f8", "committedDate": "2020-06-01T15:13:03Z", "message": "Use agreed-upon names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe3e09069208084577050841840d77323fd3cd68", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fe3e09069208084577050841840d77323fd3cd68", "committedDate": "2020-06-01T16:27:00Z", "message": "Change introspect stand-alone test to use new name 'weblogic-script-cm' instead of 'weblogic-domain-cm'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a445eb5b781db1de3190a4facdb5ed55d73edb6a", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a445eb5b781db1de3190a4facdb5ed55d73edb6a", "committedDate": "2020-06-01T17:11:41Z", "message": "Rename script CM, improve docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90a4eef5a17579e0995fbe748fd7c8f20aa46513", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/90a4eef5a17579e0995fbe748fd7c8f20aa46513", "committedDate": "2020-06-01T23:24:00Z", "message": "ignore introspectVersion setting for model-in-image domains"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4cad2298be88ad3eb70ae625b7443e1062eda33", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e4cad2298be88ad3eb70ae625b7443e1062eda33", "committedDate": "2020-06-02T13:50:25Z", "message": "Update description of 'introspectVersion' to indicate when it is ignored."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ed5a6aa0fbb8cfe94281a5fcd1918df8e02af8e", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7ed5a6aa0fbb8cfe94281a5fcd1918df8e02af8e", "committedDate": "2020-06-02T18:50:57Z", "message": "update descriptions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7ba63924dbf2018ef114fe93cfad4cbe66d70d8a", "committedDate": "2020-06-02T20:40:26Z", "message": "update description further"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzODg5NTQ3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-423889547", "createdAt": "2020-06-03T20:05:35Z", "commit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjU1Njk2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-424655696", "createdAt": "2020-06-04T17:06:32Z", "commit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNzowNjozMlrOGfPjwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNzoxMTozMFrOGfPvLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxMzk1Mw==", "bodyText": "Typo missing space after the period  -> \".  Legal values are DYNAMIC (the default) and ON_RESTART.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435413953", "createdAt": "2020-06-04T17:06:32Z", "author": {"login": "mriccell"}, "path": "docs/domains/Domain.md", "diffHunk": "@@ -95,6 +95,7 @@ An element representing a cluster in the domain configuration.\n | `introspectorJobActiveDeadlineSeconds` | number | The introspector job timeout value in seconds. If this field is specified it overrides the Operator's config map data.introspectorJobActiveDeadlineSeconds value. |\n | `model` | [Model](#model) | Model in image model files and properties. |\n | `opss` | [Opss](#opss) | Configuration for OPSS security. |\n+| `overrideDistributionStrategy` | string | Determines how updated configuration overrides are distributed to already running WebLogic servers following introspection when the domainHomeSourceType is PersistentVolume or Image.  Configuration overrides are generated during introspection from secrets, the overrideConfigMap field, and WebLogic domain topology.Legal values are DYNAMIC (the default) and ON_RESTART. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNDcyNg==", "bodyText": "Typo missing space after the period -> \". Legal values are DYNAMIC (the default) and ON_RESTART.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435414726", "createdAt": "2020-06-04T17:07:53Z", "author": {"login": "mriccell"}, "path": "docs/domains/index.html", "diffHunk": "@@ -1095,6 +1095,14 @@\n     \"Configuration\": {\n       \"type\": \"object\",\n       \"properties\": {\n+        \"overrideDistributionStrategy\": {\n+          \"description\": \"Determines how updated configuration overrides are distributed to already running WebLogic servers following introspection when the domainHomeSourceType is PersistentVolume or Image.  Configuration overrides are generated during introspection from secrets, the overrideConfigMap field, and WebLogic domain topology.Legal values are DYNAMIC (the default) and ON_RESTART.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNTUxNw==", "bodyText": "Typo missing space after the period -> \".  This field is ignored when the domainHomeSourceType source type is FromModel.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435415517", "createdAt": "2020-06-04T17:09:18Z", "author": {"login": "mriccell"}, "path": "docs/domains/index.html", "diffHunk": "@@ -1279,7 +1287,7 @@\n           \"type\": \"string\"\n         },\n         \"introspectVersion\": {\n-          \"description\": \"If present, every time this value is updated, the operator will start introspect domain job\",\n+          \"description\": \"If the domain is running, the operator will restart its introspector job when this value is changed.This field is ignored when the domainHomeSourceType source type is FromModel.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNTk5Nw==", "bodyText": "Typo missing space after the period -> \". Legal values are DYNAMIC (the default) and ON_RESTART.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435415997", "createdAt": "2020-06-04T17:10:05Z", "author": {"login": "mriccell"}, "path": "kubernetes/crd/domain-crd.yaml", "diffHunk": "@@ -29,6 +29,17 @@ spec:\n                 type: object\n                 description: Models and overrides affecting the WebLogic domain configuration.\n                 properties:\n+                  overrideDistributionStrategy:\n+                    type: string\n+                    description: Determines how updated configuration overrides are\n+                      distributed to already running WebLogic servers following introspection\n+                      when the domainHomeSourceType is PersistentVolume or Image.  Configuration\n+                      overrides are generated during introspection from secrets, the\n+                      overrideConfigMap field, and WebLogic domain topology.Legal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNjM1Mw==", "bodyText": "Typo missing space after the period -> \". This field is ignored when the domainHomeSourceType source type is FromModel.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435416353", "createdAt": "2020-06-04T17:10:41Z", "author": {"login": "mriccell"}, "path": "kubernetes/crd/domain-crd.yaml", "diffHunk": "@@ -10861,8 +10872,9 @@ spec:\n                   will restart the required servers.\n               introspectVersion:\n                 type: string\n-                description: If present, every time this value is updated, the operator\n-                  will start introspect domain job\n+                description: If the domain is running, the operator will restart its\n+                  introspector job when this value is changed.This field is ignored", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNjY5Mg==", "bodyText": "Typo missing space after the period -> \". Legal values are DYNAMIC (the default) and ON_RESTART.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435416692", "createdAt": "2020-06-04T17:11:13Z", "author": {"login": "mriccell"}, "path": "kubernetes/crd/domain-v1beta1-crd.yaml", "diffHunk": "@@ -32,6 +32,17 @@ spec:\n               type: object\n               description: Models and overrides affecting the WebLogic domain configuration.\n               properties:\n+                overrideDistributionStrategy:\n+                  type: string\n+                  description: Determines how updated configuration overrides are\n+                    distributed to already running WebLogic servers following introspection\n+                    when the domainHomeSourceType is PersistentVolume or Image.  Configuration\n+                    overrides are generated during introspection from secrets, the\n+                    overrideConfigMap field, and WebLogic domain topology.Legal values", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQxNjg3Nw==", "bodyText": "Typo missing space after the period -> \". This field is ignored when the domainHomeSourceType source type is FromModel.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r435416877", "createdAt": "2020-06-04T17:11:30Z", "author": {"login": "mriccell"}, "path": "kubernetes/crd/domain-v1beta1-crd.yaml", "diffHunk": "@@ -10643,8 +10654,9 @@ spec:\n                 will restart the required servers.\n             introspectVersion:\n               type: string\n-              description: If present, every time this value is updated, the operator\n-                will start introspect domain job\n+              description: If the domain is running, the operator will restart its\n+                introspector job when this value is changed.This field is ignored", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ba63924dbf2018ef114fe93cfad4cbe66d70d8a"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97d32c276588ea4fd5234ef1779b31277ffd7041", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/97d32c276588ea4fd5234ef1779b31277ffd7041", "committedDate": "2020-06-05T00:08:40Z", "message": "Add misses space before period"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45e03a49287e7802cba62748c6dc3ef765daf99a", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/45e03a49287e7802cba62748c6dc3ef765daf99a", "committedDate": "2020-06-05T00:11:03Z", "message": "and build the generate docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dae65608bdb6f56723c84350e4d2ff6f24d7f069", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dae65608bdb6f56723c84350e4d2ff6f24d7f069", "committedDate": "2020-06-05T00:20:17Z", "message": "update index"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c38cd826c7b08421bf4e2a475af6c84d7e48fc2", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3c38cd826c7b08421bf4e2a475af6c84d7e48fc2", "committedDate": "2020-06-05T01:06:12Z", "message": "Merge branch 'develop' into owls_823236"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NjYwMzUz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-425660353", "createdAt": "2020-06-05T22:21:40Z", "commit": {"oid": "3c38cd826c7b08421bf4e2a475af6c84d7e48fc2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjoyMTo0MVrOGf-79A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjoyMTo0MVrOGf-79A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MDE5Ng==", "bodyText": "Add \"See also introspectVersion.\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#discussion_r436190196", "createdAt": "2020-06-05T22:21:41Z", "author": {"login": "tbarnes-us"}, "path": "docs/domains/Domain.json", "diffHunk": "@@ -175,6 +175,14 @@\n     \"Configuration\": {\n       \"type\": \"object\",\n       \"properties\": {\n+        \"overrideDistributionStrategy\": {\n+          \"description\": \"Determines how updated configuration overrides are distributed to already running WebLogic servers following introspection when the domainHomeSourceType is PersistentVolume or Image.  Configuration overrides are generated during introspection from secrets, the overrideConfigMap field, and WebLogic domain topology. Legal values are DYNAMIC (the default) and ON_RESTART.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c38cd826c7b08421bf4e2a475af6c84d7e48fc2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce54f038a78973e8ebddb45b030da3e98e8ebc62", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ce54f038a78973e8ebddb45b030da3e98e8ebc62", "committedDate": "2020-06-05T23:44:21Z", "message": "Add 'see also'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzUwNTkz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-425750593", "createdAt": "2020-06-06T16:06:02Z", "commit": {"oid": "ce54f038a78973e8ebddb45b030da3e98e8ebc62"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzUwNjQ0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1682#pullrequestreview-425750644", "createdAt": "2020-06-06T16:06:38Z", "commit": {"oid": "ce54f038a78973e8ebddb45b030da3e98e8ebc62"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e38b1920cd5149e510c86b57603b4660a20d0e3c", "author": {"user": {"login": "russgold", "name": "Russell Gold"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e38b1920cd5149e510c86b57603b4660a20d0e3c", "committedDate": "2020-06-07T09:32:08Z", "message": "Merge branch 'develop' into owls_823236"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4437, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}