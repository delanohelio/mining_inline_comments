{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNDc1Mzgy", "number": 1729, "title": "fix cpu request comparison issue in ItPodRestart", "bodyText": "In some cases, the server pod compute resources requests cpu request returns a value with different precision. For example, the error msg below:\nItPodsRestart.testServerPodsRestartByChangingResource:216 server pod compute resources requests was not updated correctly, set cpu request to 0.5, got 0.500 ==> expected: <0.500> but was: <0.5>\nChange the test to use BigDecimal comparison instead of String comparison.\nJenkins test result: https://build.weblogick8s.org:8443/view/all/job/weblogic-kubernetes-operator-model-in-image-tests-10/334/", "createdAt": "2020-06-12T05:38:02Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1729", "merged": true, "mergeCommit": {"oid": "b3c094a1e4d6d73f3a4fdc7126c503b12bc455ba"}, "closed": true, "closedAt": "2020-06-15T20:58:44Z", "author": {"login": "xiancao"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqcChiAH2gAyNDMzNDc1MzgyOmFhMDJjYmUwOTVkMGEzOWRiYmY2ZDQ1NzM0NTIwMWY0YjcxOWRjOWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrm9jXgFqTQzMDk4MjAzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aa02cbe095d0a39dbbf6d457345201f4b719dc9e", "author": {"user": {"login": "xiancao", "name": "Xian Cao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/aa02cbe095d0a39dbbf6d457345201f4b719dc9e", "committedDate": "2020-06-12T05:31:00Z", "message": "fix cpuRequest comparison"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NjI5MTU0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1729#pullrequestreview-429629154", "createdAt": "2020-06-12T10:22:03Z", "commit": {"oid": "aa02cbe095d0a39dbbf6d457345201f4b719dc9e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDoyMjowNFrOGi-6Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDoyMjowNFrOGi-6Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMzNTQ5NQ==", "bodyText": "Why do you keep switching between intValue() and doubleValue()? Alternatively, the test constants could also be BigDecimal and then you could just compare them without intValue() or doubleValue().", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1729#discussion_r439335495", "createdAt": "2020-06-12T10:22:04Z", "author": {"login": "rjeberhard"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItPodsRestart.java", "diffHunk": "@@ -201,9 +201,9 @@ public void testServerPodsRestartByChangingResource() {\n     // verify the server pod resources limits got updated\n     logger.info(\"Checking that the server pod resources cpu limit was updated correctly\");\n     assertNotNull(limits.get(\"cpu\"), domain1 + \"/spec/serverPod/resources/limits/cpu is null\");\n-    assertEquals(limits.get(\"cpu\").getNumber().toString(), cpuLimit,\n+    assertEquals(limits.get(\"cpu\").getNumber().intValue(), cpuLimit,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa02cbe095d0a39dbbf6d457345201f4b719dc9e"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff76a56261dd8aae1a55d419018582e2e8bd907f", "author": {"user": {"login": "xiancao", "name": "Xian Cao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ff76a56261dd8aae1a55d419018582e2e8bd907f", "committedDate": "2020-06-12T17:41:17Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into xc-fixpodsrestart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a8814308f0a0a16be37061a6a3f3de3776ef385", "author": {"user": {"login": "xiancao", "name": "Xian Cao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3a8814308f0a0a16be37061a6a3f3de3776ef385", "committedDate": "2020-06-12T18:18:59Z", "message": "use compareTo in BigDecimal to compare two values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962d874c82f10de992258acaac5a7de584ad8eb5", "author": {"user": {"login": "xiancao", "name": "Xian Cao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/962d874c82f10de992258acaac5a7de584ad8eb5", "committedDate": "2020-06-12T21:44:11Z", "message": "use BigDecimal for cpuLimits and cpuRequests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODc4ODE4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1729#pullrequestreview-430878818", "createdAt": "2020-06-15T18:10:06Z", "commit": {"oid": "962d874c82f10de992258acaac5a7de584ad8eb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTgyMDMx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1729#pullrequestreview-430982031", "createdAt": "2020-06-15T20:48:27Z", "commit": {"oid": "962d874c82f10de992258acaac5a7de584ad8eb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4522, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}