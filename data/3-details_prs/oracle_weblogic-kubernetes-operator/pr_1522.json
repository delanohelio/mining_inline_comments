{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NjE2NTQ1", "number": 1522, "title": "Adding impl in Operator", "bodyText": "fluent Namespace\nadding TraefikParams\nadding impl in Operator.. more to do", "createdAt": "2020-03-31T21:32:51Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522", "merged": true, "mergeCommit": {"oid": "2b6cb03aaee674712e588c30ae300d474a97da39"}, "closed": true, "closedAt": "2020-04-02T15:38:11Z", "author": {"login": "vanajamukkara"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcS8RmlgH2gAyMzk2NjE2NTQ1OjIzZjZjNGEzNjk1ZmVjYzU3NWQ0MGQ3OTJhODA1MTgwMTU0MGU0MGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTuI6ugFqTM4NjU0NTk3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "23f6c4a3695fecc575d40d792a8051801540e40a", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/23f6c4a3695fecc575d40d792a8051801540e40a", "committedDate": "2020-03-31T05:30:15Z", "message": "adding traefik params"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTU1OTI2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#pullrequestreview-385155926", "createdAt": "2020-03-31T22:44:20Z", "commit": {"oid": "c151eee5c02752fb941d3ece437b1aaa8edc0d65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08585a6e81cab06e31d874682e69940dd9cc4119", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/08585a6e81cab06e31d874682e69940dd9cc4119", "committedDate": "2020-03-31T23:25:55Z", "message": "adding more implementation for operator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c151eee5c02752fb941d3ece437b1aaa8edc0d65", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c151eee5c02752fb941d3ece437b1aaa8edc0d65", "committedDate": "2020-04-01T05:28:06Z", "message": "merged and adding more implementation in operator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTIxOTE5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#pullrequestreview-385521919", "createdAt": "2020-04-01T12:09:57Z", "commit": {"oid": "c151eee5c02752fb941d3ece437b1aaa8edc0d65"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjowOTo1N1rOF-9oeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjoxMTowN1rOF-9q7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NTgxOA==", "bodyText": "use assertj - will make this look like\nimport static org.assertj.core.api.Assertions.*;\n\n assertThat(namespace)\n            .as(\"make sure namespace is not empty or null\")\n            .isNotEqualTo(\"\")\n            .isNotNull();\n\nwhich is a lot clearer", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401565818", "createdAt": "2020-04-01T12:09:57Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/Operator.java", "diffHunk": "@@ -3,35 +3,78 @@\n \n package oracle.weblogic.kubernetes.actions.impl;\n \n+import io.kubernetes.client.openapi.ApiException;\n import oracle.weblogic.kubernetes.actions.impl.primitive.Helm;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n \n-public class Operator {\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+public class Operator implements LoggedTest {\n \n   /**\n    * The URL of the Operator's Helm Repository.\n    */\n   private static String OPERATOR_HELM_REPO_URL = \"https://oracle.github.io/weblogic-kubernetes-operator/charts\";\n+\n   /**\n    * The name of the Operator's Helm Chart (in the repository).\n    */\n   private static String OPERATOR_CHART_NAME = \"weblogic-operator/weblogic-operator\";\n \n+  /**\n+   * Install WebLogic Kubernetes Operator.\n+   *\n+   * @param params operator parameters for helm values\n+   * @return true if the operator is successfully installed, false otherwise.\n+   * @throws ApiException - if Kubernetes client API call fails\n+   */\n+  public static boolean install(OperatorParams params) throws ApiException {\n+\n+    String namespace = params.getNamespace();\n+    String serviceAccount = params.getServiceAccount();\n+\n+    // assertions for required parameters\n+    assertNotNull(namespace, \"Operator namespace cannot be null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c151eee5c02752fb941d3ece437b1aaa8edc0d65"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjQ0Nw==", "bodyText": "why delete the namespace? seems a bit extreme", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401566447", "createdAt": "2020-04-01T12:11:07Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/Operator.java", "diffHunk": "@@ -3,35 +3,78 @@\n \n package oracle.weblogic.kubernetes.actions.impl;\n \n+import io.kubernetes.client.openapi.ApiException;\n import oracle.weblogic.kubernetes.actions.impl.primitive.Helm;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n \n-public class Operator {\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+public class Operator implements LoggedTest {\n \n   /**\n    * The URL of the Operator's Helm Repository.\n    */\n   private static String OPERATOR_HELM_REPO_URL = \"https://oracle.github.io/weblogic-kubernetes-operator/charts\";\n+\n   /**\n    * The name of the Operator's Helm Chart (in the repository).\n    */\n   private static String OPERATOR_CHART_NAME = \"weblogic-operator/weblogic-operator\";\n \n+  /**\n+   * Install WebLogic Kubernetes Operator.\n+   *\n+   * @param params operator parameters for helm values\n+   * @return true if the operator is successfully installed, false otherwise.\n+   * @throws ApiException - if Kubernetes client API call fails\n+   */\n+  public static boolean install(OperatorParams params) throws ApiException {\n+\n+    String namespace = params.getNamespace();\n+    String serviceAccount = params.getServiceAccount();\n+\n+    // assertions for required parameters\n+    assertNotNull(namespace, \"Operator namespace cannot be null\");\n+    assertNotNull(params.getReleaseName(), \"Operator release name cannot be null\");\n+    assertNotEquals(\"\",namespace.trim(), \"Operator namespace cannot be empty string\");\n+    assertNotEquals(\"\",params.getReleaseName().trim(), \"Operator release name cannot be empty string\");\n+\n+    //delete the namespace if it exists\n+    if (Namespace.exists(namespace)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c151eee5c02752fb941d3ece437b1aaa8edc0d65"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NzA1MDcy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#pullrequestreview-385705072", "createdAt": "2020-04-01T15:34:58Z", "commit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNTozNDo1OVrOF_Gabw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNTozNzowNlrOF_Gglg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcwOTY3OQ==", "bodyText": "i'm not sure about this being a string like this - i liked it better the way you had it before, where is was clear it was a list of things, this is just a string that has some kind of special meaning that i don't understand", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401709679", "createdAt": "2020-04-01T15:34:59Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleOperatorValidation.java", "diffHunk": "@@ -58,19 +59,26 @@ public void testInstallingOperator() {\n     // imagine that installOperator() will try to install the operator, by creating\n     // the kubernetes deployment.  this will complete quickly, and will either be\n     // successful or not.\n-\n     String opns = \"opns1\";\n-    OperatorParams opParams\n-        = new OperatorParams().image(\"weblogic-kubernetes-operator:test_itsimpleoperator\")\n-          .domainNamespaces(Arrays.asList(\"domainns1\", \"domainns2\"))\n-          .serviceAccount(\"sa-opns1\");\n-    boolean success = installOperator(\"weblogic-operator\", opns, opParams);\n+    OperatorParams opParams =\n+        new OperatorParams().releaseName(\"weblogic-operator\")\n+            .namespace(opns)\n+            .image(\"weblogic-kubernetes-operator:test_itsimpleoperator\")\n+            .domainNamespaces(\"domainns1, domainns2\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcxMDE4Ng==", "bodyText": "namespace?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401710186", "createdAt": "2020-04-01T15:35:37Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/Operator.java", "diffHunk": "@@ -3,35 +3,73 @@\n \n package oracle.weblogic.kubernetes.actions.impl;\n \n+import io.kubernetes.client.openapi.ApiException;\n import oracle.weblogic.kubernetes.actions.impl.primitive.Helm;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n \n-public class Operator {\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class Operator implements LoggedTest {\n \n   /**\n    * The URL of the Operator's Helm Repository.\n    */\n+  //Question - is this URL correct?\n   private static String OPERATOR_HELM_REPO_URL = \"https://oracle.github.io/weblogic-kubernetes-operator/charts\";\n+\n   /**\n    * The name of the Operator's Helm Chart (in the repository).\n    */\n   private static String OPERATOR_CHART_NAME = \"weblogic-operator/weblogic-operator\";\n \n+  /**\n+   * Install WebLogic Kubernetes Operator.\n+   *\n+   * @param params operator parameters for helm values\n+   * @return true if the operator is successfully installed, false otherwise.\n+   * @throws ApiException - if Kubernetes client API call fails\n+   */\n+  public static boolean install(OperatorParams params) throws ApiException {\n+\n+    String namespace = params.getNamespace();\n+    String serviceAccount = params.getServiceAccount();\n+\n+    // assertions for required parameters\n+    assertThat(namespace)\n+        .as(\"make sure namespace is not empty or null\")\n+        .isNotNull()\n+        .isNotEmpty();\n+\n+    assertThat(params.getReleaseName())\n+        .as(\"make sure namespace is not empty or null\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcxMTExMQ==", "bodyText": "again, this is surprising/unexpected.  the method is installOperator - i would not expect that to create a namespace. if you try to deploy something into a non-existent namespace in k8s, it will give an error.  that is what i would expect this to do too. we should try to stick to the standard/predictable/expected behavior", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401711111", "createdAt": "2020-04-01T15:36:53Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/Operator.java", "diffHunk": "@@ -3,35 +3,73 @@\n \n package oracle.weblogic.kubernetes.actions.impl;\n \n+import io.kubernetes.client.openapi.ApiException;\n import oracle.weblogic.kubernetes.actions.impl.primitive.Helm;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n \n-public class Operator {\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class Operator implements LoggedTest {\n \n   /**\n    * The URL of the Operator's Helm Repository.\n    */\n+  //Question - is this URL correct?\n   private static String OPERATOR_HELM_REPO_URL = \"https://oracle.github.io/weblogic-kubernetes-operator/charts\";\n+\n   /**\n    * The name of the Operator's Helm Chart (in the repository).\n    */\n   private static String OPERATOR_CHART_NAME = \"weblogic-operator/weblogic-operator\";\n \n+  /**\n+   * Install WebLogic Kubernetes Operator.\n+   *\n+   * @param params operator parameters for helm values\n+   * @return true if the operator is successfully installed, false otherwise.\n+   * @throws ApiException - if Kubernetes client API call fails\n+   */\n+  public static boolean install(OperatorParams params) throws ApiException {\n+\n+    String namespace = params.getNamespace();\n+    String serviceAccount = params.getServiceAccount();\n+\n+    // assertions for required parameters\n+    assertThat(namespace)\n+        .as(\"make sure namespace is not empty or null\")\n+        .isNotNull()\n+        .isNotEmpty();\n+\n+    assertThat(params.getReleaseName())\n+        .as(\"make sure namespace is not empty or null\")\n+        .isNotNull()\n+        .isNotEmpty();\n+\n+    // create namespace\n+    if (!Namespace.exists(namespace)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcxMTI1NA==", "bodyText": "same here", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r401711254", "createdAt": "2020-04-01T15:37:06Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/Operator.java", "diffHunk": "@@ -3,35 +3,73 @@\n \n package oracle.weblogic.kubernetes.actions.impl;\n \n+import io.kubernetes.client.openapi.ApiException;\n import oracle.weblogic.kubernetes.actions.impl.primitive.Helm;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n \n-public class Operator {\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class Operator implements LoggedTest {\n \n   /**\n    * The URL of the Operator's Helm Repository.\n    */\n+  //Question - is this URL correct?\n   private static String OPERATOR_HELM_REPO_URL = \"https://oracle.github.io/weblogic-kubernetes-operator/charts\";\n+\n   /**\n    * The name of the Operator's Helm Chart (in the repository).\n    */\n   private static String OPERATOR_CHART_NAME = \"weblogic-operator/weblogic-operator\";\n \n+  /**\n+   * Install WebLogic Kubernetes Operator.\n+   *\n+   * @param params operator parameters for helm values\n+   * @return true if the operator is successfully installed, false otherwise.\n+   * @throws ApiException - if Kubernetes client API call fails\n+   */\n+  public static boolean install(OperatorParams params) throws ApiException {\n+\n+    String namespace = params.getNamespace();\n+    String serviceAccount = params.getServiceAccount();\n+\n+    // assertions for required parameters\n+    assertThat(namespace)\n+        .as(\"make sure namespace is not empty or null\")\n+        .isNotNull()\n+        .isNotEmpty();\n+\n+    assertThat(params.getReleaseName())\n+        .as(\"make sure namespace is not empty or null\")\n+        .isNotNull()\n+        .isNotEmpty();\n+\n+    // create namespace\n+    if (!Namespace.exists(namespace)) {\n+      logger.info(String.format(\"Creating namespace %s\", namespace));\n+      Namespace ns = new Namespace().name(namespace);\n+    }\n+\n+    // create service account\n+    if (serviceAccount != null && !serviceAccount.equals(\"default\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a2f8e06f08981fa3ed316885c5b3d1a0aceb14c", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5a2f8e06f08981fa3ed316885c5b3d1a0aceb14c", "committedDate": "2020-04-01T22:40:15Z", "message": "addressing review comments, using assertj"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "814e9904fb1150484f596bafdcaec994aa83fcf6", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/814e9904fb1150484f596bafdcaec994aa83fcf6", "committedDate": "2020-04-01T22:52:13Z", "message": "sync to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4763b57aeb66b35fbede410f3f309b7d0635a0af", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4763b57aeb66b35fbede410f3f309b7d0635a0af", "committedDate": "2020-04-02T03:56:51Z", "message": "adding helm commands"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa9a285396ac9f2e9891f5090e0e1868ace318ed", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/aa9a285396ac9f2e9891f5090e0e1868ace318ed", "committedDate": "2020-04-02T04:05:56Z", "message": "fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTQ1OTc3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#pullrequestreview-386545977", "createdAt": "2020-04-02T15:33:30Z", "commit": {"oid": "aa9a285396ac9f2e9891f5090e0e1868ace318ed"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTozMzozMFrOF_xDAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTozMzo1OFrOF_xEWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQwODE5NA==", "bodyText": "wow, that's a bit awkward.  is there an assertJ assertion we can use instead of this one, that makes the code a bit nicer?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r402408194", "createdAt": "2020-04-02T15:33:30Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleOperatorValidation.java", "diffHunk": "@@ -59,18 +65,37 @@ public void testInstallingOperator() {\n     // the kubernetes deployment.  this will complete quickly, and will either be\n     // successful or not.\n \n-    String opns = \"opns1\";\n-    OperatorParams opParams\n-        = new OperatorParams().image(\"weblogic-kubernetes-operator:test_itsimpleoperator\")\n-          .domainNamespaces(Arrays.asList(\"domainns1\", \"domainns2\"))\n-          .serviceAccount(\"sa-opns1\");\n-    boolean success = installOperator(\"weblogic-operator\", opns, opParams);\n+    // get a new unique namespace\n+    final String namespace = assertDoesNotThrow(TestActions::createUniqueNamespace,\n+        \"Failed to create unique namespace due to ApiException\");\n+    logger.info(String.format(\"Got a new namespace called %s\", namespace));\n \n-    // we can use a standard JUnit assertion to check on the result\n-    assertEquals(true, success, \"There MUST be a descriptive message here\");\n+    // Create a service account for the unique namespace\n+    final String serviceAccountName = namespace + \"-sa\";\n+    assertDoesNotThrow(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa9a285396ac9f2e9891f5090e0e1868ace318ed"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQwODUzNg==", "bodyText": "put it in the log, not SOP", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1522#discussion_r402408536", "createdAt": "2020-04-02T15:33:58Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleOperatorValidation.java", "diffHunk": "@@ -59,18 +65,37 @@ public void testInstallingOperator() {\n     // the kubernetes deployment.  this will complete quickly, and will either be\n     // successful or not.\n \n-    String opns = \"opns1\";\n-    OperatorParams opParams\n-        = new OperatorParams().image(\"weblogic-kubernetes-operator:test_itsimpleoperator\")\n-          .domainNamespaces(Arrays.asList(\"domainns1\", \"domainns2\"))\n-          .serviceAccount(\"sa-opns1\");\n-    boolean success = installOperator(\"weblogic-operator\", opns, opParams);\n+    // get a new unique namespace\n+    final String namespace = assertDoesNotThrow(TestActions::createUniqueNamespace,\n+        \"Failed to create unique namespace due to ApiException\");\n+    logger.info(String.format(\"Got a new namespace called %s\", namespace));\n \n-    // we can use a standard JUnit assertion to check on the result\n-    assertEquals(true, success, \"There MUST be a descriptive message here\");\n+    // Create a service account for the unique namespace\n+    final String serviceAccountName = namespace + \"-sa\";\n+    assertDoesNotThrow(\n+        () -> TestActions.createServiceAccount(new V1ServiceAccount()\n+            .metadata(new V1ObjectMeta().namespace(namespace).name(serviceAccountName))));\n+    logger.info(\"Created service account: \" + serviceAccountName);\n+\n+    OperatorParams opParams =\n+        new OperatorParams().releaseName(\"weblogic-operator\")\n+            .namespace(namespace)\n+            .image(\"weblogic-kubernetes-operator:test_itsimpleoperator\")\n+            .domainNamespaces(Arrays.asList(\"domainns1\", \"domainns2\"))\n+            .serviceAccount(\"opns1-sa\");\n \n-    // we can use the injected logger like this:\n-    logger.info(\"hello\");\n+    //ToDO: use Junit 5 assertions\n+    try {\n+      installOperator(opParams);\n+    } catch (ApiException e) {\n+      e.printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa9a285396ac9f2e9891f5090e0e1868ace318ed"}, "originalPosition": 59}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4950, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}