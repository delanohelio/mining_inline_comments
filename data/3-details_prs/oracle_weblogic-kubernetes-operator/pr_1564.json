{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNDIzMTA1", "number": 1564, "title": "Created a new PR for PV and PVC addition because of merge conflict", "bodyText": "Creating a new PR with reviewed code from another PR https://github.com/oracle/weblogic-kubernetes-operator/pull/1549/files\nThe PR 1549 has too many merge conflicts since the original branch is merged to develop, hence creating a new one.", "createdAt": "2020-04-14T21:27:07Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564", "merged": true, "mergeCommit": {"oid": "c3f052a97ce26308acd141d523350871e0effc71"}, "closed": true, "closedAt": "2020-04-16T11:35:23Z", "author": {"login": "sankarpn"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXqRlzAH2gAyNDAzNDIzMTA1OjY4ZDFmY2E1NWQ0MzhjNTRlNWMyNzk4MmZjNzYwMjYyMWVlNGIyYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX-rbCgFqTM5NDEzNjA1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "68d1fca55d438c54e5c27982fc7602621ee4b2b2", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/68d1fca55d438c54e5c27982fc7602621ee4b2b2", "committedDate": "2020-04-14T21:21:34Z", "message": "Created a new PR for PV and PVC addition because of merge conflict"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNjg5NzQ4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#pullrequestreview-393689748", "createdAt": "2020-04-15T11:34:08Z", "commit": {"oid": "68d1fca55d438c54e5c27982fc7602621ee4b2b2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxMTozNDowOFrOGF1mFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxMTozNTowNlrOGF1oCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc3NDE2NA==", "bodyText": "failed? or succeeded?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#discussion_r408774164", "createdAt": "2020-04-15T11:34:08Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleDomainValidation.java", "diffHunk": "@@ -48,6 +55,51 @@ public void testCreatingDomain() {\n             .metadata(new V1ObjectMeta().namespace(namespace).name(serviceAccountName))));\n     logger.info(\"Created service account: {0}\", serviceAccount.getMetadata().getName());\n \n+    // create persistent volume and persistent volume claim\n+    final String pvcName = domainUID + \"-pvc\"; // name of the persistent volume claim\n+    final String pvName = domainUID + \"-pv\"; // name of the persistent volume\n+\n+    V1PersistentVolumeClaim v1pvc = new V1PersistentVolumeClaim()\n+        .spec(new V1PersistentVolumeClaimSpec()\n+            .addAccessModesItem(\"ReadWriteMany\")\n+            .storageClassName(domainUID + \"-weblogic-domain-storage-class\")\n+            .volumeName(domainUID + \"-weblogic-pv\")\n+            .resources(new V1ResourceRequirements()\n+                .putRequestsItem(\"storage\", Quantity.fromString(\"10Gi\"))))\n+        .metadata(new V1ObjectMetaBuilder()\n+            .withName(pvcName)\n+            .withNamespace(namespace)\n+            .build()\n+            .putLabelsItem(\"weblogic.resourceVersion\", \"domain-v2\")\n+            .putLabelsItem(\"weblogic.domainUID\", domainUID));\n+\n+    boolean success = assertDoesNotThrow(\n+        () -> TestActions.createPersistentVolumeClaim(v1pvc),\n+        \"Persistent volume claim creation failed, look at the log for failure ApiException responsebody\"\n+    );\n+    assertTrue(success, \"PersistentVolumeClaim creation failed\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68d1fca55d438c54e5c27982fc7602621ee4b2b2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc3NDU1Mw==", "bodyText": "it would be better to catch the exception and check it, and what is \"look at the log\"? what log? where? get the details and print them out here yourself", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#discussion_r408774553", "createdAt": "2020-04-15T11:34:53Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleDomainValidation.java", "diffHunk": "@@ -48,6 +55,51 @@ public void testCreatingDomain() {\n             .metadata(new V1ObjectMeta().namespace(namespace).name(serviceAccountName))));\n     logger.info(\"Created service account: {0}\", serviceAccount.getMetadata().getName());\n \n+    // create persistent volume and persistent volume claim\n+    final String pvcName = domainUID + \"-pvc\"; // name of the persistent volume claim\n+    final String pvName = domainUID + \"-pv\"; // name of the persistent volume\n+\n+    V1PersistentVolumeClaim v1pvc = new V1PersistentVolumeClaim()\n+        .spec(new V1PersistentVolumeClaimSpec()\n+            .addAccessModesItem(\"ReadWriteMany\")\n+            .storageClassName(domainUID + \"-weblogic-domain-storage-class\")\n+            .volumeName(domainUID + \"-weblogic-pv\")\n+            .resources(new V1ResourceRequirements()\n+                .putRequestsItem(\"storage\", Quantity.fromString(\"10Gi\"))))\n+        .metadata(new V1ObjectMetaBuilder()\n+            .withName(pvcName)\n+            .withNamespace(namespace)\n+            .build()\n+            .putLabelsItem(\"weblogic.resourceVersion\", \"domain-v2\")\n+            .putLabelsItem(\"weblogic.domainUID\", domainUID));\n+\n+    boolean success = assertDoesNotThrow(\n+        () -> TestActions.createPersistentVolumeClaim(v1pvc),\n+        \"Persistent volume claim creation failed, look at the log for failure ApiException responsebody\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68d1fca55d438c54e5c27982fc7602621ee4b2b2"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc3NDY2NQ==", "bodyText": "same", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#discussion_r408774665", "createdAt": "2020-04-15T11:35:06Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItSimpleDomainValidation.java", "diffHunk": "@@ -48,6 +55,51 @@ public void testCreatingDomain() {\n             .metadata(new V1ObjectMeta().namespace(namespace).name(serviceAccountName))));\n     logger.info(\"Created service account: {0}\", serviceAccount.getMetadata().getName());\n \n+    // create persistent volume and persistent volume claim\n+    final String pvcName = domainUID + \"-pvc\"; // name of the persistent volume claim\n+    final String pvName = domainUID + \"-pv\"; // name of the persistent volume\n+\n+    V1PersistentVolumeClaim v1pvc = new V1PersistentVolumeClaim()\n+        .spec(new V1PersistentVolumeClaimSpec()\n+            .addAccessModesItem(\"ReadWriteMany\")\n+            .storageClassName(domainUID + \"-weblogic-domain-storage-class\")\n+            .volumeName(domainUID + \"-weblogic-pv\")\n+            .resources(new V1ResourceRequirements()\n+                .putRequestsItem(\"storage\", Quantity.fromString(\"10Gi\"))))\n+        .metadata(new V1ObjectMetaBuilder()\n+            .withName(pvcName)\n+            .withNamespace(namespace)\n+            .build()\n+            .putLabelsItem(\"weblogic.resourceVersion\", \"domain-v2\")\n+            .putLabelsItem(\"weblogic.domainUID\", domainUID));\n+\n+    boolean success = assertDoesNotThrow(\n+        () -> TestActions.createPersistentVolumeClaim(v1pvc),\n+        \"Persistent volume claim creation failed, look at the log for failure ApiException responsebody\"\n+    );\n+    assertTrue(success, \"PersistentVolumeClaim creation failed\");\n+\n+    V1PersistentVolume v1pv = new V1PersistentVolume()\n+        .spec(new V1PersistentVolumeSpec()\n+            .addAccessModesItem(\"ReadWriteMany\")\n+            .storageClassName(domainUID + \"-weblogic-domain-storage-class\")\n+            .volumeMode(\"Filesystem\")\n+            .putCapacityItem(\"storage\", Quantity.fromString(\"10Gi\"))\n+            .persistentVolumeReclaimPolicy(\"Recycle\")\n+            .hostPath(new V1HostPathVolumeSource()\n+                .path(System.getProperty(\"java.io.tmpdir\") + domainUID + \"-persistentVolume\")))\n+                .metadata(new V1ObjectMetaBuilder()\n+            .withName(pvName)\n+            .withNamespace(namespace)\n+            .build()\n+            .putLabelsItem(\"weblogic.resourceVersion\", \"domain-v2\")\n+            .putLabelsItem(\"weblogic.domainUID\", domainUID));\n+    success = assertDoesNotThrow(\n+        () -> TestActions.createPersistentVolume(v1pv),\n+        \"Persistent volume creation failed, look at the log for failure ApiException responsebody\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68d1fca55d438c54e5c27982fc7602621ee4b2b2"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dd4de496fa4db5a847377ec4269fe26b20343b4", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7dd4de496fa4db5a847377ec4269fe26b20343b4", "committedDate": "2020-04-15T15:20:55Z", "message": "Merge branch 'develop' into pv-addition-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a4a33e5a2f56c95efd9d8bf4ca272f2bf9dccab", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0a4a33e5a2f56c95efd9d8bf4ca272f2bf9dccab", "committedDate": "2020-04-15T20:17:36Z", "message": "Changes messages to be little bit more clear"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MTA3NTcx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#pullrequestreview-394107571", "createdAt": "2020-04-15T20:23:37Z", "commit": {"oid": "0a4a33e5a2f56c95efd9d8bf4ca272f2bf9dccab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40f23384058a5fe27edf834f3f49c7cc822df87a", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/40f23384058a5fe27edf834f3f49c7cc822df87a", "committedDate": "2020-04-15T20:27:04Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into pv-addition-changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MTM2MDU1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1564#pullrequestreview-394136055", "createdAt": "2020-04-15T21:07:53Z", "commit": {"oid": "40f23384058a5fe27edf834f3f49c7cc822df87a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4636, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}