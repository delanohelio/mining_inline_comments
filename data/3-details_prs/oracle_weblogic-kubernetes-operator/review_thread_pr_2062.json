{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNTM3NjU5", "number": 2062, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo0Nzo1NFrOE6zKAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MTowOFrOE6zN5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDkxMDA5OnYy", "diffSide": "RIGHT", "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo0Nzo1NFrOH2Fegg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1Nzo1N1rOH2Fvqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NDg4Mg==", "bodyText": "the second sentence look like it should be removed (\"This script...\"), as the introspect job does not generate a domain resource...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526474882", "createdAt": "2020-11-18T22:47:54Z", "author": {"login": "tbarnes-us"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\\n+    successfully and generated the domain resource. Exiting.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NTQ2Nw==", "bodyText": "(same problem  in 'stopDomain.sh' too)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526475467", "createdAt": "2020-11-18T22:49:14Z", "author": {"login": "tbarnes-us"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\\n+    successfully and generated the domain resource. Exiting.\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NDg4Mg=="}, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3OTI3NQ==", "bodyText": "Removed, thanks.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526479275", "createdAt": "2020-11-18T22:57:57Z", "author": {"login": "ankedia"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\\n+    successfully and generated the domain resource. Exiting.\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NDg4Mg=="}, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDkxODA4OnYy", "diffSide": "RIGHT", "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MDoyOVrOH2FjRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1ODowN1rOH2Fv9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjEwMw==", "bodyText": "This information is not needed.  The first statement ( Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace} )  is sufficient convey the message.  Should we put internal detail about introspector job here ?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526476103", "createdAt": "2020-11-18T22:50:29Z", "author": {"login": "anpanigr"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NzA4MA==", "bodyText": "nope - i put in a similar comment two minutes before you - good catch", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526477080", "createdAt": "2020-11-18T22:52:49Z", "author": {"login": "tbarnes-us"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjEwMw=="}, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3OTM0OA==", "bodyText": "Done", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526479348", "createdAt": "2020-11-18T22:58:07Z", "author": {"login": "ankedia"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjEwMw=="}, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDkyMDA0OnYy", "diffSide": "RIGHT", "path": "kubernetes/samples/scripts/domain-lifecycle/stopDomain.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MTowOFrOH2FkcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1ODoyMVrOH2FwWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjQwMA==", "bodyText": "This information is not needed. The first statement ( Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace} ) is sufficient convey the message. Should we put internal detail about introspector job here ?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526476400", "createdAt": "2020-11-18T22:51:08Z", "author": {"login": "anpanigr"}, "path": "kubernetes/samples/scripts/domain-lifecycle/stopDomain.sh", "diffHunk": "@@ -66,13 +66,21 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3OTQ0OQ==", "bodyText": "Done.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526479449", "createdAt": "2020-11-18T22:58:21Z", "author": {"login": "ankedia"}, "path": "kubernetes/samples/scripts/domain-lifecycle/stopDomain.sh", "diffHunk": "@@ -66,13 +66,21 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjQwMA=="}, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3764, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}