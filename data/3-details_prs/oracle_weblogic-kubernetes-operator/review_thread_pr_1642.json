{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODI4NDU1", "number": 1642, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjozOToyNFrOD7vCpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoyMTo0OVrOD9ISgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzOTYzMzAyOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjozOToyNFrOGUPbtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0NDoxM1rOGVxzkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3NzU1Ng==", "bodyText": "reliable way to check a pod is restarted is by comparing the pod creation timestamp that is captured before upgrade and pod creation timestamp after upgrade ...please change this logic", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r423877556", "createdAt": "2020-05-12T16:39:24Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -150,10 +150,26 @@ private void upgradeTraefikNamespace() throws Exception {\n     LoggerHelper.getLocal().log(Level.INFO, \" upgradeTraefikNamespace() Running \" + cmd.toString());\n     ExecResult result = ExecCommand.exec(cmd.toString());\n     if (result.exitValue() != 0) {\n+      TestUtils.checkHelmChart(\"traefik-operator\",\"traefik\");\n       reportHelmInstallFailure(cmd.toString(), result);\n     }\n     String outputStr = result.stdout().trim();\n     LoggerHelper.getLocal().log(Level.INFO, \"Command returned \" + outputStr);\n+    int i = 0;\n+    //wait until pod is restarted after upgrade and check the status\n+    String traefikPod = TestUtils.getPodName(\" -l app=traefik \", \"traefik\");\n+    cmd = new StringBuffer();\n+    cmd.append(\"kubectl get pod -n traefik\");\n+    while (i < maxIterationsPod) {\n+      if (TestUtils.checkPodContains(cmd.toString(), \"Terminating\", traefikPod)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5MDI1Nw==", "bodyText": "Also check the status of the release after upgrade", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r423890257", "createdAt": "2020-05-12T16:58:27Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -150,10 +150,26 @@ private void upgradeTraefikNamespace() throws Exception {\n     LoggerHelper.getLocal().log(Level.INFO, \" upgradeTraefikNamespace() Running \" + cmd.toString());\n     ExecResult result = ExecCommand.exec(cmd.toString());\n     if (result.exitValue() != 0) {\n+      TestUtils.checkHelmChart(\"traefik-operator\",\"traefik\");\n       reportHelmInstallFailure(cmd.toString(), result);\n     }\n     String outputStr = result.stdout().trim();\n     LoggerHelper.getLocal().log(Level.INFO, \"Command returned \" + outputStr);\n+    int i = 0;\n+    //wait until pod is restarted after upgrade and check the status\n+    String traefikPod = TestUtils.getPodName(\" -l app=traefik \", \"traefik\");\n+    cmd = new StringBuffer();\n+    cmd.append(\"kubectl get pod -n traefik\");\n+    while (i < maxIterationsPod) {\n+      if (TestUtils.checkPodContains(cmd.toString(), \"Terminating\", traefikPod)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3NzU1Ng=="}, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU1MTc2Mw==", "bodyText": "traefik (voyager) pod at same cases terminates and restarted in others it does not, after adding check for creation timestamp some tests failed because timestamp check ( so I removed it back). Added status of release check", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r424551763", "createdAt": "2020-05-13T15:58:34Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -150,10 +150,26 @@ private void upgradeTraefikNamespace() throws Exception {\n     LoggerHelper.getLocal().log(Level.INFO, \" upgradeTraefikNamespace() Running \" + cmd.toString());\n     ExecResult result = ExecCommand.exec(cmd.toString());\n     if (result.exitValue() != 0) {\n+      TestUtils.checkHelmChart(\"traefik-operator\",\"traefik\");\n       reportHelmInstallFailure(cmd.toString(), result);\n     }\n     String outputStr = result.stdout().trim();\n     LoggerHelper.getLocal().log(Level.INFO, \"Command returned \" + outputStr);\n+    int i = 0;\n+    //wait until pod is restarted after upgrade and check the status\n+    String traefikPod = TestUtils.getPodName(\" -l app=traefik \", \"traefik\");\n+    cmd = new StringBuffer();\n+    cmd.append(\"kubectl get pod -n traefik\");\n+    while (i < maxIterationsPod) {\n+      if (TestUtils.checkPodContains(cmd.toString(), \"Terminating\", traefikPod)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3NzU1Ng=="}, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3OTk1OQ==", "bodyText": "I checked with Ryan, he said traefik pod should not be getting restarted after upgrade. You can remove the check you have here for pod restart.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425179959", "createdAt": "2020-05-14T14:27:04Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -150,10 +150,26 @@ private void upgradeTraefikNamespace() throws Exception {\n     LoggerHelper.getLocal().log(Level.INFO, \" upgradeTraefikNamespace() Running \" + cmd.toString());\n     ExecResult result = ExecCommand.exec(cmd.toString());\n     if (result.exitValue() != 0) {\n+      TestUtils.checkHelmChart(\"traefik-operator\",\"traefik\");\n       reportHelmInstallFailure(cmd.toString(), result);\n     }\n     String outputStr = result.stdout().trim();\n     LoggerHelper.getLocal().log(Level.INFO, \"Command returned \" + outputStr);\n+    int i = 0;\n+    //wait until pod is restarted after upgrade and check the status\n+    String traefikPod = TestUtils.getPodName(\" -l app=traefik \", \"traefik\");\n+    cmd = new StringBuffer();\n+    cmd.append(\"kubectl get pod -n traefik\");\n+    while (i < maxIterationsPod) {\n+      if (TestUtils.checkPodContains(cmd.toString(), \"Terminating\", traefikPod)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3NzU1Ng=="}, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ4OTI5Ng==", "bodyText": "the traffic pod in some cases get restarted, keeping the check", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425489296", "createdAt": "2020-05-14T23:44:13Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -150,10 +150,26 @@ private void upgradeTraefikNamespace() throws Exception {\n     LoggerHelper.getLocal().log(Level.INFO, \" upgradeTraefikNamespace() Running \" + cmd.toString());\n     ExecResult result = ExecCommand.exec(cmd.toString());\n     if (result.exitValue() != 0) {\n+      TestUtils.checkHelmChart(\"traefik-operator\",\"traefik\");\n       reportHelmInstallFailure(cmd.toString(), result);\n     }\n     String outputStr = result.stdout().trim();\n     LoggerHelper.getLocal().log(Level.INFO, \"Command returned \" + outputStr);\n+    int i = 0;\n+    //wait until pod is restarted after upgrade and check the status\n+    String traefikPod = TestUtils.getPodName(\" -l app=traefik \", \"traefik\");\n+    cmd = new StringBuffer();\n+    cmd.append(\"kubectl get pod -n traefik\");\n+    while (i < maxIterationsPod) {\n+      if (TestUtils.checkPodContains(cmd.toString(), \"Terminating\", traefikPod)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3NzU1Ng=="}, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzOTY2Mjg2OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjo0NzowN1rOGUPvKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNTo1OTowNFrOGU4mow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg4MjUzNw==", "bodyText": "have you verified that this method is not getting called by multiple tests at the same time in parallel runs after adding this?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r423882537", "createdAt": "2020-05-12T16:47:07Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -131,7 +131,7 @@ private void createTraefikIngressPerDomain() throws Exception {\n     createTraefikIngress();\n   }\n \n-  private void upgradeTraefikNamespace() throws Exception {\n+  private synchronized void upgradeTraefikNamespace() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU1MjA5OQ==", "bodyText": "yes", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r424552099", "createdAt": "2020-05-13T15:59:04Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -131,7 +131,7 @@ private void createTraefikIngressPerDomain() throws Exception {\n     createTraefikIngress();\n   }\n \n-  private void upgradeTraefikNamespace() throws Exception {\n+  private synchronized void upgradeTraefikNamespace() throws Exception {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg4MjUzNw=="}, "originalCommit": {"oid": "87a3a520cdcf41e78d423778929b4d0931613d01"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzc4Mzc1OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/Domain.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0Njo1MlrOGVf18Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0MzoyM1rOGVxynA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NDk5Mw==", "bodyText": "I think this is only for debugging..you can also check the ingress as well and do TestUtils.checkPodReadyAndRunning(traefikPod, \"traefik\") before helmcheck", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425194993", "createdAt": "2020-05-14T14:46:52Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/Domain.java", "diffHunk": "@@ -806,7 +806,9 @@ public void callWebAppAndVerifyLoadBalancing(String webappName, boolean verifyLo\n \n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd with response code \" + curlCmdResCode);\n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd \" + curlCmd);\n-\n+      //check helm status\n+      String lbName = getLoadBalancerName().toLowerCase();\n+      TestUtils.checkHelmChart(lbName + \"-operator\", lbName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9ae3cf8c7b07ac629acbd1756a8bdce0cf33d56"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ4OTA1Mg==", "bodyText": "added", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425489052", "createdAt": "2020-05-14T23:43:23Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/Domain.java", "diffHunk": "@@ -806,7 +806,9 @@ public void callWebAppAndVerifyLoadBalancing(String webappName, boolean verifyLo\n \n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd with response code \" + curlCmdResCode);\n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd \" + curlCmd);\n-\n+      //check helm status\n+      String lbName = getLoadBalancerName().toLowerCase();\n+      TestUtils.checkHelmChart(lbName + \"-operator\", lbName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NDk5Mw=="}, "originalCommit": {"oid": "a9ae3cf8c7b07ac629acbd1756a8bdce0cf33d56"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzc4OTEwOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0ODowOFrOGVf5iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0MzozN1rOGVxy7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NTkxMg==", "bodyText": "you can remove this too", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425195912", "createdAt": "2020-05-14T14:48:08Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -291,8 +319,25 @@ private void upgradeVoyagerNamespace() throws Exception {\n     }\n \n     if (null == returnStr) {\n-      executeHelmCommand(cmd.toString());\n+      executeHelmCommand(cmd.toString(), \"voyager-operator\",\"voyager\");\n     }\n+    //check release status\n+    String helmCmd = \"helm status voyager-operator --namespace voyager\";\n+    TestUtils.checkAnyCmdInLoop(helmCmd, \"deployed\");\n+    i = 0;\n+    //wait until pod is restarted after upgrade and check the status", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9ae3cf8c7b07ac629acbd1756a8bdce0cf33d56"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ4OTEzNA==", "bodyText": "corrected msg", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r425489134", "createdAt": "2020-05-14T23:43:37Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -291,8 +319,25 @@ private void upgradeVoyagerNamespace() throws Exception {\n     }\n \n     if (null == returnStr) {\n-      executeHelmCommand(cmd.toString());\n+      executeHelmCommand(cmd.toString(), \"voyager-operator\",\"voyager\");\n     }\n+    //check release status\n+    String helmCmd = \"helm status voyager-operator --namespace voyager\";\n+    TestUtils.checkAnyCmdInLoop(helmCmd, \"deployed\");\n+    i = 0;\n+    //wait until pod is restarted after upgrade and check the status", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NTkxMg=="}, "originalCommit": {"oid": "a9ae3cf8c7b07ac629acbd1756a8bdce0cf33d56"}, "originalPosition": 113}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NDI1NDMwOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/Domain.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoxOTo1OVrOGWdwFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoxOTo1OVrOGWdwFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIwOTMwMg==", "bodyText": "it's an ingress controller, not a load balancer. just a note - no need to change it", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r426209302", "createdAt": "2020-05-17T02:19:59Z", "author": {"login": "markxnelson"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/Domain.java", "diffHunk": "@@ -814,7 +814,8 @@ public void callWebAppAndVerifyLoadBalancing(String webappName, boolean verifyLo\n \n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd with response code \" + curlCmdResCode);\n       LoggerHelper.getLocal().log(Level.INFO, \"Curl cmd \" + curlCmd);\n-\n+      //check helm status\n+      checkLoadBalancer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d46fd93eb5880e47cd90f0ba48fdd987f562f6"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NDI1NTA3OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/TestUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoyMTowNlrOGWdwbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoyMTowNlrOGWdwbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIwOTM5MA==", "bodyText": "expr is a poor choice of name", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r426209390", "createdAt": "2020-05-17T02:21:06Z", "author": {"login": "markxnelson"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/TestUtils.java", "diffHunk": "@@ -2181,4 +2210,107 @@ public static String getDeletionTimestamp(String namespace, String pod) throws E\n     ExecResult result = ExecCommand.exec(kcmd);\n     return result.stdout().trim();\n   }\n+\n+  /**\n+   * Check the expected status for provided helm chart.\n+   *\n+   * @param chartName  helm chart name\n+   * @param chartNS helm chart namespace\n+   * @param expr expected status", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d46fd93eb5880e47cd90f0ba48fdd987f562f6"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NDI1NTM2OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/TestUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoyMTo0OVrOGWdwlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QwMjoyMTo0OVrOGWdwlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIwOTQyOQ==", "bodyText": "you are not returning anything from this method, so \"retrieve info\" seems incorrect", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1642#discussion_r426209429", "createdAt": "2020-05-17T02:21:49Z", "author": {"login": "markxnelson"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/TestUtils.java", "diffHunk": "@@ -2181,4 +2210,107 @@ public static String getDeletionTimestamp(String namespace, String pod) throws E\n     ExecResult result = ExecCommand.exec(kcmd);\n     return result.stdout().trim();\n   }\n+\n+  /**\n+   * Check the expected status for provided helm chart.\n+   *\n+   * @param chartName  helm chart name\n+   * @param chartNS helm chart namespace\n+   * @param expr expected status\n+   * @throws Exception if expected status not found.\n+   */\n+  public static void checkHelmChartStatus(String chartName, String chartNS, String expr) throws Exception {\n+    String cmd = \"helm status \" + chartName + \" --namespace \" + chartNS;\n+    ExecResult result = ExecCommand.exec(cmd);\n+    checkCmdInLoop(cmd, expr, chartName);\n+  }\n+\n+  /**\n+   * Retrieve info for provided helm chart.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d46fd93eb5880e47cd90f0ba48fdd987f562f6"}, "originalPosition": 79}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4547, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}