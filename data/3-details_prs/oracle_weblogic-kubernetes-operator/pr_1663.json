{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NzU5MDE1", "number": 1663, "title": "Fix Rolling Upgrade", "bodyText": "Changes for fixing rolling upgrade:\n\n\nFor Kubernetes.exec API command, handle IllegalStateException thrown when reading from stderr when stream already closed.\n\n\nNormalize the DomainSpec to resolve a mismatch in the image pull policy field for the updated and current Domain spec (the value for imagePullPolicy is IfNotPresent in the updated Domain whereas the value in current.getSpec() is ) which was causing the numerous rolling upgrade code path (canceling and running) by different fibers.\n\n\nNOTE: Will address checking of all default values for Pod.spec fields (those fields on the pod that Kubernetes appears to fill in) in another JIRA.  Pod spec fields not updated in the DomainSpec.\n\n\nRyan's changes to remove RestartOneClusteredServerStep and just do the servers.poll() one level higher.\n\n\nWhile there are server's to be rolled, the same fiber will periodically verify (using doDelay()) when pods are in ready state to initiate rolling of the next set of servers while honoring the configured minimum available servers.", "createdAt": "2020-05-18T21:48:19Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663", "merged": true, "mergeCommit": {"oid": "03364437c928e29fed394edec7bd8d7de50fb755"}, "closed": true, "closedAt": "2020-05-20T18:03:07Z", "author": {"login": "lennyphan"}, "timelineItems": {"totalCount": 101, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjLxMNgFqTQxNTUxOTQxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjLxMNgFqTQxNTUxOTQxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTE5NDE5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-415519419", "createdAt": "2020-05-20T16:36:07Z", "commit": {"oid": "26480af782c34d181c8159f2a45122110438e79f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51824d6a6dd3a0e43a5344885606e5956b44843b", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/51824d6a6dd3a0e43a5344885606e5956b44843b", "committedDate": "2020-04-16T13:23:48Z", "message": "Initial changes to test application update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9dc18a32a815da9588a2f2f1705b47fabc96bcd", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c9dc18a32a815da9588a2f2f1705b47fabc96bcd", "committedDate": "2020-04-16T13:28:12Z", "message": "Add app assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af2e168a0f5b2a7fad2f6df328cc815cd8badcfe", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/af2e168a0f5b2a7fad2f6df328cc815cd8badcfe", "committedDate": "2020-04-17T15:13:41Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "351bc8a1172bc7be3d41eeb24eb3d34ed2691519", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/351bc8a1172bc7be3d41eeb24eb3d34ed2691519", "committedDate": "2020-04-17T17:57:04Z", "message": "Save the current change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b50a627b242a87880a04a6f414caf3f59218b89", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9b50a627b242a87880a04a6f414caf3f59218b89", "committedDate": "2020-04-20T00:08:47Z", "message": "Update ItMiiDomain test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c40df289fa37a0c16c336bbed026378fda407abb", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c40df289fa37a0c16c336bbed026378fda407abb", "committedDate": "2020-04-20T18:07:52Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36f7b34daabe18d019ae4029af489b5086d2f351", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/36f7b34daabe18d019ae4029af489b5086d2f351", "committedDate": "2020-04-21T13:26:10Z", "message": "More changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a1164effc5061aec4367b63e0bf4ea92f7e1453", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8a1164effc5061aec4367b63e0bf4ea92f7e1453", "committedDate": "2020-04-21T20:39:43Z", "message": "verify an app from a server pod"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "888b1f371bd46698390739ba6e6357b70b3002ff", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/888b1f371bd46698390739ba6e6357b70b3002ff", "committedDate": "2020-04-21T20:45:10Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/Command.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/CommandParams.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75d6028c66cba27976c044efa25ef3a0c8faad1d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/75d6028c66cba27976c044efa25ef3a0c8faad1d", "committedDate": "2020-04-22T17:07:23Z", "message": "add code to patch the domain with a new image and verify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2b169f89526f38c2deaf40a426bf67e2bb198de", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b2b169f89526f38c2deaf40a426bf67e2bb198de", "committedDate": "2020-04-22T17:14:26Z", "message": "Revert unintended changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c99fae4e407ba673db7d05d1c2afd2baf0fe2299", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c99fae4e407ba673db7d05d1c2afd2baf0fe2299", "committedDate": "2020-04-22T17:52:28Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWitValidation.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e76239b16e4ffbf7dbbce9ab4cdd7b6fc0b5adf6", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e76239b16e4ffbf7dbbce9ab4cdd7b6fc0b5adf6", "committedDate": "2020-04-22T18:33:01Z", "message": "Fix merge issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2745f0a5fbb7ccd60004f10d66d7592cd97152", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dd2745f0a5fbb7ccd60004f10d66d7592cd97152", "committedDate": "2020-04-22T19:53:36Z", "message": "more cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa28b4c77f3d8c9a5694a49dd877693fb5e5740d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fa28b4c77f3d8c9a5694a49dd877693fb5e5740d", "committedDate": "2020-04-22T20:38:59Z", "message": "Initial change for test number 6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32d0238959c9528f1f83a486594c12f9ef96113c", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/32d0238959c9528f1f83a486594c12f9ef96113c", "committedDate": "2020-04-22T23:31:31Z", "message": "Fix ExecCommand to allow both redirect and saveResults enabled the same time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92ac716d86b1e08e42b052d9152c2f13d625a2a4", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/92ac716d86b1e08e42b052d9152c2f13d625a2a4", "committedDate": "2020-04-23T14:30:22Z", "message": "Initial change for adding another app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3c9709577ac9da1d3a15dad2340c9e3493b65e7", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f3c9709577ac9da1d3a15dad2340c9e3493b65e7", "committedDate": "2020-04-23T17:57:59Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWitValidation.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d41efedb81bf0d4cd2137cf846a266da65dbfa95", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d41efedb81bf0d4cd2137cf846a266da65dbfa95", "committedDate": "2020-04-23T21:12:40Z", "message": "More impl for the second test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "754bf4497d8fd23bc3b9771cb8aa0d0cef7ab3cf", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/754bf4497d8fd23bc3b9771cb8aa0d0cef7ab3cf", "committedDate": "2020-04-23T21:40:32Z", "message": "Add model file for the second app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5532b3d39e36c8062d588ced8abc7d5795da0e1", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c5532b3d39e36c8062d588ced8abc7d5795da0e1", "committedDate": "2020-04-23T21:42:50Z", "message": "Minor cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be44a53d60cfe75b6ff342288af3c4e1ce399811", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/be44a53d60cfe75b6ff342288af3c4e1ce399811", "committedDate": "2020-04-24T01:30:23Z", "message": "Clean up comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0794ce024084b386c79c0548a480bc1b2ea5cc7e", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0794ce024084b386c79c0548a480bc1b2ea5cc7e", "committedDate": "2020-04-24T01:33:42Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f586f78d2bbae877c30eb8038216779af76294f", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6f586f78d2bbae877c30eb8038216779af76294f", "committedDate": "2020-04-24T01:46:52Z", "message": "Minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d0b7bd398fdd7bf26902a85745bc510b6103378", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4d0b7bd398fdd7bf26902a85745bc510b6103378", "committedDate": "2020-04-24T02:08:48Z", "message": "Move delete images to the end of AfterAll"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e714627616e7b5a40c04aa9aefd3b553dc22a89", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3e714627616e7b5a40c04aa9aefd3b553dc22a89", "committedDate": "2020-04-24T15:59:30Z", "message": "Update command to check response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cecb83fd842eb352317582c61a084fd64cd114a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7cecb83fd842eb352317582c61a084fd64cd114a", "committedDate": "2020-04-24T17:32:01Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/assertions/TestAssertions.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "937c92372d9348213abd44909be4d72b1f2f223d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/937c92372d9348213abd44909be4d72b1f2f223d", "committedDate": "2020-04-24T18:06:42Z", "message": "Fix a merge error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bc4f4f82d81369273d5d5d59108d39c4396984d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5bc4f4f82d81369273d5d5d59108d39c4396984d", "committedDate": "2020-04-24T18:29:38Z", "message": "Fix exec command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3e17ca1bfcde308bae1a128edd5135af2aaa9f3", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d3e17ca1bfcde308bae1a128edd5135af2aaa9f3", "committedDate": "2020-04-24T18:59:22Z", "message": "Add code for remote repo stuff for the new tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45c965af628f3056b9858b1d392cce7fe58d1ff8", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/45c965af628f3056b9858b1d392cce7fe58d1ff8", "committedDate": "2020-04-24T19:01:44Z", "message": "Minor fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdc828239fa53cdb58e43ae2ce387319c37af5aa", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cdc828239fa53cdb58e43ae2ce387319c37af5aa", "committedDate": "2020-04-24T19:08:54Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c729d7d8d1999cc5fef03fba0a3f3e0d564736d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2c729d7d8d1999cc5fef03fba0a3f3e0d564736d", "committedDate": "2020-04-24T19:15:05Z", "message": "Fix image name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5c5d46c0553584003cf170380d4173db6cb7447", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e5c5d46c0553584003cf170380d4173db6cb7447", "committedDate": "2020-04-24T20:08:33Z", "message": "Add an app file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4094e4efc3e2b34370d2c937f6bf00fdd01dabb4", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4094e4efc3e2b34370d2c937f6bf00fdd01dabb4", "committedDate": "2020-04-24T20:34:57Z", "message": "Make sure the thread joins before we save the stdout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c243b49296820acca34af5192841491c0ac30802", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c243b49296820acca34af5192841491c0ac30802", "committedDate": "2020-04-24T20:47:19Z", "message": "Remove ItWitValidation class becuase the test in it has been copied to ItMiiDomain class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e2b97eb4dbeafbb4a14a737302c9b9efab4e5a5", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3e2b97eb4dbeafbb4a14a737302c9b9efab4e5a5", "committedDate": "2020-04-24T21:25:09Z", "message": "Revert \"Remove ItWitValidation class becuase the test in it has been copied to ItMiiDomain class\"\n\nThis reverts commit c243b49296820acca34af5192841491c0ac30802."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0591fbf66b92ce9dc993214815878aedadf4732c", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0591fbf66b92ce9dc993214815878aedadf4732c", "committedDate": "2020-04-25T02:43:11Z", "message": "Debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8f50c7bca30d768a00eaf0473714504de12baf3", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e8f50c7bca30d768a00eaf0473714504de12baf3", "committedDate": "2020-04-25T03:10:34Z", "message": "Fix pushed image name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "713a3bb6b43b97481990a100e073095a9e5a4a88", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/713a3bb6b43b97481990a100e073095a9e5a4a88", "committedDate": "2020-04-25T14:28:00Z", "message": "Turn off debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c6c391aac1b0baace56f358d44295b25c07f17d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5c6c391aac1b0baace56f358d44295b25c07f17d", "committedDate": "2020-04-25T20:51:39Z", "message": "Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "818af8094c15a8e85bd5a170ca078d3fc21dafad", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/818af8094c15a8e85bd5a170ca078d3fc21dafad", "committedDate": "2020-04-27T15:56:25Z", "message": "Change single check of expected condition to quick retry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2fb039a8730392531560b536b9880eaaf5c71b3", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a2fb039a8730392531560b536b9880eaaf5c71b3", "committedDate": "2020-04-27T18:56:50Z", "message": "Check app on all managed servers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b9f6aa2b92e156fea3d3787071e2253d83e9963", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9b9f6aa2b92e156fea3d3787071e2253d83e9963", "committedDate": "2020-04-27T21:11:34Z", "message": "Check each pod to verify if the image has been patched"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a9b2e4585474ab19a8e9d75104fcc6c453c562d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9a9b2e4585474ab19a8e9d75104fcc6c453c562d", "committedDate": "2020-04-27T21:12:43Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b3af6f97ce4eddf8ceb4b039b6b40013641599b", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1b3af6f97ce4eddf8ceb4b039b6b40013641599b", "committedDate": "2020-04-27T22:20:44Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/ExecCommand.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca8fc5246cbcb851b6809c751d4ca343d12883f", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5ca8fc5246cbcb851b6809c751d4ca343d12883f", "committedDate": "2020-04-28T02:00:36Z", "message": "Fine tuning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c68d8ea12418fcff6bb73e67a2bb4f994da9c035", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c68d8ea12418fcff6bb73e67a2bb4f994da9c035", "committedDate": "2020-04-28T15:25:06Z", "message": "clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fde567ab1dec7596fb572438b788da77c03f722", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6fde567ab1dec7596fb572438b788da77c03f722", "committedDate": "2020-04-28T17:59:49Z", "message": "More cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e15b34b65cc85710bba70d3fefc221f8332ebcdb", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e15b34b65cc85710bba70d3fefc221f8332ebcdb", "committedDate": "2020-04-28T18:54:53Z", "message": "Continue work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a267c36e2d09af33d923af4515d60f83516b46", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b8a267c36e2d09af33d923af4515d60f83516b46", "committedDate": "2020-04-30T21:17:14Z", "message": "Add app continuous availability check and enable it with a system property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "497ad2759d14b73a6d20d02a8e4ac1a4ad5a819e", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/497ad2759d14b73a6d20d02a8e4ac1a4ad5a819e", "committedDate": "2020-04-30T21:33:21Z", "message": "Clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32cab300710b9395956599c77913dc16dd09aeb7", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/32cab300710b9395956599c77913dc16dd09aeb7", "committedDate": "2020-05-01T14:56:25Z", "message": "More javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1461b964db954c6ac3587d347a1c87aafb2fbcbe", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1461b964db954c6ac3587d347a1c87aafb2fbcbe", "committedDate": "2020-05-01T18:25:04Z", "message": "Merge branch 'develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9570c024c5659630e84f9ce6e869df5f5c27d86f", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9570c024c5659630e84f9ce6e869df5f5c27d86f", "committedDate": "2020-05-01T19:51:59Z", "message": "javadoc and cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87451a8c0fb4cad7b2d02260402fa3c90d63abff", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/87451a8c0fb4cad7b2d02260402fa3c90d63abff", "committedDate": "2020-05-01T20:51:45Z", "message": "Adjust timeout values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f6edeeab8d98af50141205f891f4701dcd9c6e", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/41f6edeeab8d98af50141205f891f4701dcd9c6e", "committedDate": "2020-05-01T21:21:20Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31cc7fd29c031fdd1a87d4b46b00a5e043b3969a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/31cc7fd29c031fdd1a87d4b46b00a5e043b3969a", "committedDate": "2020-05-01T21:44:23Z", "message": "Fine tuning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5206a8905a457d4a46b284b7e4d78bff37bb3670", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5206a8905a457d4a46b284b7e4d78bff37bb3670", "committedDate": "2020-05-02T03:29:01Z", "message": "Minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab8ecdfb3362fbd2a507f24da924cd6a3acfe172", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ab8ecdfb3362fbd2a507f24da924cd6a3acfe172", "committedDate": "2020-05-02T07:16:06Z", "message": "Use kubectl exec command for checking app continuous availability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "191ea28a650f06521ec87580354839569f556bd0", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/191ea28a650f06521ec87580354839569f556bd0", "committedDate": "2020-05-02T07:34:34Z", "message": "clean up javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d15f52a885515e5dd87b5ae2dd078305cf071875", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d15f52a885515e5dd87b5ae2dd078305cf071875", "committedDate": "2020-05-03T14:30:44Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91718268821b8ff6526d906096e25bbec183499e", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/91718268821b8ff6526d906096e25bbec183499e", "committedDate": "2020-05-04T20:20:48Z", "message": "Minor update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89a9123951329addafd819650ad3cd20c511f0fd", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/89a9123951329addafd819650ad3cd20c511f0fd", "committedDate": "2020-05-05T20:05:28Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/assertions/impl/Kubernetes.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb8af2660c72e38eb737d7b335c30d5bbcbac1b1", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/bb8af2660c72e38eb737d7b335c30d5bbcbac1b1", "committedDate": "2020-05-05T20:34:40Z", "message": "Minor update of log messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1c30255fa251e2db6646acc4c8af541102ca1f2", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f1c30255fa251e2db6646acc4c8af541102ca1f2", "committedDate": "2020-05-05T21:12:46Z", "message": "More cleanup of log messages and comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d735a7e0e268ec0ecfabf6c4e6e0a889e50b8757", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d735a7e0e268ec0ecfabf6c4e6e0a889e50b8757", "committedDate": "2020-05-06T18:17:39Z", "message": "Address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "072aa1f16708bf5c6b7b8cf7d980b5cfce9c7760", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/072aa1f16708bf5c6b7b8cf7d980b5cfce9c7760", "committedDate": "2020-05-06T19:21:56Z", "message": "Address one more comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3003cd59b6cd0a216ea31f5ddf8775368dbd2be6", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3003cd59b6cd0a216ea31f5ddf8775368dbd2be6", "committedDate": "2020-05-06T20:41:24Z", "message": "Minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d67a4a9473bde201f727a873158bbea6a3ddda6b", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d67a4a9473bde201f727a873158bbea6a3ddda6b", "committedDate": "2020-05-06T22:03:48Z", "message": "More logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "745f8831775d3549bc842e5599bf5a9829106026", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/745f8831775d3549bc842e5599bf5a9829106026", "committedDate": "2020-05-08T16:46:37Z", "message": "Minor comment update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5c3a0d0c4df62015eaeca7df87106a9c18a051d", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b5c3a0d0c4df62015eaeca7df87106a9c18a051d", "committedDate": "2020-05-08T17:57:00Z", "message": "Make log messages more informative"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea8c9552404cb16479feabe225717430958e2f0a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ea8c9552404cb16479feabe225717430958e2f0a", "committedDate": "2020-05-08T21:18:14Z", "message": "Address a new review comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8bded1674fb806172e05fea998111132570e6d5", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a8bded1674fb806172e05fea998111132570e6d5", "committedDate": "2020-05-08T21:49:30Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/assertions/impl/Kubernetes.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e3f2412b84b59e609631183d56e7add5b966bef", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0e3f2412b84b59e609631183d56e7add5b966bef", "committedDate": "2020-05-08T22:01:51Z", "message": "Fix a minor merge error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a146531f22e0d9b6d8f92f7d40c04a262d810d6", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8a146531f22e0d9b6d8f92f7d40c04a262d810d6", "committedDate": "2020-05-11T23:57:38Z", "message": "Address more review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24f2579dd20243a773b3b44107772629f34a5de9", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/24f2579dd20243a773b3b44107772629f34a5de9", "committedDate": "2020-05-12T00:07:42Z", "message": "Update javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34d51a17b29308277775f55c8b625e111fbe813f", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/34d51a17b29308277775f55c8b625e111fbe813f", "committedDate": "2020-05-12T15:40:03Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/assertions/impl/Domain.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c352f594a296e8685d9ac8aff883e216ec096101", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c352f594a296e8685d9ac8aff883e216ec096101", "committedDate": "2020-05-12T15:51:15Z", "message": "Fix merge issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b2d51d4107d0e54366635b411646fdcd9e04d64", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6b2d51d4107d0e54366635b411646fdcd9e04d64", "committedDate": "2020-05-12T18:55:49Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/extensions/ImageBuilders.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b4da2f19a4e6235f141dd77f3268f2a1d5c5f50", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3b4da2f19a4e6235f141dd77f3268f2a1d5c5f50", "committedDate": "2020-05-12T21:08:54Z", "message": "Update the push image code to check REPO_NAME"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "294decc6e04c463406ddafbdb92ea0f3561ef917", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/294decc6e04c463406ddafbdb92ea0f3561ef917", "committedDate": "2020-05-12T21:51:36Z", "message": "remove double adding REMO_NAME"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70fbeb1b8ef8598db5aa0d36ed05c651864c24b5", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/70fbeb1b8ef8598db5aa0d36ed05c651864c24b5", "committedDate": "2020-05-12T22:02:41Z", "message": "Change baseImageName to image Name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "034a9b740bcb9cca6fab6ede2ecb1f609c225d1a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/034a9b740bcb9cca6fab6ede2ecb1f609c225d1a", "committedDate": "2020-05-14T15:51:24Z", "message": "Merge remote-tracking branch 'origin/develop' into mii-app-patching-test\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/TestConstants.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/TestActions.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d37858e2048e93323bdd4904f6ac6e25eda7dd78", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d37858e2048e93323bdd4904f6ac6e25eda7dd78", "committedDate": "2020-05-17T13:31:13Z", "message": "Fix a typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc87889950bca020403d460ee7e581861cb83ed4", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/bc87889950bca020403d460ee7e581861cb83ed4", "committedDate": "2020-05-18T19:55:56Z", "message": "Rolling upgrade fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fec3e5e570b8c4684e72aeb70f15930c881d22ee", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fec3e5e570b8c4684e72aeb70f15930c881d22ee", "committedDate": "2020-05-18T19:56:41Z", "message": "Merge branch 'mii-app-patching-test' of https://github.com/oracle/weblogic-kubernetes-operator into rolling-upgrade-chg\n\npull latest changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd1fb515a9033962f1ebdce5926f616e2ffec349", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fd1fb515a9033962f1ebdce5926f616e2ffec349", "committedDate": "2020-05-18T20:49:47Z", "message": "pull latest from develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/29f097e075a9d59a4239b569a60ef39b37334d9f", "committedDate": "2020-05-18T21:26:11Z", "message": "Remove newline from file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTg5MzM5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-413989339", "createdAt": "2020-05-18T22:51:22Z", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDE5MTY2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-414019166", "createdAt": "2020-05-19T00:17:39Z", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDUxNjY5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-414451669", "createdAt": "2020-05-19T13:35:59Z", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzozNTo1OVrOGXgwQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzozNTo1OVrOGXgwQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMwNzA3Mg==", "bodyText": "The problem with the call to 'normalize' is that it puts control of the internals of domain matching outside the domain classes. We should really fix this by correcting the equals methods to use the effective values of things rather than the raw fields.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#discussion_r427307072", "createdAt": "2020-05-19T13:35:59Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -513,6 +513,7 @@ public void makeRightDomainPresence(\n           // change just by looking at metadata.generation.\n \n           // Has the spec actually changed? We will get watch events for status updates\n+          DomainPresenceControl.normalizeDomainSpec(current.getSpec());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDU2OTM1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-414456935", "createdAt": "2020-05-19T13:41:30Z", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo0MTozMVrOGXhANA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo0MTozMVrOGXhANA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxMTE1Ng==", "bodyText": "Functional programming structures can be much easier to read. In this case,\n   Optional.ofNullable(servers.poll()).ifPresent(serverToRestart -> restarts.add(serverToRestart));\n\nmakes it clearer that you are adding the result of the call to servers.poll() to the collection when it exists. It takes some getting used to, but the result is easier-to-read code.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#discussion_r427311156", "createdAt": "2020-05-19T13:41:31Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/RollingHelper.java", "diffHunk": "@@ -208,31 +208,18 @@ public NextAction apply(Packet packet) {\n \n       LOGGER.info(MessageKeys.ROLLING_SERVERS, dom.getDomainUid(), servers, readyServers);\n \n-      int countToRestartNow = Math.max(1, countReady - dom.getMinAvailable(clusterName));\n+      int countToRestartNow = countReady - dom.getMinAvailable(clusterName);\n       Collection<StepAndPacket> restarts = new ArrayList<>();\n       for (int i = 0; i < countToRestartNow; i++) {\n-        restarts.add(new StepAndPacket(new RestartOneClusteredServerStep(servers, null), packet));\n+        StepAndPacket serverToRestart = servers.poll();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDY0NDA1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-414464405", "createdAt": "2020-05-19T13:48:59Z", "commit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo0OTowMFrOGXhWIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo0OTowMFrOGXhWIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxNjc3MA==", "bodyText": "Please avoid magic numbers in the code - constants are clearer. In addition, nested ternaries can be hard to read. This would be easier to follow as a set of if's, choosing the simplest case first, such as:\n    if (!restarts.isEmpty()) {\n        doForkJoin(this, packet, restarts);\n    } else if (!servers.isEmpty()) {\n        doDelay(this, packet, DELAY_IN_SECONDS, TimeUnit.SECONDS);\n    } else {\n        doNext(packet);\n    }", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#discussion_r427316770", "createdAt": "2020-05-19T13:49:00Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/RollingHelper.java", "diffHunk": "@@ -208,31 +208,18 @@ public NextAction apply(Packet packet) {\n \n       LOGGER.info(MessageKeys.ROLLING_SERVERS, dom.getDomainUid(), servers, readyServers);\n \n-      int countToRestartNow = Math.max(1, countReady - dom.getMinAvailable(clusterName));\n+      int countToRestartNow = countReady - dom.getMinAvailable(clusterName);\n       Collection<StepAndPacket> restarts = new ArrayList<>();\n       for (int i = 0; i < countToRestartNow; i++) {\n-        restarts.add(new StepAndPacket(new RestartOneClusteredServerStep(servers, null), packet));\n+        StepAndPacket serverToRestart = servers.poll();\n+        if (serverToRestart != null) {\n+          restarts.add(serverToRestart);\n+        }\n       }\n-      return doForkJoin(getNext(), packet, restarts);\n-    }\n-  }\n-\n-  private static class RestartOneClusteredServerStep extends Step {\n-    private final Queue<StepAndPacket> servers;\n-\n-    public RestartOneClusteredServerStep(Queue<StepAndPacket> servers, Step next) {\n-      super(next);\n-      this.servers = servers;\n-    }\n \n-    @Override\n-    public NextAction apply(Packet packet) {\n-      StepAndPacket serverToRestart = servers.poll();\n-      if (serverToRestart != null) {\n-        Collection<StepAndPacket> col = Collections.singleton(serverToRestart);\n-        return doForkJoin(this, packet, col);\n-      }\n-      return doNext(packet);\n+      return restarts.isEmpty()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29f097e075a9d59a4239b569a60ef39b37334d9f"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4c8a53d8b8812335d84317bebc1f1dc4b0098f1", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f4c8a53d8b8812335d84317bebc1f1dc4b0098f1", "committedDate": "2020-05-19T16:11:41Z", "message": "Functional programming changes to make code be much easier to read based on code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9204abbd7c488dc4df18619bf64294e64446bcbf", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9204abbd7c488dc4df18619bf64294e64446bcbf", "committedDate": "2020-05-19T21:29:59Z", "message": "Correct DomainSpec.equals() to use the effective values of 'image' and 'imagePullPolicy' and remove DomainPresenceControl class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1b1d184ca3a8646dcad27b8e3808403c7d72471", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b1b1d184ca3a8646dcad27b8e3808403c7d72471", "committedDate": "2020-05-19T21:31:09Z", "message": "Merge remote-tracking branch 'origin/develop' into rolling-upgrade-chg\n\nMerge latest changes from develop branch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0ODcwMzA4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-414870308", "createdAt": "2020-05-19T22:34:18Z", "commit": {"oid": "9204abbd7c488dc4df18619bf64294e64446bcbf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMjozNDoxOFrOGX0_Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMjozNDoxOFrOGX0_Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzYzODUzOQ==", "bodyText": "You can remove the entire if", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#discussion_r427638539", "createdAt": "2020-05-19T22:34:18Z", "author": {"login": "rjeberhard"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -490,7 +490,6 @@ public void makeRightDomainPresence(\n     DomainSpec spec = null;\n     if (domain != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9204abbd7c488dc4df18619bf64294e64446bcbf"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26480af782c34d181c8159f2a45122110438e79f", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/26480af782c34d181c8159f2a45122110438e79f", "committedDate": "2020-05-20T04:34:00Z", "message": "Moved if statement based on review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NDUwNTg5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1663#pullrequestreview-415450589", "createdAt": "2020-05-20T15:22:40Z", "commit": {"oid": "26480af782c34d181c8159f2a45122110438e79f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4822, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}