{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMTYxNDU1", "number": 1879, "title": "owls-83918 an idle domain's resource version should stay unchanged", "bodyText": "The fix contains two parts:\n\nInstead of adding Progressing steps unconditionally, the operator only add Progressing steps when there are changes to make to the domain.\nIn the domain make-right code path, populates the server state and health info in the packet based on what is in the domain object, so that the domain's server state/health is not cleared accidentally.\n\nWhole IT test suite run (had one failure): https://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/1551.\nRerun of the failed test class alone (passed): https://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/1555.", "createdAt": "2020-08-19T13:22:19Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879", "merged": true, "mergeCommit": {"oid": "bbcea246453fa3f6f9bdf317a7c6935fbad3b368"}, "closed": true, "closedAt": "2020-09-02T19:44:09Z", "author": {"login": "doxiao"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAJCK0gH2gAyNDcwMTYxNDU1OmNjZjc0MDFjMzEyMTVhNjJiMzIzMzFlOGQxOTZjZmRkNzljMmI5MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFBY8-gFqTQ4MTI0NDgzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ccf7401c31215a62b32331e8d196cfdd79c2b904", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ccf7401c31215a62b32331e8d196cfdd79c2b904", "committedDate": "2020-08-18T15:48:45Z", "message": "In recheck code path only continue if spec changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "330eac1bd28e98a892af08820b0a30c5198c23fd", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/330eac1bd28e98a892af08820b0a30c5198c23fd", "committedDate": "2020-08-19T01:19:49Z", "message": "Merge remote-tracking branch 'origin/develop' into owls83918-resource-version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24f025773c2e7f49ed5c2ec4b5a359f8cf1ff7ec", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/24f025773c2e7f49ed5c2ec4b5a359f8cf1ff7ec", "committedDate": "2020-08-19T02:30:01Z", "message": "Minor change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNDYxMTA0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-470461104", "createdAt": "2020-08-19T13:33:22Z", "commit": {"oid": "24f025773c2e7f49ed5c2ec4b5a359f8cf1ff7ec"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzozMzoyM1rOHDHmhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzozMzoyM1rOHDHmhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAzMjMyNw==", "bodyText": "Why compute absent up here, if it is used below? Unless there is a very good reason, it should be computed when you need it - you can even remove the local variable that way.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r473032327", "createdAt": "2020-08-19T13:33:23Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/Main.java", "diffHunk": "@@ -840,6 +840,7 @@ public NextAction onSuccess(Packet packet, CallResponse<DomainList> callResponse\n         for (Domain dom : callResponse.getResult().getItems()) {\n           String domainUid = dom.getDomainUid();\n           domainUids.add(domainUid);\n+          boolean absent = dpis.get(domainUid) == null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24f025773c2e7f49ed5c2ec4b5a359f8cf1ff7ec"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNDg0MTI2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-470484126", "createdAt": "2020-08-19T13:57:02Z", "commit": {"oid": "24f025773c2e7f49ed5c2ec4b5a359f8cf1ff7ec"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51aeac25cdf9ba06a4b60e4d5051b2b2949cab66", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/51aeac25cdf9ba06a4b60e4d5051b2b2949cab66", "committedDate": "2020-08-20T00:42:06Z", "message": "only add progressing condition when something is really happening to the domain"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4401bca50bc2365c5f5a88db638b472593167d6e", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4401bca50bc2365c5f5a88db638b472593167d6e", "committedDate": "2020-08-20T00:55:05Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a71072defe5a68e3d57030fe26b7eef74ab5caa4", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a71072defe5a68e3d57030fe26b7eef74ab5caa4", "committedDate": "2020-08-23T00:34:16Z", "message": "populate state and healht when needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "588e7151f1f403f1195a1839f6c7f055e7548def", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/588e7151f1f403f1195a1839f6c7f055e7548def", "committedDate": "2020-08-23T00:35:47Z", "message": "Merge remote-tracking branch 'origin/owls83918-resource-version' into resource-version-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "608cde06709a061e0f6734eb9c67bf31678bd5df", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/608cde06709a061e0f6734eb9c67bf31678bd5df", "committedDate": "2020-08-23T01:06:53Z", "message": "Work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b769e3387320497bf09caa095a252d265055773a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b769e3387320497bf09caa095a252d265055773a", "committedDate": "2020-08-23T01:34:50Z", "message": "debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17daf3e9d95233832ff6167bd349927799612f92", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/17daf3e9d95233832ff6167bd349927799612f92", "committedDate": "2020-08-23T12:04:04Z", "message": "debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce883d53711ba7312705be8c74d4b524d043bfc9", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ce883d53711ba7312705be8c74d4b524d043bfc9", "committedDate": "2020-08-24T03:18:26Z", "message": "more debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7d1ef07888a9b2452e363f476195b780d94e8ef", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a7d1ef07888a9b2452e363f476195b780d94e8ef", "committedDate": "2020-08-24T15:34:38Z", "message": "remove debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81846ab45ff1700cefca6339f580246d579be0b4", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/81846ab45ff1700cefca6339f580246d579be0b4", "committedDate": "2020-08-24T15:37:22Z", "message": "remove debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad4d062302f6d9f193bf960bf5dc9f9816ab1b49", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ad4d062302f6d9f193bf960bf5dc9f9816ab1b49", "committedDate": "2020-08-24T15:38:47Z", "message": "cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczOTkwMjcz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-473990273", "createdAt": "2020-08-24T23:17:13Z", "commit": {"oid": "ad4d062302f6d9f193bf960bf5dc9f9816ab1b49"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQyMzoxNzoxNFrOHF5sdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQyMzoxNzoxNFrOHF5sdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk1MDE5OA==", "bodyText": "would the domain status be updated when we stop a server, or scale down a cluster?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r475950198", "createdAt": "2020-08-24T23:17:14Z", "author": {"login": "alai8"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/PodStepContext.java", "diffHunk": "@@ -330,9 +332,11 @@ private Step patchCurrentPod(V1Pod currentPod, Step next) {\n     KubernetesUtils.addPatches(\n         patchBuilder, \"/metadata/annotations/\", getAnnotations(currentPod), getPodAnnotations());\n \n-    return new CallBuilder()\n-        .patchPodAsync(getPodName(), getNamespace(), getDomainUid(),\n-            new V1Patch(patchBuilder.build().toString()), patchResponse(next));\n+    return Step.chain(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad4d062302f6d9f193bf960bf5dc9f9816ab1b49"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MTA0OTgy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-474104982", "createdAt": "2020-08-25T03:13:46Z", "commit": {"oid": "ad4d062302f6d9f193bf960bf5dc9f9816ab1b49"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwMzoxMzo0NlrOHGDJgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwMzoxMzo0NlrOHGDJgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjEwNTA4OQ==", "bodyText": "Should these be ConcurrentHashMap instead of regular HashMap?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r476105089", "createdAt": "2020-08-25T03:13:46Z", "author": {"login": "ankedia"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -669,6 +671,23 @@ private void internalMakeRightDomainPresence() {\n             willInterrupt);\n     }\n \n+    private void populateServerStateHealthFromDomain(Packet packet) {\n+      Map<String, ServerHealth> serverHealth = new HashMap<String, ServerHealth>();\n+      Map<String, String> serverState = new HashMap<String, String>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad4d062302f6d9f193bf960bf5dc9f9816ab1b49"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67a7cebb4691007c54d4f59d637e14fc7a50dbfe", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/67a7cebb4691007c54d4f59d637e14fc7a50dbfe", "committedDate": "2020-08-25T13:30:48Z", "message": "Fix patchPod handling and change HashMap to ConcurrentHashMap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f9b8b92aa3aaffaa163298e537579da732f6ac22", "committedDate": "2020-08-25T17:26:50Z", "message": "Add ProgressingStep on scaling down"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MDUwMzU5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-475050359", "createdAt": "2020-08-25T23:22:56Z", "commit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMzoyMjo1NlrOHGwoDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMzoyMjo1NlrOHGwoDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Njg1MDE5MA==", "bodyText": "I understand that the ProgressingStep is a private static class, but I think it is better to have this method to unit test code.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r476850190", "createdAt": "2020-08-25T23:22:56Z", "author": {"login": "alai8"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainStatusUpdater.java", "diffHunk": "@@ -611,6 +611,16 @@ void modifyStatus(DomainStatus status) {\n     }\n   }\n \n+  /**\n+   * A utility method for unit testing.\n+   */\n+  public static Step excludeProgressingStep(Step step) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MDg1OTY5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-475085969", "createdAt": "2020-08-26T01:16:30Z", "commit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTM0Mzc2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-475534376", "createdAt": "2020-08-26T14:16:02Z", "commit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoxNjowMlrOHHORbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoxNjowMlrOHHORbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzMzNTkxOA==", "bodyText": "Aren't we already updating these maps in ServerStatusReader? Why copy the logic to here?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r477335918", "createdAt": "2020-08-26T14:16:02Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -669,6 +671,27 @@ private void internalMakeRightDomainPresence() {\n             willInterrupt);\n     }\n \n+    private void populateServerStateHealthFromDomain(Packet packet) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9b8b92aa3aaffaa163298e537579da732f6ac22"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19aed9af3f3557b09508a45eaa97fea218fec528", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/19aed9af3f3557b09508a45eaa97fea218fec528", "committedDate": "2020-09-01T15:31:39Z", "message": "Address review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDA4NzI2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-480008726", "createdAt": "2020-09-01T18:27:48Z", "commit": {"oid": "19aed9af3f3557b09508a45eaa97fea218fec528"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODoyNzo0OFrOHLDB9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODoyNzo0OFrOHLDB9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM0NjAzOA==", "bodyText": "Wouldn't it make sense to add the new step into createSteps, in the branch where we aren't shutting down the domain?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#discussion_r481346038", "createdAt": "2020-09-01T18:27:48Z", "author": {"login": "russgold"}, "path": "operator/src/main/java/oracle/kubernetes/operator/DomainProcessorImpl.java", "diffHunk": "@@ -659,12 +703,11 @@ private void internalMakeRightDomainPresence() {\n               Component.createFor(liveInfo, delegate.getVersion(),\n                   PodAwaiterStepFactory.class, delegate.getPodAwaiterStepFactory(getNamespace()),\n                   V1SubjectRulesReviewStatus.class, delegate.getSubjectRulesReviewStatus(getNamespace())));\n-\n       runDomainPlan(\n             getDomain(),\n             getDomainUid(),\n             getNamespace(),\n-            new StepAndPacket(createSteps(), packet),\n+            new StepAndPacket(createPopulatePacketServerMapsStep(createSteps()), packet),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19aed9af3f3557b09508a45eaa97fea218fec528"}, "originalPosition": 107}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "457c5bb9d7598a5797298d41c01d76303b265b0a", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/457c5bb9d7598a5797298d41c01d76303b265b0a", "committedDate": "2020-09-01T19:55:09Z", "message": "Review comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba2cfc23c32ab4cc9b4d38e4595906fb9b82b2e2", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ba2cfc23c32ab4cc9b4d38e4595906fb9b82b2e2", "committedDate": "2020-09-01T19:57:43Z", "message": "Merge remote-tracking branch 'origin/develop' into owls83918-resource-version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODM2OTMw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-480836930", "createdAt": "2020-09-02T13:47:36Z", "commit": {"oid": "ba2cfc23c32ab4cc9b4d38e4595906fb9b82b2e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwOTQyMjI3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-480942227", "createdAt": "2020-09-02T15:28:46Z", "commit": {"oid": "ba2cfc23c32ab4cc9b4d38e4595906fb9b82b2e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjQ0ODMy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1879#pullrequestreview-481244832", "createdAt": "2020-09-02T19:44:02Z", "commit": {"oid": "ba2cfc23c32ab4cc9b4d38e4595906fb9b82b2e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4402, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}