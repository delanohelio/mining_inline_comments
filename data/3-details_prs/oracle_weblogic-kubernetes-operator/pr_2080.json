{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNDk2MTcw", "number": 2080, "title": "Operator Upgrade from v3.0.4 to develop", "bodyText": "Added a new test method to update operator from Version 3.0.4 to develop.\nExtended the continuous application availability verification to use admin server in addition to managed server(s)\nThis will make sure none of the WebLogic sever got re-started during Operator version upgrade\nUpgrade Run\nhttps://build.weblogick8s.org:8443/job/wko-tmp/114", "createdAt": "2020-12-01T18:35:04Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2080", "merged": true, "mergeCommit": {"oid": "f61f7f87b469b8aee5577c9b94584930a3e59ac1"}, "closed": true, "closedAt": "2020-12-03T20:26:26Z", "author": {"login": "anpanigr"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh-LgUgH2gAyNTMwNDk2MTcwOjJlNDk5OTU5Yjc0ZmU5Yjg3YWRhMGM0NmRmODBkNzRhODk1MDBlM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdio408AH2gAyNTMwNDk2MTcwOmE0MjFiMjJhYTE0ZTgzMDA3NWI2MWZhODc1ZDg3NzVhNjQyMjc1NWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2e499959b74fe9b87ada0c46df80d74a89500e3c", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2e499959b74fe9b87ada0c46df80d74a89500e3c", "committedDate": "2020-12-01T18:23:25Z", "message": "Upgrade test from v3.0.4"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMjcyNzI1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2080#pullrequestreview-542272725", "createdAt": "2020-12-01T20:32:51Z", "commit": {"oid": "2e499959b74fe9b87ada0c46df80d74a89500e3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMjk0NDAz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2080#pullrequestreview-542294403", "createdAt": "2020-12-01T21:04:14Z", "commit": {"oid": "2e499959b74fe9b87ada0c46df80d74a89500e3c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMTowNDoxNFrOH8_sgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMTowNDoxNFrOH8_sgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMDE5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                logger.info(\"Deploying webapp {0} to admin server\", archivePath);\n          \n          \n            \n                logger.info(\"Deploying webapp {0} to admin server and cluster\", archivePath);", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2080#discussion_r533720195", "createdAt": "2020-12-01T21:04:14Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItOperatorUpgrade.java", "diffHunk": "@@ -490,65 +499,74 @@ private void checkDomainStarted(String domainUid, String domainNamespace) {\n   }\n \n   private void deployAndAccessApplication(String namespace, String externalServiceNameSuffix) {\n-    logger.info(\"Getting node port for admin server default channel\");\n-    int serviceNodePort = assertDoesNotThrow(() ->\n-            getServiceNodePort(namespace, getExternalServicePodName(adminServerPodName,\n-                externalServiceNameSuffix), \"default\"),\n-        \"Getting admin server node port failed\");\n-    assertNotEquals(-1, serviceNodePort, \"admin server default node port is not valid\");\n-\n     Path archivePath = Paths.get(ITTESTS_DIR, \"../src/integration-tests/apps/testwebapp.war\");\n     logger.info(\"Deploying application {0} to domain {1} cluster target cluster-1 in namespace {2}\",\n         archivePath, domainUid, namespace);\n-    ExecResult result = DeployUtil.deployUsingRest(K8S_NODEPORT_HOST,\n-        String.valueOf(serviceNodePort),\n-        ADMIN_USERNAME_DEFAULT, ADMIN_PASSWORD_DEFAULT,\n-        \"cluster-1\", archivePath, null, \"testwebapp\");\n-    assertNotNull(result, \"Application deployment failed\");\n-    logger.info(\"Application deployment returned {0}\", result.toString());\n-    assertEquals(\"202\", result.stdout(), \"Deployment didn't return HTTP status code 202\");\n+    logger.info(\"Deploying webapp {0} to admin server\", archivePath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e499959b74fe9b87ada0c46df80d74a89500e3c"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be02f457de87c7a5c1dcc48e986ae506c6d534dc", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/be02f457de87c7a5c1dcc48e986ae506c6d534dc", "committedDate": "2020-12-01T21:44:45Z", "message": "Addressed review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a421b22aa14e830075b61fa875d8775a6422755f", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a421b22aa14e830075b61fa875d8775a6422755f", "committedDate": "2020-12-03T20:08:56Z", "message": "Removed v2.5.0 Upgrade usecase"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3962, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}