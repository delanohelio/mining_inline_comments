{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNzAzNzQ4", "number": 2014, "title": "OWLS 85530: OPERATOR INTROSPECTOR THROWS VALIDATION ERRORS FOR STATIC CLUSTER", "bodyText": "With 14.1.1.0 WebLogic image, static/configured clusters are being mis-identified as dynamic clusters.  The workaround bug, where WLST throws an exception when there are no 'real' DynamicServers, may not occur as a DynamicServerMBean is returned although it is not configured with any dynamic servers:\n<cluster>\n   <name>c1</name>\n   <dynamic-servers>\n     <maximum-dynamic-server-count>0</maximum-dynamic-server-count>\n   </dynamic-servers>\n</cluster>\n\nThe above  configuration gets generated when running online WLST.  Validation errors similar to the following can be seen when a configured cluster is mis-identified as a dynamic cluster:\nvalidationErrors:\n\n\"The WebLogic dynamic cluster \"c1\"' is not referenced by any server template.\"\n\"The WebLogic dynamic cluster \"c1\"'s dynamic servers use calculated listen ports.\"\n\"The WebLogic dynamic cluster \"c1\" is referenced by configured server \"ms1\", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and configured servers.\"\n\"The WebLogic dynamic cluster \"c1\" is referenced by configured server \"ms2\", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and configured servers.\"", "createdAt": "2020-10-28T17:05:55Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014", "merged": true, "mergeCommit": {"oid": "184acaa723aaeaa126b31414bbc679d1fbaa3aae"}, "closed": true, "closedAt": "2020-10-29T11:44:39Z", "author": {"login": "lennyphan"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWX9y8gH2gAyNTExNzAzNzQ4OjA5YjgyZDg5YjRlYjUyNzFmZmQ1ODU3MzNkYjJjZWJmOGY4NDYxNTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXEclSAFqTUxOTA5ODIzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "09b82d89b4eb5271ffd585733db2cebf8f846153", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/09b82d89b4eb5271ffd585733db2cebf8f846153", "committedDate": "2020-10-26T17:38:53Z", "message": "getDynamicServersOrNone doesn't throw exception with 14.1.1.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fbcd68c070b8e771719fc9a72c7ae0437cafb90", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2fbcd68c070b8e771719fc9a72c7ae0437cafb90", "committedDate": "2020-10-27T02:47:30Z", "message": "check for ServerTemplate for Dynamic Servers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2776b272f4a87a7aa37177c120474f9f49162fe1", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2776b272f4a87a7aa37177c120474f9f49162fe1", "committedDate": "2020-10-27T14:24:33Z", "message": "Check if DynamicServers mbean exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4e541af068cbdfca34dd305d8b156fdf44813bc", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d4e541af068cbdfca34dd305d8b156fdf44813bc", "committedDate": "2020-10-28T16:37:43Z", "message": "Add test to introspect configured cluster created by online WLST"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ca403ad56ec194a3d5f3a1b8bf2042b12d297af1", "committedDate": "2020-10-28T16:55:51Z", "message": "Document configured cluster introspection test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTA4NTU3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#pullrequestreview-518908557", "createdAt": "2020-10-28T17:20:43Z", "commit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTY5ODcw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#pullrequestreview-518969870", "createdAt": "2020-10-28T18:30:32Z", "commit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODozMDozMlrOHp4G3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODozMDozMlrOHp4G3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3MjkyNA==", "bodyText": "Please update the \"Usage:\" and \"Internal Test Flow\" sections of the README file for this test to reflect this check-in's additions.  Also, if it's not too much trouble, please also update the README to discuss the ISTIO_ENABLED flag (I don't recall who added that - maybe Johnny).", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513672924", "createdAt": "2020-10-28T18:30:32Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/introspectTest.sh", "diffHunk": "@@ -39,6 +39,12 @@\n #     To check for ISTIO\n #         export ISTIO_ENABELD=true - this only test for Non Model in Image\n #\n+#     To check for introspection of configured clusters with WebLogic 14.1.1.0 image.\n+#     NOTE: Test for introspection of configured clusters only for Non Model in Image.\n+#\n+#         export WEBLOGIC_IMAGE_TAG=14.1.1.0\n+#         introspectTest.sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTc3ODM2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#pullrequestreview-518977836", "createdAt": "2020-10-28T18:40:58Z", "commit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0MDo1OFrOHp4exQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0MDo1OFrOHp4exQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3OTA0NQ==", "bodyText": "Does the static cluster in this test need to be dynamically added?  it could be added via off-line WLST in the existing wl-create-domain-pod.pyt file.  If that's fine, then there'd be no need for introspectTest.sh to be updated to rerun the introspector, and no need to run this file -- the first run of the introspector would cover the issue under test.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513679045", "createdAt": "2020-10-28T18:40:58Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/createStaticCluster.py", "diffHunk": "@@ -0,0 +1,50 @@\n+# Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDYyMzY5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#pullrequestreview-519062369", "createdAt": "2020-10-28T20:36:08Z", "commit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0af280f3625176cfc03a21869ec6ecec594317c6", "author": {"user": {"login": "lennyphan", "name": "Lenny Phan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0af280f3625176cfc03a21869ec6ecec594317c6", "committedDate": "2020-10-28T21:19:38Z", "message": "documentation updates to README and referencing JIRA OWLS-85530"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDk4MjM0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#pullrequestreview-519098234", "createdAt": "2020-10-28T21:28:20Z", "commit": {"oid": "0af280f3625176cfc03a21869ec6ecec594317c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4052, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}