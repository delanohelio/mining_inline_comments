{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NzI1OTAz", "number": 1653, "title": "Improve introspector 'mixed cluster' error messages... ", "bodyText": "\u2026 plus other minor changes to introspector.", "createdAt": "2020-05-15T17:56:33Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653", "merged": true, "mergeCommit": {"oid": "f4e9bd248f3715c7a4ae6cf1318e425ff66b40ad"}, "closed": true, "closedAt": "2020-05-17T19:31:31Z", "author": {"login": "tbarnes-us"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchl4_PgH2gAyNDE4NzI1OTAzOjkwZGQwODdmYTY0OGFlMTg3MzVhYjI5MzBiMmZjNWYwYTI2N2JmODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciQeQPAFqTQxMzE5MTYyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/90dd087fa648ae18735ab2930b2fc5f0a267bf81", "committedDate": "2020-05-15T17:54:19Z", "message": "Improve introspector 'mixed cluster' error messsages. Other minor changes to introspector."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU1MjQw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412855240", "createdAt": "2020-05-15T17:57:40Z", "commit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1Nzo0MFrOGWOmaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1Nzo0MFrOGWOmaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MTA2Nw==", "bodyText": "This is one of two mixed cluster checks ^^^.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425961067", "createdAt": "2020-05-15T17:57:40Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -575,19 +575,19 @@ def validateDynamicClusterReferencedByOneServerTemplate(self, cluster):\n           server_template = template\n         else:\n           if server_template is not None:\n-            self.addError(\"The dynamic cluster \" + self.name(cluster) + \" is referenced the server template \" + self.name(server_template) + \" and the server template \" + self.name(template) + \".\")\n+            self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced the server template \" + self.name(server_template) + \" and the server template \" + self.name(template) + \".\")\n             return\n     if server_template is None:\n-      self.addError(\"The dynamic cluster \" + self.name(cluster) + \"' is not referenced by any server template.\")\n+      self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \"' is not referenced by any server template.\")\n \n   def validateDynamicClusterNotReferencedByAnyServers(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n-        self.addError(\"The dynamic cluster \" + self.name(cluster) + \" is referenced by the server \" + self.name(server) + \".\")\n+        self.addError(\"The dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by configured server \" + self.name(server) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "originalPosition": 91}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU2NTIy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412856522", "createdAt": "2020-05-15T17:59:35Z", "commit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1OTozNVrOGWOqRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1OTozNVrOGWOqRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MjA1NQ==", "bodyText": "This is one of two 'mixed cluster' checks ^^^.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425962055", "createdAt": "2020-05-15T17:59:35Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n \n   def validateNonDynamicClusterNotReferencedByAnyServerTemplates(self, cluster):\n     for template in self.env.getDomain().getServerTemplates():\n       if self.env.getClusterOrNone(template) is cluster:\n-        self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \".\")\n+        self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU5ODg3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412859887", "createdAt": "2020-05-15T18:04:51Z", "commit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODcxODI5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412871829", "createdAt": "2020-05-15T18:23:58Z", "commit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxODoyMzo1OFrOGWPY7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxODoyNzoxM1rOGWPfGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Mzk5Nw==", "bodyText": "The correct term here would be, \"WebLogic dynamic clusters\" ( as opposed to WebLogic configured clusters), not \"Dynamic WebLogic clusters.\" (Please make this correction globally.)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425973997", "createdAt": "2020-05-15T18:23:58Z", "author": {"login": "rosemarymarano"}, "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -434,7 +434,7 @@ def validateCluster(self, cluster):\n       self.validateNonDynamicCluster(cluster)\n     else:\n       if self.env.isFMWInfraDomain() and not self.env.allowDynamicClusterInFMWInfraDomain():\n-        self.addError(\"Dynamic clusters are not supported in FMW Infrastructure domains. Set ALLOW_DYNAMIC_CLUSTER_IN_FMW environment variable to true to bypass this validation.\")\n+        self.addError(\"Dynamic WebLogic clusters are not supported in FMW Infrastructure domains. Set ALLOW_DYNAMIC_CLUSTER_IN_FMW environment variable to true to bypass this validation.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTA1NA==", "bodyText": "The WLS documentation does not use the term \"non-dynamic\" cluster (and I don't think that we should either), only dynamic or configured, https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/clust/dynamic_clusters.html#GUID-DA7F7FAD-49AA-4F3D-8A05-0D9921B96971.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425975054", "createdAt": "2020-05-15T18:26:09Z", "author": {"login": "rosemarymarano"}, "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NTU3OA==", "bodyText": "There is a concept of a \"mixed cluster\" (see docs), but not non-dynamic. (Please make this correction globally.)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#discussion_r425975578", "createdAt": "2020-05-15T18:27:13Z", "author": {"login": "rosemarymarano"}, "path": "operator/src/main/resources/scripts/introspectDomain.py", "diffHunk": "@@ -448,12 +448,12 @@ def validateNonDynamicClusterReferencedByAtLeastOneServer(self, cluster):\n     for server in self.env.getDomain().getServers():\n       if self.env.getClusterOrNone(server) is cluster:\n         return\n-    self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n+    self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is not referenced by any servers.\")\n \n   def validateNonDynamicClusterNotReferencedByAnyServerTemplates(self, cluster):\n     for template in self.env.getDomain().getServerTemplates():\n       if self.env.getClusterOrNone(template) is cluster:\n-        self.addError(\"The non-dynamic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \".\")\n+        self.addError(\"The non-dynamic WebLogic cluster \" + self.name(cluster) + \" is referenced by the server template \" + self.name(template) + \", the operator does not support 'mixed clusters' that host both dynamic (templated) servers and non-dynamic (configured) servers.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90dd087fa648ae18735ab2930b2fc5f0a267bf81"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c01cf0254f8b60f240ee39a42304bf20301bf07", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7c01cf0254f8b60f240ee39a42304bf20301bf07", "committedDate": "2020-05-15T19:43:23Z", "message": "introspectDomain.py log messages: editor recommended edits"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTIyNTk0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412922594", "createdAt": "2020-05-15T19:45:53Z", "commit": {"oid": "7c01cf0254f8b60f240ee39a42304bf20301bf07"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e22d378ee806f08d960a18b00956aeb73ecf6e52", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e22d378ee806f08d960a18b00956aeb73ecf6e52", "committedDate": "2020-05-15T20:13:02Z", "message": "mixed cluster note in user guide's managing domains section"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTM4ODc1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-412938875", "createdAt": "2020-05-15T20:14:38Z", "commit": {"oid": "e22d378ee806f08d960a18b00956aeb73ecf6e52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTIzMzU0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-413123354", "createdAt": "2020-05-17T03:06:32Z", "commit": {"oid": "e22d378ee806f08d960a18b00956aeb73ecf6e52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTkxNjI2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1653#pullrequestreview-413191626", "createdAt": "2020-05-17T19:31:02Z", "commit": {"oid": "e22d378ee806f08d960a18b00956aeb73ecf6e52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4806, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}