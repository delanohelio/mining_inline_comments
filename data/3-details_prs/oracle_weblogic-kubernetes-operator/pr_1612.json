{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMjk1NzUw", "number": 1612, "title": "Fix for issue 1610 in create-rcu-schema scripts", "bodyText": "Hi @markxnelson @rjeberhard @mriccell @rdas0405,\nThis PR has fixes for #1610 -\n\nSupport for namespace\nFix for image pull secret\nSupport for sys and schema passwords\nUse output dir for creating rcu.yaml based on the template rather updating existing common/rcu.yaml directly\nCreated \"common/template/rcu.yaml.template\" with imagePullPolicy as IfNotPresent.\nUse sys user instead of demo user scott which may not be available in all Database for connectivity check.\nUpdate README.md with latest changes\n\nPlease review and approve these changes.\nThanks,\nAsha", "createdAt": "2020-04-30T09:40:48Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612", "merged": true, "mergeCommit": {"oid": "dd469bcb6e4f93466abc00d6c86794dc58905109"}, "closed": true, "closedAt": "2020-05-04T16:44:53Z", "author": {"login": "ashageetha"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccppypgH2gAyNDExMjk1NzUwOmUzZDM0NDhkMDAxM2I3NTc1MjU3ZGZiYjI5N2ZhMzc0YWZiZTZlOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdDYTmgFqTQwNDIyMTQ3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e3d3448d0013b7575257dfbb297fa374afbe6e8f", "committedDate": "2020-04-30T09:27:43Z", "message": "Fix for issue 1610 in develop branch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNDc4ODcz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403478873", "createdAt": "2020-04-30T12:39:33Z", "commit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjozOTozM1rOGOnYKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjo0NTozOVrOGOnloQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODQwOQ==", "bodyText": "we use \"required\" not \"needed\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978409", "createdAt": "2020-04-30T12:39:33Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODU3OQ==", "bodyText": "space after period", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978579", "createdAt": "2020-04-30T12:39:50Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODY5Mg==", "bodyText": "space after period", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978692", "createdAt": "2020-04-30T12:40:01Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)\n+      (default: Oradoc_db1)\n+  -r password for all schema owner (regular user).(optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODc4Mg==", "bodyText": "YAML", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978782", "createdAt": "2020-04-30T12:40:11Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)\n+      (default: Oradoc_db1)\n+  -r password for all schema owner (regular user).(optional)\n+      (default: Oradoc_db1)\n+  -o Output directory for the generated yaml files. (optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODg4OA==", "bodyText": "RCU", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417978888", "createdAt": "2020-04-30T12:40:22Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3OTEyMQ==", "bodyText": "either \"ImagePullSecret\" or \"image pull secret\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417979121", "createdAt": "2020-04-30T12:40:48Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3OTE4Ng==", "bodyText": "space after comma", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417979186", "createdAt": "2020-04-30T12:40:57Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDA3Nw==", "bodyText": "database, no capital", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980077", "createdAt": "2020-04-30T12:42:27Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n+  -s RCU Schema Prefix (needed)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -p Fmw Infrastructure ImagePull Secret (optional)\n-      (default: docker-store)\n-  -i Fmw Infrastructure Image (optional)\n+  -p FMW Infrastructure ImagePull Secret (optional)\n+      (default: none)\n+  -i FMW Infrastructure Image (optional)\n       (default: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4)\n+  -n Namespace for rcu pod (optional)\n+      (default: default)\n+  -q password for Database SYSDBA user.(optional)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODU3OQ=="}, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDQ0NA==", "bodyText": "i assume all of these issues are in the actual script too, and need to be fixed there...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980444", "createdAt": "2020-04-30T12:43:05Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,24 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDc2MA==", "bodyText": "required", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980760", "createdAt": "2020-04-30T12:43:38Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MDg4OQ==", "bodyText": "RCU", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417980889", "createdAt": "2020-04-30T12:43:52Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTA5Ng==", "bodyText": "\"must be specified\" and \"optional\" can't both be true", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981096", "createdAt": "2020-04-30T12:44:14Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)\n+      (default: default)\n+  -q password for SYSDBA user, must be specified.(optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTE2MQ==", "bodyText": "same", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981161", "createdAt": "2020-04-30T12:44:21Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -122,12 +130,18 @@ Use this script to drop the RCU schema based `schemaPrefix` and `dburl`.\n \n ```\n $ ./drop-rcu-schema.sh -h\n-usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl>  [-h]\n-  -s RCU Schema Prefix (required)\n+usage: ./drop-rcu-schema.sh -s <schemaPrefix> -d <dburl> -n <nameSpace> -q <sysPassword> -r <schemaPassword> [-h]\n+  -s RCU Schema Prefix (needed)\n+  -t RCU Schema Type (optional)\n+      (supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb)\n   -d Oracle Database URL\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)\n-  -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+  -n Namespace where rcu pod is deployed (optional)\n+      (default: default)\n+  -q password for SYSDBA user, must be specified.(optional)\n+      (default: Oradoc_db1)\n+  -r password for schema owner (regular user), must be specified.(optional)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTUwOQ==", "bodyText": "needs copyright and license header", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981509", "createdAt": "2020-04-30T12:44:59Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/common/template/rcu.yaml.template", "diffHunk": "@@ -0,0 +1,17 @@\n+apiVersion: v1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTY4NA==", "bodyText": "see comments on other file, which apply here", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981684", "createdAt": "2020-04-30T12:45:19Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -9,21 +9,29 @@ scriptDir=\"$( cd \"$( dirname \"${script}\" )\" && pwd )\"\n source ${scriptDir}/../common/utility.sh\n \n function usage {\n-  echo \"usage: ${script} -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> [-h]\"\n+  echo \"usage: ${script} -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <nameSpace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTg1Nw==", "bodyText": "namespace", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r417981857", "createdAt": "2020-04-30T12:45:39Z", "author": {"login": "markxnelson"}, "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -56,38 +72,61 @@ if [ -z ${rcuType} ]; then\n fi\n \n if [ -z ${pullsecret} ]; then\n-  pullsecret=\"docker-store\"\n+  pullsecret=\"none\"\n+  pullsecretPrefix=\"#\"\n fi\n \n if [ -z ${fmwimage} ]; then\n  fmwimage=\"container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\"\n fi\n \n+if [ -z ${nameSpace} ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d3448d0013b7575257dfbb297fa374afbe6e8f"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4e0d7420499a8eb0fe637f95e81c3009139d0873", "committedDate": "2020-04-30T15:27:57Z", "message": "Incorporated review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjQ1OTcx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403645971", "createdAt": "2020-04-30T15:43:27Z", "commit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzM4MTAx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403738101", "createdAt": "2020-04-30T17:39:36Z", "commit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzozOTozNlrOGOznhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzozOTozNlrOGOznhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE3ODk1MA==", "bodyText": "Are we okay that the database is still assumed to run in the default namespace? I'm guessing that it's a \"yes\" as we already provide an option to replace this URL.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418178950", "createdAt": "2020-04-30T17:39:36Z", "author": {"login": "rjeberhard"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -22,17 +22,25 @@ This script generates the RCU schema based `schemaPrefix` and `dburl`.\n The script assumes that either the image, `container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4`, is available in the Docker image repository or an `ImagePullSecret` is created for `container-registry.oracle.com`. To create a secret for accessing `container-registry.oracle.com`, see the script `create-image-pull-secret.sh`.\n \n ```\n-$ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n+$ ./create-rcu-schema.sh  -h\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -p <docker-store> -n <namespace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]\n   -s RCU Schema Prefix (required)\n   -t RCU Schema Type (optional)\n-      Supported values: fmw(default),soa,osb,soaosb,soaess,soaessosb\n+      (supported values: fmw(default), soa, osb, soaosb, soaess, soaessosb)\n   -d RCU Oracle Database URL (optional)\n       (default: oracle-db.default.svc.cluster.local:1521/devpdb.k8s)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzQyMTY1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403742165", "createdAt": "2020-04-30T17:44:57Z", "commit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzo0NDo1N1rOGOz0AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzo0NDo1N1rOGOz0AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE4MjE0NQ==", "bodyText": "Can we please move the \"-n $namespace\" after \"exec\"?  Then I'll still be able to grep our code base for every use of \"kubectl exec\".  There are changes coming to kubectl, including changes to the \"kubectl exec\" format.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418182145", "createdAt": "2020-04-30T17:44:57Z", "author": {"login": "rjeberhard"}, "path": "kubernetes/samples/scripts/create-rcu-schema/create-rcu-schema.sh", "diffHunk": "@@ -56,38 +72,61 @@ if [ -z ${rcuType} ]; then\n fi\n \n if [ -z ${pullsecret} ]; then\n-  pullsecret=\"docker-store\"\n+  pullsecret=\"none\"\n+  pullsecretPrefix=\"#\"\n fi\n \n if [ -z ${fmwimage} ]; then\n  fmwimage=\"container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\"\n fi\n \n+if [ -z ${namespace} ]; then\n+ namespace=\"default\"\n+fi\n+\n+if [ -z ${sysPassword} ]; then\n+ sysPassword=\"Oradoc_db1\"\n+fi\n+\n+if [ -z ${schemaPassword} ]; then\n+ schemaPassword=\"Oradoc_db1\"\n+fi\n+\n+if [ -z ${rcuOutputDir} ]; then\n+ rcuOutputDir=\"rcuoutput\"\n+fi\n+\n echo \"ImagePullSecret[$pullsecret] Image[${fmwimage}] dburl[${dburl}] rcuType[${rcuType}]\"\n \n+mkdir -p ${rcuOutputDir}\n+rcuYaml=${rcuOutputDir}/rcu.yaml\n+rm -f ${rcuYaml}\n+rcuYamlTemp=${scriptDir}/common/template/rcu.yaml.template\n+cp $rcuYamlTemp $rcuYaml\n+\n #kubectl run rcu --generator=run-pod/v1 --image ${jrf_image} -- sleep infinity\n # Modify the ImagePullSecret based on input\n-sed -i -e '$d' ${scriptDir}/common/rcu.yaml\n-echo '           - name: docker-store' >> ${scriptDir}/common/rcu.yaml\n-sed -i -e \"s?name: docker-store?name: ${pullsecret}?g\" ${scriptDir}/common/rcu.yaml\n-sed -i -e \"s?image:.*?image: ${fmwimage}?g\" ${scriptDir}/common/rcu.yaml\n-kubectl apply -f ${scriptDir}/common/rcu.yaml\n+sed -i -e \"s:%NAMESPACE%:${namespace}:g\" $rcuYaml\n+sed -i -e \"s:%WEBLOGIC_IMAGE_PULL_SECRET_NAME%:${pullsecret}:g\" $rcuYaml\n+sed -i -e \"s:%WEBLOGIC_IMAGE_PULL_SECRET_PREFIX%:${pullsecretPrefix}:g\" $rcuYaml\n+sed -i -e \"s?image:.*?image: ${fmwimage}?g\" $rcuYaml\n+kubectl apply -f $rcuYaml\n \n # Make sure the rcu deployment Pod is RUNNING\n-checkPod rcu default\n-checkPodState rcu default \"1/1\"\n+checkPod rcu $namespace\n+checkPodState rcu $namespace \"1/1\"\n sleep 5\n-kubectl get po/rcu \n+kubectl get po/rcu -n $namespace \n \n # Generate the default password files for rcu command\n-echo \"Oradoc_db1\" > pwd.txt\n-echo \"Oradoc_db1\" >> pwd.txt\n+echo \"$sysPassword\" > pwd.txt\n+echo \"$schemaPassword\" >> pwd.txt\n \n-kubectl exec -i rcu -- bash -c 'cat > /u01/oracle/createRepository.sh' < ${scriptDir}/common/createRepository.sh \n-kubectl exec -i rcu -- bash -c 'cat > /u01/oracle/pwd.txt' < pwd.txt \n+kubectl -n $namespace exec -i rcu -- bash -c 'cat > /u01/oracle/createRepository.sh' < ${scriptDir}/common/createRepository.sh ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e0d7420499a8eb0fe637f95e81c3009139d0873"}, "originalPosition": 118}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08f6d65caa612dec45ca6f3380a9d60723a3a43e", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/08f6d65caa612dec45ca6f3380a9d60723a3a43e", "committedDate": "2020-04-30T18:27:36Z", "message": "Incorporated latest comments from Ryan."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzk0NTYz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403794563", "createdAt": "2020-04-30T18:58:23Z", "commit": {"oid": "08f6d65caa612dec45ca6f3380a9d60723a3a43e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODo1ODoyM1rOGO2VKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODo1ODoyM1rOGO2VKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIyMzQwMg==", "bodyText": "In our k8s multi nodes env we use \"imagePullPolicy: Always\" to pull the latest FMW image. So if \"imagePullPolicy\" is customizable, it would be nicer.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418223402", "createdAt": "2020-04-30T18:58:23Z", "author": {"login": "maggiehe00"}, "path": "kubernetes/samples/scripts/create-rcu-schema/common/template/rcu.yaml.template", "diffHunk": "@@ -0,0 +1,22 @@\n+# Copyright (c) 2020, Oracle and/or its affiliates.\n+# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+#\n+# This is a template for RCU Pod\n+#\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  labels:\n+    run: rcu\n+  name: rcu\n+  namespace: %NAMESPACE%\n+spec:\n+  containers:\n+  - args:\n+    - sleep\n+    - infinity\n+    image: container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4\n+    imagePullPolicy: IfNotPresent", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08f6d65caa612dec45ca6f3380a9d60723a3a43e"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af592dff961181e0b61fd4304c1f1c04e8b24242", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/af592dff961181e0b61fd4304c1f1c04e8b24242", "committedDate": "2020-04-30T19:27:19Z", "message": "Incorporated changes to make imagePullPolicy customizable."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22f7cec4e215b283e274bf59367077cc706de01c", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/22f7cec4e215b283e274bf59367077cc706de01c", "committedDate": "2020-04-30T19:35:10Z", "message": "Added wrongly removed $ in README.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODMxMTEw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-403831110", "createdAt": "2020-04-30T19:53:35Z", "commit": {"oid": "22f7cec4e215b283e274bf59367077cc706de01c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTo1MzozNVrOGO4FAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTo1MzozNVrOGO4FAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MjAzMg==", "bodyText": "A tiny one\nPlease change -p", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#discussion_r418252032", "createdAt": "2020-04-30T19:53:35Z", "author": {"login": "maggiehe00"}, "path": "kubernetes/samples/scripts/create-rcu-schema/README.md", "diffHunk": "@@ -23,16 +23,26 @@ The script assumes that either the image, `container-registry.oracle.com/middlew\n \n ```\n $ ./create-rcu-schema.sh -h\n-usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <rcuType> -d <dburl> -i <image> -s <dockerstore> [-h]\n+usage: ./create-rcu-schema.sh -s <schemaPrefix> -t <schemaType> -d <dburl> -i <image> -u <imagePullPolicy> -p <docker-store> -n <namespace> -q <sysPassword> -r <schemaPassword>  -o <rcuOutputDir>  [-h]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22f7cec4e215b283e274bf59367077cc706de01c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MTU3MTk3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-404157197", "createdAt": "2020-05-01T13:26:00Z", "commit": {"oid": "22f7cec4e215b283e274bf59367077cc706de01c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf0156adad68353166d1df22317d3c6b176ebe0", "author": {"user": {"login": "ashageetha", "name": "Ashageetha Rao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/baf0156adad68353166d1df22317d3c6b176ebe0", "committedDate": "2020-05-01T15:03:47Z", "message": "Updated README.md based on latest review comments from maggiehe00"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjIxNDc0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1612#pullrequestreview-404221474", "createdAt": "2020-05-01T15:26:09Z", "commit": {"oid": "baf0156adad68353166d1df22317d3c6b176ebe0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4730, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}