{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyOTAzMzk4", "number": 1988, "title": "Improve nightly stability for ItIntrospectVersion.testUpdateImageName", "bodyText": "Add  logic to make sure all the Services/Pods are ready after rolling start.\nWith this PR change the first 3 jobs on the KIND Jenkins passed in a row without any failure\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2379/\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2380/\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2381/\nThe second 3 jobs in a row\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2391/   -- all passed\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2392/ -- 1 failure\noracle.weblogic.kubernetes.ItMiiUpdateDomainConfig.testMiiUpdateWebLogicCredential\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2393/testReport/ -- no failure but 1 skipped. ItIntrospectVersion.testUpdateImageName passed though.\nAfter addressing the review comment Jenkins job passed at:\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2419/", "createdAt": "2020-10-13T22:07:28Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988", "merged": true, "mergeCommit": {"oid": "5465b1e6ed25954216a0424f1b45699808454309"}, "closed": true, "closedAt": "2020-10-15T14:02:19Z", "author": {"login": "maggiehe00"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSJovXgH2gAyNTAyOTAzMzk4OjM5M2E4NTA0OGY3NGI3ZGFhYjRhMzg0YWEyMDJhMWQ5Yzg1NTg2MzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSil8EgFqTUwODY3NDE2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "393a85048f74b7daab4a384aa202a1d9c8558631", "author": {"user": {"login": "maggiehe00", "name": "Maggie He"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/393a85048f74b7daab4a384aa202a1d9c8558631", "committedDate": "2020-10-13T14:41:31Z", "message": "improve nightly stability"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTQ5Mzg5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988#pullrequestreview-507949389", "createdAt": "2020-10-14T02:24:04Z", "commit": {"oid": "393a85048f74b7daab4a384aa202a1d9c8558631"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjoyNDowNFrOHg_yyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjoyNToyN1rOHg_0Pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2MTY3NA==", "bodyText": "Use the method checkPodReadyAndServiceExists(adminServerPodName, domainUid, domainNamespace)\nto combine  checkServiceExists() and checkPodReady()", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988#discussion_r504361674", "createdAt": "2020-10-14T02:24:04Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItIntrospectVersion.java", "diffHunk": "@@ -906,6 +906,26 @@ public void testUpdateImageName() {\n     assertTrue(verifyRollingRestartOccurred(podsWithTimeStamps, 1, domainNamespace),\n         String.format(\"Rolling restart failed for domain %s in namespace %s\", domainUid, domainNamespace));\n \n+    // verify the admin server service created\n+    checkServiceExists(adminServerPodName, domainNamespace);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "393a85048f74b7daab4a384aa202a1d9c8558631"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2MjA0Ng==", "bodyText": "Use the method checkPodReadyAndServiceExists()  to combine checkServiceExists() and checkPodReady()", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988#discussion_r504362046", "createdAt": "2020-10-14T02:25:27Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItIntrospectVersion.java", "diffHunk": "@@ -906,6 +906,26 @@ public void testUpdateImageName() {\n     assertTrue(verifyRollingRestartOccurred(podsWithTimeStamps, 1, domainNamespace),\n         String.format(\"Rolling restart failed for domain %s in namespace %s\", domainUid, domainNamespace));\n \n+    // verify the admin server service created\n+    checkServiceExists(adminServerPodName, domainNamespace);\n+\n+    // verify admin server pod is ready\n+    checkPodReady(adminServerPodName, domainUid, domainNamespace);\n+\n+    // verify new cluster managed server services created\n+    for (int i = 1; i <= replicaCount; i++) {\n+      logger.info(\"Checking managed server service {0} is created in namespace {1}\",\n+          managedServerPodNamePrefix + i, domainNamespace);\n+      checkServiceExists(managedServerPodNamePrefix + i, domainNamespace);\n+    }\n+\n+    // verify cluster managed server pods are ready\n+    for (int i = 1; i <= replicaCount; i++) {\n+      logger.info(\"Waiting for managed server pod {0} to be ready in namespace {1}\",\n+          managedServerPodNamePrefix + i, domainNamespace);\n+      checkPodReady(managedServerPodNamePrefix + i, domainUid, domainNamespace);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "393a85048f74b7daab4a384aa202a1d9c8558631"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTI4MDcz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988#pullrequestreview-508528073", "createdAt": "2020-10-14T16:31:42Z", "commit": {"oid": "393a85048f74b7daab4a384aa202a1d9c8558631"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "028014042674f4ff481f555f4a45c20b6a2b11ff", "author": {"user": {"login": "maggiehe00", "name": "Maggie He"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/028014042674f4ff481f555f4a45c20b6a2b11ff", "committedDate": "2020-10-14T17:23:23Z", "message": "address review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Njc0MTY0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1988#pullrequestreview-508674164", "createdAt": "2020-10-14T19:46:05Z", "commit": {"oid": "028014042674f4ff481f555f4a45c20b6a2b11ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4240, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}