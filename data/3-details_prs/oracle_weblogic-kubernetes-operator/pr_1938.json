{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDI1OTA2", "number": 1938, "title": "Nightly intermittent failure in operator restart test", "bodyText": "operator restart during pod rolling restart test fails intermittently on nightly, currently after the domain is patched, the test waits for the admin pod to be deleted to make sure rolling restart has started, that is now modified to check if admin pod has restarted instead of checking for admin pod deletion as its possible that admin pod deletion may have happened too soon.\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2025/\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2026", "createdAt": "2020-09-22T15:32:56Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938", "merged": true, "mergeCommit": {"oid": "9682273d47cc01b3d91ae80e0123358c328593b7"}, "closed": true, "closedAt": "2020-09-22T16:14:32Z", "author": {"login": "vanajamukkara"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLKOoXAH2gAyNDkxMDI1OTA2OjI4NTFmOTMyOTdmNDlmMDUxNzI3ZjU0MWNjZDEwN2FlMGVlZjViMzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLuDCOgFqTQ5NDc2NTgwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2851f93297f49f051727f541ccd107ae0eef5b38", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2851f93297f49f051727f541ccd107ae0eef5b38", "committedDate": "2020-09-21T21:25:26Z", "message": "wait till admin pod has restarted instead of pod deleted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cc5b9ecc114bac769f1efc1cdbf26acda5d443cc", "committedDate": "2020-09-22T15:30:51Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into fixoperatorrestarttest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNjEzMzYw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#pullrequestreview-493613360", "createdAt": "2020-09-22T15:54:48Z", "commit": {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNjE5MTM0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#pullrequestreview-493619134", "createdAt": "2020-09-22T16:00:56Z", "commit": {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzY1ODA0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#pullrequestreview-494765804", "createdAt": "2020-09-23T15:09:20Z", "commit": {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowOToyMVrOHWzV_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowOToyMVrOHWzV_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY3MTkzNQ==", "bodyText": "The test case, as its name indicated, is intended to test operator restart DURING the managed servers are rolling-restarted. This change made it testing operator restart AFTER the managed servers' rolling-restart completes.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1938#discussion_r493671935", "createdAt": "2020-09-23T15:09:21Z", "author": {"login": "doxiao"}, "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItOperatorRestart.java", "diffHunk": "@@ -289,10 +290,11 @@ public void testOperatorRestartWhenPodRoll() {\n         replicaCount,\n         adminSecretName);\n \n-    // wait till rolling restart has started by checking admin server pod is deleted\n-    logger.info(\"Waiting for rolling restart to start by checking {0} pod is deleted in namespace {0}\",\n+    // wait till rolling restart has started by checking admin server pod has restarted", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc5b9ecc114bac769f1efc1cdbf26acda5d443cc"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4171, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}