{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNjA0MzA2", "number": 1773, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDoxNzo0MFrOEJ0LNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDoyMzoyNlrOEJ0SfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NzI3NDc2OnYy", "diffSide": "RIGHT", "path": "operator/src/main/resources/Operator.properties", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDoxNzo0MFrOGqgpXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwMjoxNzozNVrOGqpKiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyODI1NQ==", "bodyText": "There won't always be SEVERE log messages copied from the introspector pod - for example on an image pull failure.  I'm not sure what's logged in that case...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447228255", "createdAt": "2020-06-29T20:17:40Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/resources/Operator.properties", "diffHunk": "@@ -183,6 +183,9 @@ WLSKO-0170=HTTP timeout: exception {0}.\n WLSKO-0171=Namespace {0} is in operator's target namespaces list but doesn't exist\n WLSKO-0173=Replace custom resource definition failed: {0}\n WLSKO-0174=Create custom resource definition failed: {0}\n+WLSKO-0175=Job {1} in namespace {0} failed, job pod name is {2}, and job status is {3}. Check SEVERE log \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyODg2MQ==", "bodyText": "Maybe the log message text should be updated accordingly, and the INFO changed to SEVERE?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447228861", "createdAt": "2020-06-29T20:18:52Z", "author": {"login": "tbarnes-us"}, "path": "operator/src/main/resources/Operator.properties", "diffHunk": "@@ -183,6 +183,9 @@ WLSKO-0170=HTTP timeout: exception {0}.\n WLSKO-0171=Namespace {0} is in operator's target namespaces list but doesn't exist\n WLSKO-0173=Replace custom resource definition failed: {0}\n WLSKO-0174=Create custom resource definition failed: {0}\n+WLSKO-0175=Job {1} in namespace {0} failed, job pod name is {2}, and job status is {3}. Check SEVERE log \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyODI1NQ=="}, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI3MzM3Nw==", "bodyText": "What about removing SEVERE from the log message and keep the rest?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447273377", "createdAt": "2020-06-29T21:47:29Z", "author": {"login": "doxiao"}, "path": "operator/src/main/resources/Operator.properties", "diffHunk": "@@ -183,6 +183,9 @@ WLSKO-0170=HTTP timeout: exception {0}.\n WLSKO-0171=Namespace {0} is in operator's target namespaces list but doesn't exist\n WLSKO-0173=Replace custom resource definition failed: {0}\n WLSKO-0174=Create custom resource definition failed: {0}\n+WLSKO-0175=Job {1} in namespace {0} failed, job pod name is {2}, and job status is {3}. Check SEVERE log \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyODI1NQ=="}, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM2NzgxOQ==", "bodyText": "reworded the log message.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447367819", "createdAt": "2020-06-30T02:17:35Z", "author": {"login": "doxiao"}, "path": "operator/src/main/resources/Operator.properties", "diffHunk": "@@ -183,6 +183,9 @@ WLSKO-0170=HTTP timeout: exception {0}.\n WLSKO-0171=Namespace {0} is in operator's target namespaces list but doesn't exist\n WLSKO-0173=Replace custom resource definition failed: {0}\n WLSKO-0174=Create custom resource definition failed: {0}\n+WLSKO-0175=Job {1} in namespace {0} failed, job pod name is {2}, and job status is {3}. Check SEVERE log \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyODI1NQ=="}, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NzI5MzQxOnYy", "diffSide": "RIGHT", "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/JobHelper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDoyMzoyNlrOGqg1HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMjoxNDoxN1rOGqkJ3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIzMTI2MQ==", "bodyText": "could you give an example of what is being logged in this message? Thanks", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447231261", "createdAt": "2020-06-29T20:23:26Z", "author": {"login": "alai8"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/JobHelper.java", "diffHunk": "@@ -533,6 +547,23 @@ private String onSeparateLines(List<String> lines) {\n     }\n   }\n \n+  private static void logIntrospectorFailure(Packet packet, V1Job domainIntrospectorJob) {\n+    Boolean logged = (Boolean) packet.get(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED);\n+    String jobPodName = (String) packet.get(ProcessingConstants.JOB_POD_NAME);\n+    if (logged == null || !logged.booleanValue()) {\n+      packet.put(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED, Boolean.valueOf(true));\n+      LOGGER.info(INTROSPECTOR_JOB_FAILED,\n+          domainIntrospectorJob.getMetadata().getNamespace(),\n+          domainIntrospectorJob.getMetadata().getName(),\n+          jobPodName,\n+          domainIntrospectorJob.getStatus());\n+      LOGGER.fine(INTROSPECTOR_JOB_FAILED_DETAIL,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI3NzIwNg==", "bodyText": "It is in the regular operator log message format with the message body be V1Job.toString().", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447277206", "createdAt": "2020-06-29T21:56:44Z", "author": {"login": "doxiao"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/JobHelper.java", "diffHunk": "@@ -533,6 +547,23 @@ private String onSeparateLines(List<String> lines) {\n     }\n   }\n \n+  private static void logIntrospectorFailure(Packet packet, V1Job domainIntrospectorJob) {\n+    Boolean logged = (Boolean) packet.get(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED);\n+    String jobPodName = (String) packet.get(ProcessingConstants.JOB_POD_NAME);\n+    if (logged == null || !logged.booleanValue()) {\n+      packet.put(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED, Boolean.valueOf(true));\n+      LOGGER.info(INTROSPECTOR_JOB_FAILED,\n+          domainIntrospectorJob.getMetadata().getNamespace(),\n+          domainIntrospectorJob.getMetadata().getName(),\n+          jobPodName,\n+          domainIntrospectorJob.getStatus());\n+      LOGGER.fine(INTROSPECTOR_JOB_FAILED_DETAIL,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIzMTI2MQ=="}, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI4NTcyNQ==", "bodyText": "I tried to put an example here but the format got messed up by the tooling. I'll send you via slack.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1773#discussion_r447285725", "createdAt": "2020-06-29T22:14:17Z", "author": {"login": "doxiao"}, "path": "operator/src/main/java/oracle/kubernetes/operator/helpers/JobHelper.java", "diffHunk": "@@ -533,6 +547,23 @@ private String onSeparateLines(List<String> lines) {\n     }\n   }\n \n+  private static void logIntrospectorFailure(Packet packet, V1Job domainIntrospectorJob) {\n+    Boolean logged = (Boolean) packet.get(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED);\n+    String jobPodName = (String) packet.get(ProcessingConstants.JOB_POD_NAME);\n+    if (logged == null || !logged.booleanValue()) {\n+      packet.put(ProcessingConstants.INTROSPECTOR_JOB_FAILURE_LOGGED, Boolean.valueOf(true));\n+      LOGGER.info(INTROSPECTOR_JOB_FAILED,\n+          domainIntrospectorJob.getMetadata().getNamespace(),\n+          domainIntrospectorJob.getMetadata().getName(),\n+          jobPodName,\n+          domainIntrospectorJob.getStatus());\n+      LOGGER.fine(INTROSPECTOR_JOB_FAILED_DETAIL,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIzMTI2MQ=="}, "originalCommit": {"oid": "0d3d77706ce8b732af16c24af32238e18c8f3668"}, "originalPosition": 74}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4416, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}