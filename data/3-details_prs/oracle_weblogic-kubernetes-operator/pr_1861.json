{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MjU3NzU2", "number": 1861, "title": "Documemnt how to terminate SSL at the ingress LB for WebLogic console access", "bodyText": "Refer to JIRA\nhttps://jira.****/jira/browse/OWLS-83840\nAlso modified the apache values.yaml file to de-reference to  store/oracle/apache:12.2.1.3", "createdAt": "2020-08-11T17:47:58Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861", "merged": true, "mergeCommit": {"oid": "e78af545c2ac1a22dae19ebd609ff4aba94ee554"}, "closed": true, "closedAt": "2020-09-25T00:09:27Z", "author": {"login": "anpanigr"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc95oOJgH2gAyNDY2MjU3NzU2OmNjNjdjMmE4NzE2Zjk4NzlmZTZjNTcwYzRkNGMwZGQ4NzQ1NmFiNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMKXNuAFqTQ5NjAyODMzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cc67c2a8716f9879fe6c570c4d4c0dd87456ab46", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cc67c2a8716f9879fe6c570c4d4c0dd87456ab46", "committedDate": "2020-08-11T16:43:59Z", "message": "Load Balance doc update for SSL termination"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc341b2907dfff33ae0bc6a61703eb888759555e", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dc341b2907dfff33ae0bc6a61703eb888759555e", "committedDate": "2020-08-11T17:28:36Z", "message": "Updated the heading font"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3058b73ad1d5e82ae29bcdce4884673137e2a35f", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3058b73ad1d5e82ae29bcdce4884673137e2a35f", "committedDate": "2020-08-11T17:28:45Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d021b34e13d6bfa6eac8a1bd43ad4578d60530c6", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d021b34e13d6bfa6eac8a1bd43ad4578d60530c6", "committedDate": "2020-08-11T17:37:46Z", "message": "Modified the hostname :wq"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a8db63bcd3cc57c8b8d842c29c88533599aa561e", "committedDate": "2020-08-11T17:40:31Z", "message": "Missing quote"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2Njc5MDc0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-466679074", "createdAt": "2020-08-13T11:36:20Z", "commit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMTozNjoyMFrOHAHoYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMTo0ODowNlrOHAH-dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg4NzA3NA==", "bodyText": "SSL Termination at Ingress Controller -> SSL termination at ingress controller (we use sentence capitalization)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469887074", "createdAt": "2020-08-13T11:36:20Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg4NzczMw==", "bodyText": "trafik-> Is this word supposed to be traffic or Traefik?\ncontoller (typo) -> controller\naccess WebLogic console -> access the WebLogic Server Administration Console (this is a legal product name)\nthru (not a word) -> through the", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469887733", "createdAt": "2020-08-13T11:37:49Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MDAzOA==", "bodyText": "on WebLogic Domain level -> on the WebLogic domain.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469890038", "createdAt": "2020-08-13T11:42:45Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MDM1OA==", "bodyText": "wdt  -> WDT\nDomain -> domain\nyaml  -> YAML", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469890358", "createdAt": "2020-08-13T11:43:29Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+\n+If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MDk1Ng==", "bodyText": "If you are using WLST script to configure domain, following modification needed to respective py script.-> If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469890956", "createdAt": "2020-08-13T11:44:43Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+\n+If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using WLST script to configure domain, following modification needed to respective py script.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MTYzNw==", "bodyText": "adminserever (typo) -> adminserver\nAdmin server -> Administration Server", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469891637", "createdAt": "2020-08-13T11:46:01Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+\n+If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using WLST script to configure domain, following modification needed to respective py script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('ListenPort', admin_port)\n+set('Name', admin_server_name)\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserever' with name of the Admin server in the WebLogic domain.  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MTkzMQ==", "bodyText": "kubernates (typo) -> Kubernetes", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469891931", "createdAt": "2020-08-13T11:46:35Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,80 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller\n+This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+\n+If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using WLST script to configure domain, following modification needed to respective py script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('ListenPort', admin_port)\n+set('Name', admin_server_name)\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserever' with name of the Admin server in the WebLogic domain.  \n+\n+```\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: IngressRoute\n+metadata:\n+  annotations:\n+    kubernetes.io/ingress.class: traefik\n+  name: traefik-console-tls\n+  namespace: weblogic-domain\n+spec:\n+  entryPoints: \n+   - websecure\n+  routes:\n+  - kind: Rule\n+    match: PathPrefix(`/console`)\n+    middlewares:\n+    - name: tls-console-middleware\n+      namespace: weblogic-domain\n+    services:\n+    - kind: Service\n+      name: domain1-adminserver\n+      namespace: weblogic-domain\n+      port: 7001\n+  tls:\n+     secretName: domain1-tls-cert\n+---\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: Middleware\n+metadata:\n+  name: tls-console-middleware\n+  namespace: weblogic-domain\n+spec:\n+  headers:\n+    customRequestHeaders:\n+      Wl-Proxy-Ssl: \"true\"\n+    sslRedirect: true\n+```\n+### 3. Create Ingress resource.\n+Save the above configuration as 'traefik-tls-console.yaml'.\n+```\n+ kubectl create -f traefik-tls-console.yaml\n+```\n+### 4. Access WebLogic console using https port\n+Get the SSL port from the kubernates service ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5MjcyNA==", "bodyText": "Please make the same corrections here as the ones above for the Traefik README.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r469892724", "createdAt": "2020-08-13T11:48:06Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,6 +118,66 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n+## SSL Termination at Ingress Controller", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8db63bcd3cc57c8b8d842c29c88533599aa561e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a311c1ab4c0e2a4455420d5f1c435071b46254e4", "committedDate": "2020-08-13T16:40:27Z", "message": "addressed review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d419b71e42fb04717130c1abaf62c9b5737eac96", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/d419b71e42fb04717130c1abaf62c9b5737eac96", "committedDate": "2020-08-13T16:40:40Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4Nzc5MzUz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-468779353", "createdAt": "2020-08-17T19:37:52Z", "commit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxOTozNzo1MlrOHB4QTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxOTo0Mzo1MlrOHB4bgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMjMwMA==", "bodyText": "at ingress  to access -> ??? at the ingress controller to access\nthrough SSL port -> through the SSL port", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471732300", "createdAt": "2020-08-17T19:37:52Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,18 +91,18 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress  to access the WebLogic Server Administration Console through SSL port. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMjUzOQ==", "bodyText": "to model -> to the model", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471732539", "createdAt": "2020-08-17T19:38:24Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,18 +91,18 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress  to access the WebLogic Server Administration Console through SSL port. \n \n-### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n \n-If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to model YAML file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMjgwMw==", "bodyText": "using WLST script -> using a WLST script", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471732803", "createdAt": "2020-08-17T19:38:55Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,18 +91,18 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress  to access the WebLogic Server Administration Console through SSL port. \n \n-### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n \n-If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to model YAML file.\n ```\n resources:\n      WebAppContainer:\n          WeblogicPluginEnabled: true\n ```\n-If you are using WLST script to configure domain, following modification needed to respective py script.\n+If you are using WLST script to configure the domain, then the following modifications are needed to the respective PY script.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzEyMw==", "bodyText": "using https port-> using the HTTPS port", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471733123", "createdAt": "2020-08-17T19:39:38Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -157,13 +157,13 @@ Save the above configuration as 'traefik-tls-console.yaml'.\n ```\n  kubectl create -f traefik-tls-console.yaml\n ```\n-### 4. Access WebLogic console using https port\n-Get the SSL port from the kubernates service \n+### 4. Access the WebLogic Server Administration Console using https port", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzYxOQ==", "bodyText": "at ingress controller -> at the ingress controller\nthrough SSL port-> through the SSL port", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471733619", "createdAt": "2020-08-17T19:40:37Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,18 +118,18 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress controller to access the WebLogic Server Administration Console through SSL port. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczNDEwMw==", "bodyText": "to model -> to the model", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471734103", "createdAt": "2020-08-17T19:41:37Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,18 +118,18 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress controller to access the WebLogic Server Administration Console through SSL port. \n \n-### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n \n-If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to model YAML file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczNDcxNw==", "bodyText": "using WLST script -> using a WLST script\nmodificationis (typo) -> modifications\nto respective -> to the respective", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471734717", "createdAt": "2020-08-17T19:42:57Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,18 +118,18 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## SSL Termination at Ingress Controller\n-This sample demonstrates how to terminate SSL trafik at ingress contoller to access WebLogic console thru SSL port. \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at ingress controller to access the WebLogic Server Administration Console through SSL port. \n \n-### 1. Enable \"WebLogic Plugin Enabled\" on WebLogic Domain level\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n \n-If you are using wdt to configure WebLogic Domain, you need to add the following resource section at the domain level to model yaml file.\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to model YAML file.\n ```\n resources:\n      WebAppContainer:\n          WeblogicPluginEnabled: true\n ```\n-If you are using WLST script to configure domain, following modification needed to respective py script.\n+If you are using WLST script to configure the domain, then the following modificationis are needed to respective PY script.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczNDk2OQ==", "bodyText": "Administration server -> Administration Server", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471734969", "createdAt": "2020-08-17T19:43:25Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -141,7 +141,7 @@ cd('/Clusters/%s' % cluster_name)\n set('WeblogicPluginEnabled',true)\n ```\n ### 2. Update the frontendRules section Ingress resource.\n-Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserever' with name of the Admin server in the WebLogic domain.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserver' with name of the Administration server in the WebLogic domain.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczNTE3MQ==", "bodyText": "using https port -> using the HTTPS port", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r471735171", "createdAt": "2020-08-17T19:43:52Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -175,8 +175,8 @@ Save the above configuration as 'voyager-tls-console.yaml'.\n ```\n  kubectl create -f voyager-tls-console.yaml\n ```\n-### 4. Access WebLogic console using https port\n-In a web browser type 'https://${HOSTNAME}:30443/console' in the address bar to access the console. \n+### 4. Access the WebLogic Server Administration Console using https port", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a311c1ab4c0e2a4455420d5f1c435071b46254e4"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a36db8c2a170aa1f23683b2476a344eee13b0342", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a36db8c2a170aa1f23683b2476a344eee13b0342", "committedDate": "2020-08-17T19:59:41Z", "message": "Addreseed new doc review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "236f896687077013ad39e11237516786ed20f1bb", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/236f896687077013ad39e11237516786ed20f1bb", "committedDate": "2020-08-17T20:02:01Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd788533c98a092b96c57a3c5acdd2885c76b744", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dd788533c98a092b96c57a3c5acdd2885c76b744", "committedDate": "2020-08-20T16:10:22Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ad82cef4c9f0e01df7d5a7dc978849f17cd5d80", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5ad82cef4c9f0e01df7d5a7dc978849f17cd5d80", "committedDate": "2020-08-21T21:11:09Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3801856d6f6460f533cb1136171ecb417edc1971", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3801856d6f6460f533cb1136171ecb417edc1971", "committedDate": "2020-08-24T16:43:12Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f70beab3f8f1fb712213cd6a11092717ff51551e", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f70beab3f8f1fb712213cd6a11092717ff51551e", "committedDate": "2020-08-26T21:19:44Z", "message": "Modified py scripts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fe0908dc639ba797a9e7df6fd8691a1de5110649", "committedDate": "2020-08-26T21:19:54Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NzQwNTM1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-476740535", "createdAt": "2020-08-27T13:50:30Z", "commit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxMzo1MDozMFrOHIRUFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNDoyMTozOVrOHISsag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQzNDMyNA==", "bodyText": "value. -> value (no period needed here because you didn't have one in heading # 1.)\nThese words need to be in code font: 'weblogic-domain' 'domain1' and 'adminserver' The way to do that is to surround them with back ticks, for example, weblogic-domain domain1 and adminserver\nAdministration server -> Administration Server (both words are always capitalized)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478434324", "createdAt": "2020-08-27T13:50:30Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,78 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQzNTMxOQ==", "bodyText": "resource. -> resource (again, no period here)\nAgain, code font for this file name: traefik-tls-console.yaml", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478435319", "createdAt": "2020-08-27T13:51:53Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,78 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserver' with name of the Administration server in the WebLogic domain.  \n+\n+```\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: IngressRoute\n+metadata:\n+  annotations:\n+    kubernetes.io/ingress.class: traefik\n+  name: traefik-console-tls\n+  namespace: weblogic-domain\n+spec:\n+  entryPoints: \n+   - websecure\n+  routes:\n+  - kind: Rule\n+    match: PathPrefix(`/console`)\n+    middlewares:\n+    - name: tls-console-middleware\n+      namespace: weblogic-domain\n+    services:\n+    - kind: Service\n+      name: domain1-adminserver\n+      namespace: weblogic-domain\n+      port: 7001\n+  tls:\n+     secretName: domain1-tls-cert\n+---\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: Middleware\n+metadata:\n+  name: tls-console-middleware\n+  namespace: weblogic-domain\n+spec:\n+  headers:\n+    customRequestHeaders:\n+      Wl-Proxy-Ssl: \"true\"\n+    sslRedirect: true\n+```\n+### 3. Create Ingress resource.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQzNjI2MA==", "bodyText": "service  ->service . (Period needed here, end of a sentence)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478436260", "createdAt": "2020-08-27T13:53:11Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,78 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserver' with name of the Administration server in the WebLogic domain.  \n+\n+```\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: IngressRoute\n+metadata:\n+  annotations:\n+    kubernetes.io/ingress.class: traefik\n+  name: traefik-console-tls\n+  namespace: weblogic-domain\n+spec:\n+  entryPoints: \n+   - websecure\n+  routes:\n+  - kind: Rule\n+    match: PathPrefix(`/console`)\n+    middlewares:\n+    - name: tls-console-middleware\n+      namespace: weblogic-domain\n+    services:\n+    - kind: Service\n+      name: domain1-adminserver\n+      namespace: weblogic-domain\n+      port: 7001\n+  tls:\n+     secretName: domain1-tls-cert\n+---\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: Middleware\n+metadata:\n+  name: tls-console-middleware\n+  namespace: weblogic-domain\n+spec:\n+  headers:\n+    customRequestHeaders:\n+      Wl-Proxy-Ssl: \"true\"\n+    sslRedirect: true\n+```\n+### 3. Create Ingress resource.\n+Save the above configuration as 'traefik-tls-console.yaml'.\n+```\n+ kubectl create -f traefik-tls-console.yaml\n+```\n+### 4. Access the WebLogic Server Administration Console using the HTTPS port\n+Get the SSL port from the Kubernetes service ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQzNzEwMA==", "bodyText": "In a web browser -> In a web browser, (comma needed here)\nCode font needed here, https://${HOSTNAME}:${SSLPORT}/console", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478437100", "createdAt": "2020-08-27T13:54:19Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,78 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the Ingress resource with customRequestHeaders value.\n+Replace the string 'weblogic-domain' with namespace of the WebLogic domain, the string 'domain1' with domain UID and the string 'adminserver' with name of the Administration server in the WebLogic domain.  \n+\n+```\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: IngressRoute\n+metadata:\n+  annotations:\n+    kubernetes.io/ingress.class: traefik\n+  name: traefik-console-tls\n+  namespace: weblogic-domain\n+spec:\n+  entryPoints: \n+   - websecure\n+  routes:\n+  - kind: Rule\n+    match: PathPrefix(`/console`)\n+    middlewares:\n+    - name: tls-console-middleware\n+      namespace: weblogic-domain\n+    services:\n+    - kind: Service\n+      name: domain1-adminserver\n+      namespace: weblogic-domain\n+      port: 7001\n+  tls:\n+     secretName: domain1-tls-cert\n+---\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: Middleware\n+metadata:\n+  name: tls-console-middleware\n+  namespace: weblogic-domain\n+spec:\n+  headers:\n+    customRequestHeaders:\n+      Wl-Proxy-Ssl: \"true\"\n+    sslRedirect: true\n+```\n+### 3. Create Ingress resource.\n+Save the above configuration as 'traefik-tls-console.yaml'.\n+```\n+ kubectl create -f traefik-tls-console.yaml\n+```\n+### 4. Access the WebLogic Server Administration Console using the HTTPS port\n+Get the SSL port from the Kubernetes service \n+```\n+# Get the ingress controller secure web port\n+SSLPORT=$(kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.ports[?(@.name==\"websecure\")].nodePort}')\n+```\n+In a web browser type 'https://${HOSTNAME}:${SSLPORT}/console' in the address bar to access the WebLogic Server Administration Console.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQ0ODgyNQ==", "bodyText": "helm  -> Helm (capitalize)\nmaybe  -> may be (two words)\nhere, please -> here. Please (two separate sentences)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478448825", "createdAt": "2020-08-27T14:10:27Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -21,7 +21,7 @@ $ helm search repo appscode/voyager\n NAME               CHART VERSION APP VERSION\tDESCRIPTION\n appscode/voyager   v12.0.0       v12.0.0    \tVoyager by AppsCode - Secure HAProxy Ingress Co...\n ```\n-> **NOTE**: After updating the helm repository, the Voyager version listed maybe newer that the one appearing here, please check with the Voyager site for the lastest supported versions.\n+> **NOTE**: After updating the helm repository, the Voyager version listed maybe newer that the one appearing here, please check with the Voyager site for the latest supported versions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQ1NDEwMQ==", "bodyText": "Wait until the Voyager Operator is running. -> Wait until the Voyager operator is running. (You do not capitalize operator elsewhere, don't do it here on line 38.)\nPlease change ALL instances of \"Ingress\" (capital I) to ingress (lower case).", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478454101", "createdAt": "2020-08-27T14:17:38Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -21,7 +21,7 @@ $ helm search repo appscode/voyager\n NAME               CHART VERSION APP VERSION\tDESCRIPTION\n appscode/voyager   v12.0.0       v12.0.0    \tVoyager by AppsCode - Secure HAProxy Ingress Co...\n ```\n-> **NOTE**: After updating the helm repository, the Voyager version listed maybe newer that the one appearing here, please check with the Voyager site for the lastest supported versions.\n+> **NOTE**: After updating the helm repository, the Voyager version listed maybe newer that the one appearing here, please check with the Voyager site for the latest supported versions.\n \n ### 2. Install the Voyager operator", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQ1NjkzOA==", "bodyText": "Please make ALL the same edits to this section of the doc, that I gave you for the same section in Traefik README. I do not want to re-print them all here but please make sure that you incorporate them all.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r478456938", "createdAt": "2020-08-27T14:21:39Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,6 +118,64 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the frontendRules section Ingress resource.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0908dc639ba797a9e7df6fd8691a1de5110649"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dfb17305b85c55480180ecf615608f2c6f8679f", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3dfb17305b85c55480180ecf615608f2c6f8679f", "committedDate": "2020-08-31T19:02:46Z", "message": "More doc review change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b23a4bbc201db2c05c0f18f25f5cb0b8ffe79dbf", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b23a4bbc201db2c05c0f18f25f5cb0b8ffe79dbf", "committedDate": "2020-08-31T19:03:08Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90d8697446c03e54128048c2d4ed49f03f2a6268", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/90d8697446c03e54128048c2d4ed49f03f2a6268", "committedDate": "2020-09-10T19:23:15Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88a937ee584c5bd9df84621206ca412f43bf741f", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/88a937ee584c5bd9df84621206ca412f43bf741f", "committedDate": "2020-09-10T19:29:56Z", "message": "sync to develop branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "698fc9d6abd0133ce638b9b85fe8c480bbe24251", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/698fc9d6abd0133ce638b9b85fe8c480bbe24251", "committedDate": "2020-09-10T23:18:50Z", "message": "Added annotation to remove client header on Traefik Ingress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a69bd7b51bebcd076a339de13a3992df2b299c25", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a69bd7b51bebcd076a339de13a3992df2b299c25", "committedDate": "2020-09-11T19:35:20Z", "message": "add NGINX path routing doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODQ4MDQ4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-487848048", "createdAt": "2020-09-14T14:47:46Z", "commit": {"oid": "a69bd7b51bebcd076a339de13a3992df2b299c25"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0Nzo0N1rOHRYnOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0OTo1NFrOHRYtqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5MTA5OQ==", "bodyText": "Add the following note\nNOTE: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it\u2019s secure when it wasn\u2019t.  Add the following rules in the Traefik proxy configuration to block any WL-Proxy headers coming from the client.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r487991099", "createdAt": "2020-09-14T14:47:47Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,79 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the ingress resource with customRequestHeaders value\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.  \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a69bd7b51bebcd076a339de13a3992df2b299c25"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5MTU4NQ==", "bodyText": "Add the following note\nNOTE: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it\u2019s secure when it wasn\u2019t.  Add the following rules in the Nginx proxy configuration to block any WL-Proxy headers coming from the client.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r487991585", "createdAt": "2020-09-14T14:48:26Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/nginx/README.md", "diffHunk": "@@ -77,6 +77,23 @@ $ export LB_PORT=$(kubectl -n nginx get service nginx-operator-ingress-nginx-con\n $ curl -H 'host: domain1.org' http://${HOSTNAME}:${LB_PORT}/testwebapp/\n $ curl -H 'host: domain2.org' http://${HOSTNAME}:${LB_PORT}/testwebapp/\n ```\n+\n+#### Path-based routing \n+This sample demonstrates how to access an application on two WebLogic domains using path-based routing. Install a path-based routing ingress controller.\n+```\n+$ kubectl create -f samples/path-routing.yaml\n+ingress.extensions/domain1-ingress-path created\n+ingress.extensions/domain2-ingress-path created\n+```\n+Now you can send requests to different WebLogic domains with the unique NGINX entry point of different paths, as defined in the route section of the `path-routing.yaml` file.\n+\n+```\n+# Get the ingress controller web port\n+$ export LB_PORT=$(kubectl -n nginx get service nginx-operator-ingress-nginx-controller -o jsonpath='{.spec.ports[?(@.name==\"http\")].nodePort}')\n+$ curl http://${HOSTNAME}:${LB_PORT}/domain1/testwebapp/\n+$ curl http://${HOSTNAME}:${LB_PORT}/domain2/testwebapp/\n+```\n+\n #### Host-based secured routing\n This sample demonstrates how to access an application on two WebLogic domains using an HTTPS endpoint. Install a TLS-enabled ingress controller.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a69bd7b51bebcd076a339de13a3992df2b299c25"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5Mjc0NA==", "bodyText": "After finding how to strip the header from Voyager please add the following note\nNOTE: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it\u2019s secure when it wasn\u2019t.  Add the following rules in the Voyager proxy configuration to block any WL-Proxy headers coming from the client.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r487992744", "createdAt": "2020-09-14T14:49:54Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,8 +118,66 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## Uninstall the Voyager Operator\n-After removing all the Voyager Ingress resources, uninstall the Voyager operator:\n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the frontendRules section ingress resource\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.\n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a69bd7b51bebcd076a339de13a3992df2b299c25"}, "originalPosition": 90}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cda140f06a9c48d22aaf20c140ce849eada6047", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/6cda140f06a9c48d22aaf20c140ce849eada6047", "committedDate": "2020-09-14T18:15:37Z", "message": "Add security disclaimer statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cadd99b15944e9de0ab2c9c039fe81a1ec10a309", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cadd99b15944e9de0ab2c9c039fe81a1ec10a309", "committedDate": "2020-09-14T18:16:22Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbff679273f2f24ead241e8b3ae1e667e318e8dd", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cbff679273f2f24ead241e8b3ae1e667e318e8dd", "committedDate": "2020-09-15T21:11:05Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bf05c7594f232d35ca41774213bac6ac27ef54a", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9bf05c7594f232d35ca41774213bac6ac27ef54a", "committedDate": "2020-09-15T21:44:35Z", "message": "Added doc to eliminate client proxy header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dec2a29eaa6c845f85b15ea9321a173e2a61ae7", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1dec2a29eaa6c845f85b15ea9321a173e2a61ae7", "committedDate": "2020-09-16T16:44:14Z", "message": "Added nginx link"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f486f09103f3730c38c99462cb12e20aac56523", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8f486f09103f3730c38c99462cb12e20aac56523", "committedDate": "2020-09-16T17:17:54Z", "message": "added ngnix ref"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5OTUyMjcz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-489952273", "createdAt": "2020-09-16T19:22:21Z", "commit": {"oid": "8f486f09103f3730c38c99462cb12e20aac56523"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxOToyMjoyMVrOHTA8Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxOTozMDo1MVrOHTBP3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcwMDM1NA==", "bodyText": "This NOTE needs to be re-written as follows:\nNOTE: If you also have HTTP requests coming into an ingress, make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request to appear to WebLogic as secure when it isn't. Add the following annotations in the NGINX ingress configuration to block WL-Proxy headers coming from the client. In the following example, the ingress resource will eliminate the client header WL-Proxy-Client-IP.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r489700354", "createdAt": "2020-09-16T19:22:21Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/nginx/README.md", "diffHunk": "@@ -124,7 +141,9 @@ cd('/Clusters/%s' % cluster_name)\n set('WeblogicPluginEnabled',true)\n ```\n ### 2. Create NGINX ingress resource with custom annotation values\n-Save the below configuration as 'nginx-tls-console.yaml' and replace the string 'weblogic-domain' with the namespace of the WebLogic domain, the string 'domain1' with the domain UID, and the string 'adminserver' with the name of the Administration server in the WebLogic domain.\n+Save the below configuration as `nginx-tls-console.yaml` and replace the string `weblogic-domain` with the namespace of the WebLogic domain, the string `domain1` with the domain UID, and the string `adminserver` with the name of the Administration Server in the WebLogic domain.\n+\n+**NOTE**: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it's secure when it wasn't. Add the following annotations in the Nginx ingress configuration to block any WL-Proxy headers coming from the client. In the following example the ingress resource will eliminate client header `WL-Proxy-Client-IP`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f486f09103f3730c38c99462cb12e20aac56523"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcwMzUxMw==", "bodyText": "Edit the text of this NOTE as follows:\nNOTE: If you also have HTTP requests coming into an ingress, make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request to appear to WebLogic as secure when it isn't. Add the following customRequestHeaders in the Traefik ingress configuration to block WL-Proxy headers coming from the client. In the following example, the ingress resource will eliminate the client header WL-Proxy-Client-IP.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r489703513", "createdAt": "2020-09-16T19:27:16Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,83 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the ingress resource with customRequestHeaders value\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.  \n+\n+**NOTE**: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it's secure when it wasn't. Add the following `customRequestHeaders` in the Traefik ingress configuration to block any WL-Proxy headers coming from the client. In the following example the ingress resource will eliminate client header `WL-Proxy-Client-IP`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f486f09103f3730c38c99462cb12e20aac56523"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcwNTQzNw==", "bodyText": "Please re-write this NOTE as follows:\nNOTE: If you also have HTTP requests coming into an ingress, make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request to appear to WebLogic as secure when it isn't. Add the following rules in the Voyager ingress configuration to block WL-Proxy headers coming from the client. In the following example, the ingress resource will eliminate the client header WL-Proxy-Client-IP.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r489705437", "createdAt": "2020-09-16T19:30:51Z", "author": {"login": "rosemarymarano"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,8 +118,69 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## Uninstall the Voyager Operator\n-After removing all the Voyager Ingress resources, uninstall the Voyager operator:\n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the frontendRules section ingress resource\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.\n+\n+**NOTE**: If you also have HTTP coming into ingress you will want to make sure that you remove any incoming WL-Proxy-SSL header. This protects you from a malicious user sending in a request and tricking WebLogic into thinking it's secure when it wasn't. Add the following rules in the Voyager ingress configuration to block any WL-Proxy headers coming from the client. In the following example the ingress resource will eliminate client header `WL-Proxy-Client-IP`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f486f09103f3730c38c99462cb12e20aac56523"}, "originalPosition": 91}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/600cb9b95a2a3e0aba39a53844a477eeb034e56d", "committedDate": "2020-09-16T20:30:59Z", "message": "update doc with review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDAxNzA3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-490001707", "createdAt": "2020-09-16T20:37:20Z", "commit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyOTc0MjU3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-492974257", "createdAt": "2020-09-21T20:56:51Z", "commit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo1Njo1MVrOHViIsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo1OTowNVrOHViNLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MTQyNw==", "bodyText": "Is it possible to filter out WL-Proxy-SSL and WL-Proxy-Client-IP?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r492341427", "createdAt": "2020-09-21T20:56:51Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/nginx/README.md", "diffHunk": "@@ -137,6 +156,7 @@ metadata:\n     nginx.ingress.kubernetes.io/configuration-snippet: |\n       more_set_input_headers \"X-Forwarded-Proto: https\";\n       more_set_input_headers \"WL-Proxy-SSL: true\";\n+      proxy_set_header WL-Proxy-Client-IP \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MjI3MA==", "bodyText": "Is it possible to filter out WL-Proxy-SSL and WL-Proxy-Client-IP?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r492342270", "createdAt": "2020-09-21T20:58:31Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/traefik/README.md", "diffHunk": "@@ -91,6 +91,84 @@ TLS_PORT=`kubectl -n traefik get service traefik-operator -o jsonpath='{.spec.po\n $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:${TLS_PORT}/testwebapp/\n ```\n \n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the ingress resource with customRequestHeaders value\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.  \n+\n+\n+**NOTE**: If you also have HTTP requests coming into an ingress, make sure that you remove any incoming `WL-Proxy-SSL` header. This protects you from a malicious user sending in a request to appear to WebLogic as secure when it isn't. Add the following `customRequestHeaders` in the Traefik ingress configuration to block `WL-Proxy` headers coming from the client. In the following example, the ingress resource will eliminate the client header `WL-Proxy-Client-IP`.\n+\n+```\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: IngressRoute\n+metadata:\n+  annotations:\n+    kubernetes.io/ingress.class: traefik\n+  name: traefik-console-tls\n+  namespace: weblogic-domain\n+spec:\n+  entryPoints: \n+   - websecure\n+  routes:\n+  - kind: Rule\n+    match: PathPrefix(`/console`)\n+    middlewares:\n+    - name: tls-console-middleware\n+      namespace: weblogic-domain\n+    services:\n+    - kind: Service\n+      name: domain1-adminserver\n+      namespace: weblogic-domain\n+      port: 7001\n+  tls:\n+     secretName: domain1-tls-cert\n+---\n+apiVersion: traefik.containo.us/v1alpha1\n+kind: Middleware\n+metadata:\n+  name: tls-console-middleware\n+  namespace: weblogic-domain\n+spec:\n+  headers:\n+    customRequestHeaders:\n+      WL-Proxy-SSL: \"true\"\n+      X-Custom-Request-Header: \"\"\n+      X-Forwarded-For: \"\" \n+      WL-Proxy-Client-IP: \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MjU3NQ==", "bodyText": "@mriccell\nIs it possible to filter out WL-Proxy-SSL and WL-Proxy-Client-IP?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#discussion_r492342575", "createdAt": "2020-09-21T20:59:05Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/charts/voyager/README.md", "diffHunk": "@@ -118,8 +118,69 @@ $ curl -k -H 'host: domain1.org' https://${HOSTNAME}:30305/testwebapp/\n $ curl -k -H 'host: domain2.org' https://${HOSTNAME}:30307/testwebapp/\n ```\n \n-## Uninstall the Voyager Operator\n-After removing all the Voyager Ingress resources, uninstall the Voyager operator:\n+## SSL termination at ingress controller\n+This sample demonstrates how to terminate SSL traffic at the ingress controller to access the WebLogic Server Administration Console through the SSL port. \n+\n+### 1. Enable \"WebLogic Plugin Enabled\" on the WebLogic domain level\n+\n+If you are using WDT to configure the WebLogic domain, you need to add the following resource section at the domain level to the model YAML file.\n+```\n+resources:\n+     WebAppContainer:\n+         WeblogicPluginEnabled: true\n+```\n+If you are using a WLST script to configure the domain, then the following modifications are needed to the respective PY script.\n+```\n+# Configure the Administration Server\n+cd('/Servers/AdminServer')\n+set('WeblogicPluginEnabled',true)\n+...\n+cd('/Clusters/%s' % cluster_name)\n+set('WeblogicPluginEnabled',true)\n+```\n+### 2. Update the frontendRules section ingress resource\n+Replace the string `weblogic-domain` with namespace of the WebLogic domain, the string `domain1` with domain UID and the string `adminserver` with name of the Administration Server in the WebLogic domain.\n+\n+**NOTE**: If you also have HTTP requests coming into an ingress, make sure that you remove any incoming `WL-Proxy-SSL` header. This protects you from a malicious user sending in a request to appear to WebLogic as secure when it isn't. Add the following rules in the Voyager ingress configuration to block `WL-Proxy` headers coming from the client. In the following example, the ingress resource will eliminate the client header `WL-Proxy-Client-IP`.\n+```\n+apiVersion: voyager.appscode.com/v1beta1\n+kind: Ingress\n+metadata:\n+  name: voyager-console-ssl\n+  namespace: weblogic-domain\n+  annotations:\n+    ingress.appscode.com/type: 'NodePort'\n+    ingress.appscode.com/stats: 'true'\n+    ingress.appscode.com/affinity: 'cookie'\n+spec:\n+  tls:\n+  - secretName: domain1-tls-cert\n+    hosts: \n+    - '*'\n+  frontendRules:\n+  - port: 443\n+    rules:\n+    - http-request set-header WL-Proxy-SSL true\n+    - http-request del-header WL-Proxy-Client-IP", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "600cb9b95a2a3e0aba39a53844a477eeb034e56d"}, "originalPosition": 111}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5e7fbcf8051a731411a368ca14f8bdce5f01ef8", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f5e7fbcf8051a731411a368ca14f8bdce5f01ef8", "committedDate": "2020-09-22T18:12:23Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb5fecd29d1830fdef55edc2fc6bd80ccfbab028", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/cb5fecd29d1830fdef55edc2fc6bd80ccfbab028", "committedDate": "2020-09-23T19:24:35Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bd33f8e769bac0056ba95d9488e0e53766e3066", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0bd33f8e769bac0056ba95d9488e0e53766e3066", "committedDate": "2020-09-24T21:42:54Z", "message": "Modified doc to remove client headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b95836e3cd27bae8319cfb2cd97ee4ce44535927", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b95836e3cd27bae8319cfb2cd97ee4ce44535927", "committedDate": "2020-09-24T21:43:03Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into lb-doc-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf5e678e3a7703b65e3b0a38cba62415138496b3", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/bf5e678e3a7703b65e3b0a38cba62415138496b3", "committedDate": "2020-09-24T22:57:14Z", "message": "Updated doc/utility to download custom version of Load Balancer release"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDI4MzMw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1861#pullrequestreview-496028330", "createdAt": "2020-09-25T00:08:44Z", "commit": {"oid": "bf5e678e3a7703b65e3b0a38cba62415138496b3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4371, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}