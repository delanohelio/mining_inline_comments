{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjE3NDI4", "number": 1627, "title": "OWLS-80960 - Allow replicas count to drop below min dynamic cluster size", "bodyText": "Introduce a new Cluster CRD element allowReplicasBelowMinDynClusterSize that if set to true (the default), the operator would allow replicas count to be set below the minimum dynamic cluster size configured in the WebLogic domain home configuration.\nThis allows users to shut down all servers in a dynamic cluster by setting the cluster replicas count to 0. This also prevents managed servers in a dynamic cluster from starting by operator even if the replicas is 0. This was the behavior before OWLS-79994.\nTo prevent WLDF from scaling below the min dynamic cluster size, set  allowReplicasBelowMinDynClusterSize to false.", "createdAt": "2020-05-06T16:57:39Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627", "merged": true, "mergeCommit": {"oid": "34a82594aabef646a68d729ad930d74a566aa9ad"}, "closed": true, "closedAt": "2020-05-06T21:44:02Z", "author": {"login": "alai8"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcecT3XgH2gAyNDE0MjE3NDI4OjdmOThjNzZiY2Y3ZWIwOTkxNWMzMDI1MDdjNmZlNzY5MWNhNWE1YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcevx-WAFqTQwNzAwOTMxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f98c76bcf7eb09915c302507c6fe7691ca5a5b2", "author": {"user": {"login": "alai8", "name": "Anthony Lai"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/7f98c76bcf7eb09915c302507c6fe7691ca5a5b2", "committedDate": "2020-05-05T23:02:51Z", "message": "introduce new Cluster element allowReplicasBelowMinDynClusterSize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc53d4dff036333a5536b7fc5ca64fe37723fc14", "author": {"user": {"login": "alai8", "name": "Anthony Lai"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fc53d4dff036333a5536b7fc5ca64fe37723fc14", "committedDate": "2020-05-06T01:10:32Z", "message": "description fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a66620479a7ba46bcc78aa3ef2ed00c2078946d5", "author": {"user": {"login": "alai8", "name": "Anthony Lai"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a66620479a7ba46bcc78aa3ef2ed00c2078946d5", "committedDate": "2020-05-06T16:29:31Z", "message": "unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa709ae3a21cfe26d6e5116730bb84d72423998b", "author": {"user": {"login": "alai8", "name": "Anthony Lai"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/aa709ae3a21cfe26d6e5116730bb84d72423998b", "committedDate": "2020-05-06T16:30:31Z", "message": "update description for allowReplicasBelowMinDynClusterSize"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODE5MjMy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#pullrequestreview-406819232", "createdAt": "2020-05-06T17:11:39Z", "commit": {"oid": "aa709ae3a21cfe26d6e5116730bb84d72423998b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNzoxMTozOVrOGRdApQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNzoxNjo1OFrOGRdOcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NDI3Nw==", "bodyText": "If true (the default), the number -> If true (the default), then the number\nthat the number of replicas is not below the minimum dynamic cluster -> that the number of replicas is not less than the minimum dynamic cluster setting. OR ->\nthat the number of replicas is not less than the configured minimum dynamic cluster size.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420954277", "createdAt": "2020-05-06T17:11:39Z", "author": {"login": "rosemarymarano"}, "path": "docs/domains/Domain.md", "diffHunk": "@@ -77,6 +77,7 @@ An element representing a cluster in the domain configuration.\n \n | Name | Type | Description |\n | --- | --- | --- |\n+| `allowReplicasBelowMinDynClusterSize` | Boolean | If true (the default), the number of replicas is allowed to drop below the minimum dynamic cluster size configured in the WebLogic domain home configuration. Otherwise, the operator will ensure that the number of replicas is not below the minimum dynamic cluster. This setting applies to dynamic clusters only. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa709ae3a21cfe26d6e5116730bb84d72423998b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk1NzgwOQ==", "bodyText": "If true (the default), the number -> If true (the default), then the number\nthat the number of replicas is not below the minimum dynamic cluster -> that the number of replicas is not less than the minimum dynamic cluster setting. OR ->\nthat the number of replicas is not less than the configured minimum dynamic cluster size.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r420957809", "createdAt": "2020-05-06T17:16:58Z", "author": {"login": "rosemarymarano"}, "path": "docs/domains/index.html", "diffHunk": "@@ -1029,6 +1029,10 @@\n           \"description\": \"The name of this cluster. Required\",\n           \"type\": \"string\"\n         },\n+        \"allowReplicasBelowMinDynClusterSize\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa709ae3a21cfe26d6e5116730bb84d72423998b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393", "author": {"user": {"login": "alai8", "name": "Anthony Lai"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/19bc2a38ab1cca061c0f11ff71e0f447efea3393", "committedDate": "2020-05-06T17:34:14Z", "message": "minor edits to description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODU5NjU3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#pullrequestreview-406859657", "createdAt": "2020-05-06T18:02:45Z", "commit": {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTk2MTYy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#pullrequestreview-406996162", "createdAt": "2020-05-06T21:20:51Z", "commit": {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMToyMDo1MlrOGRl5Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMToyMDo1MlrOGRl5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5OTgyNg==", "bodyText": "Should this also be a global setting?  On the one hand, it's extra work and I'm not sure if the extra work is worth it at this time. On the other hand, there's precedent where 'replicas' itself is both global and per-cluster.\nOne way to handle this would be check-in 'as-is' and file a JIRA to add a global setting...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#discussion_r421099826", "createdAt": "2020-05-06T21:20:52Z", "author": {"login": "tbarnes-us"}, "path": "docs/domains/Domain.json", "diffHunk": "@@ -109,6 +109,10 @@\n           \"description\": \"The name of this cluster. Required\",\n           \"type\": \"string\"\n         },\n+        \"allowReplicasBelowMinDynClusterSize\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MDA5MzEz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1627#pullrequestreview-407009313", "createdAt": "2020-05-06T21:43:56Z", "commit": {"oid": "19bc2a38ab1cca061c0f11ff71e0f447efea3393"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4754, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}