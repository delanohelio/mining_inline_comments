{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMzg4MDc0", "number": 1815, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMzowNDo1MFrOEPVePw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMzowNDo1MFrOEPVePw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTE1OTAzOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItOperatorUpgrade.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMzowNDo1MFrOGy_uMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMzoyMTozNVrOGzEBDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyNjAwMw==", "bodyText": "For 2.6 to 3.0 upgrade, I do expect the domain to be restarted.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1815#discussion_r456126003", "createdAt": "2020-07-16T23:04:50Z", "author": {"login": "rjeberhard"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItOperatorUpgrade.java", "diffHunk": "@@ -157,6 +189,31 @@ private void upgradeOperator() throws Exception {\n     testClusterScaling(operator, domain, false);\n   }\n \n+  /**\n+   * Upgrades operator to develop branch by uninstalling old release operator\n+   * and installing latest operator.\n+   * @throws Exception when upgrade fails or basic usecase testing or scaling fails.\n+   */\n+  private void upgradeOperatorFrom2_6_0() throws Exception {\n+    operator.destroy();\n+    // Thread.sleep(30 * 1000);\n+    Map<String, Object> operatorMap = createOperatorMap(getNewSuffixCount(), true, \"\");\n+    operatorMap.put(\"namespace\", OP_NS);\n+    operatorMap.put(\"releaseName\", OP_DEP_NAME);\n+    operatorMap.put(\"serviceAccount\", OP_SA);\n+    operatorMap.put(\"externalRestEnabled\", true);\n+    operatorMap.put(\"javaLoggingLevel\", \"FINE\");\n+    List<String> domNs = new ArrayList<String>();\n+    domNs.add(DOM_NS);\n+    operatorMap.put(\"domainNamespaces\", domNs);\n+    operator = TestUtils.createOperator(operatorMap, Operator.RestCertType.LEGACY);\n+\n+    checkCrdVersion();\n+    checkDomainNotRestarted();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c61d2f2c25a5df522577d5732f02aded146f875a"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5NjM2Nw==", "bodyText": "Yes, domain is getting restarted. Removed the check.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1815#discussion_r456196367", "createdAt": "2020-07-17T03:21:35Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItOperatorUpgrade.java", "diffHunk": "@@ -157,6 +189,31 @@ private void upgradeOperator() throws Exception {\n     testClusterScaling(operator, domain, false);\n   }\n \n+  /**\n+   * Upgrades operator to develop branch by uninstalling old release operator\n+   * and installing latest operator.\n+   * @throws Exception when upgrade fails or basic usecase testing or scaling fails.\n+   */\n+  private void upgradeOperatorFrom2_6_0() throws Exception {\n+    operator.destroy();\n+    // Thread.sleep(30 * 1000);\n+    Map<String, Object> operatorMap = createOperatorMap(getNewSuffixCount(), true, \"\");\n+    operatorMap.put(\"namespace\", OP_NS);\n+    operatorMap.put(\"releaseName\", OP_DEP_NAME);\n+    operatorMap.put(\"serviceAccount\", OP_SA);\n+    operatorMap.put(\"externalRestEnabled\", true);\n+    operatorMap.put(\"javaLoggingLevel\", \"FINE\");\n+    List<String> domNs = new ArrayList<String>();\n+    domNs.add(DOM_NS);\n+    operatorMap.put(\"domainNamespaces\", domNs);\n+    operator = TestUtils.createOperator(operatorMap, Operator.RestCertType.LEGACY);\n+\n+    checkCrdVersion();\n+    checkDomainNotRestarted();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyNjAwMw=="}, "originalCommit": {"oid": "c61d2f2c25a5df522577d5732f02aded146f875a"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4110, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}