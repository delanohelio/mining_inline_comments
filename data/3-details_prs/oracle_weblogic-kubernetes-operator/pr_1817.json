{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNTA0MzU2", "number": 1817, "title": "update WDT version used by domain-in-image samples...", "bodyText": "\u2026and make it configurable\nOld version: Previously, the DII default was effectively 0.17, as DII depends on the docker image project's sample which has that default.\nWork around: Manually export WDT_VERSION first. The docker image sample accepts a WDT_VERSION env var with either a specific version or the keyword 'LATEST'.\nFix: Have the DII sample set the WDT_VERSION env var prior to calling the docker image sample build.sh script. Allow users to specify the value as an 'input' (input attr 'wdtVersion'). The DII default is now 1.9.1.\nNote that the DIPV WDT samples already default to 1.9.1 (it's set to 1.9.1 in the DIPV 'create domain job' script).", "createdAt": "2020-07-16T20:47:46Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817", "merged": true, "mergeCommit": {"oid": "a2c0aa8d10b81b51efa77b4cde8adceb8d5226cd"}, "closed": true, "closedAt": "2020-07-17T12:53:27Z", "author": {"login": "tbarnes-us"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1leEeAH2gAyNDUwNTA0MzU2OmI0MmQ2Zjk4OWUwMWJjMGFjZGVjZGI2Y2I3NzQ5N2E0YzcxZjgyNmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc12A9BgFqTQ1MDc3Njc1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "author": {"user": {"login": "tbarnes-us", "name": "Tom Barnes"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b42d6f989e01bc0acdecdb6cb77497a4c71f826b", "committedDate": "2020-07-16T20:43:24Z", "message": "update WDT version used by domain-in-image samples and make it configurable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjA4OTUx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#pullrequestreview-450208951", "createdAt": "2020-07-16T20:54:39Z", "commit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDo1NDo0MFrOGy8bZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDo1NDo0MFrOGy8bZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA3MjAzNw==", "bodyText": "Implementation note:\nThe changes in this file only affect the PV path, which is not the main thrust of this pull, but I did this for clarity.\nSpecifically, I moved the 'wdtVersion' initialization for PV down into the else clause to make it more clear that it's only used on the PV path, plus, instead of setting 'wdtVersion' to WDT_VERSION directly (WDT_VERSION is an undocumented setting), I set wdtVersion to come from the 'wdtVersion' env var if (a) it's already been set and (b) WDT_VERSION has not been set.  (If the wdtVersion env var has been set, then it probably came from the inputs file.)\nPhew!", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#discussion_r456072037", "createdAt": "2020-07-16T20:54:40Z", "author": {"login": "tbarnes-us"}, "path": "kubernetes/samples/scripts/common/utility.sh", "diffHunk": "@@ -389,6 +387,9 @@ function createFiles {\n       sed -i -e \"s|%IMAGE_NAME%|${image}|g\" ${domainPropertiesOutput}\n     fi\n   else\n+    # we're in the domain in PV case\n+\n+    wdtVersion=\"${WDT_VERSION:-${wdtVersion}}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMzM1Mjgz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#pullrequestreview-450335283", "createdAt": "2020-07-17T02:31:31Z", "commit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjIxMDM2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#pullrequestreview-450621036", "createdAt": "2020-07-17T12:38:42Z", "commit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNzc2NzU5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#pullrequestreview-450776759", "createdAt": "2020-07-17T15:59:50Z", "commit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTo1OTo1MFrOGzYh4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTo1OTo1MFrOGzYh4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUzMjQ1MA==", "bodyText": "Why would we not want LATEST to be the default?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1817#discussion_r456532450", "createdAt": "2020-07-17T15:59:50Z", "author": {"login": "mriccell"}, "path": "kubernetes/samples/scripts/create-fmw-infrastructure-domain/domain-home-in-image/create-domain-inputs.yaml", "diffHunk": "@@ -142,6 +142,11 @@ domainHomeImageBase: container-registry.oracle.com/middleware/fmw-infrastructure\n # which uses WDT, instead of WLST, to generate the domain configuration.\n domainHomeImageBuildPath: ./docker-images/OracleFMWInfrastructure/samples/12213-domain-home-in-image\n \n+# Uncomment to customize the WebLogic Deploy Tool (WDT) version used by the WDT\n+# \"domain home in image\" Docker image sample in the Docker images project. See\n+# \"domainHomeImageBuildPath\". Set to \"LATEST\" to use the latest version.\n+# wdtVersion: LATEST", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b42d6f989e01bc0acdecdb6cb77497a4c71f826b"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4304, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}