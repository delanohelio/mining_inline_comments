{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNzAzNzQ4", "number": 2014, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODozMDozMlrOEy8snw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0MDo1OFrOEy87SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxODU4NzE5OnYy", "diffSide": "RIGHT", "path": "src/integration-tests/introspector/introspectTest.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODozMDozMlrOHp4G3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMToyODowNVrOHp-J0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3MjkyNA==", "bodyText": "Please update the \"Usage:\" and \"Internal Test Flow\" sections of the README file for this test to reflect this check-in's additions.  Also, if it's not too much trouble, please also update the README to discuss the ISTIO_ENABLED flag (I don't recall who added that - maybe Johnny).", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513672924", "createdAt": "2020-10-28T18:30:32Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/introspectTest.sh", "diffHunk": "@@ -39,6 +39,12 @@\n #     To check for ISTIO\n #         export ISTIO_ENABELD=true - this only test for Non Model in Image\n #\n+#     To check for introspection of configured clusters with WebLogic 14.1.1.0 image.\n+#     NOTE: Test for introspection of configured clusters only for Non Model in Image.\n+#\n+#         export WEBLOGIC_IMAGE_TAG=14.1.1.0\n+#         introspectTest.sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc3MTk4NQ==", "bodyText": "Looks good! Thanks!", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513771985", "createdAt": "2020-10-28T21:28:05Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/introspectTest.sh", "diffHunk": "@@ -39,6 +39,12 @@\n #     To check for ISTIO\n #         export ISTIO_ENABELD=true - this only test for Non Model in Image\n #\n+#     To check for introspection of configured clusters with WebLogic 14.1.1.0 image.\n+#     NOTE: Test for introspection of configured clusters only for Non Model in Image.\n+#\n+#         export WEBLOGIC_IMAGE_TAG=14.1.1.0\n+#         introspectTest.sh", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3MjkyNA=="}, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxODYyNDczOnYy", "diffSide": "RIGHT", "path": "src/integration-tests/introspector/createStaticCluster.py", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0MDo1OFrOHp4exQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMToyNzo1MVrOHp-JTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3OTA0NQ==", "bodyText": "Does the static cluster in this test need to be dynamically added?  it could be added via off-line WLST in the existing wl-create-domain-pod.pyt file.  If that's fine, then there'd be no need for introspectTest.sh to be updated to rerun the introspector, and no need to run this file -- the first run of the introspector would cover the issue under test.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513679045", "createdAt": "2020-10-28T18:40:58Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/createStaticCluster.py", "diffHunk": "@@ -0,0 +1,50 @@\n+# Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY5NjkyNQ==", "bodyText": "The interesting thing is that creating a static cluster via off-line produces the following cluster configuration:\n<cluster>\n  <name>c1</name>\n  <cluster-messaging-mode>unicast</cluster-messaging-mode>\n</cluster>\n\nwhereas on-line WLST produces:\n<cluster>\n    <name>c1</name>\n    <cluster-messaging-mode>unicast</cluster-messaging-mode>\n    <dynamic-servers>\n      <maximum-dynamic-server-count>0</maximum-dynamic-server-count>\n    </dynamic-servers>\n  </cluster>\n\nThe call to ClusterMBean.getDynamicServers() returns a DynamicServersMBean.  Hence, the reason I created the cluster using on-line WLST and rerun the introspector in order to test this issue.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513696925", "createdAt": "2020-10-28T19:11:35Z", "author": {"login": "lennyphan"}, "path": "src/integration-tests/introspector/createStaticCluster.py", "diffHunk": "@@ -0,0 +1,50 @@\n+# Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3OTA0NQ=="}, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcwMjgyOQ==", "bodyText": "Oh. That's ugly and helps explain why we haven't seen the problem before. Sigh.\nTo prevent someone from mistakenly 'cleaning up' the test code in the future, please add a comment in this script and also in one or two key places in the main script.  The comment should be something like:\n// NOTE: The static cluster must be configured using on-line WLST instead of off-line WLST in order to reproduce OWLS 85530.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513702829", "createdAt": "2020-10-28T19:22:17Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/createStaticCluster.py", "diffHunk": "@@ -0,0 +1,50 @@\n+# Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3OTA0NQ=="}, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc3MTg1Mw==", "bodyText": "Looks good! Thanks.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2014#discussion_r513771853", "createdAt": "2020-10-28T21:27:51Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/introspector/createStaticCluster.py", "diffHunk": "@@ -0,0 +1,50 @@\n+# Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3OTA0NQ=="}, "originalCommit": {"oid": "ca403ad56ec194a3d5f3a1b8bf2042b12d297af1"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3871, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}