{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDAxNjI5", "number": 1798, "title": "Write pod logs as string to the file", "bodyText": "Currently YAML representation of pod log is written, fixing that to write the string without getting the YAML representation.\nNow, the pod logs looks like -\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-model-in-image-tests/1159/artifact/RESULT_ROOT/diagnosticlogs/ItMiiDomain/testCreateMiiDomain/ns-efgl.pod.domain1-admin-server.container.weblogic-server.log\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-model-in-image-tests/1159/artifact/RESULT_ROOT/diagnosticlogs/ItMiiDomain/testCreateMiiDomain/", "createdAt": "2020-07-13T17:50:35Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1798", "merged": true, "mergeCommit": {"oid": "de07e5340061cbd6c122c6aa797be413a356fca4"}, "closed": true, "closedAt": "2020-07-13T18:48:26Z", "author": {"login": "vanajamukkara"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczt-B3AH2gAyNDQ4NDAxNjI5OjQ1ODMxZjZhYzAwOWMzYTI5NGZmNjkwNmYyNTY5MmY4NmVkZjU1ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0sEdJAH2gAyNDQ4NDAxNjI5OjgzNWZkMGZkMmU3MzU2YWI1OGJlZThlMDJlZjQ4M2I2YTIzNzM0ZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45831f6ac009c3a294ff6906f25692f86edf5587", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/45831f6ac009c3a294ff6906f25692f86edf5587", "committedDate": "2020-07-11T01:29:42Z", "message": "use kubectl for pod logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0819b74ffc02a3fcb56d92519574ef472a94d24c", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/0819b74ffc02a3fcb56d92519574ef472a94d24c", "committedDate": "2020-07-11T04:09:03Z", "message": "write pod logs as string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDcyNTM5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1798#pullrequestreview-447472539", "createdAt": "2020-07-13T17:53:27Z", "commit": {"oid": "fe89686e8d6f4041e8b788c26996229b47b96520"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDc1MjIz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1798#pullrequestreview-447475223", "createdAt": "2020-07-13T17:57:13Z", "commit": {"oid": "fe89686e8d6f4041e8b788c26996229b47b96520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NzoxM1rOGwzhgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NzoxM1rOGwzhgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyODk5Mw==", "bodyText": "redundant check for boolean.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1798#discussion_r453828993", "createdAt": "2020-07-13T17:57:13Z", "author": {"login": "sankarpn"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/LoggingUtil.java", "diffHunk": "@@ -268,11 +269,25 @@ public static void collectLogs(String namespace, String resultDir) {\n    */\n   private static void writeToFile(Object obj, String resultDir, String fileName)\n       throws IOException {\n+    writeToFile(obj, resultDir, fileName, true);\n+  }\n+\n+  /**\n+   * Write the YAML representation of object or String to a file in the resultDir.\n+   *\n+   * @param obj to write to the file as YAML or String\n+   * @param resultDir directory in which to write the log file\n+   * @param fileName name of the log file\n+   * @param asYaml write as yaml or string\n+   * @throws IOException when write fails\n+   */\n+  private static void writeToFile(Object obj, String resultDir, String fileName, boolean asYaml)\n+      throws IOException {\n     LoggingFacade logger = getLogger();\n     logger.info(\"Generating {0}\", Paths.get(resultDir, fileName));\n     if (obj != null) {\n       Files.write(Paths.get(resultDir, fileName),\n-          dump(obj).getBytes(StandardCharsets.UTF_8)\n+          (asYaml == true ? dump(obj).getBytes(StandardCharsets.UTF_8) : ((String)obj).getBytes(StandardCharsets.UTF_8))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe89686e8d6f4041e8b788c26996229b47b96520"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDk3ODMw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1798#pullrequestreview-447497830", "createdAt": "2020-07-13T18:29:22Z", "commit": {"oid": "835fd0fd2e7356ab58bee8e02ef483b6a23734e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5ab8055be7d9427e529ed34a25c259c7c246116", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a5ab8055be7d9427e529ed34a25c259c7c246116", "committedDate": "2020-07-14T00:17:19Z", "message": "use k8s java api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "917e75c8d7c338b0ca5bbc23de506c718f91ca76", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/917e75c8d7c338b0ca5bbc23de506c718f91ca76", "committedDate": "2020-07-14T00:55:47Z", "message": "remove commented code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe89686e8d6f4041e8b788c26996229b47b96520", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fe89686e8d6f4041e8b788c26996229b47b96520", "committedDate": "2020-07-14T01:50:50Z", "message": "Merge branch 'develop' of https://github.com/oracle/weblogic-kubernetes-operator into kubectl-for-podlogs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "835fd0fd2e7356ab58bee8e02ef483b6a23734e0", "author": {"user": {"login": "vanajamukkara", "name": "Vanajakshi Mukkara"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/835fd0fd2e7356ab58bee8e02ef483b6a23734e0", "committedDate": "2020-07-13T18:12:04Z", "message": "Update new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/LoggingUtil.java\n\nCo-authored-by: Sankar Periyathambi Neelakandan <45743425+sankarpn@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4276, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}