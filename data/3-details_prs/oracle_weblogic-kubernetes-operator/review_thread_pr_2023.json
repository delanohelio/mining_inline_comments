{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMjE4Njgx", "number": 2023, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDoyMjowNlrOE096fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzowMToxNVrOE2Kkug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzOTc1ODA2OnYy", "diffSide": "RIGHT", "path": "kindtest.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDoyMjowNlrOHs_IZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzowNjo1NlrOHtDp3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzczNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            verify_image_run=\"false\"\n          \n          \n            \n            maven_profile_name=\"integration-tests\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516933735", "createdAt": "2020-11-03T20:22:06Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -73,6 +75,7 @@ parallel_run=\"false\"\n threads=\"2\"\n wdt_download_url=\"https://github.com/oracle/weblogic-deploy-tooling/releases/latest\"\n wit_download_url=\"https://github.com/oracle/weblogic-image-tool/releases/latest\"\n+verify_image_run=\"false\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzAwNzgzOQ==", "bodyText": "fixed", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r517007839", "createdAt": "2020-11-03T23:06:56Z", "author": {"login": "hzhao-github"}, "path": "kindtest.sh", "diffHunk": "@@ -73,6 +75,7 @@ parallel_run=\"false\"\n threads=\"2\"\n wdt_download_url=\"https://github.com/oracle/weblogic-deploy-tooling/releases/latest\"\n wit_download_url=\"https://github.com/oracle/weblogic-image-tool/releases/latest\"\n+verify_image_run=\"false\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzczNQ=="}, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzOTc1OTE0OnYy", "diffSide": "RIGHT", "path": "kindtest.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDoyMjoyN1rOHs_JGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzowNzoxMlrOHtDqQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzkxMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                m) verify_image_run=\"${OPTARG}\"\n          \n          \n            \n                m) maven_profile_name=\"${OPTARG}\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516933913", "createdAt": "2020-11-03T20:22:27Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -94,6 +97,8 @@ while getopts \":h:n:o:t:v:c:x:p:d:i:\" opt; do\n     ;;\n     i) wit_download_url=\"${OPTARG}\"\n     ;;\n+    m) verify_image_run=\"${OPTARG}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzAwNzkzNw==", "bodyText": "fixed", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r517007937", "createdAt": "2020-11-03T23:07:12Z", "author": {"login": "hzhao-github"}, "path": "kindtest.sh", "diffHunk": "@@ -94,6 +97,8 @@ while getopts \":h:n:o:t:v:c:x:p:d:i:\" opt; do\n     ;;\n     i) wit_download_url=\"${OPTARG}\"\n     ;;\n+    m) verify_image_run=\"${OPTARG}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzMzkxMw=="}, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzOTc5NTcwOnYy", "diffSide": "RIGHT", "path": "kindtest.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDozMzo1OVrOHs_fBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzowNzoxOVrOHtDqcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzOTUyNw==", "bodyText": "you don't need this condition, use ${maven_profile_name} in the mvn command", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516939527", "createdAt": "2020-11-03T20:33:59Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -237,9 +242,19 @@ rm -rf \"${RESULT_ROOT:?}/*\"\n \n echo 'Run tests...'\n if [ \"${test_filter}\" = \"ItOperatorUpgrade\" ] || [ \"${parallel_run}\" = \"false\" ]; then\n-  echo \"Running mvn -Dit.test=${test_filter} -Dwdt.download.url=${wdt_download_url} -Dwit.download.url=${wit_download_url} -pl integration-tests -P integration-tests verify\"\n-  time mvn -Dit.test=\"${test_filter}\" -Dwdt.download.url=\"${wdt_download_url}\" -Dwit.download.url=\"${wit_download_url}\" -pl integration-tests -P integration-tests verify 2>&1 | tee \"${RESULT_ROOT}/kindtest.log\"\n+  if [ \"${verify_image_run}\" != \"verify-images-tests\" ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk5NjkwOA==", "bodyText": "true. Thanks", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r516996908", "createdAt": "2020-11-03T22:38:53Z", "author": {"login": "hzhao-github"}, "path": "kindtest.sh", "diffHunk": "@@ -237,9 +242,19 @@ rm -rf \"${RESULT_ROOT:?}/*\"\n \n echo 'Run tests...'\n if [ \"${test_filter}\" = \"ItOperatorUpgrade\" ] || [ \"${parallel_run}\" = \"false\" ]; then\n-  echo \"Running mvn -Dit.test=${test_filter} -Dwdt.download.url=${wdt_download_url} -Dwit.download.url=${wit_download_url} -pl integration-tests -P integration-tests verify\"\n-  time mvn -Dit.test=\"${test_filter}\" -Dwdt.download.url=\"${wdt_download_url}\" -Dwit.download.url=\"${wit_download_url}\" -pl integration-tests -P integration-tests verify 2>&1 | tee \"${RESULT_ROOT}/kindtest.log\"\n+  if [ \"${verify_image_run}\" != \"verify-images-tests\" ]; then", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzOTUyNw=="}, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzAwNzk4Nw==", "bodyText": "fixed", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r517007987", "createdAt": "2020-11-03T23:07:19Z", "author": {"login": "hzhao-github"}, "path": "kindtest.sh", "diffHunk": "@@ -237,9 +242,19 @@ rm -rf \"${RESULT_ROOT:?}/*\"\n \n echo 'Run tests...'\n if [ \"${test_filter}\" = \"ItOperatorUpgrade\" ] || [ \"${parallel_run}\" = \"false\" ]; then\n-  echo \"Running mvn -Dit.test=${test_filter} -Dwdt.download.url=${wdt_download_url} -Dwit.download.url=${wit_download_url} -pl integration-tests -P integration-tests verify\"\n-  time mvn -Dit.test=\"${test_filter}\" -Dwdt.download.url=\"${wdt_download_url}\" -Dwit.download.url=\"${wit_download_url}\" -pl integration-tests -P integration-tests verify 2>&1 | tee \"${RESULT_ROOT}/kindtest.log\"\n+  if [ \"${verify_image_run}\" != \"verify-images-tests\" ]; then", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzOTUyNw=="}, "originalCommit": {"oid": "9c922a556ddbd404df7a359e52a7c4979b351fd3"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTc0Mjc4OnYy", "diffSide": "RIGHT", "path": "kindtest.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNDozNjowMVrOHuwdfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzoxMToxN1rOHu2bbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc5MDUyNg==", "bodyText": "if (maven_profile_name)  is not defined  (the current behaviour) what path it should follows ?  It should default to current behavior  where it does not take any maven profile.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r518790526", "createdAt": "2020-11-06T14:36:01Z", "author": {"login": "anpanigr"}, "path": "kindtest.sh", "diffHunk": "@@ -235,11 +242,18 @@ export JAVA_HOME=\"${JAVA_HOME:-`type -p java|xargs readlink -f|xargs dirname|xar\n echo 'Clean up result root...'\n rm -rf \"${RESULT_ROOT:?}/*\"\n \n-echo 'Run tests...'\n+echo 'Determine test filter ...'\n+if [ \"${maven_profile_name}\" = \"wls-image-cert\" ]; then\n+  test_filter=\"${test_filter_wls}\"\n+elif [ \"${maven_profile_name}\" = \"fmw-image-cert\" ]; then\n+  test_filter=\"${test_filter_fmw}\"\n+fi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODg4ODMwMg==", "bodyText": "default is test_filter=\"**/It*\" in line 72", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r518888302", "createdAt": "2020-11-06T17:11:17Z", "author": {"login": "hzhao-github"}, "path": "kindtest.sh", "diffHunk": "@@ -235,11 +242,18 @@ export JAVA_HOME=\"${JAVA_HOME:-`type -p java|xargs readlink -f|xargs dirname|xar\n echo 'Clean up result root...'\n rm -rf \"${RESULT_ROOT:?}/*\"\n \n-echo 'Run tests...'\n+echo 'Determine test filter ...'\n+if [ \"${maven_profile_name}\" = \"wls-image-cert\" ]; then\n+  test_filter=\"${test_filter_wls}\"\n+elif [ \"${maven_profile_name}\" = \"fmw-image-cert\" ]; then\n+  test_filter=\"${test_filter_fmw}\"\n+fi", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc5MDUyNg=="}, "originalCommit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MjMxODAyOnYy", "diffSide": "RIGHT", "path": "kindtest.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzowMToxNVrOHu2GAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNzowMToxNVrOHu2GAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODg4MjgxOA==", "bodyText": "these are defined in the profile, you don't have to set here", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2023#discussion_r518882818", "createdAt": "2020-11-06T17:01:15Z", "author": {"login": "vanajamukkara"}, "path": "kindtest.sh", "diffHunk": "@@ -68,13 +70,16 @@ else\n   outdir=\"${WORKSPACE}/logdir/${BUILD_TAG}\"\n fi\n test_filter=\"**/It*\"\n+test_filter_wls=\"**/ItParameterizedDomain.java,**/ItServerStartPolicy.java,**/ItMiiUpdateDomainConfig.java,**/ItIntrospectVersion.java,**/ItMiiSample.java,**/ItJrfDomainInPV.java,**/ItStickySession.java,**/ItSessionMigration.java\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8935522ba193e9592072809700ad94d833de603b"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3884, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}