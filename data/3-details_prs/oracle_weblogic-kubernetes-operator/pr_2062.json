{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNTM3NjU5", "number": 2062, "title": "Fix for mac os and validation error messages when no parameters are specified (OWLS-86060)", "bodyText": "Fixed the python yaml module issue on Mac OS by using yq instead of python\nFix validation error messages for start/stop cluster and domain scripts when no parameters are specified as part of OWLS-86060.", "createdAt": "2020-11-18T22:36:02Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062", "merged": true, "mergeCommit": {"oid": "29530f42a598b71a1e8dfc787a75fe1220215688"}, "closed": true, "closedAt": "2020-11-20T13:48:10Z", "author": {"login": "ankedia"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdd19p2gH2gAyNTIzNTM3NjU5OmY0OTliZDdjMDIxMmM3NWEzMWY2NzEwYzc5NTQ5Y2IxOGY5NGJhMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeJi44gFqTUzNDg2MTk5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f499bd7c0212c75a31f6710c79549cb18f94ba33", "committedDate": "2020-11-18T22:33:21Z", "message": "Fix for mac os and validation error messages when no parameters are specified (OWLS-86060)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTQ1MDY4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-533945068", "createdAt": "2020-11-18T22:47:53Z", "commit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo0Nzo1NFrOH2Fegg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo0Nzo1NFrOH2Fegg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NDg4Mg==", "bodyText": "the second sentence look like it should be removed (\"This script...\"), as the introspect job does not generate a domain resource...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526474882", "createdAt": "2020-11-18T22:47:54Z", "author": {"login": "tbarnes-us"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\\n+    successfully and generated the domain resource. Exiting.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTQ2NDYw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-533946460", "createdAt": "2020-11-18T22:50:29Z", "commit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MDoyOVrOH2FjRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MDoyOVrOH2FjRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjEwMw==", "bodyText": "This information is not needed.  The first statement ( Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace} )  is sufficient convey the message.  Should we put internal detail about introspector job here ?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526476103", "createdAt": "2020-11-18T22:50:29Z", "author": {"login": "anpanigr"}, "path": "kubernetes/samples/scripts/domain-lifecycle/startDomain.sh", "diffHunk": "@@ -67,13 +67,22 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n+\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTQ2ODI0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-533946824", "createdAt": "2020-11-18T22:51:08Z", "commit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MTowOFrOH2FkcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjo1MTowOFrOH2FkcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjQwMA==", "bodyText": "This information is not needed. The first statement ( Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace} ) is sufficient convey the message. Should we put internal detail about introspector job here ?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#discussion_r526476400", "createdAt": "2020-11-18T22:51:08Z", "author": {"login": "anpanigr"}, "path": "kubernetes/samples/scripts/domain-lifecycle/stopDomain.sh", "diffHunk": "@@ -66,13 +66,21 @@ function initialize {\n \n   validateKubernetesCliAvailable\n   validateJqAvailable\n+  validateYqAvailable\n   failIfValidationErrors\n }\n \n initialize\n \n # Get the domain in json format\n-domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json)\n+domainJson=$(${kubernetesCli} get domain ${domainUid} -n ${domainNamespace} -o json --ignore-not-found)\n+\n+if [ -z \"${domainJson}\" ]; then\n+  printError \"Domain resource for domain '${domainUid}' not found in namespace '${domainNamespace}'. \\\n+    This script requires that the introspector job for the specified domain ran \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dc8f916719c990cd2b9d31ca686e46bbc0691ff", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9dc8f916719c990cd2b9d31ca686e46bbc0691ff", "committedDate": "2020-11-18T22:51:21Z", "message": "Fix error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c773615cf71c91c19d39edc14fb5383cb60d55a0", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c773615cf71c91c19d39edc14fb5383cb60d55a0", "committedDate": "2020-11-18T23:56:30Z", "message": "Provide usage information when validation fails."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MDU2MDA3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-534056007", "createdAt": "2020-11-19T03:28:47Z", "commit": {"oid": "f499bd7c0212c75a31f6710c79549cb18f94ba33"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MDU5MDE4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-534059018", "createdAt": "2020-11-19T03:38:39Z", "commit": {"oid": "c773615cf71c91c19d39edc14fb5383cb60d55a0"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c987030d4a0a9ba63aa19a305aedc0484f8deb", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/82c987030d4a0a9ba63aa19a305aedc0484f8deb", "committedDate": "2020-11-19T05:44:52Z", "message": "Fix error message when domain resource not found."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NjM1ODAz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-534635803", "createdAt": "2020-11-19T16:38:47Z", "commit": {"oid": "82c987030d4a0a9ba63aa19a305aedc0484f8deb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0c86516c2a5bb8b229932e26510970c30fa8515", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b0c86516c2a5bb8b229932e26510970c30fa8515", "committedDate": "2020-11-19T18:48:42Z", "message": "Validate that domain resource exists before validating server/cluster name in config map."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODAzMzA1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-534803305", "createdAt": "2020-11-19T20:00:10Z", "commit": {"oid": "b0c86516c2a5bb8b229932e26510970c30fa8515"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d36645c166951e1ce18187de030a05a307014cd", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3d36645c166951e1ce18187de030a05a307014cd", "committedDate": "2020-11-19T20:05:52Z", "message": "Fix error message as per review comment."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bfdefa56cda9cfe2a1e1a685556830329008703", "author": {"user": {"login": "ankedia", "name": "Anil Kedia"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2bfdefa56cda9cfe2a1e1a685556830329008703", "committedDate": "2020-11-19T20:10:15Z", "message": "Fixed error message."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODYxOTkz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/2062#pullrequestreview-534861993", "createdAt": "2020-11-19T21:22:13Z", "commit": {"oid": "2bfdefa56cda9cfe2a1e1a685556830329008703"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3936, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}