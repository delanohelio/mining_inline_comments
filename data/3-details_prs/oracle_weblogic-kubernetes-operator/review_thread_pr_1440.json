{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MzY0MDk5", "number": 1440, "reviewThreads": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozODozM1rODhorZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTozM1rODhq7Sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2MDcxOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/BaseTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozODozM1rOFserOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOToyNTowOVrOFsgKhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NDI1MQ==", "bodyText": "remove name from printed message", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382184251", "createdAt": "2020-02-20T18:38:33Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/BaseTest.java", "diffHunk": "@@ -82,6 +84,17 @@\n     QUICKTEST =\n         System.getenv(\"QUICKTEST\") != null && System.getenv(\"QUICKTEST\").equalsIgnoreCase(\"true\");\n \n+    HELM_VERSION = System.getenv(\"HELM_VERSION\");\n+    if (HELM_VERSION == null) {\n+      HELM_VERSION = \"V2\";\n+    }\n+ \n+    VOYAGER_VERSION = System.getenv(\"VOYAGER_VERSION\");\n+    if (VOYAGER_VERSION == null) {\n+      VOYAGER_VERSION = \"10.0.0\";\n+    }\n+\n+    System.out.println(\"(PANI) HELM VERSION IS \" + HELM_VERSION);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwODY0Ng==", "bodyText": "Modified to   System.out.println(\"Helm Version is \" + HELM_VERSION)", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382208646", "createdAt": "2020-02-20T19:25:09Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/BaseTest.java", "diffHunk": "@@ -82,6 +84,17 @@\n     QUICKTEST =\n         System.getenv(\"QUICKTEST\") != null && System.getenv(\"QUICKTEST\").equalsIgnoreCase(\"true\");\n \n+    HELM_VERSION = System.getenv(\"HELM_VERSION\");\n+    if (HELM_VERSION == null) {\n+      HELM_VERSION = \"V2\";\n+    }\n+ \n+    VOYAGER_VERSION = System.getenv(\"VOYAGER_VERSION\");\n+    if (VOYAGER_VERSION == null) {\n+      VOYAGER_VERSION = \"10.0.0\";\n+    }\n+\n+    System.out.println(\"(PANI) HELM VERSION IS \" + HELM_VERSION);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NDI1MQ=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2NDA3OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozOTozOFrOFsetTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozOTozOFrOFsetTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NDc4MA==", "bodyText": "fix typo in --namespace", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382184780", "createdAt": "2020-02-20T18:39:38Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -166,7 +167,13 @@ public void testCreateSecondOperatorUsingSameOperatorNsNegativeInstall() throws\n                 + \"does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2Njg2OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDozM1rOFsevKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTozMzoyM1rOFsgbjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTI1OA==", "bodyText": "fix typo", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382185258", "createdAt": "2020-02-20T18:40:33Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -237,13 +244,20 @@ public void testNotPreexistedOpServiceAccountCreateOperatorNegativeInstall() thr\n             true,\n             RestCertType.SELF_SIGNED);\n     String oprelease = (String)(operator.getOperatorMap()).get(\"releaseName\");\n+    String opnamespace = (String)(operator.getOperatorMap()).get(\"namespace\");\n     try {\n       operator.callHelmInstall();\n       throw new RuntimeException(\n           \"FAILURE: Helm installs operator with not preexisted service account \");\n \n     } catch (Exception ex) {\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIxMzAwNA==", "bodyText": "done", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382213004", "createdAt": "2020-02-20T19:33:23Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -237,13 +244,20 @@ public void testNotPreexistedOpServiceAccountCreateOperatorNegativeInstall() thr\n             true,\n             RestCertType.SELF_SIGNED);\n     String oprelease = (String)(operator.getOperatorMap()).get(\"releaseName\");\n+    String opnamespace = (String)(operator.getOperatorMap()).get(\"namespace\");\n     try {\n       operator.callHelmInstall();\n       throw new RuntimeException(\n           \"FAILURE: Helm installs operator with not preexisted service account \");\n \n     } catch (Exception ex) {\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTI1OA=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2NzQ1OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDo0NVrOFsevhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDo0NVrOFsevhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTM0OA==", "bodyText": "fix typo", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382185348", "createdAt": "2020-02-20T18:40:45Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -319,7 +334,13 @@ public void testSecondOpSharingSameTargetDomainsNsNegativeInstall() throws Excep\n                 + \"target domains namespaces does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2ODI2OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDo1OFrOFsev_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDo1OFrOFsev_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTQ3MQ==", "bodyText": "fix typo", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382185471", "createdAt": "2020-02-20T18:40:58Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -374,7 +396,13 @@ public void testTargetNsIsNotPreexistedNegativeInstall() throws Exception {\n                 + \"namespaces does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2OTk2OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MTozNFrOFsexDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTozMzozMVrOFsgb0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTc0Mg==", "bodyText": "fix typo in --namespace", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382185742", "createdAt": "2020-02-20T18:41:34Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -430,7 +459,13 @@ public void testSecondOpSharingSameExternalRestPortNegativeInstall() throws Exce\n             \"FAILURE: Helm install operator with dublicated rest port number does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIxMzA3NA==", "bodyText": "done", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382213074", "createdAt": "2020-02-20T19:33:31Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -430,7 +459,13 @@ public void testSecondOpSharingSameExternalRestPortNegativeInstall() throws Exce\n             \"FAILURE: Helm install operator with dublicated rest port number does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTc0Mg=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk3MDkwOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MTo1MFrOFsexng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0NTo1OFrOFse5yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTg4Ng==", "bodyText": "fix typo in --namespace", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382185886", "createdAt": "2020-02-20T18:41:50Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -481,7 +517,13 @@ public void testCreateWithUpperCaseTargetDomainNegativeInstall() throws Exceptio\n                 + \"domains namespace does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 132}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4Nzk3Ng==", "bodyText": "code is duplicated in many places..write a small method may be callHelmList() and call that...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382187976", "createdAt": "2020-02-20T18:45:58Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -481,7 +517,13 @@ public void testCreateWithUpperCaseTargetDomainNegativeInstall() throws Exceptio\n                 + \"domains namespace does not report expected message \"\n                 + ex.getMessage());\n       }\n-      String cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      String cmdLb = \"\";\n+      if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+        cmdLb = \"helm list --failed \" + \"  | grep \" + oprelease;\n+      }\n+      if (BaseTest.HELM_VERSION.equals(\"V3\")) {\n+        cmdLb = \"helm list --failed --namesapce \" + opnamespace + \"  | grep \" + oprelease;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTg4Ng=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 132}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk5MjE4OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0ODo0MFrOFse_Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTozOTozNVrOFsgoYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4OTM0Mg==", "bodyText": "should be \"\" or null, not \"Empty String\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382189342", "createdAt": "2020-02-20T18:48:40Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -36,7 +36,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n         Paths.get(userProjectsDir + \"/load-balancers/\" + lbMap.get(\"domainUID\")));\n \n     if (lbMap.get(\"loadBalancer\").equals(\"TRAEFIK\")) {\n-      String cmdLb = \"helm list traefik-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIxNjI5MA==", "bodyText": "reset the string to String cmdLb = \"\" in all occurrences", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382216290", "createdAt": "2020-02-20T19:39:35Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -36,7 +36,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n         Paths.get(userProjectsDir + \"/load-balancers/\" + lbMap.get(\"domainUID\")));\n \n     if (lbMap.get(\"loadBalancer\").equals(\"TRAEFIK\")) {\n-      String cmdLb = \"helm list traefik-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4OTM0Mg=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk5NzAxOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1MDoxMlrOFsfCMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1MDoxMlrOFsfCMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MDEzMA==", "bodyText": "this condition doesn't look correct, namespace is required for V3 ...can you check again", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382190130", "createdAt": "2020-02-20T18:50:12Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -36,7 +36,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n         Paths.get(userProjectsDir + \"/load-balancers/\" + lbMap.get(\"domainUID\")));\n \n     if (lbMap.get(\"loadBalancer\").equals(\"TRAEFIK\")) {\n-      String cmdLb = \"helm list traefik-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";\n+      if (! BaseTest.HELM_VERSION.equals(\"V2\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk5NzgyOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1MDoyOFrOFsfCvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1MDoyOFrOFsfCvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MDI2OA==", "bodyText": "should be \"\" or null, not \"Empty String\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382190268", "createdAt": "2020-02-20T18:50:28Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -53,7 +58,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n     }\n \n     if (lbMap.get(\"loadBalancer\").equals(\"VOYAGER\")) {\n-      String cmdLb = \"helm list voyager-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk5ODQ0OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1MDo0MFrOFsfDJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTo1ODo0MFrOFshOCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MDM3NQ==", "bodyText": "check condition", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382190375", "createdAt": "2020-02-20T18:50:40Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -53,7 +58,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n     }\n \n     if (lbMap.get(\"loadBalancer\").equals(\"VOYAGER\")) {\n-      String cmdLb = \"helm list voyager-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";\n+      if (! BaseTest.HELM_VERSION.equals(\"V2\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyNTkyOA==", "bodyText": "Changed to   if ( BaseTest.HELM_VERSION.equals(\"V2\")) {", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382225928", "createdAt": "2020-02-20T19:58:40Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -53,7 +58,12 @@ public LoadBalancer(Map lbMap) throws Exception {\n     }\n \n     if (lbMap.get(\"loadBalancer\").equals(\"VOYAGER\")) {\n-      String cmdLb = \"helm list voyager-operator | grep DEPLOYED\";\n+      String cmdLb = \"Empty String\";\n+      if (! BaseTest.HELM_VERSION.equals(\"V2\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MDM3NQ=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NjAwOTQ3OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1NDowNVrOFsfKMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDowMjoxMlrOFshVIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MjE3OA==", "bodyText": "you can just do\ncmd = cmd + \" --namespace traefik \";\n\nsame for initialization ...", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382192178", "createdAt": "2020-02-20T18:54:05Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -163,7 +171,11 @@ private void upgradeTraefikNamespace() throws Exception {\n    * @throws Exception when could not get values\n    */\n   private String getKubernetesNamespaceToUpdate(String domainNamespace) throws Exception {\n-    ExecResult result = TestUtils.exec(\"helm get values traefik-operator\", true);\n+    String cmd = new String(\"helm get values traefik-operator \");\n+    if (! BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd = cmd + new String(\" --namespace traefik \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyNzc0Nw==", "bodyText": "Modified as follows  ...\nString cmd = \"helm get values traefik-operator \";\nif (BaseTest.HELM_VERSION.equals(\"V2\")) {\ncmd = cmd + \" --namespace traefik \";\n}", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382227747", "createdAt": "2020-02-20T20:02:12Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -163,7 +171,11 @@ private void upgradeTraefikNamespace() throws Exception {\n    * @throws Exception when could not get values\n    */\n   private String getKubernetesNamespaceToUpdate(String domainNamespace) throws Exception {\n-    ExecResult result = TestUtils.exec(\"helm get values traefik-operator\", true);\n+    String cmd = new String(\"helm get values traefik-operator \");\n+    if (! BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd = cmd + new String(\" --namespace traefik \");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5MjE3OA=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 74}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NjAyNTkzOnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo1OTowOVrOFsfUxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDowNTo1MVrOFshbkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NDg4Nw==", "bodyText": "have you tried using same command for both something like\n\"helm install \"+ name + \" ingress-per-domain\" or\n\"helm install --name \"+ name + \" ingress-per-domain\"", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382194887", "createdAt": "2020-02-20T18:59:09Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -189,23 +201,31 @@ private String getKubernetesNamespaceToUpdate(String domainNamespace) throws Exc\n \n   private void createTraefikIngress() throws Exception {\n \n-    String chartDir = BaseTest.getProjectRoot() + \"/integration-tests/src/test/resources/charts\";\n+    String chartDir = BaseTest.getProjectRoot() + \"/kubernetes/samples/charts\";\n \n     StringBuffer cmd = new StringBuffer(\"cd \");\n-    cmd.append(chartDir).append(\" && helm install ingress-per-domain \");\n-    cmd.append(\" --name \")\n-        .append(lbMap.get(\"name\"))\n-        .append(\" --namespace \")\n-        .append(lbMap.get(\"namespace\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.domainUID=\")\n-        .append(lbMap.get(\"domainUID\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.clusterName=\")\n-        .append(lbMap.get(\"clusterName\"))\n-        .append(\" --set \")\n-        .append(\"traefik.hostname=\")\n-        .append(lbMap.get(\"domainUID\"))\n+    cmd.append(chartDir).append(\" && \");\n+    \n+    if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd.append(\" helm install ingress-per-domain \")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyOTM5Mg==", "bodyText": "Helm V3.x  does not accept --name argument, instead it take a chart name as first argument directly.  So there is no common syntax for both Helm Release", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382229392", "createdAt": "2020-02-20T20:05:51Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -189,23 +201,31 @@ private String getKubernetesNamespaceToUpdate(String domainNamespace) throws Exc\n \n   private void createTraefikIngress() throws Exception {\n \n-    String chartDir = BaseTest.getProjectRoot() + \"/integration-tests/src/test/resources/charts\";\n+    String chartDir = BaseTest.getProjectRoot() + \"/kubernetes/samples/charts\";\n \n     StringBuffer cmd = new StringBuffer(\"cd \");\n-    cmd.append(chartDir).append(\" && helm install ingress-per-domain \");\n-    cmd.append(\" --name \")\n-        .append(lbMap.get(\"name\"))\n-        .append(\" --namespace \")\n-        .append(lbMap.get(\"namespace\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.domainUID=\")\n-        .append(lbMap.get(\"domainUID\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.clusterName=\")\n-        .append(lbMap.get(\"clusterName\"))\n-        .append(\" --set \")\n-        .append(\"traefik.hostname=\")\n-        .append(lbMap.get(\"domainUID\"))\n+    cmd.append(chartDir).append(\" && \");\n+    \n+    if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd.append(\" helm install ingress-per-domain \")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NDg4Nw=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NjAzMTk5OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTowMTowMVrOFsfYsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDowNjowNFrOFshcAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NTg5MA==", "bodyText": "fix initialization", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382195890", "createdAt": "2020-02-20T19:01:01Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -222,23 +242,11 @@ private void createTraefikIngress() throws Exception {\n    * @throws Exception on failure\n    */\n   public void createVoyagerLoadBalancer() throws Exception {\n-\n-    String cmd1 = \"helm repo add appscode https://charts.appscode.com/stable/\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Add Appscode Chart Repository cmd \" + cmd1);\n-\n-    executeHelmCommand(cmd1);\n-\n-    String cmd2 = \"helm repo update\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Appscode Chart Repository upgrade cmd \" + cmd2);\n-\n-    executeHelmCommand(cmd2);\n-\n-    String cmd3 =\n-        \"helm install appscode/voyager --name voyager-operator --version 7.4.0 --namespace voyager \"\n-            + \"--set cloudProvider=baremetal --set apiserver.enableValidatingWebhook=false\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Install voyager operator cmd \" + cmd3);\n-\n-    executeHelmCommand(cmd3);\n+    String cmdLb = \"Empty String\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 148}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyOTUwNQ==", "bodyText": "done", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382229505", "createdAt": "2020-02-20T20:06:04Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -222,23 +242,11 @@ private void createTraefikIngress() throws Exception {\n    * @throws Exception on failure\n    */\n   public void createVoyagerLoadBalancer() throws Exception {\n-\n-    String cmd1 = \"helm repo add appscode https://charts.appscode.com/stable/\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Add Appscode Chart Repository cmd \" + cmd1);\n-\n-    executeHelmCommand(cmd1);\n-\n-    String cmd2 = \"helm repo update\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Appscode Chart Repository upgrade cmd \" + cmd2);\n-\n-    executeHelmCommand(cmd2);\n-\n-    String cmd3 =\n-        \"helm install appscode/voyager --name voyager-operator --version 7.4.0 --namespace voyager \"\n-            + \"--set cloudProvider=baremetal --set apiserver.enableValidatingWebhook=false\";\n-    LoggerHelper.getLocal().log(Level.INFO, \"Executing Install voyager operator cmd \" + cmd3);\n-\n-    executeHelmCommand(cmd3);\n+    String cmdLb = \"Empty String\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NTg5MA=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 148}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NjAzNjE5OnYy", "diffSide": "RIGHT", "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTowMjowNVrOFsfbJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDowNjo0MlrOFshdHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NjUxOQ==", "bodyText": "same comment as above", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382196519", "createdAt": "2020-02-20T19:02:05Z", "author": {"login": "vanajamukkara"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -294,23 +306,31 @@ private void upgradeVoyagerNamespace() throws Exception {\n   }\n \n   private void createVoyagerIngress() throws Exception {\n-    String chartDir = BaseTest.getProjectRoot() + \"/integration-tests/src/test/resources/charts\";\n+    String chartDir = BaseTest.getProjectRoot() + \"/kubernetes/samples/charts\";\n \n     StringBuffer cmd = new StringBuffer(\"cd \");\n-    cmd.append(chartDir).append(\" && helm install ingress-per-domain \");\n-    cmd.append(\" --name \")\n-        .append(lbMap.get(\"name\"))\n-        .append(\" --namespace \")\n-        .append(lbMap.get(\"namespace\"))\n-        .append(\" --set type=VOYAGER\")\n-        .append(\" --set \")\n-        .append(\"wlsDomain.domainUID=\")\n-        .append(lbMap.get(\"domainUID\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.clusterName=\")\n-        .append(lbMap.get(\"clusterName\"))\n-        .append(\" --set \")\n-        .append(\"voyager.webPort=\")\n+    cmd.append(chartDir).append(\" && \");\n+\n+    if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd.append(\" helm install ingress-per-domain \")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 210}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyOTc5MQ==", "bodyText": "There is no common syntax for both Helm Release", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382229791", "createdAt": "2020-02-20T20:06:42Z", "author": {"login": "anpanigr"}, "path": "integration-tests/src/test/java/oracle/kubernetes/operator/utils/LoadBalancer.java", "diffHunk": "@@ -294,23 +306,31 @@ private void upgradeVoyagerNamespace() throws Exception {\n   }\n \n   private void createVoyagerIngress() throws Exception {\n-    String chartDir = BaseTest.getProjectRoot() + \"/integration-tests/src/test/resources/charts\";\n+    String chartDir = BaseTest.getProjectRoot() + \"/kubernetes/samples/charts\";\n \n     StringBuffer cmd = new StringBuffer(\"cd \");\n-    cmd.append(chartDir).append(\" && helm install ingress-per-domain \");\n-    cmd.append(\" --name \")\n-        .append(lbMap.get(\"name\"))\n-        .append(\" --namespace \")\n-        .append(lbMap.get(\"namespace\"))\n-        .append(\" --set type=VOYAGER\")\n-        .append(\" --set \")\n-        .append(\"wlsDomain.domainUID=\")\n-        .append(lbMap.get(\"domainUID\"))\n-        .append(\" --set \")\n-        .append(\"wlsDomain.clusterName=\")\n-        .append(lbMap.get(\"clusterName\"))\n-        .append(\" --set \")\n-        .append(\"voyager.webPort=\")\n+    cmd.append(chartDir).append(\" && \");\n+\n+    if (BaseTest.HELM_VERSION.equals(\"V2\")) {\n+      cmd.append(\" helm install ingress-per-domain \")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE5NjUxOQ=="}, "originalCommit": {"oid": "356b4a9b70207da0ac4b1aeb884afba654a6d795"}, "originalPosition": 210}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NjMyOTA2OnYy", "diffSide": "RIGHT", "path": "src/integration-tests/bash/cleanup.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTozM1rOFsiRUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMzoyNzoyMFrOFsmuUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MzE1NQ==", "bodyText": "do this in the IT class in unprepare rather than having test specific code in common cleanup script", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382243155", "createdAt": "2020-02-20T20:35:33Z", "author": {"login": "vanajamukkara"}, "path": "src/integration-tests/bash/cleanup.sh", "diffHunk": "@@ -317,11 +317,30 @@ mkdir -p $TMP_DIR || fail No permision to create directory $TMP_DIR\n \n # first, if helm is installed, delete all installed helm charts\n if [ -x \"$(command -v helm)\" ]; then\n+  helm version --short --client  | grep v2\n+  [[ $? == 0 ]] && HELM_VERSION=V2\n+  [[ $? == 1 ]] && HELM_VERSION=V3\n+  echo \"Detected Helm Version [$(helm version --short --client)]\"\n   echo @@ Deleting installed helm charts\n-  helm list --short | while read helm_name; do\n-     helm delete --purge  $helm_name\n+  namespaces=`kubectl get ns | grep -v NAME | awk '{ print $1 }'`\n+  for ns in $namespaces\n+  do \n+     helm list --short --namespace $ns | while read helm_name; do\n+     if [ \"$HELM_VERSION\" == \"V2\" ]; then\n+       helm delete --purge  $helm_name\n+     else \n+      helm uninstall $helm_name -n $ns \n+     fi\n+     done\n   done\n \n+  # Remove namespace(s) from usablity Integration tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9e1be19e1b09078982013281c63ba9be5ac2524"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjMxNjExNQ==", "bodyText": "Removed", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1440#discussion_r382316115", "createdAt": "2020-02-20T23:27:20Z", "author": {"login": "anpanigr"}, "path": "src/integration-tests/bash/cleanup.sh", "diffHunk": "@@ -317,11 +317,30 @@ mkdir -p $TMP_DIR || fail No permision to create directory $TMP_DIR\n \n # first, if helm is installed, delete all installed helm charts\n if [ -x \"$(command -v helm)\" ]; then\n+  helm version --short --client  | grep v2\n+  [[ $? == 0 ]] && HELM_VERSION=V2\n+  [[ $? == 1 ]] && HELM_VERSION=V3\n+  echo \"Detected Helm Version [$(helm version --short --client)]\"\n   echo @@ Deleting installed helm charts\n-  helm list --short | while read helm_name; do\n-     helm delete --purge  $helm_name\n+  namespaces=`kubectl get ns | grep -v NAME | awk '{ print $1 }'`\n+  for ns in $namespaces\n+  do \n+     helm list --short --namespace $ns | while read helm_name; do\n+     if [ \"$HELM_VERSION\" == \"V2\" ]; then\n+       helm delete --purge  $helm_name\n+     else \n+      helm uninstall $helm_name -n $ns \n+     fi\n+     done\n   done\n \n+  # Remove namespace(s) from usablity Integration tests", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MzE1NQ=="}, "originalCommit": {"oid": "d9e1be19e1b09078982013281c63ba9be5ac2524"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4842, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}