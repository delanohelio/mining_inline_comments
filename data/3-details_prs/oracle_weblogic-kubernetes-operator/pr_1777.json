{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMTI0MDQz", "number": 1777, "title": "Improve test verification", "bodyText": "In ItMiiDomain testPatchAppV2 test case, stop the application availability thread when it detects a failure, instead of waiting for the patched application is accessible on all managed servers.\nIn ItOperatorRestartWhenPodRoll test case, check and wait for the operator pod to be restarted, instead of,  ready to close a window between async deletion of the operator and check for podIsReady.", "createdAt": "2020-06-30T15:49:20Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777", "merged": true, "mergeCommit": {"oid": "c9d06976dea51d6449239c79d8c13ffbf08f9fa0"}, "closed": true, "closedAt": "2020-07-02T18:29:40Z", "author": {"login": "doxiao"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwIc4ZAH2gAyNDQyMTI0MDQzOmRkMjQxM2FhNWYyZDI0ODFiYTI2NGNiY2FjYzg3YTEwNDg0MDFmZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwePs8gFqTQ0MDQ1MjMwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd2413aa5f2d2481ba264cbcacc87a1048401fd6", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dd2413aa5f2d2481ba264cbcacc87a1048401fd6", "committedDate": "2020-06-29T22:05:14Z", "message": "Improve test verification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8", "committedDate": "2020-06-30T00:51:27Z", "message": "Fail application availability check early"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjQ0NTQ0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#pullrequestreview-440244544", "createdAt": "2020-06-30T17:38:59Z", "commit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjY2Njgw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#pullrequestreview-440266680", "createdAt": "2020-06-30T18:08:48Z", "commit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxODowODo0OVrOGrIlFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxODowODo0OVrOGrIlFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg4MjUxOQ==", "bodyText": "This is an odd programming style. Why not use break?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#discussion_r447882519", "createdAt": "2020-06-30T18:08:49Z", "author": {"login": "rjeberhard"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java", "diffHunk": "@@ -1074,6 +1075,7 @@ private static void collectAppAvaiability(\n       \n       if (count == 0) {\n         logger.info(\"XXXXXXXXXXX: application not available XXXXXXXX\");\n+        failed = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMzA5ODI4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#pullrequestreview-440309828", "createdAt": "2020-06-30T19:10:54Z", "commit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxOToxMDo1NFrOGrKyoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxOToxMDo1NFrOGrKyoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkxODc1Mw==", "bodyText": "you already have operator pod name in this method, you can directly call isPodRestarted(podName, namespace, timestamp)?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#discussion_r447918753", "createdAt": "2020-06-30T19:10:54Z", "author": {"login": "vanajamukkara"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItOperatorRestartWhenPodRoll.java", "diffHunk": "@@ -235,18 +234,14 @@ private void restartOperatorAndVerify() {\n             opNamespace,\n             condition.getElapsedTimeInMS(),\n             condition.getRemainingTimeInMS()))\n-        .until(assertDoesNotThrow(() -> operatorIsReady(opNamespace),\n-          \"operatorIsReady failed with ApiException\"));\n+        .until(assertDoesNotThrow(() -> isOperatorPodRestarted(opNamespace, opPodCreationTime),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bc0b587153c8e1e7d50f4f5a42be7c7f7ebe1a8"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31ba6083a7474c90f070160d5100d83bc0c5a7e5", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/31ba6083a7474c90f070160d5100d83bc0c5a7e5", "committedDate": "2020-06-30T19:26:48Z", "message": "Address a review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMzc2MzMx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#pullrequestreview-440376331", "createdAt": "2020-06-30T20:51:44Z", "commit": {"oid": "31ba6083a7474c90f070160d5100d83bc0c5a7e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNDUyMzA3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#pullrequestreview-440452307", "createdAt": "2020-06-30T23:28:44Z", "commit": {"oid": "31ba6083a7474c90f070160d5100d83bc0c5a7e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzoyODo0NVrOGrR1Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzoyODo0NVrOGrR1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAzNDA5OA==", "bodyText": "What are the \"XXX\" and \"YYY\"? What application is it?", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1777#discussion_r448034098", "createdAt": "2020-06-30T23:28:45Z", "author": {"login": "rjeberhard"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItMiiDomain.java", "diffHunk": "@@ -1074,6 +1074,7 @@ private static void collectAppAvaiability(\n       \n       if (count == 0) {\n         logger.info(\"XXXXXXXXXXX: application not available XXXXXXXX\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ba6083a7474c90f070160d5100d83bc0c5a7e5"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4625, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}