{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMTEzMzQ3", "number": 1906, "title": "fixing the mii domain and sample test after images have been updated", "bodyText": "This PR fixes 2 of the 3 failures in integration test due to new images. ItMiiDoman parameter test. The new 1411 images have new tags. If we decide to add more of the new images to the parameter, I can add update the list.\nThe other test that fails is in ItMiiSample. I added  \"--chown oracle:root\" to the imagetool.sh command and with that the wls sample test cases pass, but the JRF test cases fail. This is because the JRF images have not been updated in OCR. We could comment out the JRF sample test till the new JRF images are uploaded to OCR.\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/1831/\nhttps://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/1835/\nAs we discussed on 09/08 scrum - We should add test for WLS images Version 12.2.1.4  (generic) and  14.1.1.0-11  (jdk111-generic)", "createdAt": "2020-09-08T15:07:24Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906", "merged": true, "mergeCommit": {"oid": "3683bd780259ceaa6f9df3a79b1f71589b5db6ff"}, "closed": true, "closedAt": "2020-09-15T14:33:09Z", "author": {"login": "bhavaniravichandran"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGQnbuAH2gAyNDgyMTEzMzQ3OjA2ZWJlOGIzZGZlZDNhNGY4YmU5ZmEzYmY3MmQ4MTBmOWRmMWY3Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI07ZNAFqTQ4Nzg5Mjk4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "06ebe8b3dfed3a4f8be9fa3bf72d810f9df1f7ca", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/06ebe8b3dfed3a4f8be9fa3bf72d810f9df1f7ca", "committedDate": "2020-09-06T16:02:20Z", "message": "fixing the mii domain and sample test after images have been updated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c63e23f15aedb1db8ccd411f810d5c452418ca24", "author": {"user": {"login": "hzhao-github", "name": "Huiling Zhao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/c63e23f15aedb1db8ccd411f810d5c452418ca24", "committedDate": "2020-09-08T19:00:57Z", "message": "Modified group name used to copy file to server pod jenkins-ignore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cd72dce489dde539c6dd03978ecf2ff8efb45d8", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/4cd72dce489dde539c6dd03978ecf2ff8efb45d8", "committedDate": "2020-09-08T23:34:02Z", "message": "fix jrf test in mii samples not to change gid to root"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3521dc3a8f7c80e887272bda5b17404a6d957880", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3521dc3a8f7c80e887272bda5b17404a6d957880", "committedDate": "2020-09-09T19:47:17Z", "message": "fix typp, undo chown option- it was merged as a another PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac4808cf91540a1130f2a9fadd98d2f54778ce1d", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/ac4808cf91540a1130f2a9fadd98d2f54778ce1d", "committedDate": "2020-09-09T21:12:58Z", "message": "adding the fix I had removed by mistake"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NDEwNjY0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#pullrequestreview-485410664", "createdAt": "2020-09-09T21:18:10Z", "commit": {"oid": "3521dc3a8f7c80e887272bda5b17404a6d957880"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMToxODoxMVrOHPaqoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMToxODoxMVrOHPaqoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkyNzU4NA==", "bodyText": "I assume this needs to be conditional on the domain type?\nSo at line 75, add lines\nif [ \"$WDT_DOMAIN_TYPE\" = \"WLS\" ]; then\n  CHOWN_ROOT=\"--chown:root\"\nfi\n\nand modify line 113 so it looks like:\ndryrun:  ${CHOWN_ROOT:+${CHOWN_ROOT}}\n\nThe \":+\" syntax says 'do nothing if CHOWN_ROOT before the :+ is undefined, otherwise substitute the contents after :+.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#discussion_r485927584", "createdAt": "2020-09-09T21:18:11Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/model-in-image/mii-sample-wrapper/build-model-image.sh", "diffHunk": "@@ -109,17 +109,71 @@ dryrun:  ${MODEL_YAML_FILES:+--wdtModel ${MODEL_YAML_FILES}} \\\\\n dryrun:  ${MODEL_VARIABLE_FILES:+--wdtVariables ${MODEL_VARIABLE_FILES}} \\\\\n dryrun:  ${MODEL_ARCHIVE_FILES:+--wdtArchive ${MODEL_ARCHIVE_FILES}} \\\\\n dryrun:  --wdtModelOnly \\\\\n-dryrun:  --wdtDomainType ${WDT_DOMAIN_TYPE}\n+dryrun:  --wdtDomainType ${WDT_DOMAIN_TYPE} \\\\\n+dryrun:  --chown oracle:root", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3521dc3a8f7c80e887272bda5b17404a6d957880"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NDEyNDc2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#pullrequestreview-485412476", "createdAt": "2020-09-09T21:21:26Z", "commit": {"oid": "ac4808cf91540a1130f2a9fadd98d2f54778ce1d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMToyMToyNlrOHPawaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMToyMToyNlrOHPawaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkyOTA2Nw==", "bodyText": "There's a more compact way to do this than have have two versions of dryrun - see earlier comment.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#discussion_r485929067", "createdAt": "2020-09-09T21:21:26Z", "author": {"login": "tbarnes-us"}, "path": "src/integration-tests/model-in-image/mii-sample-wrapper/build-model-image.sh", "diffHunk": "@@ -146,7 +200,12 @@ else\n \n   tmpfil=\"$WORKDIR/$(basename $0).$CURPID.$PPID.$SECONDS.$RANDOM.sh\"\n \n-  output_dryrun | grep \"^dryrun:\" | sed 's/^dryrun://' > $tmpfil\n+  if [ \"${WDT_DOMAIN_TYPE}\" = \"JRF\" ]; then\n+    output_dryrun_JRF | grep \"^dryrun:\" | sed 's/^dryrun://' > $tmpfil\n+  else\n+    output_dryrun | grep \"^dryrun:\" | sed 's/^dryrun://' > $tmpfil\n+  fi\n+#  output_dryrun | grep \"^dryrun:\" | sed 's/^dryrun://' > $tmpfil", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac4808cf91540a1130f2a9fadd98d2f54778ce1d"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a533288a79009e0e154dfd7c8b0d534624bfaa50", "author": {"user": null}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a533288a79009e0e154dfd7c8b0d534624bfaa50", "committedDate": "2020-09-10T15:24:58Z", "message": "update after Tom's review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDgxNjA1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#pullrequestreview-486081605", "createdAt": "2020-09-10T15:55:13Z", "commit": {"oid": "a533288a79009e0e154dfd7c8b0d534624bfaa50"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODkyOTgy", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1906#pullrequestreview-487892982", "createdAt": "2020-09-14T15:28:34Z", "commit": {"oid": "a533288a79009e0e154dfd7c8b0d534624bfaa50"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4120, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}