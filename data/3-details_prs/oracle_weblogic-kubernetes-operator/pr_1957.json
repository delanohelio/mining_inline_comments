{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0Mzk4Njc2", "number": 1957, "title": "Owls-84294 handle missing sa in operator install/upgrade", "bodyText": "Add validation in operator charts template for missing service account.\nModified the related doc area to match the new behavior..\nAdjusted the existing integration test case.\nIntegration test is clean on Jenkins (https://build.weblogick8s.org:8443/job/weblogic-kubernetes-operator-kind-new/2160/).", "createdAt": "2020-09-28T20:59:02Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957", "merged": true, "mergeCommit": {"oid": "92c9c4e804c610ccb218fda9e3fffc71fdb72887"}, "closed": true, "closedAt": "2020-09-29T16:06:15Z", "author": {"login": "doxiao"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLY8S9gH2gAyNDk0Mzk4Njc2OjViNzc5MGMwMDFhMzc1MTRjZjAwZDZjZjBiMTI1MjJhOTk5ZDYxZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNqdMWgFqTQ5ODY1MjA0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5b7790c001a37514cf00d6cf0b12522a999d61dd", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5b7790c001a37514cf00d6cf0b12522a999d61dd", "committedDate": "2020-09-22T14:33:59Z", "message": "check existence of sa in helm templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "230b670d5d7d2855d1ff729a7a0e1b779cde4109", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/230b670d5d7d2855d1ff729a7a0e1b779cde4109", "committedDate": "2020-09-23T20:34:14Z", "message": "Merge remote-tracking branch 'origin/develop' into owls84294-missing-sa-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db18d956168cec52c0b29f9846d1fb685ffddab9", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/db18d956168cec52c0b29f9846d1fb685ffddab9", "committedDate": "2020-09-24T21:36:13Z", "message": "minor product change plus test changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "255d4ce3b86fb4e22f5d29a6e63e56b352cb0e50", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/255d4ce3b86fb4e22f5d29a6e63e56b352cb0e50", "committedDate": "2020-09-24T21:40:39Z", "message": "Merge branch 'owls84294-missing-sa-upgrade' of https://github.com/oracle/weblogic-kubernetes-operator into owls84294-missing-sa-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42989e151356f87633ab551ee12f8e7fa2a22d02", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/42989e151356f87633ab551ee12f8e7fa2a22d02", "committedDate": "2020-09-24T22:20:40Z", "message": "minor changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "994e002e094ccaa01b1b111cc07818baac178ae3", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/994e002e094ccaa01b1b111cc07818baac178ae3", "committedDate": "2020-09-25T17:19:38Z", "message": "more changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1b8c8b46e9d77f7a71643cbaa39d81b05115a7b", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b1b8c8b46e9d77f7a71643cbaa39d81b05115a7b", "committedDate": "2020-09-25T17:35:42Z", "message": "more doc change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc2e1e4b40859b10a5af6ac7b93dfd2f126759c3", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/fc2e1e4b40859b10a5af6ac7b93dfd2f126759c3", "committedDate": "2020-09-28T02:33:55Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "403c3b98f5aa63512ca28714fe398cebf54f4508", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/403c3b98f5aa63512ca28714fe398cebf54f4508", "committedDate": "2020-09-28T02:44:49Z", "message": "minor doc change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/9b12f92500057ade7c460046d8b4e6eab88617de", "committedDate": "2020-09-28T13:43:37Z", "message": "fine tune doc text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3OTA2MTM0", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#pullrequestreview-497906134", "createdAt": "2020-09-28T21:23:24Z", "commit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMToyMzoyNFrOHZQIWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMToyMzoyNFrOHZQIWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI0MDczMQ==", "bodyText": "add message if it is null", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#discussion_r496240731", "createdAt": "2020-09-28T21:23:24Z", "author": {"login": "marinakog"}, "path": "integration-tests/src/test/java/oracle/weblogic/kubernetes/ItUsabilityOperatorHelmChart.java", "diffHunk": "@@ -724,8 +730,9 @@ public void testNotPreexistedOpServiceAccountCreateOperatorNegativeInstall() {\n                   condition.getRemainingTimeInMS()))\n           .until(assertDoesNotThrow(() -> operatorIsReady(op2Namespace),\n               \"operatorIsReady failed with ApiException\"));\n-      //comment it out due OWLS-84294, helm does not report failed status\n-      //assertNull(errorMsg, errorMsg);\n+\n+      // Helm reports error message status\n+      assertNotNull(errorMsg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b94aaf4e4450a7935b593d144b1f636a1266fd4", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/1b94aaf4e4450a7935b593d144b1f636a1266fd4", "committedDate": "2020-09-29T13:22:35Z", "message": "add error messagewq"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDYwODUz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#pullrequestreview-498460853", "createdAt": "2020-09-29T13:21:33Z", "commit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzoyMTozNFrOHZs1Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzozMTowOFrOHZtRsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxMDk5OA==", "bodyText": "Did this cross-ref change? In the 3.0.2 docs, I see https://oracle.github.io/weblogic-kubernetes-operator/userguide/managing-operators/#install-helm-and-tiller", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#discussion_r496710998", "createdAt": "2020-09-29T13:21:34Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/security/service-accounts.md", "diffHunk": "@@ -33,5 +33,5 @@ look for the `serviceAccount` value using the Helm command:\n $ helm get values --all weblogic-operator\n ```\n #### Additional reading\n-* [Helm service account]({{<relref \"userguide/managing-operators/_index.md#install-helm-and-tiller\">}})\n+* [Helm service account]({{<relref \"userguide/managing-operators/_index.md#install-helm\">}})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxODI1OQ==", "bodyText": "Helm charts validation error.-> Helm chart validation error.", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#discussion_r496718259", "createdAt": "2020-09-29T13:31:08Z", "author": {"login": "rosemarymarano"}, "path": "docs-source/content/userguide/managing-operators/using-the-operator/using-helm.md", "diffHunk": "@@ -76,6 +76,7 @@ This section describes the details of the operator Helm chart's available config\n \n ##### `serviceAccount`\n Specifies the name of the service account in the operator's namespace that the operator will use to make requests to the Kubernetes API server. You are responsible for creating the service account.\n+The `helm install` or `helm upgrade` command with a non-existing service account results in a Helm charts validation error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b12f92500057ade7c460046d8b4e6eab88617de"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e71c81c5627c42631a486bedada8bd6fbb23959", "author": {"user": {"login": "doxiao", "name": "Dongbo Xiao"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8e71c81c5627c42631a486bedada8bd6fbb23959", "committedDate": "2020-09-29T14:06:13Z", "message": "minor doc edit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NTEyNjc1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#pullrequestreview-498512675", "createdAt": "2020-09-29T14:10:27Z", "commit": {"oid": "8e71c81c5627c42631a486bedada8bd6fbb23959"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjUwNjAx", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#pullrequestreview-498650601", "createdAt": "2020-09-29T16:04:32Z", "commit": {"oid": "8e71c81c5627c42631a486bedada8bd6fbb23959"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjUyMDQ2", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1957#pullrequestreview-498652046", "createdAt": "2020-09-29T16:06:09Z", "commit": {"oid": "8e71c81c5627c42631a486bedada8bd6fbb23959"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4199, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}