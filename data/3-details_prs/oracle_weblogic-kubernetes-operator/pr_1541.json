{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5NzUyMjU3", "number": 1541, "title": "Assert improvements", "bodyText": "Handle NPE and set defaultClient", "createdAt": "2020-04-06T16:11:35Z", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1541", "merged": true, "mergeCommit": {"oid": "22575a85ff17c187dfe6c7debc580000ece35333"}, "closed": true, "closedAt": "2020-04-06T18:23:52Z", "author": {"login": "sankarpn"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUHpKmAH2gAyMzk5NzUyMjU3Ojk0ZGQwNWQ3ZDQ5MjYyZDU2Y2NiYzMwNTgzZGYxZjZmNmJhMzliNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVC2t2AFqTM4ODUwMzA0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "94dd05d7d49262d56ccbc30583df1f6f6ba39b75", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/94dd05d7d49262d56ccbc30583df1f6f6ba39b75", "committedDate": "2020-04-03T21:18:52Z", "message": "check for NPEs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3af080347bfdd97690828ffb23f640107ae1a9cc", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3af080347bfdd97690828ffb23f640107ae1a9cc", "committedDate": "2020-04-03T23:33:21Z", "message": "fix Domaina assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a121be2bdd3f3dc80631715bc641c20e02432c73", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a121be2bdd3f3dc80631715bc641c20e02432c73", "committedDate": "2020-04-06T16:08:00Z", "message": "Merge branch 'mii-new-integration-tests' of https://github.com/oracle/weblogic-kubernetes-operator into assert-improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NDY0Nzg5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1541#pullrequestreview-388464789", "createdAt": "2020-04-06T17:26:44Z", "commit": {"oid": "a121be2bdd3f3dc80631715bc641c20e02432c73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NDc0MDMw", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1541#pullrequestreview-388474030", "createdAt": "2020-04-06T17:38:36Z", "commit": {"oid": "a121be2bdd3f3dc80631715bc641c20e02432c73"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNzozODozNlrOGBivXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNzozODozNlrOGBivXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI3MDk0Mw==", "bodyText": "please make sure the assertions have failure messages", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1541#discussion_r404270943", "createdAt": "2020-04-06T17:38:36Z", "author": {"login": "markxnelson"}, "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/assertions/impl/Domain.java", "diffHunk": "@@ -3,37 +3,44 @@\n \n package oracle.weblogic.kubernetes.assertions.impl;\n \n+import java.io.IOException;\n import java.util.concurrent.Callable;\n \n import io.kubernetes.client.openapi.ApiException;\n-import io.kubernetes.client.openapi.apis.ApiextensionsV1Api;\n+import io.kubernetes.client.openapi.Configuration;\n import io.kubernetes.client.openapi.apis.ApiextensionsV1beta1Api;\n-import io.kubernetes.client.openapi.apis.ApisApi;\n import io.kubernetes.client.openapi.apis.CustomObjectsApi;\n import io.kubernetes.client.openapi.models.V1beta1CustomResourceDefinition;\n+import io.kubernetes.client.util.ClientBuilder;\n \n import static oracle.weblogic.kubernetes.extensions.LoggedTest.logger;\n import static org.junit.jupiter.api.Assertions.assertNotNull;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n \n public class Domain {\n \n-  private static CustomObjectsApi customObjectsApi = new CustomObjectsApi();\n-  private static ApiextensionsV1Api apiextensionsV1Api = new ApiextensionsV1Api();\n-  private static ApiextensionsV1beta1Api apiextensionsV1beta1Api = new ApiextensionsV1beta1Api();\n-  private static ApisApi apisApi = new ApisApi();\n+  static {\n+    try {\n+      Configuration.setDefaultApiClient(ClientBuilder.defaultClient());\n+    } catch (IOException ioex) {\n+      throw new ExceptionInInitializerError(ioex);\n+    }\n+  }\n \n+  private static final CustomObjectsApi customObjectsApi = new CustomObjectsApi();\n+  private static final ApiextensionsV1beta1Api apiextensionsV1beta1Api = new ApiextensionsV1beta1Api();\n \n   /**\n    * Check if the Domain CRD exists\n+   *\n    * @return true if domains.weblogic.oracle CRD exists otherwise false\n    * @throws ApiException when Domain CRD doesn't exist\n    */\n   public static boolean doesCRDExist() throws ApiException {\n     try {\n-      V1beta1CustomResourceDefinition domainBetaCrd =\n-          apiextensionsV1beta1Api.readCustomResourceDefinition(\n-              \"domains.weblogic.oracle\", null, null, null);\n+      V1beta1CustomResourceDefinition domainBetaCrd\n+          = apiextensionsV1beta1Api.readCustomResourceDefinition(\n+          \"domains.weblogic.oracle\", null, null, null);\n       assertNotNull(domainBetaCrd);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a121be2bdd3f3dc80631715bc641c20e02432c73"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcce1480905f3fb1c1d0db4d6e22f8ad2c94409d", "author": {"user": {"login": "sankarpn", "name": "Sankar Periyathambi Neelakandan"}}, "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/dcce1480905f3fb1c1d0db4d6e22f8ad2c94409d", "committedDate": "2020-04-06T17:58:48Z", "message": "Added assert message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTAzMDQz", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1541#pullrequestreview-388503043", "createdAt": "2020-04-06T18:18:04Z", "commit": {"oid": "dcce1480905f3fb1c1d0db4d6e22f8ad2c94409d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4994, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}