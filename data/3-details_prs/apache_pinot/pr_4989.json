{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMzEwNDg0", "number": 4989, "title": "Add documentation to fields of important query execution stats.", "bodyText": "Add documentation to fields of important query execution stats which are not clear from variable names.\nFix some typos.\nLeft some TODO for follow-ups documentations of query module.", "createdAt": "2020-01-15T19:55:07Z", "url": "https://github.com/apache/pinot/pull/4989", "merged": true, "mergeCommit": {"oid": "14d790f16e47cf64d8642ca8c76383c17d6f548a"}, "closed": true, "closedAt": "2020-01-27T18:28:10Z", "author": {"login": "chenboat"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6sk12AH2gAyMzYzMzEwNDg0OjcxZGYzY2JiOGQzY2E0YzA4NWY1ZTI0MWY5NjUyODNkOTZiNTA4ODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9kfl-AH2gAyMzYzMzEwNDg0Ojk0MDE3YjNiMDMxNzFmZWM4MjRhNzZiNWQ5YTBlZTZlOWIwOGVkZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/71df3cbb8d3ca4c085f5e241f965283d96b50883", "committedDate": "2020-01-15T21:38:36Z", "message": "Add documentation to fields of important query execution stats."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f505a03925b39c4572d6d7e5be102470ac798e0", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/5f505a03925b39c4572d6d7e5be102470ac798e0", "committedDate": "2020-01-15T19:50:06Z", "message": "Add documentation to fields of important query execution stats."}, "afterCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/71df3cbb8d3ca4c085f5e241f965283d96b50883", "committedDate": "2020-01-15T21:38:36Z", "message": "Add documentation to fields of important query execution stats."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MTAxMTky", "url": "https://github.com/apache/pinot/pull/4989#pullrequestreview-346101192", "createdAt": "2020-01-21T18:36:55Z", "commit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxODozNjo1NlrOFgEiTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxODo1MjoxM1rOFgFApg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3MzA3MQ==", "bodyText": "Remove the empty javadoc?", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369173071", "createdAt": "2020-01-21T18:36:56Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/dociditerators/SortedDocIdIterator.java", "diffHunk": "@@ -24,14 +24,12 @@\n \n \n public final class SortedDocIdIterator implements IndexBasedDocIdIterator {\n-  /**\n-   *\n-   */\n   private List<IntPair> pairs;\n   private String datasourceName;\n \n   /**\n-   * @param sortedDocIdSet\n+   * @param datasourceName", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3Njg3OQ==", "bodyText": "No need to scan values when filtering with inverted index", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369176879", "createdAt": "2020-01-21T18:44:18Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/BitmapDocIdSet.java", "diffHunk": "@@ -79,6 +79,7 @@ public void setEndDocId(int endDocId) {\n \n   @Override\n   public long getNumEntriesScannedInFilter() {\n+    // TODO: explain why there is no entries scanned in this filter.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3ODQ3OQ==", "bodyText": "Can you change the TODO to: Rename the class to MatchAllDocIdSet", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369178479", "createdAt": "2020-01-21T18:47:26Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/SizeBasedDocIdSet.java", "diffHunk": "@@ -21,7 +21,7 @@\n import org.apache.pinot.core.common.BlockDocIdIterator;\n import org.apache.pinot.core.operator.dociditerators.SizeBasedDocIdIterator;\n \n-\n+// TODO: javadoc this class.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3ODczNw==", "bodyText": "No need to scan values when filtering with sorted index", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369178737", "createdAt": "2020-01-21T18:47:59Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/SortedDocIdSet.java", "diffHunk": "@@ -77,6 +77,7 @@ public void setEndDocId(int endDocId) {\n \n   @Override\n   public long getNumEntriesScannedInFilter() {\n+    // TODO: explain return 0.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3OTM2OQ==", "bodyText": "No need to scan values when all values match the filter", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369179369", "createdAt": "2020-01-21T18:49:15Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/SizeBasedDocIdSet.java", "diffHunk": "@@ -49,6 +49,7 @@ public void setEndDocId(int endDocId) {\n \n   @Override\n   public long getNumEntriesScannedInFilter() {\n+    // TODO explain why return 0.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE4MDUyOQ==", "bodyText": "The number of entries (single-value entry contains one value, multi-value entry may contain multiple values) scanned ...", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369180529", "createdAt": "2020-01-21T18:51:35Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/ExecutionStatistics.java", "diffHunk": "@@ -22,8 +22,12 @@\n  * The <code>ExecutionStatistics</code> class contains the operator statistics during execution time.\n  */\n public class ExecutionStatistics {\n+  // The number of documents scanned post filtering.\n   private long _numDocsScanned;\n+  // The number of doc ids scanned in the filtering phase of the query execution: could be larger than the total doc num", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE4MDgzOA==", "bodyText": "Equal to numDocsScanned * numProjectedColumns", "url": "https://github.com/apache/pinot/pull/4989#discussion_r369180838", "createdAt": "2020-01-21T18:52:13Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/ExecutionStatistics.java", "diffHunk": "@@ -22,8 +22,12 @@\n  * The <code>ExecutionStatistics</code> class contains the operator statistics during execution time.\n  */\n public class ExecutionStatistics {\n+  // The number of documents scanned post filtering.\n   private long _numDocsScanned;\n+  // The number of doc ids scanned in the filtering phase of the query execution: could be larger than the total doc num\n+  // because of multiple filtering predicates.\n   private long _numEntriesScannedInFilter;\n+  // Equal to _numDocsScanned * number_of_projected_columns", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71df3cbb8d3ca4c085f5e241f965283d96b50883"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9be4b4eb8622a22aab68d1181246b74d242616b9", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/9be4b4eb8622a22aab68d1181246b74d242616b9", "committedDate": "2020-01-23T07:42:14Z", "message": "Revised based on comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTA0OTk1", "url": "https://github.com/apache/pinot/pull/4989#pullrequestreview-347504995", "createdAt": "2020-01-23T18:13:13Z", "commit": {"oid": "9be4b4eb8622a22aab68d1181246b74d242616b9"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMzoxM1rOFhH2Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNDoyNVrOFhH4Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTg5MA==", "bodyText": "The number of entries (single-value entry contains 1 value, multi-value entry may contain multiple values) scanned in the filtering phase of the query execution. Could be larger than the number of documents scanned because of multiple filtering predicates.", "url": "https://github.com/apache/pinot/pull/4989#discussion_r370275890", "createdAt": "2020-01-23T18:13:13Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/ExecutionStatistics.java", "diffHunk": "@@ -22,8 +22,13 @@\n  * The <code>ExecutionStatistics</code> class contains the operator statistics during execution time.\n  */\n public class ExecutionStatistics {\n+  // The number of documents scanned post filtering.\n   private long _numDocsScanned;\n+  // The number of entries (single value entry contains 1 entry, multi-value entry may contain multiple entries) in the\n+  // filtering phase of the query execution: could be larger than the total scanned doc num because of multiple\n+  // filtering predicates and multi-value entry.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be4b4eb8622a22aab68d1181246b74d242616b9"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NjE0Ng==", "bodyText": "Add TODO:", "url": "https://github.com/apache/pinot/pull/4989#discussion_r370276146", "createdAt": "2020-01-23T18:13:50Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/SizeBasedDocIdSet.java", "diffHunk": "@@ -21,7 +21,7 @@\n import org.apache.pinot.core.common.BlockDocIdIterator;\n import org.apache.pinot.core.operator.dociditerators.SizeBasedDocIdIterator;\n \n-\n+// Rename this class to MatchAllDocIdSet.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be4b4eb8622a22aab68d1181246b74d242616b9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NjM5NQ==", "bodyText": "matched", "url": "https://github.com/apache/pinot/pull/4989#discussion_r370276395", "createdAt": "2020-01-23T18:14:25Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/operator/docidsets/SizeBasedDocIdSet.java", "diffHunk": "@@ -49,6 +49,7 @@ public void setEndDocId(int endDocId) {\n \n   @Override\n   public long getNumEntriesScannedInFilter() {\n+    // No value scanned because all docs are matches and will be returned.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be4b4eb8622a22aab68d1181246b74d242616b9"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb5716abc444caf8d6a262cfad26f04cdefccdce", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/eb5716abc444caf8d6a262cfad26f04cdefccdce", "committedDate": "2020-01-24T07:13:46Z", "message": "Revised based on comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94017b3b03171fec824a76b5d9a0ee6e9b08edd5", "author": {"user": {"login": "chenboat", "name": "Ting Chen"}}, "url": "https://github.com/apache/pinot/commit/94017b3b03171fec824a76b5d9a0ee6e9b08edd5", "committedDate": "2020-01-24T19:55:24Z", "message": "Add a TODO for the entry semantic issue."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1482, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}