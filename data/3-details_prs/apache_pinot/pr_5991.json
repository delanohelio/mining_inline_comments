{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMDM2ODE5", "number": 5991, "title": "[TE] Moved interfaces and datalayer to a new thirdeye-spi module.", "bodyText": "[TE] Moved interfaces and datalayer to a new thirdeye-spi module.\nThe spi module is intended to be the parent module for all downstream thirdeye consumers.\nChanges in Phase 1:\n\nMoved datalayer and related interfaces to spi\nRefactored methods and removed dependencies to untangle some of the wiring\n\nThis is part of a multi-phase module refactor.", "createdAt": "2020-09-09T18:19:06Z", "url": "https://github.com/apache/pinot/pull/5991", "merged": true, "mergeCommit": {"oid": "0c1d6049802d7d4e2ff4c694e4160832c79a54eb"}, "closed": true, "closedAt": "2020-09-11T04:02:18Z", "author": {"login": "suvodeep-pyne"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHQc0kAH2gAyNDgzMDM2ODE5OjdlNjc4MmQxY2VhNjU4MjA2NjRlODI4NGUyOTcxNmY0OGYwM2Q0Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHruB7AFqTQ4NjQyNjc0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e6782d1cea65820664e8284e29716f48f03d437", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/7e6782d1cea65820664e8284e29716f48f03d437", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Moved interfaces and datalayer to a new thirdeye-spi module.\n\nThe spi module is intended to be the parent module for all downstream thirdeye consumers. This is part of a multi-phase module refactor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8562b017f665c4ebd6dfeb8df7133dab188333c9", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/8562b017f665c4ebd6dfeb8df7133dab188333c9", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Moving constants from DataFrameUtils to DataFrame"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "266ce905a85a7d7f8989500f825227ff4da55731", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/266ce905a85a7d7f8989500f825227ff4da55731", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Moved more classes to spi. Removed shallow dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38eca72a4ece77345960536552ca496ecf876887", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/38eca72a4ece77345960536552ca496ecf876887", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Fixed all compilation errors in thirdeye-spi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be2d1e1b0ef78906e861cd21c4c056b764dc6dea", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/be2d1e1b0ef78906e861cd21c4c056b764dc6dea", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Deleting unused class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "deccb359ad560fb9c6ba443784510ab08316f6b2", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/deccb359ad560fb9c6ba443784510ab08316f6b2", "committedDate": "2020-09-09T17:32:31Z", "message": "[TE] Deleting unused class"}, "afterCommit": {"oid": "be2d1e1b0ef78906e861cd21c4c056b764dc6dea", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/be2d1e1b0ef78906e861cd21c4c056b764dc6dea", "committedDate": "2020-09-09T18:24:40Z", "message": "[TE] Deleting unused class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e7e04e54663a87b2dbb68d8d1fd0f3cde98e551", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/5e7e04e54663a87b2dbb68d8d1fd0f3cde98e551", "committedDate": "2020-09-09T18:47:02Z", "message": "[TE] Created thirdeye-spi\n\nBuild fixes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/a37c3544d5008be5b32508e23375bc6883aa6796", "committedDate": "2020-09-09T19:03:48Z", "message": "[TE] Created thirdeye-spi\n\nBuild fixes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjM5MDI0", "url": "https://github.com/apache/pinot/pull/5991#pullrequestreview-486239024", "createdAt": "2020-09-10T19:17:20Z", "commit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxOToxNzoyMFrOHQCYjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxOTozMjozNFrOHQC3xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU3ODMxOA==", "bodyText": "You can use StringUtils from the commons.lang3?", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486578318", "createdAt": "2020-09-10T19:17:20Z", "author": {"login": "akshayrai"}, "path": "thirdeye/thirdeye-spi/src/main/java/org/apache/pinot/thirdeye/datalayer/pojo/AlertConfigBean.java", "diffHunk": "@@ -211,7 +211,7 @@ public String toString() {\n     String properties;\n \n     public String getType() {\n-      if (StringUtil.isBlank(type)) {\n+      if (isBlank(type)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4MDE1Mw==", "bodyText": "Why move this?", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486580153", "createdAt": "2020-09-10T19:20:39Z", "author": {"login": "akshayrai"}, "path": "thirdeye/thirdeye-spi/src/main/java/org/apache/pinot/thirdeye/datalayer/dto/AlertSnapshotDTO.java", "diffHunk": "@@ -80,48 +75,6 @@ public void setSnapshot(Multimap<String, AnomalyNotifiedStatus> snapshot) {\n     }\n   }\n \n-  public void updateSnapshot(DateTime alertTime, List<MergedAnomalyResultDTO> alertedAnomalies) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4MTU5MQ==", "bodyText": "Can you move these classes instead of deleting and recreating a new one?", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486581591", "createdAt": "2020-09-10T19:23:33Z", "author": {"login": "akshayrai"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/datalayer/dto/OnlineDetectionDataDTO.java", "diffHunk": "@@ -1,6 +0,0 @@\n-package org.apache.pinot.thirdeye.datalayer.dto;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4NDE3MA==", "bodyText": "I think this is needed for the travis build!\n+@vincentchenjl  FYI", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486584170", "createdAt": "2020-09-10T19:28:37Z", "author": {"login": "akshayrai"}, "path": "thirdeye/pom.xml", "diffHunk": "@@ -22,17 +22,18 @@\n   <modelVersion>4.0.0</modelVersion>\n   <groupId>org.apache.pinot.thirdeye</groupId>\n   <artifactId>thirdeye</artifactId>\n-  <version>${revision}${sha1}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4NTAyOA==", "bodyText": "Why lower the version? Shouldn't this be 2.0.0?", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486585028", "createdAt": "2020-09-10T19:30:18Z", "author": {"login": "akshayrai"}, "path": "thirdeye/pom.xml", "diffHunk": "@@ -22,17 +22,18 @@\n   <modelVersion>4.0.0</modelVersion>\n   <groupId>org.apache.pinot.thirdeye</groupId>\n   <artifactId>thirdeye</artifactId>\n-  <version>${revision}${sha1}</version>\n+  <version>0.1.0-SNAPSHOT</version>\n   <packaging>pom</packaging>\n   <name>thirdeye</name>\n \n   <modules>\n     <module>thirdeye-frontend</module>\n+    <module>thirdeye-spi</module>\n     <module>thirdeye-pinot</module>\n   </modules>\n \n   <properties>\n-    <revision>1.0.0</revision>\n+    <revision>0.1.0</revision>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4NjMwOA==", "bodyText": "Wouldn't it be better to define this at the respective levels? These are not required across all the modules right!", "url": "https://github.com/apache/pinot/pull/5991#discussion_r486586308", "createdAt": "2020-09-10T19:32:34Z", "author": {"login": "akshayrai"}, "path": "thirdeye/pom.xml", "diffHunk": "@@ -543,6 +550,17 @@\n         <artifactId>log4j-slf4j-impl</artifactId>\n         <version>${log4j2.version}</version>\n       </dependency>\n+      <dependency>\n+        <groupId>org.apache.commons</groupId>\n+        <artifactId>commons-lang3</artifactId>\n+        <version>${commons-lang3.version}</version>\n+      </dependency>\n+      <dependency>\n+        <groupId>org.apache.commons</groupId>\n+        <artifactId>commons-math</artifactId>\n+        <version>2.1</version>\n+      </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a37c3544d5008be5b32508e23375bc6883aa6796"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "861d7e8d176f3f11a307fe1ae71d1c6e79d0ccb5", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/861d7e8d176f3f11a307fe1ae71d1c6e79d0ccb5", "committedDate": "2020-09-10T23:47:16Z", "message": "[TE] Refactor. Using StringUtils from commons-lang3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42dd22bd5f966b5cc7793db52169796058855562", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/42dd22bd5f966b5cc7793db52169796058855562", "committedDate": "2020-09-10T23:47:47Z", "message": "[TE] Restoring version in pom files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NDI2NzQ4", "url": "https://github.com/apache/pinot/pull/5991#pullrequestreview-486426748", "createdAt": "2020-09-11T02:10:54Z", "commit": {"oid": "42dd22bd5f966b5cc7793db52169796058855562"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}