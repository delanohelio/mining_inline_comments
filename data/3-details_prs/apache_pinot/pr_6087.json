{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1OTMwMjIy", "number": 6087, "title": "Fix StarTreeClusterIntegrationTest by not removing the segments", "bodyText": "We need to keep the tarred segments for segment metadata push to work", "createdAt": "2020-10-01T03:53:41Z", "url": "https://github.com/apache/pinot/pull/6087", "merged": true, "mergeCommit": {"oid": "14332cddc7336c549487c416aa84f43ded6f028a"}, "closed": true, "closedAt": "2020-10-01T04:49:31Z", "author": {"login": "Jackie-Jiang"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOJKpagH2gAyNDk1OTMwMjIyOmU2MDZiOTQ5MDY3YWY0MjlhNWMzZjExMjUxYTRiMmViM2RjYjE5NmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOJ-W_AFqTUwMDAwNjI2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e606b949067af429a5c3f11251a4b2eb3dcb196a", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/e606b949067af429a5c3f11251a4b2eb3dcb196a", "committedDate": "2020-10-01T03:52:57Z", "message": "Fix StarTreeClusterIntegrationTest by not removing the segments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5OTkyNjA0", "url": "https://github.com/apache/pinot/pull/6087#pullrequestreview-499992604", "createdAt": "2020-10-01T03:56:44Z", "commit": {"oid": "e606b949067af429a5c3f11251a4b2eb3dcb196a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwMzo1Njo0NFrOHa5rbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwMzo1Njo0NFrOHa5rbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk3MDAyOA==", "bodyText": "shall this be starTreeTableTarDir or it doesn't matter?", "url": "https://github.com/apache/pinot/pull/6087#discussion_r497970028", "createdAt": "2020-10-01T03:56:44Z", "author": {"login": "xiangfu0"}, "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/StarTreeClusterIntegrationTest.java", "diffHunk": "@@ -135,14 +140,15 @@ public void setUp()\n     List<File> avroFiles = unpackAvroData(_tempDir);\n \n     // Create and upload segments\n-    ClusterIntegrationTestUtils.buildSegmentsFromAvro(avroFiles, defaultTableConfig, schema, 0, _segmentDir, _tarDir);\n-    uploadSegments(DEFAULT_TABLE_NAME, _tarDir);\n-    TestUtils.ensureDirectoriesExistAndEmpty(_segmentDir, _tarDir);\n-    ClusterIntegrationTestUtils.buildSegmentsFromAvro(avroFiles, starTreeTableConfig, schema, 0, _segmentDir, _tarDir);\n-    uploadSegments(STAR_TREE_TABLE_NAME, _tarDir);\n+    ClusterIntegrationTestUtils\n+        .buildSegmentsFromAvro(avroFiles, defaultTableConfig, schema, 0, defaultTableSegmentDir, defaultTableTarDir);\n+    uploadSegments(DEFAULT_TABLE_NAME, defaultTableTarDir);\n+    ClusterIntegrationTestUtils\n+        .buildSegmentsFromAvro(avroFiles, starTreeTableConfig, schema, 0, starTreeTableSegmentDir, starTreeTableTarDir);\n+    uploadSegments(STAR_TREE_TABLE_NAME, starTreeTableTarDir);\n \n     // Set up the query generators\n-    SegmentInfoProvider segmentInfoProvider = new SegmentInfoProvider(_tarDir.getPath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e606b949067af429a5c3f11251a4b2eb3dcb196a"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMDA2MjY4", "url": "https://github.com/apache/pinot/pull/6087#pullrequestreview-500006268", "createdAt": "2020-10-01T04:49:26Z", "commit": {"oid": "e606b949067af429a5c3f11251a4b2eb3dcb196a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1502, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}