{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0ODIxMTAy", "number": 5465, "title": "Support distinctCountRawThetaSketch aggregation that returns serialized sketch.", "bodyText": "Support a variation of theta sketch based distinct count aggregation function that returns\nserialized bytes of the final aggregated sketch, instead of the actual distinct value.\n\n\nThe return value is hex encoded String of the serialized sketch bytes. This can be\ndeserialized at the client side by the library using org.apache.commons.codec.binary as:\nHex.decodeHex(stringValue.toCharArray()). This is the same as any other byte[] value\nreturned by Pinot.\n\n\nAdded unit test for the new aggregation function.", "createdAt": "2020-05-29T00:29:08Z", "url": "https://github.com/apache/pinot/pull/5465", "merged": true, "mergeCommit": {"oid": "01a316ef16001786acddefa1d4334d0eb1b86689"}, "closed": true, "closedAt": "2020-05-31T04:56:06Z", "author": {"login": "mayankshriv"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl3U4aAH2gAyNDI0ODIxMTAyOmI5ZjIyNzIwNzMyMWI1NDkwNTAyZTIyNDRjMzA1ZGU0YmE5OGM5Mjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmHnxhgFqTQyMTIyNTkwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b9f227207321b5490502e2244c305de4ba98c927", "author": {"user": {"login": "mayankshriv", "name": "Mayank Shrivastava"}}, "url": "https://github.com/apache/pinot/commit/b9f227207321b5490502e2244c305de4ba98c927", "committedDate": "2020-05-29T00:28:52Z", "message": "Support distinctCountRawThetaSketch aggregation that returns serialized sketch.\n\n1. Support a variation of theta sketch based distinct count aggregation function that returns\n   serialized bytes of the final aggregated sketch, instead of the actual distinct value.\n\n2. The return value is hex encoded String of the serialized sketch bytes. This can be\n   deserialized at the client side by the library using org.apache.commons.codec.binary as:\n   `Hex.decodeHex(stringValue.toCharArray())`. This is the same as any other byte[] value\n   returned by Pinot.\n\n3. Added unit test for the new aggregation function."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMjI1OTA3", "url": "https://github.com/apache/pinot/pull/5465#pullrequestreview-421225907", "createdAt": "2020-05-29T19:26:57Z", "commit": {"oid": "b9f227207321b5490502e2244c305de4ba98c927"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxOToyNjo1N1rOGcpSjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxOToyNjo1N1rOGcpSjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY4OTgwNw==", "bodyText": "this should not be called distinctCount right, you can do anything with thetasketch. maybe just RAWTHETASKETCH", "url": "https://github.com/apache/pinot/pull/5465#discussion_r432689807", "createdAt": "2020-05-29T19:26:57Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/query/aggregation/function/AggregationFunctionFactory.java", "diffHunk": "@@ -137,6 +137,8 @@ public static AggregationFunction getAggregationFunction(AggregationInfo aggrega\n             return new FastHLLAggregationFunction(column);\n           case DISTINCTCOUNTTHETASKETCH:\n             return new DistinctCountThetaSketchAggregationFunction(arguments);\n+          case DISTINCTCOUNTRAWTHETASKETCH:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9f227207321b5490502e2244c305de4ba98c927"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 865, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}