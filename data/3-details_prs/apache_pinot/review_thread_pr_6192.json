{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMzQxNjEz", "number": 6192, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoxNzoyN1rOEzCWvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoxOToxOVrOEzCYcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxOTUxNDIwOnYy", "diffSide": "RIGHT", "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/ClusterIntegrationTestUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoxNzoyN1rOHqA7Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoyMzo1N1rOHqBDzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxNzQzMQ==", "bodyText": "Can you add the issue number here? thanks", "url": "https://github.com/apache/pinot/pull/6192#discussion_r513817431", "createdAt": "2020-10-28T23:17:27Z", "author": {"login": "mcvsubbu"}, "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/ClusterIntegrationTestUtils.java", "diffHunk": "@@ -859,7 +859,9 @@ static void testSqlQuery(String pinotQuery, String brokerUrl, org.apache.pinot.c\n     BrokerRequest brokerRequest =\n         PinotQueryParserFactory.get(CommonConstants.Broker.Request.SQL).compileToBrokerRequest(pinotQuery);\n     if (isSelectionQuery(brokerRequest)) { // selection\n-      // TODO: compare results for selection queries, w/o order by\n+      // TODO: 1. compare results for selection queries, w/o order by.\n+      //       2. validate values of multi-value columns.\n+      //       3. remove the restriction that order by column has to be in selection clause.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe3ca033ac194795d2aa48fbfb1f7cd7227e6ea1"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxOTU5Ng==", "bodyText": "I can add the issue number in the commit.", "url": "https://github.com/apache/pinot/pull/6192#discussion_r513819596", "createdAt": "2020-10-28T23:23:57Z", "author": {"login": "jackjlli"}, "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/ClusterIntegrationTestUtils.java", "diffHunk": "@@ -859,7 +859,9 @@ static void testSqlQuery(String pinotQuery, String brokerUrl, org.apache.pinot.c\n     BrokerRequest brokerRequest =\n         PinotQueryParserFactory.get(CommonConstants.Broker.Request.SQL).compileToBrokerRequest(pinotQuery);\n     if (isSelectionQuery(brokerRequest)) { // selection\n-      // TODO: compare results for selection queries, w/o order by\n+      // TODO: 1. compare results for selection queries, w/o order by.\n+      //       2. validate values of multi-value columns.\n+      //       3. remove the restriction that order by column has to be in selection clause.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxNzQzMQ=="}, "originalCommit": {"oid": "fe3ca033ac194795d2aa48fbfb1f7cd7227e6ea1"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxOTUxODU3OnYy", "diffSide": "RIGHT", "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/BaseClusterIntegrationTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoxOToxOVrOHqA9ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzoyMjozOFrOHqBCOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxODA1MQ==", "bodyText": "Why not make this \"sql\"? We will phase out pql anyway, so we can start doing this via sql all ths time?", "url": "https://github.com/apache/pinot/pull/6192#discussion_r513818051", "createdAt": "2020-10-28T23:19:19Z", "author": {"login": "mcvsubbu"}, "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/BaseClusterIntegrationTest.java", "diffHunk": "@@ -478,7 +479,8 @@ protected void stopKafka() {\n    */\n   protected long getCurrentCountStarResult()\n       throws Exception {\n-    return getPinotConnection().execute(\"SELECT COUNT(*) FROM \" + getTableName()).getResultSet(0).getLong(0);\n+    return getPinotConnection().execute(new Request(\"pql\", \"SELECT COUNT(*) FROM \" + getTableName())).getResultSet(0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe3ca033ac194795d2aa48fbfb1f7cd7227e6ea1"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxOTE5NQ==", "bodyText": "Ah ok, looks like this is deprecated.", "url": "https://github.com/apache/pinot/pull/6192#discussion_r513819195", "createdAt": "2020-10-28T23:22:38Z", "author": {"login": "mcvsubbu"}, "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/BaseClusterIntegrationTest.java", "diffHunk": "@@ -478,7 +479,8 @@ protected void stopKafka() {\n    */\n   protected long getCurrentCountStarResult()\n       throws Exception {\n-    return getPinotConnection().execute(\"SELECT COUNT(*) FROM \" + getTableName()).getResultSet(0).getLong(0);\n+    return getPinotConnection().execute(new Request(\"pql\", \"SELECT COUNT(*) FROM \" + getTableName())).getResultSet(0)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxODA1MQ=="}, "originalCommit": {"oid": "fe3ca033ac194795d2aa48fbfb1f7cd7227e6ea1"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3796, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}