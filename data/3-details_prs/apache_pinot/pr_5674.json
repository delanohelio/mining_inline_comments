{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2OTIzMzQ2", "number": 5674, "title": "Pinot fs bug fix", "bodyText": "This PR aims to be merged into branch pinot-fs-bug-fix to contribute on PR 5669", "createdAt": "2020-07-09T15:10:17Z", "url": "https://github.com/apache/pinot/pull/5674", "merged": true, "mergeCommit": {"oid": "e3900cf3521fde11f115d2aaecb6204894ed8a67"}, "closed": true, "closedAt": "2020-07-10T14:28:38Z", "author": {"login": "daniellavoie"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczQVsoAH2gAyNDQ2OTIzMzQ2Ojk4MGE4YWM2Y2EzN2IyNmYxMGI1ZTBkZDg0Mzc5ZDZlMDNjZGQyOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczRSLuAFqTQ0NTc1OTgxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "980a8ac6ca37b26f10b5e0dd84379d6e03cdd28f", "author": {"user": {"login": "daniellavoie", "name": "Daniel Lavoie"}}, "url": "https://github.com/apache/pinot/commit/980a8ac6ca37b26f10b5e0dd84379d6e03cdd28f", "committedDate": "2020-07-09T14:58:24Z", "message": "Fixed missing registration for Hadoop JobRunner\n\n* Caused by Phase 1 of configuration refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7532645de4fafabec6ad9e4332d8293dee00421", "author": {"user": {"login": "daniellavoie", "name": "Daniel Lavoie"}}, "url": "https://github.com/apache/pinot/commit/e7532645de4fafabec6ad9e4332d8293dee00421", "committedDate": "2020-07-09T15:00:48Z", "message": "Fixed base configuration constructor for PinotConfiguration\n\n* Fixed the PinotConfiguration constructor that accepts a Commons\nConfiguration.\n* Full test coverage of PinotConfiguration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzUxOTYz", "url": "https://github.com/apache/pinot/pull/5674#pullrequestreview-445751963", "createdAt": "2020-07-09T15:54:15Z", "commit": {"oid": "e7532645de4fafabec6ad9e4332d8293dee00421"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo1NDoxNlrOGvXfLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo1NDoxNlrOGvXfLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyMTA3MQ==", "bodyText": "Thanks for adding these unit tests. Wondering if we can also exercise the various code paths that perform different subsettings (eg for PinotFS, Crypter, Server, etc) with tests?", "url": "https://github.com/apache/pinot/pull/5674#discussion_r452321071", "createdAt": "2020-07-09T15:54:16Z", "author": {"login": "mayankshriv"}, "path": "pinot-spi/src/test/java/org/apache/pinot/spi/env/PinotConfigurationTest.java", "diffHunk": "@@ -24,24 +24,116 @@\n import java.nio.file.Files;\n import java.nio.file.Paths;\n import java.nio.file.StandardCopyOption;\n+import java.util.Arrays;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n \n+import org.apache.commons.configuration.ConfigurationException;\n+import org.apache.commons.configuration.PropertiesConfiguration;\n+import org.apache.pinot.spi.ingestion.batch.spec.PinotFSSpec;\n import org.testng.Assert;\n import org.testng.annotations.Test;\n \n \n public class PinotConfigurationTest {\n+\n+  @Test\n+  public void assertBaseOperations() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7532645de4fafabec6ad9e4332d8293dee00421"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzU5ODE0", "url": "https://github.com/apache/pinot/pull/5674#pullrequestreview-445759814", "createdAt": "2020-07-09T16:03:30Z", "commit": {"oid": "e7532645de4fafabec6ad9e4332d8293dee00421"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNjowMzozMFrOGvX2Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNjowMzozMFrOGvX2Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyNjk1MQ==", "bodyText": "can we delete the constructor from PinotConfiguration\npublic PinotConfiguration(PinotFSSpec pinotFSSpec) {\n      }", "url": "https://github.com/apache/pinot/pull/5674#discussion_r452326951", "createdAt": "2020-07-09T16:03:30Z", "author": {"login": "kishoreg"}, "path": "pinot-plugins/pinot-batch-ingestion/pinot-batch-ingestion-hadoop/src/main/java/org/apache/pinot/plugin/ingestion/batch/hadoop/HadoopSegmentGenerationJobRunner.java", "diffHunk": "@@ -132,7 +132,7 @@ public void run()\n     //init all file systems\n     List<PinotFSSpec> pinotFSSpecs = _spec.getPinotFSSpecs();\n     for (PinotFSSpec pinotFSSpec : pinotFSSpecs) {\n-      new PinotConfiguration(pinotFSSpec);\n+      PinotFSFactory.register(pinotFSSpec.getScheme(), pinotFSSpec.getClassName(), new PinotConfiguration(pinotFSSpec));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7532645de4fafabec6ad9e4332d8293dee00421"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 312, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}