{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDg1NzU3", "number": 5355, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjowNTo1OFrOD7a6yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjoxNTowOFrOD7bEMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNjMzNjA4OnYy", "diffSide": "RIGHT", "path": "pinot-common/src/test/java/org/apache/pinot/common/data/FieldSpecTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjowNTo1OFrOGTvD_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjowNTo1OFrOGTvD_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM0NzE5Ng==", "bodyText": "Can you rename these variables?", "url": "https://github.com/apache/pinot/pull/5355#discussion_r423347196", "createdAt": "2020-05-11T22:05:58Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-common/src/test/java/org/apache/pinot/common/data/FieldSpecTest.java", "diffHunk": "@@ -132,72 +132,28 @@ public void testFieldSpec() {\n   @Test\n   public void testTimeFieldSpecConstructor() {\n     String incomingName = \"incoming\";\n-    FieldSpec.DataType incomingDataType = LONG;\n     TimeUnit incomingTimeUnit = TimeUnit.HOURS;\n     int incomingTimeUnitSize = 1;\n     TimeGranularitySpec incomingTimeGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n+        new TimeGranularitySpec(LONG, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n     String outgoingName = \"outgoing\";\n-    FieldSpec.DataType outgoingDataType = INT;\n     TimeUnit outgoingTimeUnit = TimeUnit.DAYS;\n     int outgoingTimeUnitSize = 1;\n     TimeGranularitySpec outgoingTimeGranularitySpec =\n-        new TimeGranularitySpec(outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n+        new TimeGranularitySpec(INT, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n     int defaultNullValue = 17050;\n-\n-    TimeFieldSpec timeFieldSpec1 = new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnit);\n-    TimeFieldSpec timeFieldSpec2 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnit, defaultNullValue);\n-    TimeFieldSpec timeFieldSpec3 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnit, outgoingName, outgoingDataType,\n-            outgoingTimeUnit);\n-    TimeFieldSpec timeFieldSpec4 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnit, outgoingName, outgoingDataType,\n-            outgoingTimeUnit, defaultNullValue);\n-    TimeFieldSpec timeFieldSpec5 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnitSize, incomingTimeUnit);\n-    TimeFieldSpec timeFieldSpec6 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnitSize, incomingTimeUnit, defaultNullValue);\n-    TimeFieldSpec timeFieldSpec7 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnitSize, incomingTimeUnit, outgoingName,\n-            outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit);\n-    TimeFieldSpec timeFieldSpec8 =\n-        new TimeFieldSpec(incomingName, incomingDataType, incomingTimeUnitSize, incomingTimeUnit, outgoingName,\n-            outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, defaultNullValue);\n     TimeFieldSpec timeFieldSpec9 = new TimeFieldSpec(incomingTimeGranularitySpec);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6a64e1c6e8c4119f299d0d6f206bdb062338a0c"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNjM1NTE4OnYy", "diffSide": "RIGHT", "path": "pinot-spi/src/main/java/org/apache/pinot/spi/data/TimeFieldSpec.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjoxMzoxM1rOGTvPWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjozMDoxOVrOGTvpxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1MDEwNg==", "bodyText": "We don't allow null for time, so you can remove the APIs with defaultNullValue as well", "url": "https://github.com/apache/pinot/pull/5355#discussion_r423350106", "createdAt": "2020-05-11T22:13:13Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/data/TimeFieldSpec.java", "diffHunk": "@@ -38,65 +38,6 @@ public TimeFieldSpec() {\n     super();\n   }\n \n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit) {\n-    super(incomingName, incomingDataType, true);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit,\n-      Object defaultNullValue) {\n-    super(incomingName, incomingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit, String outgoingName,\n-      DataType outgoingDataType, TimeUnit outgoingTimeUnit) {\n-    super(outgoingName, outgoingDataType, true);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec = new TimeGranularitySpec(outgoingDataType, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit, String outgoingName,\n-      DataType outgoingDataType, TimeUnit outgoingTimeUnit, Object defaultNullValue) {\n-    super(outgoingName, outgoingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec = new TimeGranularitySpec(outgoingDataType, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit) {\n-    super(incomingName, incomingDataType, true);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, Object defaultNullValue) {\n-    super(incomingName, incomingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, String outgoingName, DataType outgoingDataType, int outgoingTimeUnitSize,\n-      TimeUnit outgoingTimeUnit) {\n-    super(outgoingName, outgoingDataType, true);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec =\n-        new TimeGranularitySpec(outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, String outgoingName, DataType outgoingDataType, int outgoingTimeUnitSize,\n-      TimeUnit outgoingTimeUnit, Object defaultNullValue) {\n-    super(outgoingName, outgoingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec =\n-        new TimeGranularitySpec(outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n-  }\n-\n   public TimeFieldSpec(TimeGranularitySpec incomingGranularitySpec) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6a64e1c6e8c4119f299d0d6f206bdb062338a0c"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1Njg3MA==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5355#discussion_r423356870", "createdAt": "2020-05-11T22:30:19Z", "author": {"login": "npawar"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/data/TimeFieldSpec.java", "diffHunk": "@@ -38,65 +38,6 @@ public TimeFieldSpec() {\n     super();\n   }\n \n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit) {\n-    super(incomingName, incomingDataType, true);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit,\n-      Object defaultNullValue) {\n-    super(incomingName, incomingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit, String outgoingName,\n-      DataType outgoingDataType, TimeUnit outgoingTimeUnit) {\n-    super(outgoingName, outgoingDataType, true);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec = new TimeGranularitySpec(outgoingDataType, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, TimeUnit incomingTimeUnit, String outgoingName,\n-      DataType outgoingDataType, TimeUnit outgoingTimeUnit, Object defaultNullValue) {\n-    super(outgoingName, outgoingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec = new TimeGranularitySpec(incomingDataType, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec = new TimeGranularitySpec(outgoingDataType, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit) {\n-    super(incomingName, incomingDataType, true);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, Object defaultNullValue) {\n-    super(incomingName, incomingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, String outgoingName, DataType outgoingDataType, int outgoingTimeUnitSize,\n-      TimeUnit outgoingTimeUnit) {\n-    super(outgoingName, outgoingDataType, true);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec =\n-        new TimeGranularitySpec(outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n-  }\n-\n-  public TimeFieldSpec(String incomingName, DataType incomingDataType, int incomingTimeUnitSize,\n-      TimeUnit incomingTimeUnit, String outgoingName, DataType outgoingDataType, int outgoingTimeUnitSize,\n-      TimeUnit outgoingTimeUnit, Object defaultNullValue) {\n-    super(outgoingName, outgoingDataType, true, defaultNullValue);\n-    _incomingGranularitySpec =\n-        new TimeGranularitySpec(incomingDataType, incomingTimeUnitSize, incomingTimeUnit, incomingName);\n-    _outgoingGranularitySpec =\n-        new TimeGranularitySpec(outgoingDataType, outgoingTimeUnitSize, outgoingTimeUnit, outgoingName);\n-  }\n-\n   public TimeFieldSpec(TimeGranularitySpec incomingGranularitySpec) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1MDEwNg=="}, "originalCommit": {"oid": "c6a64e1c6e8c4119f299d0d6f206bdb062338a0c"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNjM2MDE4OnYy", "diffSide": "RIGHT", "path": "pinot-tools/src/main/java/org/apache/pinot/tools/streams/AirlineDataStream.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjoxNTowOFrOGTvSZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMjozMDoyN1rOGTvp-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1MDg4NQ==", "bodyText": "Conceptually this should be the incoming name", "url": "https://github.com/apache/pinot/pull/5355#discussion_r423350885", "createdAt": "2020-05-11T22:15:08Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-tools/src/main/java/org/apache/pinot/tools/streams/AirlineDataStream.java", "diffHunk": "@@ -125,7 +125,7 @@ public void run() {\n             }\n \n             TimeFieldSpec spec = pinotSchema.getTimeFieldSpec();\n-            String timeColumn = spec.getIncomingTimeColumnName();\n+            String timeColumn = spec.getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6a64e1c6e8c4119f299d0d6f206bdb062338a0c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1NjkyMQ==", "bodyText": "changed", "url": "https://github.com/apache/pinot/pull/5355#discussion_r423356921", "createdAt": "2020-05-11T22:30:27Z", "author": {"login": "npawar"}, "path": "pinot-tools/src/main/java/org/apache/pinot/tools/streams/AirlineDataStream.java", "diffHunk": "@@ -125,7 +125,7 @@ public void run() {\n             }\n \n             TimeFieldSpec spec = pinotSchema.getTimeFieldSpec();\n-            String timeColumn = spec.getIncomingTimeColumnName();\n+            String timeColumn = spec.getName();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM1MDg4NQ=="}, "originalCommit": {"oid": "c6a64e1c6e8c4119f299d0d6f206bdb062338a0c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3256, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}