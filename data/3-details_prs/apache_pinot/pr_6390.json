{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2MjgyMDQ0", "number": 6390, "title": "Adding more rolling file log4j2 configs for docker images", "bodyText": "Description\nAdding more rolling file log4j2 configs for pinot docker image.\n\nrolling file-based log\nconfigurable log directory though environment variable.", "createdAt": "2020-12-29T00:42:46Z", "url": "https://github.com/apache/pinot/pull/6390", "merged": true, "mergeCommit": {"oid": "4ea345d229215098ae0e15ad8781fea47e1b0902"}, "closed": true, "closedAt": "2020-12-29T03:04:11Z", "author": {"login": "xiangfu0"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqvyGfgH2gAyNTQ2MjgyMDQ0OjFlOGIzNGJiNmY0ZTRkNTcwNzZiNTUyYWE4ZTRkNThkMGQzZWE5Y2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqxzrdgH2gAyNTQ2MjgyMDQ0OmU0M2Q4MjdjZmM5NzRiNWQzNWIyYjg5MmIxZDE5NWQwMGMyMTcyYTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e8b34bb6f4e4d57076b552aa8e4d58d0d3ea9cf", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/1e8b34bb6f4e4d57076b552aa8e4d58d0d3ea9cf", "committedDate": "2020-12-29T00:42:19Z", "message": "Adding more rolling file log4j2 configs for docker images"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MzU5MzI4", "url": "https://github.com/apache/pinot/pull/6390#pullrequestreview-559359328", "createdAt": "2020-12-29T02:40:18Z", "commit": {"oid": "1e8b34bb6f4e4d57076b552aa8e4d58d0d3ea9cf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQwMjo0MDoxOFrOIMFt9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQwMjo0MDoxOFrOIMFt9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU0NzUwOA==", "bodyText": "(nit) new line", "url": "https://github.com/apache/pinot/pull/6390#discussion_r549547508", "createdAt": "2020-12-29T02:40:18Z", "author": {"login": "Jackie-Jiang"}, "path": "docker/images/pinot/etc/conf/pinot-controller-log4j2.xml", "diffHunk": "@@ -0,0 +1,61 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+\n+-->\n+<Configuration>\n+  <Properties>\n+    <Property name=\"LOG_DIR\">logs/pinotController</Property>\n+  </Properties>\n+  <Appenders>\n+    <Console name=\"console\" target=\"SYSTEM_OUT\">\n+      <PatternLayout>\n+        <pattern>%d{yyyy/MM/dd HH:mm:ss.SSS} %p [%c{1}] [%t] %m%n</pattern>\n+      </PatternLayout>\n+    </Console>\n+    <RollingFile\n+        name=\"controllerLog\"\n+        fileName=\"${env:LOG_DIR}/pinotController.log\"\n+        filePattern=\"${env:LOG_DIR}/pinotController.%d{yyyy-MM-dd}.%i.log.gz\"\n+        immediateFlush=\"false\">\n+      <PatternLayout>\n+        <Pattern>%d{yyyy/MM/dd HH:mm:ss.SSS} %p [%c{1}] [%t] %m%n</Pattern>\n+      </PatternLayout>\n+      <Policies>\n+        <OnStartupTriggeringPolicy />\n+        <SizeBasedTriggeringPolicy size=\"20 MB\" />\n+        <TimeBasedTriggeringPolicy />\n+      </Policies>\n+      <DefaultRolloverStrategy max=\"10\" />\n+    </RollingFile>\n+  </Appenders>\n+  <Loggers>\n+    <Root level=\"info\" additivity=\"false\">\n+      <!-- Display warnings on the console -->\n+      <AppenderRef ref=\"console\" level=\"warn\"/>\n+      <!-- Direct most logs to the log file -->\n+      <AppenderRef ref=\"controllerLog\"/>\n+    </Root>\n+    <!-- Output controller starter logs to the console -->\n+    <Logger name=\"org.apache.pinot.controller.ControllerStarter\" level=\"info\" additivity=\"false\">\n+      <AppenderRef ref=\"console\"/>\n+    </Logger>\n+    <AsyncLogger name=\"org.reflections\" level=\"error\" additivity=\"false\"/>\n+  </Loggers>\n+</Configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e8b34bb6f4e4d57076b552aa8e4d58d0d3ea9cf"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e43d827cfc974b5d35b2b892b1d195d00c2172a6", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/e43d827cfc974b5d35b2b892b1d195d00c2172a6", "committedDate": "2020-12-29T03:03:51Z", "message": "Update pinot-controller-log4j2.xml"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1702, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}