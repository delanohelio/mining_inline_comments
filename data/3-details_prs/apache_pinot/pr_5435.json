{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMTgzNjYx", "number": 5435, "title": "[TE] clean up decprecated/unused code", "bodyText": "Clean up deprecated code\n\n\nRefactor a bit to remove class dependency", "createdAt": "2020-05-23T00:42:38Z", "url": "https://github.com/apache/pinot/pull/5435", "merged": true, "mergeCommit": {"oid": "7ac4cd23dc43254b9c5cf83b4976ae46278c6400"}, "closed": true, "closedAt": "2020-06-04T15:38:39Z", "author": {"login": "vincentchenjl"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj74uDgH2gAyNDIyMTgzNjYxOjI5MzNjNDhiNGFmNmEyN2NiYTE4MmJmZDU4NzliNWU4MmQzOTdmZTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn_7xVAFqTQyNDU4MDkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/2933c48b4af6a27cba182bfd5879b5e82d397fe3", "committedDate": "2020-05-23T00:39:47Z", "message": "[TE] clean up decprecated/unused code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MjQzMjM3", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-417243237", "createdAt": "2020-05-23T02:32:00Z", "commit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MzI5Nzc0", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-417329774", "createdAt": "2020-05-24T06:10:17Z", "commit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQwNjoxMDoxN1rOGZs4Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQwNjoxOTo1M1rOGZs6wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMjg4Mw==", "bodyText": "initAnomalyClassifierFactory, initAlertFilterFactory could be deleted.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429602883", "createdAt": "2020-05-24T06:10:17Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/ThirdEyeAnomalyApplication.java", "diffHunk": "@@ -273,9 +224,4 @@ private void initAnomalyClassifierFactory(String anomalyClassifierConfigPath) {\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzEwNQ==", "bodyText": "anomalyClassifierFactory not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603105", "createdAt": "2020-05-24T06:13:22Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/ThirdEyeAnomalyApplication.java", "diffHunk": "@@ -61,18 +54,12 @@\n public class ThirdEyeAnomalyApplication\n     extends BaseThirdEyeApplication<ThirdEyeAnomalyConfiguration> {\n \n-  private DetectionJobScheduler detectionJobScheduler = null;\n   private TaskDriver taskDriver = null;\n   private MonitorJobScheduler monitorJobScheduler = null;\n-  private AlertJobSchedulerV2 alertJobSchedulerV2;\n   private AnomalyFunctionFactory anomalyFunctionFactory = null;\n   private AutoOnboardService autoOnboardService = null;\n-  private DataCompletenessScheduler dataCompletenessScheduler = null;\n   private AlertFilterFactory alertFilterFactory = null;\n   private AnomalyClassifierFactory anomalyClassifierFactory = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzEyNg==", "bodyText": "alertFilterFactory not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603126", "createdAt": "2020-05-24T06:13:53Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/ThirdEyeAnomalyApplication.java", "diffHunk": "@@ -61,18 +54,12 @@\n public class ThirdEyeAnomalyApplication\n     extends BaseThirdEyeApplication<ThirdEyeAnomalyConfiguration> {\n \n-  private DetectionJobScheduler detectionJobScheduler = null;\n   private TaskDriver taskDriver = null;\n   private MonitorJobScheduler monitorJobScheduler = null;\n-  private AlertJobSchedulerV2 alertJobSchedulerV2;\n   private AnomalyFunctionFactory anomalyFunctionFactory = null;\n   private AutoOnboardService autoOnboardService = null;\n-  private DataCompletenessScheduler dataCompletenessScheduler = null;\n   private AlertFilterFactory alertFilterFactory = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzM3MA==", "bodyText": "ANOMALY_DETECTION and MERGE tasks are not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603370", "createdAt": "2020-05-24T06:17:20Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/task/TaskInfoFactory.java", "diffHunk": "@@ -67,16 +64,6 @@ public static TaskInfo getTaskInfoFromTaskType(TaskType taskType, String taskInf\n         case MONITOR:\n           taskInfo = OBJECT_MAPPER.readValue(taskInfoString, MonitorTaskInfo.class);\n           break;\n-        case ALERT:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzQ0MQ==", "bodyText": "ANOMALY_DETECTION and MERGE tasks are not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603441", "createdAt": "2020-05-24T06:18:10Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/task/TaskRunnerFactory.java", "diffHunk": "@@ -59,16 +56,6 @@ public static TaskRunner getTaskRunnerFromTaskType(TaskType taskType) {\n       case MONITOR:\n         taskRunner = new MonitorTaskRunner();\n         break;\n-      case DATA_COMPLETENESS:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzQ4MA==", "bodyText": "This whole class could be deleted.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603480", "createdAt": "2020-05-24T06:19:02Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/completeness/checker/DataCompletenessUtils.java", "diffHunk": "@@ -261,13 +261,4 @@ public static DateTimeFormatter getDateTimeFormatterForDataset(TimeSpec timeSpec\n     return bucketNameToCountStar;\n   }\n \n-  public static double getPercentCompleteness(PercentCompletenessFunctionInput input) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwMzUyMg==", "bodyText": "This class could be deleted.\nLet's delete everything under /completeness.checker", "url": "https://github.com/apache/pinot/pull/5435#discussion_r429603522", "createdAt": "2020-05-24T06:19:53Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/completeness/checker/Wo4WAvgDataCompletenessAlgorithm.java", "diffHunk": "@@ -41,6 +41,7 @@\n /**\n  * This is the implementation of the WO4W Average function or checking data completeness of datasets\n  */\n+@Deprecated\n public class Wo4WAvgDataCompletenessAlgorithm implements DataCompletenessAlgorithm {\n \n   public static double DEFAULT_EXPECTED_COMPLETENESS = 80;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2933c48b4af6a27cba182bfd5879b5e82d397fe3"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78d2fc2af8ad0e193c1cd4f2076c27adff714b60", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/78d2fc2af8ad0e193c1cd4f2076c27adff714b60", "committedDate": "2020-05-26T20:29:12Z", "message": "remove more code based on comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NzM4OTkz", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-418738993", "createdAt": "2020-05-26T23:10:04Z", "commit": {"oid": "78d2fc2af8ad0e193c1cd4f2076c27adff714b60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/6f6e945a49fecadf9acc246240153c938b855d35", "committedDate": "2020-05-26T23:25:05Z", "message": "address comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODAwOTMw", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-418800930", "createdAt": "2020-05-27T01:40:09Z", "commit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODYyMDQ1", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-418862045", "createdAt": "2020-05-27T05:14:28Z", "commit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "state": "COMMENTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNToxNDoyOFrOGa5roQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTozMTo1NFrOGa59Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MTIxNw==", "bodyText": "Remove //TODO", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430861217", "createdAt": "2020-05-27T05:14:28Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/task/TaskConstants.java", "diffHunk": "@@ -26,15 +26,8 @@\n     DETECTION,\n     DETECTION_ALERT,\n     YAML_DETECTION_ONBOARD,\n-    ANOMALY_DETECTION,\n-    MERGE,\n     // TODO: deprecate ALERT task type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MTczMQ==", "bodyText": "Update error log accordingly.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430861731", "createdAt": "2020-05-27T05:16:39Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/task/TaskInfoFactory.java", "diffHunk": "@@ -58,25 +54,9 @@ public static TaskInfo getTaskInfoFromTaskType(TaskType taskType, String taskInf\n         case YAML_DETECTION_ONBOARD:\n           taskInfo = OBJECT_MAPPER.readValue(taskInfoString, YamlOnboardingTaskInfo.class);\n           break;\n-        case ANOMALY_DETECTION:\n-          taskInfo = OBJECT_MAPPER.readValue(taskInfoString, DetectionTaskInfo.class);\n-          break;\n-        case MERGE:\n-          LOG.error(\"TaskType MERGE not supported\");\n-          break;\n         case MONITOR:\n           taskInfo = OBJECT_MAPPER.readValue(taskInfoString, MonitorTaskInfo.class);\n           break;\n-        case ALERT:\n-        case ALERT2:\n-          taskInfo = OBJECT_MAPPER.readValue(taskInfoString, AlertTaskInfo.class);\n-          break;\n-        case DATA_COMPLETENESS:\n-          taskInfo = OBJECT_MAPPER.readValue(taskInfoString, DataCompletenessTaskInfo.class);\n-          break;\n-        case CLASSIFICATION:\n-          taskInfo = OBJECT_MAPPER.readValue(taskInfoString, ClassificationTaskInfo.class);\n-          break;\n         default:\n           LOG.error(\"TaskType must be one of ANOMALY_DETECTION, MONITOR, ALERT, ALERT2, DATA_COMPLETENESS, CLASSIFICATION\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MTk1Nw==", "bodyText": "Add a simple description for each task type.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430861957", "createdAt": "2020-05-27T05:17:37Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/anomaly/task/TaskConstants.java", "diffHunk": "@@ -26,15 +26,8 @@\n     DETECTION,\n     DETECTION_ALERT,\n     YAML_DETECTION_ONBOARD,\n-    ANOMALY_DETECTION,\n-    MERGE,\n     // TODO: deprecate ALERT task type\n-    ALERT,\n-    ALERT2,\n-    MONITOR,\n-    DATA_COMPLETENESS,\n-    CLASSIFICATION,\n-    REPLAY\n+    MONITOR", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MzY0Nw==", "bodyText": "anomalyFunctionDAO is not used, including AnomalyFunctionManager.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430863647", "createdAt": "2020-05-27T05:24:27Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/common/BaseThirdEyeApplication.java", "diffHunk": "@@ -51,11 +46,9 @@\n   protected final Logger LOG = LoggerFactory.getLogger(this.getClass());\n \n   protected AnomalyFunctionManager anomalyFunctionDAO;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2Mzg2NA==", "bodyText": "AnomalyFunctionFactory is not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430863864", "createdAt": "2020-05-27T05:25:16Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/ThirdEyeDashboardApplication.java", "diffHunk": "@@ -160,14 +155,12 @@ public void run(ThirdEyeDashboardConfiguration config, Environment env)\n \n     AnomalyFunctionFactory anomalyFunctionFactory = new AnomalyFunctionFactory(config.getFunctionConfigPath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NDA5MA==", "bodyText": "AlertFilterFactory is not used.\nAll the classes under org.apache.pinot.thirdeye.detector.email.filter are not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430864090", "createdAt": "2020-05-27T05:26:09Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/ThirdEyeDashboardApplication.java", "diffHunk": "@@ -160,14 +155,12 @@ public void run(ThirdEyeDashboardConfiguration config, Environment env)\n \n     AnomalyFunctionFactory anomalyFunctionFactory = new AnomalyFunctionFactory(config.getFunctionConfigPath());\n     AlertFilterFactory alertFilterFactory = new AlertFilterFactory(config.getAlertFilterConfigPath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NDYyMw==", "bodyText": "The above three lines are not used.\nenv.jersey().register(new DataResource(anomalyFunctionFactory, alertFilterFactory));\t    env.jersey().register(new DataResource(anomalyFunctionFactory, alertFilterFactory));\nenv.jersey().register(new AnomaliesResource(anomalyFunctionFactory, alertFilterFactory));", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430864623", "createdAt": "2020-05-27T05:28:13Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/ThirdEyeDashboardApplication.java", "diffHunk": "@@ -181,7 +174,6 @@ public void run(ThirdEyeDashboardConfiguration config, Environment env)\n     env.jersey().register(new AutoOnboardResource(config));\n     env.jersey().register(new ConfigResource(DAO_REGISTRY.getConfigDAO()));\n     env.jersey().register(new CustomizedEventResource(DAO_REGISTRY.getEventDAO()));\n-    env.jersey().register(new TimeSeriesResource());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NDg0MA==", "bodyText": "This is not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430864840", "createdAt": "2020-05-27T05:29:02Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/AnomalyResource.java", "diffHunk": "@@ -101,21 +99,18 @@\n   private MergedAnomalyResultManager anomalyMergedResultDAO;\n   private AlertConfigManager emailConfigurationDAO;\n   private MergedAnomalyResultManager mergedAnomalyResultDAO;\n-  private AutotuneConfigManager autotuneConfigDAO;\n   private DatasetConfigManager datasetConfigDAO;\n   private AnomalyFunctionFactory anomalyFunctionFactory;\n   private AlertFilterFactory alertFilterFactory;\n   private LoadingCache<String, Long> collectionMaxDataTimeCache;\n \n   private static final DAORegistry DAO_REGISTRY = DAORegistry.getInstance();\n \n-  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory,\n-      AlertFilterAutotuneFactory alertFilterAutotuneFactory) {\n+  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory) {\n     this.anomalyFunctionDAO = DAO_REGISTRY.getAnomalyFunctionDAO();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NTAwMw==", "bodyText": "What is the difference between anomalyMergedResultDAO and mergedAnomalyResultDAO. Seems duplicate.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430865003", "createdAt": "2020-05-27T05:29:37Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/AnomalyResource.java", "diffHunk": "@@ -101,21 +99,18 @@\n   private MergedAnomalyResultManager anomalyMergedResultDAO;\n   private AlertConfigManager emailConfigurationDAO;\n   private MergedAnomalyResultManager mergedAnomalyResultDAO;\n-  private AutotuneConfigManager autotuneConfigDAO;\n   private DatasetConfigManager datasetConfigDAO;\n   private AnomalyFunctionFactory anomalyFunctionFactory;\n   private AlertFilterFactory alertFilterFactory;\n   private LoadingCache<String, Long> collectionMaxDataTimeCache;\n \n   private static final DAORegistry DAO_REGISTRY = DAORegistry.getInstance();\n \n-  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory,\n-      AlertFilterAutotuneFactory alertFilterAutotuneFactory) {\n+  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory) {\n     this.anomalyFunctionDAO = DAO_REGISTRY.getAnomalyFunctionDAO();\n     this.anomalyMergedResultDAO = DAO_REGISTRY.getMergedAnomalyResultDAO();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NTA2OA==", "bodyText": "This is not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430865068", "createdAt": "2020-05-27T05:29:50Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/AnomalyResource.java", "diffHunk": "@@ -101,21 +99,18 @@\n   private MergedAnomalyResultManager anomalyMergedResultDAO;\n   private AlertConfigManager emailConfigurationDAO;\n   private MergedAnomalyResultManager mergedAnomalyResultDAO;\n-  private AutotuneConfigManager autotuneConfigDAO;\n   private DatasetConfigManager datasetConfigDAO;\n   private AnomalyFunctionFactory anomalyFunctionFactory;\n   private AlertFilterFactory alertFilterFactory;\n   private LoadingCache<String, Long> collectionMaxDataTimeCache;\n \n   private static final DAORegistry DAO_REGISTRY = DAORegistry.getInstance();\n \n-  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory,\n-      AlertFilterAutotuneFactory alertFilterAutotuneFactory) {\n+  public AnomalyResource(AnomalyFunctionFactory anomalyFunctionFactory, AlertFilterFactory alertFilterFactory) {\n     this.anomalyFunctionDAO = DAO_REGISTRY.getAnomalyFunctionDAO();\n     this.anomalyMergedResultDAO = DAO_REGISTRY.getMergedAnomalyResultDAO();\n     this.emailConfigurationDAO = DAO_REGISTRY.getAlertConfigDAO();\n     this.mergedAnomalyResultDAO = DAO_REGISTRY.getMergedAnomalyResultDAO();\n-    this.autotuneConfigDAO = DAO_REGISTRY.getAutotuneConfigDAO();\n     this.datasetConfigDAO = DAO_REGISTRY.getDatasetConfigDAO();\n     this.anomalyFunctionFactory = anomalyFunctionFactory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NTIxMw==", "bodyText": "Not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430865213", "createdAt": "2020-05-27T05:30:23Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/AnomalyResource.java", "diffHunk": "@@ -101,21 +99,18 @@\n   private MergedAnomalyResultManager anomalyMergedResultDAO;\n   private AlertConfigManager emailConfigurationDAO;\n   private MergedAnomalyResultManager mergedAnomalyResultDAO;\n-  private AutotuneConfigManager autotuneConfigDAO;\n   private DatasetConfigManager datasetConfigDAO;\n   private AnomalyFunctionFactory anomalyFunctionFactory;\n   private AlertFilterFactory alertFilterFactory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NTUxOQ==", "bodyText": "Not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430865519", "createdAt": "2020-05-27T05:31:05Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/datalayer/pojo/DatasetConfigBean.java", "diffHunk": "@@ -93,10 +89,6 @@\n   private boolean requiresCompletenessCheck = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2NTc1MA==", "bodyText": "Not used.", "url": "https://github.com/apache/pinot/pull/5435#discussion_r430865750", "createdAt": "2020-05-27T05:31:54Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/test/java/org/apache/pinot/thirdeye/datalayer/DaoTestUtils.java", "diffHunk": "@@ -275,22 +273,6 @@ public static DetectionStatusDTO getTestDetectionStatus(String dataset, long dat\n     return detectionStatusDTO;\n   }\n \n-  public static AutotuneConfigDTO getTestAutotuneConfig(long functionId, long start, long end) {\n-    AutotuneConfigDTO autotuneConfigDTO = new AutotuneConfigDTO();\n-    autotuneConfigDTO.setFunctionId(functionId);\n-    autotuneConfigDTO.setStartTime(start);\n-    autotuneConfigDTO.setEndTime(end);\n-    autotuneConfigDTO.setPerformanceEvaluationMethod(PerformanceEvaluationMethod.ANOMALY_PERCENTAGE);\n-    autotuneConfigDTO.setLastUpdateTimestamp(DateTime.now().getMillis());\n-    Map<String, String> config = new HashMap<>();\n-    config.put(\"ConfigKey\", \"ConfigValue\");\n-    autotuneConfigDTO.setConfiguration(config);\n-    Map<String, Double> performance = new HashMap<>();\n-    performance.put(autotuneConfigDTO.getPerformanceEvaluationMethod().name(), 0.5);\n-    autotuneConfigDTO.setPerformance(performance);\n-    return autotuneConfigDTO;\n-  }\n-\n   public static ClassificationConfigDTO getTestClassificationConfig(String name, List<Long> mainFunctionIdList,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6e945a49fecadf9acc246240153c938b855d35"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d345700efcf3f62b12fc0b0021ce30a8723d744", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/2d345700efcf3f62b12fc0b0021ce30a8723d744", "committedDate": "2020-05-28T00:48:46Z", "message": "more cleanup from PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8f111aafa93b85394f1dc223241a0c4f93e6b5a", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/d8f111aafa93b85394f1dc223241a0c4f93e6b5a", "committedDate": "2020-05-28T00:57:24Z", "message": "minor change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbce47560652897c86789a64b373da3b9dbe7b98", "author": {"user": {"login": "vincentchenjl", "name": "Vincent Chen"}}, "url": "https://github.com/apache/pinot/commit/dbce47560652897c86789a64b373da3b9dbe7b98", "committedDate": "2020-05-30T00:22:56Z", "message": "more cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NTgwOTA1", "url": "https://github.com/apache/pinot/pull/5435#pullrequestreview-424580905", "createdAt": "2020-06-04T15:38:26Z", "commit": {"oid": "dbce47560652897c86789a64b373da3b9dbe7b98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 820, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}