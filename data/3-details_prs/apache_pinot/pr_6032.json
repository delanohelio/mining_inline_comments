{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4OTg0NTk2", "number": 6032, "title": "Improve the realtime time creation unit test", "bodyText": "Added the precondition check for time interval from segment metadata\nAdded the unit test to check the case when the invalid time column name\nis configured in the table config", "createdAt": "2020-09-17T23:37:59Z", "url": "https://github.com/apache/pinot/pull/6032", "merged": true, "mergeCommit": {"oid": "d9aec1735ea3a7f6962c3fb4c069aaac912439f8"}, "closed": true, "closedAt": "2020-09-18T01:36:07Z", "author": {"login": "snleee"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJ5vgfABqjM3ODAzMDY2MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJ7HG7gFqTQ5MTA4Njc2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91e1658879f4286676356c09b527fb4d453511e3", "author": {"user": {"login": "snleee", "name": "Seunghyun Lee"}}, "url": "https://github.com/apache/pinot/commit/91e1658879f4286676356c09b527fb4d453511e3", "committedDate": "2020-09-17T23:37:09Z", "message": "Improve the realtime time column validation\n\n1. Added the precondition check for time interval from segment metadata\n2. Added unit tests"}, "afterCommit": {"oid": "295371e8b3f301783f6f210ffc0494b441047bd6", "author": {"user": {"login": "snleee", "name": "Seunghyun Lee"}}, "url": "https://github.com/apache/pinot/commit/295371e8b3f301783f6f210ffc0494b441047bd6", "committedDate": "2020-09-17T23:38:50Z", "message": "Improve the realtime time column validation\n\n1. Added the precondition check for time interval from segment metadata\n2. Added unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMDYwNzg3", "url": "https://github.com/apache/pinot/pull/6032#pullrequestreview-491060787", "createdAt": "2020-09-17T23:47:25Z", "commit": {"oid": "295371e8b3f301783f6f210ffc0494b441047bd6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb5e34e47474d071e45e17a51535f55a26bc7395", "author": {"user": {"login": "snleee", "name": "Seunghyun Lee"}}, "url": "https://github.com/apache/pinot/commit/cb5e34e47474d071e45e17a51535f55a26bc7395", "committedDate": "2020-09-17T23:52:43Z", "message": "Improve the realtime time creation unit test\n\n1. Added the precondition check for time interval from segment metadata\n2. Added the unit test to check the case when the invalid time column name\n   is configured in the table config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "295371e8b3f301783f6f210ffc0494b441047bd6", "author": {"user": {"login": "snleee", "name": "Seunghyun Lee"}}, "url": "https://github.com/apache/pinot/commit/295371e8b3f301783f6f210ffc0494b441047bd6", "committedDate": "2020-09-17T23:38:50Z", "message": "Improve the realtime time column validation\n\n1. Added the precondition check for time interval from segment metadata\n2. Added unit tests"}, "afterCommit": {"oid": "cb5e34e47474d071e45e17a51535f55a26bc7395", "author": {"user": {"login": "snleee", "name": "Seunghyun Lee"}}, "url": "https://github.com/apache/pinot/commit/cb5e34e47474d071e45e17a51535f55a26bc7395", "committedDate": "2020-09-17T23:52:43Z", "message": "Improve the realtime time creation unit test\n\n1. Added the precondition check for time interval from segment metadata\n2. Added the unit test to check the case when the invalid time column name\n   is configured in the table config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMDg2NzYy", "url": "https://github.com/apache/pinot/pull/6032#pullrequestreview-491086762", "createdAt": "2020-09-18T01:14:43Z", "commit": {"oid": "cb5e34e47474d071e45e17a51535f55a26bc7395"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwMToxNDo0M1rOHT6mYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwMToxNDo0M1rOHT6mYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDY0NTA4OA==", "bodyText": "Consumption will stop if this condition hits. Are we sure that is what we want?", "url": "https://github.com/apache/pinot/pull/6032#discussion_r490645088", "createdAt": "2020-09-18T01:14:43Z", "author": {"login": "mcvsubbu"}, "path": "pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/realtime/PinotLLCRealtimeSegmentManager.java", "diffHunk": "@@ -504,6 +504,8 @@ private LLCRealtimeSegmentZKMetadata updateCommittingSegmentZKMetadata(String re\n     committingSegmentZKMetadata.setDownloadUrl(isPeerURL(committingSegmentDescriptor.getSegmentLocation())\n         ? CommonConstants.Segment.METADATA_URI_FOR_PEER_DOWNLOAD : committingSegmentDescriptor.getSegmentLocation());\n     committingSegmentZKMetadata.setCrc(Long.valueOf(segmentMetadata.getCrc()));\n+    Preconditions.checkNotNull(segmentMetadata.getTimeInterval(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb5e34e47474d071e45e17a51535f55a26bc7395"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 68, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}