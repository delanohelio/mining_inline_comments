{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4OTM4MDI1", "number": 5772, "title": "add user info in url to auth header in HTTP getDownloadFileRequest", "bodyText": "Description\nDuring Segment Uri Pull, while using HTTP Protocol the Username and Password Info can be passed through userinfo in SegmentUriPrefix. But when the HTTP request is redirected, the userinfo is discarded. Hence to retain the Basic Authentication during redirects, we can set the request Http header with the Basic Authentication Token.", "createdAt": "2020-07-30T07:41:12Z", "url": "https://github.com/apache/pinot/pull/5772", "merged": true, "mergeCommit": {"oid": "0fc081157c88734af0433c3cd30f310474d177f0"}, "closed": true, "closedAt": "2020-07-30T20:02:07Z", "author": {"login": "mr-agrwal"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc56qKrgH2gAyNDU4OTM4MDI1OmRhYTA0Y2YxODg3MzI1ZDgxZjQ1ZTQ4YmFkM2IyMTY0NWQwOTU4NGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6FRG1AFqTQ1ODcxNTMwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "daa04cf1887325d81f45e48bad3b21645d09584a", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/daa04cf1887325d81f45e48bad3b21645d09584a", "committedDate": "2020-07-30T07:40:19Z", "message": "add user info in url to auth header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzAwODMy", "url": "https://github.com/apache/pinot/pull/5772#pullrequestreview-458700832", "createdAt": "2020-07-30T19:40:00Z", "commit": {"oid": "daa04cf1887325d81f45e48bad3b21645d09584a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MDowMFrOG5xLFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MDowMFrOG5xLFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIyNzY3MQ==", "bodyText": "create a variable for uri.getUserInfo", "url": "https://github.com/apache/pinot/pull/5772#discussion_r463227671", "createdAt": "2020-07-30T19:40:00Z", "author": {"login": "kishoreg"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/utils/FileUploadDownloadClient.java", "diffHunk": "@@ -326,6 +327,11 @@ private static HttpUriRequest getSegmentCompletionProtocolRequest(URI uri, int s\n   private static HttpUriRequest getDownloadFileRequest(URI uri, int socketTimeoutMs) {\n     RequestBuilder requestBuilder = RequestBuilder.get(uri).setVersion(HttpVersion.HTTP_1_1);\n     setTimeout(requestBuilder, socketTimeoutMs);\n+    if (uri.getUserInfo() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daa04cf1887325d81f45e48bad3b21645d09584a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a5722de2f0e6d2a00fc618078a9355985a56046", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/0a5722de2f0e6d2a00fc618078a9355985a56046", "committedDate": "2020-07-30T19:44:09Z", "message": "use variable for userinfo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzE1MzA3", "url": "https://github.com/apache/pinot/pull/5772#pullrequestreview-458715307", "createdAt": "2020-07-30T20:01:54Z", "commit": {"oid": "0a5722de2f0e6d2a00fc618078a9355985a56046"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 496, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}