{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4ODI3MTc0", "number": 4956, "title": "Make plugin manager to load plugins based on environment variables", "bodyText": "Make plugin manager to take 2 system variables:\nplugins.dir and plugins.include .\nSo user could specify the plugins to load based on their own needs.\n\n\nMove KafkaStarterUtils to pinot-tools package to remove compile dependency of pinot-kafka-base\n\n\nExplicitly call PluginManager.get().init() as a workaround to prevent  that some classes with dependencies in pinot plugins are not loaded.\n\n\nMove all pinot plugins shaded jars to plugins directory in pinot-distribution.\n\n\nUpdated kafka related classname in tests and quickstart examples per changes in #4957", "createdAt": "2020-01-02T23:22:34Z", "url": "https://github.com/apache/pinot/pull/4956", "merged": true, "mergeCommit": {"oid": "9edad92cd19e3e9cd4089a62524405b6e9c9b19a"}, "closed": true, "closedAt": "2020-01-04T21:57:04Z", "author": {"login": "xiangfu0"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2jbqgAFqTMzNzkxNDIzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3J5aQgFqTMzODM3MDk3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTE0MjM2", "url": "https://github.com/apache/pinot/pull/4956#pullrequestreview-337914236", "createdAt": "2020-01-03T00:14:52Z", "commit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMDoxNDo1MlrOFZ3-8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMDo0MzozNFrOFZ4PNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY3NTk1Mw==", "bodyText": "plugins.include", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362675953", "createdAt": "2020-01-03T00:14:52Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,59 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  public static final String PLUGINS_ROOT_DIR_ENV_VAR = \"plugins.root.directory\";\n+  public static final String PLUGINS_LOADING_ENV_VAR = \"plugins.loading\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY3NjEyMw==", "bodyText": "plugins.dir", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362676123", "createdAt": "2020-01-03T00:15:57Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,59 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  public static final String PLUGINS_ROOT_DIR_ENV_VAR = \"plugins.root.directory\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY3NzAzMA==", "bodyText": "Add another log to say that the plugin was loaded successfully. Maybe do this in the caller and catch the exception.", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362677030", "createdAt": "2020-01-03T00:22:10Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -49,6 +89,7 @@ private PluginManager() {\n    * @param directory\n    */\n   public void load(String pluginName, File directory) {\n+    LOGGER.info(\"Trying to load plugin [{}] from location [{}]\", pluginName, directory);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY3NzEzMw==", "bodyText": "try catch since the creating classloader might result in a runtime exception", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362677133", "createdAt": "2020-01-03T00:22:50Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,59 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  public static final String PLUGINS_ROOT_DIR_ENV_VAR = \"plugins.root.directory\";\n+  public static final String PLUGINS_LOADING_ENV_VAR = \"plugins.loading\";\n   public static final String DEFAULT_PLUGIN_NAME = \"DEFAULT\";\n+  private static final String JAR_FILE_EXTENSION = \"jar\";\n   static PluginManager PLUGIN_MANAGER = new PluginManager();\n \n   Map<Plugin, PluginClassLoader> _registry = new HashMap<>();\n+  String pluginsRootDir;\n+  String pluginsLoading;\n \n   private PluginManager() {\n     _registry.put(new Plugin(DEFAULT_PLUGIN_NAME), createClassLoader(Collections.emptyList()));\n+    pluginsRootDir = System.getenv(PLUGINS_ROOT_DIR_ENV_VAR);\n+    pluginsLoading = System.getenv(PLUGINS_LOADING_ENV_VAR);\n+    init(pluginsRootDir, pluginsLoading);\n+  }\n+\n+  private void init(String pluginsRootDir, String pluginsLoading) {\n+    if (StringUtils.isEmpty(pluginsRootDir)) {\n+      LOGGER.info(\"No plugins root dir specified from environment variable\");\n+      return;\n+    } else {\n+      LOGGER.info(\"Plugins root dir is [{}]\", pluginsRootDir);\n+    }\n+    Collection<File> jarFiles = FileUtils.listFiles(new File(pluginsRootDir), new String[]{JAR_FILE_EXTENSION}, true);\n+    List<String> pluginsToLoad = null;\n+    if (!StringUtils.isEmpty(pluginsLoading)) {\n+      pluginsToLoad = Arrays.asList(pluginsLoading.split(\",\"));\n+      LOGGER.info(\"Trying to load plugins: [{}]\", Arrays.toString(pluginsToLoad.toArray()));\n+    } else {\n+      LOGGER.info(\"No pluginsLoading specified, trying to load all plugins: [{}]\", Arrays.toString(jarFiles.toArray()));\n+    }\n+    for (File jarFile : jarFiles) {\n+      File pluginDir = jarFile.getParentFile();\n+      String pluginName = pluginDir.getName();\n+      if (pluginsToLoad != null) {\n+        if (!pluginsToLoad.contains(pluginName)) {\n+          continue;\n+        }\n+      }\n+      load(pluginName, pluginDir);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY3OTk1MA==", "bodyText": "change to \"Env variable 'PLUGINS_ROOT_DIR_ENV_VAR' is not specified. Set this variable to load additional plugins\"", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362679950", "createdAt": "2020-01-03T00:42:24Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,59 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  public static final String PLUGINS_ROOT_DIR_ENV_VAR = \"plugins.root.directory\";\n+  public static final String PLUGINS_LOADING_ENV_VAR = \"plugins.loading\";\n   public static final String DEFAULT_PLUGIN_NAME = \"DEFAULT\";\n+  private static final String JAR_FILE_EXTENSION = \"jar\";\n   static PluginManager PLUGIN_MANAGER = new PluginManager();\n \n   Map<Plugin, PluginClassLoader> _registry = new HashMap<>();\n+  String pluginsRootDir;\n+  String pluginsLoading;\n \n   private PluginManager() {\n     _registry.put(new Plugin(DEFAULT_PLUGIN_NAME), createClassLoader(Collections.emptyList()));\n+    pluginsRootDir = System.getenv(PLUGINS_ROOT_DIR_ENV_VAR);\n+    pluginsLoading = System.getenv(PLUGINS_LOADING_ENV_VAR);\n+    init(pluginsRootDir, pluginsLoading);\n+  }\n+\n+  private void init(String pluginsRootDir, String pluginsLoading) {\n+    if (StringUtils.isEmpty(pluginsRootDir)) {\n+      LOGGER.info(\"No plugins root dir specified from environment variable\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY4MDExNw==", "bodyText": "Just say loading all plugins. use plugins.include to customize", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362680117", "createdAt": "2020-01-03T00:43:34Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,59 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  public static final String PLUGINS_ROOT_DIR_ENV_VAR = \"plugins.root.directory\";\n+  public static final String PLUGINS_LOADING_ENV_VAR = \"plugins.loading\";\n   public static final String DEFAULT_PLUGIN_NAME = \"DEFAULT\";\n+  private static final String JAR_FILE_EXTENSION = \"jar\";\n   static PluginManager PLUGIN_MANAGER = new PluginManager();\n \n   Map<Plugin, PluginClassLoader> _registry = new HashMap<>();\n+  String pluginsRootDir;\n+  String pluginsLoading;\n \n   private PluginManager() {\n     _registry.put(new Plugin(DEFAULT_PLUGIN_NAME), createClassLoader(Collections.emptyList()));\n+    pluginsRootDir = System.getenv(PLUGINS_ROOT_DIR_ENV_VAR);\n+    pluginsLoading = System.getenv(PLUGINS_LOADING_ENV_VAR);\n+    init(pluginsRootDir, pluginsLoading);\n+  }\n+\n+  private void init(String pluginsRootDir, String pluginsLoading) {\n+    if (StringUtils.isEmpty(pluginsRootDir)) {\n+      LOGGER.info(\"No plugins root dir specified from environment variable\");\n+      return;\n+    } else {\n+      LOGGER.info(\"Plugins root dir is [{}]\", pluginsRootDir);\n+    }\n+    Collection<File> jarFiles = FileUtils.listFiles(new File(pluginsRootDir), new String[]{JAR_FILE_EXTENSION}, true);\n+    List<String> pluginsToLoad = null;\n+    if (!StringUtils.isEmpty(pluginsLoading)) {\n+      pluginsToLoad = Arrays.asList(pluginsLoading.split(\",\"));\n+      LOGGER.info(\"Trying to load plugins: [{}]\", Arrays.toString(pluginsToLoad.toArray()));\n+    } else {\n+      LOGGER.info(\"No pluginsLoading specified, trying to load all plugins: [{}]\", Arrays.toString(jarFiles.toArray()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8059fdca93e4b4cd41716cc3278fc80fd3693acc"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9567eb2d2264fc4d2e0b63e8c3b8677839cfaedc", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/9567eb2d2264fc4d2e0b63e8c3b8677839cfaedc", "committedDate": "2020-01-03T00:55:23Z", "message": "Address comments"}, "afterCommit": {"oid": "ac6272e60913d86dccba80b510cb2b66e7b8172c", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/ac6272e60913d86dccba80b510cb2b66e7b8172c", "committedDate": "2020-01-03T01:40:11Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f301dc21cf56dd24312b12073268518967c1ef63", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/f301dc21cf56dd24312b12073268518967c1ef63", "committedDate": "2020-01-03T09:04:30Z", "message": "Move KafkaStarterUtils to pinot-tools"}, "afterCommit": {"oid": "6f338302548f0d8b5a25e2b145f5c95eb1e315a5", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/6f338302548f0d8b5a25e2b145f5c95eb1e315a5", "committedDate": "2020-01-03T19:44:08Z", "message": "Move KafkaStarterUtils to pinot-tools"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6f338302548f0d8b5a25e2b145f5c95eb1e315a5", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/6f338302548f0d8b5a25e2b145f5c95eb1e315a5", "committedDate": "2020-01-03T19:44:08Z", "message": "Move KafkaStarterUtils to pinot-tools"}, "afterCommit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/98f5eb9759cfad90991644ad040a27e44be3e3c7", "committedDate": "2020-01-03T21:52:37Z", "message": "Move KafkaStarterUtils to pinot-tools"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzA2MDAy", "url": "https://github.com/apache/pinot/pull/4956#pullrequestreview-338306002", "createdAt": "2020-01-03T22:46:00Z", "commit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo0NjowMVrOFaK5sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1MToxMVrOFaK9pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NTkwNA==", "bodyText": "we are looking for these in system property not env. Let's just call it PLUGINS_DIR_PROPERTY_NAME.", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362985904", "createdAt": "2020-01-03T22:46:01Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,89 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  public static final String PLUGINS_DIR_ENV_VAR = \"plugins.dir\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NjE5OQ==", "bodyText": "pluginsLoading -- > pluginsInclude", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362986199", "createdAt": "2020-01-03T22:47:38Z", "author": {"login": "kishoreg"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/plugin/PluginManager.java", "diffHunk": "@@ -28,19 +28,89 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang.StringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n public class PluginManager {\n \n+  public static final String PLUGINS_DIR_ENV_VAR = \"plugins.dir\";\n+  public static final String PLUGINS_INCLUDE_ENV_VAR = \"plugins.include\";\n   public static final String DEFAULT_PLUGIN_NAME = \"DEFAULT\";\n-  static PluginManager PLUGIN_MANAGER = new PluginManager();\n+  private static final Logger LOGGER = LoggerFactory.getLogger(PluginManager.class);\n+  private static final String JAR_FILE_EXTENSION = \"jar\";\n+  private static PluginManager PLUGIN_MANAGER = new PluginManager();\n \n-  Map<Plugin, PluginClassLoader> _registry = new HashMap<>();\n+  private Map<Plugin, PluginClassLoader> _registry = new HashMap<>();\n+  private String _pluginsRootDir;\n+  private String _pluginsInclude;\n+  private boolean _initialized = false;\n \n   private PluginManager() {\n     _registry.put(new Plugin(DEFAULT_PLUGIN_NAME), createClassLoader(Collections.emptyList()));\n+    init();\n+  }\n+\n+  public synchronized void init() {\n+    if (_initialized) {\n+      return;\n+    }\n+    try {\n+      _pluginsRootDir = System.getProperty(PLUGINS_DIR_ENV_VAR);\n+    } catch (Exception e) {\n+      LOGGER.error(\"Failed to load env variable {}\", PLUGINS_DIR_ENV_VAR, e);\n+      _pluginsRootDir = null;\n+    }\n+    try {\n+      _pluginsInclude = System.getProperty(PLUGINS_INCLUDE_ENV_VAR);\n+    } catch (Exception e) {\n+      LOGGER.error(\"Failed to load env variable {}\", PLUGINS_INCLUDE_ENV_VAR, e);\n+      _pluginsInclude = null;\n+    }\n+    init(_pluginsRootDir, _pluginsInclude);\n+    _initialized = true;\n+  }\n+\n+  private void init(String pluginsRootDir, String pluginsLoading) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NjcwMQ==", "bodyText": "can we make it absolute? I think there is a variable set in the script to get the basedir", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362986701", "createdAt": "2020-01-03T22:50:05Z", "author": {"login": "kishoreg"}, "path": "pinot-tools/pom.xml", "diffHunk": "@@ -165,6 +163,7 @@\n                 <extraArguments>\n                   <extraArgument>-XX:MaxDirectMemorySize=30g</extraArgument>\n                   <extraArgument>-Dlog4j2.configurationFile=conf/pinot-tools-log4j2.xml</extraArgument>\n+                  <extraArgument>-Dplugins.dir=plugins</extraArgument>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NjkxNg==", "bodyText": "add a comment on why we need this for now and add a todo to delete this", "url": "https://github.com/apache/pinot/pull/4956#discussion_r362986916", "createdAt": "2020-01-03T22:51:11Z", "author": {"login": "kishoreg"}, "path": "pinot-tools/src/main/java/org/apache/pinot/tools/HybridQuickstart.java", "diffHunk": "@@ -50,6 +51,7 @@ private HybridQuickstart() {\n \n   public static void main(String[] args)\n       throws Exception {\n+    PluginManager.get().init();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98f5eb9759cfad90991644ad040a27e44be3e3c7"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ab4ab76031684f5f5ff6d587eb0b539d1529d6d", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/8ab4ab76031684f5f5ff6d587eb0b539d1529d6d", "committedDate": "2020-01-03T23:22:33Z", "message": "Address comments"}, "afterCommit": {"oid": "ba4af2e20e1de1016b76a0cfed56b76cc7722cfd", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/ba4af2e20e1de1016b76a0cfed56b76cc7722cfd", "committedDate": "2020-01-03T23:22:47Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba4af2e20e1de1016b76a0cfed56b76cc7722cfd", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/ba4af2e20e1de1016b76a0cfed56b76cc7722cfd", "committedDate": "2020-01-03T23:22:47Z", "message": "Address comments"}, "afterCommit": {"oid": "fcf1d5bfe192caee4a12f78a0f33aecca7b9becc", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/fcf1d5bfe192caee4a12f78a0f33aecca7b9becc", "committedDate": "2020-01-03T23:38:04Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcf1d5bfe192caee4a12f78a0f33aecca7b9becc", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/fcf1d5bfe192caee4a12f78a0f33aecca7b9becc", "committedDate": "2020-01-03T23:38:04Z", "message": "Address comments"}, "afterCommit": {"oid": "13baa48146a68df6295a4ca9b2720bbad4b83cf1", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/13baa48146a68df6295a4ca9b2720bbad4b83cf1", "committedDate": "2020-01-04T05:05:53Z", "message": "Update kafka related package name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f81f27d96d0451bf19fa21807b11de553b859870", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/f81f27d96d0451bf19fa21807b11de553b859870", "committedDate": "2020-01-04T05:09:48Z", "message": "Move shaded jars to distribution plugins directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c207dcc9642e86c258309171c702dd32eba04267", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/c207dcc9642e86c258309171c702dd32eba04267", "committedDate": "2020-01-04T05:09:48Z", "message": "Adding excludes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "586a8933ad69ab3f68b1ffd2788d5f5fa121a3fb", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/586a8933ad69ab3f68b1ffd2788d5f5fa121a3fb", "committedDate": "2020-01-04T05:09:48Z", "message": "clean up more dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2c566e40463d973a339d26fd9a432b39c87427f", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/f2c566e40463d973a339d26fd9a432b39c87427f", "committedDate": "2020-01-04T05:09:48Z", "message": "Make plugin manager to load plugins based on environment variables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f11d3025122e146301a5551ddef61b535663b837", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/f11d3025122e146301a5551ddef61b535663b837", "committedDate": "2020-01-04T05:09:48Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1525714998b95f6d37db81faca1da508a8c2a8b0", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/1525714998b95f6d37db81faca1da508a8c2a8b0", "committedDate": "2020-01-04T05:09:48Z", "message": "Move KafkaStarterUtils to pinot-tools"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71e04425d96b21619e386576aea57f2637923d3c", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/71e04425d96b21619e386576aea57f2637923d3c", "committedDate": "2020-01-04T05:09:48Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cc3cac977dba6df98ee4019ac28f4534b77f409", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/7cc3cac977dba6df98ee4019ac28f4534b77f409", "committedDate": "2020-01-04T05:09:48Z", "message": "Update kafka related package name"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13baa48146a68df6295a4ca9b2720bbad4b83cf1", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/13baa48146a68df6295a4ca9b2720bbad4b83cf1", "committedDate": "2020-01-04T05:05:53Z", "message": "Update kafka related package name"}, "afterCommit": {"oid": "7cc3cac977dba6df98ee4019ac28f4534b77f409", "author": {"user": {"login": "xiangfu0", "name": "Xiang Fu"}}, "url": "https://github.com/apache/pinot/commit/7cc3cac977dba6df98ee4019ac28f4534b77f409", "committedDate": "2020-01-04T05:09:48Z", "message": "Update kafka related package name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzYyNDI2", "url": "https://github.com/apache/pinot/pull/4956#pullrequestreview-338362426", "createdAt": "2020-01-04T17:36:30Z", "commit": {"oid": "7cc3cac977dba6df98ee4019ac28f4534b77f409"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzcwOTc3", "url": "https://github.com/apache/pinot/pull/4956#pullrequestreview-338370977", "createdAt": "2020-01-04T21:32:37Z", "commit": {"oid": "7cc3cac977dba6df98ee4019ac28f4534b77f409"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1421, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}