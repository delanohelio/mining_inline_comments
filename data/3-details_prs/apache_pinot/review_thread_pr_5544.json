{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNDAxNjk3", "number": 5544, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNTo0NDozNVrOEFGuZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNTo0NDozNVrOEFGuZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzg4NTE4OnYy", "diffSide": "RIGHT", "path": "pinot-common/src/main/java/org/apache/pinot/common/function/TransformFunctionType.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNTo0NDozNVrOGjIyfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0NTo1N1rOGjORwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ5NzM0Mg==", "bodyText": "This looks a bit hacky especially if FunctionRegistry starts getting used for something else as well (in addition to scalar functions). May be update the Javadoc of FunctionRegistry to state it is for scalar functions?\nCurrently it says in-built Pinot functions which is misleading since today all functions are in-built functions.", "url": "https://github.com/apache/pinot/pull/5544#discussion_r439497342", "createdAt": "2020-06-12T15:44:35Z", "author": {"login": "siddharthteotia"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/function/TransformFunctionType.java", "diffHunk": "@@ -70,6 +73,9 @@ public static TransformFunctionType getTransformFunctionType(String functionName\n     try {\n       return TransformFunctionType.valueOf(upperCaseFunctionName);\n     } catch (Exception e) {\n+      if (FunctionRegistry.getFunctionByName(functionName) != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc80829a4e09dd39338649b507ff9f20695a85c4"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU2NzY5Nw==", "bodyText": "@siddharthteotia Updated the doc, and also added a TODO to merge FunctionRegistry and FunctionDefinitionRegistry to provide one single registry for all functions.", "url": "https://github.com/apache/pinot/pull/5544#discussion_r439567697", "createdAt": "2020-06-12T18:02:29Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/function/TransformFunctionType.java", "diffHunk": "@@ -70,6 +73,9 @@ public static TransformFunctionType getTransformFunctionType(String functionName\n     try {\n       return TransformFunctionType.valueOf(upperCaseFunctionName);\n     } catch (Exception e) {\n+      if (FunctionRegistry.getFunctionByName(functionName) != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ5NzM0Mg=="}, "originalCommit": {"oid": "cc80829a4e09dd39338649b507ff9f20695a85c4"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NzI2NQ==", "bodyText": "Awesome. Thanks!", "url": "https://github.com/apache/pinot/pull/5544#discussion_r439587265", "createdAt": "2020-06-12T18:45:57Z", "author": {"login": "siddharthteotia"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/function/TransformFunctionType.java", "diffHunk": "@@ -70,6 +73,9 @@ public static TransformFunctionType getTransformFunctionType(String functionName\n     try {\n       return TransformFunctionType.valueOf(upperCaseFunctionName);\n     } catch (Exception e) {\n+      if (FunctionRegistry.getFunctionByName(functionName) != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ5NzM0Mg=="}, "originalCommit": {"oid": "cc80829a4e09dd39338649b507ff9f20695a85c4"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4305, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}