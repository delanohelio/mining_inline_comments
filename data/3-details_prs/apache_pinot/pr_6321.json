{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODMxMDU5", "number": 6321, "title": "Enhance JSONRecordReader to handle GZIP compressed JSON files.", "bodyText": "Enhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in RecordReaderUtils to check for GZIP compression that\njust relies on .gz segment generation.\nTODO:\nConsider identifying GZIP compression based on GZIPInputStream.GZIP_MAGIC instead\nof file extension.\nDescription\nAdd a description of your PR here.\nA good description should include pointers to an issue or design document, etc.\nUpgrade Notes\nDoes this PR prevent a zero down-time upgrade? (Assume upgrade order: Controller, Broker, Server, Minion)\n\n Yes (Please label as backward-incompat, and complete the section below on Release Notes)\n\nDoes this PR fix a zero-downtime upgrade introduced earlier?\n\n Yes (Please label this as backward-incompat, and complete the section below on Release Notes)\n\nDoes this PR otherwise need attention when creating release notes? Things to consider:\n\nNew configuration options\nDeprecation of configurations\nSignature changes to public methods/interfaces\nNew plugins added or old plugins removed\n\n\n Yes (Please label this PR as release-notes and complete the section on Release Notes)\n\nRelease Notes\nIf you have tagged this as either backward-incompat or release-notes,\nyou MUST add text here that you would like to see appear in release notes of the\nnext release.\nIf you have a series of commits adding or enabling a feature, then\nadd this section only in final commit that marks the feature completed.\nRefer to earlier release notes to see examples of text\nDocumentation\nIf you have introduced a new feature or configuration, please add it to the documentation as well.\nSee https://docs.pinot.apache.org/developers/developers-and-contributors/update-document", "createdAt": "2020-12-04T22:46:17Z", "url": "https://github.com/apache/pinot/pull/6321", "merged": true, "mergeCommit": {"oid": "70be687748df29d7dd144fbedc46fcc302dea30a"}, "closed": true, "closedAt": "2020-12-07T21:35:23Z", "author": {"login": "mayankshriv"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjAoxTgFqTU0NTM2ODA0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj8XxLgFqTU0NjU0ODY0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MzY4MDQw", "url": "https://github.com/apache/pinot/pull/6321#pullrequestreview-545368040", "createdAt": "2020-12-04T23:49:07Z", "commit": {"oid": "73205e337417f25cb1d5fdb8b37b82f921182262"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMzo0OTowN1rOH_mQzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMzo0OTowN1rOH_mQzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ0OTIzMQ==", "bodyText": "do you need to rewind the stream?", "url": "https://github.com/apache/pinot/pull/6321#discussion_r536449231", "createdAt": "2020-12-04T23:49:07Z", "author": {"login": "xiangfu0"}, "path": "pinot-plugins/pinot-input-format/pinot-json/src/main/java/org/apache/pinot/plugin/inputformat/json/JSONRecordReader.java", "diffHunk": "@@ -86,12 +91,14 @@ public GenericRow next(GenericRow reuse) {\n   public void rewind()\n       throws IOException {\n     _iterator.close();\n+    _inputStream.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73205e337417f25cb1d5fdb8b37b82f921182262"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abbac5dcbafd71cda39d191930e3803f0b31cffe", "author": {"user": {"login": "mayankshriv", "name": "Mayank Shrivastava"}}, "url": "https://github.com/apache/pinot/commit/abbac5dcbafd71cda39d191930e3803f0b31cffe", "committedDate": "2020-12-05T22:19:01Z", "message": "Enhance JSONRecordReader to handle GZIP compressed JSON files.\n\nEnhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in `RecordReaderUtils` to check for GZIP compression that\njust relies on `.gz` segment generation.\n\nTODO:\nConsider identifying GZIP compression based on `GZIPInputStream.GZIP_MAGIC` instead\nof file extension."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73205e337417f25cb1d5fdb8b37b82f921182262", "author": {"user": {"login": "mayankshriv", "name": "Mayank Shrivastava"}}, "url": "https://github.com/apache/pinot/commit/73205e337417f25cb1d5fdb8b37b82f921182262", "committedDate": "2020-12-04T22:41:56Z", "message": "Enhance JSONRecordReader to handle GZIP compressed JSON files.\n\nEnhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in `RecordReaderUtils` to check for GZIP compression that\njust relies on `.gz` segment generation.\n\nTODO:\nConsider identifying GZIP compression based on `GZIPInputStream.GZIP_MAGIC` instead\nof file extension."}, "afterCommit": {"oid": "abbac5dcbafd71cda39d191930e3803f0b31cffe", "author": {"user": {"login": "mayankshriv", "name": "Mayank Shrivastava"}}, "url": "https://github.com/apache/pinot/commit/abbac5dcbafd71cda39d191930e3803f0b31cffe", "committedDate": "2020-12-05T22:19:01Z", "message": "Enhance JSONRecordReader to handle GZIP compressed JSON files.\n\nEnhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in `RecordReaderUtils` to check for GZIP compression that\njust relies on `.gz` segment generation.\n\nTODO:\nConsider identifying GZIP compression based on `GZIPInputStream.GZIP_MAGIC` instead\nof file extension."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTQ4NjQ0", "url": "https://github.com/apache/pinot/pull/6321#pullrequestreview-546548644", "createdAt": "2020-12-07T21:24:51Z", "commit": {"oid": "abbac5dcbafd71cda39d191930e3803f0b31cffe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1593, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}