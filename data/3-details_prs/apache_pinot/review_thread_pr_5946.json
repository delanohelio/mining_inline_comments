{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzkzODMw", "number": 5946, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxOTozMjo1MlrOEeGRFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxOTozNDozNFrOEeGReg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTk1NDEzOnYy", "diffSide": "RIGHT", "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/PinotResultSet.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxOTozMjo1MlrOHJlGhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QyMTowNzowOFrOHOHn4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzExMA==", "bodyText": "nit(formatting): i + 1", "url": "https://github.com/apache/pinot/pull/5946#discussion_r479807110", "createdAt": "2020-08-30T19:32:52Z", "author": {"login": "xiangfu0"}, "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/PinotResultSet.java", "diffHunk": "@@ -62,6 +62,7 @@ public PinotResultSet(org.apache.pinot.client.ResultSet resultSet) {\n     _closed = false;\n     for (int i = 0; i < _totalColumns; i++) {\n       _columns.put(_resultSet.getColumnName(i), i + 1);\n+      _columnDataTypes.put(i+1, _resultSet.getColumnDataType(i));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU2NzAxMA==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5946#discussion_r484567010", "createdAt": "2020-09-07T21:07:08Z", "author": {"login": "KKcorps"}, "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/PinotResultSet.java", "diffHunk": "@@ -62,6 +62,7 @@ public PinotResultSet(org.apache.pinot.client.ResultSet resultSet) {\n     _closed = false;\n     for (int i = 0; i < _totalColumns; i++) {\n       _columns.put(_resultSet.getColumnName(i), i + 1);\n+      _columnDataTypes.put(i+1, _resultSet.getColumnDataType(i));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzExMA=="}, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTk1NDQ5OnYy", "diffSide": "RIGHT", "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/utils/Constants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxOTozMzozOFrOHJlGtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QyMTowNzoxN1rOHOHn9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzE1Ng==", "bodyText": "nit: space between comma and \"STRING\"", "url": "https://github.com/apache/pinot/pull/5946#discussion_r479807156", "createdAt": "2020-08-30T19:33:38Z", "author": {"login": "xiangfu0"}, "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/utils/Constants.java", "diffHunk": "@@ -33,7 +33,7 @@\n   public static final String[] SCHEMA_COLUMNS_DTYPES = {\"STRING\", \"STRING\"};\n \n   public static final String[] TABLE_COLUMNS = {\"TABLE_SCHEM\", \"TABLE_CATALOG\", \"TABLE_NAME\", \"TABLE_TYPE\", \"REMARKS\", \"TYPE_CAT\", \"TYPE_SCHEM\", \"TYPE_NAME\", \"SELF_REFERENCING_COL_NAME\", \"REF_GENERATION\"};\n-  public static final String[] TABLE_COLUMNS_DTYPES = {\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\"};\n+  public static final String[] TABLE_COLUMNS_DTYPES = {\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\",\"STRING\"};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU2NzAyOQ==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5946#discussion_r484567029", "createdAt": "2020-09-07T21:07:17Z", "author": {"login": "KKcorps"}, "path": "pinot-clients/pinot-jdbc-client/src/main/java/org/apache/pinot/client/utils/Constants.java", "diffHunk": "@@ -33,7 +33,7 @@\n   public static final String[] SCHEMA_COLUMNS_DTYPES = {\"STRING\", \"STRING\"};\n \n   public static final String[] TABLE_COLUMNS = {\"TABLE_SCHEM\", \"TABLE_CATALOG\", \"TABLE_NAME\", \"TABLE_TYPE\", \"REMARKS\", \"TYPE_CAT\", \"TYPE_SCHEM\", \"TYPE_NAME\", \"SELF_REFERENCING_COL_NAME\", \"REF_GENERATION\"};\n-  public static final String[] TABLE_COLUMNS_DTYPES = {\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\"};\n+  public static final String[] TABLE_COLUMNS_DTYPES = {\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\", \"STRING\",\"STRING\",\"STRING\"};", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzE1Ng=="}, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTk1NTE0OnYy", "diffSide": "RIGHT", "path": "pinot-clients/pinot-jdbc-client/src/test/java/org/apache/pinot/client/PinotResultSetTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxOTozNDozNFrOHJlHDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QyMTowNzoxMlrOHOHn8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzI0NA==", "bodyText": "nit: i + 1", "url": "https://github.com/apache/pinot/pull/5946#discussion_r479807244", "createdAt": "2020-08-30T19:34:34Z", "author": {"login": "xiangfu0"}, "path": "pinot-clients/pinot-jdbc-client/src/test/java/org/apache/pinot/client/PinotResultSetTest.java", "diffHunk": "@@ -149,6 +149,18 @@ public void testFindColumn()\n     }\n   }\n \n+  @Test\n+  public void testGetResultMetadata() throws Exception {\n+    ResultSetGroup resultSetGroup = getResultSet(TEST_RESULT_SET_RESOURCE);\n+    ResultSet resultSet = resultSetGroup.getResultSet(0);\n+    PinotResultSet pinotResultSet = new PinotResultSet(resultSet);\n+    ResultSetMetaData pinotResultSetMetadata = pinotResultSet.getMetaData();\n+\n+    for (int i = 0; i < resultSet.getColumnCount(); i++) {\n+      Assert.assertEquals(pinotResultSetMetadata.getColumnTypeName(i+1), resultSet.getColumnDataType(i));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU2NzAyNw==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5946#discussion_r484567027", "createdAt": "2020-09-07T21:07:12Z", "author": {"login": "KKcorps"}, "path": "pinot-clients/pinot-jdbc-client/src/test/java/org/apache/pinot/client/PinotResultSetTest.java", "diffHunk": "@@ -149,6 +149,18 @@ public void testFindColumn()\n     }\n   }\n \n+  @Test\n+  public void testGetResultMetadata() throws Exception {\n+    ResultSetGroup resultSetGroup = getResultSet(TEST_RESULT_SET_RESOURCE);\n+    ResultSet resultSet = resultSetGroup.getResultSet(0);\n+    PinotResultSet pinotResultSet = new PinotResultSet(resultSet);\n+    ResultSetMetaData pinotResultSetMetadata = pinotResultSet.getMetaData();\n+\n+    for (int i = 0; i < resultSet.getColumnCount(); i++) {\n+      Assert.assertEquals(pinotResultSetMetadata.getColumnTypeName(i+1), resultSet.getColumnDataType(i));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzI0NA=="}, "originalCommit": {"oid": "3404b4629b6e15a8e61eeec5f43714047ba57384"}, "originalPosition": 118}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3821, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}