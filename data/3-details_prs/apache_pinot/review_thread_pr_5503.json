{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NzYyOTIw", "number": 5503, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMToxMzoxMVrOEDGX6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjozMjozOVrOEDHXug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNjg1NjA5OnYy", "diffSide": "RIGHT", "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMToxMzoxMVrOGf9gcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMzowNToyMFrOGf_lOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE2Njc3MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public static final int DEFAULT_VERSION = 2;\n          \n          \n            \n              public static final int DEFAULT_WRITER_VERSION = 2;", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436166770", "createdAt": "2020-06-05T21:13:11Z", "author": {"login": "mcvsubbu"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "diffHunk": "@@ -36,6 +37,9 @@\n  * Base class for fixed and variable byte writer implementations.\n  */\n public abstract class BaseChunkSingleValueWriter implements SingleColumnSingleValueWriter {\n+  public static final int DEFAULT_VERSION = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MjkzNA==", "bodyText": "Maybe add a TODO or create an issue to remove this before 0.5.0 and put a pointer here to the issue?", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436192934", "createdAt": "2020-06-05T22:31:59Z", "author": {"login": "mcvsubbu"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "diffHunk": "@@ -36,6 +37,9 @@\n  * Base class for fixed and variable byte writer implementations.\n  */\n public abstract class BaseChunkSingleValueWriter implements SingleColumnSingleValueWriter {\n+  public static final int DEFAULT_VERSION = 2;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE2Njc3MA=="}, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjIwMDc2Mg==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436200762", "createdAt": "2020-06-05T23:05:20Z", "author": {"login": "siddharthteotia"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "diffHunk": "@@ -36,6 +37,9 @@\n  * Base class for fixed and variable byte writer implementations.\n  */\n public abstract class BaseChunkSingleValueWriter implements SingleColumnSingleValueWriter {\n+  public static final int DEFAULT_VERSION = 2;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE2Njc3MA=="}, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNjk0ODY1OnYy", "diffSide": "LEFT", "path": "pinot-spi/src/main/java/org/apache/pinot/spi/config/table/FieldConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMTo1NzozMlrOGf-b2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjo1MDo0OVrOGf_Y4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MTk3OA==", "bodyText": "Why are we changing this? This is backward-incompatible change right?", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436181978", "createdAt": "2020-06-05T21:57:32Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/config/table/FieldConfig.java", "diffHunk": "@@ -33,15 +33,16 @@\n   private final IndexType _indexType;\n   private final Map<String, String> _properties;\n \n-  public static String BLOOM_FILTER_COLUMN_KEY = \"bloom.filter\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5NzYwMQ==", "bodyText": "I haven't yet done the migration from IndexingConfig to FieldConfig. It is only being used for text. So this change doesn't affect anyone. Just wanted to clean up names and remove the dotted notation. Going to migrate to FieldConfig soon", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436197601", "createdAt": "2020-06-05T22:50:49Z", "author": {"login": "siddharthteotia"}, "path": "pinot-spi/src/main/java/org/apache/pinot/spi/config/table/FieldConfig.java", "diffHunk": "@@ -33,15 +33,16 @@\n   private final IndexType _indexType;\n   private final Map<String, String> _properties;\n \n-  public static String BLOOM_FILTER_COLUMN_KEY = \"bloom.filter\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MTk3OA=="}, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzAxOTE0OnYy", "diffSide": "RIGHT", "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjozMjoyOFrOGf_HHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMzowNTowOFrOGf_lDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MzA1NA==", "bodyText": "this comment may not hold in the long term, so just leave it as is", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436193054", "createdAt": "2020-06-05T22:32:28Z", "author": {"login": "mcvsubbu"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "diffHunk": "@@ -60,12 +64,13 @@\n    * @param numDocsPerChunk Number of docs per data chunk\n    * @param chunkSize Size of chunk\n    * @param sizeOfEntry Size of entry (in bytes), max size for variable byte implementation.\n-   * @param version Version of file\n+   * @param version format version used to determine whether to use 8 or 4 byte chunk offsets", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjIwMDcxOQ==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436200719", "createdAt": "2020-06-05T23:05:08Z", "author": {"login": "siddharthteotia"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/BaseChunkSingleValueWriter.java", "diffHunk": "@@ -60,12 +64,13 @@\n    * @param numDocsPerChunk Number of docs per data chunk\n    * @param chunkSize Size of chunk\n    * @param sizeOfEntry Size of entry (in bytes), max size for variable byte implementation.\n-   * @param version Version of file\n+   * @param version format version used to determine whether to use 8 or 4 byte chunk offsets", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MzA1NA=="}, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzAxOTQ2OnYy", "diffSide": "RIGHT", "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/FixedByteChunkSingleValueWriter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMjozMjozOVrOGf_HRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMzowNToxMlrOGf_lFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MzA5NQ==", "bodyText": "same", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436193095", "createdAt": "2020-06-05T22:32:39Z", "author": {"login": "mcvsubbu"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/FixedByteChunkSingleValueWriter.java", "diffHunk": "@@ -64,15 +62,15 @@\n    * @param compressionType Type of compression to use.\n    * @param totalDocs Total number of docs to write.\n    * @param numDocsPerChunk Number of documents per chunk.\n-   * @param sizeOfEntry Size of entry (in bytes).\n+   * @param sizeOfEntry Size of entry (in bytes)\n+   * @param writerVersion writer version used to determine whether to use 8 or 4 byte chunk offsets", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjIwMDcyNQ==", "bodyText": "done", "url": "https://github.com/apache/pinot/pull/5503#discussion_r436200725", "createdAt": "2020-06-05T23:05:12Z", "author": {"login": "siddharthteotia"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/v1/FixedByteChunkSingleValueWriter.java", "diffHunk": "@@ -64,15 +62,15 @@\n    * @param compressionType Type of compression to use.\n    * @param totalDocs Total number of docs to write.\n    * @param numDocsPerChunk Number of documents per chunk.\n-   * @param sizeOfEntry Size of entry (in bytes).\n+   * @param sizeOfEntry Size of entry (in bytes)\n+   * @param writerVersion writer version used to determine whether to use 8 or 4 byte chunk offsets", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE5MzA5NQ=="}, "originalCommit": {"oid": "e51d7e3e74b7cabd0b0c27df9692e3ee75554843"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4530, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}