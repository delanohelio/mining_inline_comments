{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyMDg2Njc0", "number": 6270, "title": "Allow setting HTTP headers and parameters during schema upload", "bodyText": "Description\nUseful for sender to annotate additional information for observability and auditing", "createdAt": "2020-11-17T02:02:33Z", "url": "https://github.com/apache/pinot/pull/6270", "merged": true, "mergeCommit": {"oid": "96647ad3c15ec180e4a1491850e2eef481ed1776"}, "closed": true, "closedAt": "2020-11-18T18:42:50Z", "author": {"login": "yupeng9"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddPqY_gH2gAyNTIyMDg2Njc0OjFiNDllNDNlM2JjMmY5MjVlMTAzYzRhMGRlNzg0YTdiNzJhYzcwYzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddRftyAH2gAyNTIyMDg2Njc0OjBjNWNiNmZhZGIxZTUwMWJlMzcwZDM2MzE1YjU2ZDI2NzFiNTcyZGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1b49e43e3bc2f925e103c4a0de784a7b72ac70c6", "author": {"user": {"login": "yupeng9", "name": "Yupeng Fu"}}, "url": "https://github.com/apache/pinot/commit/1b49e43e3bc2f925e103c4a0de784a7b72ac70c6", "committedDate": "2020-11-17T01:55:55Z", "message": "Allow setting HTTP headers and parameters during schema upload"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMDAxNDQ0", "url": "https://github.com/apache/pinot/pull/6270#pullrequestreview-532001444", "createdAt": "2020-11-17T03:45:51Z", "commit": {"oid": "1b49e43e3bc2f925e103c4a0de784a7b72ac70c6"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwMzo0NTo1MVrOH0jSiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwMzo0NTo1NVrOH0jSmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg2NjE4NA==", "bodyText": "Add nullable annotation to headers and parameters", "url": "https://github.com/apache/pinot/pull/6270#discussion_r524866184", "createdAt": "2020-11-17T03:45:51Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/utils/FileUploadDownloadClient.java", "diffHunk": "@@ -243,8 +243,9 @@ private static HttpUriRequest constructDeleteRequest(URI uri) {\n     return requestBuilder.build();\n   }\n \n-  private static HttpUriRequest getAddSchemaRequest(URI uri, String schemaName, File schemaFile) {\n-    return getUploadFileRequest(HttpPost.METHOD_NAME, uri, getContentBody(schemaName, schemaFile), null, null,\n+  private static HttpUriRequest getAddSchemaRequest(URI uri, String schemaName, File schemaFile, List<Header> headers,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b49e43e3bc2f925e103c4a0de784a7b72ac70c6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg2NjIwMA==", "bodyText": "Add nullable annotation to headers and parameters", "url": "https://github.com/apache/pinot/pull/6270#discussion_r524866200", "createdAt": "2020-11-17T03:45:55Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/utils/FileUploadDownloadClient.java", "diffHunk": "@@ -419,7 +420,25 @@ public SimpleHttpResponse sendDeleteRequest(URI uri)\n    */\n   public SimpleHttpResponse addSchema(URI uri, String schemaName, File schemaFile)\n       throws IOException, HttpErrorStatusException {\n-    return sendRequest(getAddSchemaRequest(uri, schemaName, schemaFile));\n+    return sendRequest(getAddSchemaRequest(uri, schemaName, schemaFile, null, null));\n+  }\n+\n+  /**\n+   * Add schema.\n+   *\n+   * @param uri URI\n+   * @param schemaName Schema name\n+   * @param schemaFile Schema file\n+   * @param headers HTTP headers\n+   * @param parameters HTTP parameters\n+   * @return Response\n+   * @throws IOException\n+   * @throws HttpErrorStatusException\n+   */\n+  public SimpleHttpResponse addSchema(URI uri, String schemaName, File schemaFile, List<Header> headers,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b49e43e3bc2f925e103c4a0de784a7b72ac70c6"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c5cb6fadb1e501be370d36315b56d2671b572dc", "author": {"user": {"login": "yupeng9", "name": "Yupeng Fu"}}, "url": "https://github.com/apache/pinot/commit/0c5cb6fadb1e501be370d36315b56d2671b572dc", "committedDate": "2020-11-17T04:04:04Z", "message": "comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1806, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}