{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NDM4MDQ4", "number": 5576, "title": "Remove the code of printing the query plan", "bodyText": "Description\nRemove the code of printing the query plan for the following reasons:\n\nIt is never enabled\nIt can easily flood the log if enabled (log the exact same plan for each segment)\nWe don't really need it even for debugging purpose, where enabling query trace can track all the operators\nIt requires PlanNode to keep some extra member varialbes, complicates the PlanNode code, and requires extra efforts to keep it in-sync with the PlanNode", "createdAt": "2020-06-16T20:02:37Z", "url": "https://github.com/apache/pinot/pull/5576", "merged": true, "mergeCommit": {"oid": "0251892e14887a71300ead0364617c9f8074735f"}, "closed": true, "closedAt": "2020-06-16T23:23:31Z", "author": {"login": "Jackie-Jiang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcr8IfMAFqTQzMTkwNTIwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr9A8eABqjM0NTEwOTk1NDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxOTA1MjAy", "url": "https://github.com/apache/pinot/pull/5576#pullrequestreview-431905202", "createdAt": "2020-06-16T21:28:24Z", "commit": {"oid": "b323736b84f7d1a8ed24147b82d80b77039e4d8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxOTE5Mzcw", "url": "https://github.com/apache/pinot/pull/5576#pullrequestreview-431919370", "createdAt": "2020-06-16T21:53:43Z", "commit": {"oid": "b323736b84f7d1a8ed24147b82d80b77039e4d8e"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTo1Mzo0M1rOGkuggg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMTo1NjowNlrOGkukYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE2MzkwNg==", "bodyText": "Do we have some documentation on the guideline for annotations? I think that at least all the committers should know where to put which annotations.", "url": "https://github.com/apache/pinot/pull/5576#discussion_r441163906", "createdAt": "2020-06-16T21:53:43Z", "author": {"login": "snleee"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/plan/PlanNode.java", "diffHunk": "@@ -18,25 +18,21 @@\n  */\n package org.apache.pinot.core.plan;\n \n+import org.apache.pinot.core.common.Block;\n import org.apache.pinot.core.common.Operator;\n+import org.apache.pinot.spi.annotations.InterfaceAudience;\n \n \n /**\n  * The <code>PlanNode</code> is a single execution plan node inside the {@link Plan} tree.\n  */\n+@InterfaceAudience.Private", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b323736b84f7d1a8ed24147b82d80b77039e4d8e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE2NDg5OQ==", "bodyText": "Also, it would be great if we have some documented guidelines on nullable & nonnull", "url": "https://github.com/apache/pinot/pull/5576#discussion_r441164899", "createdAt": "2020-06-16T21:56:06Z", "author": {"login": "snleee"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/plan/ProjectionPlanNode.java", "diffHunk": "@@ -21,27 +21,22 @@\n import java.util.HashMap;\n import java.util.Map;\n import java.util.Set;\n-import javax.annotation.Nonnull;\n import org.apache.pinot.core.common.DataSource;\n import org.apache.pinot.core.indexsegment.IndexSegment;\n import org.apache.pinot.core.operator.ProjectionOperator;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n \n \n /**\n  * The <code>ProjectionPlanNode</code> class provides the execution plan for fetching projection columns' data source\n  * on a single segment.\n  */\n public class ProjectionPlanNode implements PlanNode {\n-  private static final Logger LOGGER = LoggerFactory.getLogger(ProjectionPlanNode.class);\n-\n   private final IndexSegment _indexSegment;\n   private final Set<String> _projectionColumns;\n   private final DocIdSetPlanNode _docIdSetPlanNode;\n \n-  public ProjectionPlanNode(@Nonnull IndexSegment indexSegment, @Nonnull Set<String> projectionColumns,\n-      @Nonnull DocIdSetPlanNode docIdSetPlanNode) {\n+  public ProjectionPlanNode(IndexSegment indexSegment, Set<String> projectionColumns,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b323736b84f7d1a8ed24147b82d80b77039e4d8e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56923a2a946971ad060acdac47f89cdad7e8ac89", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/56923a2a946971ad060acdac47f89cdad7e8ac89", "committedDate": "2020-06-16T22:29:50Z", "message": "Remove the code of printing the query plan\n\nRemove the code of printing the query plan for the following reasons:\n- It is never enabled\n- It can easily flood the log if enabled (log the exact same plan for each segment)\n- We don't really need it even for debugging purpose, where enabling query trace can track all the operators\n- It requires PlanNode to keep some extra member varialbes, complicates the PlanNode code, and requires extra efforts to keep it in-sync with the PlanNode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b323736b84f7d1a8ed24147b82d80b77039e4d8e", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/b323736b84f7d1a8ed24147b82d80b77039e4d8e", "committedDate": "2020-06-16T19:54:39Z", "message": "Remove the code of printing the query plan\n\nRemove the code of printing the query plan for the following reasons:\n- It is never enabled\n- It can easily flood the log if enabled (log the exact same plan for each segment)\n- We don't really need it even for debugging purpose, where enabling query trace can track all the operators\n- It requires PlanNode to keep some extra member varialbes, complicates the PlanNode code, and requires extra efforts to keep it in-sync with the PlanNode"}, "afterCommit": {"oid": "56923a2a946971ad060acdac47f89cdad7e8ac89", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/56923a2a946971ad060acdac47f89cdad7e8ac89", "committedDate": "2020-06-16T22:29:50Z", "message": "Remove the code of printing the query plan\n\nRemove the code of printing the query plan for the following reasons:\n- It is never enabled\n- It can easily flood the log if enabled (log the exact same plan for each segment)\n- We don't really need it even for debugging purpose, where enabling query trace can track all the operators\n- It requires PlanNode to keep some extra member varialbes, complicates the PlanNode code, and requires extra efforts to keep it in-sync with the PlanNode"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 630, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}