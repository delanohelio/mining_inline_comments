{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ3MDcwMTU0", "number": 6397, "title": "Clean up H3Index Reader/Creator", "bodyText": "Part of #5280\nCleaned up H3Index Reader/Creator, added some docs. Also, changed the index config to include resolutions.", "createdAt": "2020-12-30T20:02:11Z", "url": "https://github.com/apache/pinot/pull/6397", "merged": true, "mergeCommit": {"oid": "83bc21753fb43552401bd3323b0ebb366365fe28"}, "closed": true, "closedAt": "2020-12-31T07:37:47Z", "author": {"login": "yupeng9"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdrU85qAH2gAyNTQ3MDcwMTU0OmM1Yzg4NTY3ZmY4ZGM5N2VkMzIwM2Q2MGUwNWVhYTJlZWM2ZDk0YTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdre7BgAFqTU2MDI4Mjc0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "author": {"user": {"login": "yupeng9", "name": "Yupeng Fu"}}, "url": "https://github.com/apache/pinot/commit/c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "committedDate": "2020-12-30T20:00:36Z", "message": "Cleaned up H3Index Reader/Creator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjgyNzQ1", "url": "https://github.com/apache/pinot/pull/6397#pullrequestreview-560282745", "createdAt": "2020-12-31T07:33:54Z", "commit": {"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwNzozMzo1NVrOIM63lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwNzozNzozMFrOIM652Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODMyNA==", "bodyText": "move the Main into a test case", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418324", "createdAt": "2020-12-31T07:33:55Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/creator/impl/geospatial/H3IndexCreator.java", "diffHunk": "@@ -303,7 +339,6 @@ public static void main(String[] args)\n     Point point2 = GeometryUtils.GEOMETRY_FACTORY.createPoint(new Coordinate(37.368832, -122.036346));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8"}, "originalPosition": 208}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODU0Mw==", "bodyText": "make sure you are using the stylesheet to format the code", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418543", "createdAt": "2020-12-31T07:35:18Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/index/datasource/BaseDataSource.java", "diffHunk": "@@ -44,13 +44,10 @@\n   private final NullValueVectorReader _nullValueVector;\n \n   public BaseDataSource(DataSourceMetadata dataSourceMetadata, ForwardIndexReader<?> forwardIndex,\n-                        @Nullable Dictionary dictionary, @Nullable InvertedIndexReader<?> invertedIndex,\n-                        @Nullable InvertedIndexReader<?> rangeIndex,\n-                        @Nullable H3IndexReader h3Index,\n-                        @Nullable TextIndexReader textIndex,\n-                        @Nullable TextIndexReader fstIndex,\n-                        @Nullable BloomFilterReader bloomFilter,\n-                        @Nullable NullValueVectorReader nullValueVector) {\n+      @Nullable Dictionary dictionary, @Nullable InvertedIndexReader<?> invertedIndex,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODkwNQ==", "bodyText": "I think we added a new way of adding indexing configs for each field... can you follow the pattern used by text index? can be done in another PR", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418905", "createdAt": "2020-12-31T07:37:30Z", "author": {"login": "kishoreg"}, "path": "pinot-tools/src/main/resources/examples/batch/starbucksStores/starbucksStores_offline_table_config.json", "diffHunk": "@@ -15,8 +15,11 @@\n     \"loadMode\": \"MMAP\",\n     \"invertedIndexColumns\": [\n     ],\n-    \"h3IndexColumns\": [\n-      \"location_st_point\"\n+    \"h3IndexConfigs\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1714, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}