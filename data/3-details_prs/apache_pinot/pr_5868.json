{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MjI1OTYw", "number": 5868, "title": "[TE] Added support for BigQuery as data source", "bodyText": "Description\nAdded support of BigQuery as a datasource for ThirdEye.\nI followed https://thirdeye.readthedocs.io/en/latest/contribute_datasource.html.\nDesign points:\n\nThe JDBC driver for BigQuery has to be downloaded and put into the maven project. Also, the driver requires specific version for some dependencies.\n\nA normal build is unchanged: mvn install -DskipTests and a build with bigquery is  mvn install -DskipTests -P bigquery\nAlso, I've added the same principle for install.sh:\n./install.sh has the same behavior as before, ./install.sh bigquery downloads and  install the driver, and compile with the bigquery profile.\nThe install.sh loop can look a bit complex/over-engineered, but I am anticipating the fact that we will have other databases that require more ops or other profiles for specific dependencies. We already have another case for using CloudSQL on GCP, but it's not the purpose of this MR. To  give you an idea, the result is ./install.sh bigquery cloudsql.\nI am not a Java  dev so I had no idea how to do this properly. Let me know if I you're thinking of a better way to do this.\nUpgrade Notes\nDoes this PR prevent a zero down-time upgrade? (Assume upgrade order: Controller, Broker, Server, Minion)\nNo\nDoes this PR fix a zero-downtime upgrade introduced earlier?\nNo\nDoes this PR otherwise need attention when creating release notes? Things to consider:\nNo\nRelease Notes\nThirdEye: Added support for BigQuery as data source\nDocumentation\nI've added a documentation page here thirdeye/docs/bigquery.rst, but I did not find how to build the doc so I'm not 100% sure it builds correctly.", "createdAt": "2020-08-14T23:52:09Z", "url": "https://github.com/apache/pinot/pull/5868", "merged": true, "mergeCommit": {"oid": "a122728f8b821887fbedbd837eaa596da962e778"}, "closed": true, "closedAt": "2020-09-06T20:56:02Z", "author": {"login": "cyrilou242"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-9KfJgH2gAyNDY4MjI1OTYwOjc0NTk2Njk1NTJkMmE2YTU5OTdkNWQwODY2ZDAyMDk4OWExZGIzZjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGU0N3gFqTQ4MzE3MjE1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7459669552d2a6a5997d5d0866d020989a1db3f8", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/7459669552d2a6a5997d5d0866d020989a1db3f8", "committedDate": "2020-08-14T23:25:03Z", "message": "implemented te bigquery datasource logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bc2a878339ca5271d759abd466c8f13d7262cd5", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/8bc2a878339ca5271d759abd466c8f13d7262cd5", "committedDate": "2020-08-14T23:26:46Z", "message": "added te bigquery resources config and doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb1d4bfb61944ced81487dcbafb3f8555d595e39", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/fb1d4bfb61944ced81487dcbafb3f8555d595e39", "committedDate": "2020-08-17T16:00:42Z", "message": "fixed profile list build"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4OTQ2Nzkz", "url": "https://github.com/apache/pinot/pull/5868#pullrequestreview-468946793", "createdAt": "2020-08-18T02:20:34Z", "commit": {"oid": "fb1d4bfb61944ced81487dcbafb3f8555d595e39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwMjoyMDozNFrOHCA9fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwMjoyMDozNFrOHCA9fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg3NDk0Mw==", "bodyText": "what is the license for this library?", "url": "https://github.com/apache/pinot/pull/5868#discussion_r471874943", "createdAt": "2020-08-18T02:20:34Z", "author": {"login": "kishoreg"}, "path": "thirdeye/pom.xml", "diffHunk": "@@ -545,6 +545,54 @@\n     </dependencies>\n   </dependencyManagement>\n \n+  <profiles>\n+    <profile>\n+      <id>bigquery</id>\n+      <properties>\n+        <avro.version>1.9.0</avro.version>\n+        <google-auth-library-oauth2-http.version>0.13.0</google-auth-library-oauth2-http.version>\n+        <gax.version>1.42.0</gax.version>\n+        <google-api-services-bigquery.version>v2-rev426-1.25.0</google-api-services-bigquery.version>\n+        <jdbc42.version>1.2.4</jdbc42.version>\n+      </properties>\n+    <dependencyManagement>\n+      <dependencies>\n+        <dependency>\n+          <groupId>com.google.auth</groupId>\n+          <artifactId>google-auth-library-oauth2-http</artifactId>\n+          <version>${google-auth-library-oauth2-http.version}</version>\n+        </dependency>\n+        <dependency>\n+          <groupId>com.google.api</groupId>\n+          <artifactId>gax</artifactId>\n+          <version>${gax.version}</version>\n+        </dependency>\n+        <dependency>\n+          <groupId>com.google.apis</groupId>\n+          <artifactId>google-api-services-bigquery</artifactId>\n+          <version>${google-api-services-bigquery.version}</version>\n+        </dependency>\n+        <dependency>\n+          <groupId>org.apache.avro</groupId>\n+          <artifactId>avro</artifactId>\n+          <version>${avro.version}</version>\n+        </dependency>\n+        <dependency>\n+          <groupId>com.simba.googlebigquery</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb1d4bfb61944ced81487dcbafb3f8555d595e39"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cef3d67b3198fcf818cb67b4fc3b7a7f41f034c7", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/cef3d67b3198fcf818cb67b4fc3b7a7f41f034c7", "committedDate": "2020-08-19T14:50:34Z", "message": "remove unwanted dep to google-http-client library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49c0497b17d2701386ceecdace7815908e65190f", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/49c0497b17d2701386ceecdace7815908e65190f", "committedDate": "2020-08-19T14:57:31Z", "message": "Merge pull request #1 from cyrilou242/te-bq-fix\n\nremove unwanted dep to google-http-client library"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MjI0MjI4", "url": "https://github.com/apache/pinot/pull/5868#pullrequestreview-478224228", "createdAt": "2020-08-30T18:21:16Z", "commit": {"oid": "49c0497b17d2701386ceecdace7815908e65190f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMTcyMTU1", "url": "https://github.com/apache/pinot/pull/5868#pullrequestreview-483172155", "createdAt": "2020-09-06T20:55:55Z", "commit": {"oid": "49c0497b17d2701386ceecdace7815908e65190f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 199, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}