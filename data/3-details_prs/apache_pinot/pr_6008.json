{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NDE4NjIy", "number": 6008, "title": "Add a length limit of 512 to the properties stored in the segment metadata", "bodyText": "Description\nPrevent storing very long values into the segment metadata. This could happen for text column, bytes column for serialized objects, or blob store use cases (not recommended but supported).", "createdAt": "2020-09-11T20:09:59Z", "url": "https://github.com/apache/pinot/pull/6008", "merged": true, "mergeCommit": {"oid": "b2df8ea51180df272cc7e67b91ac2f7827db4b1a"}, "closed": true, "closedAt": "2020-09-15T22:04:05Z", "author": {"login": "Jackie-Jiang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdH7LFugH2gAyNDg1NDE4NjIyOjU1OTM2NTYwYWMxMmQ4NjA3N2MwM2I3YjM3MjExMzlmZjA3Mjg4Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJNA6bgFqTQ4OTAwNzAyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "55936560ac12d86077c03b7b3721139ff0728879", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/55936560ac12d86077c03b7b3721139ff0728879", "committedDate": "2020-09-11T20:11:13Z", "message": "Add a length limit of 512 to the properties stored in the segment metadata"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "362fa39fa9b296291666a44b08b099686537f865", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/362fa39fa9b296291666a44b08b099686537f865", "committedDate": "2020-09-11T20:05:55Z", "message": "Add a length limit of 512 to the properties stored in the segment metadata"}, "afterCommit": {"oid": "55936560ac12d86077c03b7b3721139ff0728879", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/55936560ac12d86077c03b7b3721139ff0728879", "committedDate": "2020-09-11T20:11:13Z", "message": "Add a length limit of 512 to the properties stored in the segment metadata"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTIzNzYy", "url": "https://github.com/apache/pinot/pull/6008#pullrequestreview-487123762", "createdAt": "2020-09-11T21:05:15Z", "commit": {"oid": "55936560ac12d86077c03b7b3721139ff0728879"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMTowNToxNVrOHQt1rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMTowNToxNVrOHQt1rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI5MDI4Ng==", "bodyText": "shall this align with FieldSpec.DEFAULT_MAX_LENGTH?", "url": "https://github.com/apache/pinot/pull/6008#discussion_r487290286", "createdAt": "2020-09-11T21:05:15Z", "author": {"login": "yupeng9"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/creator/impl/SegmentColumnarIndexCreator.java", "diffHunk": "@@ -78,6 +78,9 @@\n public class SegmentColumnarIndexCreator implements SegmentCreator {\n   // TODO Refactor class name to match interface name\n   private static final Logger LOGGER = LoggerFactory.getLogger(SegmentColumnarIndexCreator.class);\n+  // Allow at most 512 characters for the metadata property\n+  private static final int METADATA_PROPERTY_LENGTH_LIMIT = 512;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55936560ac12d86077c03b7b3721139ff0728879"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MDA3MDI5", "url": "https://github.com/apache/pinot/pull/6008#pullrequestreview-489007029", "createdAt": "2020-09-15T19:32:19Z", "commit": {"oid": "55936560ac12d86077c03b7b3721139ff0728879"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 23, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}