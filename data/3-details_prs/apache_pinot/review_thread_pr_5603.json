{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MTE0MDM1", "number": 5603, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxOTo1ODoxNVrOEHtbDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxOTo1ODoxNVrOEHtbDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTE5Njk0OnYy", "diffSide": "RIGHT", "path": "pinot-spi/src/test/java/org/apache/pinot/spi/filesystem/LocalPinotFSTest.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxOTo1ODoxNVrOGnO62Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDoyMDoxNVrOGnPkhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5MjA4OQ==", "bodyText": "Perhaps add sleep to ensure < can be used?", "url": "https://github.com/apache/pinot/pull/5603#discussion_r443792089", "createdAt": "2020-06-22T19:58:15Z", "author": {"login": "mayankshriv"}, "path": "pinot-spi/src/test/java/org/apache/pinot/spi/filesystem/LocalPinotFSTest.java", "diffHunk": "@@ -188,7 +188,7 @@ public void testFS()\n     localPinotFS.touch(nonExistingFile.toURI());\n     Assert.assertTrue(nonExistingFile.exists());\n     long currentTime = System.currentTimeMillis();\n-    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) < currentTime);\n+    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) <= currentTime);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b721ead9ec1693dede866a046959c33d306a9e66"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5OTM4Mg==", "bodyText": "I don't see in what <= is not a valid assertion. I'm not a fan of adding sleeps in a codebase :/", "url": "https://github.com/apache/pinot/pull/5603#discussion_r443799382", "createdAt": "2020-06-22T20:13:59Z", "author": {"login": "daniellavoie"}, "path": "pinot-spi/src/test/java/org/apache/pinot/spi/filesystem/LocalPinotFSTest.java", "diffHunk": "@@ -188,7 +188,7 @@ public void testFS()\n     localPinotFS.touch(nonExistingFile.toURI());\n     Assert.assertTrue(nonExistingFile.exists());\n     long currentTime = System.currentTimeMillis();\n-    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) < currentTime);\n+    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) <= currentTime);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5MjA4OQ=="}, "originalCommit": {"oid": "b721ead9ec1693dede866a046959c33d306a9e66"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgwMTAxNw==", "bodyText": "I dont believe mayank was asking to add sleep in code base. I think he was suggesting a sleep before line 190. Say, Thread.sleep(10)", "url": "https://github.com/apache/pinot/pull/5603#discussion_r443801017", "createdAt": "2020-06-22T20:17:02Z", "author": {"login": "mcvsubbu"}, "path": "pinot-spi/src/test/java/org/apache/pinot/spi/filesystem/LocalPinotFSTest.java", "diffHunk": "@@ -188,7 +188,7 @@ public void testFS()\n     localPinotFS.touch(nonExistingFile.toURI());\n     Assert.assertTrue(nonExistingFile.exists());\n     long currentTime = System.currentTimeMillis();\n-    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) < currentTime);\n+    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) <= currentTime);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5MjA4OQ=="}, "originalCommit": {"oid": "b721ead9ec1693dede866a046959c33d306a9e66"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgwMjc1Nw==", "bodyText": "That's what I understood too. One or the other I don't really mind. I just think that an equals value is still a valid assertion in that context and would save us an irrelevant Thread.sleep. Just my 2 cents :)", "url": "https://github.com/apache/pinot/pull/5603#discussion_r443802757", "createdAt": "2020-06-22T20:20:15Z", "author": {"login": "daniellavoie"}, "path": "pinot-spi/src/test/java/org/apache/pinot/spi/filesystem/LocalPinotFSTest.java", "diffHunk": "@@ -188,7 +188,7 @@ public void testFS()\n     localPinotFS.touch(nonExistingFile.toURI());\n     Assert.assertTrue(nonExistingFile.exists());\n     long currentTime = System.currentTimeMillis();\n-    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) < currentTime);\n+    Assert.assertTrue(localPinotFS.lastModified(nonExistingFile.toURI()) <= currentTime);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5MjA4OQ=="}, "originalCommit": {"oid": "b721ead9ec1693dede866a046959c33d306a9e66"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4361, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}