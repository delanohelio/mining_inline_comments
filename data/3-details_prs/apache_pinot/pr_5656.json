{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNzYxNTg1", "number": 5656, "title": "Don't override tenantConfig in singleTenantCluster mode, if user explicitly set tenantConfig", "bodyText": "Description\nWe have a flag that can be set when starting the controller called cluster.tenant.isolation. It is by default true. It indicates that the cluster has only 1 tenant called DefaultTenant. If this is set to true, any brokers/servers added to the cluster will have tag DefaultTenant, otherwise they'll have tag server_untagged/broker_untagged. Practically, this flag is true only in testing/quickstart/test setups. All productionized environments would set this to false, and create their own tenants.\nIn quickstart, after initial run, often times users edit the tenantConfig (add another tenant or add tagOverrideConfig). But those settings get overridden because of this flag.\nIn this pR, Allowing changes to tenant config to come through, even in singleTenantCluster mode", "createdAt": "2020-07-02T22:06:04Z", "url": "https://github.com/apache/pinot/pull/5656", "merged": true, "mergeCommit": {"oid": "441a285467258b1c742d6fa6bc227cc5716a4b58"}, "closed": true, "closedAt": "2020-07-06T21:33:40Z", "author": {"login": "npawar"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyLb-8gFqTQ0MjgwODY0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyXAS1AH2gAyNDQzNzYxNTg1OmY3ODBkNWYxOWQyMTkyZjdhMmU1ZjI3NGY2MDE4MzQ3MDQ1NzQ5ZTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyODA4NjQw", "url": "https://github.com/apache/pinot/pull/5656#pullrequestreview-442808640", "createdAt": "2020-07-06T06:41:49Z", "commit": {"oid": "0f1ed4cfcad0b73f3d64145bb1f488e4f0fbf6ef"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjg4ODgx", "url": "https://github.com/apache/pinot/pull/5656#pullrequestreview-443288881", "createdAt": "2020-07-06T17:49:53Z", "commit": {"oid": "924d95d2bb2f11bcbf4e49fab6ba3c7ac30ad452"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzo0OTo1M1rOGthUdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzo0OTo1M1rOGthUdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM4NTAxNQ==", "bodyText": "Not sure if we should perform this check. Maybe we should always do this null check?", "url": "https://github.com/apache/pinot/pull/5656#discussion_r450385015", "createdAt": "2020-07-06T17:49:53Z", "author": {"login": "Jackie-Jiang"}, "path": "pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/PinotHelixResourceManager.java", "diffHunk": "@@ -1044,8 +1044,11 @@ public Schema getTableSchema(String tableName) {\n   public void addTable(TableConfig tableConfig)\n       throws IOException {\n     if (isSingleTenantCluster()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "924d95d2bb2f11bcbf4e49fab6ba3c7ac30ad452"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e4c6098c42b9928cd2bee0589d6d6cdf5fc80ac", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/7e4c6098c42b9928cd2bee0589d6d6cdf5fc80ac", "committedDate": "2020-07-06T19:17:45Z", "message": "Don't override tenantConfig in singleTenantCluster mode, if user explicitly set tenantConfig"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfe13afa02e6fdf90608c06ce07ca137b2ebfc1", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/4bfe13afa02e6fdf90608c06ce07ca137b2ebfc1", "committedDate": "2020-07-06T19:17:45Z", "message": "Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73d6c118ab921179924607097ad00b63b28b6fe5", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/73d6c118ab921179924607097ad00b63b28b6fe5", "committedDate": "2020-07-06T19:17:45Z", "message": "Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c8ab4be7a53a09bf5ad8ac30a6fc990f5973baa", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/8c8ab4be7a53a09bf5ad8ac30a6fc990f5973baa", "committedDate": "2020-07-06T19:17:45Z", "message": "Add tags to tableconfig is not provided and singleTenant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57b357960f8d15871439761f84f9aa2a96a327de", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/57b357960f8d15871439761f84f9aa2a96a327de", "committedDate": "2020-07-06T19:17:45Z", "message": "Remove single tenant check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3038a7d879811bbc4559447923e6d74057658275", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/3038a7d879811bbc4559447923e6d74057658275", "committedDate": "2020-07-06T19:17:45Z", "message": "Remove unused method"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b52d918207e27f9ef7e07ed6813a0562bda64c4", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/0b52d918207e27f9ef7e07ed6813a0562bda64c4", "committedDate": "2020-07-06T18:07:23Z", "message": "Remove unused method"}, "afterCommit": {"oid": "3038a7d879811bbc4559447923e6d74057658275", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/3038a7d879811bbc4559447923e6d74057658275", "committedDate": "2020-07-06T19:17:45Z", "message": "Remove unused method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f780d5f19d2192f7a2e5f274f6018347045749e7", "author": {"user": {"login": "npawar", "name": "Neha Pawar"}}, "url": "https://github.com/apache/pinot/commit/f780d5f19d2192f7a2e5f274f6018347045749e7", "committedDate": "2020-07-06T20:10:26Z", "message": "Fix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 769, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}