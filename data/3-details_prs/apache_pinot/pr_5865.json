{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MTA4NTQ4", "number": 5865, "title": "[TE] anomaly search - hide child anomaly unless queried with anomaly ids", "bodyText": "Previously, the child anomalies will be hidden from the anomalies page. However, if clicked from an entity alert email, it requires showing those anomalies. This PR fixes the issue.", "createdAt": "2020-08-14T17:53:29Z", "url": "https://github.com/apache/pinot/pull/5865", "merged": true, "mergeCommit": {"oid": "bae21bf6278b0af2774552a1bce0266d1504bcca"}, "closed": true, "closedAt": "2020-08-17T20:24:23Z", "author": {"login": "jihaozh"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-4rrrgFqTQ2Nzc4MDk5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_4PWvAH2gAyNDY4MTA4NTQ4OjIzMGNlZjhhMjRhM2IwNjA5MDhlOWUwZGU5NDk0MjE4M2U5NThjYzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NzgwOTk4", "url": "https://github.com/apache/pinot/pull/5865#pullrequestreview-467780998", "createdAt": "2020-08-14T18:11:47Z", "commit": {"oid": "d173efe30472153fe7d65c52c86926a077ea765f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoxMTo0N1rOHA-Eow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoxMTo0N1rOHA-Eow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc3OTA0Mw==", "bodyText": "Hi Jihao, is there a way for us to test the fix before waiting for the next deployment? This is a bit critical which is impacting all entity monitoring. Let's make sure it works when we deploy.", "url": "https://github.com/apache/pinot/pull/5865#discussion_r470779043", "createdAt": "2020-08-14T18:11:47Z", "author": {"login": "cecilynie"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/v2/anomalies/AnomalySearcher.java", "diffHunk": "@@ -70,7 +70,11 @@ public AnomalySearcher() {\n    * @return the result\n    */\n   public Map<String, Object> search(AnomalySearchFilter searchFilter, int limit, int offset) {\n-    Predicate predicate = Predicate.EQ(\"child\", false);\n+    Predicate predicate = Predicate.NEQ(\"baseId\", 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d173efe30472153fe7d65c52c86926a077ea765f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58469f231d057063b486f37a467250c653fc4b16", "author": {"user": {"login": "jihaozh", "name": "Jihao Zhang"}}, "url": "https://github.com/apache/pinot/commit/58469f231d057063b486f37a467250c653fc4b16", "committedDate": "2020-08-14T18:50:37Z", "message": "[TE] anomaly search - hide child anomaly unless queried with anomaly ids"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d173efe30472153fe7d65c52c86926a077ea765f", "author": {"user": {"login": "jihaozh", "name": "Jihao Zhang"}}, "url": "https://github.com/apache/pinot/commit/d173efe30472153fe7d65c52c86926a077ea765f", "committedDate": "2020-08-14T17:50:22Z", "message": "[TE] anomaly search - hide child anomaly unless queried with anomaly ids"}, "afterCommit": {"oid": "58469f231d057063b486f37a467250c653fc4b16", "author": {"user": {"login": "jihaozh", "name": "Jihao Zhang"}}, "url": "https://github.com/apache/pinot/commit/58469f231d057063b486f37a467250c653fc4b16", "committedDate": "2020-08-14T18:50:37Z", "message": "[TE] anomaly search - hide child anomaly unless queried with anomaly ids"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3ODA3OTg3", "url": "https://github.com/apache/pinot/pull/5865#pullrequestreview-467807987", "createdAt": "2020-08-14T18:54:43Z", "commit": {"oid": "58469f231d057063b486f37a467250c653fc4b16"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTEwOTc3", "url": "https://github.com/apache/pinot/pull/5865#pullrequestreview-468110977", "createdAt": "2020-08-17T00:30:02Z", "commit": {"oid": "58469f231d057063b486f37a467250c653fc4b16"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMDozMDowMlrOHBWlCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMDozMDowMlrOHBWlCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE4MDU1Mg==", "bodyText": "what's the rational behind querying by baseId? Can you also include it in the code-comment.", "url": "https://github.com/apache/pinot/pull/5865#discussion_r471180552", "createdAt": "2020-08-17T00:30:02Z", "author": {"login": "akshayrai"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/v2/anomalies/AnomalySearcher.java", "diffHunk": "@@ -70,7 +70,11 @@ public AnomalySearcher() {\n    * @return the result\n    */\n   public Map<String, Object> search(AnomalySearchFilter searchFilter, int limit, int offset) {\n-    Predicate predicate = Predicate.EQ(\"child\", false);\n+    Predicate predicate = Predicate.NEQ(\"baseId\", 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58469f231d057063b486f37a467250c653fc4b16"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NzM3ODAz", "url": "https://github.com/apache/pinot/pull/5865#pullrequestreview-468737803", "createdAt": "2020-08-17T18:31:28Z", "commit": {"oid": "58469f231d057063b486f37a467250c653fc4b16"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxODozMToyOFrOHB1jrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxODozMToyOFrOHB1jrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTY4ODExMQ==", "bodyText": "+1", "url": "https://github.com/apache/pinot/pull/5865#discussion_r471688111", "createdAt": "2020-08-17T18:31:28Z", "author": {"login": "vincentchenjl"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/v2/anomalies/AnomalySearcher.java", "diffHunk": "@@ -70,7 +70,11 @@ public AnomalySearcher() {\n    * @return the result\n    */\n   public Map<String, Object> search(AnomalySearchFilter searchFilter, int limit, int offset) {\n-    Predicate predicate = Predicate.EQ(\"child\", false);\n+    Predicate predicate = Predicate.NEQ(\"baseId\", 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE4MDU1Mg=="}, "originalCommit": {"oid": "58469f231d057063b486f37a467250c653fc4b16"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "230cef8a24a3b060908e9e0de94942183e958cc6", "author": {"user": {"login": "jihaozh", "name": "Jihao Zhang"}}, "url": "https://github.com/apache/pinot/commit/230cef8a24a3b060908e9e0de94942183e958cc6", "committedDate": "2020-08-17T20:14:46Z", "message": "address comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 187, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}