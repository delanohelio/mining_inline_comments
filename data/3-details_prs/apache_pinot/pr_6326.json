{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNDEyMDUz", "number": 6326, "title": "pinot-controller unit test suite.", "bodyText": "Description\nThis PR addresses issue #5688. Most (195/208) test cases under pinot-controller were modified to use common shared state (Zookeeper, Pinot Controller, Broker, and Server instances) inside a TestNG suite (see testng-statefull.xmland ControllerTestSetup.java).Some (13/208) test cases could not be migrated over as they were not compatible with shared state model. These tests cases are in testng-stateless.xml suite and run as before (i.e each test allocates and deallocates its own state).\ntestng-statefull.xml suite\nTestNG invokes the @BeforeSuite method in ControllerTestSetup where the shared state (Zookeeper, Pinot Controller, Broker and Server instances) is initialized before any of the tests run. Each test case class, that uses shared state, has a @BeforeClass method where ControllerTestUtils.validate() function is called to ensure that shared state is clean. If the setupClusterAndValidate() function does not assert, the @Test functions in the class are run. At the end of each test class, the @AfterClass function is called which in turn calls ControllerTestUtils.cleanup() to clean up shared state to avoid conflict with subsequent test classes. Once all the test classes are done executing, TestNG invokes the @AfterSuite method in ControllerTestSetup to de-initialize the shared state to prevent conflicts with subsequent test suites.\ntestng-stateless.xml suite\nThis suite contains test cases that allocate and deallocate their own state. In future, we should try to see if these test cases can be migrated to testng-statefull.xml suite.\nPerformance\nBefore this change, pinot-controller test cases took ~5 minutes to run. After this PR, pinot-controller test cases take ~2 minutes to run.\nBEFORE:\nTests run: 207, Failures: 0, Errors: 0, Skipped: 0[INFO]\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  04:54 min\n[INFO] Finished at: 2020-12-01T10:46:58-08:00\n[INFO] ------------------------------------------------------------------------\n\n\nAFTER:\n[INFO] Tests run: 208, Failures: 0, Errors: 0, Skipped: 0\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:10 min\n[INFO] Finished at: 2020-12-06T21:48:24-08:00\n[INFO] ------------------------------------------------------------------------\n\nmaven-surefire-plugin\nMaven surefire plugin version number was upgraded to 3.0.0-M5 since the earlier version (2.19) was causing test cases defined in the suite to execute twice. Modifying parameter settings in pom.xml did not seem to be working. It seems like there is a bug in version 2.19 of surefire plugin that causes test suites to run twice.", "createdAt": "2020-12-07T06:25:34Z", "url": "https://github.com/apache/pinot/pull/6326", "merged": true, "mergeCommit": {"oid": "0522accf53fe06e3cd99301bc79c42260816c023"}, "closed": true, "closedAt": "2020-12-18T16:58:05Z", "author": {"login": "amrishlal"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf35wUgH2gAyNTMzNDEyMDUzOjNiYTY5NDNkNzdhMDk1Y2QwNGZhZjk5NmViMDc3MDc4NmQzMDlkYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmSoppgH2gAyNTMzNDEyMDUzOjhlNDlkZGE2MDkwNWFlMTEyN2YzYjQ4ZTQ0YWY0YzA3ZmZkMjBjODY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3ba6943d77a095cd04faf996eb0770786d309dc0", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/3ba6943d77a095cd04faf996eb0770786d309dc0", "committedDate": "2020-11-25T05:56:45Z", "message": "create initial test suite."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ef4936c9b731f42fbb7b9ff27bb9354bd88be2c", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/7ef4936c9b731f42fbb7b9ff27bb9354bd88be2c", "committedDate": "2020-11-28T01:37:15Z", "message": "Move startController() into @BeforeSuite function."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4645cfeb1ededdfb318dd688c25fdf041b01174c", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/4645cfeb1ededdfb318dd688c25fdf041b01174c", "committedDate": "2020-11-28T06:55:12Z", "message": "move addFakeXXXInstanceToAutoJoinHelixCluster calls to suiteSetup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "134cf5c50d7301835800db2e9d6d0619e0c2655c", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/134cf5c50d7301835800db2e9d6d0619e0c2655c", "committedDate": "2020-11-28T22:37:07Z", "message": "Fully working (few test cases disabled + cleanup neeeded)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "785107d559845f67c3dca22ee1236f93e76318f0", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/785107d559845f67c3dca22ee1236f93e76318f0", "committedDate": "2020-11-29T08:15:50Z", "message": "All testcases (except two) enabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9296872b39c49ab54e5b63bf10cfe05178322974", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/9296872b39c49ab54e5b63bf10cfe05178322974", "committedDate": "2020-11-30T02:43:50Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "982c384ee9d941e40dbfde83f951abffadff784d", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/982c384ee9d941e40dbfde83f951abffadff784d", "committedDate": "2020-11-30T03:47:04Z", "message": "cleanup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7fd00d5e2fb6cd14231863ff1e71698b2b23e4f", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/e7fd00d5e2fb6cd14231863ff1e71698b2b23e4f", "committedDate": "2020-11-30T03:48:27Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e8e952c1782cea92f9c59426297e407ecd6f82b", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/3e8e952c1782cea92f9c59426297e407ecd6f82b", "committedDate": "2020-11-30T20:33:00Z", "message": "cleanup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa6644a2880b7f63b157f83650287abd9b6be84f", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/fa6644a2880b7f63b157f83650287abd9b6be84f", "committedDate": "2020-12-01T02:46:50Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "743068e139e82d94c11bdd95c0f45499427abf5c", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/743068e139e82d94c11bdd95c0f45499427abf5c", "committedDate": "2020-12-01T05:31:05Z", "message": "cleanup + allow running single tests + validation and cleanup functions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a86a79b7e33a2b831ff67fcd251a75942d01faa", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/2a86a79b7e33a2b831ff67fcd251a75942d01faa", "committedDate": "2020-12-01T06:12:00Z", "message": "fix license header."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5965fb4aa92cdf63d705e388632d495a62a0bca7", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/5965fb4aa92cdf63d705e388632d495a62a0bca7", "committedDate": "2020-12-01T06:58:27Z", "message": "comments for disabled test cases."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92e640223fa6093ff3c43b457829b5cd44a0fde8", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/92e640223fa6093ff3c43b457829b5cd44a0fde8", "committedDate": "2020-12-01T17:44:06Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ead207cf7196e94dd6b419b905cd042bdcc7072", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/6ead207cf7196e94dd6b419b905cd042bdcc7072", "committedDate": "2020-12-01T20:10:59Z", "message": "testng.xml configuration file for running test cases as part of a suite."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b988df124a0348067010f65c6b24d80c59a13896", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/b988df124a0348067010f65c6b24d80c59a13896", "committedDate": "2020-12-01T20:17:50Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fc65fb7b8672256e6c309df27653148af43d7d9", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/5fc65fb7b8672256e6c309df27653148af43d7d9", "committedDate": "2020-12-01T20:45:27Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8d2daa682947e9d688a567bdfdfac56020dccab", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/c8d2daa682947e9d688a567bdfdfac56020dccab", "committedDate": "2020-12-01T22:22:34Z", "message": "cleanup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f80e103d7780728b2bb2a3cbe7c50a17f97352d", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/1f80e103d7780728b2bb2a3cbe7c50a17f97352d", "committedDate": "2020-12-02T01:34:32Z", "message": "redo checks."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04c8e1f69b1a24fcf2e9f287ab1d617b6e06a872", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/04c8e1f69b1a24fcf2e9f287ab1d617b6e06a872", "committedDate": "2020-12-02T02:14:13Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-pinot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae2a3d99d3ef132e401bf53f96931d969e240f8", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/eae2a3d99d3ef132e401bf53f96931d969e240f8", "committedDate": "2020-12-02T02:43:12Z", "message": "update new test case."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d056e73085f919099b0477c386651a877b6c4641", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/d056e73085f919099b0477c386651a877b6c4641", "committedDate": "2020-12-02T03:31:07Z", "message": "redo checks."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baa2f022e5ba37c950016762b69abc8ad4a5c601", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/baa2f022e5ba37c950016762b69abc8ad4a5c601", "committedDate": "2020-12-02T21:49:17Z", "message": "extra messages in ZKOperatorTest + 2 second delay."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06b01741211fd8ee9c3661293043f30d8c13a877", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/06b01741211fd8ee9c3661293043f30d8c13a877", "committedDate": "2020-12-02T22:45:56Z", "message": "set 1 second delay for EXTERNALVIEW to catchup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dfe00c6d87cc58c9ee7801ddb1faa92f3e17e97", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/5dfe00c6d87cc58c9ee7801ddb1faa92f3e17e97", "committedDate": "2020-12-02T22:50:58Z", "message": "1 second delay to allow EXTERNALVIEW to get updated."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac05fe960b9cb894dd8b1a4f41bf3b0985135a66", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/ac05fe960b9cb894dd8b1a4f41bf3b0985135a66", "committedDate": "2020-12-02T22:53:00Z", "message": "1 second delay to allow EXTERNALVIEW to get updated."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e83dba89b3084a03f0906c7810873d56800dc0a", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/7e83dba89b3084a03f0906c7810873d56800dc0a", "committedDate": "2020-12-03T00:12:33Z", "message": "code formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd8b49b3e9f4fac7428282cf9bfe43d57adc931", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/abd8b49b3e9f4fac7428282cf9bfe43d57adc931", "committedDate": "2020-12-05T20:32:53Z", "message": "Merge branch 'master' into unit-test-suite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62030ef8eaf4f1cb4da3c97d8a2a1e8216e69f8c", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/62030ef8eaf4f1cb4da3c97d8a2a1e8216e69f8c", "committedDate": "2020-12-07T05:49:52Z", "message": "Fix TODOs and enable all tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/180aac1cb730eb5e95507e5739877aa4686bc85a", "committedDate": "2020-12-07T06:38:22Z", "message": "cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwMjg4NDc2", "url": "https://github.com/apache/pinot/pull/6326#pullrequestreview-550288476", "createdAt": "2020-12-11T16:57:22Z", "commit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjo1NzoyM1rOIEBeZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNzowNjowMlrOIEBzrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA4OTM4Mg==", "bodyText": "Nit: s/leadTable/leadControllerTestTable?", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541089382", "createdAt": "2020-12-11T16:57:23Z", "author": {"login": "mayankshriv"}, "path": "pinot-controller/src/test/java/org/apache/pinot/controller/LeadControllerManagerTest.java", "diffHunk": "@@ -73,7 +73,7 @@ public void setup() {\n   @Test\n   public void testLeadControllerManager() {\n     LeadControllerManager leadControllerManager = new LeadControllerManager(_helixManager, _controllerMetrics);\n-    String tableName = \"testTable\";\n+    String tableName = \"leadTable\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA5MDA1Mg==", "bodyText": "Lets avoid static import, if possible.", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541090052", "createdAt": "2020-12-11T16:58:24Z", "author": {"login": "mayankshriv"}, "path": "pinot-controller/src/test/java/org/apache/pinot/controller/api/AccessControlTest.java", "diffHunk": "@@ -19,49 +19,40 @@\n package org.apache.pinot.controller.api;\n \n import java.io.IOException;\n-import java.util.Map;\n-\n-import org.apache.pinot.controller.ControllerConf;\n import org.apache.pinot.controller.api.access.AccessControl;\n import org.apache.pinot.controller.api.access.AccessControlFactory;\n-import org.apache.pinot.controller.helix.ControllerTest;\n import org.testng.Assert;\n import org.testng.annotations.AfterClass;\n import org.testng.annotations.BeforeClass;\n import org.testng.annotations.Test;\n \n+import static org.apache.pinot.controller.ControllerTestUtils.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA5MDM5NQ==", "bodyText": "Same here, and other such cases.", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541090395", "createdAt": "2020-12-11T16:58:55Z", "author": {"login": "mayankshriv"}, "path": "pinot-controller/src/test/java/org/apache/pinot/controller/api/PinotInstanceAssignmentRestletResourceTest.java", "diffHunk": "@@ -23,77 +23,67 @@\n import java.util.Collections;\n import java.util.Map;\n import java.util.TreeMap;\n-import java.util.concurrent.TimeUnit;\n import org.apache.pinot.common.assignment.InstancePartitions;\n import org.apache.pinot.common.utils.config.TagNameUtils;\n-import org.apache.pinot.controller.ControllerConf;\n-import org.apache.pinot.controller.helix.ControllerTest;\n import org.apache.pinot.core.realtime.impl.fakestream.FakeStreamConfigUtils;\n import org.apache.pinot.spi.config.table.TableConfig;\n import org.apache.pinot.spi.config.table.TableType;\n-import org.apache.pinot.spi.config.tenant.Tenant;\n-import org.apache.pinot.spi.config.tenant.TenantRole;\n import org.apache.pinot.spi.config.table.assignment.InstanceAssignmentConfig;\n import org.apache.pinot.spi.config.table.assignment.InstancePartitionsType;\n import org.apache.pinot.spi.config.table.assignment.InstanceReplicaGroupPartitionConfig;\n import org.apache.pinot.spi.config.table.assignment.InstanceTagPoolConfig;\n-import org.apache.pinot.spi.data.FieldSpec;\n+import org.apache.pinot.spi.config.tenant.Tenant;\n+import org.apache.pinot.spi.config.tenant.TenantRole;\n import org.apache.pinot.spi.data.FieldSpec.DataType;\n import org.apache.pinot.spi.data.Schema;\n-import org.apache.pinot.spi.data.TimeGranularitySpec;\n import org.apache.pinot.spi.utils.JsonUtils;\n import org.apache.pinot.spi.utils.builder.TableConfigBuilder;\n import org.apache.pinot.spi.utils.builder.TableNameBuilder;\n import org.testng.annotations.AfterClass;\n import org.testng.annotations.BeforeClass;\n import org.testng.annotations.Test;\n \n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertNotNull;\n-import static org.testng.Assert.assertTrue;\n-import static org.testng.Assert.fail;\n+import static org.apache.pinot.controller.ControllerTestUtils.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA5MzY0OA==", "bodyText": "This is somewhat confusing to read - why does setup() call something named validate(), instead of setting up the cluster? One has to go to inside validate() to figure out what is going.\nPerhaps it can be named setupClusterAndValidate(), or something more readable?", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541093648", "createdAt": "2020-12-11T17:04:03Z", "author": {"login": "mayankshriv"}, "path": "pinot-controller/src/test/java/org/apache/pinot/controller/api/AccessControlTest.java", "diffHunk": "@@ -19,49 +19,40 @@\n package org.apache.pinot.controller.api;\n \n import java.io.IOException;\n-import java.util.Map;\n-\n-import org.apache.pinot.controller.ControllerConf;\n import org.apache.pinot.controller.api.access.AccessControl;\n import org.apache.pinot.controller.api.access.AccessControlFactory;\n-import org.apache.pinot.controller.helix.ControllerTest;\n import org.testng.Assert;\n import org.testng.annotations.AfterClass;\n import org.testng.annotations.BeforeClass;\n import org.testng.annotations.Test;\n \n+import static org.apache.pinot.controller.ControllerTestUtils.*;\n \n-public class AccessControlTest extends ControllerTest {\n \n-  @BeforeClass\n-  public void setUp() {\n-    startZk();\n-    \n-    Map<String, Object> properties = getDefaultControllerConfiguration();\n-    properties.put(ControllerConf.ACCESS_CONTROL_FACTORY_CLASS, DenyAllAccessFactory.class.getName());\n+public class AccessControlTest {\n+\n+  private static final String TABLE_NAME = \"accessTestTable\";\n \n-    startController(properties);\n+  @BeforeClass\n+  public void setUp() throws Exception {\n+    validate();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA5NDYyOQ==", "bodyText": "old not a great name :-(. Perhaps name according to what characteristic classifies the test to be in one suite over the other? Same with the name of xml file (testng-old-test.xml).", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541094629", "createdAt": "2020-12-11T17:05:39Z", "author": {"login": "mayankshriv"}, "path": "pinot-controller/testng-old-tests.xml", "diffHunk": "@@ -0,0 +1,38 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n+<!--\n+\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+\n+-->\n+<suite name=\"testng.suite-controller-old\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA5NDgzMQ==", "bodyText": "Some comment on why this upgrade was need would be good.", "url": "https://github.com/apache/pinot/pull/6326#discussion_r541094831", "createdAt": "2020-12-11T17:06:02Z", "author": {"login": "mayankshriv"}, "path": "pom.xml", "diffHunk": "@@ -1095,7 +1095,7 @@\n       <dependency>\n         <groupId>org.apache.maven.surefire</groupId>\n         <artifactId>surefire-testng</artifactId>\n-        <version>2.19</version>\n+        <version>3.0.0-M5</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "180aac1cb730eb5e95507e5739877aa4686bc85a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b356e6333fb832e8033dc976a2e856366821f74", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/5b356e6333fb832e8033dc976a2e856366821f74", "committedDate": "2020-12-14T05:01:44Z", "message": "codereview changes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNjIxNTQ2", "url": "https://github.com/apache/pinot/pull/6326#pullrequestreview-551621546", "createdAt": "2020-12-14T17:01:08Z", "commit": {"oid": "5b356e6333fb832e8033dc976a2e856366821f74"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e49dda60905ae1127f3b48e44af4c07ffd20c86", "author": {"user": {"login": "amrishlal", "name": "Amrish Lal"}}, "url": "https://github.com/apache/pinot/commit/8e49dda60905ae1127f3b48e44af4c07ffd20c86", "committedDate": "2020-12-15T04:29:03Z", "message": "comment on maven-surefire-plugin version number upgrade."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1607, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}