{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NjY2Nzc3", "number": 6038, "title": "Adding dependency validation check on Indexing config", "bodyText": "Related to #5942\nDescription\nThis PR adds a check to ensure any columns specified in inverted index or bloom filter config doesn't exist in the no dictionary column config.\nUpgrade Notes\nDoes this PR prevent a zero down-time upgrade? (Assume upgrade order: Controller, Broker, Server, Minion)\nNo\nDoes this PR fix a zero-downtime upgrade introduced earlier?\nNo\nDoes this PR otherwise need attention when creating release notes?\nNo", "createdAt": "2020-09-19T05:09:20Z", "url": "https://github.com/apache/pinot/pull/6038", "merged": true, "mergeCommit": {"oid": "07a6289a07fc5b268707a09086625f1fc023f144"}, "closed": true, "closedAt": "2020-09-25T22:25:54Z", "author": {"login": "icefury71"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKSgd_AH2gAyNDg5NjY2Nzc3OjMwOGQxOTQzY2JhM2I0NjJmNjQyNTIyZmQxYzA4MDMzZDczYmU2N2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMcvBrAH2gAyNDg5NjY2Nzc3Ojk4MjBlY2Y1NmUwMDg4MDA4OWFmNTE4NjAyZjY4YzUwOTNkMWIzZTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "308d1943cba3b462f642522fd1c08033d73be67d", "author": {"user": {"login": "icefury71", "name": null}}, "url": "https://github.com/apache/pinot/commit/308d1943cba3b462f642522fd1c08033d73be67d", "committedDate": "2020-09-19T04:30:14Z", "message": "Adding dependency validation check between inverted index, bloom filter and no dictionary column config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzOTI4NTU2", "url": "https://github.com/apache/pinot/pull/6038#pullrequestreview-493928556", "createdAt": "2020-09-23T00:16:00Z", "commit": {"oid": "308d1943cba3b462f642522fd1c08033d73be67d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzOTI4OTA4", "url": "https://github.com/apache/pinot/pull/6038#pullrequestreview-493928908", "createdAt": "2020-09-23T00:17:14Z", "commit": {"oid": "308d1943cba3b462f642522fd1c08033d73be67d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMDoxNzoxNFrOHWQo0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMDoxNzoxNFrOHWQo0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEwMzMxMg==", "bodyText": "Unrelated to this PR, but is this supposed to be \"should not fail\" and also not //expected ?", "url": "https://github.com/apache/pinot/pull/6038#discussion_r493103312", "createdAt": "2020-09-23T00:17:14Z", "author": {"login": "npawar"}, "path": "pinot-core/src/test/java/org/apache/pinot/core/util/TableConfigUtilsTest.java", "diffHunk": "@@ -544,55 +545,43 @@ public void testValidateIndexingConfig() {\n     }\n \n     // Although this config makes no sense, it should pass the validation phase\n-    StarTreeIndexConfig starTreeIndexConfig = new StarTreeIndexConfig(Arrays.asList(\"myCol\"),\n-        Arrays.asList(\"myCol\"),\n-        Arrays.asList(\"SUM__myCol\"),\n-        1);\n+    StarTreeIndexConfig starTreeIndexConfig =\n+        new StarTreeIndexConfig(Arrays.asList(\"myCol\"), Arrays.asList(\"myCol\"), Arrays.asList(\"SUM__myCol\"), 1);\n     tableConfig = new TableConfigBuilder(TableType.OFFLINE).setTableName(TABLE_NAME)\n-        .setStarTreeIndexConfigs(Arrays.asList(starTreeIndexConfig))\n-        .build();\n+        .setStarTreeIndexConfigs(Arrays.asList(starTreeIndexConfig)).build();\n     try {\n       TableConfigUtils.validate(tableConfig, schema);\n     } catch (Exception e) {\n       Assert.fail(\"Should fail for valid StarTreeIndex config column name\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "308d1943cba3b462f642522fd1c08033d73be67d"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f93d033e98c9af5b0ed12c78c549a5a5e049c51", "author": {"user": {"login": "icefury71", "name": null}}, "url": "https://github.com/apache/pinot/commit/6f93d033e98c9af5b0ed12c78c549a5a5e049c51", "committedDate": "2020-09-23T04:08:29Z", "message": "Fixing assert comment in valid star tree index config test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9820ecf56e00880089af518602f68c5093d1b3e9", "author": {"user": {"login": "icefury71", "name": null}}, "url": "https://github.com/apache/pinot/commit/9820ecf56e00880089af518602f68c5093d1b3e9", "committedDate": "2020-09-25T21:33:02Z", "message": "Merge branch 'master' into 5942_indexing_config_dependency_validation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 76, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}