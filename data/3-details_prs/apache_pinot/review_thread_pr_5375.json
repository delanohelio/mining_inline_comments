{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODExMzY0", "number": 5375, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNTo1NzoyM1rOD7t9ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNTo1NzoyM1rOD7t9ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzOTQ1NTc4OnYy", "diffSide": "RIGHT", "path": "pinot-common/src/main/java/org/apache/pinot/sql/parsers/CalciteSqlParser.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNTo1NzoyM1rOGUNpgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNzowODo0OFrOGUQmNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg0ODMyMA==", "bodyText": "Not related to this PR -- JVM won't inline this. Let's just do int size = operands.size() before the loop and i < size", "url": "https://github.com/apache/pinot/pull/5375#discussion_r423848320", "createdAt": "2020-05-12T15:57:23Z", "author": {"login": "siddharthteotia"}, "path": "pinot-common/src/main/java/org/apache/pinot/sql/parsers/CalciteSqlParser.java", "diffHunk": "@@ -361,8 +362,10 @@ private static Expression updateComparisonPredicate(Expression expression) {\n         default:\n           List<Expression> operands = functionCall.getOperands();\n           List<Expression> newOperands = new ArrayList<>();\n-          for (int i = 0; i < operands.size(); i++) {\n-            newOperands.add(updateComparisonPredicate(operands.get(i)));\n+          if (operands != null) {\n+            for (int i = 0; i < operands.size(); i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7869b8dd3f98041ba04d55e47a9abfcea10d6f58"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5NjYzMQ==", "bodyText": "operands is null so operands.size will also throw exception, used operandsSize() instead", "url": "https://github.com/apache/pinot/pull/5375#discussion_r423896631", "createdAt": "2020-05-12T17:08:48Z", "author": {"login": "kishoreg"}, "path": "pinot-common/src/main/java/org/apache/pinot/sql/parsers/CalciteSqlParser.java", "diffHunk": "@@ -361,8 +362,10 @@ private static Expression updateComparisonPredicate(Expression expression) {\n         default:\n           List<Expression> operands = functionCall.getOperands();\n           List<Expression> newOperands = new ArrayList<>();\n-          for (int i = 0; i < operands.size(); i++) {\n-            newOperands.add(updateComparisonPredicate(operands.get(i)));\n+          if (operands != null) {\n+            for (int i = 0; i < operands.size(); i++) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg0ODMyMA=="}, "originalCommit": {"oid": "7869b8dd3f98041ba04d55e47a9abfcea10d6f58"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3269, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}