{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4MTY1NjM2", "number": 6251, "title": "Make default operator for multi-term and phrase text search queries configurable", "bodyText": "Multi term or phrase queries for text index like the following use implicit OR operator (Lucene default)\n\nWHERE text_match(col, 't1 t2 \"p1\" \"p2\") is equivalent to WHERE text_match(col, 't1 OR t2 OR \"p1\" OR  \"p2\")\n\nMinor enhancement - We need to make the default operator (OR) configurable on a per text index basis. This was recently requested as our internal users ramp this feature.", "createdAt": "2020-11-10T02:35:41Z", "url": "https://github.com/apache/pinot/pull/6251", "merged": true, "mergeCommit": {"oid": "c8d7efc96c41db7ec1edbab5f93c2766f8201385"}, "closed": true, "closedAt": "2020-11-10T03:25:12Z", "author": {"login": "siddharthteotia"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABda_-VJAH2gAyNTE4MTY1NjM2OmM4OTBhMWVjZTE2ZDRlYzE1ZWE4NTJjM2I2OThiNWExMTZiZDg1MDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbASs2gFqTUyNjgxNDc1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c890a1ece16d4ec15ea852c3b698b5a116bd8503", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/c890a1ece16d4ec15ea852c3b698b5a116bd8503", "committedDate": "2020-11-10T02:31:22Z", "message": "Make default operator for multi-term and phrase text\nindex queries configurable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262", "author": {"user": null}, "url": "https://github.com/apache/pinot/commit/ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262", "committedDate": "2020-11-10T02:37:04Z", "message": "cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2ODEyNzE0", "url": "https://github.com/apache/pinot/pull/6251#pullrequestreview-526812714", "createdAt": "2020-11-10T02:47:44Z", "commit": {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwMjo0Nzo0NFrOHwJolw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwMjo0Nzo0NFrOHwJolw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI1MTU0Mw==", "bodyText": "Could you add some tests which uses OR operator? If there is some cases like that, can we add some comments on that and mention the test with AND in this test class?", "url": "https://github.com/apache/pinot/pull/6251#discussion_r520251543", "createdAt": "2020-11-10T02:47:44Z", "author": {"login": "jackjlli"}, "path": "pinot-core/src/test/java/org/apache/pinot/queries/TextSearchQueriesTest.java", "diffHunk": "@@ -569,10 +591,16 @@ public void testTextSearch() throws Exception {\n \n     query = \"SELECT INT_COL, SKILLS_TEXT_COL FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL, '\\\"distributed systems\\\" Java C++') LIMIT 50000\";\n     testTextSearchSelectQueryHelper(query, expected.size(), false, expected);\n-\n     query = \"SELECT COUNT(*) FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL, '\\\"distributed systems\\\" Java C++') LIMIT 50000\";\n     testTextSearchAggregationQueryHelper(query, expected.size());\n \n+    // test for the index configured to use AND as the default\n+    // conjunction operator\n+    query = \"SELECT INT_COL, SKILLS_TEXT_COL FROM MyTable WHERE TEXT_MATCH(SKILLS_TEXT_COL_1, '\\\"distributed systems\\\" OR Java OR C++') LIMIT 50000\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262"}, "originalPosition": 87}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2ODEzMjMy", "url": "https://github.com/apache/pinot/pull/6251#pullrequestreview-526813232", "createdAt": "2020-11-10T02:49:12Z", "commit": {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2ODE0NzUw", "url": "https://github.com/apache/pinot/pull/6251#pullrequestreview-526814750", "createdAt": "2020-11-10T02:53:37Z", "commit": {"oid": "ee47b8913bc2bf5b1fd98b1cb6a9f1b08d37b262"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1767, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}