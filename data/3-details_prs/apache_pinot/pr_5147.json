{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NDM2NjEw", "number": 5147, "title": "Support default star-tree", "bodyText": "Support generating default star-tree config with the following rules:\n\nAll dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\nTime column (if exists and dictionary-encoded) will be appended to the split order as the last element\nUse COUNT(*) and SUM for all numeric metrics as function column pairs\nUse default value (10000) for max leaf records", "createdAt": "2020-03-12T19:40:23Z", "url": "https://github.com/apache/pinot/pull/5147", "merged": true, "mergeCommit": {"oid": "25bc1b52184882befe18b75005dfa1e37a57b1b5"}, "closed": true, "closedAt": "2020-05-12T18:25:49Z", "author": {"login": "Jackie-Jiang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNC0NWAFqTM3MzkyMjY3Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgaPjrgBqjMzMjU0MTEyNjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTIyNjcy", "url": "https://github.com/apache/pinot/pull/5147#pullrequestreview-373922672", "createdAt": "2020-03-12T21:43:01Z", "commit": {"oid": "42fd0e9b29f2c49965c06721ffc1a075b1d96e4c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMTo0MzowMVrOF1wsYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMTo0MzowMVrOF1wsYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxNjY0Mw==", "bodyText": "If both are defined, you should pay attention to the specific start tree definition requested. This will keep backward compat also.", "url": "https://github.com/apache/pinot/pull/5147#discussion_r391916643", "createdAt": "2020-03-12T21:43:01Z", "author": {"login": "mcvsubbu"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/indexsegment/generator/SegmentGeneratorConfig.java", "diffHunk": "@@ -190,13 +190,17 @@ public SegmentGeneratorConfig(@Nullable TableConfig tableConfig, Schema schema)\n     _segmentPartitionConfig = indexingConfig.getSegmentPartitionConfig();\n \n     // Star-tree V2 configs\n-    List<StarTreeIndexConfig> starTreeIndexConfigs = indexingConfig.getStarTreeIndexConfigs();\n-    if (starTreeIndexConfigs != null && !starTreeIndexConfigs.isEmpty()) {\n-      List<StarTreeV2BuilderConfig> starTreeV2BuilderConfigs = new ArrayList<>(starTreeIndexConfigs.size());\n-      for (StarTreeIndexConfig starTreeIndexConfig : starTreeIndexConfigs) {\n-        starTreeV2BuilderConfigs.add(StarTreeV2BuilderConfig.fromIndexConfig(starTreeIndexConfig));\n+    if (indexingConfig.isEnableDefaultStarTree()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42fd0e9b29f2c49965c06721ffc1a075b1d96e4c"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42fd0e9b29f2c49965c06721ffc1a075b1d96e4c", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/42fd0e9b29f2c49965c06721ffc1a075b1d96e4c", "committedDate": "2020-03-12T19:40:06Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}, "afterCommit": {"oid": "08095da9159a7847599c2d8c1989acc74b0addeb", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/08095da9159a7847599c2d8c1989acc74b0addeb", "committedDate": "2020-03-12T22:32:57Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08095da9159a7847599c2d8c1989acc74b0addeb", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/08095da9159a7847599c2d8c1989acc74b0addeb", "committedDate": "2020-03-12T22:32:57Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}, "afterCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/03f2fae7a37e568ac22817c2fe683ec8cff38acf", "committedDate": "2020-03-12T22:48:34Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTYyMTUw", "url": "https://github.com/apache/pinot/pull/5147#pullrequestreview-373962150", "createdAt": "2020-03-12T23:24:36Z", "commit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMzoyNDozNlrOF1zG-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMzoyNDozNlrOF1zG-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk1NjIxNw==", "bodyText": "Another way to add this config may be to add a \"mode\" field in StarTreeIndexConfig. If mode is set to \"auto\" then ignore other settings. Otherwise, follow the other serttings.", "url": "https://github.com/apache/pinot/pull/5147#discussion_r391956217", "createdAt": "2020-03-12T23:24:36Z", "author": {"login": "mcvsubbu"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/config/IndexingConfig.java", "diffHunk": "@@ -145,6 +146,14 @@ public void setOnHeapDictionaryColumns(List<String> onHeapDictionaryColumns) {\n     _onHeapDictionaryColumns = onHeapDictionaryColumns;\n   }\n \n+  public boolean isEnableDefaultStarTree() {\n+    return _enableDefaultStarTree;\n+  }\n+\n+  public void setEnableDefaultStarTree(boolean enableDefaultStarTree) {\n+    _enableDefaultStarTree = enableDefaultStarTree;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NDczMDY1", "url": "https://github.com/apache/pinot/pull/5147#pullrequestreview-375473065", "createdAt": "2020-03-16T18:16:33Z", "commit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODoxNjozM1rOF3AfLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODo1OTo1OFrOF3B-vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIyMzk4Mw==", "bodyText": "isDefaultStarTreeEnabled", "url": "https://github.com/apache/pinot/pull/5147#discussion_r393223983", "createdAt": "2020-03-16T18:16:33Z", "author": {"login": "kishoreg"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/config/IndexingConfig.java", "diffHunk": "@@ -145,6 +146,14 @@ public void setOnHeapDictionaryColumns(List<String> onHeapDictionaryColumns) {\n     _onHeapDictionaryColumns = onHeapDictionaryColumns;\n   }\n \n+  public boolean isEnableDefaultStarTree() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIyNjg2Mg==", "bodyText": "@Jackie-Jiang will be good to get user feedback on this. @elonazoulay - you have used this feature - your inputs will be valuable.", "url": "https://github.com/apache/pinot/pull/5147#discussion_r393226862", "createdAt": "2020-03-16T18:21:48Z", "author": {"login": "kishoreg"}, "path": "pinot-common/src/main/java/org/apache/pinot/common/config/IndexingConfig.java", "diffHunk": "@@ -145,6 +146,14 @@ public void setOnHeapDictionaryColumns(List<String> onHeapDictionaryColumns) {\n     _onHeapDictionaryColumns = onHeapDictionaryColumns;\n   }\n \n+  public boolean isEnableDefaultStarTree() {\n+    return _enableDefaultStarTree;\n+  }\n+\n+  public void setEnableDefaultStarTree(boolean enableDefaultStarTree) {\n+    _enableDefaultStarTree = enableDefaultStarTree;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk1NjIxNw=="}, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0NzE4OA==", "bodyText": "why are we checking the cardinality threshold for date_time but not for time?", "url": "https://github.com/apache/pinot/pull/5147#discussion_r393247188", "createdAt": "2020-03-16T18:58:30Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/startree/v2/builder/StarTreeV2BuilderConfig.java", "diffHunk": "@@ -58,6 +69,73 @@ public static StarTreeV2BuilderConfig fromIndexConfig(StarTreeIndexConfig indexC\n     return builder.build();\n   }\n \n+  /**\n+   * Generates default config based on the segment metadata.\n+   * <ul>\n+   *   <li>\n+   *     All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal\n+   *     to the threshold will be included in the split order, sorted by their cardinality in descending order\n+   *   </li>\n+   *   <li>Time column (if exists and dictionary-encoded) will be appended to the split order as the last element</li>\n+   *   <li>Use COUNT(*) and SUM for all numeric metrics as function column pairs</li>\n+   *   <li>Use default value for max leaf records</li>\n+   * </ul>\n+   */\n+  public static StarTreeV2BuilderConfig generateDefaultConfig(SegmentMetadataImpl segmentMetadata) {\n+    Schema schema = segmentMetadata.getSchema();\n+    List<ColumnMetadata> dimensionColumnMetadataList = new ArrayList<>();\n+    String timeColumn = null;\n+    List<String> numericMetrics = new ArrayList<>();\n+\n+    for (FieldSpec fieldSpec : schema.getAllFieldSpecs()) {\n+      if (!fieldSpec.isSingleValueField() || fieldSpec.isVirtualColumn()) {\n+        continue;\n+      }\n+      String column = fieldSpec.getName();\n+      switch (fieldSpec.getFieldType()) {\n+        case DIMENSION:\n+        case DATE_TIME:\n+          ColumnMetadata columnMetadata = segmentMetadata.getColumnMetadataFor(column);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0ODE4NA==", "bodyText": "we cannot generate star tree on a column that's not dictionary encoded?", "url": "https://github.com/apache/pinot/pull/5147#discussion_r393248184", "createdAt": "2020-03-16T18:59:39Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/startree/v2/builder/StarTreeV2BuilderConfig.java", "diffHunk": "@@ -58,6 +69,73 @@ public static StarTreeV2BuilderConfig fromIndexConfig(StarTreeIndexConfig indexC\n     return builder.build();\n   }\n \n+  /**\n+   * Generates default config based on the segment metadata.\n+   * <ul>\n+   *   <li>\n+   *     All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal\n+   *     to the threshold will be included in the split order, sorted by their cardinality in descending order\n+   *   </li>\n+   *   <li>Time column (if exists and dictionary-encoded) will be appended to the split order as the last element</li>\n+   *   <li>Use COUNT(*) and SUM for all numeric metrics as function column pairs</li>\n+   *   <li>Use default value for max leaf records</li>\n+   * </ul>\n+   */\n+  public static StarTreeV2BuilderConfig generateDefaultConfig(SegmentMetadataImpl segmentMetadata) {\n+    Schema schema = segmentMetadata.getSchema();\n+    List<ColumnMetadata> dimensionColumnMetadataList = new ArrayList<>();\n+    String timeColumn = null;\n+    List<String> numericMetrics = new ArrayList<>();\n+\n+    for (FieldSpec fieldSpec : schema.getAllFieldSpecs()) {\n+      if (!fieldSpec.isSingleValueField() || fieldSpec.isVirtualColumn()) {\n+        continue;\n+      }\n+      String column = fieldSpec.getName();\n+      switch (fieldSpec.getFieldType()) {\n+        case DIMENSION:\n+        case DATE_TIME:\n+          ColumnMetadata columnMetadata = segmentMetadata.getColumnMetadataFor(column);\n+          if (columnMetadata.hasDictionary()\n+              && columnMetadata.getCardinality() <= DIMENSION_CARDINALITY_THRESHOLD_FOR_DEFAULT_CONFIG) {\n+            dimensionColumnMetadataList.add(columnMetadata);\n+          }\n+          break;\n+        case TIME:\n+          columnMetadata = segmentMetadata.getColumnMetadataFor(column);\n+          if (columnMetadata.hasDictionary()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0ODQ0NQ==", "bodyText": "what about hyperloglog", "url": "https://github.com/apache/pinot/pull/5147#discussion_r393248445", "createdAt": "2020-03-16T18:59:58Z", "author": {"login": "kishoreg"}, "path": "pinot-core/src/main/java/org/apache/pinot/core/startree/v2/builder/StarTreeV2BuilderConfig.java", "diffHunk": "@@ -58,6 +69,73 @@ public static StarTreeV2BuilderConfig fromIndexConfig(StarTreeIndexConfig indexC\n     return builder.build();\n   }\n \n+  /**\n+   * Generates default config based on the segment metadata.\n+   * <ul>\n+   *   <li>\n+   *     All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal\n+   *     to the threshold will be included in the split order, sorted by their cardinality in descending order\n+   *   </li>\n+   *   <li>Time column (if exists and dictionary-encoded) will be appended to the split order as the last element</li>\n+   *   <li>Use COUNT(*) and SUM for all numeric metrics as function column pairs</li>\n+   *   <li>Use default value for max leaf records</li>\n+   * </ul>\n+   */\n+  public static StarTreeV2BuilderConfig generateDefaultConfig(SegmentMetadataImpl segmentMetadata) {\n+    Schema schema = segmentMetadata.getSchema();\n+    List<ColumnMetadata> dimensionColumnMetadataList = new ArrayList<>();\n+    String timeColumn = null;\n+    List<String> numericMetrics = new ArrayList<>();\n+\n+    for (FieldSpec fieldSpec : schema.getAllFieldSpecs()) {\n+      if (!fieldSpec.isSingleValueField() || fieldSpec.isVirtualColumn()) {\n+        continue;\n+      }\n+      String column = fieldSpec.getName();\n+      switch (fieldSpec.getFieldType()) {\n+        case DIMENSION:\n+        case DATE_TIME:\n+          ColumnMetadata columnMetadata = segmentMetadata.getColumnMetadataFor(column);\n+          if (columnMetadata.hasDictionary()\n+              && columnMetadata.getCardinality() <= DIMENSION_CARDINALITY_THRESHOLD_FOR_DEFAULT_CONFIG) {\n+            dimensionColumnMetadataList.add(columnMetadata);\n+          }\n+          break;\n+        case TIME:\n+          columnMetadata = segmentMetadata.getColumnMetadataFor(column);\n+          if (columnMetadata.hasDictionary()) {\n+            timeColumn = column;\n+          }\n+          break;\n+        case METRIC:\n+          if (fieldSpec.getDataType().isNumeric()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf"}, "originalPosition": 76}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "03f2fae7a37e568ac22817c2fe683ec8cff38acf", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/03f2fae7a37e568ac22817c2fe683ec8cff38acf", "committedDate": "2020-03-12T22:48:34Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}, "afterCommit": {"oid": "3ae1065d5ee80e4de737997f5bacda85710a80d6", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/3ae1065d5ee80e4de737997f5bacda85710a80d6", "committedDate": "2020-03-30T00:53:20Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ae1065d5ee80e4de737997f5bacda85710a80d6", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/3ae1065d5ee80e4de737997f5bacda85710a80d6", "committedDate": "2020-03-30T00:53:20Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}, "afterCommit": {"oid": "f2c78e09bbdb128f05389cbfab71c0e337c9eae1", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/f2c78e09bbdb128f05389cbfab71c0e337c9eae1", "committedDate": "2020-03-30T00:56:47Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NjE3OTY0", "url": "https://github.com/apache/pinot/pull/5147#pullrequestreview-408617964", "createdAt": "2020-05-09T06:32:46Z", "commit": {"oid": "f2c78e09bbdb128f05389cbfab71c0e337c9eae1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "274a212b14caaf665b2454bf16442e8cb81f357a", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/274a212b14caaf665b2454bf16442e8cb81f357a", "committedDate": "2020-05-12T01:45:55Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2c78e09bbdb128f05389cbfab71c0e337c9eae1", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/f2c78e09bbdb128f05389cbfab71c0e337c9eae1", "committedDate": "2020-03-30T00:56:47Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}, "afterCommit": {"oid": "274a212b14caaf665b2454bf16442e8cb81f357a", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/274a212b14caaf665b2454bf16442e8cb81f357a", "committedDate": "2020-05-12T01:45:55Z", "message": "Support default star-tree\n\nSupport generating default star-tree config with the following rules:\n- All dictionary-encoded single-value dimensions (including date-time columns) with cardinality smaller or equal to the threshold (10000) will be included in the split order, sorted by their cardinality in descending order\n- Time column (if exists and dictionary-encoded) will be appended to the split order as the last element\n- Use COUNT(*) and SUM for all numeric metrics as function column pairs\n- Use default value (10000) for max leaf records"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1387, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}