{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1ODcwNzM2", "number": 6085, "title": "[TE] Refactor. ThirdEyePrincipal should be immutable", "bodyText": "ThirdEyePrincipal is used in authentication and should be an immutable object.\nThis change refactors the usages to ensure that the principal isn't modified.\nAlso, the ThirdEyePrincipal object had groups which are never used. Plus the members\nare non private. All these issues have been addressed.\nRefactor. No logic changes.", "createdAt": "2020-10-01T00:20:21Z", "url": "https://github.com/apache/pinot/pull/6085", "merged": true, "mergeCommit": {"oid": "267abefd2740aa60af61d26ab48d390b6d06ba3f"}, "closed": true, "closedAt": "2020-10-02T19:59:57Z", "author": {"login": "suvodeep-pyne"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOGFXcAH2gAyNDk1ODcwNzM2OmEzNDU4MDE5MTZlMmYxZWYyMmNjZDFiZDExYTNhOGFlMTg1YzA0ZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOV2sHgFqTUwMDYxOTU4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a345801916e2f1ef22ccd1bd11a3a8ae185c04e2", "author": {"user": {"login": "suvodeep-pyne", "name": "Suvodeep Pyne"}}, "url": "https://github.com/apache/pinot/commit/a345801916e2f1ef22ccd1bd11a3a8ae185c04e2", "committedDate": "2020-10-01T00:17:28Z", "message": "[TE] Refactor. ThirdEye Principal should be immutable.\n\nThirdEyePrincipal is used in authentication and should be an immutable object.\nThis change refactors the usages to ensure that the principal isn't modified.\nAlso, the ThirdEyePrincipal object had groups which are never used. Plus the members\nare non private. All these issues have been addressed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjE5NTg2", "url": "https://github.com/apache/pinot/pull/6085#pullrequestreview-500619586", "createdAt": "2020-10-01T18:38:58Z", "commit": {"oid": "a345801916e2f1ef22ccd1bd11a3a8ae185c04e2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxODozODo1OFrOHbWlWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxODozODo1OFrOHbWlWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ0MzYwOQ==", "bodyText": "Optional<ThirdEyePrincipal> ?", "url": "https://github.com/apache/pinot/pull/6085#discussion_r498443609", "createdAt": "2020-10-01T18:38:58Z", "author": {"login": "apucher"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/auth/ThirdEyeAuthFilter.java", "diffHunk": "@@ -109,7 +108,7 @@ public void filter(ContainerRequestContext requestContext) {\n     }\n   }\n \n-  private boolean isAuthenticated(ContainerRequestContext containerRequestContext, ThirdEyePrincipal principal) {\n+  private ThirdEyePrincipal getPrincipal(ContainerRequestContext containerRequestContext) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a345801916e2f1ef22ccd1bd11a3a8ae185c04e2"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1500, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}