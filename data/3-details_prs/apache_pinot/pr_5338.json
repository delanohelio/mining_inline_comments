{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzODE5NDA4", "number": 5338, "title": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig", "bodyText": "This is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema", "createdAt": "2020-05-06T00:33:31Z", "url": "https://github.com/apache/pinot/pull/5338", "merged": true, "mergeCommit": {"oid": "bf4ed667a0faf3d5864826f599f6c51f11369d3c"}, "closed": true, "closedAt": "2020-05-06T21:44:50Z", "author": {"login": "Jackie-Jiang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcedqw5AH2gAyNDEzODE5NDA4OmQzYWM2MTY2NDJjODkxYTQ1MGFmMzk2ZjIyYzQ2M2E4NTlhNmJlYjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcesv0kAFqTQwNjg2NjQ1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d3ac616642c891a450af396f22c463a859a6beb7", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/d3ac616642c891a450af396f22c463a859a6beb7", "committedDate": "2020-05-06T00:37:46Z", "message": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig\n\nThis is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da597f295aa73eeea999adae423bf31e0ce6c1b3", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/da597f295aa73eeea999adae423bf31e0ce6c1b3", "committedDate": "2020-05-06T00:31:12Z", "message": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig\n\nThis is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema"}, "afterCommit": {"oid": "d3ac616642c891a450af396f22c463a859a6beb7", "author": {"user": {"login": "Jackie-Jiang", "name": "Xiaotian (Jackie) Jiang"}}, "url": "https://github.com/apache/pinot/commit/d3ac616642c891a450af396f22c463a859a6beb7", "committedDate": "2020-05-06T00:37:46Z", "message": "[SegmentGeneratorConfig Cleanup] Refactor CreateSegmentCommand and remove the clone constructor in SegmentGeneratorConfig\n\nThis is one step of cleaning up the SegmentGeneratorConfig. The end state we should always construct SegmentGeneratorConfig with table config and schema"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODY0Mjc5", "url": "https://github.com/apache/pinot/pull/5338#pullrequestreview-406864279", "createdAt": "2020-05-06T18:08:52Z", "commit": {"oid": "d3ac616642c891a450af396f22c463a859a6beb7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODowODo1MlrOGRfQ2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODowODo1MlrOGRfQ2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk5MTE5Mg==", "bodyText": "I was wondering why you removed ReaderConfig, then saw that file format is hardcoded to JSON.\nNot related to your PR, but shouldn't  _segmentConfig.setFormat(FileFormat.JSON); be done in the JSONPinotOutputFormat implementation?", "url": "https://github.com/apache/pinot/pull/5338#discussion_r420991192", "createdAt": "2020-05-06T18:08:52Z", "author": {"login": "npawar"}, "path": "pinot-plugins/pinot-batch-ingestion/v0_deprecated/pinot-hadoop/src/main/java/org/apache/pinot/hadoop/io/PinotOutputFormat.java", "diffHunk": "@@ -171,12 +160,10 @@ private void initSegmentConfig(JobContext context)\n       throws IOException {\n     _segmentConfig.setFormat(FileFormat.JSON);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3ac616642c891a450af396f22c463a859a6beb7"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODY2NDU0", "url": "https://github.com/apache/pinot/pull/5338#pullrequestreview-406866454", "createdAt": "2020-05-06T18:11:52Z", "commit": {"oid": "d3ac616642c891a450af396f22c463a859a6beb7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 994, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}