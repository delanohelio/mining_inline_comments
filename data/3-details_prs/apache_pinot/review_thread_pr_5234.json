{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzA3MDEy", "number": 5234, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQwNDozMDozNlrODxAvhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQwNDozMDozNlrODxAvhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNzE4OTgyOnYy", "diffSide": "RIGHT", "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQwNDozMDozNlrOGESHZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQwNDozMDozNlrOGESHZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE0NDI5NA==", "bodyText": "Can you put the rate limit in the error message?", "url": "https://github.com/apache/pinot/pull/5234#discussion_r407144294", "createdAt": "2020-04-12T04:30:36Z", "author": {"login": "xiaohui-sun"}, "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/detection/yaml/YamlResource.java", "diffHunk": "@@ -366,6 +369,11 @@ long createDetectionConfig(@NotNull String yamlDetectionConfig) throws Exception\n   }\n \n   long createDetectionConfig(@NotNull String payload, long startTime, long endTime) throws Exception {\n+    // if can't acquire alert onboarding QPS permit, throw an exception\n+    if (!this.onboardingRateLimiter.tryAcquire()) {\n+      throw new RuntimeException(\"Server is busy handling create detection requests. Please retry later.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5db1df231c062e79bbf1a062bf72725338ff3060"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3383, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}