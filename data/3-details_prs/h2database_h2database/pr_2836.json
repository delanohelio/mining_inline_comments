{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMTgzNDIx", "number": 2836, "title": "Assorted fixes", "bodyText": "Closes #2831.\nCloses #2833.\nCloses #2835.\nAlso contains unrelated changes in value classes. Some code is moved from Value to ValueStringBase and ValueInterval.", "createdAt": "2020-08-19T13:57:30Z", "url": "https://github.com/h2database/h2database/pull/2836", "merged": true, "mergeCommit": {"oid": "2b77de6c3c5e3a1660b3eb11f465f0fb1198c3ad"}, "closed": true, "closedAt": "2020-08-19T14:25:15Z", "author": {"login": "katzyn"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAYu0rAH2gAyNDcwMTgzNDIxOjc3YTI0NmEwNzIyMDlkMGQzNzJkYTg4NzlkOGNlNTk4MTdlMTkwNDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAcE35AFqTQ3MDQ4NzA0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "77a246a072209d0d372da8879d8ce59817e19043", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/77a246a072209d0d372da8879d8ce59817e19043", "committedDate": "2020-08-19T10:06:06Z", "message": "Move character string to numeric conversion code to ValueStringBase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7146bf2fae849f61fa9c618495ae3572dae34b9", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/f7146bf2fae849f61fa9c618495ae3572dae34b9", "committedDate": "2020-08-19T12:48:01Z", "message": "Optimize conversions to REAL and DOUBLE PRECISION"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61514ae8309115bf69a34d60b6be92fd443eaab2", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/61514ae8309115bf69a34d60b6be92fd443eaab2", "committedDate": "2020-08-19T13:23:33Z", "message": "Restore YEAR data type for MySQL compatibility mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b2441e0629b8fea2bafca453128b7f7194625b8", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/4b2441e0629b8fea2bafca453128b7f7194625b8", "committedDate": "2020-08-19T13:42:04Z", "message": "Throw better exception for MERGE INTO without updatable columns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49e3559ad79204b321f726db13a925d541e49985", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/49e3559ad79204b321f726db13a925d541e49985", "committedDate": "2020-08-19T13:53:29Z", "message": "Fix NPE in MathFunction.optimize()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNDg3MDQz", "url": "https://github.com/h2database/h2database/pull/2836#pullrequestreview-470487043", "createdAt": "2020-08-19T13:59:54Z", "commit": {"oid": "4b2441e0629b8fea2bafca453128b7f7194625b8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzo1OTo1NFrOHDIx8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzo1OTo1NFrOHDIx8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA1MTYzNQ==", "bodyText": "with -> without", "url": "https://github.com/h2database/h2database/pull/2836#discussion_r473051635", "createdAt": "2020-08-19T13:59:54Z", "author": {"login": "grandinj"}, "path": "h2/src/main/org/h2/command/dml/Merge.java", "diffHunk": "@@ -323,6 +323,10 @@ public void prepare() {\n                 column.getSQL(builder, HasSQL.DEFAULT_SQL_FLAGS).append(\"=?\");\n             }\n         }\n+        if (!hasColumn) {\n+            throw DbException.getSyntaxError(sqlStatement, sqlStatement.length(),\n+                    \"Valid MERGE INTO statement with at least one updatable column\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2441e0629b8fea2bafca453128b7f7194625b8"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4293, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}