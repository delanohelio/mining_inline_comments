{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMTI2MzE3", "number": 2768, "title": "Better separation of MVStore aimed at smaller h2-mvstore jar", "bodyText": "This brings jar size from 2Mb+ down to 319Kb. Few percent may be shaved off on top of that, but that would require to remove dependency of IsolationLevel,  FilePath and friends on DbException. This can be done at a later time.\nCloses #2742", "createdAt": "2020-07-18T20:29:05Z", "url": "https://github.com/h2database/h2database/pull/2768", "merged": true, "mergeCommit": {"oid": "168284d1199c8a7325a06a8e88a4922710dc0b49"}, "closed": true, "closedAt": "2020-07-19T11:20:35Z", "author": {"login": "andreitokar"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2Nwi7gH2gAyNDUyMTI2MzE3Ojg2Nzk5NDI3NzFkYThiOTY5ODE4ZjZiOWM5MDNiZDk1ZTMzYmRlZGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2U2X2gH2gAyNDUyMTI2MzE3OjQ3NjBlMTdmMWJlYWFmMDQzNjJhNzM5MWMxMGRhNjZjYjk2ZTIzMGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8679942771da8b969818f6b9c903bd95e33bdedc", "author": {"user": {"login": "andreitokar", "name": "Andrei Tokar"}}, "url": "https://github.com/h2database/h2database/commit/8679942771da8b969818f6b9c903bd95e33bdedc", "committedDate": "2020-07-18T19:39:47Z", "message": "better separation of MVStore aimed at smaller h2-mvstore jar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDkyMDQ0", "url": "https://github.com/h2database/h2database/pull/2768#pullrequestreview-451092044", "createdAt": "2020-07-19T01:32:57Z", "commit": {"oid": "8679942771da8b969818f6b9c903bd95e33bdedc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTozMjo1N1rOGzrrjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTozMjo1N1rOGzrrjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg0NjIyMg==", "bodyText": "This temporary change shouldn't be here.", "url": "https://github.com/h2database/h2database/pull/2768#discussion_r456846222", "createdAt": "2020-07-19T01:32:57Z", "author": {"login": "katzyn"}, "path": "h2/src/test/org/h2/test/unit/TestFileSystem.java", "diffHunk": "@@ -53,7 +53,11 @@\n     public static void main(String... a) throws Exception {\n         TestBase test = TestBase.createCaller().init();\n         // test.config.traceTest = true;\n-        test.testFromMain();\n+        FilePathEncrypt.register();\n+        for (int i = 0; i < 100; i++) {\n+            ((TestFileSystem)test).testConcurrent(\"encrypt:0007:\" + test.getBaseDir() + \"/fs\");\n+            test.println(\"Done pass #\" + i);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8679942771da8b969818f6b9c903bd95e33bdedc"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDkyMzE0", "url": "https://github.com/h2database/h2database/pull/2768#pullrequestreview-451092314", "createdAt": "2020-07-19T01:41:40Z", "commit": {"oid": "8679942771da8b969818f6b9c903bd95e33bdedc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTo0MTo0MFrOGzrtxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTo0MTo0MFrOGzrtxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg0Njc5MA==", "bodyText": "I guess this class is a part of public API of standalone MVStore? Maybe we can find a better name for it? DefaultSpatial, SimpleSpatial, something else?\nI think it would be nice to have this separate implementation, because users of standalone MVStore should not see methods of our internal Value class in SpatialKey.", "url": "https://github.com/h2database/h2database/pull/2768#discussion_r456846790", "createdAt": "2020-07-19T01:41:40Z", "author": {"login": "katzyn"}, "path": "h2/src/main/org/h2/mvstore/rtree/BasicSpatialImpl.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright 2004-2020 H2 Group. Multiple-Licensed under the MPL 2.0,\n+ * and the EPL 1.0 (https://h2database.com/html/license.html).\n+ * Initial Developer: H2 Group\n+ */\n+package org.h2.mvstore.rtree;\n+\n+import java.util.Arrays;\n+\n+/**\n+ * Class BasicSpatialImpl.\n+ *\n+ * @author <a href='mailto:andrei.tokar@gmail.com'>Andrei Tokar</a>\n+ */\n+public final class BasicSpatialImpl implements Spatial", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8679942771da8b969818f6b9c903bd95e33bdedc"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4760e17f1beaaf04362a7391c10da66cb96e230d", "author": {"user": {"login": "andreitokar", "name": "Andrei Tokar"}}, "url": "https://github.com/h2database/h2database/commit/4760e17f1beaaf04362a7391c10da66cb96e230d", "committedDate": "2020-07-19T03:55:29Z", "message": "Code review changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4284, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}