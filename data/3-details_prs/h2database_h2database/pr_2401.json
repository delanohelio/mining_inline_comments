{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMTIyODY5", "number": 2401, "title": "Use UTF-8 for conversions between character and binary strings", "bodyText": "Closes #2400.", "createdAt": "2020-01-15T12:53:45Z", "url": "https://github.com/h2database/h2database/pull/2401", "merged": true, "mergeCommit": {"oid": "e8a61c0f20abdf905a7ce6c5296bdc212164c514"}, "closed": true, "closedAt": "2020-01-16T04:50:11Z", "author": {"login": "katzyn"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6NYnDgH2gAyMzYzMTIyODY5OjVhNTM4Y2RiZGJjMDBkYWEyZDUyMmIxOGU2OGQwOGIwMWMxZjQ4NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb93s8rgFqTM0ODMzODIxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5a538cdbdbc00daa2d522b18e68d08b01c1f4872", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/5a538cdbdbc00daa2d522b18e68d08b01c1f4872", "committedDate": "2020-01-14T09:18:11Z", "message": "Remove unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e5e142dde98ff49c58dea56a7f52ab37026167", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/14e5e142dde98ff49c58dea56a7f52ab37026167", "committedDate": "2020-01-15T12:24:37Z", "message": "Don't write binary string literals as character string literals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e68ae1b88e1ed7d7900249865b88ca0c89bc3f1", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/2e68ae1b88e1ed7d7900249865b88ca0c89bc3f1", "committedDate": "2020-01-15T12:28:19Z", "message": "Always use UTF-8 for conversions between binary and character strings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "479f7040ee16e0a8ebfd102a652f5581a0dd55a6", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/479f7040ee16e0a8ebfd102a652f5581a0dd55a6", "committedDate": "2020-01-15T12:50:35Z", "message": "Override more specific methods instead of convertTo() in Value subclasses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "488ed4e9ccb4120a3d30fd1833efd4a1cf311534", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/488ed4e9ccb4120a3d30fd1833efd4a1cf311534", "committedDate": "2020-01-15T12:52:33Z", "message": "Update changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8deaeb5ad21e69d54b51668c424b3d16cb67b8b", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/a8deaeb5ad21e69d54b51668c424b3d16cb67b8b", "committedDate": "2020-01-15T13:31:08Z", "message": "Fix H2 Console"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d769e58191818fdc3f8bcfc70aaa2f023aea3101", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/d769e58191818fdc3f8bcfc70aaa2f023aea3101", "committedDate": "2020-01-16T03:47:25Z", "message": "Fix LOB recovery for PageStore engine"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3474c1012331b418fafd1e2033675781a3e649da", "author": {"user": {"login": "katzyn", "name": "Evgenij Ryazanov"}}, "url": "https://github.com/h2database/h2database/commit/3474c1012331b418fafd1e2033675781a3e649da", "committedDate": "2020-01-16T04:22:01Z", "message": "Use VARBINARY for LOB_DATA"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzM4MjE5", "url": "https://github.com/h2database/h2database/pull/2401#pullrequestreview-348338219", "createdAt": "2020-01-25T18:18:11Z", "commit": {"oid": "2e68ae1b88e1ed7d7900249865b88ca0c89bc3f1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxODoxODoxMVrOFhw2nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxODoxODoxMVrOFhw2nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0Nzc0MA==", "bodyText": "surely the logic here and below should be <= rather than == ?\ni.e. if the number of bytes is <= than the destination scalar type, then convert the  bytes by zero extension?", "url": "https://github.com/h2database/h2database/pull/2401#discussion_r370947740", "createdAt": "2020-01-25T18:18:11Z", "author": {"login": "grandinj"}, "path": "h2/src/main/org/h2/value/Value.java", "diffHunk": "@@ -882,8 +882,13 @@ private ValueByte convertToByte(Object column) {\n         case REAL:\n         case DOUBLE:\n             return ValueByte.get(convertToByte(convertToLong(getDouble(), column), column));\n-        case VARBINARY:\n-            return ValueByte.get((byte) Integer.parseInt(getString(), 16));\n+        case VARBINARY: {\n+            byte[] bytes = getBytesNoCopy();\n+            if (bytes.length == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e68ae1b88e1ed7d7900249865b88ca0c89bc3f1"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3896, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}