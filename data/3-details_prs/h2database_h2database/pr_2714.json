{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NDQ4MDI4", "number": 2714, "title": "fixed few code smells discovered by PVS-Studio", "bodyText": "", "createdAt": "2020-06-20T18:57:11Z", "url": "https://github.com/h2database/h2database/pull/2714", "merged": true, "mergeCommit": {"oid": "68d98126739e8af360f3c2645ed4410cc7fbbb83"}, "closed": true, "closedAt": "2020-06-21T01:48:38Z", "author": {"login": "turbanoff"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctMrbNAFqTQzNDQ0ODQ0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctM16GgBqjM0NjQ5NDc1MzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDQ4NDQw", "url": "https://github.com/h2database/h2database/pull/2714#pullrequestreview-434448440", "createdAt": "2020-06-20T19:18:58Z", "commit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToxODo1OFrOGmn9Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToxODo1OFrOGmn9Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1MzY3MQ==", "bodyText": "no, that's not right, because we assign to trunk inside the if block", "url": "https://github.com/h2database/h2database/pull/2714#discussion_r443153671", "createdAt": "2020-06-20T19:18:58Z", "author": {"login": "grandinj"}, "path": "h2/src/main/org/h2/pagestore/PageInputStream.java", "diffHunk": "@@ -101,8 +101,7 @@ private void fillBuffer() {\n                     endOfFile = true;\n                     return;\n                 }\n-            }\n-            if (trunk != null) {\n+            } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDQ4NDc3", "url": "https://github.com/h2database/h2database/pull/2714#pullrequestreview-434448477", "createdAt": "2020-06-20T19:19:41Z", "commit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToxOTo0MVrOGmn9Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToxOTo0MVrOGmn9Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1MzY5OQ==", "bodyText": "wrong", "url": "https://github.com/h2database/h2database/pull/2714#discussion_r443153699", "createdAt": "2020-06-20T19:19:41Z", "author": {"login": "grandinj"}, "path": "h2/src/main/org/h2/security/auth/ConfigProperties.java", "diffHunk": "@@ -28,7 +28,7 @@ public ConfigProperties(PropertyConfig... configProperties) {\n \n     public ConfigProperties(Collection<PropertyConfig> configProperties) {\n         properties = new HashMap<>();\n-        if (properties != null) {\n+        if (configProperties != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDQ4NTc3", "url": "https://github.com/h2database/h2database/pull/2714#pullrequestreview-434448577", "createdAt": "2020-06-20T19:21:53Z", "commit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToyMTo1M1rOGmn9rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOToyMTo1M1rOGmn9rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1MzgzNw==", "bodyText": "Also wrong.\nAt this point I stopped checking - please don't just routinely accept warnings from such tools. You need to carefully analyse the surrounding code and then determine if the warning is valid - such tools often produce false positives.", "url": "https://github.com/h2database/h2database/pull/2714#discussion_r443153837", "createdAt": "2020-06-20T19:21:53Z", "author": {"login": "grandinj"}, "path": "h2/src/main/org/h2/tools/Recover.java", "diffHunk": "@@ -1031,8 +1031,6 @@ private void dumpPageLogStream(PrintWriter writer, int logKey,\n                 int sessionId = in.readVarInt();\n                 String transaction = in.readString();\n                 writer.println(\"-- prepare commit \" + sessionId + \" \" + transaction);\n-            } else if (x == PageLog.NOOP) {\n-                // nothing to do\n             } else if (x == PageLog.CHECKPOINT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e57b445330f4e804514b2cb79b3434b7893be1d", "author": {"user": {"login": "turbanoff", "name": "Andrey Turbanov"}}, "url": "https://github.com/h2database/h2database/commit/3e57b445330f4e804514b2cb79b3434b7893be1d", "committedDate": "2020-06-20T19:29:22Z", "message": "fixed few code smells discovered by PVS-Studio"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa0607e248b850362eb7d99f730c230c64664477", "author": {"user": {"login": "turbanoff", "name": "Andrey Turbanov"}}, "url": "https://github.com/h2database/h2database/commit/aa0607e248b850362eb7d99f730c230c64664477", "committedDate": "2020-06-20T18:56:11Z", "message": "fixed few code smells discovered by PVS-Studio"}, "afterCommit": {"oid": "3e57b445330f4e804514b2cb79b3434b7893be1d", "author": {"user": {"login": "turbanoff", "name": "Andrey Turbanov"}}, "url": "https://github.com/h2database/h2database/commit/3e57b445330f4e804514b2cb79b3434b7893be1d", "committedDate": "2020-06-20T19:29:22Z", "message": "fixed few code smells discovered by PVS-Studio"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4270, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}