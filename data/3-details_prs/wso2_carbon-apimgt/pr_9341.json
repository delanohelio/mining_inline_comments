{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNjk4Mjg3", "number": 9341, "title": "Reposition the Global Nav Bar elements with a drawer in Publisher", "bodyText": "This PR repositions the global nav bar elements in a Drawer in Publisher Portal. This is to facilitate the addition of the Service Catalog feature.\nFixes wso2/product-apim#9437\nRequires review before merging.", "createdAt": "2020-10-27T11:57:38Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9341", "merged": true, "mergeCommit": {"oid": "a06517b9d57634750a4b32ec1abd2a402bc0832c"}, "closed": true, "closedAt": "2020-11-03T04:37:53Z", "author": {"login": "tharikaGitHub"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWSTZlgH2gAyNTEwNjk4Mjg3OjA4NmJkMTVmODMzMmJiNzBiY2M4ZmE4YjVlMWMzMjQ1ZWI2OTU4YjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYkOySgBqjM5NDc5OTE1MzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "086bd15f8332bb70bcc8fa8b5e1c3245eb6958b6", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/086bd15f8332bb70bcc8fa8b5e1c3245eb6958b6", "committedDate": "2020-10-26T11:03:03Z", "message": "Initial nav bar change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2322a188a2a5d0c863b32f21c0b97e1db2a29c7a", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2322a188a2a5d0c863b32f21c0b97e1db2a29c7a", "committedDate": "2020-10-27T05:06:57Z", "message": "Add styling to navbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef", "committedDate": "2020-10-27T11:46:35Z", "message": "Alter positioning of UI elements for the Drawer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMzcxNTA5", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#pullrequestreview-520371509", "createdAt": "2020-10-30T04:35:33Z", "commit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNDozNTozNFrOHq_dGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNDozNTozNFrOHq_dGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDg0MTg4MQ==", "bodyText": "Shall we remove this empty container and use an <Box/> element for alignment", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#discussion_r514841881", "createdAt": "2020-10-30T04:35:34Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Base/Header/headersearch/HeaderSearch.jsx", "diffHunk": "@@ -236,6 +236,7 @@ class HeaderSearch extends React.Component {\n         }\n         return (\n             <>\n+                <div className={classes.emptyContainer} />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMzgxMDk4", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#pullrequestreview-520381098", "createdAt": "2020-10-30T05:13:33Z", "commit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToxMzozM1rOHrBMXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToxMzozM1rOHrBMXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDg3MDM2NA==", "bodyText": "Do we need smallView property here, what is the effect or usage of that ?", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#discussion_r514870364", "createdAt": "2020-10-30T05:13:33Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Base/Header/navbar/GlobalNavLinks.jsx", "diffHunk": "@@ -90,86 +126,176 @@ function GlobalNavLinks(props) {\n         ditectCurrentMenu(location);\n     });\n     let strokeColor = theme.palette.getContrastText(theme.palette.background.leftMenu);\n-    let iconWidth = 32;\n+    let iconWidth = 24;\n     if (smallView) {\n         iconWidth = 16;\n         strokeColor = theme.palette.getContrastText(theme.palette.background.appBar);\n     }\n     return (\n-        <List className={classes.listRoot}>\n-            <Link to='/apis' className={classNames({ [classes.selected]: selected === 'apis', [classes.links]: true })}>\n-                <ListItem button>\n-                    <ListItemIcon classes={{ root: classNames({ [classes.smallIcon]: smallView }) }}>\n-                        <CustomIcon width={iconWidth} height={iconWidth} icon='api' strokeColor={strokeColor} />\n-                    </ListItemIcon>\n-                    <ListItemText\n-                        classes={{\n-                            primary: classNames({\n-                                [classes.selectedText]: selected === 'apis',\n-                                [classes.listText]: selected !== 'apis' && !smallView,\n-                                [classes.listTextSmall]: selected !== 'apis' && smallView,\n-                            }),\n-                        }}\n-                        primary={<FormattedMessage id='Base.Header.navbar.GlobalNavBar.apis' defaultMessage='APIs' />}\n-                    />\n-                </ListItem>\n-            </Link>\n-            <Link\n-                to='/scopes'\n-                className={classNames({ [classes.selected]: selected === 'scopes', [classes.links]: true })}\n-            >\n-                <ListItem button>\n-                    <ListItemIcon classes={{ root: classNames({ [classes.smallIcon]: smallView }) }}>\n-                        <ScopesIcon className={classes.scopeIconColor} />\n-                    </ListItemIcon>\n-                    <ListItemText\n-                        classes={{\n-                            primary: classNames({\n-                                [classes.selectedText]: selected === 'scopes',\n-                                [classes.listText]: selected !== 'scopes' && !smallView,\n-                                [classes.listTextSmall]: selected !== 'scopes' && smallView,\n-                            }),\n-                        }}\n-                        primary={\n-                            <FormattedMessage id='Base.Header.navbar.GlobalNavBar.scopes' defaultMessage='Scopes' />\n-                        }\n-                    />\n-                </ListItem>\n-            </Link>\n-            { publisherUser\n-            && (\n+        <>\n+            <ListItem className={classes.categoryHeader} button onClick={handleAPIsClick}>\n+                <ListItemText\n+                    classes={{\n+                        primary: classes.categoryHeaderPrimary,\n+                    }}\n+                >\n+                    <FormattedMessage id='Base.Header.navbar.GlobalNavBar.APIs' defaultMessage='APIs' />\n+                </ListItemText>\n+                {openAPIs ? <ExpandLess /> : <ExpandMore />}\n+            </ListItem>\n+            <Collapse in={openAPIs} timeout='auto' unmountOnExit>\n                 <Link\n-                    to='/api-products'\n-                    className={classNames({ [classes.selected]: selected === 'api-products', [classes.links]: true })}\n+                    to='/apis'\n+                    className={classNames({ [classes.selected]: selected === 'apis', [classes.links]: true })}\n                 >\n-                    <ListItem button>\n-                        <ListItemIcon classes={{ root: classNames({ [classes.smallIcon]: smallView }) }}>\n-                            <CustomIcon\n-                                width={iconWidth}\n-                                height={iconWidth}\n-                                icon='api-product'\n-                                strokeColor={strokeColor}\n-                            />\n+                    <ListItem button onClick={toggleGlobalNavBar}>\n+                        <ListItemIcon\n+                            classes={{ root: classNames({ [classes.smallIcon]: smallView }) }}\n+                            className={classes.itemIcon}\n+                        >\n+                            <CustomIcon width={iconWidth} height={iconWidth} icon='api' strokeColor={strokeColor} />\n                         </ListItemIcon>\n                         <ListItemText\n                             classes={{\n                                 primary: classNames({\n-                                    [classes.selectedText]: selected === 'api-products',\n-                                    [classes.listText]: selected !== 'api-products' && !smallView,\n-                                    [classes.listTextSmall]: selected !== 'api-products' && smallView,\n+                                    [classes.selectedText]: selected === 'apis',\n+                                    [classes.listText]: selected !== 'apis' && !smallView,\n+                                    [classes.listTextSmall]: selected !== 'apis' && smallView,\n                                 }),\n                             }}\n                             primary={(\n                                 <FormattedMessage\n-                                    id='Base.Header.navbar.GlobalNavBar.api.products'\n-                                    defaultMessage='API Products'\n+                                    id='Base.Header.navbar.GlobalNavBar.apis'\n+                                    defaultMessage='API Listing'\n                                 />\n                             )}\n                         />\n                     </ListItem>\n                 </Link>\n-            )}\n-        </List>\n+                { publisherUser\n+                && (\n+                    <Link\n+                        to='/api-products'\n+                        className={classNames({\n+                            [classes.selected]: selected === 'api-products',\n+                            [classes.links]: true,\n+                        })}\n+                    >\n+                        <ListItem button onClick={toggleGlobalNavBar}>\n+                            <ListItemIcon\n+                                classes={{ root: classNames({ [classes.smallIcon]: smallView }) }}\n+                                className={classes.itemIcon}\n+                            >\n+                                <CustomIcon\n+                                    width={iconWidth}\n+                                    height={iconWidth}\n+                                    icon='api-product'\n+                                    strokeColor={strokeColor}\n+                                />\n+                            </ListItemIcon>\n+                            <ListItemText\n+                                classes={{\n+                                    primary: classNames({\n+                                        [classes.selectedText]: selected === 'api-products',\n+                                        [classes.listText]: selected !== 'api-products' && !smallView,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "originalPosition": 208}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMzg0ODk4", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#pullrequestreview-520384898", "createdAt": "2020-10-30T05:27:33Z", "commit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToyNzozM1rOHrBuVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToyNzozM1rOHrBuVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDg3OTA2MA==", "bodyText": "Shall we remove this empty container and use an <Box/> element for alignment", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#discussion_r514879060", "createdAt": "2020-10-30T05:27:33Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Base/Header/headersearch/HeaderSearch.jsx", "diffHunk": "@@ -236,6 +236,7 @@ class HeaderSearch extends React.Component {\n         }\n         return (\n             <>\n+                <div className={classes.emptyContainer} />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMzg0OTA1", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#pullrequestreview-520384905", "createdAt": "2020-10-30T05:27:34Z", "commit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToyNzozNFrOHrBubA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNToyNzozNFrOHrBubA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDg3OTA4NA==", "bodyText": "Shall we use a color from theme here ?", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#discussion_r514879084", "createdAt": "2020-10-30T05:27:34Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Base/Header/navbar/GlobalNavLinks.jsx", "diffHunk": "@@ -57,6 +62,27 @@ const styles = (theme) => ({\n     scopeIconColor: {\n         fill: theme.palette.getContrastText(theme.palette.background.leftMenu),\n     },\n+    alertIconColor: {\n+        fill: theme.palette.getContrastText(theme.palette.background.leftMenu),\n+    },\n+    divider: {\n+        marginTop: theme.spacing(1),\n+        backgroundColor: 'black',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34af9a26869df37b80345ed1b1993a0b76d2e37c", "author": {"user": {"login": "tmkasun", "name": "Kasun Thennakoon"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/34af9a26869df37b80345ed1b1993a0b76d2e37c", "committedDate": "2020-10-30T05:43:48Z", "message": "improvments"}, "afterCommit": {"oid": "1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1a12d8eeaf1379ea0e2fb3e8689ea46c435468ef", "committedDate": "2020-10-27T11:46:35Z", "message": "Alter positioning of UI elements for the Drawer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2d49085b986c06b0decde57836e6e13661060ca", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a2d49085b986c06b0decde57836e6e13661060ca", "committedDate": "2020-11-02T05:52:05Z", "message": "Add review fixes"}, "afterCommit": {"oid": "7456e5873dcae0e17d631f06c4673c404b3fb12e", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7456e5873dcae0e17d631f06c4673c404b3fb12e", "committedDate": "2020-11-02T06:36:09Z", "message": "Add review fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNDUzNDQ1", "url": "https://github.com/wso2/carbon-apimgt/pull/9341#pullrequestreview-521453445", "createdAt": "2020-11-02T09:22:05Z", "commit": {"oid": "7456e5873dcae0e17d631f06c4673c404b3fb12e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f46f80406765b98b250efe610383c68b2e9f90fd", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f46f80406765b98b250efe610383c68b2e9f90fd", "committedDate": "2020-11-02T13:03:28Z", "message": "Add review fixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7456e5873dcae0e17d631f06c4673c404b3fb12e", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7456e5873dcae0e17d631f06c4673c404b3fb12e", "committedDate": "2020-11-02T06:36:09Z", "message": "Add review fixes"}, "afterCommit": {"oid": "f46f80406765b98b250efe610383c68b2e9f90fd", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f46f80406765b98b250efe610383c68b2e9f90fd", "committedDate": "2020-11-02T13:03:28Z", "message": "Add review fixes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3081, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}