{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NDk0MzA2", "number": 9372, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoxMjowOFrOE4gKZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoyMDoyOFrOE4gQBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NjgyNjYwOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/APIClientFactory.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoxMjowOFrOHydg5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwNDoxMzozM1rOHzIJYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NDQwNA==", "bodyText": "Shall we combine this check and the below check (if conditions)\nif (clientType === Utils.CONST.API_CLIENT) {\n\nand update the _APIClientMap if there is no client afterward", "url": "https://github.com/wso2/carbon-apimgt/pull/9372#discussion_r522674404", "createdAt": "2020-11-13T06:12:08Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/APIClientFactory.js", "diffHunk": "@@ -43,22 +45,30 @@ class APIClientFactory {\n      * @param {Object} environment\n      * @returns {APIClient} APIClient object for the environment\n      */\n-    getAPIClient(environment) {\n+    getAPIClient(environment, clientType) {\n         const {\n             label,\n         } = environment;\n         if (label === undefined) {\n             throw new Error('Environment label is undefined, Please provide'\n                 + 'a valid environment object with keys (host,label & loginTokenPath)');\n         }\n-        let apiClient = this._APIClientMap.get(environment.label);\n-\n+        let apiClient;\n+        if (clientType === Utils.CONST.API_CLIENT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61362ab348281920d5d15278123e8f2002bf5e78"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzM3Mjg5Nw==", "bodyText": "Fixed with 929acf2", "url": "https://github.com/wso2/carbon-apimgt/pull/9372#discussion_r523372897", "createdAt": "2020-11-14T04:13:33Z", "author": {"login": "tharikaGitHub"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/APIClientFactory.js", "diffHunk": "@@ -43,22 +45,30 @@ class APIClientFactory {\n      * @param {Object} environment\n      * @returns {APIClient} APIClient object for the environment\n      */\n-    getAPIClient(environment) {\n+    getAPIClient(environment, clientType) {\n         const {\n             label,\n         } = environment;\n         if (label === undefined) {\n             throw new Error('Environment label is undefined, Please provide'\n                 + 'a valid environment object with keys (host,label & loginTokenPath)');\n         }\n-        let apiClient = this._APIClientMap.get(environment.label);\n-\n+        let apiClient;\n+        if (clientType === Utils.CONST.API_CLIENT) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NDQwNA=="}, "originalCommit": {"oid": "61362ab348281920d5d15278123e8f2002bf5e78"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NjgzNzQ1OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/MockResponses.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoxODozMlrOHydnGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoxODozMlrOHydnGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NTk5Mw==", "bodyText": "IMO it's good if we can dynamically generate mock responses from the open API definition. For example, using prism\nThis would be helpful as a temporary solution to this rest API mocking and testing inn the future", "url": "https://github.com/wso2/carbon-apimgt/pull/9372#discussion_r522675993", "createdAt": "2020-11-13T06:18:32Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/MockResponses.js", "diffHunk": "@@ -0,0 +1,201 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+/**\n+  *\n+  * Return sample mocked model data for getSettings\n+  * @export\n+  * @returns {*} Mocked Service Catalog model\n+  */\n+export function getSettings() {\n+    const response = {\n+        scopes: [\n+            'string',\n+        ],\n+    };\n+    return Promise.resolve({ body: response });\n+}\n+\n+/**\n+  *\n+  * Return sample mocked model data for searchServices\n+  * @export\n+  * @returns {*} Mocked Service Catalog model\n+  */\n+export function searchServices() {\n+    const response = {\n+        limit: 0,\n+        offset: 0,\n+        total: 1,\n+        list: [\n+            {\n+                id: '01234567-0123-0123-0123-012345678901',\n+                name: 'Pizzashack-Endpoint',\n+                displayName: 'Pizzashack-Endpoint',\n+                description: 'A Catalog Entry that exposes a REST endpoint',\n+                version: 'v1',\n+                serviceUrl: 'http://localhost/pizzashack',\n+                definitionType: 'OAS3',\n+                securityType: 'BASIC',\n+                mutualSSLEnabled: false,\n+                usage: 1,\n+                createdTime: '2020-02-20T13:57:16.229Z',\n+                lastUpdatedTime: '2020-02-20T13:57:16.229Z',\n+                etag: '32c890312cfadc94a7c1153f65a4f100',\n+            },\n+        ],\n+        pagination: {\n+            offset: 0,\n+            limit: 1,\n+            total: 10,\n+            next: 'string',\n+            previous: 'string',\n+        },\n+    };\n+    return Promise.resolve({ body: response });\n+}\n+\n+/**\n+  *\n+  * Return sample mocked model data for checkServiceExistence\n+  * @export\n+  * @returns {*} Mocked Service Catalog model\n+  */\n+export function checkServiceExistence() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61362ab348281920d5d15278123e8f2002bf5e78"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3Njg0MTAyOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/ServiceCatalog.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjoyMDoyOFrOHydpGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwNDoxMzo0OFrOHzIJfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NjUwNQ==", "bodyText": "Shall we move these methods into a class as static methods, So if in the future if we add a new method to mock we don't need to change/update the import statements", "url": "https://github.com/wso2/carbon-apimgt/pull/9372#discussion_r522676505", "createdAt": "2020-11-13T06:20:28Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/ServiceCatalog.js", "diffHunk": "@@ -0,0 +1,277 @@\n+/**\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/* eslint-disable */\n+import cloneDeep from 'lodash.clonedeep';\n+import Utils from './Utils';\n+import {\n+    getSettings,\n+    searchServices,\n+    checkServiceExistence,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61362ab348281920d5d15278123e8f2002bf5e78"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzM3MjkyNw==", "bodyText": "Fixed with 929acf2", "url": "https://github.com/wso2/carbon-apimgt/pull/9372#discussion_r523372927", "createdAt": "2020-11-14T04:13:48Z", "author": {"login": "tharikaGitHub"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/data/ServiceCatalog.js", "diffHunk": "@@ -0,0 +1,277 @@\n+/**\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/* eslint-disable */\n+import cloneDeep from 'lodash.clonedeep';\n+import Utils from './Utils';\n+import {\n+    getSettings,\n+    searchServices,\n+    checkServiceExistence,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY3NjUwNQ=="}, "originalCommit": {"oid": "61362ab348281920d5d15278123e8f2002bf5e78"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3000, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}