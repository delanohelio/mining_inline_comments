{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MDk2OTM3", "number": 8645, "title": "Fix service-catalog/entry displayName update issue and Refractor RegistriesApiServiceImpl", "bodyText": "Refractor RegistriesApiServiceImpl class\n\nIntroduced private methods to check the existence of Registry/Entry\nMoved endpoint definition retrieving and validation to a new method\n\n\n\nFix service-catalog/entry displayName update issue\n\nWith new implementation, if a user does not send displayName in the payload(during an update resource call), the current displayName will not be updated", "createdAt": "2020-06-03T10:03:52Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8645", "merged": true, "mergeCommit": {"oid": "8f8790b01f18120beafd372cb833c15e2e8f7939"}, "closed": true, "closedAt": "2020-06-04T04:09:27Z", "author": {"login": "ChamodDamitha"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnm3gegBqjM0MDE0ODk4NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnpEBpABqjM0MDIwMzc3NTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b3142d3392e70c3442be84f25bfae53f8834f25", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0b3142d3392e70c3442be84f25bfae53f8834f25", "committedDate": "2020-06-03T09:54:31Z", "message": "Fix service-catalog/entry displayName update issue"}, "afterCommit": {"oid": "99f0f2210a6cbf3f090f47a0d97c2250cd5e2fd6", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/99f0f2210a6cbf3f090f47a0d97c2250cd5e2fd6", "committedDate": "2020-06-03T10:25:49Z", "message": "Fix service-catalog/entry displayName update issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "99f0f2210a6cbf3f090f47a0d97c2250cd5e2fd6", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/99f0f2210a6cbf3f090f47a0d97c2250cd5e2fd6", "committedDate": "2020-06-03T10:25:49Z", "message": "Fix service-catalog/entry displayName update issue"}, "afterCommit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3", "committedDate": "2020-06-03T11:03:10Z", "message": "Fix service-catalog/entry displayName update issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNDQ1OTc5", "url": "https://github.com/wso2/carbon-apimgt/pull/8645#pullrequestreview-423445979", "createdAt": "2020-06-03T11:05:58Z", "commit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNDg4Mzk2", "url": "https://github.com/wso2/carbon-apimgt/pull/8645#pullrequestreview-423488396", "createdAt": "2020-06-03T12:11:06Z", "commit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNDg5NzYz", "url": "https://github.com/wso2/carbon-apimgt/pull/8645#pullrequestreview-423489763", "createdAt": "2020-06-03T12:12:59Z", "commit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMjoxMzowMFrOGeZArw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMjoxMzowMFrOGeZArw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyMDIzOQ==", "bodyText": "since we have done the same logic in multiple places, shall we move this logic to some common place, like mappingUtils?", "url": "https://github.com/wso2/carbon-apimgt/pull/8645#discussion_r434520239", "createdAt": "2020-06-03T12:13:00Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/endpoint/registry/impl/EndpointRegistryImpl.java", "diffHunk": "@@ -190,6 +196,11 @@ public EndpointRegistryEntry getEndpointRegistryEntryByUUID(String registryId, S\n      */\n     public String addEndpointRegistryEntry(EndpointRegistryEntry registryEntry) throws EndpointRegistryException {\n \n+        // If the displayName is empty, set the entryName as the displayName\n+        if (StringUtils.isEmpty(registryEntry.getDisplayName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90785cce987ae62ddc677c7f9f65b3a29961019c", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/90785cce987ae62ddc677c7f9f65b3a29961019c", "committedDate": "2020-06-03T12:49:15Z", "message": "Refractor RegistriesApiServiceImpl class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8e76c6b53505aa65a41de5e74b8b9b0f254bf42", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c8e76c6b53505aa65a41de5e74b8b9b0f254bf42", "committedDate": "2020-06-03T12:49:15Z", "message": "Fix service-catalog/entry displayName update issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56072355e9225b17e47a17ba49e7d6fbf0c6539c", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/56072355e9225b17e47a17ba49e7d6fbf0c6539c", "committedDate": "2020-06-03T12:58:18Z", "message": "Add util methods to update displayName"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/51b625f32efb99a1dd19ad6be1a9a3f50e8b7df3", "committedDate": "2020-06-03T11:03:10Z", "message": "Fix service-catalog/entry displayName update issue"}, "afterCommit": {"oid": "56072355e9225b17e47a17ba49e7d6fbf0c6539c", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/56072355e9225b17e47a17ba49e7d6fbf0c6539c", "committedDate": "2020-06-03T12:58:18Z", "message": "Add util methods to update displayName"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2702, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}