{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDA4MjM1", "number": 8476, "title": "Add Shared Scope Support and Support for Multiple Scopes Per Resource", "bodyText": "Fix wso2/product-apim#7292\n\n Integration tests passed", "createdAt": "2020-05-08T20:00:57Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8476", "merged": true, "mergeCommit": {"oid": "2104ee8080adf8b386b07441174c3be5a548afab"}, "closed": true, "closedAt": "2020-05-19T08:20:28Z", "author": {"login": "dushaniw"}, "timelineItems": {"totalCount": 168, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciv2WygH2gAyNDE1NDA4MjM1OmM0OTMxNmQ5Yjc4NDY1ODc4NmRiZjQ4ZWI1ZjJlNDdjNDBkZWIyYjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciwEZOgFqTQxNDIwOTUyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c49316d9b784658786dbf48eb5f2e47c40deb2b0", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c49316d9b784658786dbf48eb5f2e47c40deb2b0", "committedDate": "2020-05-19T08:04:25Z", "message": "remove initialAutoCommit static variable access."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eef0d0f63f5d9737b403ed81e52cde34df016ad4", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/eef0d0f63f5d9737b403ed81e52cde34df016ad4", "committedDate": "2020-05-19T08:04:25Z", "message": "Remove null check as statement.executeQuery never returns null."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b0ef7a0f0ba9b38e0e0354afab54843ef625308", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3b0ef7a0f0ba9b38e0e0354afab54843ef625308", "committedDate": "2020-05-19T08:04:26Z", "message": "Pass scope name to delete global scope."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1932877e34a83c7fb2c993b61dc558867180d3ba", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1932877e34a83c7fb2c993b61dc558867180d3ba", "committedDate": "2020-05-19T08:04:26Z", "message": "Rename /global-scopes to /scopes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6058cef01b3179731d6aab1fa2587a7d2af93153", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6058cef01b3179731d6aab1fa2587a7d2af93153", "committedDate": "2020-05-19T08:04:26Z", "message": "rename global to shared scopes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e82ed32fb70aef32d5391ff6a917abc7c200a536", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e82ed32fb70aef32d5391ff6a917abc7c200a536", "committedDate": "2020-05-19T08:04:27Z", "message": "Rename Global Scope -> Shared Scope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "891d8b0df9afe4101d767bfa0bc5751075bdf384", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/891d8b0df9afe4101d767bfa0bc5751075bdf384", "committedDate": "2020-05-19T08:04:27Z", "message": "Add pagination to /scopes REST API."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ea91a96ce6ddce216fffeae112191ef5bf8d650", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9ea91a96ce6ddce216fffeae112191ef5bf8d650", "committedDate": "2020-05-19T08:04:28Z", "message": "Remove bindings object from ScopeDTO and add bindings array for roles.\nRemove isShared from ScopeDTO and add it as an attribute for the APIDTO.scopes array."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a219417caae79ab7819c6f2e096ae91782bd5805", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a219417caae79ab7819c6f2e096ae91782bd5805", "committedDate": "2020-05-19T08:04:28Z", "message": "remove primary key temporarily."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39487016553cd7d3b53b7d65a847b6009ee8fab5", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/39487016553cd7d3b53b7d65a847b6009ee8fab5", "committedDate": "2020-05-19T08:04:29Z", "message": "update scope detachment by passing context seperately"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "175df0ead4bb8db2053ee3e0bfaa55085bf87610", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/175df0ead4bb8db2053ee3e0bfaa55085bf87610", "committedDate": "2020-05-19T08:04:29Z", "message": "relfect isShared field changes in APIDTO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3be5065406c6f50aec8cab8c00236692b5cd8c5a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3be5065406c6f50aec8cab8c00236692b5cd8c5a", "committedDate": "2020-05-19T08:04:29Z", "message": "Fix eslint issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cd6517e9510f0655c5dde49fcf49111a32b4456", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8cd6517e9510f0655c5dde49fcf49111a32b4456", "committedDate": "2020-05-19T08:04:29Z", "message": "detach resource scope using resourse path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d7bdc9882bf6ca6a7df61d2b0a9174a29f37410", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7d7bdc9882bf6ca6a7df61d2b0a9174a29f37410", "committedDate": "2020-05-19T08:04:30Z", "message": "add support for multiple scopes per resource."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d54893d22a4b43b3fa0943a598c9a65b65120b9", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0d54893d22a4b43b3fa0943a598c9a65b65120b9", "committedDate": "2020-05-19T08:04:31Z", "message": "fix scope.id null issue when checking equality of two scope objects."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9af1eb01e8bc9c5de1aad0da17cddede7cddd06", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e9af1eb01e8bc9c5de1aad0da17cddede7cddd06", "committedDate": "2020-05-19T08:04:31Z", "message": "fix issue of not deleting local scopes during API delete if the same scope name is available in a different tenant."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c30406bdabe8d80a7818a60ef7de9908d2fa698", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9c30406bdabe8d80a7818a60ef7de9908d2fa698", "committedDate": "2020-05-19T08:04:31Z", "message": "support multiple scopes per resource when legacy scope extenation x-scope (preserveLegacyExtension) is supported."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75eb176b3c5d3d38cd0ec28421c9e2a41c924f7b", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/75eb176b3c5d3d38cd0ec28421c9e2a41c924f7b", "committedDate": "2020-05-19T08:04:31Z", "message": "Return boolean primitive type for isScopeExists()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7ad5b6345c0c870925fb454e8c56992a6554b8e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a7ad5b6345c0c870925fb454e8c56992a6554b8e", "committedDate": "2020-05-19T08:04:32Z", "message": "fix keymanager impl wrapper test class issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "287df96df7106d79febc41d3e165b995148bf2d1", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/287df96df7106d79febc41d3e165b995148bf2d1", "committedDate": "2020-05-19T08:04:32Z", "message": "fix formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1561a0605fc6a7c0279ea456a9bb87083422b0de", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1561a0605fc6a7c0279ea456a9bb87083422b0de", "committedDate": "2020-05-19T08:04:32Z", "message": "Remove only unversioned scopes during API update.\nVersioned scopes cannot change during API update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "015251434743b92c2e5b9b0750a379a7f456cd9c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/015251434743b92c2e5b9b0750a379a7f456cd9c", "committedDate": "2020-05-19T08:04:33Z", "message": "Fix review comment. Revert APIManager API change."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65ac78cfd1e3dc23af30d4b4fde7c42c7bdaf43e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/65ac78cfd1e3dc23af30d4b4fde7c42c7bdaf43e", "committedDate": "2020-05-19T08:04:33Z", "message": "Revert API change."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab41bcba39bd95728a541baf44fbe53ffb651e96", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ab41bcba39bd95728a541baf44fbe53ffb651e96", "committedDate": "2020-05-19T08:04:33Z", "message": "Fix isScopeExits testcase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ce547371ae052d7a91e06cf72420bdf3788175", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f7ce547371ae052d7a91e06cf72420bdf3788175", "committedDate": "2020-05-19T08:04:33Z", "message": "Fix impl test failures."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07e50be732028f557389615063ab9b3c4b8b87d5", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/07e50be732028f557389615063ab9b3c4b8b87d5", "committedDate": "2020-05-19T08:04:34Z", "message": "Handle null in connection rollbacks.\nMove AddLocalScopes to updateScope transaction.\nMove getAPIContext to deleteAPI transaction."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "febeff054b32db48239473a00bae7f01e73232ab", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/febeff054b32db48239473a00bae7f01e73232ab", "committedDate": "2020-05-19T08:04:34Z", "message": "Fix checkstyle issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c7c7bd1666f8f7c624ed446b4ab26c3182a6a00", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4c7c7bd1666f8f7c624ed446b4ab26c3182a6a00", "committedDate": "2020-05-19T08:04:34Z", "message": "fix return value isSharedScopeNameExists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ab4238c276ab03ed79ec9513f1e4bf1e6571e6b", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5ab4238c276ab03ed79ec9513f1e4bf1e6571e6b", "committedDate": "2020-05-19T08:04:34Z", "message": "fix checkstyle issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d13a06f147681320184a0a0d1f9a411d6effd7e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8d13a06f147681320184a0a0d1f9a411d6effd7e", "committedDate": "2020-05-19T08:04:35Z", "message": "Fix publisher swagger issue of having similar paths /scopes/{scopeId} GET and /scopes/{scopeName} HEAD."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27e0dd98329e30df58d8935806803bb3a09cc2f3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/27e0dd98329e30df58d8935806803bb3a09cc2f3", "committedDate": "2020-05-19T08:04:35Z", "message": "remove unnecessary null checks for resultset. Add notes to methods for removing in future."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c74124f5f92646b5de102b52e344d507043854", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/74c74124f5f92646b5de102b52e344d507043854", "committedDate": "2020-05-19T08:04:35Z", "message": "Fix publisher REST API /scopes/{scopeId} HEAD"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c50230f87137ab86f34f93ada33e9e5fb45c470", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3c50230f87137ab86f34f93ada33e9e5fb45c470", "committedDate": "2020-05-19T08:04:36Z", "message": "handle connection rollback for URItemplate removal in update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a431f5a1a659d1581b98a703c7a292a2d2c48f2", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3a431f5a1a659d1581b98a703c7a292a2d2c48f2", "committedDate": "2020-05-19T08:04:36Z", "message": "fix api delete issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "920bd213a92d767c03670b7026559ccaf389df20", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/920bd213a92d767c03670b7026559ccaf389df20", "committedDate": "2020-05-19T08:04:36Z", "message": "rename isShared -> shared"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b57fa9583980600f5b001a88c083304de163977a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b57fa9583980600f5b001a88c083304de163977a", "committedDate": "2020-05-19T08:04:37Z", "message": "Add KM extension to validate global scopes while attaching them to APIs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a49e4ccaa16d9fae8b1c3434b79ae0ecfc8b0146", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a49e4ccaa16d9fae8b1c3434b79ae0ecfc8b0146", "committedDate": "2020-05-19T08:04:37Z", "message": "seperate local scope existence validation and registration logic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cc6b18e4e11f54d06563a025f31dd6d328520c6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2cc6b18e4e11f54d06563a025f31dd6d328520c6", "committedDate": "2020-05-19T08:04:37Z", "message": "Add resource scope attach, detach and update extension points to KM interface."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63918de03a7259108def95489931272448f3a948", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/63918de03a7259108def95489931272448f3a948", "committedDate": "2020-05-19T08:04:38Z", "message": "Seperate KM service calls from ApiMgtDAO layer."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8b887553f0f4eb5f76106f3ff76ad12d2e1222d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b8b887553f0f4eb5f76106f3ff76ad12d2e1222d", "committedDate": "2020-05-19T08:04:38Z", "message": "Fix review comments.\n1.During API deletion, separately delete the resource scope mappings from API-M before deleting the URI templates.\n2. Use the same DB connection when retrieving the API Id during API update and delete.\n3. Provide default implementation for attachResourceScopes, deatachResourceScopes, and updateResourceScopes in KeyManager interface.\n4. Let updating the local scopes (during API update) which are shared across versioned APIs.\n5. Explicitly handle the resource scope operations from default KM implementation to make sure current usecases work."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd5a0d352c0a08ec3eb294310d7138d93d0d86c5", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dd5a0d352c0a08ec3eb294310d7138d93d0d86c5", "committedDate": "2020-05-19T08:04:39Z", "message": "Move getAPIScopes to APIUtil so that KM call will not be done from DAO layer."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccc6347fee87f491c1816c40eab8408220d40aa6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ccc6347fee87f491c1816c40eab8408220d40aa6", "committedDate": "2020-05-19T08:04:39Z", "message": "Remove preserveLegacyScope property. Make legacy scope migration mandatory."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a55ebea01654d30c7dfe4b2dd182c349867a309c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a55ebea01654d30c7dfe4b2dd182c349867a309c", "committedDate": "2020-05-19T08:04:39Z", "message": "Remove getAllSharedScopes DAO."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ad3149d95037f3e27647a79e01f3dd51f7282a1", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2ad3149d95037f3e27647a79e01f3dd51f7282a1", "committedDate": "2020-05-19T08:04:40Z", "message": "Add DisplayName to ScopeDTO in publisher REST API. Keep display name in Scope.name and scope key in Scope.key."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fffcbe024e53f7ff042a9a5926781c4d77330a6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9fffcbe024e53f7ff042a9a5926781c4d77330a6", "committedDate": "2020-05-19T08:04:40Z", "message": "Add TODO for multiple scope per resource support in Basic Auth Gateway."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ba360ebdd44a77a7c204ea69fdcdf4c9d01844d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0ba360ebdd44a77a7c204ea69fdcdf4c9d01844d", "committedDate": "2020-05-19T08:04:40Z", "message": "Fix review comments. Add specific field names to SELECT queries."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c87c1c9cee1aaf32e1ccaa17e8dea5aa30c5726", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7c87c1c9cee1aaf32e1ccaa17e8dea5aa30c5726", "committedDate": "2020-05-19T08:04:40Z", "message": "Fix get scope id using scope name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db2f4f02e6a9695d1914443b5d272f444109932a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/db2f4f02e6a9695d1914443b5d272f444109932a", "committedDate": "2020-05-19T08:04:40Z", "message": "remove tenantId parameter for api update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45292dca5cb55b2dee5b10f8584f3dc1cb655cc3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/45292dca5cb55b2dee5b10f8584f3dc1cb655cc3", "committedDate": "2020-05-19T08:04:41Z", "message": "remove preserve legacy extension."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95d4c7ade4c39c5a065ab8d017005d1d09dbf741", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/95d4c7ade4c39c5a065ab8d017005d1d09dbf741", "committedDate": "2020-05-19T08:04:41Z", "message": "Fix tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "780e160cce3a17b51ed3ce5790da595024c86efd", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/780e160cce3a17b51ed3ce5790da595024c86efd", "committedDate": "2020-05-19T08:04:41Z", "message": "add validation for scope display name. When display is not provided, add the scope name as the display name. Refer the same objects in api.scopes to URI templates."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "758ce6ee37df4e72ad38d1cde37ba3bd8b9f1179", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/758ce6ee37df4e72ad38d1cde37ba3bd8b9f1179", "committedDate": "2020-05-19T08:13:08Z", "message": "fix tests.\nremove unused methods and sql queries."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "555eeaf8ae8575b91f3ae38042ee16d4a03ee206", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/555eeaf8ae8575b91f3ae38042ee16d4a03ee206", "committedDate": "2020-05-19T08:13:09Z", "message": "Fix issues when retrieving shared scopes and searching paginated apis."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b069abd1a212ec8fc2c0e15d1a10e255aefe59f9", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b069abd1a212ec8fc2c0e15d1a10e255aefe59f9", "committedDate": "2020-05-19T08:13:09Z", "message": "Get versioned local scopes and remove them from the old local scope set sending to KM, during API update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a88af8ff5b37b95cece2fcfd0137772bf58feb08", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a88af8ff5b37b95cece2fcfd0137772bf58feb08", "committedDate": "2020-05-19T08:13:09Z", "message": "Add resource scope to URITemplate.scopes array."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8785598cb17c97a073ef8f0bacf23bae340f370", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c8785598cb17c97a073ef8f0bacf23bae340f370", "committedDate": "2020-05-19T08:13:09Z", "message": "Add APIScopeDTO to APIProductDTO."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7b044468de089ae86ca1d74e7c5dfe949f99f71", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b7b044468de089ae86ca1d74e7c5dfe949f99f71", "committedDate": "2020-05-19T08:13:10Z", "message": "Fix issue of returning scopes in uri templates for creation new version flow.\nFix graphql oauth token invocation issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e8a0c08c902e5afd3394ba0d322e529200c7bbe", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8e8a0c08c902e5afd3394ba0d322e529200c7bbe", "committedDate": "2020-05-19T08:13:10Z", "message": "fix issue when loading scopes for Operations in GraphQL."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e53bc297668e49d326691d8a066812d3496e0f1", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8e53bc297668e49d326691d8a066812d3496e0f1", "committedDate": "2020-05-19T08:13:10Z", "message": "remove AM_API_SCOPES table."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c4ba918af45151ef98071bd642b82a4778f9bf6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7c4ba918af45151ef98071bd642b82a4778f9bf6", "committedDate": "2020-05-19T08:13:10Z", "message": "remove AM_API_SCOPES table and add shared scope tables for test cases."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0d84266dfd1e9c3669c6c376a4ee4a8893a0cf9", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c0d84266dfd1e9c3669c6c376a4ee4a8893a0cf9", "committedDate": "2020-05-19T08:13:10Z", "message": "remove oauth2 scope resource path primary key constraint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd8dae6daa25f2d63878343750a5c37e0dbd5681", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/fd8dae6daa25f2d63878343750a5c37e0dbd5681", "committedDate": "2020-05-19T08:13:10Z", "message": "fix review comment : remove initializeHttpClient from KeyManager Interface. Add it to DefaultImplementation only."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a387df8f37a3b86545ca128377067bd8dfd9dcb", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4a387df8f37a3b86545ca128377067bd8dfd9dcb", "committedDate": "2020-05-19T08:13:10Z", "message": "Fix comments and javadoc comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a6855cb34212f282011205f1ac8d7db6643a41d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0a6855cb34212f282011205f1ac8d7db6643a41d", "committedDate": "2020-05-19T08:13:10Z", "message": "fix bug, remove shared scope by tenantId."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c227ae14823523d58397d0190219fada595fd382", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c227ae14823523d58397d0190219fada595fd382", "committedDate": "2020-05-19T08:13:10Z", "message": "rename scopeName -> name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99c8da528391eede8b3d4adfab83a003c5c4ce7b", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/99c8da528391eede8b3d4adfab83a003c5c4ce7b", "committedDate": "2020-05-19T08:13:11Z", "message": "remove isScopeKeyAssigned deprecated method."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4474710cbddf77aa43df55d16896f759bccd78df", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4474710cbddf77aa43df55d16896f759bccd78df", "committedDate": "2020-05-12T11:35:41Z", "message": "fix bug, remove shared scope by tenantId."}, "afterCommit": {"oid": "99c8da528391eede8b3d4adfab83a003c5c4ce7b", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/99c8da528391eede8b3d4adfab83a003c5c4ce7b", "committedDate": "2020-05-19T08:13:11Z", "message": "remove isScopeKeyAssigned deprecated method."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MjA5NTI0", "url": "https://github.com/wso2/carbon-apimgt/pull/8476#pullrequestreview-414209524", "createdAt": "2020-05-19T08:19:45Z", "commit": {"oid": "99c8da528391eede8b3d4adfab83a003c5c4ce7b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5459d527fb292b12993d7d75b8ba464e1016f030", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5459d527fb292b12993d7d75b8ba464e1016f030", "committedDate": "2020-05-10T18:15:36Z", "message": "Fix comments and javadoc comments."}, "afterCommit": {"oid": "f079ddf297e42cf20060c13b9c921fdabb9b6f5f", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f079ddf297e42cf20060c13b9c921fdabb9b6f5f", "committedDate": "2020-05-11T16:02:43Z", "message": "Fix comments and javadoc comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNTgxMjY4", "url": "https://github.com/wso2/carbon-apimgt/pull/8476#pullrequestreview-413581268", "createdAt": "2020-05-18T13:14:21Z", "commit": {"oid": "4474710cbddf77aa43df55d16896f759bccd78df"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMzoxNDoyMlrOGW2llg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMzoyMToxNlrOGW23uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYxNjIxNA==", "bodyText": "can we remove it", "url": "https://github.com/wso2/carbon-apimgt/pull/8476#discussion_r426616214", "createdAt": "2020-05-18T13:14:22Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIManager.java", "diffHunk": "@@ -453,9 +453,34 @@ String addResourceFile(Identifier identifier, String resourcePath, ResourceFile\n      * @param tenantid   tenant id\n      * @return true if the scope key is already available\n      * @throws APIManagementException if failed to check the context availability\n+     * @deprecated Use isScopeKeyAssignedLocally() instead.\n      */\n+    @Deprecated\n     boolean isScopeKeyAssigned(APIIdentifier identifier, String scopeKey, int tenantid) throws APIManagementException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4474710cbddf77aa43df55d16896f759bccd78df"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYyMDg1OQ==", "bodyText": "scopeName -> name", "url": "https://github.com/wso2/carbon-apimgt/pull/8476#discussion_r426620859", "createdAt": "2020-05-18T13:21:16Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/AMDefaultKeyManagerImpl.java", "diffHunk": "@@ -706,14 +762,553 @@ public AccessTokenInfo getAccessTokenByConsumerKey(String consumerKey) throws AP\n     }\n \n     @Override\n-    public Map<String, Set<Scope>> getScopesForAPIS(String apiIdsString) throws APIManagementException {\n+    public Map<String, Set<Scope>> getScopesForAPIS(String apiIdsString, String tenantDomain)\n+            throws APIManagementException {\n+\n+        Map<String, Set<Scope>> apiToScopeMapping = new HashMap<>();\n         ApiMgtDAO apiMgtDAO = ApiMgtDAO.getInstance();\n-        Map<String, Set<Scope>> scopes = apiMgtDAO.getScopesForAPIS(apiIdsString);\n-        return scopes;\n+        Map<String, Set<String>> apiToScopeKeyMapping = apiMgtDAO.getScopesForAPIS(apiIdsString);\n+        for (String apiId : apiToScopeKeyMapping.keySet()) {\n+            Set<Scope> apiScopes = new LinkedHashSet<>();\n+            Set<String> scopeKeys = apiToScopeKeyMapping.get(apiId);\n+            for (String scopeKey : scopeKeys) {\n+                Scope scope = getScopeByName(scopeKey, tenantDomain);\n+                apiScopes.add(scope);\n+            }\n+            apiToScopeMapping.put(apiId, apiScopes);\n+        }\n+        return apiToScopeMapping;\n+    }\n+\n+    /**\n+     * Get scope management service tenant URL for given KM endpoint.\n+     *\n+     * @return Scope Management Service host URL (Eg:https://localhost:9444/api/identity/oauth2/v1.0/scopes)\n+     * @throws APIManagementException If a malformed km endpoint is provided\n+     */\n+    private String getScopeManagementServiceEndpoint(String tenantDomain) throws APIManagementException {\n+\n+        String authServerURL = configuration.getParameter(APIConstants.AUTHSERVER_URL);\n+        if (StringUtils.isEmpty(authServerURL)) {\n+            throw new APIManagementException(\"API Key Validator Server URL cannot be empty or null\");\n+        }\n+        String scopeMgtTenantEndpoint = authServerURL.split(\"/\" + APIConstants.SERVICES_URL_RELATIVE_PATH)[0];\n+        if (StringUtils.isNoneEmpty(tenantDomain)) {\n+            scopeMgtTenantEndpoint += \"/t/\" + tenantDomain;\n+        }\n+        scopeMgtTenantEndpoint += APIConstants.KEY_MANAGER_OAUTH2_SCOPES_REST_API_BASE_PATH;\n+        return scopeMgtTenantEndpoint;\n+    }\n+\n+    /**\n+     * This method will be used to register a Scope in the authorization server.\n+     *\n+     * @param scope        Scope to register\n+     * @param tenantDomain tenant domain to add scope\n+     * @throws APIManagementException if there is an error while registering a new scope.\n+     */\n+    @Override\n+    public void registerScope(Scope scope, String tenantDomain) throws APIManagementException {\n+\n+        AccessTokenInfo accessToken = getAccessTokenForScopeMgt(tenantDomain);\n+        String scopeEndpoint = getScopeManagementServiceEndpoint(tenantDomain);\n+        String scopeKey = scope.getKey();\n+        try {\n+            HttpPost httpPost = new HttpPost(scopeEndpoint);\n+            httpPost.setHeader(HttpHeaders.AUTHORIZATION, getBearerAuthorizationHeader(accessToken));\n+            httpPost.setHeader(HttpHeaders.CONTENT_TYPE, APIConstants.APPLICATION_JSON_MEDIA_TYPE);\n+            ScopeDTO scopeDTO = new ScopeDTO();\n+            scopeDTO.setName(scopeKey);\n+            scopeDTO.setDisplayName(scope.getName());\n+            scopeDTO.setDescription(scope.getDescription());\n+            if (scope.getRoles() != null) {\n+                scopeDTO.setBindings(Arrays.asList(scope.getRoles().split(\",\")));\n+            }\n+            StringEntity payload = new StringEntity(new Gson().toJson(scopeDTO));\n+            httpPost.setEntity(payload);\n+            if (log.isDebugEnabled()) {\n+                log.debug(\"Invoking Scope Management REST API of KM: \" + scopeEndpoint + \" to register scope \"\n+                        + scopeKey);\n+            }\n+            try (CloseableHttpResponse httpResponse = kmHttpClient.execute(httpPost)) {\n+                int statusCode = httpResponse.getStatusLine().getStatusCode();\n+                if (statusCode != HttpStatus.SC_CREATED) {\n+                    String responseString = readHttpResponseAsString(httpResponse);\n+                    throw new APIManagementException(\"Error occurred while registering scope: \" + scopeKey + \" via \"\n+                            + scopeEndpoint + \". Error Status: \" + statusCode + \" . Error Response: \" + responseString);\n+                }\n+            }\n+        } catch (IOException e) {\n+            String errorMessage = \"Error occurred while registering scope: \" + scopeKey + \" via \" + scopeEndpoint;\n+            throw new APIManagementException(errorMessage, e);\n+        }\n+    }\n+\n+    /**\n+     * Read response body for HTTPResponse as a string.\n+     *\n+     * @param httpResponse HTTPResponse\n+     * @return Response Body String\n+     * @throws APIManagementException If an error occurs while reading the response\n+     */\n+    protected String readHttpResponseAsString(CloseableHttpResponse httpResponse) throws APIManagementException {\n+\n+        try {\n+            HttpEntity entity = httpResponse.getEntity();\n+            String responseString = entity != null ? EntityUtils.toString(entity, StandardCharsets.UTF_8) : null;\n+            //release all resources held by the responseHttpEntity\n+            EntityUtils.consume(entity);\n+            return responseString;\n+        } catch (IOException e) {\n+            String errorMessage = \"Error occurred while reading response body as string\";\n+            throw new APIManagementException(errorMessage, e);\n+        }\n+    }\n+\n+    /**\n+     * Get Basic Authorization header for KM admin credentials.\n+     *\n+     * @return Base64 encoded Basic Authorization header\n+     */\n+    protected String getBasicAuthorizationHeader() {\n+\n+        //Set Authorization Header of external store admin\n+        byte[] encodedAuth = Base64\n+                .encodeBase64((configuration.getParameter(APIConstants.KEY_MANAGER_USERNAME) + \":\"\n+                        + configuration.getParameter(APIConstants.KEY_MANAGER_PASSWORD))\n+                        .getBytes(StandardCharsets.ISO_8859_1));\n+        return APIConstants.AUTHORIZATION_HEADER_BASIC + StringUtils.SPACE + new String(encodedAuth);\n+    }\n+\n+    /**\n+     * Get access token with scope management scopes for the tenant using the KM Mgt OAuth Application.\n+     *\n+     * @param tenantDomain Tenant Domain\n+     * @return Access Token\n+     */\n+    private AccessTokenInfo getAccessTokenForScopeMgt(String tenantDomain) throws APIManagementException {\n+\n+        OAuthApplicationInfo oAuthApplication = getKeyManagerMgtApplication(tenantDomain);\n+        // Set scope management resource scopes\n+        oAuthApplication.addParameter(APIConstants.AccessTokenConstants.TOKEN_SCOPES,\n+                APIConstants.KEY_MANAGER_OAUTH2_SCOPES_REST_API_MGT_SCOPES);\n+        // Create access token request for the application\n+        AccessTokenRequest tokenRequest = ApplicationUtils.createAccessTokenRequest(oAuthApplication, null);\n+        // Get access token\n+        return getNewApplicationAccessToken(tokenRequest);\n+    }\n+\n+    /**\n+     * Construct Bearer Authorization header for AccessTokenInfo.\n+     *\n+     * @param accessTokenInfo Access Token\n+     * @return Bearer Authorization header\n+     */\n+    private String getBearerAuthorizationHeader(AccessTokenInfo accessTokenInfo) {\n+\n+        return APIConstants.AUTHORIZATION_BEARER + accessTokenInfo.getAccessToken();\n+    }\n+\n+    /**\n+     * This method will be used to retrieve details of a Scope in the authorization server.\n+     *\n+     * @param scopeName    Scope Name to retrieve\n+     * @param tenantDomain tenant domain to retrieve scope from\n+     * @return Scope object\n+     * @throws APIManagementException if an error while retrieving scope\n+     */\n+    @Override\n+    public Scope getScopeByName(String scopeName, String tenantDomain) throws APIManagementException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4474710cbddf77aa43df55d16896f759bccd78df"}, "originalPosition": 538}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "093c7553932df02f127382fac2b6f7846feb97b6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/093c7553932df02f127382fac2b6f7846feb97b6", "committedDate": "2020-05-19T08:04:03Z", "message": "generate rest api for global scopes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03888d14fb9594e3d84bbead1e329224a22f7e7d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/03888d14fb9594e3d84bbead1e329224a22f7e7d", "committedDate": "2020-05-19T08:04:03Z", "message": "generate rest api for global scopes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e968cab479b04605a9a166fedfdb0ffa0df3592d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e968cab479b04605a9a166fedfdb0ffa0df3592d", "committedDate": "2020-05-19T08:04:04Z", "message": "Change scope ID to String to support Global Scope UUID."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c263e54fcf44386751c9539805c98444490266ae", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c263e54fcf44386751c9539805c98444490266ae", "committedDate": "2020-05-19T08:04:04Z", "message": "Change scope ID to String to support Global Scope UUID."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3a3c37090fcc354fd0b3466f8901a9fe4b0dd1a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f3a3c37090fcc354fd0b3466f8901a9fe4b0dd1a", "committedDate": "2020-05-19T08:04:04Z", "message": "add feign client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12ab76301fe5a80727a6523a377f533233eaa208", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/12ab76301fe5a80727a6523a377f533233eaa208", "committedDate": "2020-05-19T08:04:04Z", "message": "Implement global scope REST API service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be73547b855460aee62b0ef6dd58d7a09035b39e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/be73547b855460aee62b0ef6dd58d7a09035b39e", "committedDate": "2020-05-19T08:04:04Z", "message": "Add scope management IS service client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c5345d803df4dc6ad8012e10bcc8014ed7c1bf9", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6c5345d803df4dc6ad8012e10bcc8014ed7c1bf9", "committedDate": "2020-05-19T08:04:04Z", "message": "Add global scope management implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "347af0142e3212840f9b4c2d1b5a80e26f698e8d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/347af0142e3212840f9b4c2d1b5a80e26f698e8d", "committedDate": "2020-05-19T08:04:04Z", "message": "Add global scope db scripts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0a9ba222e1a3936ed177db97bb5881de4d8037d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b0a9ba222e1a3936ed177db97bb5881de4d8037d", "committedDate": "2020-05-19T08:04:04Z", "message": "Add global scope db support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a49089ede9ff893763bfe77b94a96a08a9f114ec", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a49089ede9ff893763bfe77b94a96a08a9f114ec", "committedDate": "2020-05-19T08:04:05Z", "message": "Add error decoder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeda1749ce0da00e927975c1893e5075943be5de", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aeda1749ce0da00e927975c1893e5075943be5de", "committedDate": "2020-05-19T08:04:05Z", "message": "Add register scope implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68adeaad1440fbca63c3d826b123b46c3c75b395", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/68adeaad1440fbca63c3d826b123b46c3c75b395", "committedDate": "2020-05-19T08:04:05Z", "message": "update binding type example value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6445db8a911b5ef95ce7f5919eab5f46992e6c7", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a6445db8a911b5ef95ce7f5919eab5f46992e6c7", "committedDate": "2020-05-19T08:04:05Z", "message": "Add Global Scope REST API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f64da9b9ff6ef7ce78d670f9fbe4b99914d936c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2f64da9b9ff6ef7ce78d670f9fbe4b99914d936c", "committedDate": "2020-05-19T08:04:05Z", "message": "Add Primary Key AM_GLOBAL_SCOPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1aa4d1119131daf8edde66baabc9bd2c8a7897d4", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1aa4d1119131daf8edde66baabc9bd2c8a7897d4", "committedDate": "2020-05-19T08:04:05Z", "message": "Remove openfeign"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e480fd9f39c254ec7a808d27fbb17095516ff4f5", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e480fd9f39c254ec7a808d27fbb17095516ff4f5", "committedDate": "2020-05-19T08:04:05Z", "message": "Add global scope manage REST API Scope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f141cecf3ffa320d8ff9d27d45c29dd35d1389b3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f141cecf3ffa320d8ff9d27d45c29dd35d1389b3", "committedDate": "2020-05-19T08:04:05Z", "message": "Remove fiegn client for scopemanagement\nAdd Http Client for KeyManager\nImplement scopemanagement methods\nFormat code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ec49aed080d9064588e0c83caac6b3600764cdb", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4ec49aed080d9064588e0c83caac6b3600764cdb", "committedDate": "2020-05-19T08:04:06Z", "message": "Add scope management methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0736111f6b9e8514fb21dadbd3de152ad72d38d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a0736111f6b9e8514fb21dadbd3de152ad72d38d", "committedDate": "2020-05-19T08:04:06Z", "message": "Initialize HttpClient for KM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ab994199326c1c59c93ce3eb1fb257f964e0504", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6ab994199326c1c59c93ce3eb1fb257f964e0504", "committedDate": "2020-05-19T08:04:06Z", "message": "remove scopebindings dto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa4ace75f5b0caa3d1bda0e48acb4d62b7431498", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aa4ace75f5b0caa3d1bda0e48acb4d62b7431498", "committedDate": "2020-05-19T08:04:06Z", "message": "Add scope management dao"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15fa69678b37051ba703d7ac32c48ad184adb5cd", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/15fa69678b37051ba703d7ac32c48ad184adb5cd", "committedDate": "2020-05-19T08:04:06Z", "message": "Add scope management implementation layer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3c8af0ac34ff10e70ce89d60e9b410ad822712d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a3c8af0ac34ff10e70ce89d60e9b410ad822712d", "committedDate": "2020-05-19T08:04:06Z", "message": "Update GlobalScope REST API layer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d57c60334b30d3dd7566335cdf50b5f674787db", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8d57c60334b30d3dd7566335cdf50b5f674787db", "committedDate": "2020-05-19T08:04:07Z", "message": "handle 404 in isScopeExists usecase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c27fe62648343de7bda5956efd2ed4379b5c76cb", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c27fe62648343de7bda5956efd2ed4379b5c76cb", "committedDate": "2020-05-19T08:04:07Z", "message": "update binding type example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33a767da602c175f4212956b082d2b05a00b91a6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/33a767da602c175f4212956b082d2b05a00b91a6", "committedDate": "2020-05-19T08:04:07Z", "message": "attach scope to resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "236223454dfc3731c51bb0881f092a0f3224edad", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/236223454dfc3731c51bb0881f092a0f3224edad", "committedDate": "2020-05-19T08:04:07Z", "message": "Add Scope Mgt DAO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fdf8425d1a5a32e351e430132b204f82fc8fc98", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0fdf8425d1a5a32e351e430132b204f82fc8fc98", "committedDate": "2020-05-19T08:04:07Z", "message": "Remove feign dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbf3a16ce994e2b604f16aa6e2fc45ed59aa163c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dbf3a16ce994e2b604f16aa6e2fc45ed59aa163c", "committedDate": "2020-05-19T08:04:07Z", "message": "Add SCOPE_NAME to RESOURCE_SCOPE_MAPPING table.\nAdd IS_SCOPE_ATTACHED_LOCALLY query."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8902f7f30b68284a4810999b21a01d2bf90f4a4f", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8902f7f30b68284a4810999b21a01d2bf90f4a4f", "committedDate": "2020-05-19T08:04:08Z", "message": "Add SCOPE_NAME, TENANT_ID to RESOURCE_SCOPE_MAPPING table."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e3bf0774b85fb988fa669a17d4f7c5537f5f27b", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6e3bf0774b85fb988fa669a17d4f7c5537f5f27b", "committedDate": "2020-05-19T08:04:08Z", "message": "Update scope existence validation logic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16c55e8f53251e46587206c1e3ddbcc9ed6e60a4", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/16c55e8f53251e46587206c1e3ddbcc9ed6e60a4", "committedDate": "2020-05-19T08:04:08Z", "message": "Fix unit test failures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acf63462044017c7060d76f43e480f1af9b10d0e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/acf63462044017c7060d76f43e480f1af9b10d0e", "committedDate": "2020-05-19T08:04:08Z", "message": "fix IDN_OAUTH2_RESOURCE_SCOPE table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2e1102d27e7350e4d14694c0a1a765af04dccc3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b2e1102d27e7350e4d14694c0a1a765af04dccc3", "committedDate": "2020-05-19T08:04:09Z", "message": "add detachScopeFromKM extension point to KM implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2eb03adfbc6d0d56d92d241f9c31c9b8a8bcc93", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f2eb03adfbc6d0d56d92d241f9c31c9b8a8bcc93", "committedDate": "2020-05-19T08:04:09Z", "message": "Update Scopes SQL Queries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29929fa83ab61ef6c54bf4ed2d57ecf3063a3c9e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/29929fa83ab61ef6c54bf4ed2d57ecf3063a3c9e", "committedDate": "2020-05-19T08:04:09Z", "message": "Update Scopes SQL Queries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8e355ffea8041d78bfec66e833b454c6af728f3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c8e355ffea8041d78bfec66e833b454c6af728f3", "committedDate": "2020-05-19T08:04:09Z", "message": "Add detach scope implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de52b11ff358ee76a2e08c33feee88374a44dfdf", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/de52b11ff358ee76a2e08c33feee88374a44dfdf", "committedDate": "2020-05-19T08:04:09Z", "message": "update isScopeExists method changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58f0bc529385679827500d06e1c40c70e346a6f3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/58f0bc529385679827500d06e1c40c70e346a6f3", "committedDate": "2020-05-19T08:04:10Z", "message": "add km management application table to keep the OAuth App info for each tenant.\nremove foreign key constraint in IDN_OAUTH2_RESOURCE_SCOPE. This would temporary as the table will be removed in future."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8709d48ac80a3c776ca4c030fd79608400864057", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8709d48ac80a3c776ca4c030fd79608400864057", "committedDate": "2020-05-19T08:04:10Z", "message": "Add isGlobal field to ScopeDTO to identify the scope as a global scope. This will be useful when showing only local scopes in API specific UI. Local scopes are taken from the API.Scopes. Since global scopes can also be in the same list, there should be way to differenciate them when showing in the API specific scopes UI.  This will not be honered when updating or creating APIs/GlobalScopes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c23ad9ff6676ef754dd6405b16240e2e4545adc", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2c23ad9ff6676ef754dd6405b16240e2e4545adc", "committedDate": "2020-05-19T08:04:10Z", "message": "Only show the local scopes by filtering from API.Scopes[x].isGlobal."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99147bfc0933a2c121b9f670d7097c0ee871e40c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/99147bfc0933a2c121b9f670d7097c0ee871e40c", "committedDate": "2020-05-19T08:04:10Z", "message": "set isGlobal value when retrieving global scopes and APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bc4088cdc64a9bca6a7f225381679f93a9cd786", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5bc4088cdc64a9bca6a7f225381679f93a9cd786", "committedDate": "2020-05-19T08:04:10Z", "message": "check if scope attachments present when deleting global scopes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89bf157dc5780bd27e276cfa6700080d9a0d6657", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/89bf157dc5780bd27e276cfa6700080d9a0d6657", "committedDate": "2020-05-19T08:04:11Z", "message": "Check if scope key in request payload is an already defined global scope, if so replace the scope bindings and description with existing values. If not, there would be mismatch in the swagger vs database API scope data."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aa51dd2923e56c7c7ce2404fae6eeeb29bf809f", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8aa51dd2923e56c7c7ce2404fae6eeeb29bf809f", "committedDate": "2020-05-19T08:04:12Z", "message": "Add WSO2ISKeyManagerImpl for usecases when WSO2 IS is used as the authorization server."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88fb2bcd7a381afe21e7db2deb41245a134ee3f6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/88fb2bcd7a381afe21e7db2deb41245a134ee3f6", "committedDate": "2020-05-19T08:04:12Z", "message": "Add KMConfigDeployer to provision OAuth app when each tenant is loading."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b87e2e073fe63816d2ca4c1f1b7cee66c349d4af", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b87e2e073fe63816d2ca4c1f1b7cee66c349d4af", "committedDate": "2020-05-19T08:04:12Z", "message": "Provision OAuth in KeyManager for super tenant."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f570a9e2f812471d4dc21f524a66c02ec75da1d4", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f570a9e2f812471d4dc21f524a66c02ec75da1d4", "committedDate": "2020-05-19T08:04:12Z", "message": "Register KMConfigDeployer to bundle context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c2d5579cd0db77e71c4042a6d121bc1058c567", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/85c2d5579cd0db77e71c4042a6d121bc1058c567", "committedDate": "2020-05-19T08:04:12Z", "message": "Register OAuth Application by calling DCR endpoint when APIM is used as the KM.\nGenerate token each time calling scope management REST APIS. TODO:// Add the tokens to cache/hashmap for better performance."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a046edf4ce5d7982e74f778f01b04e696f3e409", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2a046edf4ce5d7982e74f778f01b04e696f3e409", "committedDate": "2020-05-19T08:04:13Z", "message": "Add KM constants."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45785a8a4c806dd49611260460f9daa26ce0d069", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/45785a8a4c806dd49611260460f9daa26ce0d069", "committedDate": "2020-05-19T08:04:13Z", "message": "Add KMRegisterProfileDTO to exchange payload info for DCR request."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce0e99c48b970775de78704f97cc9ef627373367", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ce0e99c48b970775de78704f97cc9ef627373367", "committedDate": "2020-05-19T08:04:13Z", "message": "Add KM Application DAO methods."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ff5b35bec203a7d65da629de8fe4d4ac0847f83", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9ff5b35bec203a7d65da629de8fe4d4ac0847f83", "committedDate": "2020-05-19T08:04:13Z", "message": "Add KMApplicationDAO changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82a9a452a58ce92e951ca17d405646624370f887", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/82a9a452a58ce92e951ca17d405646624370f887", "committedDate": "2020-05-19T08:04:14Z", "message": "Add register KM Application method interface."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ddbee7c473a05f801d652c6ecdaa1f49cc8b010", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9ddbee7c473a05f801d652c6ecdaa1f49cc8b010", "committedDate": "2020-05-19T08:04:14Z", "message": "remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa89a6cdd99d264a9c2ce76b881195b30885af98", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aa89a6cdd99d264a9c2ce76b881195b30885af98", "committedDate": "2020-05-19T08:04:14Z", "message": "Add isScopeKeyAssignedToAPI method to check whether the scope key assigned to any of the API in the tenant."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0483c62fefd7fe0ccb148657ff72f21c93cdda22", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0483c62fefd7fe0ccb148657ff72f21c93cdda22", "committedDate": "2020-05-19T08:04:14Z", "message": "Add GetGlobalScopeByName and GetAllGlobalScopeKeys for tenant methods."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e0e5d9fa5f4b2a4c6e9e5d939f49420201125ab", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9e0e5d9fa5f4b2a4c6e9e5d939f49420201125ab", "committedDate": "2020-05-19T08:04:15Z", "message": "Add isScopeAssignedToAPI Implementation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "063ce0e480d1ca3aa3014e807b94fc62b4628c3a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/063ce0e480d1ca3aa3014e807b94fc62b4628c3a", "committedDate": "2020-05-19T08:04:15Z", "message": "Remove duplicate scope check.\n\nTODO://Check if duplicate scope config is needed. https://github.com/wso2/carbon-apimgt/commit/6ddfe74879ecffa38ecd4367bfea8eb456fd033a"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c0fdc8b6ef8f62f66774e7eead0517ce86d10ba", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4c0fdc8b6ef8f62f66774e7eead0517ce86d10ba", "committedDate": "2020-05-19T08:04:15Z", "message": "Fix scopes issue in creating new version of API."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "124bbb5f5989767af47de660178c0f02ebeed308", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/124bbb5f5989767af47de660178c0f02ebeed308", "committedDate": "2020-05-19T08:04:15Z", "message": "Add GetAllGlobalScopeKeys and GetGlobalScopeByName implementations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5aaf212ce4f4f7c5f0b42b12ec6cf26780767b2", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d5aaf212ce4f4f7c5f0b42b12ec6cf26780767b2", "committedDate": "2020-05-19T08:04:15Z", "message": "Fix formatting issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc029c9118df8914f2bde00fbe60dcb1494cf2a8", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/cc029c9118df8914f2bde00fbe60dcb1494cf2a8", "committedDate": "2020-05-19T08:04:17Z", "message": "Add DAO Changes related to scope management."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "692bd75795c79ef08240388e79b7eb9906ba19ac", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/692bd75795c79ef08240388e79b7eb9906ba19ac", "committedDate": "2020-05-19T08:04:17Z", "message": "Add Scope management related SQL queries."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeb830d4f4cd037a2943751f6b3ab86e686edb7c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aeb830d4f4cd037a2943751f6b3ab86e686edb7c", "committedDate": "2020-05-19T08:04:18Z", "message": "Fix formatting and minor issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61e9b647967e38950e2c29f5843c489a96946420", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/61e9b647967e38950e2c29f5843c489a96946420", "committedDate": "2020-05-19T08:04:18Z", "message": "Fix formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d38faa2b2c99d38a561581e5d8b1c289f08be1", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/91d38faa2b2c99d38a561581e5d8b1c289f08be1", "committedDate": "2020-05-19T08:04:18Z", "message": "Fix code formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a990c187a2e90bec69ddcd61c00ba213001cfafb", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a990c187a2e90bec69ddcd61c00ba213001cfafb", "committedDate": "2020-05-19T08:04:18Z", "message": "remove feign import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e43f4fed2f0a48c3493f43e8c594d8f9d42c2a0", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6e43f4fed2f0a48c3493f43e8c594d8f9d42c2a0", "committedDate": "2020-05-19T08:04:18Z", "message": "string Ids are compared using .equals()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1557488c2fb7d964dbff8ed6d0ed09e971593567", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1557488c2fb7d964dbff8ed6d0ed09e971593567", "committedDate": "2020-05-19T08:04:19Z", "message": "minor formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23db2b28efaa6d750e6eaadb558f1d25edff3903", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/23db2b28efaa6d750e6eaadb558f1d25edff3903", "committedDate": "2020-05-19T08:04:19Z", "message": "Move Scope DTO to impl.dto package and rename to ScopeDTO."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95e3e9b43d6903168e517155a368ab21189be1fa", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/95e3e9b43d6903168e517155a368ab21189be1fa", "committedDate": "2020-05-19T08:04:20Z", "message": "Remove unused class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3848d96cba6b6f69713b975d0daddd01376b5044", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3848d96cba6b6f69713b975d0daddd01376b5044", "committedDate": "2020-05-19T08:04:20Z", "message": "add serial version uid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9aa1bc48ee578855f225b8ea9d4ad05de471bba", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a9aa1bc48ee578855f225b8ea9d4ad05de471bba", "committedDate": "2020-05-19T08:04:20Z", "message": "add private constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa6460bccd85b1313c67e5e616b73fd5af4687f2", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aa6460bccd85b1313c67e5e616b73fd5af4687f2", "committedDate": "2020-05-19T08:04:20Z", "message": "fix formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6f43dc8127c02282264b844de848eb239558c27", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a6f43dc8127c02282264b844de848eb239558c27", "committedDate": "2020-05-19T08:04:20Z", "message": "Fix minor formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e802b5a034437174602e2525ec54900e0c95e821", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e802b5a034437174602e2525ec54900e0c95e821", "committedDate": "2020-05-19T08:04:21Z", "message": "Add java doc @Override annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe0e0a1dc4e834473c9e294ea6bf00e4139d4939", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/fe0e0a1dc4e834473c9e294ea6bf00e4139d4939", "committedDate": "2020-05-19T08:04:21Z", "message": "Fix formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1f47be65f7d5a488b5482ff5a483382dc1efad1", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f1f47be65f7d5a488b5482ff5a483382dc1efad1", "committedDate": "2020-05-19T08:04:21Z", "message": "Fix minor formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "452feb5ed6811213dbd93c137646fe52d3bc39a9", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/452feb5ed6811213dbd93c137646fe52d3bc39a9", "committedDate": "2020-05-19T08:04:21Z", "message": "Fix minor formatting and add missing java docs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93cc8accf711bc6e0b91393ee9bc41cacb9681f7", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/93cc8accf711bc6e0b91393ee9bc41cacb9681f7", "committedDate": "2020-05-19T08:04:22Z", "message": "Fix FakeKeyManagerForTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdd0f36b10741694fdd67fcb3eb622065924e010", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/cdd0f36b10741694fdd67fcb3eb622065924e010", "committedDate": "2020-05-19T08:04:22Z", "message": "Fix formatting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "324f6c67b88919979c74e5c83571f099a16637e3", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/324f6c67b88919979c74e5c83571f099a16637e3", "committedDate": "2020-05-19T08:04:22Z", "message": "Add debug logs before getting all global scopes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cc712fa42bb9634bc38134f6a8c32836ecc12d0", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9cc712fa42bb9634bc38134f6a8c32836ecc12d0", "committedDate": "2020-05-19T08:04:22Z", "message": "Handle errors for global scopes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2924774d66de6e602f6a6fc432f9e0f40ce0a7d", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d2924774d66de6e602f6a6fc432f9e0f40ce0a7d", "committedDate": "2020-05-19T08:04:23Z", "message": "Adding debug logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae7a8d0dec92a5aec68f781ec1fa8e843cf3fc1a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ae7a8d0dec92a5aec68f781ec1fa8e843cf3fc1a", "committedDate": "2020-05-19T08:04:23Z", "message": "Add logs for KM OAuth app registration."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "709a27e02c2048e203de0aa4b5e8eccc850bfc1e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/709a27e02c2048e203de0aa4b5e8eccc850bfc1e", "committedDate": "2020-05-19T08:04:23Z", "message": "Change isScopeExists method to first check global scope table and if not exists, call KM.\nChange isGlobalScopeNameExists to directly check the global scope table only."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2df8f8e47c91bcc4504a5368bb106bcc20a69b5", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f2df8f8e47c91bcc4504a5368bb106bcc20a69b5", "committedDate": "2020-05-19T08:04:23Z", "message": "update local scope adding logic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ec55b053da380b091eeed3950c939aadaba8dbc", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5ec55b053da380b091eeed3950c939aadaba8dbc", "committedDate": "2020-05-19T08:04:23Z", "message": "skip throwing error when scope already exists in KM when creating new API versions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "838c897460c1f6585a630cb56d4a9c3366e2ecd6", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/838c897460c1f6585a630cb56d4a9c3366e2ecd6", "committedDate": "2020-05-19T08:04:23Z", "message": "Change isScope exists and isScopeAttached queries."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3055d34568fcc65d37f93a11e482f255e2645711", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3055d34568fcc65d37f93a11e482f255e2645711", "committedDate": "2020-05-19T08:04:24Z", "message": "Move super tenant name and id to constant."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f9e7b8fb589cb53d9f02e4b4c22848f48f0159", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/89f9e7b8fb589cb53d9f02e4b4c22848f48f0159", "committedDate": "2020-05-19T08:04:24Z", "message": "Rename KMApplicationDAO -> KeyMgtDAO.addApplication\nRemove initialAutoCommit static variable.\nImprove exception handling."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5438aa6cf67290c7b75f5470bda0455b03e18a2c", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5438aa6cf67290c7b75f5470bda0455b03e18a2c", "committedDate": "2020-05-19T08:04:24Z", "message": "Fix ServerStartupListener with proper naming conventions.\nTODO://Only register when KM profile is used as the KeyManager."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a35a013c103ebc33e6a6c5770aff46b8c0dd96a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6a35a013c103ebc33e6a6c5770aff46b8c0dd96a", "committedDate": "2020-05-19T08:04:24Z", "message": "Add proper naming convensions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "737756339f2d4de2cc80d5aa41b5cba73a5e017a", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/737756339f2d4de2cc80d5aa41b5cba73a5e017a", "committedDate": "2020-05-19T08:04:24Z", "message": "Remove registerOAuthApp extension."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e1e06092efee6b6d0ba494045b4ed77aa1f5bd", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f4e1e06092efee6b6d0ba494045b4ed77aa1f5bd", "committedDate": "2020-05-19T08:04:24Z", "message": "Move the duplicate logic to seperate keymgt service class."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a221880cb2f986a05c977bd11e2f9ceba267a38e", "author": {"user": {"login": "dushaniw", "name": "Dushani Wellappili"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a221880cb2f986a05c977bd11e2f9ceba267a38e", "committedDate": "2020-05-19T08:04:25Z", "message": "Rename class names and methods according to convention."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2834, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}