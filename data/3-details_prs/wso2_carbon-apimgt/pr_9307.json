{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMzQzODk5", "number": 9307, "title": "Fixing subscription blocking update issue", "bodyText": "Issues\nFixes wso2/product-apim#9346", "createdAt": "2020-10-09T04:56:17Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9307", "merged": true, "mergeCommit": {"oid": "b80107293ddb21d5d95934a11b01d2160ea9a5a6"}, "closed": true, "closedAt": "2020-10-22T04:49:34Z", "author": {"login": "CrowleyRajapakse"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQxKwLgFqTUwNTQyOTkxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQyIuAABqjM4NTkxMDQ3OTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NDI5OTEz", "url": "https://github.com/wso2/carbon-apimgt/pull/9307#pullrequestreview-505429913", "createdAt": "2020-10-09T07:37:07Z", "commit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NDU5MjIy", "url": "https://github.com/wso2/carbon-apimgt/pull/9307#pullrequestreview-505459222", "createdAt": "2020-10-09T08:18:51Z", "commit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxODo1MVrOHe_1xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxODo1MVrOHe_1xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTI4NQ==", "bodyText": "do we need to do body.getStatus() since there was a condition to check equals", "url": "https://github.com/wso2/carbon-apimgt/pull/9307#discussion_r502265285", "createdAt": "2020-10-09T08:18:51Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.store.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/store/v1/impl/SubscriptionsApiServiceImpl.java", "diffHunk": "@@ -270,10 +271,14 @@ public Response subscriptionsSubscriptionIdPut(SubscriptionDTO body, String subs\n             String currentThrottlingPolicy = body.getThrottlingPolicy();\n             String requestedThrottlingPolicy = body.getRequestedThrottlingPolicy();\n \n+            SubscribedAPI subscribedAPI = ApiMgtDAO.getInstance()\n+                    .getSubscriptionByUUID(subscriptionId);\n             //Check whether the subscription status is not empty and also not blocked\n-            if (body.getStatus() != null) {\n+            if (body.getStatus() != null && subscribedAPI != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "009e0c828b1658a191a7a25cdea662d388b5c4c4", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/009e0c828b1658a191a7a25cdea662d388b5c4c4", "committedDate": "2020-10-09T08:44:17Z", "message": "fixing subscription blocking update issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/063f1776e9fe90837bd9248da2747e7e9df2ac2c", "committedDate": "2020-10-09T04:22:47Z", "message": "fixing subscription blocking update issue"}, "afterCommit": {"oid": "009e0c828b1658a191a7a25cdea662d388b5c4c4", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/009e0c828b1658a191a7a25cdea662d388b5c4c4", "committedDate": "2020-10-09T08:44:17Z", "message": "fixing subscription blocking update issue"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2468, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}