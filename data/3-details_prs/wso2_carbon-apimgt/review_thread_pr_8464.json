{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMzE4ODU3", "number": 8464, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNjo0MDozOFrOD5Rayg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzowNTo1MFrOD_qg3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzgwODEwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNjo0MDozOFrOGQcSCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0Mjo0OFrOGQd5IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTg5Mzc3MA==", "bodyText": "Shouldn't the instantiation of the EndpointRegistry go inside  the if (rs.next()) { block ? otherwise not found would not return null.", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419893770", "createdAt": "2020-05-05T06:40:38Z", "author": {"login": "ChamodDamitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;\n+        String uuid = UUID.randomUUID().toString();\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+             PreparedStatement ps = connection.prepareStatement(query)) {\n+            ps.setString(1, uuid);\n+            ps.setString(2, endpointRegistry.getName());\n+            ps.setString(3, endpointRegistry.getType());\n+            ps.setString(4, endpointRegistry.getMode());\n+            ps.setInt(5, tenantID);\n+            ps.setString(6, endpointRegistry.getOwner());\n+            ps.setString(7, \"\");\n+            ps.setString(8, \"\");\n+            ps.executeUpdate();\n+        } catch (SQLException e) {\n+            handleException(\"Error while adding new endpoint registry: \" + endpointRegistry.getName(), e);\n+        }\n+        return uuid;\n+    }\n+\n+    /**\n+     * Return the details of an Endpoint Registry\n+     *\n+     * @param regsitryId Endpoint Registry Identifier\n+     * @return Endpoint Registry Object\n+     * @throws APIManagementException\n+     */\n+    public EndpointRegistry getEndpointRegistryByUUID(String regsitryId) throws APIManagementException {\n+        String query = SQLConstants.GET_ENDPOINT_REGISTRY_BY_UUID;\n+        EndpointRegistry endpointRegistry = new EndpointRegistry();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMDE2MQ==", "bodyText": "Fixed", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419920161", "createdAt": "2020-05-05T07:42:48Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;\n+        String uuid = UUID.randomUUID().toString();\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+             PreparedStatement ps = connection.prepareStatement(query)) {\n+            ps.setString(1, uuid);\n+            ps.setString(2, endpointRegistry.getName());\n+            ps.setString(3, endpointRegistry.getType());\n+            ps.setString(4, endpointRegistry.getMode());\n+            ps.setInt(5, tenantID);\n+            ps.setString(6, endpointRegistry.getOwner());\n+            ps.setString(7, \"\");\n+            ps.setString(8, \"\");\n+            ps.executeUpdate();\n+        } catch (SQLException e) {\n+            handleException(\"Error while adding new endpoint registry: \" + endpointRegistry.getName(), e);\n+        }\n+        return uuid;\n+    }\n+\n+    /**\n+     * Return the details of an Endpoint Registry\n+     *\n+     * @param regsitryId Endpoint Registry Identifier\n+     * @return Endpoint Registry Object\n+     * @throws APIManagementException\n+     */\n+    public EndpointRegistry getEndpointRegistryByUUID(String regsitryId) throws APIManagementException {\n+        String query = SQLConstants.GET_ENDPOINT_REGISTRY_BY_UUID;\n+        EndpointRegistry endpointRegistry = new EndpointRegistry();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTg5Mzc3MA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzg0OTc3OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNjo1NzozMVrOGQcq_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0MzoxOVrOGQd6JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwMDE1Ng==", "bodyText": "Shouldn't we set autoCommit to false as in other places we have done writes?", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419900156", "createdAt": "2020-05-05T06:57:31Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMDQyMA==", "bodyText": "Yes. Fixed in e0c7935", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419920420", "createdAt": "2020-05-05T07:43:19Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwMDE1Ng=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzg4ODAyOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzoxMjoyNlrOGQdByg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0Mzo0NVrOGQd7Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNTk5NA==", "bodyText": "why are 38,39 lines the same?", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419905994", "createdAt": "2020-05-05T07:12:26Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.rest.api.endpoint.registry.util;\n+\n+import org.wso2.carbon.apimgt.api.model.EndpointRegistry;\n+import org.wso2.carbon.apimgt.rest.api.endpoint.registry.dto.RegistryDTO;\n+\n+/**\n+ * This class is responsible for mapping APIM core Endpoint Registry related objects into REST API\n+ * Endpoint Registry related DTOs\n+ */\n+public class EndpointRegistryMappingUtils {\n+\n+    /**\n+     * Converts a RegistryDTO object into EndpointRegistry object\n+     *\n+     * @param registryDTO RegistryDTO object\n+     * @return EndpointRegistry corresponds to RegistryDTO object\n+     */\n+    public static EndpointRegistry fromDTOtoEndpointRegistry(RegistryDTO registryDTO, String owner) {\n+        EndpointRegistry registry = new EndpointRegistry();\n+        registry.setName(registryDTO.getName());\n+        registry.setOwner(owner);\n+        registry.setType(registryDTO.getType().toString());\n+        registry.setMode(registryDTO.getType().toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNjA3Mw==", "bodyText": "registryDTO.getType().toString()", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419906073", "createdAt": "2020-05-05T07:12:37Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.rest.api.endpoint.registry.util;\n+\n+import org.wso2.carbon.apimgt.api.model.EndpointRegistry;\n+import org.wso2.carbon.apimgt.rest.api.endpoint.registry.dto.RegistryDTO;\n+\n+/**\n+ * This class is responsible for mapping APIM core Endpoint Registry related objects into REST API\n+ * Endpoint Registry related DTOs\n+ */\n+public class EndpointRegistryMappingUtils {\n+\n+    /**\n+     * Converts a RegistryDTO object into EndpointRegistry object\n+     *\n+     * @param registryDTO RegistryDTO object\n+     * @return EndpointRegistry corresponds to RegistryDTO object\n+     */\n+    public static EndpointRegistry fromDTOtoEndpointRegistry(RegistryDTO registryDTO, String owner) {\n+        EndpointRegistry registry = new EndpointRegistry();\n+        registry.setName(registryDTO.getName());\n+        registry.setOwner(owner);\n+        registry.setType(registryDTO.getType().toString());\n+        registry.setMode(registryDTO.getType().toString());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNTk5NA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMDY2Ng==", "bodyText": "Mistakenly added that. Fixed it.", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419920666", "createdAt": "2020-05-05T07:43:45Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.endpoint.registry/src/main/java/org/wso2/carbon/apimgt/rest/api/endpoint/registry/util/EndpointRegistryMappingUtils.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.rest.api.endpoint.registry.util;\n+\n+import org.wso2.carbon.apimgt.api.model.EndpointRegistry;\n+import org.wso2.carbon.apimgt.rest.api.endpoint.registry.dto.RegistryDTO;\n+\n+/**\n+ * This class is responsible for mapping APIM core Endpoint Registry related objects into REST API\n+ * Endpoint Registry related DTOs\n+ */\n+public class EndpointRegistryMappingUtils {\n+\n+    /**\n+     * Converts a RegistryDTO object into EndpointRegistry object\n+     *\n+     * @param registryDTO RegistryDTO object\n+     * @return EndpointRegistry corresponds to RegistryDTO object\n+     */\n+    public static EndpointRegistry fromDTOtoEndpointRegistry(RegistryDTO registryDTO, String owner) {\n+        EndpointRegistry registry = new EndpointRegistry();\n+        registry.setName(registryDTO.getName());\n+        registry.setOwner(owner);\n+        registry.setType(registryDTO.getType().toString());\n+        registry.setMode(registryDTO.getType().toString());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNTk5NA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzg5MzA1OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzoxNDoyNFrOGQdE2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzo0NjoxMlrOGQd_rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNjc3OA==", "bodyText": "why empty?", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419906778", "createdAt": "2020-05-05T07:14:24Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;\n+        String uuid = UUID.randomUUID().toString();\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+             PreparedStatement ps = connection.prepareStatement(query)) {\n+            ps.setString(1, uuid);\n+            ps.setString(2, endpointRegistry.getName());\n+            ps.setString(3, endpointRegistry.getType());\n+            ps.setString(4, endpointRegistry.getMode());\n+            ps.setInt(5, tenantID);\n+            ps.setString(6, endpointRegistry.getOwner());\n+            ps.setString(7, \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMTgzNg==", "bodyText": "These db columns are for read_roles and write_roles. since, we planned to have registry roles per tenant, added empty values for now.\nAdded a comment so we can update the values later based on the decision.", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419921836", "createdAt": "2020-05-05T07:46:12Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14723,4 +14724,87 @@ public String getUserID(String userName) throws APIManagementException {\n         }\n         return list;\n     }\n+\n+    /**\n+     * Add a new endpoint registry\n+     *\n+     * @param endpointRegistry EndpointRegistry\n+     * @param tenantID  ID of the owner's tenant\n+     * @return registryId\n+     */\n+    public String addEndpointRegistry(EndpointRegistry endpointRegistry, int tenantID) throws APIManagementException {\n+        String query = SQLConstants.ADD_ENDPOINT_REGISTRY_SQL;\n+        String uuid = UUID.randomUUID().toString();\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+             PreparedStatement ps = connection.prepareStatement(query)) {\n+            ps.setString(1, uuid);\n+            ps.setString(2, endpointRegistry.getName());\n+            ps.setString(3, endpointRegistry.getType());\n+            ps.setString(4, endpointRegistry.getMode());\n+            ps.setInt(5, tenantID);\n+            ps.setString(6, endpointRegistry.getOwner());\n+            ps.setString(7, \"\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwNjc3OA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMzkwMjI5OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIProvider.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNzoxNzo0NlrOGQdKmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOToyNjozNVrOGQhU3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwODI1MA==", "bodyText": "I think it's incorrect to user APIProvider interface for this. We should have a separate interface.  EndpointRegistry", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419908250", "createdAt": "2020-05-05T07:17:46Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIProvider.java", "diffHunk": "@@ -1328,4 +1328,22 @@ void addFileToProductDocumentation(APIProductIdentifier prodcutId, Documentation\n      * @return List of removed resources that are reused among API Products\n      */\n     List<APIResource> getRemovedProductResources(Set<URITemplate> updatedUriTemplates, API existingAPI);\n+\n+    /**\n+     * Adds a new Endpoint Registry", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwODQzMg==", "bodyText": "and then implement the methods in EndpointRegistryImpl", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419908432", "createdAt": "2020-05-05T07:18:04Z", "author": {"login": "fazlan-nazeem"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIProvider.java", "diffHunk": "@@ -1328,4 +1328,22 @@ void addFileToProductDocumentation(APIProductIdentifier prodcutId, Documentation\n      * @return List of removed resources that are reused among API Products\n      */\n     List<APIResource> getRemovedProductResources(Set<URITemplate> updatedUriTemplates, API existingAPI);\n+\n+    /**\n+     * Adds a new Endpoint Registry", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwODI1MA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkyMjM4Mg==", "bodyText": "Ack. will do the changes. Used APIProvider as this operations are related to API Provider. Anyway it's better to have separate interface for EndpointRegistry.", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419922382", "createdAt": "2020-05-05T07:47:18Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIProvider.java", "diffHunk": "@@ -1328,4 +1328,22 @@ void addFileToProductDocumentation(APIProductIdentifier prodcutId, Documentation\n      * @return List of removed resources that are reused among API Products\n      */\n     List<APIResource> getRemovedProductResources(Set<URITemplate> updatedUriTemplates, API existingAPI);\n+\n+    /**\n+     * Adds a new Endpoint Registry", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwODI1MA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk3NjQxMw==", "bodyText": "Fixed in 6de38c7", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r419976413", "createdAt": "2020-05-05T09:26:35Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIProvider.java", "diffHunk": "@@ -1328,4 +1328,22 @@ void addFileToProductDocumentation(APIProductIdentifier prodcutId, Documentation\n      * @return List of removed resources that are reused among API Products\n      */\n     List<APIResource> getRemovedProductResources(Set<URITemplate> updatedUriTemplates, API existingAPI);\n+\n+    /**\n+     * Adds a new Endpoint Registry", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTkwODI1MA=="}, "originalCommit": {"oid": "e05c5d48319fe068a471b7469fb1069531222bd2"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDgyMzcxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/EndpointRegistry.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzowMzowMVrOGadNTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNDoxMTowOVrOGa4ySQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM5NDcwMg==", "bodyText": "Can we define a different Exception class like EndpointRegistryException?", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r430394702", "createdAt": "2020-05-26T13:03:01Z", "author": {"login": "jaadds"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/EndpointRegistry.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.api;\n+\n+import org.wso2.carbon.apimgt.api.model.EndpointRegistryInfo;\n+\n+/**\n+ * EndpointRegistry Interface\n+ */\n+public interface EndpointRegistry {\n+\n+    /**\n+     * Adds a new Endpoint Registry\n+     *\n+     * @param endpointRegistry EndpointRegistryInfo\n+     * @return registryId UUID of the created Endpoint Registry ID\n+     * @throws APIManagementException if failed to add EndpointRegistryInfo\n+     */\n+    String addEndpointRegistry(EndpointRegistryInfo endpointRegistry) throws APIManagementException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e38cceed0e90ed4fdfccd4b3b923ac821c094727"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg0NjUzNw==", "bodyText": "Added new Exception in #8577", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r430846537", "createdAt": "2020-05-27T04:11:09Z", "author": {"login": "vithu30"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/EndpointRegistry.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.api;\n+\n+import org.wso2.carbon.apimgt.api.model.EndpointRegistryInfo;\n+\n+/**\n+ * EndpointRegistry Interface\n+ */\n+public interface EndpointRegistry {\n+\n+    /**\n+     * Adds a new Endpoint Registry\n+     *\n+     * @param endpointRegistry EndpointRegistryInfo\n+     * @return registryId UUID of the created Endpoint Registry ID\n+     * @throws APIManagementException if failed to add EndpointRegistryInfo\n+     */\n+    String addEndpointRegistry(EndpointRegistryInfo endpointRegistry) throws APIManagementException;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM5NDcwMg=="}, "originalCommit": {"oid": "e38cceed0e90ed4fdfccd4b3b923ac821c094727"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDgzNDIxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/model/EndpointRegistryInfo.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzowNTo1MFrOGadUKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzowNTo1MFrOGadUKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM5NjQ1Ng==", "bodyText": "How about having these as Enums?", "url": "https://github.com/wso2/carbon-apimgt/pull/8464#discussion_r430396456", "createdAt": "2020-05-26T13:05:50Z", "author": {"login": "jaadds"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/model/EndpointRegistryInfo.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.apimgt.api.model;\n+\n+/**\n+ * Endpoint Registry Info Object.\n+ */\n+public class EndpointRegistryInfo {\n+\n+    private String uuid = null;\n+\n+    private String name = null;\n+\n+    private String type = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e38cceed0e90ed4fdfccd4b3b923ac821c094727"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3486, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}