{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxODI0Mzk0", "number": 8380, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNjo1MlrODqO0dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNzowM1rODqO0iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NjA5NTg4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApplicationsApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNjo1MlrOF52lsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNjo1MlrOF52lsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIwNzUzNg==", "bodyText": "formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8380#discussion_r396207536", "createdAt": "2020-03-23T04:26:52Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApplicationsApiServiceImpl.java", "diffHunk": "@@ -65,8 +69,18 @@ public Response applicationsGet(String user, Integer limit, Integer offset, Stri\n                     return Response.status(Response.Status.FORBIDDEN).entity(errorMsg).build();\n                 }\n                 APIConsumer apiConsumer = APIManagerFactory.getInstance().getAPIConsumer(user);\n-                allMatchedApps = apiConsumer.getApplicationsByOwner(user);\n \n+                // If no user is passed, get the applications for the tenant (not only for the user)\n+                if (givenUser == null || StringUtils.isEmpty(givenUser)) {\n+                    APIAdmin apiAdmin = new APIAdminImpl();\n+                    int tenantId = APIUtil.getTenantId(user);\n+                    allMatchedApps = apiAdmin.getApplicationsByTenantIdWithPagination(tenantId, 0, limit,\n+                            \"\", \"\", ApplicationMappingUtil.getApplicationSortByField(\"name\"),\n+                            RestApiConstants.DEFAULT_SORT_ORDER).toArray(new Application[0]);\n+                }\n+                else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6efefdb882bb346df61f734c16ae8de8b4a1a006"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NjA5NjA5OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApplicationsApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNzowM1rOF52l0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNDoyNzowM1rOF52l0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIwNzU3MA==", "bodyText": "Please use a const for \"name\"", "url": "https://github.com/wso2/carbon-apimgt/pull/8380#discussion_r396207570", "createdAt": "2020-03-23T04:27:03Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApplicationsApiServiceImpl.java", "diffHunk": "@@ -65,8 +69,18 @@ public Response applicationsGet(String user, Integer limit, Integer offset, Stri\n                     return Response.status(Response.Status.FORBIDDEN).entity(errorMsg).build();\n                 }\n                 APIConsumer apiConsumer = APIManagerFactory.getInstance().getAPIConsumer(user);\n-                allMatchedApps = apiConsumer.getApplicationsByOwner(user);\n \n+                // If no user is passed, get the applications for the tenant (not only for the user)\n+                if (givenUser == null || StringUtils.isEmpty(givenUser)) {\n+                    APIAdmin apiAdmin = new APIAdminImpl();\n+                    int tenantId = APIUtil.getTenantId(user);\n+                    allMatchedApps = apiAdmin.getApplicationsByTenantIdWithPagination(tenantId, 0, limit,\n+                            \"\", \"\", ApplicationMappingUtil.getApplicationSortByField(\"name\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6efefdb882bb346df61f734c16ae8de8b4a1a006"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2712, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}