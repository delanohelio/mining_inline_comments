{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NDE4NDA5", "number": 8233, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwNTozNzowNFrODiNzRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMzoxMlrODi8erg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MjA0Mjk1OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwNTozNzowNFrOFtWD0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwNjowNTozN1rOFtWVVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA5MTY2NQ==", "bodyText": "Shall we take this value from apiSecurityConstants", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383091665", "createdAt": "2020-02-24T05:37:04Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx", "diffHunk": "@@ -194,7 +194,7 @@ class LifeCycleUpdate extends Component {\n                     displayName,\n                     disabled:\n                         api.endpointConfig == null\n-                        || api.policies.length === 0\n+                        || (api.policies.length === 0 && !api.securityScheme.includes('mutualssl_mandatory'))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29b234ef0c38b4ca58994a1795b8825a8da8c7d2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA5NjE0OA==", "bodyText": "Publish button should be disabled if the certificate is not provided as well if mutual SSL is enabled. We need to check for this condition.", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383096148", "createdAt": "2020-02-24T06:05:37Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx", "diffHunk": "@@ -194,7 +194,7 @@ class LifeCycleUpdate extends Component {\n                     displayName,\n                     disabled:\n                         api.endpointConfig == null\n-                        || api.policies.length === 0\n+                        || (api.policies.length === 0 && !api.securityScheme.includes('mutualssl_mandatory'))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA5MTY2NQ=="}, "originalCommit": {"oid": "29b234ef0c38b4ca58994a1795b8825a8da8c7d2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NjQzMTAxOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MjozM1rOFt_dVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MjozM1rOFt_dVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc2OTk0MA==", "bodyText": "Let's remove this extra line", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383769940", "createdAt": "2020-02-25T09:52:33Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "diffHunk": "@@ -30,6 +30,7 @@ import ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\n import LifeCycleUpdate from './LifeCycleUpdate';\n import LifeCycleHistory from './LifeCycleHistory';\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84f39c9f319e0c32654f2df83ab68b0a0980a2d9"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NjQzMTg1OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1Mjo0OVrOFt_d2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1Mjo0OVrOFt_d2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc3MDA3NA==", "bodyText": "Lets remove this extra line", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383770074", "createdAt": "2020-02-25T09:52:49Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "diffHunk": "@@ -84,6 +86,7 @@ class LifeCycle extends Component {\n         this.setState({ checkList });\n     };\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84f39c9f319e0c32654f2df83ab68b0a0980a2d9"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NjQzMzkxOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MzoyMFrOFt_fJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MzoyMFrOFt_fJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc3MDQwNA==", "bodyText": "Let's remove this extra line", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383770404", "createdAt": "2020-02-25T09:53:20Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "diffHunk": "@@ -98,11 +101,14 @@ class LifeCycle extends Component {\n \n         const promisedLcHistory = this.api.getLcHistory(id);\n         // const promised_labels = this.api.labels();\n-        Promise.all([promisedAPI, promisedLcState, promisedLcHistory])\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84f39c9f319e0c32654f2df83ab68b0a0980a2d9"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NjQzNDY3OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MzozMlrOFt_fmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOTo1MzozMlrOFt_fmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc3MDUyMQ==", "bodyText": "Shall we remove this commented line if its not needed?", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r383770521", "createdAt": "2020-02-25T09:53:32Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx", "diffHunk": "@@ -98,11 +101,14 @@ class LifeCycle extends Component {\n \n         const promisedLcHistory = this.api.getLcHistory(id);\n         // const promised_labels = this.api.labels();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84f39c9f319e0c32654f2df83ab68b0a0980a2d9"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTY4ODU3OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/CheckboxLabels.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMTozM1rOFuedKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMTozM1rOFuedKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3NzgwMg==", "bodyText": "Shall we remove this extra line?", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r384277802", "createdAt": "2020-02-26T05:11:33Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/CheckboxLabels.jsx", "diffHunk": "@@ -120,22 +121,46 @@ export default function CheckboxLabels(props) {\n                                 <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                             </Link>\n                         </Grid>\n-                        <Grid xs={12} className={classes.grid}>\n-                            {isTierAvailable ? (\n-                                <CheckIcon className={classes.iconTrue} />\n-                            ) : (\n-                                <CloseIcon className={classes.iconFalse} />\n+\n+                        <>\n+                            {isAppLayerSecurityMandatory && (\n+                                <Grid xs={12} className={classes.grid}>\n+                                    {isBusinessPlanAvailable ? (\n+                                        <CheckIcon className={classes.iconTrue} />\n+                                    ) : (\n+                                        <CloseIcon className={classes.iconFalse} />\n+                                    )}\n+                                    <Typography>\n+                                        <FormattedMessage\n+                                            id='Apis.Details.LifeCycle.CheckboxLabels.business.plans.selected'\n+                                            defaultMessage='Business Plan(s) selected'\n+                                        />\n+                                    </Typography>\n+                                    <Link to={'/apis/' + api.id + '/subscriptions'}>\n+                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n+                                    </Link>\n+                                </Grid>\n                             )}\n-                            <Typography>\n-                                <FormattedMessage\n-                                    id='Apis.Details.LifeCycle.CheckboxLabels.business.plans.selected'\n-                                    defaultMessage='Business Plan(s) selected'\n-                                />\n-                            </Typography>\n-                            <Link to={'/apis/' + api.id + '/subscriptions'}>\n-                                <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n-                            </Link>\n-                        </Grid>\n+                            {isMutualSSLEnabled && (\n+                                <Grid xs={12} className={classes.grid}>\n+                                    {isCertAvailable ? (\n+                                        <CheckIcon className={classes.iconTrue} />\n+                                    ) : (\n+                                        <CloseIcon className={classes.iconFalse} />\n+                                    )}\n+                                    <Typography>\n+                                        <FormattedMessage\n+                                            id='Apis.Details.LifeCycle.CheckboxLabels.cert.provided'\n+                                            defaultMessage='Certificate provided'\n+                                        />\n+                                    </Typography>\n+                                    <Link to={'/apis/' + api.id + '/runtime-configuration'}>\n+                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n+                                    </Link>\n+                                </Grid>\n+                            ) }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a460f3391f1225645a1326798ab884c39ecd19dc"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTY4OTU3OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/CheckboxLabels.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMjowOVrOFuedtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMjowOVrOFuedtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3Nzk0MA==", "bodyText": "Shall we remove this extra line?", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r384277940", "createdAt": "2020-02-26T05:12:09Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/CheckboxLabels.jsx", "diffHunk": "@@ -120,22 +121,46 @@ export default function CheckboxLabels(props) {\n                                 <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                             </Link>\n                         </Grid>\n-                        <Grid xs={12} className={classes.grid}>\n-                            {isTierAvailable ? (\n-                                <CheckIcon className={classes.iconTrue} />\n-                            ) : (\n-                                <CloseIcon className={classes.iconFalse} />\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a460f3391f1225645a1326798ab884c39ecd19dc"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTY5MDcwOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMzoxMlrOFueecw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToxMzoxMlrOFueecw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3ODEzMQ==", "bodyText": "Remove extra line", "url": "https://github.com/wso2/carbon-apimgt/pull/8233#discussion_r384278131", "createdAt": "2020-02-26T05:13:12Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx", "diffHunk": "@@ -152,13 +154,14 @@ class LifeCycleUpdate extends Component {\n         this.updateLCStateOfAPI(apiUUID, action);\n     }\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a460f3391f1225645a1326798ab884c39ecd19dc"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2892, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}