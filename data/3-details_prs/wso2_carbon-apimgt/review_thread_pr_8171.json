{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjQyMTU0", "number": 8171, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0MjowMlrODfBacQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMTo0OToyN1rODfJf-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU1NjAxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0MjowMlrOFofOiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0MjowMlrOFofOiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzk5ODk4NQ==", "bodyText": "provide the version in the root pom and don't use the version here. Check how this is done for other dependencies.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r377998985", "createdAt": "2020-02-12T01:42:02Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/pom.xml", "diffHunk": "@@ -284,6 +284,12 @@\n             <groupId>org.wso2.orbit.io.swagger</groupId>\n             <artifactId>swagger-parser</artifactId>\n         </dependency>\n+        <!-- https://mvnrepository.com/artifact/io.swagger/swagger-inflector -->\n+        <dependency>\n+            <groupId>io.swagger</groupId>\n+            <artifactId>swagger-inflector</artifactId>\n+            <version>2.0.5</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU1Nzc5OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS2Parser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0MzoxMVrOFofPjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0MzoxMVrOFofPjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzk5OTI0NQ==", "bodyText": "Don't use * imports. Use each import individually. You can get help from the IDE to expand this.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r377999245", "createdAt": "2020-02-12T01:43:11Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS2Parser.java", "diffHunk": "@@ -19,23 +19,17 @@\n \n package org.wso2.carbon.apimgt.impl.definitions;\n \n+\n import com.fasterxml.jackson.annotation.JsonInclude;\n import com.fasterxml.jackson.core.JsonProcessingException;\n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.databind.SerializationFeature;\n-import io.swagger.models.Contact;\n-import io.swagger.models.HttpMethod;\n-import io.swagger.models.Info;\n-import io.swagger.models.Operation;\n-import io.swagger.models.Path;\n-import io.swagger.models.RefModel;\n-import io.swagger.models.RefPath;\n-import io.swagger.models.RefResponse;\n-import io.swagger.models.Response;\n-import io.swagger.models.Scheme;\n-import io.swagger.models.SecurityRequirement;\n-import io.swagger.models.Swagger;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+import io.swagger.inflector.examples.ExampleBuilder;\n+import io.swagger.inflector.examples.models.Example;\n+import io.swagger.inflector.processors.JsonNodeExampleSerializer;\n+import io.swagger.models.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU1OTc3OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NDoxN1rOFofQmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NDoxN1rOFofQmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzk5OTUxNA==", "bodyText": "Remove if this is not required.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r377999514", "createdAt": "2020-02-12T01:44:17Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/pom.xml", "diffHunk": "@@ -116,6 +116,12 @@\n             <groupId>org.wso2.carbon.apimgt</groupId>\n             <artifactId>org.wso2.carbon.apimgt.impl</artifactId>\n             <scope>provided</scope>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>org.wso2.orbit.io.swagger</groupId>\n+                    <artifactId>swagger-inflector</artifactId>\n+                </exclusion>\n+            </exclusions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU2MDIwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NDo0MVrOFofQ5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NDo0MVrOFofQ5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzk5OTU5MA==", "bodyText": "Remove unnecessary dependencies.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r377999590", "createdAt": "2020-02-12T01:44:41Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/pom.xml", "diffHunk": "@@ -127,6 +133,11 @@\n                 </exclusion>\n             </exclusions>\n         </dependency>\n+        <dependency>\n+            <groupId>io.swagger</groupId>\n+            <artifactId>swagger-inflector</artifactId>\n+            <version>2.0.0-rc3</version>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU2MTc4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/publisher/v1/impl/ApisApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NTo0MlrOFofR4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NTo0MlrOFofR4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzk5OTg0MQ==", "bodyText": "Add parameter descriptions. Have a look at the other methods.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r377999841", "createdAt": "2020-02-12T01:45:42Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/publisher/v1/impl/ApisApiServiceImpl.java", "diffHunk": "@@ -3893,6 +3912,29 @@ public Response apisValidateGraphqlSchemaPost(InputStream fileInputStream, Attac\n         return Response.ok().entity(validationResponse).build();\n     }\n \n+    /**\n+     * Generates Mock response examples for Inline prototyping\n+     * of a swagger\n+     *\n+     * @param apiId\n+     * @param ifNoneMatch\n+     * @param messageContext\n+     * @return\n+     * @throws APIManagementException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 381}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU2NDE1OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0Njo1OFrOFofTPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0Njo1OFrOFofTPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwMDE4OA==", "bodyText": "Correct the description.", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r378000188", "createdAt": "2020-02-12T01:46:58Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "diffHunk": "@@ -607,6 +609,67 @@ paths:\n           schema:\n             $ref: '#/definitions/Error'\n \n+  ################################################################\n+  # The swagger resource of \"Individual API\" resource APIs\n+  ################################################################\n+\n+  /apis/{apiId}/generate-mock-responses:\n+    #-----------------------------------------------------\n+    # Generate Mock responses from Swagger/OAS Definition\n+    #-----------------------------------------------------\n+    post:\n+      operationId: generateMockResponses\n+      summary: Get swagger definition\n+      description: |\n+        This operation can be used to retrieve the swagger definition of an API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 196}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU2NDgwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NzoyNlrOFofTqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0NzoyNlrOFofTqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwMDI5Ng==", "bodyText": "Scope is wrong. Use apim:api_create", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r378000296", "createdAt": "2020-02-12T01:47:26Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "diffHunk": "@@ -607,6 +609,67 @@ paths:\n           schema:\n             $ref: '#/definitions/Error'\n \n+  ################################################################\n+  # The swagger resource of \"Individual API\" resource APIs\n+  ################################################################\n+\n+  /apis/{apiId}/generate-mock-responses:\n+    #-----------------------------------------------------\n+    # Generate Mock responses from Swagger/OAS Definition\n+    #-----------------------------------------------------\n+    post:\n+      operationId: generateMockResponses\n+      summary: Get swagger definition\n+      description: |\n+        This operation can be used to retrieve the swagger definition of an API.\n+      security:\n+        - OAuth2Security:\n+            - apim:api_view", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 199}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzODU2NzcyOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/APIDefinition.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0ODo1NVrOFofVUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwMTo0ODo1NVrOFofVUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODAwMDcyMA==", "bodyText": "Format the code. Having this will fail the build also.\nMake sure to do a full build \"mvn clean install\" before sending the final PR.\nWhy do we need to pass a null?", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r378000720", "createdAt": "2020-02-12T01:48:55Z", "author": {"login": "malinthaprasan"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/APIDefinition.jsx", "diffHunk": "@@ -307,6 +307,10 @@ class APIDefinition extends React.Component {\n         const promise = api.updateSwagger(parsedContent);\n         promise\n             .then((response) => {\n+                const {endpointImplementationType } = api;\n+                if(endpointImplementationType === \"INLINE\"){\n+                    api.generateMockResponses(api.id,null);\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51985f50e39e0db1fee26ad5b3a9088813b19f74"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzOTg4MDg4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIDefinition.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMTo0OToyOFrOForsgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMTo0OToyOFrOForsgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODIwMzI2NQ==", "bodyText": "extra spaces", "url": "https://github.com/wso2/carbon-apimgt/pull/8171#discussion_r378203265", "createdAt": "2020-02-12T11:49:28Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIDefinition.java", "diffHunk": "@@ -42,6 +42,15 @@\n     private static final Pattern CURLY_BRACES_PATTERN = Pattern.compile(\"(?<=\\\\{)(?!\\\\s*\\\\{)[^{}]+\");\n     public static final String KEEP_LEGACY_EXTENSION_PROP = \"preserveLegacyExtensions\";\n \n+    /**\n+     * This method generates Mock/Sample payloads for API prototyping\n+     *\n+     * @param apiDefinition\n+     * @return\n+     */\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6602569c91f4a732918fb13c0fdb97a920526d93"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2867, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}