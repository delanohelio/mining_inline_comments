{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNDM2NjU3", "number": 8077, "title": "Add API Categories Feature", "bodyText": "This PR adds API Categories feature.\nAPI categories can be used to group APIs. In earlier versions this was possible by using tagwise groups. With the new addition of API categories feature tagwise grouping feature is now deprecated and the users are advised to use API categories instead.\nFind the feature doc at https://docs.google.com/document/d/1UvLZ5v29q7wjf4qNIa3UrCSIeFeqiNrTmYxSnwNa62o/edit?usp=sharing\nGit Issue : wso2/product-apim#7247", "createdAt": "2020-01-14T04:22:50Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8077", "merged": true, "mergeCommit": {"oid": "17e18dbea871445b0d4ba7ba97f92b72ce6ec66a"}, "closed": true, "closedAt": "2020-01-14T10:57:38Z", "author": {"login": "msm1992"}, "timelineItems": {"totalCount": 45, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb591bpgH2gAyMzYyNDM2NjU3OmRiYTYyMWE1ODI4NmVlNmJhYzU1ODZiNjFhZTczMmMwMWVkODY2Yzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6Oyl2AH2gAyMzYyNDM2NjU3OmRiNmQ4YTkwZmUxOTg4MDZiYTU2ZTA2N2M4NDViZTkyMWUzNDJhM2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dba621a58286ee6bac5586b61ae732c01ed866c8", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dba621a58286ee6bac5586b61ae732c01ed866c8", "committedDate": "2020-01-13T15:11:11Z", "message": "Add api-categories/ GET POST resources to admin-api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79efa37a688b09f0015afe0ecb298a7746366f3f", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/79efa37a688b09f0015afe0ecb298a7746366f3f", "committedDate": "2020-01-13T15:11:11Z", "message": "Add GET /api-categories resource to publisher and store REST APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "098ad2bca3a0b69a79e394ea68e999f0a700b910", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/098ad2bca3a0b69a79e394ea68e999f0a700b910", "committedDate": "2020-01-13T15:11:11Z", "message": "Support api search by api-category"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7d8d893964b66fb17c09705c114c9b4ce027f62", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a7d8d893964b66fb17c09705c114c9b4ce027f62", "committedDate": "2020-01-13T15:11:11Z", "message": "Add api-categories PUT resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f49f7e75f0f243862c5d9325eab642fa9b14dede", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f49f7e75f0f243862c5d9325eab642fa9b14dede", "committedDate": "2020-01-13T15:11:11Z", "message": "Store Category UUID in api rxt for category to API mapping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f6ad8182a69a17052e7301a3b6a3b551f3649d0", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6f6ad8182a69a17052e7301a3b6a3b551f3649d0", "committedDate": "2020-01-13T15:11:11Z", "message": "Allow to modify category name in category update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4d9ed9bb5d64258bb9106110fd00837cf18d618", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d4d9ed9bb5d64258bb9106110fd00837cf18d618", "committedDate": "2020-01-13T15:11:11Z", "message": "Add api-categories delete resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39e2945b40b253eba523387cc74dc463a7cd8ef1", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/39e2945b40b253eba523387cc74dc463a7cd8ef1", "committedDate": "2020-01-13T15:11:11Z", "message": "Add admin jaggery UI for API Categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7384009ac5615291ef21cd72bcb1f51ad22b5014", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7384009ac5615291ef21cd72bcb1f51ad22b5014", "committedDate": "2020-01-13T15:11:11Z", "message": "Move methods in APICategoryUtil to APIAdmin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b99faaa0fe4237a2394e1e213a0425068f3c0850", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b99faaa0fe4237a2394e1e213a0425068f3c0850", "committedDate": "2020-01-13T15:11:11Z", "message": "Add Publisher UI changes to support API Categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e75738b2743a83d52f154cb00299fe63e70fb0", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/32e75738b2743a83d52f154cb00299fe63e70fb0", "committedDate": "2020-01-13T15:11:11Z", "message": "Add API-Categories to APIProducts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25c4daeb71f6d33c7e7f9c2b0213901a5b2874fa", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/25c4daeb71f6d33c7e7f9c2b0213901a5b2874fa", "committedDate": "2020-01-13T15:11:11Z", "message": "Add devportal UI changes to support API Categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "963fd7ed24a6e4f650068d87923c5a25ef9bfb30", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/963fd7ed24a6e4f650068d87923c5a25ef9bfb30", "committedDate": "2020-01-13T15:11:11Z", "message": "Add api category thumbnail rest API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0fbea4fe0f78dfbae321d4b6d16b63147579008", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a0fbea4fe0f78dfbae321d4b6d16b63147579008", "committedDate": "2020-01-13T15:11:11Z", "message": "Fix merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f11338618d3ba2cc77b3c68d32a33f5b802af244", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f11338618d3ba2cc77b3c68d32a33f5b802af244", "committedDate": "2020-01-13T15:11:11Z", "message": "Fix issues in API Category feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4398a1d83c66a7038d436d234ceb3321e2d91d3", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d4398a1d83c66a7038d436d234ceb3321e2d91d3", "committedDate": "2020-01-13T15:11:11Z", "message": "revert devportal changes to support api-categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6a36ca8db6ebc8cdd4ae599ed5085cfd1da2e82", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d6a36ca8db6ebc8cdd4ae599ed5085cfd1da2e82", "committedDate": "2020-01-13T15:11:11Z", "message": "add devportal changes for category feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228d957de95100c36ec585eff38942aec7badf8b", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/228d957de95100c36ec585eff38942aec7badf8b", "committedDate": "2020-01-13T15:11:11Z", "message": "Revert back to using category name in rxt to fix issues with content search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf7cb5d832f502ae7545ea557d1e6de55758a9da", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/cf7cb5d832f502ae7545ea557d1e6de55758a9da", "committedDate": "2020-01-13T15:11:11Z", "message": "Add no of APIs column to category listing page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca9fec06c0d3b46f91ffcea5e5f5d55f96bdd02", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/eca9fec06c0d3b46f91ffcea5e5f5d55f96bdd02", "committedDate": "2020-01-13T15:11:11Z", "message": "Block category deletion when there are attached APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "633923b9262763032f8266e67cb13b304ba33b1f", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/633923b9262763032f8266e67cb13b304ba33b1f", "committedDate": "2020-01-13T15:11:11Z", "message": "Rename API Category side menu to API Categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a9ac35956be23f394e499206ff0657d9237b289", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3a9ac35956be23f394e499206ff0657d9237b289", "committedDate": "2020-01-13T15:11:11Z", "message": "Add API category validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d327850f28009561c864cfd42ffa2e5711d87299", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d327850f28009561c864cfd42ffa2e5711d87299", "committedDate": "2020-01-13T15:11:11Z", "message": "Remove api-category thumbnail api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19d206bfad4476a311621e16f3b395124fa0ee54", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/19d206bfad4476a311621e16f3b395124fa0ee54", "committedDate": "2020-01-13T15:11:11Z", "message": "Add db changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd18d17648eb58ae157cdc201c200dc011e1def5", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/fd18d17648eb58ae157cdc201c200dc011e1def5", "committedDate": "2020-01-13T15:11:11Z", "message": "Fix NPEs while running unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "112a10e0698934b9abd70839432b998009efb292", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/112a10e0698934b9abd70839432b998009efb292", "committedDate": "2020-01-14T04:15:47Z", "message": "Refactor API Categories code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjg4NDEw", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342288410", "createdAt": "2020-01-14T04:40:50Z", "commit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MDo1MFrOFdMCAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MDo1MFrOFdMCAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjE1MDE0Ng==", "bodyText": "extra space", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366150146", "createdAt": "2020-01-14T04:40:50Z", "author": {"login": "ruks"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIAdminImpl.java", "diffHunk": "@@ -280,4 +287,70 @@ public void addBotDataEmailConfiguration(String email) throws APIManagementExcep\n     public void deleteBotDataEmailList(String uuid) throws APIManagementException, SQLException {\n         apiMgtDAO.deleteBotDataEmailList(uuid);\n     }\n+\n+    public APICategory addCategory(APICategory category, String userName) throws APIManagementException {\n+        int tenantID = APIUtil.getTenantId(userName);\n+        if (isCategoryNameExists(category.getName(), null, tenantID)) {\n+            APIUtil.handleException(\"Category with name '\" + category.getName() + \"' already exists\");\n+        }\n+        return apiMgtDAO.addCategory(tenantID, category);\n+    }\n+\n+    public void updateCategory(APICategory apiCategory) throws APIManagementException {\n+        apiMgtDAO.updateCategory(apiCategory);\n+    }\n+\n+    public void deleteCategory(String categoryID, String username) throws APIManagementException {\n+        APICategory category = getAPICategoryByID(categoryID);\n+        int attchedAPICount = isCategoryAttached(category, username);\n+        if ( attchedAPICount > 0) {\n+            APIUtil.handleException(\"Unable to delete the category. It is attached to API(s)\");\n+        }\n+        apiMgtDAO.deleteCategory(categoryID);\n+    }\n+\n+    public List<APICategory> getAllAPICategoriesOfTenant(int tenantId) throws APIManagementException {\n+        return apiMgtDAO.getAllCategories(tenantId);\n+    }\n+\n+    public List<APICategory> getAllAPICategoriesOfTenantForAdminListing(String username) throws APIManagementException{\n+        int tenantID = APIUtil.getTenantId(username);\n+        List<APICategory> categories = getAllAPICategoriesOfTenant(tenantID);\n+        if (categories.size() > 0) {\n+            for (APICategory category : categories) {\n+                int length = isCategoryAttached(category, username);\n+                category.setNumberOfAPIs(length);\n+            }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "originalPosition": 67}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjg4NTc0", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342288574", "createdAt": "2020-01-14T04:41:39Z", "commit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MTozOVrOFdMCgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MTozOVrOFdMCgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjE1MDI3NA==", "bodyText": "no need both logging and throwing exception", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366150274", "createdAt": "2020-01-14T04:41:39Z", "author": {"login": "ruks"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIAdminImpl.java", "diffHunk": "@@ -280,4 +287,70 @@ public void addBotDataEmailConfiguration(String email) throws APIManagementExcep\n     public void deleteBotDataEmailList(String uuid) throws APIManagementException, SQLException {\n         apiMgtDAO.deleteBotDataEmailList(uuid);\n     }\n+\n+    public APICategory addCategory(APICategory category, String userName) throws APIManagementException {\n+        int tenantID = APIUtil.getTenantId(userName);\n+        if (isCategoryNameExists(category.getName(), null, tenantID)) {\n+            APIUtil.handleException(\"Category with name '\" + category.getName() + \"' already exists\");\n+        }\n+        return apiMgtDAO.addCategory(tenantID, category);\n+    }\n+\n+    public void updateCategory(APICategory apiCategory) throws APIManagementException {\n+        apiMgtDAO.updateCategory(apiCategory);\n+    }\n+\n+    public void deleteCategory(String categoryID, String username) throws APIManagementException {\n+        APICategory category = getAPICategoryByID(categoryID);\n+        int attchedAPICount = isCategoryAttached(category, username);\n+        if ( attchedAPICount > 0) {\n+            APIUtil.handleException(\"Unable to delete the category. It is attached to API(s)\");\n+        }\n+        apiMgtDAO.deleteCategory(categoryID);\n+    }\n+\n+    public List<APICategory> getAllAPICategoriesOfTenant(int tenantId) throws APIManagementException {\n+        return apiMgtDAO.getAllCategories(tenantId);\n+    }\n+\n+    public List<APICategory> getAllAPICategoriesOfTenantForAdminListing(String username) throws APIManagementException{\n+        int tenantID = APIUtil.getTenantId(username);\n+        List<APICategory> categories = getAllAPICategoriesOfTenant(tenantID);\n+        if (categories.size() > 0) {\n+            for (APICategory category : categories) {\n+                int length = isCategoryAttached(category, username);\n+                category.setNumberOfAPIs(length);\n+            }\n+\n+        }\n+        return categories;\n+    }\n+\n+    public boolean isCategoryNameExists(String categoryName, String uuid, int tenantID) throws APIManagementException {\n+        return ApiMgtDAO.getInstance().isAPICategoryNameExists(categoryName, uuid, tenantID);\n+    }\n+\n+    public APICategory getAPICategoryByID(String apiCategoryId) throws APIManagementException {\n+        APICategory apiCategory = ApiMgtDAO.getInstance().getAPICategoryByID(apiCategoryId);\n+        if (apiCategory != null) {\n+            return apiCategory;\n+        }else {\n+            String msg = \"Failed to get APICategory. API category corresponding to UUID \" + apiCategoryId\n+                    + \" does not exist\";\n+            log.error(msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "originalPosition": 83}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjg4ODI5", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342288829", "createdAt": "2020-01-14T04:42:59Z", "commit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MzowMFrOFdMDWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwNDo0MzowMFrOFdMDWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjE1MDQ5MA==", "bodyText": "extra spaces in this method", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366150490", "createdAt": "2020-01-14T04:43:00Z", "author": {"login": "ruks"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "diffHunk": "@@ -14321,4 +14322,167 @@ public void removeExpiredJWTs() throws APIManagementException {\n             handleException(\"Error while deleting expired JWTs from revoke table.\", e);\n         }\n     }\n+\n+    /**\n+     * Adds an API category\n+     *\n+     * @param tenantID     Logged in user's tenant ID\n+     * @param category     Category\n+     * @return Category\n+     */\n+    public APICategory addCategory(int tenantID, APICategory category) throws APIManagementException {\n+        String uuid = UUID.randomUUID().toString();\n+        category.setId(uuid);\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+            PreparedStatement statement = connection.prepareStatement(SQLConstants.ADD_CATEGORY_SQL)) {\n+            statement.setString(1, uuid);\n+            statement.setString(2, category.getName());\n+            statement.setString(3, category.getDescription());\n+            statement.setInt(4, tenantID);\n+            statement.executeUpdate();\n+        } catch (SQLException e) {\n+            handleException(\"Failed to add Category: \" + uuid, e);\n+        }\n+        return category;\n+    }\n+\n+    /**\n+     * Update API Category\n+     *\n+     * @param apiCategory API category object with updated details\n+     * @throws APIManagementException\n+     */\n+    public void updateCategory(APICategory apiCategory) throws APIManagementException {\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+                PreparedStatement statement = connection.prepareStatement(SQLConstants.UPDATE_API_CATEGORY)) {\n+            statement.setString(1, apiCategory.getDescription());\n+            statement.setString(2, apiCategory.getName());\n+            statement.setString(3, apiCategory.getId());\n+            statement.execute();\n+        } catch (SQLException e) {\n+            handleException(\"Failed to update API Category : \" + apiCategory.getName() + \" of tenant \" +\n+                    APIUtil.getTenantDomainFromTenantId(apiCategory.getTenantID()), e);\n+        }\n+    }\n+\n+    /**\n+     * Get all available API categories of the tenant\n+     *\n+     * @param tenantID\n+     * @return API Categories List\n+     */\n+    public List<APICategory> getAllCategories(int tenantID) throws APIManagementException {\n+        List<APICategory> categoriesList = new ArrayList<>();\n+        try (Connection connection = APIMgtDBUtil.getConnection();\n+            PreparedStatement statement = connection.prepareStatement(SQLConstants.GET_CATEGORIES_BY_TENANT_ID_SQL)) {\n+            statement.setInt(1, tenantID);\n+\n+            ResultSet rs = statement.executeQuery();\n+            while(rs.next()) {\n+                String id = rs.getString(\"UUID\");\n+                String name = rs.getString(\"NAME\");\n+                String description = rs.getString(\"DESCRIPTION\");\n+\n+                APICategory category = new APICategory();\n+                category.setId(id);\n+                category.setName(name);\n+                category.setDescription(description);\n+                category.setTenantID(tenantID);\n+\n+                categoriesList.add(category);\n+            }\n+        } catch (SQLException e) {\n+            handleException(\"Failed to retrieve API categories for tenant \" + tenantID, e);\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "112a10e0698934b9abd70839432b998009efb292"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540", "committedDate": "2020-01-14T06:15:29Z", "message": "Add review fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMzYyMzc4", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342362378", "createdAt": "2020-01-14T08:40:50Z", "commit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MDo1MFrOFdPnLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MDo1MFrOFdPnLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwODgxMg==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366208812", "createdAt": "2020-01-14T08:40:50Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/site/blocks/api-category/api-category-add/ajax/api-category-edit.jag", "diffHunk": "@@ -0,0 +1,74 @@\n+<%\n+include(\"/jagg/jagg.jag\");\n+\n+(function () {\n+    response.contentType = \"application/json; charset=UTF-8\";\n+    var mod, result, obj, permissionResult,\n+    action = request.getParameter(\"action\"),\n+    uuid = request.getParameter(\"uuid\"),\n+    site = require(\"/site/conf/site.json\"),\n+    msg = require(\"/site/conf/ui-messages.jag\");\n+\n+    if(uuid == null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMzYyNDg2", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342362486", "createdAt": "2020-01-14T08:41:02Z", "commit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MTowMlrOFdPndw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MTowMlrOFdPndw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwODg4Nw==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366208887", "createdAt": "2020-01-14T08:41:02Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/site/blocks/api-category/api-category-add/ajax/api-category-edit.jag", "diffHunk": "@@ -0,0 +1,74 @@\n+<%\n+include(\"/jagg/jagg.jag\");\n+\n+(function () {\n+    response.contentType = \"application/json; charset=UTF-8\";\n+    var mod, result, obj, permissionResult,\n+    action = request.getParameter(\"action\"),\n+    uuid = request.getParameter(\"uuid\"),\n+    site = require(\"/site/conf/site.json\"),\n+    msg = require(\"/site/conf/ui-messages.jag\");\n+\n+    if(uuid == null){\n+        uuid = -1;\n+    }\n+    if(jagg.getUser() == null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMzYyNTg0", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342362584", "createdAt": "2020-01-14T08:41:13Z", "commit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MToxM1rOFdPnyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MToxM1rOFdPnyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwODk2OQ==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366208969", "createdAt": "2020-01-14T08:41:13Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/site/blocks/api-category/api-category-list/ajax/api-category-list.jag", "diffHunk": "@@ -0,0 +1,36 @@\n+<%\n+include(\"/jagg/jagg.jag\");\n+\n+(function () {\n+    response.contentType = \"application/json; charset=UTF-8\";\n+    var mod, result, obj,\n+    action = request.getParameter(\"action\"),\n+    site = require(\"/site/conf/site.json\"),\n+    msg = require(\"/site/conf/ui-messages.jag\");\n+    if(jagg.getUser() == null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMzYyODg1", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342362885", "createdAt": "2020-01-14T08:41:46Z", "commit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MTo0NlrOFdPonQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODo0MTo0NlrOFdPonQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwOTE4MQ==", "bodyText": "Formatting issue. There are other places as well. Please fix them all.", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366209181", "createdAt": "2020-01-14T08:41:46Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/site/themes/wso2/templates/api-category/api-category-add/template.jag", "diffHunk": "@@ -0,0 +1,97 @@\n+<% jagg.template(\"api-category/api-category-add\", function(inputs, outputs, jagg) { %>\n+\n+    <%\n+    var uuid = request.getParameter(\"uuid\");\n+    var action = request.getParameter(\"action\");\n+    var pageTitle = i18n.localize(\"Add API Category\");\n+    var nameFieldDisableStatus = \"\";\n+\n+    if(action == null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e646d5a8cbf82d6fb2ba2cd090e252a4dfaca540"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6c0ee00e2fc4d641567d19b696b59a2a92f077b", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c6c0ee00e2fc4d641567d19b696b59a2a92f077b", "committedDate": "2020-01-14T09:26:18Z", "message": "Fix formatting issues in jag files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad", "committedDate": "2020-01-14T09:42:39Z", "message": "Fix formatting issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDAzNTE2", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342403516", "createdAt": "2020-01-14T09:48:59Z", "commit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OTowMFrOFdRhLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OTowMFrOFdRhLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjI0MDA0Ng==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366240046", "createdAt": "2020-01-14T09:49:00Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/modules/api-category/api-category-add.jag", "diffHunk": "@@ -0,0 +1,69 @@\n+<%\n+var log = new Log();\n+var addAPICategory = function (action, uuid, categoryName, description) {\n+    try {\n+        var username = jagg.getUser().username;\n+        var APIAdminImpl = Packages.org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+        var apiAdmin = new APIAdminImpl();\n+\n+        var APICategory = Packages.org.wso2.carbon.apimgt.api.model.APICategory;\n+        var category = new APICategory();\n+\n+        category.setId(uuid);\n+        category.setName(categoryName);\n+        category.setDescription(description);\n+\n+        if (action == \"categoryAction\") {\n+            var category = constructCategoryObject(uuid, categoryName, description);\n+            apiAdmin.addCategory(category, username);\n+        } else if (action == \"update\") {\n+            var category = constructCategoryObject(uuid, categoryName, description);\n+            apiAdmin.updateCategory(category);\n+        }\n+        return {\n+            error: false\n+        };\n+    } catch (ex) {\n+        var errorMessage = \"Error occurred while saving API Category (Cause:\" + ex.message + \")\";\n+        log.error(errorMessage);\n+        return {\n+            error: true,\n+            message: errorMessage\n+        };\n+    }\n+};\n+\n+var isCategoryNameExists = function(categoryName, uuid, tenantId) {\n+    try {\n+        var exists;\n+        var APIAdminImpl = Packages.org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+        var apiAdmin = new APIAdminImpl();\n+\n+        exists = apiAdmin.isCategoryNameExists(categoryName, uuid, tenantId);\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"isAPICategoryNameExists exist for : \" + categoryName + \" : \" + exists);\n+        }\n+        return {\n+            error:false,\n+            exist:exists\n+        };\n+    } catch (e) {\n+        log.error(e.message);\n+        return {\n+            error:e\n+        };\n+    }\n+}\n+\n+var constructCategoryObject  = function(categoryId, categoryName, description){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDAzNTk0", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342403594", "createdAt": "2020-01-14T09:49:07Z", "commit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OTowOFrOFdRhYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OTowOFrOFdRhYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjI0MDA5OQ==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366240099", "createdAt": "2020-01-14T09:49:08Z", "author": {"login": "mushthaq33"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApiCategoriesApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,128 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ */\n+\n+package org.wso2.carbon.apimgt.rest.api.admin.impl;\n+\n+import org.apache.commons.logging.Log;\n+import org.apache.commons.logging.LogFactory;\n+import org.wso2.carbon.apimgt.api.APIAdmin;\n+import org.wso2.carbon.apimgt.api.APIManagementException;\n+import org.wso2.carbon.apimgt.api.model.APICategory;\n+import org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+import org.wso2.carbon.apimgt.impl.utils.APIUtil;\n+import org.wso2.carbon.apimgt.rest.api.admin.ApiCategoriesApiService;\n+import org.wso2.carbon.apimgt.rest.api.admin.dto.APICategoryDTO;\n+import org.wso2.carbon.apimgt.rest.api.admin.dto.APICategoryListDTO;\n+import org.wso2.carbon.apimgt.rest.api.admin.utils.mappings.APICategoryMappingUtil;\n+import org.wso2.carbon.apimgt.rest.api.util.RestApiConstants;\n+import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n+import org.wso2.carbon.utils.multitenancy.MultitenantUtils;\n+\n+import java.net.URI;\n+import java.net.URISyntaxException;\n+import java.util.List;\n+import javax.ws.rs.core.Response;\n+\n+public class ApiCategoriesApiServiceImpl extends ApiCategoriesApiService {\n+    private static final Log log = LogFactory.getLog(ApiCategoriesApiServiceImpl.class);\n+\n+    public Response apiCategoriesGet(){\n+        try {\n+            APIAdmin apiAdmin = new APIAdminImpl();\n+            String tenantDomain = RestApiUtil.getLoggedInUserTenantDomain();\n+            int tenantID = APIUtil.getTenantIdFromTenantDomain(tenantDomain);\n+            List<APICategory> categoryList = apiAdmin.getAllAPICategoriesOfTenant(tenantID);\n+            APICategoryListDTO categoryListDTO =\n+                    APICategoryMappingUtil.fromCategoryListToCategoryListDTO(categoryList);\n+            return Response.ok().entity(categoryListDTO).build();\n+        } catch (APIManagementException e) {\n+            String errorMessage = \"Error while retrieving API categories\";\n+            RestApiUtil.handleInternalServerError(errorMessage, e, log);\n+        }\n+        return null;\n+    }\n+\n+    public Response apiCategoriesPost(APICategoryDTO body){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDAzNjcz", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342403673", "createdAt": "2020-01-14T09:49:15Z", "commit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OToxNVrOFdRhog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo0OToxNVrOFdRhog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjI0MDE2Mg==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366240162", "createdAt": "2020-01-14T09:49:15Z", "author": {"login": "mushthaq33"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/java/org/wso2/carbon/apimgt/rest/api/admin/impl/ApiCategoriesApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,128 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ */\n+\n+package org.wso2.carbon.apimgt.rest.api.admin.impl;\n+\n+import org.apache.commons.logging.Log;\n+import org.apache.commons.logging.LogFactory;\n+import org.wso2.carbon.apimgt.api.APIAdmin;\n+import org.wso2.carbon.apimgt.api.APIManagementException;\n+import org.wso2.carbon.apimgt.api.model.APICategory;\n+import org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+import org.wso2.carbon.apimgt.impl.utils.APIUtil;\n+import org.wso2.carbon.apimgt.rest.api.admin.ApiCategoriesApiService;\n+import org.wso2.carbon.apimgt.rest.api.admin.dto.APICategoryDTO;\n+import org.wso2.carbon.apimgt.rest.api.admin.dto.APICategoryListDTO;\n+import org.wso2.carbon.apimgt.rest.api.admin.utils.mappings.APICategoryMappingUtil;\n+import org.wso2.carbon.apimgt.rest.api.util.RestApiConstants;\n+import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n+import org.wso2.carbon.utils.multitenancy.MultitenantUtils;\n+\n+import java.net.URI;\n+import java.net.URISyntaxException;\n+import java.util.List;\n+import javax.ws.rs.core.Response;\n+\n+public class ApiCategoriesApiServiceImpl extends ApiCategoriesApiService {\n+    private static final Log log = LogFactory.getLog(ApiCategoriesApiServiceImpl.class);\n+\n+    public Response apiCategoriesGet(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDA0NTc1", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342404575", "createdAt": "2020-01-14T09:50:39Z", "commit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo1MDozOVrOFdRkXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwOTo1MDozOVrOFdRkXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjI0MDg2Mg==", "bodyText": "Formatting issue", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366240862", "createdAt": "2020-01-14T09:50:39Z", "author": {"login": "mushthaq33"}, "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin/site/themes/wso2/templates/api-category/api-category-list/js/manage.js", "diffHunk": "@@ -0,0 +1,23 @@\n+var deleteAPICategory = function (uuid) {\n+    $(\"#messageModal div.modal-footer\").html(\"\");\n+    jagg.message({\n+        content:i18n.t('Are you sure you want to delete this API Category?'),\n+        title:i18n.t('Confirm Deletion'),\n+        type:'confirm',\n+        anotherDialog:true,\n+        okCallback:function(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dda94e83243cdd801e9cf1a1dc4ce3ade4d00ad"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23c74606dfc0a984514b54746a88230dd537e013", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/23c74606dfc0a984514b54746a88230dd537e013", "committedDate": "2020-01-14T10:02:15Z", "message": "Fix formatting issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97cf5d4612b07a004822eb67bf9600b230a8f492", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/97cf5d4612b07a004822eb67bf9600b230a8f492", "committedDate": "2020-01-14T10:25:48Z", "message": "Fix formatting issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDMxNTQ2", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342431546", "createdAt": "2020-01-14T10:31:25Z", "commit": {"oid": "97cf5d4612b07a004822eb67bf9600b230a8f492"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDM0MDQ5", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#pullrequestreview-342434049", "createdAt": "2020-01-14T10:35:19Z", "commit": {"oid": "97cf5d4612b07a004822eb67bf9600b230a8f492"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxMDozNToxOVrOFdS9Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxMDozNToxOVrOFdS9Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjI2MzU4Nw==", "bodyText": "There is an additional space", "url": "https://github.com/wso2/carbon-apimgt/pull/8077#discussion_r366263587", "createdAt": "2020-01-14T10:35:19Z", "author": {"login": "mushthaq33"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIAdminImpl.java", "diffHunk": "@@ -280,4 +287,68 @@ public void addBotDataEmailConfiguration(String email) throws APIManagementExcep\n     public void deleteBotDataEmailList(String uuid) throws APIManagementException, SQLException {\n         apiMgtDAO.deleteBotDataEmailList(uuid);\n     }\n+\n+    public APICategory addCategory(APICategory category, String userName) throws APIManagementException {\n+        int tenantID = APIUtil.getTenantId(userName);\n+        if (isCategoryNameExists(category.getName(), null, tenantID)) {\n+            APIUtil.handleException(\"Category with name '\" + category.getName() + \"' already exists\");\n+        }\n+        return apiMgtDAO.addCategory(tenantID, category);\n+    }\n+\n+    public void updateCategory(APICategory apiCategory) throws APIManagementException {\n+        apiMgtDAO.updateCategory(apiCategory);\n+    }\n+\n+    public void deleteCategory(String categoryID, String username) throws APIManagementException {\n+        APICategory category = getAPICategoryByID(categoryID);\n+        int attchedAPICount = isCategoryAttached(category, username);\n+        if ( attchedAPICount > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97cf5d4612b07a004822eb67bf9600b230a8f492"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db6d8a90fe198806ba56e067c845be921e342a3d", "author": {"user": {"login": "msm1992", "name": "Sachini De Silva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/db6d8a90fe198806ba56e067c845be921e342a3d", "committedDate": "2020-01-14T10:56:28Z", "message": "Fix formatting issues"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3018, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}