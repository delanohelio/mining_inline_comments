{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MDY5Mjkz", "number": 8978, "title": "Avoid appending the version twice to the context when updating an exported-imported API using APICTL (Fix for product-apim-tooling/issues/404) ", "bodyText": "Purpose\nAfter exporting an API using the APICTL, when we reimport the API to APIM and edit it in publisher the store will display the context by appending the version twice. This PR will solve this issue.\nGoals\nFixes wso2/product-apim-tooling#404\nApproach\nRemoving process of extracting up x-wso2-basepath extension from a swagger or open API definition and set that value as the context of API when importing an API through the API Controller tool.\nUser stories\nImporting an API using the API Controller tool.\nTest environment\nOS - Ubuntu 20.04 LTS\nJava - JDK 1.8_252\nAPIM - 3.2.0\nGO - 1.14\nAPICTL- 3.2.0 Beta", "createdAt": "2020-07-14T19:26:29Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8978", "merged": true, "mergeCommit": {"oid": "590359bca478cf50641a7410b917463a47aced61"}, "closed": true, "closedAt": "2020-07-16T07:10:57Z", "author": {"login": "Chamindu36"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc02fyIAH2gAyNDQ5MDY5MjkzOjhmYzVjNjVmZjVmZGRkZmNlNjNiMjcyODg4MzExNDkyNjUyYTUzODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdyQDe4AFqTU3MzA3Mjg4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8fc5c65ff5fdddfce63b272888311492652a5382", "author": {"user": {"login": "Chamindu36", "name": "Chamindu Udakara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/8fc5c65ff5fdddfce63b272888311492652a5382", "committedDate": "2020-07-14T13:59:44Z", "message": "Remove basePath extension from OAS parsers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NTYyODA0", "url": "https://github.com/wso2/carbon-apimgt/pull/8978#pullrequestreview-449562804", "createdAt": "2020-07-16T07:10:50Z", "commit": {"oid": "8fc5c65ff5fdddfce63b272888311492652a5382"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMDcyODg2", "url": "https://github.com/wso2/carbon-apimgt/pull/8978#pullrequestreview-573072886", "createdAt": "2021-01-21T08:15:44Z", "commit": {"oid": "8fc5c65ff5fdddfce63b272888311492652a5382"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwODoxNTo0NFrOIXqBBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwODoxNTo0NFrOIXqBBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY3NjU0OQ==", "bodyText": "Do we need this extra line here", "url": "https://github.com/wso2/carbon-apimgt/pull/8978#discussion_r561676549", "createdAt": "2021-01-21T08:15:44Z", "author": {"login": "Shehanir"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS2Parser.java", "diffHunk": "@@ -1459,13 +1458,7 @@ public API setExtensionsToAPI(String apiDefinition, API api, boolean isBasepathE\n         if (StringUtils.isNotBlank(throttleTier)) {\n             api.setApiLevelPolicy(throttleTier);\n         }\n-        //Setup Basepath\n-        String basePath = OASParserUtil.getBasePathFromSwagger(extensions);\n-        if (StringUtils.isNotBlank(basePath) && isBasepathExtractedFromSwagger) {\n-            basePath = basePath.replace(\"{version}\", api.getId().getVersion());\n-            api.setContextTemplate(basePath);\n-            api.setContext(basePath);\n-        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fc5c65ff5fdddfce63b272888311492652a5382"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2572, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}