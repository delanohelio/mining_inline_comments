{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5ODg5Njkw", "number": 9203, "title": "Fix NPE when importing OAS3 files", "bodyText": "This is the public fix for wso2/product-apim#9063.", "createdAt": "2020-08-19T02:56:24Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9203", "merged": true, "mergeCommit": {"oid": "7725dea225bcba2296070a6f2e19036c805d2f3a"}, "closed": true, "closedAt": "2020-08-19T04:56:52Z", "author": {"login": "RakhithaRR"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdASeWygH2gAyNDY5ODg5NjkwOmE0YzhhYjljZjMzZTlhNmEzYjg2NDVlNzNlMGVhNThlN2NkMTFlMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAUTZBgFqTQ3MDEyNDE5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39", "author": {"user": {"login": "RakhithaRR", "name": "Rakhitha Ranathunge"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39", "committedDate": "2020-08-19T02:48:41Z", "message": "populating default security scheme"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTE1Mzc4", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#pullrequestreview-470115378", "createdAt": "2020-08-19T04:25:24Z", "commit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTE1Njc4", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#pullrequestreview-470115678", "createdAt": "2020-08-19T04:26:24Z", "commit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwNDoyNjoyNFrOHCx2aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwNDoyNjoyNFrOHCx2aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY3NTk0Nw==", "bodyText": "Shall we add a comment on what we are doing here. ie: Populating the default security scheme.", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#discussion_r472675947", "createdAt": "2020-08-19T04:26:24Z", "author": {"login": "tgtshanika"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "diffHunk": "@@ -1458,6 +1460,14 @@ private OpenAPI injectOtherScopesToDefaultScheme(OpenAPI openAPI) throws APIMana\n             if (defaultScheme == null) {\n                 SecurityScheme newDefault = new SecurityScheme();\n                 newDefault.setType(SecurityScheme.Type.OAUTH2);\n+                OAuthFlows newDefaultFlows = new OAuthFlows();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTE2MTg5", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#pullrequestreview-470116189", "createdAt": "2020-08-19T04:28:23Z", "commit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwNDoyODoyM1rOHCx7Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwNDoyODoyM1rOHCx7Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY3NzIwNg==", "bodyText": "Check the same flow with Swagger 2 API definition and fix it in OAS2Parser, if the same issue is there.", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#discussion_r472677206", "createdAt": "2020-08-19T04:28:23Z", "author": {"login": "tgtshanika"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "diffHunk": "@@ -1458,6 +1460,14 @@ private OpenAPI injectOtherScopesToDefaultScheme(OpenAPI openAPI) throws APIMana\n             if (defaultScheme == null) {\n                 SecurityScheme newDefault = new SecurityScheme();\n                 newDefault.setType(SecurityScheme.Type.OAUTH2);\n+                OAuthFlows newDefaultFlows = new OAuthFlows();\n+                OAuthFlow newDefaultFlow = new OAuthFlow();\n+                newDefaultFlow.setAuthorizationUrl(\"https://test.com\");\n+                Scopes newDefaultScopes = new Scopes();\n+                newDefaultFlow.setScopes(newDefaultScopes);\n+                newDefaultFlows.setImplicit(newDefaultFlow);\n+                newDefault.setFlows(newDefaultFlows);\n+\n                 securitySchemes.put(OPENAPI_SECURITY_SCHEMA_KEY, newDefault);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d3ff9c41a0ca9835c6b2ed6b7740f38cdf1003a", "author": {"user": {"login": "RakhithaRR", "name": "Rakhitha Ranathunge"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0d3ff9c41a0ca9835c6b2ed6b7740f38cdf1003a", "committedDate": "2020-08-19T04:35:31Z", "message": "added comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTI0MTkz", "url": "https://github.com/wso2/carbon-apimgt/pull/9203#pullrequestreview-470124193", "createdAt": "2020-08-19T04:56:31Z", "commit": {"oid": "a4c8ab9cf33e9a6a3b8645e73e0ea58e7cd11e39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2498, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}