{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMjE3NjYy", "number": 8445, "title": "Add Endpoint registry tables for H2", "bodyText": "", "createdAt": "2020-04-30T07:38:01Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8445", "merged": true, "mergeCommit": {"oid": "c49d797953dff069901d8604f0342d9788dd54d4"}, "closed": true, "closedAt": "2020-04-30T09:43:45Z", "author": {"login": "ChamodDamitha"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccpDHEABqjMyODgyMjQzMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccp4PdAFqTQwMzM2MzE2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2393718a22f4c43f92d286d35983af9da4e2e06e", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2393718a22f4c43f92d286d35983af9da4e2e06e", "committedDate": "2020-04-30T07:28:08Z", "message": "Add Endpoint registry tables for H2"}, "afterCommit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ca2e2fb859708892718ede5dcfb37067e7a807cd", "committedDate": "2020-04-30T08:45:11Z", "message": "Add Endpoint registry tables for H2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzIxOTY2", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#pullrequestreview-403321966", "createdAt": "2020-04-30T08:47:32Z", "commit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODo0NzozMlrOGOfxNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODo0NzozMlrOGOfxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1Mzc0OQ==", "bodyText": "-- End of API-MGT Tables -- comment should come to the end. also, add a new line to the end of the file", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417853749", "createdAt": "2020-04-30T08:47:32Z", "author": {"login": "fazlan-nazeem"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1804,3 +1804,33 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     PRIMARY KEY(USER_ID)\n );\n -- End of API-MGT Tables --\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzIyNjI1", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#pullrequestreview-403322625", "createdAt": "2020-04-30T08:48:27Z", "commit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODo0ODoyN1rOGOfzNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODo0ODoyN1rOGOfzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1NDI2MQ==", "bodyText": "shall we rename to ENDPOINT_REG_ENTRY. to avoid confusion with our registry  tables", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417854261", "createdAt": "2020-04-30T08:48:27Z", "author": {"login": "fazlan-nazeem"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1804,3 +1804,33 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     PRIMARY KEY(USER_ID)\n );\n -- End of API-MGT Tables --\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,\n+  REG_OWNER VARCHAR(255),\n+  READ_ROLE VARCHAR(20),\n+  WRITE_ROLE VARCHAR(20),\n+  UNIQUE (UUID),\n+  PRIMARY KEY(ID)\n+);\n+\n+CREATE TABLE IF NOT EXISTS REG_ENTRY (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ca2e2fb859708892718ede5dcfb37067e7a807cd", "committedDate": "2020-04-30T08:45:11Z", "message": "Add Endpoint registry tables for H2"}, "afterCommit": {"oid": "f48812b70614651446036b27d6e4b80f13dbd27a", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f48812b70614651446036b27d6e4b80f13dbd27a", "committedDate": "2020-04-30T08:49:22Z", "message": "Add Endpoint registry tables for H2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e638e78dabde1622bf7bbfd5a7e1459721ae1656", "committedDate": "2020-04-30T08:53:43Z", "message": "Add Endpoint registry tables for H2"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f48812b70614651446036b27d6e4b80f13dbd27a", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f48812b70614651446036b27d6e4b80f13dbd27a", "committedDate": "2020-04-30T08:49:22Z", "message": "Add Endpoint registry tables for H2"}, "afterCommit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e638e78dabde1622bf7bbfd5a7e1459721ae1656", "committedDate": "2020-04-30T08:53:43Z", "message": "Add Endpoint registry tables for H2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzM1ODgw", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#pullrequestreview-403335880", "createdAt": "2020-04-30T09:06:01Z", "commit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwOTowNjowMVrOGOgcXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwOTowNjowMVrOGOgcXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg2NDc5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              API_DEFINITION BLOB,\n          \n          \n            \n              ENDPOINT_DEFINITION BLOB,", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417864799", "createdAt": "2020-04-30T09:06:01Z", "author": {"login": "fazlan-nazeem"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1803,4 +1803,35 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     USER_NAME VARCHAR(255) NOT NULL,\n     PRIMARY KEY(USER_ID)\n );\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,\n+  REG_OWNER VARCHAR(255),\n+  READ_ROLE VARCHAR(20),\n+  WRITE_ROLE VARCHAR(20),\n+  UNIQUE (UUID),\n+  PRIMARY KEY(ID)\n+);\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG_ENTRY (\n+  UUID VARCHAR(255) NOT NULL,\n+  ENTRY_NAME VARCHAR(255),\n+  SERVICE_URL VARCHAR(2048),\n+  DEFINITION_TYPE VARCHAR(20),\n+  DEFINITION_URL VARCHAR(2048),\n+  METADATA BLOB,\n+  SERVICE_TYPE VARCHAR(20),\n+  API_DEFINITION BLOB,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzM5NDMw", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#pullrequestreview-403339430", "createdAt": "2020-04-30T09:10:40Z", "commit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwOToxMDo0MFrOGOgnRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwOToxMDo0MFrOGOgnRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg2NzU4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              TENANT_ID INTEGER DEFAULT -1,\n          \n          \n            \n              TENANT_ID INTEGER NOT NULL,", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417867589", "createdAt": "2020-04-30T09:10:40Z", "author": {"login": "fazlan-nazeem"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1803,4 +1803,35 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     USER_NAME VARCHAR(255) NOT NULL,\n     PRIMARY KEY(USER_ID)\n );\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cdf2ec5299ecb4cca14985d631729f5a5a14c54", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9cdf2ec5299ecb4cca14985d631729f5a5a14c54", "committedDate": "2020-04-30T09:17:33Z", "message": "Update features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql\n\nCo-Authored-By: Fazlan Nazeem <fazlann@wso2.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e51556fd23bbd99830543de3912829de4a97148", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4e51556fd23bbd99830543de3912829de4a97148", "committedDate": "2020-04-30T09:18:09Z", "message": "Update features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql\n\nCo-Authored-By: Fazlan Nazeem <fazlann@wso2.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzYzMTYz", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#pullrequestreview-403363163", "createdAt": "2020-04-30T09:43:30Z", "commit": {"oid": "4e51556fd23bbd99830543de3912829de4a97148"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2919, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}