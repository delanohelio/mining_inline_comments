{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMTc0MTE2", "number": 8276, "title": "Fix null pointer exception issue in JWT grant", "bodyText": "Issue\nfixes wso2/product-apim#7514\nMethodology\nchecking the IDP returned and returning relevant error messages.", "createdAt": "2020-03-02T05:00:33Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8276", "merged": true, "mergeCommit": {"oid": "6bdfb5d2a65ce39f9c57fc28cc11cf605ae30617"}, "closed": true, "closedAt": "2020-03-02T06:58:29Z", "author": {"login": "CrowleyRajapakse"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJmjc9gBqjMwODY0MjUxMDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJnqLVAFqTM2Njk3MDcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "175a1d4eb001f70d290a3433fb4abb8e8ba56a31", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/175a1d4eb001f70d290a3433fb4abb8e8ba56a31", "committedDate": "2020-03-02T04:51:40Z", "message": "Fix null pointer exception issue in JWT grant"}, "afterCommit": {"oid": "c2ca6819057dffc2477e9d01d1385fa3a58e7170", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c2ca6819057dffc2477e9d01d1385fa3a58e7170", "committedDate": "2020-03-02T05:06:03Z", "message": "Fix null pointer exception issue in JWT grant"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2OTU2MDgy", "url": "https://github.com/wso2/carbon-apimgt/pull/8276#pullrequestreview-366956082", "createdAt": "2020-03-02T05:23:09Z", "commit": {"oid": "c2ca6819057dffc2477e9d01d1385fa3a58e7170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyMzowOVrOFwT5sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyMzowOVrOFwT5sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjAzMw==", "bodyText": "120 character limit exceeds. Please fix in other places as well.", "url": "https://github.com/wso2/carbon-apimgt/pull/8276#discussion_r386202033", "createdAt": "2020-03-02T05:23:09Z", "author": {"login": "menakaj"}, "path": "components/apimgt/org.wso2.carbon.apimgt.keymgt/src/main/java/org/wso2/carbon/apimgt/keymgt/token/ExtendedJWTBearerGrantHandler.java", "diffHunk": "@@ -107,6 +119,26 @@\n         return ScopesIssuer.getInstance().setScopes(tokReqMsgCtx);\n     }\n \n+    private IdentityProvider getResidentIDPForIssuer(String tenantDomain, String jwtIssuer) throws IdentityOAuth2Exception {\n+        String issuer = \"\";\n+\n+        IdentityProvider residentIdentityProvider;\n+        try {\n+            residentIdentityProvider = IdentityProviderManager.getInstance().getResidentIdP(tenantDomain);\n+        } catch (IdentityProviderManagementException var7) {\n+            String errorMsg = String.format(\"Error while getting Resident Identity Provider of '%s' tenant.\", tenantDomain);\n+            throw new IdentityOAuth2Exception(errorMsg, var7);\n+        }\n+\n+        FederatedAuthenticatorConfig[] fedAuthnConfigs = residentIdentityProvider.getFederatedAuthenticatorConfigs();\n+        FederatedAuthenticatorConfig oauthAuthenticatorConfig = IdentityApplicationManagementUtil.getFederatedAuthenticator(fedAuthnConfigs, \"openidconnect\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2ca6819057dffc2477e9d01d1385fa3a58e7170"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1edb85d59b751c9fa881213d2505ce2fe26179ad", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1edb85d59b751c9fa881213d2505ce2fe26179ad", "committedDate": "2020-03-02T05:25:53Z", "message": "Fix null pointer exception issue in JWT grant"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2ca6819057dffc2477e9d01d1385fa3a58e7170", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c2ca6819057dffc2477e9d01d1385fa3a58e7170", "committedDate": "2020-03-02T05:06:03Z", "message": "Fix null pointer exception issue in JWT grant"}, "afterCommit": {"oid": "1edb85d59b751c9fa881213d2505ce2fe26179ad", "author": {"user": {"login": "CrowleyRajapakse", "name": "Crowley Rajapakse"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1edb85d59b751c9fa881213d2505ce2fe26179ad", "committedDate": "2020-03-02T05:25:53Z", "message": "Fix null pointer exception issue in JWT grant"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2OTcwNzAy", "url": "https://github.com/wso2/carbon-apimgt/pull/8276#pullrequestreview-366970702", "createdAt": "2020-03-02T06:23:46Z", "commit": {"oid": "1edb85d59b751c9fa881213d2505ce2fe26179ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2947, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}