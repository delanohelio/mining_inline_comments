{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MjA1NDY4", "number": 9009, "reviewThreads": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTozMjozNVrOEQiuIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNjo1MDoyMVrOFLKfLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzgxNTM2OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTozMjozNVrOG0v9KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxOTowNVrOG0xj2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NDg0MA==", "bodyText": "This should be the version of the API", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457964840", "createdAt": "2020-07-21T09:32:35Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -152,13 +156,17 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTEyOQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991129", "createdAt": "2020-07-21T10:19:05Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -152,13 +156,17 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NDg0MA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzgyNDUzOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/DeployApiApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTozNTowNFrOG0wC5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxOTowMlrOG0xjvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NjMxMA==", "bodyText": "Formatting error", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457966310", "createdAt": "2020-07-21T09:35:04Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/DeployApiApiServiceImpl.java", "diffHunk": "@@ -19,19 +19,29 @@\n package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n \n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n \n import org.json.JSONObject;\n \n+import java.util.Map;\n+\n public class DeployApiApiServiceImpl implements DeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response deployApiPost(String apiName, String gatewayLabel, String apiId, MessageContext messageContext) {\n+    public Response deployApiPost(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n-        boolean status = inMemoryApiDeployer.deployAPI(apiId, gatewayLabel);\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTEwMQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991101", "createdAt": "2020-07-21T10:19:02Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/DeployApiApiServiceImpl.java", "diffHunk": "@@ -19,19 +19,29 @@\n package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n \n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n \n import org.json.JSONObject;\n \n+import java.util.Map;\n+\n public class DeployApiApiServiceImpl implements DeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response deployApiPost(String apiName, String gatewayLabel, String apiId, MessageContext messageContext) {\n+    public Response deployApiPost(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n-        boolean status = inMemoryApiDeployer.deployAPI(apiId, gatewayLabel);\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NjMxMA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzgzMzUxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTozNzozOVrOG0wIdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo1OFrOG0xjmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NzczMw==", "bodyText": "formatting error", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457967733", "createdAt": "2020-07-21T09:37:39Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,34 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTA2NQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991065", "createdAt": "2020-07-21T10:18:58Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,34 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NzczMw=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg0NDEzOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/LocalEntryApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0MDozOFrOG0wPHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo1NVrOG0xjfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTQzNw==", "bodyText": "Don't we have this super tenant as a constant in APIConstants? If so please point to that.", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457969437", "createdAt": "2020-07-21T09:40:38Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/LocalEntryApiServiceImpl.java", "diffHunk": "@@ -28,19 +28,29 @@\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.LocalEntryServiceProxy;\n import org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class LocalEntryApiServiceImpl implements LocalEntryApiService {\n \n     private static final Log log = LogFactory.getLog(LocalEntryApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTAzOA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991038", "createdAt": "2020-07-21T10:18:55Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/LocalEntryApiServiceImpl.java", "diffHunk": "@@ -28,19 +28,29 @@\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.LocalEntryServiceProxy;\n import org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class LocalEntryApiServiceImpl implements LocalEntryApiService {\n \n     private static final Log log = LogFactory.getLog(LocalEntryApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTQzNw=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg0NzQ3OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0MTozM1rOG0wRNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo1M1rOG0xjWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTk3Mg==", "bodyText": "Point to the constant in APIConstants.", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457969972", "createdAt": "2020-07-21T09:41:33Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTAwMw==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991003", "createdAt": "2020-07-21T10:18:53Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTk3Mg=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg0ODIwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0MTo0MVrOG0wRlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo1MFrOG0xjRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDA3MA==", "bodyText": "Formatting error", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457970070", "createdAt": "2020-07-21T09:41:41Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response sequenceGet(String apiName, String label, String apiId, MessageContext messageContext) {\n-\n+    public Response sequenceGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk4MQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990981", "createdAt": "2020-07-21T10:18:50Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response sequenceGet(String apiName, String label, String apiId, MessageContext messageContext) {\n-\n+    public Response sequenceGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDA3MA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg1MTAwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/UndeployApiApiServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0MjozMlrOG0wTbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo0OFrOG0xjKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDU0MA==", "bodyText": "Formatting error", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457970540", "createdAt": "2020-07-21T09:42:32Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/UndeployApiApiServiceImpl.java", "diffHunk": "@@ -20,16 +20,26 @@\n \n import org.json.JSONObject;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class UndeployApiApiServiceImpl implements UndeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response undeployApiPost(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response undeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk1NQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990955", "createdAt": "2020-07-21T10:18:48Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/UndeployApiApiServiceImpl.java", "diffHunk": "@@ -20,16 +20,26 @@\n \n import org.json.JSONObject;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class UndeployApiApiServiceImpl implements UndeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response undeployApiPost(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response undeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDU0MA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg1NTAwOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0Mzo0M1rOG0wWFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDozNDozOVrOG0yEVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MTIyMg==", "bodyText": "Shall we change this resource to redeploy?", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457971222", "createdAt": "2020-07-21T09:43:43Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk4OTkzNQ==", "bodyText": "b99a273#diff-3628fb185e745131f3d5bb8e72370524R23", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457989935", "createdAt": "2020-07-21T10:16:56Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MTIyMg=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5OTQ0NQ==", "bodyText": "7bc5f9c", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457999445", "createdAt": "2020-07-21T10:34:39Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MTIyMg=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg1NjA4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0NDowM1rOG0wW1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo0NFrOG0xjEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MTQxNQ==", "bodyText": "The version of the API right?", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457971415", "createdAt": "2020-07-21T09:44:03Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.\n       parameters:\n         - name: apiName\n           description: |\n             Name of the API\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDkzMA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990930", "createdAt": "2020-07-21T10:18:44Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.\n       parameters:\n         - name: apiName\n           description: |\n             Name of the API\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MTQxNQ=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg2MDM0OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0NTowMlrOG0wZUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxNzoxNFrOG0xfvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjA1MQ==", "bodyText": "Better to mention if tenant domain is not given, super tenant get chosen", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457972051", "createdAt": "2020-07-21T09:45:02Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDA3OA==", "bodyText": "b99a273#diff-3628fb185e745131f3d5bb8e72370524R27", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990078", "createdAt": "2020-07-21T10:17:14Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjA1MQ=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg2Mjg1OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0NTo0NlrOG0wa4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxNzozNFrOG0xgjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjQ1MA==", "bodyText": "\"tenantDomain\" should be \"Tenant domain\".", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457972450", "createdAt": "2020-07-21T09:45:46Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.\n       parameters:\n         - name: apiName\n           description: |\n             Name of the API\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDI4NA==", "bodyText": "b99a273#diff-3628fb185e745131f3d5bb8e72370524R107", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990284", "createdAt": "2020-07-21T10:17:34Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -71,28 +71,32 @@ paths:\n       security:\n         - OAuth2Security:\n             - apim:api_publish\n-      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\\\"\"\n+      x-wso2-curl: \"curl -k -H \\\"Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\\\" -X POST \\\"https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\\\"\"\n       x-wso2-request: |\n-        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiId=890a4f4d-09eb-4877-a323-57f6ce2ed79b&apiName=PizzaAPI&label=Food\n+        POST https://127.0.0.1:9443/api/am/gateway/v1/deploy-api?apiName=PizzaAPI&version=1.0&tenantDomain=registry.com\n         Authorization: Bearer ae4eae22-3f65-387b-a171-d37eaa366fa8\n       x-wso2-response: \"HTTP/1.1 200 OK\"\n       summary: Deploy the API in the gateway\n       description: |\n-        This operation is used to deploy and API in the gateway.\n+        This operation is used to deploy an API in the gateway.\n       parameters:\n         - name: apiName\n           description: |\n             Name of the API\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjQ1MA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg2NDA1OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0NjowNFrOG0wbkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODozOVrOG0xi6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjYyNw==", "bodyText": "Tenant domain", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457972627", "createdAt": "2020-07-21T09:46:04Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -152,13 +156,17 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDg5MQ==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990891", "createdAt": "2020-07-21T10:18:39Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -152,13 +156,17 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MjYyNw=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg2NjkxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0Njo1MlrOG0wdXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODozN1rOG0xi0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzA4Ng==", "bodyText": "version of the API", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457973086", "createdAt": "2020-07-21T09:46:52Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -288,29 +296,33 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 134}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDg2NA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990864", "createdAt": "2020-07-21T10:18:37Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -288,29 +296,33 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzA4Ng=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 134}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg2Nzc0OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0NzowOFrOG0wd9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODozNFrOG0xiwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzIzOA==", "bodyText": "Tenant domain", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457973238", "createdAt": "2020-07-21T09:47:08Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -288,29 +296,33 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 141}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDg0OA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990848", "createdAt": "2020-07-21T10:18:34Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -288,29 +296,33 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzIzOA=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 141}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg3MDEyOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0Nzo1NlrOG0wfhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODozMVrOG0xiog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzYzNg==", "bodyText": "Tenant domain", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457973636", "createdAt": "2020-07-21T09:47:56Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -420,16 +435,20 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 253}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDgxOA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990818", "createdAt": "2020-07-21T10:18:31Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -420,16 +435,20 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway\n           in: query\n           type: string\n           required: true\n-        - $ref: '#/parameters/apiId-Q'\n+        - name: tenantDomain\n+          description: |\n+            tenantDomain of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzYzNg=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 253}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzg3MDUzOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwOTo0ODowM1rOG0wfxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODoyOVrOG0xijg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzcwMw==", "bodyText": "version of API", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457973703", "createdAt": "2020-07-21T09:48:03Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -420,16 +435,20 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 246}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDc5OA==", "bodyText": "b99a273", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990798", "createdAt": "2020-07-21T10:18:29Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/resources/gateway-api.yaml", "diffHunk": "@@ -420,16 +435,20 @@ paths:\n           in: query\n           type: string\n           required: true\n-        - name: label\n+        - name: version\n           description: |\n-            Label of the API Gateway\n+            version of the API Gateway", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MzcwMw=="}, "originalCommit": {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e"}, "originalPosition": 246}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMzM1NTgyOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwNzo1NjozNVrOHaRmjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNzo0NDo1MVrOIOg6rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMxMzQyMQ==", "bodyText": "Do we need extra lines?", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r497313421", "createdAt": "2020-09-30T07:56:35Z", "author": {"login": "Shehanir"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,33 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+\n         GatewayAPIDTO gatewayAPIDTO = inMemoryApiDeployer.getAPIArtifact(apiId, label);\n         JSONObject responseObj = new JSONObject();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MDI4Ng==", "bodyText": "Removed in the Latest Version", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552090286", "createdAt": "2021-01-05T17:44:51Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,33 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+\n         GatewayAPIDTO gatewayAPIDTO = inMemoryApiDeployer.getAPIArtifact(apiId, label);\n         JSONObject responseObj = new JSONObject();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMxMzQyMQ=="}, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMzk3NDMzOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMDozOTowN1rOHaXkJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNzo0NjoxMVrOIOg9mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMTEwOQ==", "bodyText": "Shall we add license headers?", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r497411109", "createdAt": "2020-09-30T10:39:07Z", "author": {"login": "renuka-fernando"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MTAzMg==", "bodyText": "dfbd644", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552091032", "createdAt": "2021-01-05T17:46:11Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMTEwOQ=="}, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjUwMzMxOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNjo0OTo0MFrOIOL6Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNzo0NjowOFrOIOg9gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjEwMw==", "bodyText": "Please remove the unnecessary new lines.", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r551746103", "createdAt": "2021-01-05T06:49:40Z", "author": {"login": "chamindias"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MTAxMA==", "bodyText": "dfbd644", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552091010", "createdAt": "2021-01-05T17:46:08Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjEwMw=="}, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjUwNDc4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNjo1MDoyMVrOIOL7HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNzo0NDoyOVrOIOg5vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjMzMw==", "bodyText": "Can't we use a constant here?", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r551746333", "createdAt": "2021-01-05T06:50:21Z", "author": {"login": "chamindias"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+\n+public class RedeployApiApiServiceImpl implements RedeployApiApiService {\n+\n+    public Response redeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n+\n+        InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+        boolean status = inMemoryApiDeployer.deployAPI(apiId, label);\n+\n+        JSONObject responseObj = new JSONObject();\n+        if (status) {\n+            responseObj.put(\"Message\", \"Success\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MDA0NQ==", "bodyText": "Response Changed to apiName + \" redeployed successfully in the Gateway\" in the latest version", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552090045", "createdAt": "2021-01-05T17:44:29Z", "author": {"login": "Sarangan0219"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+\n+public class RedeployApiApiServiceImpl implements RedeployApiApiService {\n+\n+    public Response redeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n+\n+        InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+        boolean status = inMemoryApiDeployer.deployAPI(apiId, label);\n+\n+        JSONObject responseObj = new JSONObject();\n+        if (status) {\n+            responseObj.put(\"Message\", \"Success\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjMzMw=="}, "originalCommit": {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3188, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}