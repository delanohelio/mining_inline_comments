{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMzQzODk5", "number": 9307, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxODo1MVrOEr8w7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxODo1MVrOEr8w7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NTE5Nzg5OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.store.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/store/v1/impl/SubscriptionsApiServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxODo1MVrOHe_1xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODo0MjoyNFrOHfAo0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTI4NQ==", "bodyText": "do we need to do body.getStatus() since there was a condition to check equals", "url": "https://github.com/wso2/carbon-apimgt/pull/9307#discussion_r502265285", "createdAt": "2020-10-09T08:18:51Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.store.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/store/v1/impl/SubscriptionsApiServiceImpl.java", "diffHunk": "@@ -270,10 +271,14 @@ public Response subscriptionsSubscriptionIdPut(SubscriptionDTO body, String subs\n             String currentThrottlingPolicy = body.getThrottlingPolicy();\n             String requestedThrottlingPolicy = body.getRequestedThrottlingPolicy();\n \n+            SubscribedAPI subscribedAPI = ApiMgtDAO.getInstance()\n+                    .getSubscriptionByUUID(subscriptionId);\n             //Check whether the subscription status is not empty and also not blocked\n-            if (body.getStatus() != null) {\n+            if (body.getStatus() != null && subscribedAPI != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3ODM1NQ==", "bodyText": "if the body.getStatus() is null we are sending error message saying payload should contain subscription status kind of message. if body.getStatus() is not null then we are checking if it's in blocked or on hold status", "url": "https://github.com/wso2/carbon-apimgt/pull/9307#discussion_r502278355", "createdAt": "2020-10-09T08:42:24Z", "author": {"login": "CrowleyRajapakse"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.store.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/store/v1/impl/SubscriptionsApiServiceImpl.java", "diffHunk": "@@ -270,10 +271,14 @@ public Response subscriptionsSubscriptionIdPut(SubscriptionDTO body, String subs\n             String currentThrottlingPolicy = body.getThrottlingPolicy();\n             String requestedThrottlingPolicy = body.getRequestedThrottlingPolicy();\n \n+            SubscribedAPI subscribedAPI = ApiMgtDAO.getInstance()\n+                    .getSubscriptionByUUID(subscriptionId);\n             //Check whether the subscription status is not empty and also not blocked\n-            if (body.getStatus() != null) {\n+            if (body.getStatus() != null && subscribedAPI != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTI4NQ=="}, "originalCommit": {"oid": "063f1776e9fe90837bd9248da2747e7e9df2ac2c"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3046, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}