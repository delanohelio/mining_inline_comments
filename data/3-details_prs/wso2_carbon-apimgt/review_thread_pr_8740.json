{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNjAyMDY4", "number": 8740, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDo1NzowNlrOEFBIvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDo1ODo1M1rOEFBK4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjk2OTU4OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDo1NzowNlrOGi_2BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDozNTozM1rOGjGWeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MDc4OA==", "bodyText": "Shall we give a proper name to this variable, isTenant does not mean anything here right? shouldn't it be isSuperTenant ?", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439350788", "createdAt": "2020-06-12T10:57:06Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "diffHunk": "@@ -182,6 +182,7 @@ class Protected extends Component {\n             clientId: Utils.getCookieWithoutEnvironment(User.CONST.ADMIN_CLIENT_ID),\n             sessionStateCookie: Utils.getCookieWithoutEnvironment(User.CONST.ADMIN_SESSION_STATE),\n             mobileOpen: false,\n+            isTenant: false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1NzQwMA==", "bodyText": "Fixed with f01475d", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439457400", "createdAt": "2020-06-12T14:35:33Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "diffHunk": "@@ -182,6 +182,7 @@ class Protected extends Component {\n             clientId: Utils.getCookieWithoutEnvironment(User.CONST.ADMIN_CLIENT_ID),\n             sessionStateCookie: Utils.getCookieWithoutEnvironment(User.CONST.ADMIN_SESSION_STATE),\n             mobileOpen: false,\n+            isTenant: false,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MDc4OA=="}, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjk3MTc1OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDo1Nzo0NVrOGi_3Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDozNToyM1rOGjGWJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MTExNA==", "bodyText": "Shall we alert the user about the error ? and log", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439351114", "createdAt": "2020-06-12T10:57:45Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "diffHunk": "@@ -212,6 +213,18 @@ class Protected extends Component {\n         if (user) {\n             this.setState({ user });\n             settingPromise.then((settingsNew) => this.setState({ settings: settingsNew }));\n+            api.getTenantInformation(user.name)\n+                .then((result) => {\n+                    const { tenantDomain } = result.body;\n+                    if (tenantDomain === 'carbon.super') {\n+                        this.setState({ isTenant: false });\n+                    } else {\n+                        this.setState({ isTenant: true });\n+                    }\n+                })\n+                .catch((error) => {\n+                    console.log(error);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1NzMxOA==", "bodyText": "Fixed with f01475d", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439457318", "createdAt": "2020-06-12T14:35:23Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/ProtectedApp.jsx", "diffHunk": "@@ -212,6 +213,18 @@ class Protected extends Component {\n         if (user) {\n             this.setState({ user });\n             settingPromise.then((settingsNew) => this.setState({ settings: settingsNew }));\n+            api.getTenantInformation(user.name)\n+                .then((result) => {\n+                    const { tenantDomain } = result.body;\n+                    if (tenantDomain === 'carbon.super') {\n+                        this.setState({ isTenant: false });\n+                    } else {\n+                        this.setState({ isTenant: true });\n+                    }\n+                })\n+                .catch((error) => {\n+                    console.log(error);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MTExNA=="}, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjk3NTA3OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/webpack.config.js", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMDo1ODo1M1rOGi_5bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDozNToxM1rOGjGVyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MTY2MQ==", "bodyText": "\ud83d\ude11", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439351661", "createdAt": "2020-06-12T10:58:53Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/webpack.config.js", "diffHunk": "@@ -32,6 +32,10 @@ const config = {\n         net: 'empty', // To fix joi issue: https://github.com/hapijs/joi/issues/665#issuecomment-113713020\n     },\n     watch: false,\n+    watchOptions: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1NzIyNw==", "bodyText": "Removed with f01475d", "url": "https://github.com/wso2/carbon-apimgt/pull/8740#discussion_r439457227", "createdAt": "2020-06-12T14:35:13Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/webpack.config.js", "diffHunk": "@@ -32,6 +32,10 @@ const config = {\n         net: 'empty', // To fix joi issue: https://github.com/hapijs/joi/issues/665#issuecomment-113713020\n     },\n     watch: false,\n+    watchOptions: {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM1MTY2MQ=="}, "originalCommit": {"oid": "9f2a08e58f0d0cce83f2964688527f1e5dea4c6f"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3257, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}