{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwMDE4OTA4", "number": 8535, "title": "[Admin Portal Revamp] Microgateway Labels issue fixes", "bodyText": "Changes:\n\n\nUnnecessary new Promise() removal.\n\n\nValidation improvements. Now using hapi Joi.", "createdAt": "2020-05-19T10:15:21Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8535", "merged": true, "mergeCommit": {"oid": "d4de6d5ca928cdd9e359970c1de2bd2879f4b01c"}, "closed": true, "closedAt": "2020-05-28T08:01:03Z", "author": {"login": "chathuranga95"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcixjjEgH2gAyNDIwMDE4OTA4Ojg5YzY3YjBhZjk1MTM5NWIxNDU4Y2FhMzk5ZTAyZGE0NThhYmViZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcln1jGAH2gAyNDIwMDE4OTA4OjEyZTM5NjJjYjJiODZjNTk4MzM5MGE5ZDEzN2M3MTg0NTk1YjBjZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "89c67b0af951395b1458caa399e02da458abebd0", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/89c67b0af951395b1458caa399e02da458abebd0", "committedDate": "2020-05-19T10:03:41Z", "message": "Fix issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTA4MTM0", "url": "https://github.com/wso2/carbon-apimgt/pull/8535#pullrequestreview-419508134", "createdAt": "2020-05-27T18:41:22Z", "commit": {"oid": "89c67b0af951395b1458caa399e02da458abebd0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxODo0MToyMlrOGbYSOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxODo0MTo0M1rOGbYS-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2MjYxNw==", "bodyText": "Let's do a find here, Filter will iterate over all the values in the array where find will break in the fist finding , and won't need to use [0]", "url": "https://github.com/wso2/carbon-apimgt/pull/8535#discussion_r431362617", "createdAt": "2020-05-27T18:41:22Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin_new/source/src/app/components/AdminPages/Addons/InputListBase.jsx", "diffHunk": "@@ -73,8 +79,11 @@ const InputList = (props) => {\n                                     onChange={handleInput}\n                                     label={inputLabelPrefix + ' ' + labelCounter++}\n                                     value={item.value}\n-                                    helperText={helperText}\n+                                    helperText={\n+                                        userInputItems.filter((obj) => obj.key === item.key)[0].error || helperText", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c67b0af951395b1458caa399e02da458abebd0"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2MjgwOQ==", "bodyText": "Same as above , Let's use .find here too", "url": "https://github.com/wso2/carbon-apimgt/pull/8535#discussion_r431362809", "createdAt": "2020-05-27T18:41:43Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin_new/source/src/app/components/AdminPages/Addons/InputListBase.jsx", "diffHunk": "@@ -73,8 +79,11 @@ const InputList = (props) => {\n                                     onChange={handleInput}\n                                     label={inputLabelPrefix + ' ' + labelCounter++}\n                                     value={item.value}\n-                                    helperText={helperText}\n+                                    helperText={\n+                                        userInputItems.filter((obj) => obj.key === item.key)[0].error || helperText\n+                                    }\n                                     variant='outlined'\n+                                    error={userInputItems.filter((obj) => obj.key === item.key)[0].error}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c67b0af951395b1458caa399e02da458abebd0"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ecbce23dfc4264f3a5abeb6f5aa376170ff9222", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5ecbce23dfc4264f3a5abeb6f5aa376170ff9222", "committedDate": "2020-05-28T03:41:50Z", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin-portal-conv-microgateway-labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ea6a84b8d1a47454611ce6d7f6cd7bac359513f", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5ea6a84b8d1a47454611ce6d7f6cd7bac359513f", "committedDate": "2020-05-28T04:04:17Z", "message": "Fix validations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5ODA1OTEz", "url": "https://github.com/wso2/carbon-apimgt/pull/8535#pullrequestreview-419805913", "createdAt": "2020-05-28T06:18:38Z", "commit": {"oid": "5ea6a84b8d1a47454611ce6d7f6cd7bac359513f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwNjoxODozOFrOGbnDyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwNjoxODozOFrOGbnDyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTYwNDY4Mg==", "bodyText": "we can do this in an elseif() right? Do we need 2 if conditions?", "url": "https://github.com/wso2/carbon-apimgt/pull/8535#discussion_r431604682", "createdAt": "2020-05-28T06:18:38Z", "author": {"login": "kavishkafernando"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin_new/source/src/app/components/MicrogatewayLabels/AddEditMGLabel.jsx", "diffHunk": "@@ -86,6 +87,23 @@ function AddEditMGLabel(props) {\n     const onChange = (e) => {\n         dispatch({ field: e.target.name, value: e.target.value });\n     };\n+\n+    const handleHostValidation = (hostName) => {\n+        const schema = Joi.string().uri().empty();\n+        const validationError = schema.validate(hostName).error;\n+\n+        if (validationError) {\n+            const errorType = validationError.details[0].type;\n+            if (errorType === 'any.empty') {\n+                return 'Host is empty';\n+            }\n+            if (errorType === 'string.uri') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea6a84b8d1a47454611ce6d7f6cd7bac359513f"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12e3962cb2b86c5983390a9d137c7184595b0cd5", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/12e3962cb2b86c5983390a9d137c7184595b0cd5", "committedDate": "2020-05-28T06:26:04Z", "message": "Merge if conditions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2771, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}