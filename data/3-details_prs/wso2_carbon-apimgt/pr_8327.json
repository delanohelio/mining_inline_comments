{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NTcxMzMw", "number": 8327, "title": "fix tracing issues", "bodyText": "", "createdAt": "2020-03-09T12:52:39Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8327", "merged": true, "mergeCommit": {"oid": "00407a3dd2fcfec33b16ae605971f4ff8df6f93d"}, "closed": true, "closedAt": "2020-03-10T11:37:39Z", "author": {"login": "tharindu1st"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL9iHHgFqTM3MTE1MDcxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMQ8HZgFqTM3MTg3NjE5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTUwNzEx", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#pullrequestreview-371150711", "createdAt": "2020-03-09T13:00:43Z", "commit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzowMDo0M1rOFzl_-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzowMDo0M1rOFzl_-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY0NDI4Mg==", "bodyText": "formatting", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#discussion_r389644282", "createdAt": "2020-03-09T13:00:43Z", "author": {"login": "Krishanx92"}, "path": "components/apimgt/org.wso2.carbon.apimgt.tracing/src/main/java/org/wso2/carbon/apimgt/tracing/Util.java", "diffHunk": "@@ -49,10 +49,14 @@ public static TracingSpan startSpan(String spanName, TracingSpan parentSpan, Tra\n         } else {\n             Object sp = parentSpan.getSpan();\n             Span childSpan;\n-            if (sp instanceof Span) {\n-                childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((Span) sp).start();\n-            } else {\n-                childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((SpanContext) sp).start();\n+            if (sp != null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTUwNzkw", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#pullrequestreview-371150790", "createdAt": "2020-03-09T13:00:49Z", "commit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTUwOTI1", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#pullrequestreview-371150925", "createdAt": "2020-03-09T13:00:57Z", "commit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzowMDo1N1rOFzmAfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzowMDo1N1rOFzmAfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY0NDQxNA==", "bodyText": "formatting", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#discussion_r389644414", "createdAt": "2020-03-09T13:00:57Z", "author": {"login": "Krishanx92"}, "path": "components/apimgt/org.wso2.carbon.apimgt.tracing/src/main/java/org/wso2/carbon/apimgt/tracing/Util.java", "diffHunk": "@@ -49,10 +49,14 @@ public static TracingSpan startSpan(String spanName, TracingSpan parentSpan, Tra\n         } else {\n             Object sp = parentSpan.getSpan();\n             Span childSpan;\n-            if (sp instanceof Span) {\n-                childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((Span) sp).start();\n-            } else {\n-                childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((SpanContext) sp).start();\n+            if (sp != null){\n+                if (sp instanceof Span) {\n+                    childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((Span) sp).start();\n+                } else {\n+                    childSpan = tracer.getTracingTracer().buildSpan(spanName).asChildOf((SpanContext) sp).start();\n+                }\n+            }else{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "802bbdf997b9c9ba9a93da1c08c987e6f979cb5f", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/802bbdf997b9c9ba9a93da1c08c987e6f979cb5f", "committedDate": "2020-03-09T12:33:55Z", "message": "fix tracing issues"}, "afterCommit": {"oid": "12005dd56b02fe96e8ba537c65c01f6deeedbb77", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/12005dd56b02fe96e8ba537c65c01f6deeedbb77", "committedDate": "2020-03-10T07:05:55Z", "message": "fix tracing issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12005dd56b02fe96e8ba537c65c01f6deeedbb77", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/12005dd56b02fe96e8ba537c65c01f6deeedbb77", "committedDate": "2020-03-10T07:05:55Z", "message": "fix tracing issues"}, "afterCommit": {"oid": "1ca8b72321063f87026c15f04171cf6e10df5c57", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1ca8b72321063f87026c15f04171cf6e10df5c57", "committedDate": "2020-03-10T10:05:16Z", "message": "fix tracing issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bf018b4422800b80f3e0750534f4aaaa6bb360d", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9bf018b4422800b80f3e0750534f4aaaa6bb360d", "committedDate": "2020-03-10T11:31:59Z", "message": "fix tracing issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ca8b72321063f87026c15f04171cf6e10df5c57", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1ca8b72321063f87026c15f04171cf6e10df5c57", "committedDate": "2020-03-10T10:05:16Z", "message": "fix tracing issues"}, "afterCommit": {"oid": "9bf018b4422800b80f3e0750534f4aaaa6bb360d", "author": {"user": {"login": "tharindu1st", "name": "Tharindu Dasun Dharmarathna"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9bf018b4422800b80f3e0750534f4aaaa6bb360d", "committedDate": "2020-03-10T11:31:59Z", "message": "fix tracing issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxODc2MTk5", "url": "https://github.com/wso2/carbon-apimgt/pull/8327#pullrequestreview-371876199", "createdAt": "2020-03-10T11:37:19Z", "commit": {"oid": "9bf018b4422800b80f3e0750534f4aaaa6bb360d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2966, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}