{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0ODY3NTU5", "number": 9019, "title": " Refine Error handling for gateway Rest API", "bodyText": "Related to wso2/product-apim#8246", "createdAt": "2020-07-22T04:09:56Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9019", "merged": true, "mergeCommit": {"oid": "06db9bfa296e5e6e9adbc34c238f5e3968276118"}, "closed": true, "closedAt": "2020-07-22T14:42:48Z", "author": {"login": "Sarangan0219"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3S0slAH2gAyNDU0ODY3NTU5OmRhZDM0ZDBhNWM2OTBmYmJjZGFmNDQ0NmEwMDVjZjkyZTBhODYzOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNSubLgFqTQ5NzQ1OTQwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dad34d0a5c690fbbcdaf4446a005cf92e0a86393", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dad34d0a5c690fbbcdaf4446a005cf92e0a86393", "committedDate": "2020-07-22T04:07:46Z", "message": "handle error in gatewayRESTAPI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "361080aec243f1942053ea5db9b5b82219c376b3", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/361080aec243f1942053ea5db9b5b82219c376b3", "committedDate": "2020-07-22T04:18:16Z", "message": "Adding error handling in gateway startup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e9ae44f6923017fe021caa8f14a9e08034111fd5", "committedDate": "2020-07-22T05:53:03Z", "message": "Add debug logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjYwMDY3", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453260067", "createdAt": "2020-07-22T12:17:38Z", "commit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjoxNzozOFrOG1fxqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjoxNzozOFrOG1fxqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0ODMzMA==", "bodyText": "Do we need these escapes?", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458748330", "createdAt": "2020-07-22T12:17:38Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/InMemoryAPIDeployer.java", "diffHunk": "@@ -72,15 +73,24 @@ public boolean deployAPI(String apiId, String gatewayLabel) {\n                     if (gatewayRuntimeArtifact != null) {\n                         GatewayAPIDTO gatewayAPIDTO = new Gson().fromJson(gatewayRuntimeArtifact, GatewayAPIDTO.class);\n                         apiGatewayAdmin.deployAPI(gatewayAPIDTO);\n+                        if (debugEnabled) {\n+                            log.debug(\"API with \" + apiId + \" is deployed in gateway with the label of \" + gatewayLabel);\n+                        }\n                         return true;\n                     } else {\n-                        log.error(\"Error retrieving artifacts for API \" + apiId + \". Storage returned null\");\n+                        String msg = \"Error retrieving artifacts for API \" + apiId + \". Storage returned null\";\n+                        log.error(msg);\n+                        throw new ArtifactSynchronizerException(msg);\n                     }\n                 } catch (IOException | ArtifactSynchronizerException e) {\n-                    log.error(\"Error deploying \" + apiId + \" in Gateway\", e);\n+                    String msg = \"\\\"Error deploying \\\" + apiId + \\\" in Gateway\\\"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae94c47533b0f41ccd7818f935d646fa9926bb0d", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ae94c47533b0f41ccd7818f935d646fa9926bb0d", "committedDate": "2020-07-22T12:21:40Z", "message": "refractor code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjY0NjU5", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453264659", "createdAt": "2020-07-22T12:24:16Z", "commit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjoyNDoxNlrOG1f_QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjozMjo1NFrOG1gShA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1MTgwOA==", "bodyText": "Since this is a lable, shall we change the debug message to the label. Also can we just print the environment? This is the environment object?", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458751808", "createdAt": "2020-07-22T12:24:16Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -679,6 +695,9 @@ private void addEndpoints(API api, APITemplateBuilder builder, GatewayAPIDTO gat\n         if (api.getGatewayLabels() != null) {\n             for (Label label : api.getGatewayLabels()) {\n                 Environment environment = getEnvironmentFromLabel(label);\n+                if (debugEnabled) {\n+                    log.debug(api.getId() + \"removing from the environment of \" + environment);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1MjI0Nw==", "bodyText": "you can't print the environment object. Print the environment name from the for loop.", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458752247", "createdAt": "2020-07-22T12:25:03Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -671,6 +684,9 @@ private void addEndpoints(API api, APITemplateBuilder builder, GatewayAPIDTO gat\n                 if (environment == null) {\n                     continue;\n                 }\n+                if (debugEnabled) {\n+                    log.debug(api.getId() + \"removing from the environment of \" + environment);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mzc0NQ==", "bodyText": "We can't print the environment object. Print the environment name", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458753745", "createdAt": "2020-07-22T12:27:41Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -137,6 +137,9 @@ public synchronized static APIGatewayManager getInstance() {\n                 if (environment == null) {\n                     continue;\n                 }\n+                if (debugEnabled) {\n+                    log.debug(api.getId() + \"publishing to the environment of \" + environment);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1NDA5Nw==", "bodyText": "Since this is a label, change the debug message to label. Change the environment object to environment name", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458754097", "createdAt": "2020-07-22T12:28:21Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -145,6 +148,9 @@ public synchronized static APIGatewayManager getInstance() {\n         if (api.getGatewayLabels() != null) {\n             for (Label label : api.getGatewayLabels()) {\n                 Environment environment = getEnvironmentFromLabel(label);\n+                if (debugEnabled) {\n+                    log.debug(api.getId() + \" publishing to the environment of \" + environment);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1NTIxNg==", "bodyText": "Shall we handle this before?  in handleNotificationMessage method?", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458755216", "createdAt": "2020-07-22T12:30:19Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/listeners/GatewayJMSMessageListener.java", "diffHunk": "@@ -93,12 +98,13 @@ public void onMessage(Message message) {\n             } else {\n                 log.warn(\"Dropping the empty/null event received through jms receiver\");\n             }\n-        } catch (JMSException e) {\n+        } catch (JMSException | ArtifactSynchronizerException e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1NjIyMw==", "bodyText": "Also, you might need to add a space between apiID and debug message.", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458756223", "createdAt": "2020-07-22T12:31:58Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -679,6 +695,9 @@ private void addEndpoints(API api, APITemplateBuilder builder, GatewayAPIDTO gat\n         if (api.getGatewayLabels() != null) {\n             for (Label label : api.getGatewayLabels()) {\n                 Environment environment = getEnvironmentFromLabel(label);\n+                if (debugEnabled) {\n+                    log.debug(api.getId() + \"removing from the environment of \" + environment);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1MTgwOA=="}, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1NjM2Nw==", "bodyText": "add a space after api id", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458756367", "createdAt": "2020-07-22T12:32:14Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -730,6 +749,9 @@ private void addEndpoints(API api, APITemplateBuilder builder, GatewayAPIDTO gat\n                 artifactSaver.saveArtifact(new Gson().toJson(gatewayAPIDTO), environment.getName(),\n                         APIConstants.GatewayArtifactSynchronizer.GATEWAY_INSTRUCTION_REMOVE);\n                 removedGateways.add(environment.getName());\n+                if (debugEnabled) {\n+                    log.debug(\"Status of \" + api.getId() + \"has been updated to DB\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 154}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Njc0MA==", "bodyText": "Typo and add a space", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458756740", "createdAt": "2020-07-22T12:32:54Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/utils/APIUtil.java", "diffHunk": "@@ -589,7 +590,16 @@ public static CloseableHttpResponse executeHTTPRequest(HttpRequestBase method, H\n                 }\n             }\n         } while (retry);\n-        return httpResponse;\n+\n+        if (httpResponse.getStatusLine().getStatusCode() == 200) {\n+            return httpResponse;\n+        } else {\n+            httpResponse.close();\n+            String errorMessage = EntityUtils.toString(httpResponse.getEntity(),\n+                    APIConstants.DigestAuthConstants.CHARSET);\n+            throw new ArtifactSynchronizerException(errorMessage + \"Eevnthub status code is:\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ae44f6923017fe021caa8f14a9e08034111fd5"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29a2e4bba591e33476f9fcce64bd8668945123c4", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/29a2e4bba591e33476f9fcce64bd8668945123c4", "committedDate": "2020-07-22T12:42:59Z", "message": "Refractor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c06b11bd310c530687fc3d64bf68b9097a1201d", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0c06b11bd310c530687fc3d64bf68b9097a1201d", "committedDate": "2020-07-22T12:45:36Z", "message": "Refractor code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzMyMzkw", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453332390", "createdAt": "2020-07-22T13:45:32Z", "commit": {"oid": "0c06b11bd310c530687fc3d64bf68b9097a1201d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0NTozM1rOG1jIIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0NTozM1rOG1jIIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgwMzIzNA==", "bodyText": "Without throwing this exception from here, shall we add a try catch block and capture the exception inside this method", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458803234", "createdAt": "2020-07-22T13:45:33Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/listeners/GatewayJMSMessageListener.java", "diffHunk": "@@ -93,12 +98,13 @@ public void onMessage(Message message) {\n             } else {\n                 log.warn(\"Dropping the empty/null event received through jms receiver\");\n             }\n-        } catch (JMSException e) {\n+        } catch (JMSException | ArtifactSynchronizerException e) {\n             log.error(\"JMSException occurred when processing the received message \", e);\n         }\n     }\n \n-    private void handleNotificationMessage(String eventType, long timestamp, String encodedEvent) {\n+    private void handleNotificationMessage(String eventType, long timestamp, String encodedEvent)\n+            throws ArtifactSynchronizerException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c06b11bd310c530687fc3d64bf68b9097a1201d"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzM0NjUw", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453334650", "createdAt": "2020-07-22T13:47:57Z", "commit": {"oid": "0c06b11bd310c530687fc3d64bf68b9097a1201d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0Nzo1N1rOG1jOxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0Nzo1N1rOG1jOxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgwNDkzMg==", "bodyText": "Change the debug message to API with api ID is publishing to gateway with label", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458804932", "createdAt": "2020-07-22T13:47:57Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -145,6 +149,10 @@ public synchronized static APIGatewayManager getInstance() {\n         if (api.getGatewayLabels() != null) {\n             for (Label label : api.getGatewayLabels()) {\n                 Environment environment = getEnvironmentFromLabel(label);\n+                if (debugEnabled) {\n+                    log.debug(\"API with \" + api.getId() + \" and label \" + label + \" is publishing to the \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c06b11bd310c530687fc3d64bf68b9097a1201d"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b56e3e82804d8002c3efac4f6c5e1de4286823d", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6b56e3e82804d8002c3efac4f6c5e1de4286823d", "committedDate": "2020-07-22T14:26:41Z", "message": "Refractor code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzc2Njg5", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453376689", "createdAt": "2020-07-22T14:31:47Z", "commit": {"oid": "6b56e3e82804d8002c3efac4f6c5e1de4286823d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMTo0OFrOG1lOKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDozMTo0OFrOG1lOKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgzNzU0NQ==", "bodyText": "removing?", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r458837545", "createdAt": "2020-07-22T14:31:48Z", "author": {"login": "1akshitha"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIGatewayManager.java", "diffHunk": "@@ -137,6 +137,10 @@ public synchronized static APIGatewayManager getInstance() {\n                 if (environment == null) {\n                     continue;\n                 }\n+                if (debugEnabled) {\n+                    log.debug(\"API with \" + api.getId() + \" is removing from the environment of \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b56e3e82804d8002c3efac4f6c5e1de4286823d"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33db9c95aae321571063de252285271a8381ca02", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/33db9c95aae321571063de252285271a8381ca02", "committedDate": "2020-07-22T14:35:14Z", "message": "Refractor code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzg2NjQ1", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-453386645", "createdAt": "2020-07-22T14:42:00Z", "commit": {"oid": "33db9c95aae321571063de252285271a8381ca02"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NDU5NDAw", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#pullrequestreview-497459400", "createdAt": "2020-09-28T12:27:15Z", "commit": {"oid": "33db9c95aae321571063de252285271a8381ca02"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjoyNzoxNVrOHY7TLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjoyNzoxNVrOHY7TLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg5OTQzOQ==", "bodyText": "Better if we can check whether debug is enabled before logging this.", "url": "https://github.com/wso2/carbon-apimgt/pull/9019#discussion_r495899439", "createdAt": "2020-09-28T12:27:15Z", "author": {"login": "isuruh15"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/InMemoryAPIDeployer.java", "diffHunk": "@@ -200,16 +236,22 @@ public GatewayAPIDTO getAPIArtifact(String apiId, String gatewayLabel) {\n      *@param tenantDomain - Tenant Domain of the API\n      * @return Map that contains the UUID and label of the API\n      */\n-    public Map <String, String> getGatewayAPIAttributes(String apiName, String version, String tenantDomain) {\n+    public Map <String, String> getGatewayAPIAttributes(String apiName, String version, String tenantDomain)\n+            throws  ArtifactSynchronizerException {\n         Map<String, String> apiAttributes = null;\n         if (artifactRetriever != null) {\n             try {\n                 apiAttributes = artifactRetriever.retrieveAttributes(apiName, version, tenantDomain);\n+                log.debug(\"API Attributes retrieved for \" + apiName + \"  from storage\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33db9c95aae321571063de252285271a8381ca02"}, "originalPosition": 166}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2512, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}