{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNjE0MTU2", "number": 9340, "title": "[Add Feature] Synchronizing Throttle Policies within Traffic Manager nodes", "bodyText": "Fixes wso2/product-apim#9412\nConfig to be added to exclude throttle policies redeploy on startup\n<TM_HOME>/repository/conf/deployment.toml\n[apim.throttling]\nskip_redeploying_policies=[\"carbon.super_app_unitApp\",\"carbon.super_app_20PerMin\"]", "createdAt": "2020-10-27T09:46:06Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9340", "merged": true, "mergeCommit": {"oid": "ff0dbb6dd56e597c5d3b655e2e472bfd8eaae076"}, "closed": true, "closedAt": "2020-11-09T03:25:56Z", "author": {"login": "ChamodDamitha"}, "timelineItems": {"totalCount": 32, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWl3eZgBqjM5MjQ5NTUwODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdar1Y9ABqjM5NzE1OTA5OTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f64ff48478d22a4f86fed672d8c0fbdde64e1a64", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f64ff48478d22a4f86fed672d8c0fbdde64e1a64", "committedDate": "2020-10-27T09:43:26Z", "message": "Remove throttel policy deploying code from impl"}, "afterCommit": {"oid": "f791a97135684eb574604087f22a97f6281abeb6", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f791a97135684eb574604087f22a97f6281abeb6", "committedDate": "2020-10-27T09:50:21Z", "message": "Remove throttle policy deploying code from impl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7037b8c4f4056ab8588098861feaa6ccf6a9069b", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/7037b8c4f4056ab8588098861feaa6ccf6a9069b", "committedDate": "2020-10-27T10:03:46Z", "message": "REfactor code"}, "afterCommit": {"oid": "3dd07b3576bb1c08a8d198c7577cf4a0d5e02ea3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3dd07b3576bb1c08a8d198c7577cf4a0d5e02ea3", "committedDate": "2020-10-27T10:09:58Z", "message": "Refactor code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3dd07b3576bb1c08a8d198c7577cf4a0d5e02ea3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3dd07b3576bb1c08a8d198c7577cf4a0d5e02ea3", "committedDate": "2020-10-27T10:09:58Z", "message": "Refactor code"}, "afterCommit": {"oid": "f7c549975af78b2aceb3338e80b755df03253b07", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f7c549975af78b2aceb3338e80b755df03253b07", "committedDate": "2020-10-27T13:28:33Z", "message": "Refactor code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7c549975af78b2aceb3338e80b755df03253b07", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f7c549975af78b2aceb3338e80b755df03253b07", "committedDate": "2020-10-27T13:28:33Z", "message": "Refactor code"}, "afterCommit": {"oid": "d6c0bab3f9475610cc4c4a613f4d2dbf89b0b7f4", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d6c0bab3f9475610cc4c4a613f4d2dbf89b0b7f4", "committedDate": "2020-10-27T14:47:33Z", "message": "Refactor code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6c0bab3f9475610cc4c4a613f4d2dbf89b0b7f4", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d6c0bab3f9475610cc4c4a613f4d2dbf89b0b7f4", "committedDate": "2020-10-27T14:47:33Z", "message": "Refactor code"}, "afterCommit": {"oid": "54dc603e96ca96b0de0eb52358959f0f5a4df438", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/54dc603e96ca96b0de0eb52358959f0f5a4df438", "committedDate": "2020-10-27T15:08:52Z", "message": "Refactor code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f150db77644e21162d5e860f401854fd1abca564", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f150db77644e21162d5e860f401854fd1abca564", "committedDate": "2020-10-29T06:40:15Z", "message": "Fix review comments"}, "afterCommit": {"oid": "6587d4e8b616071dd17bc8e9fddf491d7454f4d3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6587d4e8b616071dd17bc8e9fddf491d7454f4d3", "committedDate": "2020-10-29T08:06:34Z", "message": "Fix review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6587d4e8b616071dd17bc8e9fddf491d7454f4d3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/6587d4e8b616071dd17bc8e9fddf491d7454f4d3", "committedDate": "2020-10-29T08:06:34Z", "message": "Fix review comments"}, "afterCommit": {"oid": "aff6ca3353ae3834c505d605ebdde4c88786c732", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aff6ca3353ae3834c505d605ebdde4c88786c732", "committedDate": "2020-10-30T05:23:01Z", "message": "Fix review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aff6ca3353ae3834c505d605ebdde4c88786c732", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/aff6ca3353ae3834c505d605ebdde4c88786c732", "committedDate": "2020-10-30T05:23:01Z", "message": "Fix review comments"}, "afterCommit": {"oid": "f5043fe7808485346dc20353b6580055481fe659", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f5043fe7808485346dc20353b6580055481fe659", "committedDate": "2020-10-31T11:48:29Z", "message": "Fix review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5043fe7808485346dc20353b6580055481fe659", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f5043fe7808485346dc20353b6580055481fe659", "committedDate": "2020-10-31T11:48:29Z", "message": "Fix review comments"}, "afterCommit": {"oid": "5501df3f70a4d3c4d4576dd9d55dc9cee644438e", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5501df3f70a4d3c4d4576dd9d55dc9cee644438e", "committedDate": "2020-11-01T10:50:50Z", "message": "Fix review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5501df3f70a4d3c4d4576dd9d55dc9cee644438e", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5501df3f70a4d3c4d4576dd9d55dc9cee644438e", "committedDate": "2020-11-01T10:50:50Z", "message": "Fix review comments"}, "afterCommit": {"oid": "bcd8270cb88450c0330c92612e261e10a3d6beb0", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/bcd8270cb88450c0330c92612e261e10a3d6beb0", "committedDate": "2020-11-02T03:18:54Z", "message": "Fix review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bcd8270cb88450c0330c92612e261e10a3d6beb0", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/bcd8270cb88450c0330c92612e261e10a3d6beb0", "committedDate": "2020-11-02T03:18:54Z", "message": "Fix review comments"}, "afterCommit": {"oid": "823559b3ddac1652e41ec9846000be2bf0457549", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/823559b3ddac1652e41ec9846000be2bf0457549", "committedDate": "2020-11-02T10:19:36Z", "message": "Add checkstyle and findbugs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "823559b3ddac1652e41ec9846000be2bf0457549", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/823559b3ddac1652e41ec9846000be2bf0457549", "committedDate": "2020-11-02T10:19:36Z", "message": "Add checkstyle and findbugs"}, "afterCommit": {"oid": "ef1865b6801dc18269b30d356c278460277e9c93", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ef1865b6801dc18269b30d356c278460277e9c93", "committedDate": "2020-11-05T11:22:32Z", "message": "Update skip redeploying policies config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMzMyOTY5", "url": "https://github.com/wso2/carbon-apimgt/pull/9340#pullrequestreview-521332969", "createdAt": "2020-11-02T05:03:17Z", "commit": {"oid": "bcd8270cb88450c0330c92612e261e10a3d6beb0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNTowMzoxOFrOHr2XEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNTowMzoxOFrOHr2XEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc0MTQ1Nw==", "bodyText": "we can use array of", "url": "https://github.com/wso2/carbon-apimgt/pull/9340#discussion_r515741457", "createdAt": "2020-11-02T05:03:18Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIManagerConfiguration.java", "diffHunk": "@@ -854,6 +854,14 @@ private void setThrottleProperties(OMElement element) {\n                 throttleProperties.setEnableQueryParamConditions(JavaUtils.isTrueExplicitly(enableQueryParamElement\n                         .getText()));\n             }\n+            // Check excluded throttle policies\n+            OMElement excludedThrottlePoliciesElement = throttleConfigurationElement\n+                    .getFirstChildWithName(new QName(APIConstants.AdvancedThrottleConstants\n+                            .EXCLUDE_THROTTLE_POLICIES));\n+            if (excludedThrottlePoliciesElement != null) {\n+                throttleProperties.setExcludedThrottlePolicies(excludedThrottlePoliciesElement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcd8270cb88450c0330c92612e261e10a3d6beb0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d3c730b6984e102727ab3b6e4a299256f3c86d7", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3d3c730b6984e102727ab3b6e4a299256f3c86d7", "committedDate": "2020-11-09T03:01:39Z", "message": "Add throttle policy deployer module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "791746cd23455ac16e6fb8a7aa45b5fb37cb9e52", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/791746cd23455ac16e6fb8a7aa45b5fb37cb9e52", "committedDate": "2020-11-09T03:01:39Z", "message": "Add policy template builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10d6ff48663de1b896708cf667efa03732410928", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/10d6ff48663de1b896708cf667efa03732410928", "committedDate": "2020-11-09T03:01:39Z", "message": "Add event processor service call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "775ad8c286c08bae2d7f23bd00c13266d805de37", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/775ad8c286c08bae2d7f23bd00c13266d805de37", "committedDate": "2020-11-09T03:01:39Z", "message": "Refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2766dbb0d5809d86e6dd17dac32f24a13decaf0b", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2766dbb0d5809d86e6dd17dac32f24a13decaf0b", "committedDate": "2020-11-09T03:01:39Z", "message": "Add subscription policy loader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d1d74778c4f549f948e4ba2e100e5bcc7063fd9", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/3d1d74778c4f549f948e4ba2e100e5bcc7063fd9", "committedDate": "2020-11-09T03:01:39Z", "message": "Add application policy deploying functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95ddd567b57b356ff09c3d2e528cc43b5484cf37", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/95ddd567b57b356ff09c3d2e528cc43b5484cf37", "committedDate": "2020-11-09T03:01:39Z", "message": "Add API policy deploying support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac344356d2eb66c8693658dec48c6318be34cfa9", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ac344356d2eb66c8693658dec48c6318be34cfa9", "committedDate": "2020-11-09T03:01:40Z", "message": "Add Global policy deploying support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc691f8d1c8216efa1ace969653208d8ee749440", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dc691f8d1c8216efa1ace969653208d8ee749440", "committedDate": "2020-11-09T03:01:40Z", "message": "Add excluded policies config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58344bf999f7ff55bfae7e2ef3572b7ecdd69cfa", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/58344bf999f7ff55bfae7e2ef3572b7ecdd69cfa", "committedDate": "2020-11-09T03:01:40Z", "message": "Fix startup errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d43a67ddd3834d3c9f5ad759a4e45e5555a8ac2c", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d43a67ddd3834d3c9f5ad759a4e45e5555a8ac2c", "committedDate": "2020-11-09T03:01:40Z", "message": "Add PolicyUtil test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77038ba1d54c4b1caf572aaa249007b24ebc258b", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/77038ba1d54c4b1caf572aaa249007b24ebc258b", "committedDate": "2020-11-09T03:01:40Z", "message": "Fix tenant policy deploying"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a563fa404f9eecd9b8310f851b6cc069a020852", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2a563fa404f9eecd9b8310f851b6cc069a020852", "committedDate": "2020-11-09T03:01:40Z", "message": "ThrottlingPolicyTemplateBuilder Test Cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "030aa57d3d2d0d2e96a6b3d03d2e29ec4aa1dd31", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/030aa57d3d2d0d2e96a6b3d03d2e29ec4aa1dd31", "committedDate": "2020-11-09T03:01:40Z", "message": "Remove throttle policy deploying code from impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53af53590df3b94b8a665c03f1d19016f40c14f5", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/53af53590df3b94b8a665c03f1d19016f40c14f5", "committedDate": "2020-11-09T03:01:40Z", "message": "Refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfe95a24d1e9961e67152b2b880533233a140a3", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4bfe95a24d1e9961e67152b2b880533233a140a3", "committedDate": "2020-11-09T03:01:40Z", "message": "Fix review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66a93be4583f9c114aef6ebb41c3aaa6bda97b4e", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/66a93be4583f9c114aef6ebb41c3aaa6bda97b4e", "committedDate": "2020-11-09T03:01:40Z", "message": "Add checkstyle and findbugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b524b64e0923e358eb9deca9e42b8ccce1e984e9", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b524b64e0923e358eb9deca9e42b8ccce1e984e9", "committedDate": "2020-11-09T03:03:06Z", "message": "Update skip redeploying policies config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef1865b6801dc18269b30d356c278460277e9c93", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ef1865b6801dc18269b30d356c278460277e9c93", "committedDate": "2020-11-05T11:22:32Z", "message": "Update skip redeploying policies config"}, "afterCommit": {"oid": "b524b64e0923e358eb9deca9e42b8ccce1e984e9", "author": {"user": {"login": "ChamodDamitha", "name": "Chamod Damitha Samarajeewa"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b524b64e0923e358eb9deca9e42b8ccce1e984e9", "committedDate": "2020-11-09T03:03:06Z", "message": "Update skip redeploying policies config"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3079, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}