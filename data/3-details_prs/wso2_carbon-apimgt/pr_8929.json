{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NDA2MDQx", "number": 8929, "title": "Resolve DB2, Oracle and MSSQL syntax issues", "bodyText": "Both primary key and unique constraint create an underlying unique index. And since (most of the time) there's no sense in creating twice the same index, Oracle checks and forbids this .Thus this PR removes unique constraint in oracle syntax.\nAdd Triggers for MSSQL , DB2 and Oracle  to update timestamps every time when the user modifies the record.\nResolve referential constraint issues in DB2", "createdAt": "2020-07-05T13:13:21Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8929", "merged": true, "mergeCommit": {"oid": "52656c7694dcf2d8849086c8e6272776b2be72f0"}, "closed": true, "closedAt": "2020-07-06T04:19:15Z", "author": {"login": "Sarangan0219"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcx8aBhAH2gAyNDQ0NDA2MDQxOjJiMzcxYmZhOTlmMjQ4NjJkM2MxNDZlOTM1NDExMzg5ODk2OTU0YTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyJZTqgFqTQ0Mjc2NTI1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b371bfa99f24862d3c146e935411389896954a5", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/2b371bfa99f24862d3c146e935411389896954a5", "committedDate": "2020-07-05T13:11:06Z", "message": "Rresolve syntax errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26ce0ebba0d52f953606c530f5f0fab13e46931f", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/26ce0ebba0d52f953606c530f5f0fab13e46931f", "committedDate": "2020-07-05T14:08:35Z", "message": "Create trigger for ON update timestamps in MSSQL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0a402b075224a8931a52ed8d420f7f57bb2400e", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e0a402b075224a8931a52ed8d420f7f57bb2400e", "committedDate": "2020-07-05T14:34:21Z", "message": "Resolve runtime errors in script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46776e4f885f3fbc7aff75811056470c4014e044", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/46776e4f885f3fbc7aff75811056470c4014e044", "committedDate": "2020-07-05T14:53:13Z", "message": "Resolve runtime errors in oracle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d124120dfab537f6b1709456c9ebe9411dc04793", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/d124120dfab537f6b1709456c9ebe9411dc04793", "committedDate": "2020-07-05T16:44:13Z", "message": "remove unique constraint in oracle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzAyNzM5", "url": "https://github.com/wso2/carbon-apimgt/pull/8929#pullrequestreview-442702739", "createdAt": "2020-07-05T20:01:03Z", "commit": {"oid": "d124120dfab537f6b1709456c9ebe9411dc04793"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNVQyMDowMTowM1rOGtEh1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNVQyMDowMTowM1rOGtEh1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTkxMzMwMQ==", "bodyText": "shall we fix this?", "url": "https://github.com/wso2/carbon-apimgt/pull/8929#discussion_r449913301", "createdAt": "2020-07-05T20:01:03Z", "author": {"login": "Arshardh"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/mssql.sql", "diffHunk": "@@ -2047,25 +2047,37 @@ CREATE TABLE AM_KEY_MANAGER (\n   );\n \n IF NOT  EXISTS (SELECT * FROM SYS.OBJECTS WHERE OBJECT_ID = OBJECT_ID(N'[DBO].[AM_GW_PUBLISHED_API_DETAILS]') AND TYPE IN (N'U'))\n-CREATE TABLE IF NOT EXISTS AM_GW_PUBLISHED_API_DETAILS (\n+CREATE TABLE  AM_GW_PUBLISHED_API_DETAILS (\n   API_ID varchar(255) NOT NULL,\n   TENANT_DOMAIN varchar(255),\n-  API_PROVIDER varchar(255),\n+  API_PROVIDEta),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d124120dfab537f6b1709456c9ebe9411dc04793"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b82c3da97e20e9617deed4295b2208523f377e4", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/0b82c3da97e20e9617deed4295b2208523f377e4", "committedDate": "2020-07-06T03:19:41Z", "message": "Resolve issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65f3425feba10d32efce8182c4dbb45e1fd0c8ec", "author": {"user": {"login": "Sarangan0219", "name": "Sarangan"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/65f3425feba10d32efce8182c4dbb45e1fd0c8ec", "committedDate": "2020-07-06T04:15:08Z", "message": "Combining DB opeartions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzY1MjUx", "url": "https://github.com/wso2/carbon-apimgt/pull/8929#pullrequestreview-442765251", "createdAt": "2020-07-06T04:19:05Z", "commit": {"oid": "65f3425feba10d32efce8182c4dbb45e1fd0c8ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2556, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}