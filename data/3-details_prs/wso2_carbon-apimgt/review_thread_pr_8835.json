{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5NzAzNzk3", "number": 8835, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNjo0OTo0NlrOEIoe_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDo0MDo1NlrOEJFk6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDg3MzU4OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIProviderImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNjo0OTo0NlrOGothTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNzowNzozM1rOGot9kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0MjAyOA==", "bodyText": "TrafficManager or EventHub?", "url": "https://github.com/wso2/carbon-apimgt/pull/8835#discussion_r445342028", "createdAt": "2020-06-25T06:49:46Z", "author": {"login": "isharac"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIProviderImpl.java", "diffHunk": "@@ -6851,7 +6852,7 @@ private void publishKeyTemplateEvent(String templateValue, String state) {\n \n \n         if (throttleProperties.getDataPublisher() != null && throttleProperties.getDataPublisher().isEnabled()) {\n-            APIUtil.publishEvent(APIConstants.BLOCKING_EVENT_PUBLISHER, Collections.EMPTY_MAP, keyTemplateMessage);\n+            APIUtil.publishEventToTrafficManager(Collections.EMPTY_MAP, keyTemplateMessage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "834dd02fa8b8acddff42e8b018f35c6cb29e8677"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0OTI2Ng==", "bodyText": "this is correct", "url": "https://github.com/wso2/carbon-apimgt/pull/8835#discussion_r445349266", "createdAt": "2020-06-25T07:07:33Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIProviderImpl.java", "diffHunk": "@@ -6851,7 +6852,7 @@ private void publishKeyTemplateEvent(String templateValue, String state) {\n \n \n         if (throttleProperties.getDataPublisher() != null && throttleProperties.getDataPublisher().isEnabled()) {\n-            APIUtil.publishEvent(APIConstants.BLOCKING_EVENT_PUBLISHER, Collections.EMPTY_MAP, keyTemplateMessage);\n+            APIUtil.publishEventToTrafficManager(Collections.EMPTY_MAP, keyTemplateMessage);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0MjAyOA=="}, "originalCommit": {"oid": "834dd02fa8b8acddff42e8b018f35c6cb29e8677"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDkwMzQ1OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.internal.service.feature/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNzowMTo0MFrOGot0GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNzowMTo0MFrOGot0GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0Njg0MA==", "bodyText": "old license header", "url": "https://github.com/wso2/carbon-apimgt/pull/8835#discussion_r445346840", "createdAt": "2020-06-25T07:01:40Z", "author": {"login": "isharac"}, "path": "features/apimgt/org.wso2.carbon.apimgt.internal.service.feature/pom.xml", "diffHunk": "@@ -0,0 +1,163 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<!--\n+ ~ Copyright (c) 2010-2011, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "834dd02fa8b8acddff42e8b018f35c6cb29e8677"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDkxNTAwOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.internal.service.feature/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNzowNjowMVrOGot7Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNzowNjowMVrOGot7Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0ODY2Mw==", "bodyText": "shouldn't this be copied to web apps?", "url": "https://github.com/wso2/carbon-apimgt/pull/8835#discussion_r445348663", "createdAt": "2020-06-25T07:06:01Z", "author": {"login": "isharac"}, "path": "features/apimgt/org.wso2.carbon.apimgt.internal.service.feature/pom.xml", "diffHunk": "@@ -0,0 +1,163 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<!--\n+ ~ Copyright (c) 2010-2011, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ ~\n+ ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ ~ you may not use this file except in compliance with the License.\n+ ~ You may obtain a copy of the License at\n+ ~\n+ ~      http://www.apache.org/licenses/LICENSE-2.0\n+ ~\n+ ~ Unless required by applicable law or agreed to in writing, software\n+ ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ ~ See the License for the specific language governing permissions and\n+ ~ limitations under the License.\n+-->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n+    <parent>\n+        <groupId>org.wso2.carbon.apimgt</groupId>\n+        <artifactId>apimgt-feature</artifactId>\n+        <version>6.7.31-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <modelVersion>4.0.0</modelVersion>\n+    <artifactId>org.wso2.carbon.apimgt.internal.service.feature</artifactId>\n+    <packaging>pom</packaging>\n+    <name>WSO2 Carbon - Api management Internal Data Service Feature</name>\n+    <url>http://wso2.org</url>\n+\n+    <description>\n+        This feature contains Internal Data Service required to Retrieve Events.\n+    </description>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.wso2.carbon.apimgt</groupId>\n+            <artifactId>org.wso2.carbon.apimgt.api</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.wso2.carbon.apimgt</groupId>\n+            <artifactId>org.wso2.carbon.apimgt.impl</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.wso2.carbon.apimgt</groupId>\n+            <artifactId>org.wso2.carbon.apimgt.internal.service</artifactId>\n+            <type>war</type>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.wso2.uri.template</groupId>\n+            <artifactId>wso2-uri-templates</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>commons-codec</groupId>\n+            <artifactId>commons-codec</artifactId>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>copy-resources</id>\n+                        <!--phase>generate-resources</phase-->\n+                        <phase>package</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>src/main/resources</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>resources</directory>\n+                                    <includes>\n+                                        <include>p2.inf</include>\n+                                    </includes>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-dependency-plugin</artifactId>\n+                <version>2.10</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy</id>\n+                        <phase>package</phase>\n+                        <goals>\n+                            <goal>copy</goal>\n+                        </goals>\n+                        <configuration>\n+                            <artifactItems>\n+                                <artifactItem>\n+                                    <groupId>org.wso2.carbon.apimgt</groupId>\n+                                    <artifactId>org.wso2.carbon.apimgt.internal.service</artifactId>\n+                                    <overWrite>true</overWrite>\n+                                    <type>war</type>\n+                                    <outputDirectory>${basedir}/src/main/resources/</outputDirectory>\n+                                    <destFileName>internal#data#v1.war</destFileName>\n+                                </artifactItem>\n+                            </artifactItems>\n+                            <outputDirectory>${project.build.directory}/external/libs</outputDirectory>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "834dd02fa8b8acddff42e8b018f35c6cb29e8677"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTY0MDExOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/jwt/RevokedJWTTokensRetriever.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDo0MDo1NlrOGpcQfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDo0MDo1NlrOGpcQfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjEwNzc3Mw==", "bodyText": "we don't need this comment now", "url": "https://github.com/wso2/carbon-apimgt/pull/8835#discussion_r446107773", "createdAt": "2020-06-26T10:40:56Z", "author": {"login": "isharac"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/jwt/RevokedJWTTokensRetriever.java", "diffHunk": "@@ -62,13 +63,10 @@ public void run() {\n \n         try {\n             // The resource resides in the throttle web app. Hence reading throttle configs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c40154816c0069a52d76747a90b9699073eaa4eb"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3211, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}