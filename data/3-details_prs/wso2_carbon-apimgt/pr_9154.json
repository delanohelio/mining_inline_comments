{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1Mjg3NzQx", "number": 9154, "title": "[Admin Portal][UI]Update error message on application ownership change", "bodyText": "Description\nWhen changing the ownership of an application using the admin portal UI,\nwhen the target application owner is a valid subscriber and hasn't logged into the devportal at least once,\nthe REST API responses with 500. But since this is a special troubleshooting step which is included in the docs too, we need to display a meaningful Error alert.\n\nPlease note that the separate API call which is used for checking the target owner is a subscriber or not is returning with true even if that user hasn't logged into the devportal at least once. (which is expected behavior IMO). Therefore, the error message update is needed.\n\nThis PR updates the error message to Error while updating ownership to <owner>", "createdAt": "2020-08-10T05:47:33Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9154", "merged": true, "mergeCommit": {"oid": "3cb7efe1e6a7bf1c09df2e0e2e606b02b350f682"}, "closed": true, "closedAt": "2021-02-12T06:46:58Z", "author": {"login": "chathuranga95"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9beA8gH2gAyNDY1Mjg3NzQxOmI2YjNlZGNiMmNiZGExNTQ3MzEwM2E1ZDI2NzZiMDZlMDYzZjU3N2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-t3SNAH2gAyNDY1Mjg3NzQxOjEzNmU4NTE2M2IzZDExNmY5MTE2ZDI5OTEzOWRlYjEwZDdiODJhNjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b6b3edcb2cbda15473103a5d2676b06e063f577a", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/b6b3edcb2cbda15473103a5d2676b06e063f577a", "committedDate": "2020-08-10T05:35:41Z", "message": "Update error message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NDc4NzQ0", "url": "https://github.com/wso2/carbon-apimgt/pull/9154#pullrequestreview-464478744", "createdAt": "2020-08-10T18:37:33Z", "commit": {"oid": "b6b3edcb2cbda15473103a5d2676b06e063f577a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxODozNzozM1rOG-ap8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxODozNzozM1rOG-ap8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODEwMTYxNg==", "bodyText": "catch clause could catch none-HTTP exceptions, in that case, error object will not have a body or code , so we need to do a sanity check here, We can use optional chaining here\nif (response?.body?.code === 500)", "url": "https://github.com/wso2/carbon-apimgt/pull/9154#discussion_r468101616", "createdAt": "2020-08-10T18:37:33Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/ApplicationSettings/EditApplication.jsx", "diffHunk": "@@ -124,8 +124,9 @@ function Edit(props) {\n                 })\n                 .catch((error) => {\n                     const { response } = error;\n-                    if (response.body) {\n-                        throw response.body.description;\n+                    if (response.body.code === 500) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6b3edcb2cbda15473103a5d2676b06e063f577a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e218dec7a0576687cb375829d06a5a5bb2b90708", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e218dec7a0576687cb375829d06a5a5bb2b90708", "committedDate": "2020-08-11T04:23:51Z", "message": "Handle non-http exceptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NzYwMTk5", "url": "https://github.com/wso2/carbon-apimgt/pull/9154#pullrequestreview-464760199", "createdAt": "2020-08-11T05:36:00Z", "commit": {"oid": "e218dec7a0576687cb375829d06a5a5bb2b90708"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "136e85163b3d116f9116d299139deb10d7b82a69", "author": {"user": {"login": "chathuranga95", "name": "ChathurangaS"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/136e85163b3d116f9116d299139deb10d7b82a69", "committedDate": "2020-08-14T05:35:30Z", "message": "Improve owner validation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2478, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}