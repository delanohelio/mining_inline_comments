{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1OTY2MTgw", "number": 8203, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwODo0NTowNVrODgmyrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMToxMDo1NlrODgp2_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTE2NTg5OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwODo0NTowNVrOFq5hlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMToxNDoxOFrOFq-fCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNjk5Ng==", "bodyText": "Why we need to do a force update here ?", "url": "https://github.com/wso2/carbon-apimgt/pull/8203#discussion_r380526996", "createdAt": "2020-02-18T08:45:05Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "diffHunk": "@@ -0,0 +1,107 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied. See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import swaggerUIConstructor, { presets } from 'swagger-ui';\n+\n+/**\n+ *\n+ *\n+ * @export\n+ * @class SwaggerUI\n+ * @extends {React.Component}\n+ */\n+export default class PatchedSwaggerUI extends React.Component {\n+    constructor(props) {\n+        super(props);\n+        this.SwaggerUIComponent = null;\n+        this.system = null;\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @memberof SwaggerUI\n+     */\n+    componentDidMount() {\n+        const ui = swaggerUIConstructor({\n+            spec: this.props.spec,\n+            url: this.props.url,\n+            defaultModelsExpandDepth: this.props.defaultModelsExpandDepth,\n+            presets: [presets.apis, ...this.props.presets],\n+            requestInterceptor: this.requestInterceptor,\n+            responseInterceptor: this.responseInterceptor,\n+            onComplete: this.onComplete,\n+            docExpansion: this.props.docExpansion,\n+            supportedSubmitMethods: [],\n+        });\n+\n+        this.system = ui;\n+        this.SwaggerUIComponent = ui.getComponent('App', 'root');\n+\n+        this.forceUpdate();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78a2f9262fdd61e9502116a6686d2c30e624cf8e"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYwNTM2MQ==", "bodyText": "Otherwise, it will not render in the component is loaded for the first time. We have to edit the definition.\nWith forceUpdate(), it renders properly.", "url": "https://github.com/wso2/carbon-apimgt/pull/8203#discussion_r380605361", "createdAt": "2020-02-18T11:08:06Z", "author": {"login": "menakaj"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "diffHunk": "@@ -0,0 +1,107 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied. See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import swaggerUIConstructor, { presets } from 'swagger-ui';\n+\n+/**\n+ *\n+ *\n+ * @export\n+ * @class SwaggerUI\n+ * @extends {React.Component}\n+ */\n+export default class PatchedSwaggerUI extends React.Component {\n+    constructor(props) {\n+        super(props);\n+        this.SwaggerUIComponent = null;\n+        this.system = null;\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @memberof SwaggerUI\n+     */\n+    componentDidMount() {\n+        const ui = swaggerUIConstructor({\n+            spec: this.props.spec,\n+            url: this.props.url,\n+            defaultModelsExpandDepth: this.props.defaultModelsExpandDepth,\n+            presets: [presets.apis, ...this.props.presets],\n+            requestInterceptor: this.requestInterceptor,\n+            responseInterceptor: this.responseInterceptor,\n+            onComplete: this.onComplete,\n+            docExpansion: this.props.docExpansion,\n+            supportedSubmitMethods: [],\n+        });\n+\n+        this.system = ui;\n+        this.SwaggerUIComponent = ui.getComponent('App', 'root');\n+\n+        this.forceUpdate();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNjk5Ng=="}, "originalCommit": {"oid": "78a2f9262fdd61e9502116a6686d2c30e624cf8e"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYwODI2NA==", "bodyText": "Can't we keep the definition in a state ?, I think we should avoid using forceUpdates. Which change cause a difference in forceUpdate rendered output here?", "url": "https://github.com/wso2/carbon-apimgt/pull/8203#discussion_r380608264", "createdAt": "2020-02-18T11:14:18Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "diffHunk": "@@ -0,0 +1,107 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied. See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import swaggerUIConstructor, { presets } from 'swagger-ui';\n+\n+/**\n+ *\n+ *\n+ * @export\n+ * @class SwaggerUI\n+ * @extends {React.Component}\n+ */\n+export default class PatchedSwaggerUI extends React.Component {\n+    constructor(props) {\n+        super(props);\n+        this.SwaggerUIComponent = null;\n+        this.system = null;\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @memberof SwaggerUI\n+     */\n+    componentDidMount() {\n+        const ui = swaggerUIConstructor({\n+            spec: this.props.spec,\n+            url: this.props.url,\n+            defaultModelsExpandDepth: this.props.defaultModelsExpandDepth,\n+            presets: [presets.apis, ...this.props.presets],\n+            requestInterceptor: this.requestInterceptor,\n+            responseInterceptor: this.responseInterceptor,\n+            onComplete: this.onComplete,\n+            docExpansion: this.props.docExpansion,\n+            supportedSubmitMethods: [],\n+        });\n+\n+        this.system = ui;\n+        this.SwaggerUIComponent = ui.getComponent('App', 'root');\n+\n+        this.forceUpdate();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNjk5Ng=="}, "originalCommit": {"oid": "78a2f9262fdd61e9502116a6686d2c30e624cf8e"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTY2ODQ2OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMToxMDo1NlrOFq-YrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMToxMzo1MlrOFq-eJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYwNjYzNw==", "bodyText": "Why we disable this eslint rule ??", "url": "https://github.com/wso2/carbon-apimgt/pull/8203#discussion_r380606637", "createdAt": "2020-02-18T11:10:56Z", "author": {"login": "tmkasun"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "diffHunk": "@@ -0,0 +1,107 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied. See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import swaggerUIConstructor, { presets } from 'swagger-ui';\n+\n+/**\n+ *\n+ *\n+ * @export\n+ * @class SwaggerUI\n+ * @extends {React.Component}\n+ */\n+export default class PatchedSwaggerUI extends React.Component {\n+    constructor(props) {\n+        super(props);\n+        this.SwaggerUIComponent = null;\n+        this.system = null;\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @memberof SwaggerUI\n+     */\n+    componentDidMount() {\n+        const ui = swaggerUIConstructor({\n+            spec: this.props.spec,\n+            url: this.props.url,\n+            defaultModelsExpandDepth: this.props.defaultModelsExpandDepth,\n+            presets: [presets.apis, ...this.props.presets],\n+            requestInterceptor: this.requestInterceptor,\n+            responseInterceptor: this.responseInterceptor,\n+            onComplete: this.onComplete,\n+            docExpansion: this.props.docExpansion,\n+            supportedSubmitMethods: [],\n+        });\n+\n+        this.system = ui;\n+        this.SwaggerUIComponent = ui.getComponent('App', 'root');\n+\n+        this.forceUpdate();\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @param {*} prevProps\n+     * @memberof SwaggerUI\n+     */\n+    // eslint-disable-next-line react/sort-comp", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78a2f9262fdd61e9502116a6686d2c30e624cf8e"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYwODAzNg==", "bodyText": "Fixed 8dd051b", "url": "https://github.com/wso2/carbon-apimgt/pull/8203#discussion_r380608036", "createdAt": "2020-02-18T11:13:52Z", "author": {"login": "menakaj"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/APIDefinition/swaggerUI/PatchedSwaggerUIReact.jsx", "diffHunk": "@@ -0,0 +1,107 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied. See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import swaggerUIConstructor, { presets } from 'swagger-ui';\n+\n+/**\n+ *\n+ *\n+ * @export\n+ * @class SwaggerUI\n+ * @extends {React.Component}\n+ */\n+export default class PatchedSwaggerUI extends React.Component {\n+    constructor(props) {\n+        super(props);\n+        this.SwaggerUIComponent = null;\n+        this.system = null;\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @memberof SwaggerUI\n+     */\n+    componentDidMount() {\n+        const ui = swaggerUIConstructor({\n+            spec: this.props.spec,\n+            url: this.props.url,\n+            defaultModelsExpandDepth: this.props.defaultModelsExpandDepth,\n+            presets: [presets.apis, ...this.props.presets],\n+            requestInterceptor: this.requestInterceptor,\n+            responseInterceptor: this.responseInterceptor,\n+            onComplete: this.onComplete,\n+            docExpansion: this.props.docExpansion,\n+            supportedSubmitMethods: [],\n+        });\n+\n+        this.system = ui;\n+        this.SwaggerUIComponent = ui.getComponent('App', 'root');\n+\n+        this.forceUpdate();\n+    }\n+\n+    /**\n+     *\n+     *\n+     * @param {*} prevProps\n+     * @memberof SwaggerUI\n+     */\n+    // eslint-disable-next-line react/sort-comp", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYwNjYzNw=="}, "originalCommit": {"oid": "78a2f9262fdd61e9502116a6686d2c30e624cf8e"}, "originalPosition": 67}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2877, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}