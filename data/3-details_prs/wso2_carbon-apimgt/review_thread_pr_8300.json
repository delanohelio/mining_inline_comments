{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTEzMDg5", "number": 8300, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTo1MDoxNVrODk-gmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMTo1NToxM1rODlp_Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMDk5NDgzOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTo1MDoxNVrOFxmd8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTo1MDoxNVrOFxmd8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1NDgwMQ==", "bodyText": "This may cause null pointer exception, ArrayIndexOutofBound exception if the servers are not defined.\nNeed to check whether the openAPI.getServers() method for null.", "url": "https://github.com/wso2/carbon-apimgt/pull/8300#discussion_r387554801", "createdAt": "2020-03-04T09:50:15Z", "author": {"login": "menakaj"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "diffHunk": "@@ -506,7 +507,8 @@ public APIDefinitionValidationResponse validateAPIDefinition(String apiDefinitio\n             OpenAPI openAPI = parseAttemptForV3.getOpenAPI();\n             io.swagger.v3.oas.models.info.Info info = openAPI.getInfo();\n             OASParserUtil.updateValidationResponseAsSuccess(validationResponse, apiDefinition, openAPI.getOpenapi(),\n-                    info.getTitle(), info.getVersion(), null, info.getDescription());\n+                    info.getTitle(), info.getVersion(), null, info.getDescription(),\n+                    openAPI.getServers().get(0).getUrl());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddb9971bebeb4d576e0d556d58707138875cd7b6"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMTQ0OTA3OnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjoxMjowMlrOFxq2ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjoxMjowMlrOFxq2ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYyNjYzNA==", "bodyText": "Shouldn't we check null and empty both? Below is also a valid one.\nservers:\n  []", "url": "https://github.com/wso2/carbon-apimgt/pull/8300#discussion_r387626634", "createdAt": "2020-03-04T12:12:02Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "diffHunk": "@@ -506,7 +507,8 @@ public APIDefinitionValidationResponse validateAPIDefinition(String apiDefinitio\n             OpenAPI openAPI = parseAttemptForV3.getOpenAPI();\n             io.swagger.v3.oas.models.info.Info info = openAPI.getInfo();\n             OASParserUtil.updateValidationResponseAsSuccess(validationResponse, apiDefinition, openAPI.getOpenapi(),\n-                    info.getTitle(), info.getVersion(), null, info.getDescription());\n+                    info.getTitle(), info.getVersion(), null, info.getDescription(),\n+                    openAPI.getServers()==null ? null : openAPI.getServers().get(0).getUrl());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41ae626b1d124549970b73844c4cf03699c98c62"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODExODIyOnYy", "diffSide": "RIGHT", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMTo1NToxM1rOFyq1BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNDoyMToyNFrOGJiq7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDgyMQ==", "bodyText": "Let's return all the endpoints from the REST API side and take one from the UI. It is better to have some sort of a way to select one of those endpoints or provide a different one in the UI.", "url": "https://github.com/wso2/carbon-apimgt/pull/8300#discussion_r388674821", "createdAt": "2020-03-06T01:55:13Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "diffHunk": "@@ -8879,6 +8879,9 @@ definitions:\n           openAPIVersion:\n             type: string\n             example: \"3.0.0\"\n+          endpoint:\n+            type: string\n+            example: \"https://localhost:9443/am/sample/pizzashack/v1/api/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a86233e8f248ff4097675b3c73bc6c154fff9a13"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDExNzkyNQ==", "bodyText": "@isuruh15  Can you please have a look on the above suggestion?", "url": "https://github.com/wso2/carbon-apimgt/pull/8300#discussion_r410117925", "createdAt": "2020-04-17T09:52:30Z", "author": {"login": "tmkasun"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "diffHunk": "@@ -8879,6 +8879,9 @@ definitions:\n           openAPIVersion:\n             type: string\n             example: \"3.0.0\"\n+          endpoint:\n+            type: string\n+            example: \"https://localhost:9443/am/sample/pizzashack/v1/api/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDgyMQ=="}, "originalCommit": {"oid": "a86233e8f248ff4097675b3c73bc6c154fff9a13"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY1ODQxMg==", "bodyText": "resolved in commit 1817a80", "url": "https://github.com/wso2/carbon-apimgt/pull/8300#discussion_r412658412", "createdAt": "2020-04-22T04:21:24Z", "author": {"login": "isuruh15"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.publisher.v1/src/main/resources/publisher-api.yaml", "diffHunk": "@@ -8879,6 +8879,9 @@ definitions:\n           openAPIVersion:\n             type: string\n             example: \"3.0.0\"\n+          endpoint:\n+            type: string\n+            example: \"https://localhost:9443/am/sample/pizzashack/v1/api/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDgyMQ=="}, "originalCommit": {"oid": "a86233e8f248ff4097675b3c73bc6c154fff9a13"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2817, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}