{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NDY0NzU4", "number": 8630, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMzo0MjoxNlrOECKKoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMzo0MjozNlrOECKLJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjk5MTY5OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/db2.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMzo0MjoxNlrOGecaGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTowNTo0MVrOGegOsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU3NTg5Nw==", "bodyText": "remove this", "url": "https://github.com/wso2/carbon-apimgt/pull/8630#discussion_r434575897", "createdAt": "2020-06-03T13:42:16Z", "author": {"login": "tharindu1st"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/db2.sql", "diffHunk": "@@ -2018,6 +2017,23 @@ CREATE TABLE AM_API_URL_MAPPING (\n             PRIMARY KEY (URL_MAPPING_ID)\n )/\n \n+CREATE TABLE AM_API_RESOURCE_SCOPE_MAPPING (\n+            SCOPE_NAME VARCHAR(255) NOT NULL,\n+            URL_MAPPING_ID INTEGER NOT NULL,\n+            TENANT_ID INTEGER NOT NULL,\n+            FOREIGN KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n+            PRIMARY KEY(SCOPE_NAME, URL_MAPPING_ID)\n+)/\n+\n+CREATE TABLE AM_KM_MGT_APPLICATION (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3938dde78f505205999046bfaec93572d83219c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYzODUxNQ==", "bodyText": "done", "url": "https://github.com/wso2/carbon-apimgt/pull/8630#discussion_r434638515", "createdAt": "2020-06-03T15:05:41Z", "author": {"login": "dushaniw"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/db2.sql", "diffHunk": "@@ -2018,6 +2017,23 @@ CREATE TABLE AM_API_URL_MAPPING (\n             PRIMARY KEY (URL_MAPPING_ID)\n )/\n \n+CREATE TABLE AM_API_RESOURCE_SCOPE_MAPPING (\n+            SCOPE_NAME VARCHAR(255) NOT NULL,\n+            URL_MAPPING_ID INTEGER NOT NULL,\n+            TENANT_ID INTEGER NOT NULL,\n+            FOREIGN KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n+            PRIMARY KEY(SCOPE_NAME, URL_MAPPING_ID)\n+)/\n+\n+CREATE TABLE AM_KM_MGT_APPLICATION (", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU3NTg5Nw=="}, "originalCommit": {"oid": "e3938dde78f505205999046bfaec93572d83219c"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjk5MzAzOnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/mssql.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMzo0MjozNlrOGecbDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTowNTo0OFrOGegPJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU3NjE0MQ==", "bodyText": "same goes here", "url": "https://github.com/wso2/carbon-apimgt/pull/8630#discussion_r434576141", "createdAt": "2020-06-03T13:42:36Z", "author": {"login": "tharindu1st"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/mssql.sql", "diffHunk": "@@ -1439,6 +1438,27 @@ CREATE TABLE AM_API_URL_MAPPING (\n     PRIMARY KEY (URL_MAPPING_ID)\n );\n \n+IF NOT  EXISTS (SELECT * FROM SYS.OBJECTS WHERE OBJECT_ID = OBJECT_ID(N'[DBO].[AM_API_RESOURCE_SCOPE_MAPPING]') AND TYPE IN (N'U'))\n+\n+CREATE TABLE AM_API_RESOURCE_SCOPE_MAPPING (\n+    SCOPE_NAME VARCHAR(255) NOT NULL,\n+    URL_MAPPING_ID INTEGER NOT NULL,\n+    TENANT_ID INTEGER NOT NULL,\n+    FOREIGN KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n+    PRIMARY KEY(SCOPE_NAME, URL_MAPPING_ID)\n+);\n+\n+IF NOT  EXISTS (SELECT * FROM SYS.OBJECTS WHERE OBJECT_ID = OBJECT_ID(N'[DBO].[AM_KM_MGT_APPLICATION]') AND TYPE IN (N'U'))\n+\n+CREATE TABLE AM_KM_MGT_APPLICATION (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3938dde78f505205999046bfaec93572d83219c"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYzODYzMA==", "bodyText": "done", "url": "https://github.com/wso2/carbon-apimgt/pull/8630#discussion_r434638630", "createdAt": "2020-06-03T15:05:48Z", "author": {"login": "dushaniw"}, "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/mssql.sql", "diffHunk": "@@ -1439,6 +1438,27 @@ CREATE TABLE AM_API_URL_MAPPING (\n     PRIMARY KEY (URL_MAPPING_ID)\n );\n \n+IF NOT  EXISTS (SELECT * FROM SYS.OBJECTS WHERE OBJECT_ID = OBJECT_ID(N'[DBO].[AM_API_RESOURCE_SCOPE_MAPPING]') AND TYPE IN (N'U'))\n+\n+CREATE TABLE AM_API_RESOURCE_SCOPE_MAPPING (\n+    SCOPE_NAME VARCHAR(255) NOT NULL,\n+    URL_MAPPING_ID INTEGER NOT NULL,\n+    TENANT_ID INTEGER NOT NULL,\n+    FOREIGN KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n+    PRIMARY KEY(SCOPE_NAME, URL_MAPPING_ID)\n+);\n+\n+IF NOT  EXISTS (SELECT * FROM SYS.OBJECTS WHERE OBJECT_ID = OBJECT_ID(N'[DBO].[AM_KM_MGT_APPLICATION]') AND TYPE IN (N'U'))\n+\n+CREATE TABLE AM_KM_MGT_APPLICATION (", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU3NjE0MQ=="}, "originalCommit": {"oid": "e3938dde78f505205999046bfaec93572d83219c"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3318, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}