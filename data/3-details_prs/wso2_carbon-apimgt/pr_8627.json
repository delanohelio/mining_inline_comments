{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MzYyMzA5", "number": 8627, "title": "Simplifying Complex Customizations of DTOs related to Advanced Throtttling Policy admin REST APIs", "bodyText": "Purpose\nThe admin v0.16 REST APIs requires the request bodies of several Advanced Throttling Policy related APIs to have the polymorphic formats which is complex. This PR simplifies several complex customizations of DTOs to remove the polymorphic request bodies of Advanced Throttling Policy related APIs.\nApproach\nCurrently, the conditions array of conditional groups property of the request bodies is having the following formats.\n\"conditions\":\n[\n    {\n        \"type\": \"IPCondition\",\n         \"invertCondition\": false,\n         \"ipConditionType\": \"IPSpecific\",\n         \"specificIP\": \"10.100.1.22\",\n         \"startingIP\": null,\n         \"endingIP\": null\n     },\n     {\n         \"type\": \"HeaderCondition\",\n         \"invertCondition\": false,\n         \"headerName\": \"Location\",\n         \"headerValue\": \"google.com\"\n     },\n     {\n         \"type\": \"QueryParameterCondition\",\n         \"invertCondition\": false,\n         \"parameterName\": \"name\",\n         \"parameterValue\": \"admin\"\n     },\n     {\n         \"type\": \"JWTClaimsCondition\",\n         \"invertCondition\": true,\n         \"claimUrl\": \"claimUrl0\",\n         \"attribute\": \"claimAttr0\"\n     }\n]\n\nThe the conditions array of conditional groups property format has been changed to the following.\n\"conditions\":          \n[\n    {\n        \"type\": \"IPCONDITION\", \n        \"ipCondition\": \n        {\n            \"invertCondition\": false,\n            \"ipConditionType\": \"IPSPECIFIC\",\n            \"specificIP\": \"10.100.1.22\",\n            \"startingIP\": null,\n            \"endingIP\": null\n        }\n    },\n    {\n        \"type\": \"HEADERCONDITION\", \n        \"headerCondition\":\n        {\n            \"invertCondition\": false,\n            \"headerName\": \"Host\",\n            \"headerValue\": \"10.100.7.77\"\n        }\n    },\n    {\n        \"type\": \"QUERYPARAMETERCONDITION\", \n        \"queryParameterCondition\":\n        {\n            \"invertCondition\": false,\n            \"parameterName\": \"name\",\n            \"parameterValue\": \"admin\"\n        }\n    },\n    {\n        \"type\": \"JWTCLAIMSCONDITION\", \n        \"jwtClaimsCondition\":\n        {\n            \"invertCondition\": true,\n            \"claimUrl\": \"claimUrl0\",\n            \"attribute\": \"claimAttr0\"\n        }\n    }        \n]\n\nRelated: wso2/product-apim#8115\nFixes: wso2/product-apim#7994", "createdAt": "2020-06-02T05:39:58Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8627", "merged": true, "mergeCommit": {"oid": "a247ed92caebeb3cb87d56e65a0c7f02f825f80b"}, "closed": true, "closedAt": "2020-06-03T05:29:15Z", "author": {"login": "hisanhunais"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnJ-S3gH2gAyNDI2MzYyMzA5OmRhOTIwYmY0NWUzMWU5ZmM0Y2I5NGE5ODA0ZTFiY2E4ZDcxNjBiMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcninfTAFqTQyMzIyODEzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "da920bf45e31e9fc4cb94a9804e1bca8d7160b0e", "author": {"user": {"login": "hisanhunais", "name": null}}, "url": "https://github.com/wso2/carbon-apimgt/commit/da920bf45e31e9fc4cb94a9804e1bca8d7160b0e", "committedDate": "2020-06-02T00:46:19Z", "message": "Simplify advanced throttle policy related DTOs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4842e48293ec285a3cff0b687b9f9af3d747b5d", "author": {"user": {"login": "hisanhunais", "name": null}}, "url": "https://github.com/wso2/carbon-apimgt/commit/e4842e48293ec285a3cff0b687b9f9af3d747b5d", "committedDate": "2020-06-02T04:20:10Z", "message": "Handle throttle policy creation with empty policy name issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54458721d98de313cb8226e408b2b6cd9ce11b06", "author": {"user": {"login": "hisanhunais", "name": null}}, "url": "https://github.com/wso2/carbon-apimgt/commit/54458721d98de313cb8226e408b2b6cd9ce11b06", "committedDate": "2020-06-02T04:22:37Z", "message": "Remove unnecessary code segments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "800d15f32280c97afa1fa7593f6c804e164c000a", "author": {"user": {"login": "hisanhunais", "name": null}}, "url": "https://github.com/wso2/carbon-apimgt/commit/800d15f32280c97afa1fa7593f6c804e164c000a", "committedDate": "2020-06-02T05:34:17Z", "message": "Fix Documentation issues of methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzkwMTI0", "url": "https://github.com/wso2/carbon-apimgt/pull/8627#pullrequestreview-422390124", "createdAt": "2020-06-02T06:55:49Z", "commit": {"oid": "800d15f32280c97afa1fa7593f6c804e164c000a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNTg3Nzkz", "url": "https://github.com/wso2/carbon-apimgt/pull/8627#pullrequestreview-422587793", "createdAt": "2020-06-02T11:33:43Z", "commit": {"oid": "800d15f32280c97afa1fa7593f6c804e164c000a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMTozMzo0M1rOGdtj-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMTozMzo0M1rOGdtj-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgwODM3Ng==", "bodyText": "shall we rename this to ThrottleCondition", "url": "https://github.com/wso2/carbon-apimgt/pull/8627#discussion_r433808376", "createdAt": "2020-06-02T11:33:43Z", "author": {"login": "malinthaprasan"}, "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.admin.v1/src/main/resources/admin-api.yaml", "diffHunk": "@@ -3674,36 +3693,46 @@ definitions:\n # The Throttling Condition resource\n #-----------------------------------------------------\n   ThrottleCondition:\n-    discriminator: type\n-    x-wso2-subtypes:\n-      - HeaderCondition\n-      - IPCondition\n-      - JWTClaimsCondition\n-      - QueryParameterCondition\n     title: Conditions used for Throttling\n     description: Throttling Conditions\n-    required:\n-      - type\n     properties:\n-      type:\n-        type: string\n-        enum:\n-          - HeaderCondition\n-          - IPCondition\n-          - JWTClaimsCondition\n-          - QueryParameterCondition\n-        description: |\n-          Type of the thottling condition.\n-          Allowed values are HeaderCondition, IPCondition, JWTClaimsCondition, QueryParameterCondition\n       invertCondition:\n         type: boolean\n         default: false\n         description: |\n           Specifies whether inversion of the condition to be matched against the request.\n \n-          **Note:** When you add conditional groups for advanced throttling policies, this paramater should have the same value (`true` or `false`)\n+          **Note:** When you add conditional groups for advanced throttling policies, this paramater should have the\n+          same value ('true' or 'false')\n           for the same type of conditional group.\n \n+#-----------------------------------------------------\n+# The Throttling Condition Type resource\n+#-----------------------------------------------------\n+  ThrottleConditionType:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "800d15f32280c97afa1fa7593f6c804e164c000a"}, "originalPosition": 163}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f938646c775d34f85c7052ada516f71731e150b9", "author": {"user": {"login": "hisanhunais", "name": null}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f938646c775d34f85c7052ada516f71731e150b9", "committedDate": "2020-06-02T17:50:08Z", "message": "Rename Throttle Condition related DTO names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMjI4MTMy", "url": "https://github.com/wso2/carbon-apimgt/pull/8627#pullrequestreview-423228132", "createdAt": "2020-06-03T05:29:02Z", "commit": {"oid": "f938646c775d34f85c7052ada516f71731e150b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2688, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}