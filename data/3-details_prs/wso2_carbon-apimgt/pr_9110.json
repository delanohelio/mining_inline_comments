{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxODA2NzE1", "number": 9110, "title": "Changed the Artifact column type and fixed an intermittent error", "bodyText": "Fixed wso2/product-apim#8870 and wso2/product-apim#8871.\nChanged the Publisher and Admin UIs to display Gateway labels.", "createdAt": "2020-08-02T13:25:29Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9110", "merged": true, "mergeCommit": {"oid": "739acaf92e8d0cd96d9ef16d157229efeb889fd0"}, "closed": true, "closedAt": "2020-08-04T17:06:42Z", "author": {"login": "1akshitha"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc68zRoAH2gAyNDYxODA2NzE1OjYyZmI4ZjM0MWM0YjY3MDU4ZTM4NjY5MTQ1YTY5YWQ4Yjk5ZGYzMzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7pUv1gFqTQ2MDk4MzI2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "62fb8f341c4b67058e38669145a69ad8b99df332", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/62fb8f341c4b67058e38669145a69ad8b99df332", "committedDate": "2020-08-02T12:44:00Z", "message": "Started a tenant flow in the newly spawned thread"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5396178ce982e757f8d9673d10801ff8e78d0f71", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/5396178ce982e757f8d9673d10801ff8e78d0f71", "committedDate": "2020-08-02T12:45:41Z", "message": "Changed the artifact column type from blob to longblob in mysql"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e3cc76c9ab2e05534e3e0e6f5a4c1948a5ef413", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1e3cc76c9ab2e05534e3e0e6f5a4c1948a5ef413", "committedDate": "2020-08-02T13:39:01Z", "message": "Changed the Microgateways to Gateways in admin UI Left panel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba5ca5d04e4bdc38cf66bc9a6cc53a1ea1c6b3f9", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/ba5ca5d04e4bdc38cf66bc9a6cc53a1ea1c6b3f9", "committedDate": "2020-08-02T13:48:31Z", "message": "Changed the Gateways to gateway labels in Publisher UI under Environments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NzUzMDY0", "url": "https://github.com/wso2/carbon-apimgt/pull/9110#pullrequestreview-459753064", "createdAt": "2020-08-03T05:17:06Z", "commit": {"oid": "ba5ca5d04e4bdc38cf66bc9a6cc53a1ea1c6b3f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjM0MjEy", "url": "https://github.com/wso2/carbon-apimgt/pull/9110#pullrequestreview-460234212", "createdAt": "2020-08-03T18:03:34Z", "commit": {"oid": "ba5ca5d04e4bdc38cf66bc9a6cc53a1ea1c6b3f9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowMzozNFrOG7Df2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowMzozNFrOG7Df2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3NjQ3Mg==", "bodyText": "JMS message listener only works in super tenant Space, Therefore this was redundant.", "url": "https://github.com/wso2/carbon-apimgt/pull/9110#discussion_r464576472", "createdAt": "2020-08-03T18:03:34Z", "author": {"login": "tharindu1st"}, "path": "components/apimgt/org.wso2.carbon.apimgt.gateway/src/main/java/org/wso2/carbon/apimgt/gateway/listeners/GatewayJMSMessageListener.java", "diffHunk": "@@ -119,26 +123,44 @@ private void handleNotificationMessage(String eventType, long timestamp, String\n             gatewayEvent.getGatewayLabels().retainAll(gatewayArtifactSynchronizerProperties.getGatewayLabels());\n             if (!gatewayEvent.getGatewayLabels().isEmpty()) {\n                 String gatewayLabel = gatewayEvent.getGatewayLabels().iterator().next();\n+                String tenantDomain = PrivilegedCarbonContext.getThreadLocalCarbonContext().getTenantDomain();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba5ca5d04e4bdc38cf66bc9a6cc53a1ea1c6b3f9"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0ca5188d442023c03aae8c8a6862db89df93149", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/c0ca5188d442023c03aae8c8a6862db89df93149", "committedDate": "2020-08-04T04:26:30Z", "message": "Removed redundant tenant domain assignment\n\nJMS message listener only works in super tenant Space, checking\nfor the current tenant domain is not required and supper tenant\ncan be assigned without any issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a5e8b20186e5974ab8e2f4e663d6c6dc4e41097", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/4a5e8b20186e5974ab8e2f4e663d6c6dc4e41097", "committedDate": "2020-08-04T10:37:39Z", "message": "Added the tenant Domain to the gatewayEvent and used it to start the tenant flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98930dbca88742a1e13afff0b28c8938c52a04ce", "author": {"user": {"login": "1akshitha", "name": "Lakshitha Gunasekara"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/98930dbca88742a1e13afff0b28c8938c52a04ce", "committedDate": "2020-08-04T10:40:59Z", "message": "Removed unncessory imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTgzMjY1", "url": "https://github.com/wso2/carbon-apimgt/pull/9110#pullrequestreview-460983265", "createdAt": "2020-08-04T16:36:23Z", "commit": {"oid": "98930dbca88742a1e13afff0b28c8938c52a04ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2550, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}