{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MjE0MDc2", "number": 9076, "title": "Add support for getting isDefaultVersion details for an API in Internal data service", "bodyText": "This PR adds the functionality to support getting isDefaultVersion details for an API in Internal data service.\nRelated PR : #9044", "createdAt": "2020-07-29T06:01:01Z", "url": "https://github.com/wso2/carbon-apimgt/pull/9076", "merged": true, "mergeCommit": {"oid": "d535a260704385c53ca347a264bb8c6a208c2856"}, "closed": true, "closedAt": "2020-07-30T11:10:58Z", "author": {"login": "tharikaGitHub"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5kTJuAH2gAyNDU4MjE0MDc2OmRjNDI1OTg2YjljNWIzNDQ1MGVmZjFiN2QzN2U1MzgxYWIwZjBjODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc59BeRgFqTQ1ODI3NjI4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dc425986b9c5b34450eff1b7d37e5381ab0f0c84", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/dc425986b9c5b34450eff1b7d37e5381ab0f0c84", "committedDate": "2020-07-29T05:37:16Z", "message": "Add isDefaultVersion mapping to API object for Subscription Validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb394f0096592b0500225b0f15476373d5a60d3f", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/eb394f0096592b0500225b0f15476373d5a60d3f", "committedDate": "2020-07-29T05:37:16Z", "message": "Add functionality to get isDefaultVersion data for an API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NDQ0Njc5", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#pullrequestreview-457444679", "createdAt": "2020-07-29T11:49:52Z", "commit": {"oid": "1fd1523be812d93a03ced52015a7c9dfbb9d9620"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMTo0OTo1MlrOG4014Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMTo0OTo1MlrOG4014Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjIzOTIwMQ==", "bodyText": "@tharikaGitHub don't we hv to get the PUBLISHED_DEFAULT_API_VERSION? shall we check this", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#discussion_r462239201", "createdAt": "2020-07-29T11:49:52Z", "author": {"login": "chamilaadhi"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/constants/SubscriptionValidationSQLConstants.java", "diffHunk": "@@ -348,161 +366,256 @@\n \n     public static final String GET_TENANT_APIS_SQL =\n             \"SELECT\" +\n-                    \"        API.API_ID,\" +\n-                    \"        API.API_PROVIDER,\" +\n-                    \"        API.API_NAME,\" +\n-                    \"        API.API_TIER,\" +\n-                    \"        API.API_VERSION,\" +\n-                    \"        API.CONTEXT,\" +\n-                    \"        API.API_TYPE,\" +\n-                    \"        URL.URL_MAPPING_ID,\" +\n-                    \"        URL.HTTP_METHOD,\" +\n-                    \"        URL.AUTH_SCHEME,\" +\n-                    \"        URL.URL_PATTERN,\" +\n-                    \"        URL.THROTTLING_TIER AS RES_TIER,\" +\n-                    \"        SCOPE.SCOPE_NAME \" +\n-                    \"    FROM\" +\n-                    \"        AM_API API,\" +\n-                    \"        AM_API_URL_MAPPING URL \" +\n-                    \"    LEFT JOIN\" +\n-                    \"        AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n+                    \"   APIS.API_ID,\" +\n+                    \"   APIS.API_PROVIDER,\" +\n+                    \"   APIS.API_NAME,\" +\n+                    \"   APIS.API_TIER,\" +\n+                    \"   APIS.API_VERSION,\" +\n+                    \"   APIS.CONTEXT,\" +\n+                    \"   APIS.API_TYPE,\" +\n+                    \"   APIS.URL_MAPPING_ID,\" +\n+                    \"   APIS.HTTP_METHOD,\" +\n+                    \"   APIS.AUTH_SCHEME,\" +\n+                    \"   APIS.URL_PATTERN,\" +\n+                    \"   APIS.RES_TIER,\" +\n+                    \"   APIS.SCOPE_NAME,\" +\n+                    \"   DEF.DEFAULT_API_VERSION \" +\n+                    \"FROM\" +\n+                    \"   (\" +\n+                    \"      SELECT\" +\n+                    \"         API.API_ID,\" +\n+                    \"         API.API_PROVIDER,\" +\n+                    \"         API.API_NAME,\" +\n+                    \"         API.API_TIER,\" +\n+                    \"         API.API_VERSION,\" +\n+                    \"         API.CONTEXT,\" +\n+                    \"         API.API_TYPE,\" +\n+                    \"         URL.URL_MAPPING_ID,\" +\n+                    \"         URL.HTTP_METHOD,\" +\n+                    \"         URL.AUTH_SCHEME,\" +\n+                    \"         URL.URL_PATTERN,\" +\n+                    \"         URL.THROTTLING_TIER AS RES_TIER,\" +\n+                    \"         SCOPE.SCOPE_NAME \" +\n+                    \"      FROM\" +\n+                    \"         AM_API API,\" +\n+                    \"         AM_API_URL_MAPPING URL \" +\n+                    \"         LEFT JOIN\" +\n+                    \"            AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n                     \"            ON URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID \" +\n-                    \"    WHERE\" +\n-                    \"        API.API_ID = URL.API_ID\" +\n-                    \"        AND CONTEXT LIKE ?  \" +\n-                    \"    UNION ALL\" +\n-                    \"    SELECT\" +\n-                    \"        API.API_ID,\" +\n-                    \"        API.API_PROVIDER,\" +\n-                    \"        API.API_NAME,\" +\n-                    \"        API.API_TIER,\" +\n-                    \"        API.API_VERSION,\" +\n-                    \"        API.CONTEXT,\" +\n-                    \"        API.API_TYPE,\" +\n-                    \"        URL.URL_MAPPING_ID,\" +\n-                    \"        URL.HTTP_METHOD,\" +\n-                    \"        URL.AUTH_SCHEME,\" +\n-                    \"        URL.URL_PATTERN,\" +\n-                    \"        URL.THROTTLING_TIER AS RES_TIER,\" +\n-                    \"        SCOPE.SCOPE_NAME \" +\n-                    \"    FROM\" +\n-                    \"        AM_API API,\" +\n-                    \"        AM_API_PRODUCT_MAPPING PROD,\" +\n-                    \"        AM_API_URL_MAPPING URL \" +\n-                    \"    LEFT JOIN\" +\n-                    \"        AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n+                    \"      WHERE\" +\n+                    \"         API.API_ID = URL.API_ID \" +\n+                    \"         AND CONTEXT LIKE ? \" +\n+                    \"      UNION ALL\" +\n+                    \"      SELECT\" +\n+                    \"         API.API_ID,\" +\n+                    \"         API.API_PROVIDER,\" +\n+                    \"         API.API_NAME,\" +\n+                    \"         API.API_TIER,\" +\n+                    \"         API.API_VERSION,\" +\n+                    \"         API.CONTEXT,\" +\n+                    \"         API.API_TYPE,\" +\n+                    \"         URL.URL_MAPPING_ID,\" +\n+                    \"         URL.HTTP_METHOD,\" +\n+                    \"         URL.AUTH_SCHEME,\" +\n+                    \"         URL.URL_PATTERN,\" +\n+                    \"         URL.THROTTLING_TIER AS RES_TIER,\" +\n+                    \"         SCOPE.SCOPE_NAME \" +\n+                    \"      FROM\" +\n+                    \"         AM_API API,\" +\n+                    \"         AM_API_PRODUCT_MAPPING PROD,\" +\n+                    \"         AM_API_URL_MAPPING URL \" +\n+                    \"         LEFT JOIN\" +\n+                    \"            AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n                     \"            ON URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID \" +\n-                    \"    WHERE\" +\n-                    \"        URL.URL_MAPPING_ID = PROD.URL_MAPPING_ID \" +\n-                    \"        AND API.API_ID = PROD.API_ID\" +\n-                    \"        AND CONTEXT LIKE ?\";\n+                    \"      WHERE\" +\n+                    \"         URL.URL_MAPPING_ID = PROD.URL_MAPPING_ID \" +\n+                    \"         AND API.API_ID = PROD.API_ID \" +\n+                    \"         AND CONTEXT LIKE ? \" +\n+                    \"   )\" +\n+                    \"   AS APIS \" +\n+                    \"   LEFT JOIN\" +\n+                    \"      AM_API_DEFAULT_VERSION AS DEF \" +\n+                    \"      ON APIS.API_NAME = DEF.API_NAME \" +\n+                    \"      AND APIS.API_PROVIDER = DEF.API_PROVIDER \" +\n+                    \"      AND APIS.API_VERSION = DEF.DEFAULT_API_VERSION\";\n \n     public static final String GET_ST_APIS_SQL =\n             \"SELECT\" +\n-                    \"        API.API_ID,\" +\n-                    \"        API.API_PROVIDER,\" +\n-                    \"        API.API_NAME,\" +\n-                    \"        API.API_TIER,\" +\n-                    \"        API.API_VERSION,\" +\n-                    \"        API.CONTEXT,\" +\n-                    \"        API.API_TYPE,\" +\n-                    \"        URL.URL_MAPPING_ID,\" +\n-                    \"        URL.HTTP_METHOD,\" +\n-                    \"        URL.AUTH_SCHEME,\" +\n-                    \"        URL.URL_PATTERN,\" +\n-                    \"        URL.THROTTLING_TIER AS RES_TIER,\" +\n-                    \"        SCOPE.SCOPE_NAME \" +\n-                    \"    FROM\" +\n-                    \"        AM_API API,\" +\n-                    \"        AM_API_URL_MAPPING URL \" +\n-                    \"    LEFT JOIN\" +\n-                    \"        AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n+                    \"   APIS.API_ID,\" +\n+                    \"   APIS.API_PROVIDER,\" +\n+                    \"   APIS.API_NAME,\" +\n+                    \"   APIS.API_TIER,\" +\n+                    \"   APIS.API_VERSION,\" +\n+                    \"   APIS.CONTEXT,\" +\n+                    \"   APIS.API_TYPE,\" +\n+                    \"   APIS.URL_MAPPING_ID,\" +\n+                    \"   APIS.HTTP_METHOD,\" +\n+                    \"   APIS.AUTH_SCHEME,\" +\n+                    \"   APIS.URL_PATTERN,\" +\n+                    \"   APIS.RES_TIER,\" +\n+                    \"   APIS.SCOPE_NAME,\" +\n+                    \"   DEF.DEFAULT_API_VERSION \" +\n+                    \"FROM\" +\n+                    \"   (\" +\n+                    \"      SELECT\" +\n+                    \"         API.API_ID,\" +\n+                    \"         API.API_PROVIDER,\" +\n+                    \"         API.API_NAME,\" +\n+                    \"         API.API_TIER,\" +\n+                    \"         API.API_VERSION,\" +\n+                    \"         API.CONTEXT,\" +\n+                    \"         API.API_TYPE,\" +\n+                    \"         URL.URL_MAPPING_ID,\" +\n+                    \"         URL.HTTP_METHOD,\" +\n+                    \"         URL.AUTH_SCHEME,\" +\n+                    \"         URL.URL_PATTERN,\" +\n+                    \"         URL.THROTTLING_TIER AS RES_TIER,\" +\n+                    \"         SCOPE.SCOPE_NAME \" +\n+                    \"      FROM\" +\n+                    \"         AM_API API,\" +\n+                    \"         AM_API_URL_MAPPING URL \" +\n+                    \"         LEFT JOIN\" +\n+                    \"            AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n                     \"            ON URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID \" +\n-                    \"    WHERE\" +\n-                    \"        API.API_ID = URL.API_ID\" +\n-                    \"        AND CONTEXT NOT LIKE ?  \" +\n-                    \"    UNION\" +\n-                    \"    SELECT\" +\n-                    \"        API.API_ID,\" +\n-                    \"        API.API_PROVIDER,\" +\n-                    \"        API.API_NAME,\" +\n-                    \"        API.API_TIER,\" +\n-                    \"        API.API_VERSION,\" +\n-                    \"        API.CONTEXT,\" +\n-                    \"        API.API_TYPE,\" +\n-                    \"        URL.URL_MAPPING_ID,\" +\n-                    \"        URL.HTTP_METHOD,\" +\n-                    \"        URL.AUTH_SCHEME,\" +\n-                    \"        URL.URL_PATTERN,\" +\n-                    \"        URL.THROTTLING_TIER AS RES_TIER,\" +\n-                    \"        SCOPE.SCOPE_NAME \" +\n-                    \"    FROM\" +\n-                    \"        AM_API API,\" +\n-                    \"        AM_API_PRODUCT_MAPPING PROD,\" +\n-                    \"        AM_API_URL_MAPPING URL \" +\n-                    \"    LEFT JOIN\" +\n-                    \"        AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n+                    \"      WHERE\" +\n+                    \"         API.API_ID = URL.API_ID \" +\n+                    \"         AND CONTEXT NOT LIKE ? \" +\n+                    \"      UNION\" +\n+                    \"      SELECT\" +\n+                    \"         API.API_ID,\" +\n+                    \"         API.API_PROVIDER,\" +\n+                    \"         API.API_NAME,\" +\n+                    \"         API.API_TIER,\" +\n+                    \"         API.API_VERSION,\" +\n+                    \"         API.CONTEXT,\" +\n+                    \"         API.API_TYPE,\" +\n+                    \"         URL.URL_MAPPING_ID,\" +\n+                    \"         URL.HTTP_METHOD,\" +\n+                    \"         URL.AUTH_SCHEME,\" +\n+                    \"         URL.URL_PATTERN,\" +\n+                    \"         URL.THROTTLING_TIER AS RES_TIER,\" +\n+                    \"         SCOPE.SCOPE_NAME \" +\n+                    \"      FROM\" +\n+                    \"         AM_API API,\" +\n+                    \"         AM_API_PRODUCT_MAPPING PROD,\" +\n+                    \"         AM_API_URL_MAPPING URL \" +\n+                    \"         LEFT JOIN\" +\n+                    \"            AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n                     \"            ON URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID \" +\n-                    \"    WHERE\" +\n-                    \"        URL.URL_MAPPING_ID = PROD.URL_MAPPING_ID \" +\n-                    \"        AND API.API_ID = PROD.API_ID\" +\n-                    \"        AND CONTEXT NOT LIKE ?\";\n+                    \"      WHERE\" +\n+                    \"         URL.URL_MAPPING_ID = PROD.URL_MAPPING_ID \" +\n+                    \"         AND API.API_ID = PROD.API_ID \" +\n+                    \"         AND CONTEXT NOT LIKE ? \" +\n+                    \"   )\" +\n+                    \"   AS APIS \" +\n+                    \"   LEFT JOIN\" +\n+                    \"      AM_API_DEFAULT_VERSION AS DEF \" +\n+                    \"      ON APIS.API_NAME = DEF.API_NAME \" +\n+                    \"      AND APIS.API_PROVIDER = DEF.API_PROVIDER \" +\n+                    \"      AND APIS.API_VERSION = DEF.DEFAULT_API_VERSION\";\n \n     public static final String GET_API_SQL =\n             \"SELECT \" +\n-                    \"  API.API_ID,\" +\n-                    \"  API.API_PROVIDER,\" +\n-                    \"  API.API_NAME,\" +\n-                    \"  API.API_TIER,\" +\n-                    \"  API.API_VERSION,\" +\n-                    \"  API.CONTEXT, \" +\n-                    \"  API.API_TYPE, \" +\n-                    \"  URL.URL_MAPPING_ID,\" +\n-                    \"  URL.HTTP_METHOD,\" +\n-                    \"  URL.AUTH_SCHEME,\" +\n-                    \"  URL.URL_PATTERN,\" +\n-                    \"  URL.THROTTLING_TIER AS RES_TIER,\" +\n-                    \"  SCOPE.SCOPE_NAME \" +\n-                    \" FROM \" +\n-                    \"   AM_API API,\" +\n-                    \"   AM_API_URL_MAPPING URL\" +\n-                    \" LEFT JOIN \" +\n-                    \"  AM_API_RESOURCE_SCOPE_MAPPING SCOPE \" +\n-                    \" ON \" +\n-                    \"  URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID \" +\n-                    \" WHERE \" +\n-                    \"   API.API_ID = URL.API_ID AND \" +\n-                    \"   API.API_VERSION = ? AND \" +\n-                    \"   API.CONTEXT = ?\";\n+                    \"   APIS.API_ID,\" +\n+                    \"   APIS.API_PROVIDER,\" +\n+                    \"   APIS.API_NAME,\" +\n+                    \"   APIS.API_TIER,\" +\n+                    \"   APIS.API_VERSION,\" +\n+                    \"   APIS.CONTEXT,\" +\n+                    \"   APIS.API_TYPE,\" +\n+                    \"   APIS.URL_MAPPING_ID,\" +\n+                    \"   APIS.HTTP_METHOD,\" +\n+                    \"   APIS.AUTH_SCHEME,\" +\n+                    \"   APIS.URL_PATTERN,\" +\n+                    \"   APIS.RES_TIER,\" +\n+                    \"   APIS.SCOPE_NAME,\" +\n+                    \"   DEF.DEFAULT_API_VERSION \" +\n+                    \"FROM \" +\n+                    \"   (\" +\n+                    \"      SELECT \" +\n+                    \"         API.API_ID,\" +\n+                    \"         API.API_PROVIDER,\" +\n+                    \"         API.API_NAME,\" +\n+                    \"         API.API_TIER,\" +\n+                    \"         API.API_VERSION,\" +\n+                    \"         API.CONTEXT,\" +\n+                    \"         API.API_TYPE,\" +\n+                    \"         URL.URL_MAPPING_ID,\" +\n+                    \"         URL.HTTP_METHOD,\" +\n+                    \"         URL.AUTH_SCHEME,\" +\n+                    \"         URL.URL_PATTERN,\" +\n+                    \"         URL.THROTTLING_TIER AS RES_TIER,\" +\n+                    \"         SCOPE.SCOPE_NAME\" +\n+                    \"      FROM \" +\n+                    \"         AM_API API,\" +\n+                    \"         AM_API_URL_MAPPING URL\" +\n+                    \"         LEFT JOIN\" +\n+                    \"            AM_API_RESOURCE_SCOPE_MAPPING SCOPE\" +\n+                    \"            ON URL.URL_MAPPING_ID = SCOPE.URL_MAPPING_ID\" +\n+                    \"      WHERE\" +\n+                    \"         API.API_ID = URL.API_ID\" +\n+                    \"         AND API.API_VERSION = ?\" +\n+                    \"         AND API.CONTEXT = ?\" +\n+                    \"   )\" +\n+                    \"   AS APIS \" +\n+                    \"   LEFT JOIN \" +\n+                    \"      AM_API_DEFAULT_VERSION AS DEF\" +\n+                    \"      ON APIS.API_NAME = DEF.API_NAME\" +\n+                    \"      AND APIS.API_PROVIDER = DEF.API_PROVIDER\" +\n+                    \"      AND APIS.API_VERSION = DEF.DEFAULT_API_VERSION\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fd1523be812d93a03ced52015a7c9dfbb9d9620"}, "originalPosition": 437}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f19e30fc575d02246c5ba429b9de8aabf8551162", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f19e30fc575d02246c5ba429b9de8aabf8551162", "committedDate": "2020-07-29T15:28:59Z", "message": "Add review fixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fd1523be812d93a03ced52015a7c9dfbb9d9620", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/1fd1523be812d93a03ced52015a7c9dfbb9d9620", "committedDate": "2020-07-29T05:36:12Z", "message": "Add functionality to get isDefaultVersion data for an API"}, "afterCommit": {"oid": "f19e30fc575d02246c5ba429b9de8aabf8551162", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/f19e30fc575d02246c5ba429b9de8aabf8551162", "committedDate": "2020-07-29T15:28:59Z", "message": "Add review fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MDQyNTQz", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#pullrequestreview-458042543", "createdAt": "2020-07-30T03:13:37Z", "commit": {"oid": "f19e30fc575d02246c5ba429b9de8aabf8551162"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzoxMzozN1rOG5RhHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzoxMzo0NlrOG5RhOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwOTAyMg==", "bodyText": "This logic is not right. \"PUBLISHED_DEFAULT_API_VERSION\" colum gives you the default version. What you could do is check \"PUBLISHED_DEFAULT_API_VERSION\" is equal to \"API_VERSION\" and set the boolean as true if equals", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#discussion_r462709022", "createdAt": "2020-07-30T03:13:37Z", "author": {"login": "chamilaadhi"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/SubscriptionValidationDAO.java", "diffHunk": "@@ -329,6 +329,7 @@ public API getApi(String version, String context) {\n                     api.setPolicy(resultSet.getString(\"API_TIER\"));\n                     api.setVersion(resultSet.getString(\"API_VERSION\"));\n                     api.setContext(resultSet.getString(\"CONTEXT\"));\n+                    api.setIsDefaultVersion(resultSet.getBoolean(\"PUBLISHED_DEFAULT_API_VERSION\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f19e30fc575d02246c5ba429b9de8aabf8551162"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwOTA0OA==", "bodyText": "same here", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#discussion_r462709048", "createdAt": "2020-07-30T03:13:46Z", "author": {"login": "chamilaadhi"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/SubscriptionValidationDAO.java", "diffHunk": "@@ -371,6 +372,7 @@ private void populateAPIList(ResultSet resultSet, List<API> apiList) throws SQLE\n                 api.setPolicy(resultSet.getString(\"API_TIER\"));\n                 api.setVersion(resultSet.getString(\"API_VERSION\"));\n                 api.setContext(resultSet.getString(\"CONTEXT\"));\n+                api.setIsDefaultVersion(resultSet.getBoolean(\"PUBLISHED_DEFAULT_API_VERSION\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f19e30fc575d02246c5ba429b9de8aabf8551162"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c76d41950a114213dcd434e71f496deec16f689", "author": {"user": {"login": "tharikaGitHub", "name": "Tharika Madurapperuma"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/9c76d41950a114213dcd434e71f496deec16f689", "committedDate": "2020-07-30T09:58:50Z", "message": "Change default version retrieval for internal service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4Mjc2Mjg2", "url": "https://github.com/wso2/carbon-apimgt/pull/9076#pullrequestreview-458276286", "createdAt": "2020-07-30T10:25:35Z", "commit": {"oid": "9c76d41950a114213dcd434e71f496deec16f689"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2544, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}