{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMDk4NDUx", "number": 8377, "title": "fix monetization properties replaced during api republish", "bodyText": "fixes wso2/product-apim#7791", "createdAt": "2020-03-19T16:14:27Z", "url": "https://github.com/wso2/carbon-apimgt/pull/8377", "merged": true, "mergeCommit": {"oid": "6f595491293153dc95113dc043612313b8d11510"}, "closed": true, "closedAt": "2020-03-19T17:38:34Z", "author": {"login": "dushansilva"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPOKDiAH2gAyMzkxMDk4NDUxOjc0YzZkY2I3Y2Q0MjUyZjkwNmRlYjgzMzZmNjJlZTBhZGMzMzYyYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPOv2egFqTM3NzkwNDA0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "74c6dcb7cd4252f906deb8336f62ee0adc3362c2", "author": {"user": {"login": "dushansilva", "name": "dushansilva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/74c6dcb7cd4252f906deb8336f62ee0adc3362c2", "committedDate": "2020-03-19T16:04:36Z", "message": "fix monetization properties replaced during swagger put issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3ODg5ODIz", "url": "https://github.com/wso2/carbon-apimgt/pull/8377#pullrequestreview-377889823", "createdAt": "2020-03-19T16:29:59Z", "commit": {"oid": "74c6dcb7cd4252f906deb8336f62ee0adc3362c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNjoyOTo1OVrOF42jvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNjoyOTo1OVrOF42jvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE1ODQ2Mg==", "bodyText": "This could result null pointer?", "url": "https://github.com/wso2/carbon-apimgt/pull/8377#discussion_r395158462", "createdAt": "2020-03-19T16:29:59Z", "author": {"login": "Krishanx92"}, "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIProviderImpl.java", "diffHunk": "@@ -1127,6 +1128,27 @@ public void updateAPI(API api) throws APIManagementException, FaultGatewaysExcep\n \n         Map<String, Map<String, String>> failedGateways = new ConcurrentHashMap<>();\n         API oldApi = getAPI(api.getId());\n+        Gson gson = new Gson();\n+        Map<String, String> oldMonetizationProperties = gson.fromJson(oldApi.getMonetizationProperties().toString(),\n+                HashMap.class);\n+        if (!oldMonetizationProperties.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74c6dcb7cd4252f906deb8336f62ee0adc3362c2"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "276411f69f5e874554378f52f314185bb6bb89d5", "author": {"user": {"login": "dushansilva", "name": "dushansilva"}}, "url": "https://github.com/wso2/carbon-apimgt/commit/276411f69f5e874554378f52f314185bb6bb89d5", "committedDate": "2020-03-19T16:44:07Z", "message": "fix review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3OTA0MDQy", "url": "https://github.com/wso2/carbon-apimgt/pull/8377#pullrequestreview-377904042", "createdAt": "2020-03-19T16:45:53Z", "commit": {"oid": "276411f69f5e874554378f52f314185bb6bb89d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2872, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}