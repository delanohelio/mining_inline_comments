{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2NTcxMDI0", "number": 8214, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxODoyNFrODgrCLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxOToxNFrODgrDPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTg2MDk0OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxODoyNFrOFrANjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxODoyNFrOFrANjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjU1Nw==", "bodyText": "Add localization for all rendering texts. Follow the wiki https://github.com/wso2/carbon-apimgt/wiki/How-internationalization-(i18n)-works-in-API-Manager-React-Apps", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636557", "createdAt": "2020-02-18T12:18:24Z", "author": {"login": "menakaj"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTg2MTg4OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxODo0NVrOFrAOJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxODo0NVrOFrAOJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjcwOQ==", "bodyText": "Add localization", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636709", "createdAt": "2020-02-18T12:18:45Z", "author": {"login": "menakaj"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}\n+                        value={getOperationScopes(operation, spec)[0]}\n+                        onChange={({ target: { value } }) => operationsDispatcher({\n+                            action: 'scopes',\n+                            data: { target, verb, value: [value] },\n+                        })}\n+                        helperText='Select a scope to control permissions to this operation'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTg2MzY2OnYy", "diffSide": "RIGHT", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxOToxNFrOFrAPKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjoxOToxNFrOFrAPKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjk3MQ==", "bodyText": "Add Localization", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636971", "createdAt": "2020-02-18T12:19:14Z", "author": {"login": "menakaj"}, "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}\n+                        value={getOperationScopes(operation, spec)[0]}\n+                        onChange={({ target: { value } }) => operationsDispatcher({\n+                            action: 'scopes',\n+                            data: { target, verb, value: [value] },\n+                        })}\n+                        helperText='Select a scope to control permissions to this operation'\n+                        margin='dense'\n+                        variant='outlined'\n                     >\n+                        <MenuItem\n+                            value=''\n+                            dense\n+                        >\n                         None\n-                    </MenuItem>\n-                    {api.scopes.length !== 0\n-                        ? api.scopes.map((scope) => (\n-                            <MenuItem\n-                                key={scope.name}\n-                                value={scope.name}\n-                                dense\n-                            >\n-                                {scope.name}\n-                            </MenuItem>\n-                        )) : (\n-                            <Link to={`/apis/${api.id}/scopes/create`} target='_blank'>\n+                        </MenuItem>\n+                        {api.scopes.length !== 0\n+                            ? api.scopes.map((scope) => (\n                                 <MenuItem\n-                                    key='Create New Scope'\n-                                    value='Create New Scope'\n+                                    key={scope.name}\n+                                    value={scope.name}\n                                     dense\n                                 >\n-                                Create New Scope\n+                                    {scope.name}\n                                 </MenuItem>\n-                            </Link>\n-                        )}\n-                </TextField>\n+                            )) : (\n+                                <Link to={`/apis/${api.id}/scopes/create`} target='_blank'>\n+                                    <MenuItem\n+                                        key='Create New Scope'\n+                                        value='Create New Scope'\n+                                        dense\n+                                    >\n+                                Create New Scope", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6"}, "originalPosition": 78}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2885, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}