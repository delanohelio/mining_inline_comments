{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MTc5Nzkz", "number": 2472, "title": "Add dependency-check-maven plugin", "bodyText": "Configure owasp dependency-check-maven plugin in project to make it easier to run dependency scanning.", "createdAt": "2020-10-21T01:00:03Z", "url": "https://github.com/oracle/helidon/pull/2472", "merged": true, "mergeCommit": {"oid": "62b4b562d5279aaae0865e2415b7c91ae82271dd"}, "closed": true, "closedAt": "2020-10-21T20:47:03Z", "author": {"login": "barchetta"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUipOHgH2gAyNTA3MTc5NzkzOmMwYTBjZWQxZmFmMGUxOTg0MjQxNjk1ODJhMzUwZGVhNWM4YjhiZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUyw7agFqTUxNDEyMTY4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb", "author": {"user": {"login": "barchetta", "name": "Joe DiPol"}}, "url": "https://github.com/oracle/helidon/commit/c0a0ced1faf0e198424169582a350dea5c8b8bfb", "committedDate": "2020-10-21T00:57:31Z", "message": "Add dependency-check-maven plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzODcyMTg1", "url": "https://github.com/oracle/helidon/pull/2472#pullrequestreview-513872185", "createdAt": "2020-10-21T16:16:43Z", "commit": {"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNjoxNjo0M1rOHl0pYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNjoyODozN1rOHl1Jjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMTkyMA==", "bodyText": "I think both provided and runtime scopes are valid, as these are still helidon dependencies.", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509421920", "createdAt": "2020-10-21T16:16:43Z", "author": {"login": "tomas-langer"}, "path": "pom.xml", "diffHunk": "@@ -491,13 +493,46 @@\n                         <xmlOutput>true</xmlOutput>\n                     </configuration>\n                 </plugin>\n+                <plugin>\n+                    <groupId>org.owasp</groupId>\n+                    <artifactId>dependency-check-maven</artifactId>\n+                    <version>${version.plugin.dependency-check}</version>\n+                    <configuration>\n+                        <skip>${dependency-check.skip}</skip>\n+                        <skipProvidedScope>true</skipProvidedScope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMzEyOQ==", "bodyText": "Could we use a different name? dependency sounds like general dependency checking (such as to make sure we do not have conflicting versions). Could this be security-check.sh or maybe even owasp-check.sh?", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509423129", "createdAt": "2020-10-21T16:18:30Z", "author": {"login": "tomas-langer"}, "path": "etc/scripts/dependency-check.sh", "diffHunk": "@@ -0,0 +1,54 @@\n+#!/bin/bash -e", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMDE1OA==", "bodyText": "We can upgrade to 1.26 that should not be affected at all (not sure if the scan knows about this). From what I see in the commit, the default behavior is not to allow recursive keys: https://bitbucket.org/asomov/snakeyaml/commits/da11ddbd91c1f8392ea932b37fa48110fa54ed8c", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509430158", "createdAt": "2020-10-21T16:28:37Z", "author": {"login": "tomas-langer"}, "path": "etc/dependency-check-suppression.xml", "diffHunk": "@@ -0,0 +1,131 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<suppressions xmlns=\"https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd\">\n+<!-- For information see https://jeremylong.github.io/DependencyCheck/general/suppression.html -->\n+<!-- Applies to Oracle HTTP Server -->\n+<suppress>\n+   <notes><![CDATA[\n+   file name: helidon-microprofile-server-2.1.0.jar\n+   ]]></notes>\n+   <packageUrl regex=\"true\">^pkg:maven/io\\.helidon\\.microprofile\\.server/helidon\\-microprofile\\-server@.*$</packageUrl>\n+   <cpe>cpe:/a:oracle:http_server</cpe>\n+</suppress>\n+\n+<!-- Applies to Processing:Processing -->\n+<suppress>\n+   <notes><![CDATA[\n+   file name: jsonp-jaxrs-1.1.6.jar\n+   ]]></notes>\n+   <packageUrl regex=\"true\">^pkg:maven/org\\.glassfish/jsonp\\-jaxrs@.*$</packageUrl>\n+   <cpe>cpe:/a:processing:processing</cpe>\n+</suppress>\n+\n+<!-- We use snakeyaml for reading local configuration, so this CVE\n+     does not apply to our use case. For more information:\n+     https://bitbucket.org/asomov/snakeyaml/issues/377/allow-configuration-for-preventing-billion", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc67fe8ec05f322f916a07070f48ce17b441017d", "author": {"user": {"login": "barchetta", "name": "Joe DiPol"}}, "url": "https://github.com/oracle/helidon/commit/bc67fe8ec05f322f916a07070f48ce17b441017d", "committedDate": "2020-10-21T16:32:09Z", "message": "Update dependency scan script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d38a5ddfaa45bb83117c0ab955eff57bcc47148", "author": {"user": {"login": "barchetta", "name": "Joe DiPol"}}, "url": "https://github.com/oracle/helidon/commit/6d38a5ddfaa45bb83117c0ab955eff57bcc47148", "committedDate": "2020-10-21T17:25:09Z", "message": "OWASP scan: include runtime and provided. Rename script."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "349b63489bd49d59dc6b27849fca291eec3d4522", "author": {"user": {"login": "barchetta", "name": "Joe DiPol"}}, "url": "https://github.com/oracle/helidon/commit/349b63489bd49d59dc6b27849fca291eec3d4522", "committedDate": "2020-10-21T17:54:27Z", "message": "Copyright exclude for dependency-check-suppression.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ce56d00d0b87ffcabba756a0f8e95ae1effc6e2", "author": {"user": {"login": "barchetta", "name": "Joe DiPol"}}, "url": "https://github.com/oracle/helidon/commit/3ce56d00d0b87ffcabba756a0f8e95ae1effc6e2", "committedDate": "2020-10-21T19:33:46Z", "message": "Update comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MTIxNjg0", "url": "https://github.com/oracle/helidon/pull/2472#pullrequestreview-514121684", "createdAt": "2020-10-21T19:44:25Z", "commit": {"oid": "3ce56d00d0b87ffcabba756a0f8e95ae1effc6e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 339, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}