{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMjg4OTQ5", "number": 2229, "title": "Make sure request scope is propagated to newly created threads in FT", "bodyText": "After discussing the solution with @jansupol, I believe this is currently the simplest way to support this. We do need to create a dummy CDI bean with an injection point for Jersey to make its RequestScope type available via CDI. Using that and some other CDI classes, we ensure all injections (@Context or @Inject ones) are available in newly created threads.\nOne of the functional tests has been updated to verify this fix.", "createdAt": "2020-08-03T16:55:42Z", "url": "https://github.com/oracle/helidon/pull/2229", "merged": true, "mergeCommit": {"oid": "8d79e66bbabe815da812d14b0990a659d028e525"}, "closed": true, "closedAt": "2020-08-03T20:32:51Z", "author": {"login": "spericas"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1Mmq3AH2gAyNDYyMjg4OTQ5Ojc2NGJmZTk5M2FiNGZkN2Y2ZWQwMmQzNmUyZjdhNjNkZDYxNmVhODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7VYWYgFqTQ2MDIwNDA1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "764bfe993ab4fd7f6ed02d36e2f7a63dd616ea86", "author": {"user": {"login": "spericas", "name": "Santiago Pericasgeertsen"}}, "url": "https://github.com/oracle/helidon/commit/764bfe993ab4fd7f6ed02d36e2f7a63dd616ea86", "committedDate": "2020-07-15T15:45:10Z", "message": "Changes required to ensure request scope is propagated to other threads. Requires access to Jersey internals in order to fully support @Context and @Inject injections.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00e5e89afe553f3ac0966c2b6ab0ee93efd2ae42", "author": {"user": {"login": "spericas", "name": "Santiago Pericasgeertsen"}}, "url": "https://github.com/oracle/helidon/commit/00e5e89afe553f3ac0966c2b6ab0ee93efd2ae42", "committedDate": "2020-07-15T15:55:12Z", "message": "Updated comment.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86e9e6e9eee7dbc53abbddaea8a8f3dd87f30773", "author": {"user": {"login": "spericas", "name": "Santiago Pericasgeertsen"}}, "url": "https://github.com/oracle/helidon/commit/86e9e6e9eee7dbc53abbddaea8a8f3dd87f30773", "committedDate": "2020-07-15T19:56:23Z", "message": "Fixed import problem. New test for request scope propagation.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTk5ODY4", "url": "https://github.com/oracle/helidon/pull/2229#pullrequestreview-460199868", "createdAt": "2020-08-03T17:15:48Z", "commit": {"oid": "86e9e6e9eee7dbc53abbddaea8a8f3dd87f30773"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzoxNTo0OFrOG7B02g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzoxNTo0OFrOG7B02g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU0OTA4Mg==", "bodyText": "Nit: typo", "url": "https://github.com/oracle/helidon/pull/2229#discussion_r464549082", "createdAt": "2020-08-03T17:15:48Z", "author": {"login": "ljnelson"}, "path": "tests/functional/context-propagation/src/test/java/io/helidon/tests/functional/context/hello/HelloTest.java", "diffHunk": "@@ -72,6 +72,12 @@ void testHelloAsync() {\n         assertOk(target.request().get(), \"Hello World\");\n     }\n \n+    @Test\n+    void testRemoteAAddress() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e9e6e9eee7dbc53abbddaea8a8f3dd87f30773"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjAwODA5", "url": "https://github.com/oracle/helidon/pull/2229#pullrequestreview-460200809", "createdAt": "2020-08-03T17:17:13Z", "commit": {"oid": "86e9e6e9eee7dbc53abbddaea8a8f3dd87f30773"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d00d167c183068fa80c7e3f35265d9d548c568cf", "author": {"user": {"login": "spericas", "name": "Santiago Pericasgeertsen"}}, "url": "https://github.com/oracle/helidon/commit/d00d167c183068fa80c7e3f35265d9d548c568cf", "committedDate": "2020-08-03T17:20:53Z", "message": "Fixed typo.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjA0MDU2", "url": "https://github.com/oracle/helidon/pull/2229#pullrequestreview-460204056", "createdAt": "2020-08-03T17:22:13Z", "commit": {"oid": "d00d167c183068fa80c7e3f35265d9d548c568cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 526, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}