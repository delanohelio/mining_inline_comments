{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMTQ2MDcx", "number": 1958, "title": "New pipeline infra 1.x", "bodyText": "Port the new infra to the 1.x branch.", "createdAt": "2020-06-10T01:23:53Z", "url": "https://github.com/oracle/helidon/pull/1958", "merged": true, "mergeCommit": {"oid": "07eb5a91a204446c9f4114822af31013d6f3250a"}, "closed": true, "closedAt": "2020-06-12T18:30:02Z", "author": {"login": "romain-grecourt"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpvRF1gH2gAyNDMyMTQ2MDcxOjVkNWU1ZTBiZTFkZmZhYzRjZTk3NDZhYzU5MjNjOTEwOWVlNTVhNmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqnKxhAFqTQyOTk1NDY3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5d5e5e0be1dffac4ce9746ac5923c9109ee55a6e", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/5d5e5e0be1dffac4ce9746ac5923c9109ee55a6e", "committedDate": "2020-06-10T01:21:11Z", "message": "WIP: New build infra (#1605)\n\n* New build infra\n - Make wercker.yml a no-op\n - Add Jenkinsfile\n - Rework build scripts\n - Fix indentation in build scripts\n\n* archive and report failsafe reports\n\n* fix copyright errors\n\n* workaround shrinkwrap-maven proxy issues\n\n* Support for NPM behind proxy.\n\n* increase reactive TCK environment timeout from 50ms to 200s"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2602334e0cf79e7b6dec527897df055960587c30", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/2602334e0cf79e7b6dec527897df055960587c30", "committedDate": "2020-06-10T01:21:34Z", "message": "parallelsAlwaysFailFast (#1755)\n\nadd parallelsAlwaysFailFast option to the Jenkinsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ff7da59218a20cfe507f7dec67047b10b0e46b0", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/8ff7da59218a20cfe507f7dec67047b10b0e46b0", "committedDate": "2020-06-10T01:22:41Z", "message": "enable unstable pipeline status (#1768)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MDc4NzY0", "url": "https://github.com/oracle/helidon/pull/1958#pullrequestreview-428078764", "createdAt": "2020-06-10T13:55:54Z", "commit": {"oid": "8ff7da59218a20cfe507f7dec67047b10b0e46b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzo1NTo1NFrOGh2Ccg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzo1NTo1NFrOGh2Ccg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE0MTU1NA==", "bodyText": "These integration tests do not exist for 1.x, as there is no native image support for MP", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r438141554", "createdAt": "2020-06-10T13:55:54Z", "author": {"login": "tomas-langer"}, "path": "etc/scripts/build.sh", "diffHunk": "@@ -29,25 +29,30 @@ trap on_error ERR\n \n # Path to this script\n if [ -h \"${0}\" ] ; then\n-  readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n+    readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n else\n-  readonly SCRIPT_PATH=\"${0}\"\n+    readonly SCRIPT_PATH=\"${0}\"\n fi\n \n # Path to the root of the workspace\n readonly WS_DIR=$(cd $(dirname -- \"${SCRIPT_PATH}\") ; cd ../.. ; pwd -P)\n \n source ${WS_DIR}/etc/scripts/pipeline-env.sh\n \n-if [ \"${WERCKER}\" = \"true\" -o \"${GITLAB}\" = \"true\" ] ; then\n-  apt-get update && apt-get -y install graphviz\n-fi\n-\n-inject_credentials\n+mvn ${MAVEN_ARGS} --version\n \n-mvn -f ${WS_DIR}/pom.xml \\\n+mvn ${MAVEN_ARGS} -f ${WS_DIR}/pom.xml \\\n     clean install -e \\\n-    -B \\\n-    -Pexamples,integrations,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n+    -Dmaven.test.failure.ignore=true \\\n+    -Pexamples,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n \n examples/quickstarts/archetypes/test-archetypes.sh\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ff7da59218a20cfe507f7dec67047b10b0e46b0"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03874947ad64b3aa5e6c3ca697a00f34c7ed0e37", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/03874947ad64b3aa5e6c3ca697a00f34c7ed0e37", "committedDate": "2020-06-10T19:55:21Z", "message": "remove native-image test from build.sh"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NzE4Mjk1", "url": "https://github.com/oracle/helidon/pull/1958#pullrequestreview-428718295", "createdAt": "2020-06-11T08:54:01Z", "commit": {"oid": "03874947ad64b3aa5e6c3ca697a00f34c7ed0e37"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8932cf811b9c27ace5002155c16b5aeddc41dc96", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/8932cf811b9c27ace5002155c16b5aeddc41dc96", "committedDate": "2020-06-11T16:22:04Z", "message": "fix deploy-archetypes.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c95b21b31dc4c20eb7c3548d74b211d5f6421e89", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/c95b21b31dc4c20eb7c3548d74b211d5f6421e89", "committedDate": "2020-06-11T16:22:35Z", "message": "put back github-release.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e45088e59f5ac6afdfb488a46748d92c584f97e", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/6e45088e59f5ac6afdfb488a46748d92c584f97e", "committedDate": "2020-06-11T16:25:05Z", "message": "remove extra line in etc/scripts/github-release.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f08c50b47bdef2775487e8453351d0e0bbab7e89", "author": {"user": {"login": "romain-grecourt", "name": "Romain Grecourt"}}, "url": "https://github.com/oracle/helidon/commit/f08c50b47bdef2775487e8453351d0e0bbab7e89", "committedDate": "2020-06-11T16:30:13Z", "message": "fix copyright"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTU0MTYx", "url": "https://github.com/oracle/helidon/pull/1958#pullrequestreview-429954161", "createdAt": "2020-06-12T18:28:07Z", "commit": {"oid": "f08c50b47bdef2775487e8453351d0e0bbab7e89"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyODowN1rOGjNy0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyODowN1rOGjNy0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTM0Ng==", "bodyText": "(Confirming that you want to remove -B and it wasn't a typo.)", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r439579346", "createdAt": "2020-06-12T18:28:07Z", "author": {"login": "ljnelson"}, "path": "etc/scripts/build.sh", "diffHunk": "@@ -29,25 +29,21 @@ trap on_error ERR\n \n # Path to this script\n if [ -h \"${0}\" ] ; then\n-  readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n+    readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n else\n-  readonly SCRIPT_PATH=\"${0}\"\n+    readonly SCRIPT_PATH=\"${0}\"\n fi\n \n # Path to the root of the workspace\n readonly WS_DIR=$(cd $(dirname -- \"${SCRIPT_PATH}\") ; cd ../.. ; pwd -P)\n \n source ${WS_DIR}/etc/scripts/pipeline-env.sh\n \n-if [ \"${WERCKER}\" = \"true\" -o \"${GITLAB}\" = \"true\" ] ; then\n-  apt-get update && apt-get -y install graphviz\n-fi\n-\n-inject_credentials\n+mvn ${MAVEN_ARGS} --version\n \n-mvn -f ${WS_DIR}/pom.xml \\\n+mvn ${MAVEN_ARGS} -f ${WS_DIR}/pom.xml \\\n     clean install -e \\\n-    -B \\\n-    -Pexamples,integrations,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n+    -Dmaven.test.failure.ignore=true \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f08c50b47bdef2775487e8453351d0e0bbab7e89"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTU0Njcx", "url": "https://github.com/oracle/helidon/pull/1958#pullrequestreview-429954671", "createdAt": "2020-06-12T18:28:58Z", "commit": {"oid": "f08c50b47bdef2775487e8453351d0e0bbab7e89"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 564, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}