{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTE3MTYw", "number": 1951, "title": "Minor gRPC fixes (2.0)", "bodyText": "Minor gRPC metrics cleanup and fix for Channel injection", "createdAt": "2020-06-09T16:20:03Z", "url": "https://github.com/oracle/helidon/pull/1951", "merged": true, "mergeCommit": {"oid": "c30057f99d228218a1aa2d463cca1caae47fb31a"}, "closed": true, "closedAt": "2020-06-09T18:21:03Z", "author": {"login": "aseovic"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpKRyBgH2gAyNDMxOTE3MTYwOjkxNWY2YTUyMDc0YWVhZWQyZTI3MmMxNDg2YWYxODY4MDFiYTYzNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpnr5GgFqTQyNzM0MDI1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "915f6a52074aeaed2e272c1486af186801ba6360", "author": {"user": {"login": "aseovic", "name": "Aleks Seovic"}}, "url": "https://github.com/oracle/helidon/commit/915f6a52074aeaed2e272c1486af186801ba6360", "committedDate": "2020-06-08T06:15:27Z", "message": "Publish snapshots to Synoki Nexus"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29436519f30391af769117678a0ff9cf417cc19f", "author": {"user": {"login": "aseovic", "name": "Aleks Seovic"}}, "url": "https://github.com/oracle/helidon/commit/29436519f30391af769117678a0ff9cf417cc19f", "committedDate": "2020-06-09T16:09:22Z", "message": "gRPC 2.0 fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MzQwMjU1", "url": "https://github.com/oracle/helidon/pull/1951#pullrequestreview-427340255", "createdAt": "2020-06-09T16:30:15Z", "commit": {"oid": "29436519f30391af769117678a0ff9cf417cc19f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjozMDoxNVrOGhSzOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjozMDoxNVrOGhSzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU2NDIxNw==", "bodyText": "I see that this takes the place of the meter that used to be registered in MetricsSupport. There is no replacement here for the counter that MetricsSupport used to register. Is that intentional?", "url": "https://github.com/oracle/helidon/pull/1951#discussion_r437564217", "createdAt": "2020-06-09T16:30:15Z", "author": {"login": "tjquinno"}, "path": "grpc/metrics/src/main/java/io/helidon/grpc/metrics/GrpcMetrics.java", "diffHunk": "@@ -70,6 +66,19 @@\n     private static final MetricRegistry APP_REGISTRY =\n             RegistryFactory.getInstance().getRegistry(MetricRegistry.Type.APPLICATION);\n \n+    static {\n+        HelidonFeatures.register(\"gRPC Server\", \"Metrics\");\n+        HelidonFeatures.register(\"gRPC Client\", \"Metrics\");\n+\n+        VENDOR_REGISTRY.meter(org.eclipse.microprofile.metrics.Metadata.builder()\n+                .withName(\"grpc.requests.meter\")\n+                .withDisplayName(\"Meter for overall gRPC requests\")\n+                .withDescription(\"Each gRPC request will mark the meter to see overall throughput\")\n+                .withType(MetricType.METERED)\n+                .withUnit(MetricUnits.NONE)\n+                .build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29436519f30391af769117678a0ff9cf417cc19f"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 561, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}