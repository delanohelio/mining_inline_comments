{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MDA0MjEy", "number": 2411, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjoyOToxN1rOErlxWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozODo1NlrOErmAPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTQzMDY3OnYy", "diffSide": "RIGHT", "path": "docs/mp/security/03_configuration-secrets.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjoyOToxN1rOHecKow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjoyOToxN1rOHecKow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4MDgwMw==", "bodyText": "the config encryption filter is", "url": "https://github.com/oracle/helidon/pull/2411#discussion_r501680803", "createdAt": "2020-10-08T12:29:17Z", "author": {"login": "ljamen"}, "path": "docs/mp/security/03_configuration-secrets.adoc", "diffHunk": "@@ -27,35 +27,7 @@ When security requires a configuration with repeating complex elements, use Heli\n This example configures a basic authentication provider and\n  protects static content on the web server. It also includes annotations in Jersey.\n \n-== Protecting Static Content\n-\n-[source,yaml]\n-.application.yaml\n-----\n-security:\n-  providers:\n-    # Attribute based access control, validates roles\n-    - abac:\n-    # HTTP Basic authentication provider\n-    - http-basic-auth:\n-        realm: \"helidon\"\n-        users:\n-          - login: \"jack\"\n-            password: \"password\"\n-            roles: [\"user\", \"admin\"]\n-          - login: \"jill\"\n-            password: \"password\"\n-            roles: [\"user\"]\n-          - login: \"john\"\n-            password: \"password\"\n-  # Protect static content - require authenticated user\n-  web-server:\n-    paths:\n-      - path: \"/static-cp[/{*}]\"\n-        authenticate: true\n-----\n-\n-=== Protecting Configuration Secrets \n+== Protecting Configuration Secrets\n \n In Helidon MP, the config encryption filter ** enabled by default**. However, if you don't configure it, the filter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c8654a1572f01ca143c7d3fb9c49e9f703c4a33"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTQ0NzUwOnYy", "diffSide": "RIGHT", "path": "docs/shared/security/helidon-endpoints.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozMzozNlrOHecUvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozMzozNlrOHecUvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4MzM4OQ==", "bodyText": "The following shows an example we will explain in detail:", "url": "https://github.com/oracle/helidon/pull/2411#discussion_r501683389", "createdAt": "2020-10-08T12:33:36Z", "author": {"login": "ljamen"}, "path": "docs/shared/security/helidon-endpoints.adoc", "diffHunk": "@@ -0,0 +1,87 @@\n+///////////////////////////////////////////////////////////////////////////////\n+\n+    Copyright (c) 2020 Oracle and/or its affiliates.\n+\n+    Licensed under the Apache License, Version 2.0 (the \"License\");\n+    you may not use this file except in compliance with the License.\n+    You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing, software\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+    See the License for the specific language governing permissions and\n+    limitations under the License.\n+\n+///////////////////////////////////////////////////////////////////////////////\n+\n+=== Protecting Helidon endpoints\n+:description: Helidon Security Endpoints\n+:keywords: helidon, security, static, content, health, openapi, metrics\n+\n+There are several endpoints provided by Helidon services, such as:\n+\n+- Health endpoint (`/health`)\n+- Metrics endpoint (`/metrics`)\n+- OpenAPI endpoint (`/openapi`)\n+- Configured static content (can use any path configured)\n+\n+These endpoints are all implemented using Helidon reactive WebServer and as such\n+can be protected only through Security integration with WebServer.\n+\n+The following section describes configuration of such protection using configuration files,\n+ in this case using a `yaml` file, as it provides a tree structure.\n+\n+==== Configuring endpoint protection\n+\n+The configuration is usually placed under `security.web-server` (this can be\n+customized in Helidon SE).\n+\n+The following example shows an example we will explain in detail:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c8654a1572f01ca143c7d3fb9c49e9f703c4a33"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTQ1Mjc4OnYy", "diffSide": "RIGHT", "path": "docs/shared/security/helidon-endpoints.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozNTowMFrOHecYGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozNTowMFrOHecYGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4NDI0OA==", "bodyText": "such as microprofile-config.properties,", "url": "https://github.com/oracle/helidon/pull/2411#discussion_r501684248", "createdAt": "2020-10-08T12:35:00Z", "author": {"login": "ljamen"}, "path": "docs/shared/security/helidon-endpoints.adoc", "diffHunk": "@@ -0,0 +1,87 @@\n+///////////////////////////////////////////////////////////////////////////////\n+\n+    Copyright (c) 2020 Oracle and/or its affiliates.\n+\n+    Licensed under the Apache License, Version 2.0 (the \"License\");\n+    you may not use this file except in compliance with the License.\n+    You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing, software\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+    See the License for the specific language governing permissions and\n+    limitations under the License.\n+\n+///////////////////////////////////////////////////////////////////////////////\n+\n+=== Protecting Helidon endpoints\n+:description: Helidon Security Endpoints\n+:keywords: helidon, security, static, content, health, openapi, metrics\n+\n+There are several endpoints provided by Helidon services, such as:\n+\n+- Health endpoint (`/health`)\n+- Metrics endpoint (`/metrics`)\n+- OpenAPI endpoint (`/openapi`)\n+- Configured static content (can use any path configured)\n+\n+These endpoints are all implemented using Helidon reactive WebServer and as such\n+can be protected only through Security integration with WebServer.\n+\n+The following section describes configuration of such protection using configuration files,\n+ in this case using a `yaml` file, as it provides a tree structure.\n+\n+==== Configuring endpoint protection\n+\n+The configuration is usually placed under `security.web-server` (this can be\n+customized in Helidon SE).\n+\n+The following example shows an example we will explain in detail:\n+\n+[source,yaml]\n+.application.yaml\n+----\n+security:\n+  providers:\n+    - abac: # <1>\n+    - provider-key: # <2>\n+  web-server:\n+    defaults:\n+      authenticate: true # <3>\n+    paths:\n+      - path: \"/metrics[/{*}]\" # <4>\n+        roles-allowed: \"admin\"\n+      - path: \"/health[/{*}]\" # <5>\n+        roles-allowed: \"monitor\"\n+      - path: \"/openapi[/{*}]\" # <6>\n+        abac:\n+          scopes: [\"openapi\"]\n+      - path: \"/static[/{*}]\" # <7>\n+        roles-allowed: [\"user\", \"monitor\"]\n+----\n+\n+<1> Attribute based access control provider that checks roles and scopes\n+<2> The provider(s) used in your application, such as `oidc`\n+<3> Default configuration for all configured paths\n+<4> Protection of `/metrics` and all nested paths with `admin` role required\n+<5> Protection of `/health` and all nested paths with `monitor` role required\n+<6> Protection of `/openapi` and all nested paths with `openapi` scope required\n+<7> Protection of static content configured on `/static` path with either `user` or `monitor` role required\n+\n+If you need to use a properties file, such as for `microprofile-config.properties`, you", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c8654a1572f01ca143c7d3fb9c49e9f703c4a33"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTQ2ODc5OnYy", "diffSide": "RIGHT", "path": "examples/security/basic-auth-with-static-content/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozODo1NlrOHech4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjozODo1NlrOHech4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4Njc1NA==", "bodyText": "Web Server", "url": "https://github.com/oracle/helidon/pull/2411#discussion_r501686754", "createdAt": "2020-10-08T12:38:56Z", "author": {"login": "ljamen"}, "path": "examples/security/basic-auth-with-static-content/README.md", "diffHunk": "@@ -0,0 +1,31 @@\n+# Web Server Integration and Basic Authentication\n+\n+This example demonstrates Integration of WebServer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c8654a1572f01ca143c7d3fb9c49e9f703c4a33"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 427, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}