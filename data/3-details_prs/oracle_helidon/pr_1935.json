{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MzQyNjkx", "number": 1935, "title": "Mp config docs", "bodyText": "Follow up on MP Config documentation", "createdAt": "2020-06-05T09:44:12Z", "url": "https://github.com/oracle/helidon/pull/1935", "merged": true, "mergeCommit": {"oid": "c69a74f79e218e8c9984179f8f979e442045c67c"}, "closed": true, "closedAt": "2020-06-10T15:00:33Z", "author": {"login": "tomas-langer"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoO3PuAH2gAyNDI4MzQyNjkxOjBiY2FiYjAzZTBiNDA1ZDZhZjFlOTYxMWI2YzBkZWE0MTRhMjUyMjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp6OqOgFqTQyODA5MDIyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0bcabb03e0b405d6af1e9611b6c0dea414a25227", "author": {"user": {"login": "vanajaguru", "name": "Vanaja Guruprasad"}}, "url": "https://github.com/oracle/helidon/commit/0bcabb03e0b405d6af1e9611b6c0dea414a25227", "committedDate": "2020-06-05T09:02:04Z", "message": "Docs for MP Config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "069df20c85311857158270434f5bc225dc47c8ec", "author": {"user": {"login": "vanajaguru", "name": "Vanaja Guruprasad"}}, "url": "https://github.com/oracle/helidon/commit/069df20c85311857158270434f5bc225dc47c8ec", "committedDate": "2020-06-05T09:02:04Z", "message": "Updated the MP docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "296914db81480d9a8309d84dcd6919fca0c41236", "author": {"user": {"login": "vanajaguru", "name": "Vanaja Guruprasad"}}, "url": "https://github.com/oracle/helidon/commit/296914db81480d9a8309d84dcd6919fca0c41236", "committedDate": "2020-06-05T09:02:04Z", "message": "Added info based on review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fa220c2afed9e6bc18f4082cd7da6ce40b02b64", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/1fa220c2afed9e6bc18f4082cd7da6ce40b02b64", "committedDate": "2020-06-05T09:42:50Z", "message": "Updated MP Config documentation.\n\nSigned-off-by: Tomas Langer <tomas.langer@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d", "author": {"user": {"login": "ljamen", "name": "Lisa Jamen"}}, "url": "https://github.com/oracle/helidon/commit/9bf787807624d5cfdf660f3ecce648ee7ca2066d", "committedDate": "2020-06-08T14:40:33Z", "message": "Update 01_introduction.adoc\n\nadded h1prefix for MP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MzE0MTE1", "url": "https://github.com/oracle/helidon/pull/1935#pullrequestreview-426314115", "createdAt": "2020-06-08T14:44:05Z", "commit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNDo0NDowNVrOGgh6wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNDo0NDowNVrOGgh6wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc2MzMyOA==", "bodyText": "Consider setting column values to tables to prevent scrolling [cols=\"3,5\"]", "url": "https://github.com/oracle/helidon/pull/1935#discussion_r436763328", "createdAt": "2020-06-08T14:44:05Z", "author": {"login": "ljamen"}, "path": "docs/mp/config/01_introduction.adoc", "diffHunk": "@@ -43,29 +162,57 @@ Step-by-step guide about using {spec-name} in your Helidon MP application.\n --\n ====\n \n-== Using {spec-name} in Helidon MP applications\n+== Using MicroProfile Config Sources\n+\n+The following configuration sources can be used to retrieve the configuration:\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d"}, "originalPosition": 153}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MzE1MjUz", "url": "https://github.com/oracle/helidon/pull/1935#pullrequestreview-426315253", "createdAt": "2020-06-08T14:45:14Z", "commit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNDo0NToxNFrOGgh-Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxNDo0NToxNFrOGgh-Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc2NDE2Mw==", "bodyText": "[cols=\"3,5\"]", "url": "https://github.com/oracle/helidon/pull/1935#discussion_r436764163", "createdAt": "2020-06-08T14:45:14Z", "author": {"login": "ljamen"}, "path": "docs/mp/config/02_MP_config_sources.adoc", "diffHunk": "@@ -0,0 +1,184 @@\n+///////////////////////////////////////////////////////////////////////////////\r\n+\r\n+    Copyright (c) 2020 Oracle and/or its affiliates.\r\n+\r\n+    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+    you may not use this file except in compliance with the License.\r\n+    You may obtain a copy of the License at\r\n+\r\n+        http://www.apache.org/licenses/LICENSE-2.0\r\n+\r\n+    Unless required by applicable law or agreed to in writing, software\r\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+    See the License for the specific language governing permissions and\r\n+    limitations under the License.\r\n+\r\n+///////////////////////////////////////////////////////////////////////////////\r\n+\r\n+= Microprofile Config Sources\r\n+:pagename: MicroProfileSources\r\n+:description: MicroProfile Config Sources\r\n+:keywords: helidon, mp, ordinal, mpconfig, yamlmpconfig\r\n+\r\n+\r\n+A Config Source provides configuration values from different sources such as property files and user classes that are registered by the application.\r\n+\r\n+== Understanding the Ordering of Default Config Sources\r\n+\r\n+The default MicroProfile Config Sources are:\r\n+\r\n+* System properties (ordinal=400)\r\n+* Environment variables (ordinal=300)\r\n+* /META-INF/microprofile-config.properties (ordinal=100)\r\n+\r\n+Each Config Source has an ordinal that determines the priority of the Config Source.\r\n+A Config Source with higher ordinal has higher priority as compared to the Config Source with\r\n+lower ordinal. The values taken from the high-priority Config Source overrides the values\r\n+from low-priority Config Source.\r\n+\r\n+This helps to customize the configuration of Config Sources using external Config Source\r\n+if an external Config Source has higher ordinal values than the built-in Config Sources of the application.\r\n+\r\n+\r\n+== Creating Custom Config Sources\r\n+\r\n+Custom Config Sources are loaded using the Java Service Loader pattern, by implementing\r\n+either `org.eclipse.microprofile.config.spi.ConfigSource`,\r\n+or `org.eclipse.microprofile.config.spi.ConfigSourceProvider` SPI and registering\r\n+it as a service (Using `META-INF/services/${class-name}` file when using classpath, or\r\n+using the `provides` statement in `module-info.java` when using module path).\r\n+\r\n+The interface `org.eclipse.microprofile.config.spi.ConfigSource` requires implementation of the following methods:\r\n+\r\n+* `String getName()`\r\n+* `Map<String, String> getProperties()`\r\n+* `String getValue(String key)`\r\n+* `getOrdinal()`\r\n+\r\n+=== Example of a Custom Config Source\r\n+\r\n+[source,java]\r\n+----\r\n+public class CustomConfigSource implements ConfigSource {\r\n+    private static final String NAME = \"MyConfigSource\";\r\n+    private static final int ORDINAL = 200; // Default for MP is 100\r\n+    private static final Map<String, String> PROPERTIES = mapOf(\"app.greeting\", \"Hi\");\r\n+\r\n+\r\n+    @Override\r\n+    public String getName() {\r\n+        return NAME; <1>\r\n+    }\r\n+\r\n+    @Override\r\n+    public Map<String, String> getProperties() {\r\n+        return PROPERTIES; <2>\r\n+    }\r\n+\r\n+    @Override\r\n+    public String getValue(String key) {\r\n+        return PROPERTIES.get(key); <3>\r\n+    }\r\n+\r\n+    @Override\r\n+    public int getOrdinal() {\r\n+        return ORDINAL; <4>\r\n+    }\r\n+}\r\n+----\r\n+\r\n+<1> Returns the name of the Config Source to use for logging or analysis of configured values.\r\n+<2> Returns the properties in this Config Source as a map.\r\n+<3> Returns the value of the requested key, or `null` if the key is not available\r\n+<4> Returns the ordinal of this Config Source.\r\n+\r\n+\r\n+== Creating MicroProfile Config Sources for Manual Setup of Config\r\n+\r\n+You can use the following methods to create MicroProfile Config Sources to manually set up the Config from `org.eclipse.microprofile.config.spi.ConfigProviderResolver#getBuilder()` on `io.helidon.config.mp.MpConfigSources` class:\r\n+\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d"}, "originalPosition": 100}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MzE2NzMz", "url": "https://github.com/oracle/helidon/pull/1935#pullrequestreview-426316733", "createdAt": "2020-06-08T14:46:42Z", "commit": {"oid": "9bf787807624d5cfdf660f3ecce648ee7ca2066d"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d9e32716016e434dce8a452138b4f03cb518bee", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/3d9e32716016e434dce8a452138b4f03cb518bee", "committedDate": "2020-06-10T14:00:26Z", "message": "Review fix for tables.\n\nSigned-off-by: Tomas Langer <tomas.langer@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MDkwMjI5", "url": "https://github.com/oracle/helidon/pull/1935#pullrequestreview-428090229", "createdAt": "2020-06-10T14:07:29Z", "commit": {"oid": "3d9e32716016e434dce8a452138b4f03cb518bee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 685, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}