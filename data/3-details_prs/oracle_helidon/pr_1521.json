{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MzU2ODI1", "number": 1521, "title": "Openapi custom context root 2.x", "bodyText": "Addresses #1350 for Helidon 2.x\nThe changes include a little refactoring to reuse logic from both SE and MP so both can use Helidon config to set an alternate, non-default context root.", "createdAt": "2020-03-16T16:31:14Z", "url": "https://github.com/oracle/helidon/pull/1521", "merged": true, "mergeCommit": {"oid": "de5e91e4b26ee795fb63c4905db563de894c0c31"}, "closed": true, "closedAt": "2020-03-17T20:29:57Z", "author": {"login": "tjquinno"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOQJzwgH2gAyMzg5MzU2ODI1OjFkYTYxYzdlM2I1YjA1ZDRlZjVjNzg3YWYxYTY2MjJkNzI0NDJlOWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOoNTGgFqTM3NjM1NjAwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1da61c7e3b5b05d4ef5c787af1a6622d72442e9d", "author": {"user": {"login": "tjquinno", "name": "Tim Quinn"}}, "url": "https://github.com/oracle/helidon/commit/1da61c7e3b5b05d4ef5c787af1a6622d72442e9d", "committedDate": "2020-03-16T15:50:13Z", "message": "Support custom context root for OpenAPI endpoint in MP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "357a2588e053f2aa37aa30e6aa0b5b20a38f234f", "author": {"user": {"login": "tjquinno", "name": "Tim Quinn"}}, "url": "https://github.com/oracle/helidon/commit/357a2588e053f2aa37aa30e6aa0b5b20a38f234f", "committedDate": "2020-03-16T16:17:58Z", "message": "Work around config collision that Tomas found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65a3f468c172f04b46d9a3ddb01f39d03f8db2b8", "author": {"user": {"login": "tjquinno", "name": "Tim Quinn"}}, "url": "https://github.com/oracle/helidon/commit/65a3f468c172f04b46d9a3ddb01f39d03f8db2b8", "committedDate": "2020-03-16T17:19:37Z", "message": "Copyrights"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODQ5NjQ5", "url": "https://github.com/oracle/helidon/pull/1521#pullrequestreview-375849649", "createdAt": "2020-03-17T09:07:17Z", "commit": {"oid": "65a3f468c172f04b46d9a3ddb01f39d03f8db2b8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTowNzoxN1rOF3TUwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTowNzo1NVrOF3TV_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMjYwOQ==", "bodyText": "You should not use the  CONFIG_PREFIX - the config should be on the node of openapi. Microprofile component configuring this class should request that node before calling this method.\nThe method should be called config - that is the rule for any builder in any Helidon component.", "url": "https://github.com/oracle/helidon/pull/1521#discussion_r393532609", "createdAt": "2020-03-17T09:07:17Z", "author": {"login": "tomas-langer"}, "path": "openapi/src/main/java/io/helidon/openapi/OpenAPISupport.java", "diffHunk": "@@ -620,6 +623,27 @@ public OpenAPISupport build() {\n             return new OpenAPISupport(this);\n         }\n \n+        /**\n+         * Set various builder attributes from the specified {@code Config} object.\n+         * <p>\n+         * The {@code Config} object can specify {@value #CONFIG_PREFIX}.web-context\n+         * and {@value #CONFIG_PREFIX}.static-file in addition to settings\n+         * supported by {@link OpenAPIConfigImpl.Builder}.\n+         *\n+         * @param config the {@code Config} object possibly containing settings\n+         * @exception NullPointerException if the provided {@code Config} is null\n+         * @return updated builder instance\n+         */\n+        public Builder helidonConfig(Config config) {\n+            config.get(CONFIG_PREFIX + \".web-context\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65a3f468c172f04b46d9a3ddb01f39d03f8db2b8"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMjkyNw==", "bodyText": "Method should be called config", "url": "https://github.com/oracle/helidon/pull/1521#discussion_r393532927", "createdAt": "2020-03-17T09:07:55Z", "author": {"login": "tomas-langer"}, "path": "openapi/src/main/java/io/helidon/openapi/SEOpenAPISupportBuilder.java", "diffHunk": "@@ -49,8 +48,7 @@\n      * @return updated builder instance\n      */\n     public SEOpenAPISupportBuilder helidonConfig(Config config) {\n-        config.get(CONFIG_PREFIX + \".web-context\").asString().ifPresent(this::webContext);\n-        config.get(CONFIG_PREFIX + \".static-file\").asString().ifPresent(this::staticFile);\n+        super.helidonConfig(config);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65a3f468c172f04b46d9a3ddb01f39d03f8db2b8"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec6e526c95cc41809ac51fd9becc02a450821266", "author": {"user": {"login": "tjquinno", "name": "Tim Quinn"}}, "url": "https://github.com/oracle/helidon/commit/ec6e526c95cc41809ac51fd9becc02a450821266", "committedDate": "2020-03-17T14:27:29Z", "message": "Review comments: change method name from helidonConfig -> config, and accept not the top-level config node but the openapi one"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ed8342d56f9897999f220c61b3a9032077b4f73", "author": {"user": {"login": "tjquinno", "name": "Tim Quinn"}}, "url": "https://github.com/oracle/helidon/commit/0ed8342d56f9897999f220c61b3a9032077b4f73", "committedDate": "2020-03-17T16:28:22Z", "message": "Fix example so it now passes the openapi config node, not the top-level, to OpenAPISupport.create"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MzU2MDAx", "url": "https://github.com/oracle/helidon/pull/1521#pullrequestreview-376356001", "createdAt": "2020-03-17T19:51:45Z", "commit": {"oid": "0ed8342d56f9897999f220c61b3a9032077b4f73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 793, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}