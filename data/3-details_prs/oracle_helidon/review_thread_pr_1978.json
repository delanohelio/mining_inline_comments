{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMDMyMjY2", "number": 1978, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzowMTo0MFrOEEq9GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzowMTo0MFrOEEq9GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzMzNTI4OnYy", "diffSide": "RIGHT", "path": "microprofile/metrics/src/main/java/io/helidon/microprofile/metrics/MetricsCdiExtension.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzowMTo0MFrOGicBuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzoxOTo0N1rOGicsJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc2Mzk2Mw==", "bodyText": "Is failing preferable to warning (and then not adding the gauge) in this case?", "url": "https://github.com/oracle/helidon/pull/1978#discussion_r438763963", "createdAt": "2020-06-11T13:01:40Z", "author": {"login": "tjquinno"}, "path": "microprofile/metrics/src/main/java/io/helidon/microprofile/metrics/MetricsCdiExtension.java", "diffHunk": "@@ -449,6 +462,21 @@ private void recordAnnotatedGaugeSite(@Observes @WithAnnotations(Gauge.class) Pr\n             return;\n         }\n \n+        Annotation annotation = type.getAnnotation(RequestScoped.class);\n+        if (annotation != null) {\n+            errors.fatal(clazz, \"Cannot configure @Gauge on a request scoped bean\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaae1517d1aca86368b2224d7c05bc10247b59b"}, "originalPosition": 181}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc3NDgyMg==", "bodyText": "See: https://github.com/eclipse/microprofile-metrics/pull/367/files\nIn general disabling a feature means it works differently from what user wanted - in this case it cannot work and the annotation is wrong, so I think an exception is the right way to process it.", "url": "https://github.com/oracle/helidon/pull/1978#discussion_r438774822", "createdAt": "2020-06-11T13:19:47Z", "author": {"login": "tomas-langer"}, "path": "microprofile/metrics/src/main/java/io/helidon/microprofile/metrics/MetricsCdiExtension.java", "diffHunk": "@@ -449,6 +462,21 @@ private void recordAnnotatedGaugeSite(@Observes @WithAnnotations(Gauge.class) Pr\n             return;\n         }\n \n+        Annotation annotation = type.getAnnotation(RequestScoped.class);\n+        if (annotation != null) {\n+            errors.fatal(clazz, \"Cannot configure @Gauge on a request scoped bean\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc2Mzk2Mw=="}, "originalCommit": {"oid": "2eaae1517d1aca86368b2224d7c05bc10247b59b"}, "originalPosition": 181}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 513, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}