{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NzIxODA3", "number": 1809, "title": "Health check fixed", "bodyText": "For native image and for hotspot (used Set instead of List)\nSigned-off-by: Tomas Langer tomas.langer@oracle.com", "createdAt": "2020-05-15T17:46:47Z", "url": "https://github.com/oracle/helidon/pull/1809", "merged": true, "mergeCommit": {"oid": "6a4f7c1a3aa090c0d081d5b51c8732c1aabbccdc"}, "closed": true, "closedAt": "2020-05-16T09:41:43Z", "author": {"login": "tomas-langer"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchlxOLAH2gAyNDE4NzIxODA3OjEwNDM4Yjk5ZjZhNGRkN2MxOTA1NGE3MzFlM2QzNjE4MTE0MjA1YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcho-zZgFqTQxMjk3OTU4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/10438b99f6a4dd7c19054a731e3d3618114205c1", "committedDate": "2020-05-15T17:45:50Z", "message": "Health check fixed for native image.\nAlso fixed for hotspot (used Set instead of List)\n\nSigned-off-by: Tomas Langer <tomas.langer@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU1MDk2", "url": "https://github.com/oracle/helidon/pull/1809#pullrequestreview-412855096", "createdAt": "2020-05-15T17:57:27Z", "commit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1NzoyN1rOGWOl-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1NzoyN1rOGWOl-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MDk1NQ==", "bodyText": "Just double-checking.  Repeatable semantics here are OK?", "url": "https://github.com/oracle/helidon/pull/1809#discussion_r425960955", "createdAt": "2020-05-15T17:57:27Z", "author": {"login": "ljnelson"}, "path": "health/health/src/main/java/io/helidon/health/HealthSupport.java", "diffHunk": "@@ -260,9 +259,9 @@ public static HealthSupport create(Config config) {\n      * Fluent API builder for {@link io.helidon.health.HealthSupport}.\n      */\n     public static final class Builder implements io.helidon.common.Builder<HealthSupport> {\n-        private final Set<HealthCheck> allChecks = new LinkedHashSet<>();\n-        private final Set<HealthCheck> livenessChecks = new LinkedHashSet<>();\n-        private final Set<HealthCheck> readinessChecks = new LinkedHashSet<>();\n+        private final List<HealthCheck> allChecks = new LinkedList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU1ODA3", "url": "https://github.com/oracle/helidon/pull/1809#pullrequestreview-412855807", "createdAt": "2020-05-15T17:58:29Z", "commit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1ODoyOVrOGWOoJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo1ODoyOVrOGWOoJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2MTUxMA==", "bodyText": "typo", "url": "https://github.com/oracle/helidon/pull/1809#discussion_r425961510", "createdAt": "2020-05-15T17:58:29Z", "author": {"login": "ljnelson"}, "path": "tests/integration/native-image/mp-1/src/main/java/io/helidon/tests/integration/nativeimage/mp1/Mp1Main.java", "diffHunk": "@@ -427,8 +429,13 @@ private static void validateHealth(Errors.Collector collector, WebTarget target)\n                 .get(JsonObject.class);\n \n         JsonArray checks = health.getJsonArray(\"checks\");\n-        if (checks.size() < 1) {\n-            collector.fatal(\"There should be at least one readiness healtcheck provided by this app\");\n+        if (checks.size() != 1) {\n+            collector.fatal(\"There should be a readiness healtcheck provided by this app\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODU2MjE4", "url": "https://github.com/oracle/helidon/pull/1809#pullrequestreview-412856218", "createdAt": "2020-05-15T17:59:05Z", "commit": {"oid": "10438b99f6a4dd7c19054a731e3d3618114205c1"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec1d10c208a23da71d1551fcfa1f09b863ee86d7", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/ec1d10c208a23da71d1551fcfa1f09b863ee86d7", "committedDate": "2020-05-15T18:08:31Z", "message": "Typo fix.\n\nSigned-off-by: Tomas Langer <tomas.langer@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODcxOTAy", "url": "https://github.com/oracle/helidon/pull/1809#pullrequestreview-412871902", "createdAt": "2020-05-15T18:24:05Z", "commit": {"oid": "ec1d10c208a23da71d1551fcfa1f09b863ee86d7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962cc5938e734bb1cde8fcf8e426e33b149b67e6", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/962cc5938e734bb1cde8fcf8e426e33b149b67e6", "committedDate": "2020-05-15T21:05:31Z", "message": "Using correct config node.\n\nSigned-off-by: Tomas Langer <tomas.langer@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTc5NTg0", "url": "https://github.com/oracle/helidon/pull/1809#pullrequestreview-412979584", "createdAt": "2020-05-15T21:30:23Z", "commit": {"oid": "962cc5938e734bb1cde8fcf8e426e33b149b67e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 620, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}