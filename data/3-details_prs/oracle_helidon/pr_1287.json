{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNDYwNzc2", "number": 1287, "title": "MP Reactive Messaging impl", "bodyText": "Part of the implementation of /issues/1206\nDepends on #1282", "createdAt": "2020-01-10T13:54:13Z", "url": "https://github.com/oracle/helidon/pull/1287", "merged": true, "mergeCommit": {"oid": "57e5771088d637415ca52fe75881ec98e24a531b"}, "closed": true, "closedAt": "2020-03-10T16:32:02Z", "author": {"login": "danielkec"}, "timelineItems": {"totalCount": 43, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6NY_eABqjI5NDYyNTMyMTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMU-2-AFqTM3MjExMTM3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d86ee7a0f6c98f1047acd2e2fa8c2be5bc6587a3", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/d86ee7a0f6c98f1047acd2e2fa8c2be5bc6587a3", "committedDate": "2020-01-13T09:50:25Z", "message": "Clean-up ifs\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "0b6539117028eeb267de1386560c688b4780e4de", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/0b6539117028eeb267de1386560c688b4780e4de", "committedDate": "2020-01-14T09:17:48Z", "message": "MP Reactive Messaging impl\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>\n\nClean-up ifs\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b6539117028eeb267de1386560c688b4780e4de", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/0b6539117028eeb267de1386560c688b4780e4de", "committedDate": "2020-01-14T09:17:48Z", "message": "MP Reactive Messaging impl\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>\n\nClean-up ifs\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "ec9f59cbd4f68ed2e8d098a0b1536666b4f5de21", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/ec9f59cbd4f68ed2e8d098a0b1536666b4f5de21", "committedDate": "2020-01-14T15:59:44Z", "message": "MP Reactive Messaging impl\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f763ccbfc9924e52148212032df9b29f5316e9c", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/2f763ccbfc9924e52148212032df9b29f5316e9c", "committedDate": "2020-01-16T13:14:29Z", "message": "Arquillian manually managed deploy fix after native compatibility cdi changes\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "840cbc59620e8c652e111bf0469eee9dbd9a459e", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/840cbc59620e8c652e111bf0469eee9dbd9a459e", "committedDate": "2020-01-16T14:30:43Z", "message": "Arquillian manually managed deploy fix after native compatibility cdi changes\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "840cbc59620e8c652e111bf0469eee9dbd9a459e", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/840cbc59620e8c652e111bf0469eee9dbd9a459e", "committedDate": "2020-01-16T14:30:43Z", "message": "Arquillian manually managed deploy fix after native compatibility cdi changes\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "77d8e98e777b927e1ad801c10aec4e2c7bfff6e9", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/77d8e98e777b927e1ad801c10aec4e2c7bfff6e9", "committedDate": "2020-01-16T21:54:55Z", "message": "Arquillian manually managed deploy fix after native compatibility cdi changes\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "676007e90f766458abdb7e3826ea98bf4cc98185", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/676007e90f766458abdb7e3826ea98bf4cc98185", "committedDate": "2020-01-20T09:07:42Z", "message": "Clean up\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "1046968fd5866d9ceb88f34027ab6953bef83da2", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/1046968fd5866d9ceb88f34027ab6953bef83da2", "committedDate": "2020-01-21T09:52:58Z", "message": "Clean up\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1046968fd5866d9ceb88f34027ab6953bef83da2", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/1046968fd5866d9ceb88f34027ab6953bef83da2", "committedDate": "2020-01-21T09:52:58Z", "message": "Clean up\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "3a4c10354e54688869b241f0dbd675489c8f20d7", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/3a4c10354e54688869b241f0dbd675489c8f20d7", "committedDate": "2020-02-25T11:06:29Z", "message": "Generic vararg warning cleanup\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTA4MDkz", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-364508093", "createdAt": "2020-02-25T22:50:13Z", "commit": {"oid": "3a4c10354e54688869b241f0dbd675489c8f20d7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NjY5Njk2", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-365669696", "createdAt": "2020-02-27T13:16:00Z", "commit": {"oid": "106c17385b9887161d23570377027c38a91fbb30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMzoxNjowMFrOFvRvzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMzoxNjowMFrOFvRvzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTExODE1Ng==", "bodyText": "@tomas-langer Error collection for signature resolving and validation", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r385118156", "createdAt": "2020-02-27T13:16:00Z", "author": {"login": "danielkec"}, "path": "microprofile/messaging/src/main/java/io/helidon/microprofile/messaging/MessagingCdiExtension.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.helidon.microprofile.messaging;\n+\n+import java.util.logging.Logger;\n+\n+import javax.annotation.Priority;\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.context.Initialized;\n+import javax.enterprise.event.Observes;\n+import javax.enterprise.inject.spi.AfterDeploymentValidation;\n+import javax.enterprise.inject.spi.BeanManager;\n+import javax.enterprise.inject.spi.DeploymentException;\n+import javax.enterprise.inject.spi.Extension;\n+import javax.enterprise.inject.spi.ProcessAnnotatedType;\n+import javax.enterprise.inject.spi.ProcessManagedBean;\n+import javax.enterprise.inject.spi.WithAnnotations;\n+\n+import io.helidon.common.Errors;\n+import io.helidon.microprofile.messaging.channel.ChannelRouter;\n+\n+import org.eclipse.microprofile.reactive.messaging.Incoming;\n+import org.eclipse.microprofile.reactive.messaging.Outgoing;\n+import org.eclipse.microprofile.reactive.messaging.spi.Connector;\n+\n+import static javax.interceptor.Interceptor.Priority.PLATFORM_AFTER;\n+\n+/**\n+ * MicroProfile Reactive Messaging CDI Extension.\n+ */\n+public class MessagingCdiExtension implements Extension {\n+    private static final Logger LOGGER = Logger.getLogger(MessagingCdiExtension.class.getName());\n+\n+    private ChannelRouter channelRouter = new ChannelRouter();\n+\n+    private void registerChannelMethods(\n+            @Observes\n+            @WithAnnotations({Incoming.class, Outgoing.class}) ProcessAnnotatedType<?> pat) {\n+        // Lookup channel methods\n+        pat.getAnnotatedType().getMethods().forEach(m -> channelRouter.registerMethod(m));\n+    }\n+\n+    private void onProcessBean(@Observes ProcessManagedBean<?> event) {\n+        // Lookup connectors\n+        if (null != event.getAnnotatedBeanClass().getAnnotation(Connector.class)) {\n+            channelRouter.registerConnectorFactory(event.getBean());\n+        }\n+        // Gather bean references\n+        channelRouter.registerBeanReference(event.getBean());\n+    }\n+\n+    private void deploymentValidation(@Observes AfterDeploymentValidation event) {\n+        Errors.Collector errors = channelRouter.getErrors();\n+        boolean hasFatal = errors.hasFatal();\n+        Errors errorMessages = errors.collect();\n+        if (hasFatal) {\n+            throw new DeploymentException(errorMessages.toString());\n+        } else {\n+            errorMessages.log(LOGGER);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106c17385b9887161d23570377027c38a91fbb30"}, "originalPosition": 74}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NjczNjYz", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-365673663", "createdAt": "2020-02-27T13:22:09Z", "commit": {"oid": "106c17385b9887161d23570377027c38a91fbb30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMzoyMjowOVrOFvR8Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMzoyMjowOVrOFvR8Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEyMTMyNg==", "bodyText": "@tomas-langer Tear down is double checked to avoid cross test pollution related to #1446", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r385121326", "createdAt": "2020-02-27T13:22:09Z", "author": {"login": "danielkec"}, "path": "microprofile/messaging/src/test/java/io/helidon/microprofile/messaging/AbstractCDITest.java", "diffHunk": "@@ -0,0 +1,195 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.helidon.microprofile.messaging;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.lang.annotation.Annotation;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.concurrent.TimeUnit;\n+import java.util.function.Consumer;\n+import java.util.logging.LogManager;\n+import java.util.stream.Collectors;\n+\n+import javax.enterprise.inject.se.SeContainer;\n+import javax.enterprise.inject.se.SeContainerInitializer;\n+import javax.enterprise.inject.spi.CDI;\n+\n+import io.helidon.config.Config;\n+import io.helidon.config.ConfigSources;\n+import io.helidon.microprofile.server.Server;\n+import io.helidon.microprofile.server.ServerCdiExtension;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.junit.jupiter.api.Assertions.fail;\n+\n+import org.eclipse.microprofile.config.spi.ConfigProviderResolver;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+\n+public abstract class AbstractCDITest {\n+\n+    static Server singleServerReference;\n+\n+    static {\n+        try (InputStream is = AbstractCDITest.class.getResourceAsStream(\"/logging.properties\")) {\n+            LogManager.getLogManager().readConfiguration(is);\n+        } catch (IOException e) {\n+            fail(e);\n+        }\n+    }\n+\n+    protected SeContainer cdiContainer;\n+\n+    protected Map<String, String> cdiConfig() {\n+        return Collections.emptyMap();\n+    }\n+\n+    protected void cdiBeanClasses(Set<Class<?>> classes) {\n+        //noop\n+    }\n+\n+    @BeforeEach\n+    public void setUp() {\n+        Set<Class<?>> classes = new HashSet<>();\n+        cdiBeanClasses(classes);\n+        Map<String, String> p = new HashMap<>(cdiConfig());\n+        cdiContainer = startCdiContainer(p, classes);\n+    }\n+\n+    @AfterEach\n+    public void tearDown() {\n+        try {\n+            singleServerReference.stop();\n+            cdiContainer.close();\n+        } catch (Throwable t) {\n+            //emergency cleanup see #1446\n+            stopCdiContainer();\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106c17385b9887161d23570377027c38a91fbb30"}, "originalPosition": 91}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDAzMDQw", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-368003040", "createdAt": "2020-03-03T14:04:35Z", "commit": {"oid": "b363811735d430c7ffaa785bfdb504c13a9de7d4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abdb9c81aef9ab43027263edd08ec1dbbaff5491", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/abdb9c81aef9ab43027263edd08ec1dbbaff5491", "committedDate": "2020-03-03T20:11:37Z", "message": "MP Reactive Messaging impl\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "253efc1299c33949855a00e44caf5eea79fc46d1", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/253efc1299c33949855a00e44caf5eea79fc46d1", "committedDate": "2020-03-03T20:11:37Z", "message": "Arquillian manually managed deploy fix after native compatibility cdi changes\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5186a41aea30739f2050c39fbb3e383d8bd84aa5", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/5186a41aea30739f2050c39fbb3e383d8bd84aa5", "committedDate": "2020-03-03T20:11:37Z", "message": "Routing assembly at proper time\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a2e6485c0cf0409d9a5a9112b88c4531e4e9dc8", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/5a2e6485c0cf0409d9a5a9112b88c4531e4e9dc8", "committedDate": "2020-03-03T20:11:37Z", "message": "Generic vararg warning cleanup\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e441decd854a4131c20ec1472769f911521e456", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/4e441decd854a4131c20ec1472769f911521e456", "committedDate": "2020-03-03T20:11:37Z", "message": "Fix test container tear-down\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a62998cfd5a6f5afb8e41611ab81c4b9cd089aa4", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/a62998cfd5a6f5afb8e41611ab81c4b9cd089aa4", "committedDate": "2020-03-03T20:12:04Z", "message": "Error collecting\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "405ed38468078a561b10e0bf980fdcb026d87b3f", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/405ed38468078a561b10e0bf980fdcb026d87b3f", "committedDate": "2020-03-03T21:08:32Z", "message": "Flatten packages\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b363811735d430c7ffaa785bfdb504c13a9de7d4", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/b363811735d430c7ffaa785bfdb504c13a9de7d4", "committedDate": "2020-02-27T13:30:48Z", "message": "Copyright fix\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "a72990b979f5cf41eb7d7fe7b10626e8f19b7a6d", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/a72990b979f5cf41eb7d7fe7b10626e8f19b7a6d", "committedDate": "2020-03-03T21:16:50Z", "message": "Fix Arquillian tests pollution\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a72990b979f5cf41eb7d7fe7b10626e8f19b7a6d", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/a72990b979f5cf41eb7d7fe7b10626e8f19b7a6d", "committedDate": "2020-03-03T21:16:50Z", "message": "Fix Arquillian tests pollution\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "aa2e74e5f84abf11ac148a88bf98c379f8a1d232", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/aa2e74e5f84abf11ac148a88bf98c379f8a1d232", "committedDate": "2020-03-03T21:22:15Z", "message": "Fix Arquillian tests pollution\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2e74e5f84abf11ac148a88bf98c379f8a1d232", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/aa2e74e5f84abf11ac148a88bf98c379f8a1d232", "committedDate": "2020-03-03T21:22:15Z", "message": "Fix Arquillian tests pollution\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dccd26b45401087b85a69529d6d7d6136f16b3ed", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/dccd26b45401087b85a69529d6d7d6136f16b3ed", "committedDate": "2020-03-03T21:29:58Z", "message": "Register feature\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecd1e07e34f340cf942872f56b00e42a9fcbf2a9", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/ecd1e07e34f340cf942872f56b00e42a9fcbf2a9", "committedDate": "2020-03-03T21:36:12Z", "message": "Rename AbstractMethod\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "852c38cfbd18158d3fc1c51cccb0f216972b5752", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/852c38cfbd18158d3fc1c51cccb0f216972b5752", "committedDate": "2020-03-03T22:19:12Z", "message": "Clean up raw generics\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6c4c774075796664a28e3ffe5338164be6a7146", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/c6c4c774075796664a28e3ffe5338164be6a7146", "committedDate": "2020-03-04T08:06:10Z", "message": "Config merging cleanup\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceb722f3c6a10d457e198f296fbe67f66d2dcda3", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/ceb722f3c6a10d457e198f296fbe67f66d2dcda3", "committedDate": "2020-03-04T08:24:06Z", "message": "Final fields cleanup\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00d8a4e29610a8246c3053d8a9277f8d491aa2d4", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/00d8a4e29610a8246c3053d8a9277f8d491aa2d4", "committedDate": "2020-03-04T08:43:08Z", "message": "Proper acknowledgement\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "188336060977f551aa9e435400461b19809f0fc6", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/188336060977f551aa9e435400461b19809f0fc6", "committedDate": "2020-03-04T08:49:47Z", "message": "Param assigment\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e8aefe9988d8e1f39ae1158dce2f494652ca357", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/3e8aefe9988d8e1f39ae1158dce2f494652ca357", "committedDate": "2020-03-04T09:06:21Z", "message": "Add module-info\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dbfb84912b7ba594cc0d92fcd7a4bcb783c04c5", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/2dbfb84912b7ba594cc0d92fcd7a4bcb783c04c5", "committedDate": "2020-03-04T21:27:22Z", "message": "Get rid of intermediate blocking by queuing completables and keeping order of callbacks.\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db5ef086f015732f3b97f35219388e20c7518388", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/db5ef086f015732f3b97f35219388e20c7518388", "committedDate": "2020-03-05T08:16:39Z", "message": "Fix racing tests\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/be870335bdc5a1c56b3f05f7775ef5af066e7939", "committedDate": "2020-03-05T10:51:17Z", "message": "CompletableQueue has maximum size\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTMyOTc1", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-369532975", "createdAt": "2020-03-05T12:37:33Z", "commit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjozNzozNFrOFyR6NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo0NTo1NVrOFySJdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2NjU0OQ==", "bodyText": "Versions MUST be managed in dependencies/pom.xml, mark PR with tag dependencies and please add Joe Di Pol as a reviewer.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388266549", "createdAt": "2020-03-05T12:37:34Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/pom.xml", "diffHunk": "@@ -0,0 +1,63 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Copyright (c) 2020 Oracle and/or its affiliates. All rights reserved.\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>io.helidon.microprofile</groupId>\n+        <artifactId>helidon-microprofile-project</artifactId>\n+        <version>2.0.0-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>helidon-microprofile-messaging</artifactId>\n+    <name>Helidon MicroProfile Reactive Messaging</name>\n+    <description>\n+        Helidon MicroProfile Reactive Messaging\n+    </description>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.eclipse.microprofile.reactive.messaging</groupId>\n+            <artifactId>microprofile-reactive-messaging-api</artifactId>\n+            <version>1.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2Njk2Mg==", "bodyText": "This must also be fixed in microprofile/reactive-streams/pom.xml", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388266962", "createdAt": "2020-03-05T12:38:25Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/pom.xml", "diffHunk": "@@ -0,0 +1,63 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Copyright (c) 2020 Oracle and/or its affiliates. All rights reserved.\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>io.helidon.microprofile</groupId>\n+        <artifactId>helidon-microprofile-project</artifactId>\n+        <version>2.0.0-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>helidon-microprofile-messaging</artifactId>\n+    <name>Helidon MicroProfile Reactive Messaging</name>\n+    <description>\n+        Helidon MicroProfile Reactive Messaging\n+    </description>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.eclipse.microprofile.reactive.messaging</groupId>\n+            <artifactId>microprofile-reactive-messaging-api</artifactId>\n+            <version>1.0</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2NjU0OQ=="}, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2NzQxNg==", "bodyText": "Remove  All rights reserved. from all copyrights that are updated.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388267416", "createdAt": "2020-03-05T12:39:20Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/pom.xml", "diffHunk": "@@ -0,0 +1,63 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Copyright (c) 2020 Oracle and/or its affiliates. All rights reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2NzU2Mw==", "bodyText": "Definitely not MP Metrics ;)", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388267563", "createdAt": "2020-03-05T12:39:40Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright (c) 2018, 2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/**\n+ * Microprofile metrics implementation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2ODA0OQ==", "bodyText": "All APIs that should be visible for the user should be transitive - that will make them imported to the using module as well.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388268049", "createdAt": "2020-03-05T12:40:42Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright (c) 2018, 2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+/**\n+ * Microprofile metrics implementation.\n+ */\n+module io.helidon.microprofile.messaging {\n+    requires java.logging;\n+\n+    requires static cdi.api;\n+    requires static javax.inject;\n+    requires static java.activation;\n+    requires javax.interceptor.api;\n+    requires io.helidon.config;\n+    requires org.reactivestreams;\n+    requires microprofile.reactive.messaging.api;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2ODYxMg==", "bodyText": "Methods should not be declared public in a package private class unless implementing methods from iface.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388268612", "createdAt": "2020-03-05T12:41:51Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/src/main/java/io/helidon/microprofile/messaging/AbstractMessagingMethod.java", "diffHunk": "@@ -0,0 +1,126 @@\n+/*\n+ * Copyright (c)  2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package io.helidon.microprofile.messaging;\n+\n+import java.lang.reflect.Method;\n+import java.util.Optional;\n+\n+import javax.enterprise.inject.spi.Bean;\n+import javax.enterprise.inject.spi.BeanManager;\n+\n+import io.helidon.common.Errors;\n+import io.helidon.config.Config;\n+\n+import org.eclipse.microprofile.reactive.messaging.Acknowledgment;\n+\n+abstract class AbstractMessagingMethod {\n+\n+    private String incomingChannelName;\n+    private String outgoingChannelName;\n+\n+    private Bean<?> bean;\n+    private Object beanInstance;\n+    private MethodSignatureType type;\n+    private final Method method;\n+    private final Errors.Collector errors;\n+    private Acknowledgment.Strategy ackStrategy;\n+\n+\n+    AbstractMessagingMethod(Method method, Errors.Collector errors) {\n+        this.method = method;\n+        this.errors = errors;\n+        Optional<MethodSignatureType> signatureType = MethodSignatureResolver\n+                .create(method)\n+                .resolve();\n+        if (signatureType.isPresent()) {\n+            this.type = signatureType.get();\n+            resolveAckStrategy();\n+        } else {\n+            errors.fatal(\"Unsupported method signature \" + method);\n+        }\n+    }\n+\n+    void validate() {\n+        Optional.ofNullable(method.getAnnotation(Acknowledgment.class))\n+                .map(Acknowledgment::value)\n+                .filter(s -> !type.getSupportedAckStrategies().contains(s))\n+                .ifPresent(strategy -> {\n+                    errors.fatal(String.format(\"Acknowledgment strategy %s is not supported for method signature: %s\",\n+                            strategy, type));\n+                });\n+    }\n+\n+    public void init(BeanManager beanManager, Config config) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MDQ1NQ==", "bodyText": "Do we really need so many types of exceptions?\nI think we do not expect anybody to catch these exceptions specifically, so we should be fine with a MessagingException and if needed a MessagingDeploymentException and describe the problem in message, rather then creating a typed exception for each case.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388270455", "createdAt": "2020-03-05T12:45:55Z", "author": {"login": "tomas-langer"}, "path": "microprofile/messaging/src/main/java/io/helidon/microprofile/messaging/CompletableQueueOverflowException.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright (c)  2020 Oracle and/or its affiliates. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package io.helidon.microprofile.messaging;\n+\n+/**\n+ * Raised when {@link io.helidon.microprofile.messaging.CompletableQueue} max size is reached.\n+ */\n+public class CompletableQueueOverflowException extends RuntimeException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be870335bdc5a1c56b3f05f7775ef5af066e7939"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c183f8c0c209a52a422d7a6b8d7c7848c54b4a0", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/9c183f8c0c209a52a422d7a6b8d7c7848c54b4a0", "committedDate": "2020-03-05T14:34:30Z", "message": "Move MP api dependency to dependencies/pom.xml\n\n  * Hide unnecessary public methods\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "99155b0b0651d76c135fd80a16d6369fee66521d", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/99155b0b0651d76c135fd80a16d6369fee66521d", "committedDate": "2020-03-05T13:17:06Z", "message": "Move MP api dependency to dependencies/pom.xml\n\n  * Hide unnecessary public methods\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}, "afterCommit": {"oid": "f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1", "committedDate": "2020-03-05T14:52:40Z", "message": "Wait for whole stream in async tests\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1", "committedDate": "2020-03-05T14:52:40Z", "message": "Wait for whole stream in async tests\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NjM2MzUz", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-369636353", "createdAt": "2020-03-05T14:55:38Z", "commit": {"oid": "f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1NTozOFrOFyWtzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1NTozOFrOFyWtzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NTI5Mg==", "bodyText": "FYI @barchetta", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388345292", "createdAt": "2020-03-05T14:55:38Z", "author": {"login": "danielkec"}, "path": "dependencies/pom.xml", "diffHunk": "@@ -485,6 +488,21 @@\n                     </exclusion>\n                 </exclusions>\n             </dependency>\n+            <dependency>\n+                <groupId>org.eclipse.microprofile.reactive-streams-operators</groupId>\n+                <artifactId>microprofile-reactive-streams-operators-api</artifactId>\n+                <version>${version.lib.microprofile-reactive-streams-operators-api}</version>\n+            </dependency>\n+            <dependency>\n+                <groupId>org.eclipse.microprofile.reactive-streams-operators</groupId>\n+                <artifactId>microprofile-reactive-streams-operators-core</artifactId>\n+                <version>${version.lib.microprofile-reactive-streams-operators-core}</version>\n+            </dependency>\n+            <dependency>\n+                <groupId>org.eclipse.microprofile.reactive.messaging</groupId>\n+                <artifactId>microprofile-reactive-messaging-api</artifactId>\n+                <version>${version.lib.microprofile-reactive-messaging-api}</version>\n+            </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6a60ea2127128f5b260b0f9d9a89e9d2f4662e1"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "011fe3946bba3a236ce0f6e497c0fca5091999a1", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/011fe3946bba3a236ce0f6e497c0fca5091999a1", "committedDate": "2020-03-05T18:32:09Z", "message": "Reactive Streams module-info\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46992ab11f822d72bf293988d9d030d33a3f3c27", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/46992ab11f822d72bf293988d9d030d33a3f3c27", "committedDate": "2020-03-05T21:01:14Z", "message": "Clean up tck poms\n\n  * Fix INCOMING_SUBSCRIBER_MSG_2_VOID signature handling\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c9111c774d0310d7a82b5e3abc5a68d051e23d", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/e1c9111c774d0310d7a82b5e3abc5a68d051e23d", "committedDate": "2020-03-05T21:27:04Z", "message": "Werker build fix\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26830e441518532ab2ab56a925f393ac1d6b2deb", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/26830e441518532ab2ab56a925f393ac1d6b2deb", "committedDate": "2020-03-05T21:35:12Z", "message": "Copyright fix\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5OTM2MjEx", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-369936211", "createdAt": "2020-03-05T21:42:46Z", "commit": {"oid": "e1c9111c774d0310d7a82b5e3abc5a68d051e23d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo0Mjo0NlrOFylOVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo0Mjo0NlrOFylOVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU4Mjk5OQ==", "bodyText": "@tomas-langer Is it possible to not moving those test dependencies to dependency/pom.xml? Using SmallRye operators for messaging tck as workaround for eclipse/microprofile-reactive-messaging/issues/95 , SmallRye operators depends on different version of rxjava, than Helidon depend on already.", "url": "https://github.com/oracle/helidon/pull/1287#discussion_r388582999", "createdAt": "2020-03-05T21:42:46Z", "author": {"login": "danielkec"}, "path": "microprofile/tests/tck/tck-messaging/pom.xml", "diffHunk": "@@ -0,0 +1,94 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+\n+    Copyright (c) 2020 Oracle and/or its affiliates.\n+\n+    Licensed under the Apache License, Version 2.0 (the \"License\");\n+    you may not use this file except in compliance with the License.\n+    You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing, software\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+    See the License for the specific language governing permissions and\n+    limitations under the License.\n+\n+-->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>io.helidon.microprofile.tests</groupId>\n+        <artifactId>tck-project</artifactId>\n+        <version>2.0.0-SNAPSHOT</version>\n+    </parent>\n+    <artifactId>tck-messaging</artifactId>\n+    <name>Helidon Microprofile Tests TCK Messaging</name>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>io.helidon.microprofile.messaging</groupId>\n+            <artifactId>helidon-microprofile-messaging</artifactId>\n+            <version>${project.version}</version>\n+            <scope>test</scope>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>io.helidon.microprofile.reactive-streams</groupId>\n+                    <artifactId>helidon-microprofile-reactive-streams</artifactId>\n+                </exclusion>\n+            </exclusions>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.helidon.microprofile.tests</groupId>\n+            <artifactId>helidon-arquillian</artifactId>\n+            <version>${project.version}</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <!-- Workaround for TCKs expecting smallrye-like operators behaviour -->\n+            <!-- https://github.com/eclipse/microprofile-reactive-messaging/issues/95 -->\n+            <groupId>io.smallrye.reactive</groupId>\n+            <artifactId>smallrye-reactive-streams-operators</artifactId>\n+            <version>1.0.10</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.reactivex.rxjava2</groupId>\n+            <artifactId>rxjava</artifactId>\n+            <version>2.2.13</version>\n+            <scope>test</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1c9111c774d0310d7a82b5e3abc5a68d051e23d"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e388305f09a7df4994875fa2f897040e41ff293", "author": {"user": {"login": "danielkec", "name": "Daniel Kec"}}, "url": "https://github.com/oracle/helidon/commit/8e388305f09a7df4994875fa2f897040e41ff293", "committedDate": "2020-03-06T08:05:21Z", "message": "Unify exceptions\n\nSigned-off-by: Daniel Kec <daniel.kec@oracle.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMTExMzc4", "url": "https://github.com/oracle/helidon/pull/1287#pullrequestreview-372111378", "createdAt": "2020-03-10T16:19:56Z", "commit": {"oid": "8e388305f09a7df4994875fa2f897040e41ff293"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 880, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}