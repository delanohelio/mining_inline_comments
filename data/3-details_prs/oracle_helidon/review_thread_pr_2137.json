{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTcyOTE5", "number": 2137, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDozNjo0NlrOEL1cbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo1MTowMFrOEL1tNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODQ1NDIyOnYy", "diffSide": "RIGHT", "path": "archetypes/catalog/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDozNjo0NlrOGtmRfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDozNjo0NlrOGtmRfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ2NjE3NQ==", "bodyText": "This plugin version needs to be managed in the top level pom.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450466175", "createdAt": "2020-07-06T20:36:46Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>\n+                                                        <variable name=\"cliVersion\"\n+                                                                  value=\"${version.plugin.helidon-build-tools}\"/>\n+                                                    </variables>\n+                                                </template>\n+                                            </templates>\n+                                        </archive>\n+                                    </archives>\n+                                    <files>\n+                                        <file target=\"cli-data/latest\">${project.version}</file>\n+                                    </files>\n+                                </directory>\n+                            </directories>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.soebes.maven.plugins</groupId>\n+                <artifactId>echo-maven-plugin</artifactId>\n+                <version>0.4.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODQ3MzE2OnYy", "diffSide": "RIGHT", "path": "archetypes/catalog/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo0MzowNFrOGtmdBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo0MzowNFrOGtmdBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ2OTEyNw==", "bodyText": "There is nothing to do unless one wants to test the archetypes. Can you change the beginning of this sentence to provide some context ? E.g. You can test the archetypes locally with the Helidon CLI using the following arguments:\nAlso, the version is not always snapshot. E.g. if you build a tag.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450469127", "createdAt": "2020-07-06T20:43:04Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>\n+                                                        <variable name=\"cliVersion\"\n+                                                                  value=\"${version.plugin.helidon-build-tools}\"/>\n+                                                    </variables>\n+                                                </template>\n+                                            </templates>\n+                                        </archive>\n+                                    </archives>\n+                                    <files>\n+                                        <file target=\"cli-data/latest\">${project.version}</file>\n+                                    </files>\n+                                </directory>\n+                            </directories>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.soebes.maven.plugins</groupId>\n+                <artifactId>echo-maven-plugin</artifactId>\n+                <version>0.4.0</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>echo</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <echos>\n+                        <echo> |</echo>\n+                        <echo> |                      /')    </echo>\n+                        <echo> |               ////  /' )'   </echo>\n+                        <echo> |              @   \\/'  )'    </echo>\n+                        <echo> |  { note }   &lt; (  (_...)' </echo>\n+                        <echo> |               \\      )      </echo>\n+                        <echo> |                \\,,,,/       </echo>\n+                        <echo> |                 _|_         </echo>\n+                        <echo> |</echo>\n+                        <echo> |  You must add the following arguments to the CLI to use these snapshot archetypes:</echo>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODQ4OTA2OnYy", "diffSide": "RIGHT", "path": "archetypes/catalog/pom.xml", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo0ODoxMVrOGtmmyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMToyMjozNFrOGuQFaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw==", "bodyText": "Can you use the same name of in helidon-site ? I.e. cli.maven.plugin.version\nI know we have build.tools.version in metadata.properties, but IMO this is too confusing to expose as property.\nE.g. The line below has ${version.plugin.helidon-build-tools}\nI would like to use cli.maven.plugin.version onwards and look at renaming the property inside metadata.properties (even if that means having code that support both properties to maintain backward compatibility).\nAlso this property needs to have a default value since this stager plugin execution is added by default.\nYou should define the property with a default value in the top level pom:\n<cli.maven.plugin.version>${version.plugin.helidon-build-tools}</cli.maven.plugin.version>", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450471627", "createdAt": "2020-07-06T20:48:11Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ5MjMxNQ==", "bodyText": "cli.maven.plugin.version bothers me first because it doesn't following the normal naming convention version.plugin.* and second because there is no actual corresponding cli artifact; I didn't change it to better match the metadata property name. (Also, I still think we should be using this value when we generate from the archetypes, and then this name would be accurate.)\nBut I will change it just to make you happy ;-).", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450492315", "createdAt": "2020-07-06T21:35:29Z", "author": {"login": "batsatt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ5MjQxMA==", "bodyText": "", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450492410", "createdAt": "2020-07-06T21:35:41Z", "author": {"login": "batsatt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAyOTM3OA==", "bodyText": "My main issue with build-tools.version is that it's too generic. cli.maven.plugin.version does not follow the convention so you could use version.plugin.helidon.cli, or since as you point out there is no such maven artifact, you can use the existing property used to drive the helidon maven plugin: version.plugin.helidon-build-tools.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r451029378", "createdAt": "2020-07-07T17:30:13Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMjI3Ng==", "bodyText": "The changes are already in to switch to cli.maven.plugin.version.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r451032276", "createdAt": "2020-07-07T17:35:28Z", "author": {"login": "batsatt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0NjAwNA==", "bodyText": "Right, but as you noted there it does not follow the current convention and does not really point to a maven artifact.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r451046004", "createdAt": "2020-07-07T17:59:06Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1MTIwOA==", "bodyText": "We agreed on cli.build.tools.version and that change has been pushed.", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r451151208", "createdAt": "2020-07-07T21:22:34Z", "author": {"login": "batsatt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MTYyNw=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODQ5NTc5OnYy", "diffSide": "RIGHT", "path": "archetypes/catalog/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo1MDoyNlrOGtmq5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo1MDoyNlrOGtmq5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MjY3OA==", "bodyText": "This is a continuation of my previous comment.\nI think it would be more explicit using cli.maven.plugin.version as the property name:\nmvn clean install -Dcli.maven.plugin.version=2.0.3-SNAPSHOT", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450472678", "createdAt": "2020-07-06T20:50:26Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>\n+                                                        <variable name=\"cliVersion\"\n+                                                                  value=\"${version.plugin.helidon-build-tools}\"/>\n+                                                    </variables>\n+                                                </template>\n+                                            </templates>\n+                                        </archive>\n+                                    </archives>\n+                                    <files>\n+                                        <file target=\"cli-data/latest\">${project.version}</file>\n+                                    </files>\n+                                </directory>\n+                            </directories>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.soebes.maven.plugins</groupId>\n+                <artifactId>echo-maven-plugin</artifactId>\n+                <version>0.4.0</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>echo</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <echos>\n+                        <echo> |</echo>\n+                        <echo> |                      /')    </echo>\n+                        <echo> |               ////  /' )'   </echo>\n+                        <echo> |              @   \\/'  )'    </echo>\n+                        <echo> |  { note }   &lt; (  (_...)' </echo>\n+                        <echo> |               \\      )      </echo>\n+                        <echo> |                \\,,,,/       </echo>\n+                        <echo> |                 _|_         </echo>\n+                        <echo> |</echo>\n+                        <echo> |  You must add the following arguments to the CLI to use these snapshot archetypes:</echo>\n+                        <echo> |</echo>\n+                        <echo> |     --reset --url file://${project.build.directory}/cli-data</echo>\n+                        <echo> |</echo>\n+                        <echo> |  For example:</echo>\n+                        <echo> |</echo>\n+                        <echo> |     helidon init --batch --reset --url file://${project.build.directory}/cli-data</echo>\n+                        <echo> |</echo>\n+                        <echo> |  To use a build tools snapshot, specify the version when building this project, e.g.:</echo>\n+                        <echo> |</echo>\n+                        <echo> |     mvn clean install -Dbuild.tools.version=2.0.3-SNAPSHOT</echo>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODQ5NzE4OnYy", "diffSide": "RIGHT", "path": "archetypes/catalog/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo1MTowMFrOGtmrxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTozNjo1OVrOGtn6Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MjkwMA==", "bodyText": "Not really a comment, but what's the ascii art ?", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450472900", "createdAt": "2020-07-06T20:51:00Z", "author": {"login": "romain-grecourt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>\n+                                                        <variable name=\"cliVersion\"\n+                                                                  value=\"${version.plugin.helidon-build-tools}\"/>\n+                                                    </variables>\n+                                                </template>\n+                                            </templates>\n+                                        </archive>\n+                                    </archives>\n+                                    <files>\n+                                        <file target=\"cli-data/latest\">${project.version}</file>\n+                                    </files>\n+                                </directory>\n+                            </directories>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.soebes.maven.plugins</groupId>\n+                <artifactId>echo-maven-plugin</artifactId>\n+                <version>0.4.0</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>echo</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <echos>\n+                        <echo> |</echo>\n+                        <echo> |                      /')    </echo>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ5MzAzMA==", "bodyText": "see above", "url": "https://github.com/oracle/helidon/pull/2137#discussion_r450493030", "createdAt": "2020-07-06T21:36:59Z", "author": {"login": "batsatt"}, "path": "archetypes/catalog/pom.xml", "diffHunk": "@@ -67,4 +67,95 @@\n             <optional>true</optional>\n         </dependency>\n     </dependencies>\n+\n+    <properties>\n+        <!-- support command-line overrides -->\n+        <build.tools.version>${version.plugin.helidon-build-tools}</build.tools.version>\n+    </properties>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.helidon.build-tools</groupId>\n+                <artifactId>helidon-stager-maven-plugin</artifactId>\n+                <version>${version.plugin.helidon-build-tools}</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>stage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <directories>\n+                                <directory target=\"${project.build.directory}\">\n+                                    <archives>\n+                                        <archive target=\"cli-data/${project.version}/cli-data.zip\">\n+                                            <unpack-artifacts>\n+                                                <unpack-artifact groupId=\"io.helidon.archetypes\"\n+                                                                 artifactId=\"helidon-archetype-catalog\"\n+                                                                 version=\"${project.version}\"\n+                                                                 type=\"zip\"\n+                                                                 target=\".\"/>\n+                                            </unpack-artifacts>\n+                                            <templates>\n+                                                <template source=\"cli-metadata.properties.mustache\"\n+                                                          target=\"metadata.properties\">\n+                                                    <variables>\n+                                                        <variable name=\"buildtoolsVersion\"\n+                                                                  value=\"${build.tools.version}\"/>\n+                                                        <variable name=\"cliVersion\"\n+                                                                  value=\"${version.plugin.helidon-build-tools}\"/>\n+                                                    </variables>\n+                                                </template>\n+                                            </templates>\n+                                        </archive>\n+                                    </archives>\n+                                    <files>\n+                                        <file target=\"cli-data/latest\">${project.version}</file>\n+                                    </files>\n+                                </directory>\n+                            </directories>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.soebes.maven.plugins</groupId>\n+                <artifactId>echo-maven-plugin</artifactId>\n+                <version>0.4.0</version>\n+                <executions>\n+                    <execution>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>echo</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <echos>\n+                        <echo> |</echo>\n+                        <echo> |                      /')    </echo>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3MjkwMA=="}, "originalCommit": {"oid": "23150818c2aba65e09631c5aee17f849665b21ba"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 456, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}