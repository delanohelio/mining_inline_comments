{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NzMyMTc1", "number": 1332, "title": "Config now uses common media type module instead of FileTypeDetector.", "bodyText": "Resolves #1213", "createdAt": "2020-01-29T19:42:02Z", "url": "https://github.com/oracle/helidon/pull/1332", "merged": true, "mergeCommit": {"oid": "6c2ab5d3268f25049ccc0dc71a023f7dfe05428e"}, "closed": true, "closedAt": "2020-01-29T22:47:51Z", "author": {"login": "tomas-langer"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_LJKHgH2gAyMzY4NzMyMTc1OjUzYmZhYzljZmM0YWI4YzEyNjFiYjA5MThhMTg1MWEyZThkZTQ0ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_N5dUgFqTM1MDQ3NzQyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53bfac9cfc4ab8c1261bb0918a1851a2e8de4481", "author": {"user": {"login": "tomas-langer", "name": "Tomas Langer"}}, "url": "https://github.com/oracle/helidon/commit/53bfac9cfc4ab8c1261bb0918a1851a2e8de4481", "committedDate": "2020-01-29T19:31:07Z", "message": "Config now uses common media type module instead of FileTypeDetector."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNDIwNzUw", "url": "https://github.com/oracle/helidon/pull/1332#pullrequestreview-350420750", "createdAt": "2020-01-29T21:00:53Z", "commit": {"oid": "53bfac9cfc4ab8c1261bb0918a1851a2e8de4481"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMTowMDo1M1rOFjXWYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMTowMDo1M1rOFjXWYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjYyNzA0Mg==", "bodyText": "Very minor point. The probeContentType methods in the other classes return Optional<String>. This one returns String and uses orElse. After a quick look I did not see any null checks on the returned String from this method. Just for consistency would it make sense (without excessive disruption of the other sites which invoke UrlConfigSource#probeContentType) to  return the Optional just as probeContentType in the other classes do?", "url": "https://github.com/oracle/helidon/pull/1332#discussion_r372627042", "createdAt": "2020-01-29T21:00:53Z", "author": {"login": "tjquinno"}, "path": "config/config/src/main/java/io/helidon/config/UrlConfigSource.java", "diffHunk": "@@ -162,25 +160,8 @@ private String mediaType(String responseMediaType) throws URISyntaxException {\n         return mediaType;\n     }\n \n-    private String probeContentType() throws URISyntaxException {\n-        URI uri = url.toURI();\n-        Path path;\n-        switch (uri.getScheme()) {\n-            case \"jar\":\n-                String relativePath = uri.getSchemeSpecificPart();\n-                int idx = relativePath.indexOf(\"!\");\n-                if (idx > 0 && idx < relativePath.length()) {\n-                    relativePath = relativePath.substring(idx + 1);\n-                }\n-                path = Paths.get(relativePath);\n-                break;\n-            case \"file\":\n-                path = Paths.get(uri);\n-                break;\n-            default:\n-                path = Paths.get(url.getPath());\n-        }\n-        return ConfigHelper.detectContentType(path);\n+    private String probeContentType() {\n+        return MediaTypes.detectType(url).orElse(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53bfac9cfc4ab8c1261bb0918a1851a2e8de4481"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNDc3NDIy", "url": "https://github.com/oracle/helidon/pull/1332#pullrequestreview-350477422", "createdAt": "2020-01-29T22:43:41Z", "commit": {"oid": "53bfac9cfc4ab8c1261bb0918a1851a2e8de4481"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 894, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}