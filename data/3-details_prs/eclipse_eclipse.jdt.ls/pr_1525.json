{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MjM1Nzgz", "number": 1525, "title": "Update to Eclipse 2020-09-M2", "bodyText": "Signed-off-by: Snjezana Peco snjezana.peco@redhat.com", "createdAt": "2020-08-06T20:01:22Z", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525", "merged": true, "mergeCommit": {"oid": "b05a37f28413d7e8d7aaa933ab538736c12f7227"}, "closed": true, "closedAt": "2020-08-21T09:28:52Z", "author": {"login": "snjeza"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8bkfdAFqTQ2MzAwNjM3NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA-zNYgFqTQ3MjIwMDg0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDA2Mzc0", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-463006374", "createdAt": "2020-08-07T03:08:50Z", "commit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzowODo1MFrOG9K90w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzowODo1MFrOG9K90w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc5NTk4Nw==", "bodyText": "Regarding that the completionHandler will pass the favorite prefs to the collector at each completion request, what's benefit to persist it to the preference store?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r466795987", "createdAt": "2020-08-07T03:08:50Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/JavaLanguageServerPlugin.java", "diffHunk": "@@ -173,6 +173,9 @@ public void start(BundleContext bundleContext) throws Exception {\n \t\t\tpreferenceManager = new StandardPreferenceManager();\n \t\t\tprojectsManager = new StandardProjectsManager(preferenceManager);\n \t\t}\n+\t\tIEclipsePreferences fDefaultPreferenceStore = DefaultScope.INSTANCE.getNode(JavaManipulation.getPreferenceNodeId());\n+\t\tString javaCompletionFavoriteMembers = String.join(\":\", preferenceManager.getPreferences().getJavaCompletionFavoriteMembers());\n+\t\tfDefaultPreferenceStore.put(JavaManipulationPlugin.CODEASSIST_FAVORITE_STATIC_MEMBERS, javaCompletionFavoriteMembers);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDA4MTg0", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-463008184", "createdAt": "2020-08-07T03:15:45Z", "commit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxNTo0NVrOG9LEFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxNTo0NVrOG9LEFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc5NzU4OQ==", "bodyText": "=> assertTrue(list.getItems().stream().anyMatch(i -> \"java.util.List\".equals(i.getDetail())));", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r466797589", "createdAt": "2020-08-07T03:15:45Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -2849,7 +2849,8 @@ public void testCompletion_FilterTypes() throws JavaModelException {\n \n \t\tCompletionList list = server.completion(JsonMessageHelper.getParams(createCompletionRequest(unit, loc[0], loc[1]))).join().getRight();\n \t\tassertNotNull(list);\n-\t\tassertEquals(3, list.getItems().size());\n+\t\tList<CompletionItem> items = list.getItems().stream().filter(i -> \"java.util.List\".equals(i.getDetail())).collect(Collectors.toList());\n+\t\tassertFalse(items.isEmpty());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDA4MjYx", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-463008261", "createdAt": "2020-08-07T03:16:03Z", "commit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxNjowM1rOG9LEUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxNjowM1rOG9LEUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc5NzY0OQ==", "bodyText": "See above comment.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r466797649", "createdAt": "2020-08-07T03:16:03Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -2864,7 +2865,8 @@ public void testCompletion_FilterTypes() throws JavaModelException {\n \t\t\tPreferenceManager.getPrefs(null).setFilteredTypes(filteredTypes);\n \t\t\tlist = server.completion(JsonMessageHelper.getParams(createCompletionRequest(unit, loc[0], loc[1]))).join().getRight();\n \t\t\tassertNotNull(list);\n-\t\t\tassertEquals(0, list.getItems().size());\n+\t\t\titems = list.getItems().stream().filter(i -> \"java.util.List\".equals(i.getDetail())).collect(Collectors.toList());\n+\t\t\tassertTrue(items.isEmpty());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDA5MTc2", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-463009176", "createdAt": "2020-08-07T03:19:46Z", "commit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxOTo0NlrOG9LHkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzoxOTo0NlrOG9LHkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc5ODQ4MQ==", "bodyText": "Is there any new factor that contributes more completion items?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r466798481", "createdAt": "2020-08-07T03:19:46Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -1459,7 +1459,7 @@ public void testSnippet_record() throws Exception {\n \t\tassertFalse(items.isEmpty());\n \t\titems.sort((i1, i2) -> (i1.getSortText().compareTo(i2.getSortText())));\n \n-\t\tCompletionItem item = items.get(10);\n+\t\tCompletionItem item = items.get(11);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36783e09628b59858617722cdd41c623c590f3e9", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/36783e09628b59858617722cdd41c623c590f3e9", "committedDate": "2020-08-06T19:59:30Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "3df8db7f6be0e1fbcfbd8b376e0845f13ca00822", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3df8db7f6be0e1fbcfbd8b376e0845f13ca00822", "committedDate": "2020-08-12T17:26:15Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3df8db7f6be0e1fbcfbd8b376e0845f13ca00822", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3df8db7f6be0e1fbcfbd8b376e0845f13ca00822", "committedDate": "2020-08-12T17:26:15Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "d69cabf95cc4495c35c1397a2d73e19a0f54b530", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/d69cabf95cc4495c35c1397a2d73e19a0f54b530", "committedDate": "2020-08-14T01:15:27Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d69cabf95cc4495c35c1397a2d73e19a0f54b530", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/d69cabf95cc4495c35c1397a2d73e19a0f54b530", "committedDate": "2020-08-14T01:15:27Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "944d1c53dae254033b07fd8e812b8a1f2c8f61fa", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/944d1c53dae254033b07fd8e812b8a1f2c8f61fa", "committedDate": "2020-08-14T16:59:04Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "944d1c53dae254033b07fd8e812b8a1f2c8f61fa", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/944d1c53dae254033b07fd8e812b8a1f2c8f61fa", "committedDate": "2020-08-14T16:59:04Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c0b54dc253542ab24ff2645652fe54238ef7ff2f", "committedDate": "2020-08-15T02:12:36Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4Mzk5OTIx", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468399921", "createdAt": "2020-08-17T12:00:02Z", "commit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjowMDowMlrOHBl1Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjowMDowMlrOHBl1Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQzMDQ1OQ==", "bodyText": "deselect org.eclipse.jdt.ls.tests.syntaxserver too.\nSame for other *.launch files.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471430459", "createdAt": "2020-08-17T12:00:02Z", "author": {"login": "testforstephen"}, "path": "launch/jdt.ls.remote.server.launch", "diffHunk": "@@ -13,7 +13,9 @@\n <booleanAttribute key=\"clearwslog\" value=\"false\"/>\n <stringAttribute key=\"configLocation\" value=\"${workspace_loc}/.metadata/.plugins/org.eclipse.pde.core/jdt.ls.remote.server\"/>\n <booleanAttribute key=\"default\" value=\"false\"/>\n-<stringAttribute key=\"deselected_workspace_plugins\" value=\"org.eclipse.jdt.ls.tests,org.eclipse.jdt.ls.tests.syntaxserver,org.eclipse.jdt.ui\"/>\n+<setAttribute key=\"deselected_workspace_bundles\">\n+<setEntry value=\"org.eclipse.jdt.ls.tests\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NDAxMTMw", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468401130", "createdAt": "2020-08-17T12:02:00Z", "commit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjowMjowMFrOHBl5LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjowMjowMFrOHBl5LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQzMTQ2OA==", "bodyText": "which plugin introduces the dependencies for org.apache.felix.scr and org.eclipse.equinox.ds?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471431468", "createdAt": "2020-08-17T12:02:00Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.product/languageServer.product", "diffHunk": "@@ -40,12 +41,14 @@\n       <plugin id=\"org.eclipse.debug.core\"/>\n       <plugin id=\"org.eclipse.equinox.app\"/>\n       <plugin id=\"org.eclipse.equinox.common\"/>\n+      <plugin id=\"org.eclipse.equinox.ds\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c0b54dc253542ab24ff2645652fe54238ef7ff2f", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c0b54dc253542ab24ff2645652fe54238ef7ff2f", "committedDate": "2020-08-15T02:12:36Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/2b19d9c2dcce50fd66019b32de3ba85600d575ce", "committedDate": "2020-08-17T16:26:55Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjE2ODc5", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468616879", "createdAt": "2020-08-17T16:29:39Z", "commit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjoyOTozOVrOHBv_xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjoyOTozOVrOHBv_xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU5Njk5OQ==", "bodyText": "org.eclipse.jdt.ui?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471596999", "createdAt": "2020-08-17T16:29:39Z", "author": {"login": "fbricon"}, "path": "launch/jdt.ls.socket-stream.launch", "diffHunk": "@@ -13,7 +13,10 @@\n <booleanAttribute key=\"clearwslog\" value=\"false\"/>\n <stringAttribute key=\"configLocation\" value=\"${workspace_loc}/.metadata/.plugins/org.eclipse.pde.core/jdt.ls.socket-stream\"/>\n <booleanAttribute key=\"default\" value=\"false\"/>\n-<stringAttribute key=\"deselected_workspace_plugins\" value=\"org.eclipse.jdt.ls.tests,org.eclipse.jdt.ls.tests.syntaxserver,org.eclipse.jdt.ui\"/>\n+<setAttribute key=\"deselected_workspace_bundles\">\n+<setEntry value=\"org.eclipse.jdt.ls.tests\"/>\n+<setEntry value=\"org.eclipse.jdt.ls.tests.syntaxserver\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjE3MDQ4", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468617048", "createdAt": "2020-08-17T16:29:53Z", "commit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjoyOTo1M1rOHBwAcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjoyOTo1M1rOHBwAcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU5NzE3MQ==", "bodyText": "org.eclipse.jdt.ui?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471597171", "createdAt": "2020-08-17T16:29:53Z", "author": {"login": "fbricon"}, "path": "launch/jdt.ls.socket-stream.syntaxserver.launch", "diffHunk": "@@ -13,7 +13,10 @@\n <booleanAttribute key=\"clearwslog\" value=\"false\"/>\n <stringAttribute key=\"configLocation\" value=\"${workspace_loc}/.metadata/.plugins/org.eclipse.pde.core/jdt.ls.socket-stream.syntaxserver\"/>\n <booleanAttribute key=\"default\" value=\"false\"/>\n-<stringAttribute key=\"deselected_workspace_plugins\" value=\"org.eclipse.jdt.ls.tests,org.eclipse.jdt.ls.tests.syntaxserver,org.eclipse.jdt.ui\"/>\n+<setAttribute key=\"deselected_workspace_bundles\">\n+<setEntry value=\"org.eclipse.jdt.ls.tests\"/>\n+<setEntry value=\"org.eclipse.jdt.ls.tests.syntaxserver\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjE4MTkz", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468618193", "createdAt": "2020-08-17T16:31:25Z", "commit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjozMToyNVrOHBwD3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjozMToyNVrOHBwD3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU5ODA0NA==", "bodyText": "no, keep 50. Clients which don't support additional computation on completion/resolve will see a bad performance degradation", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471598044", "createdAt": "2020-08-17T16:31:25Z", "author": {"login": "fbricon"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "diffHunk": "@@ -236,7 +236,7 @@\n \t * Defaults to 50.\n \t */\n \tpublic static final String JAVA_COMPLETION_MAX_RESULTS_KEY = \"java.completion.maxResults\";\n-\tpublic static final int JAVA_COMPLETION_MAX_RESULTS_DEFAULT = 50;\n+\tpublic static final int JAVA_COMPLETION_MAX_RESULTS_DEFAULT = Integer.MAX_VALUE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjE4NjQ0", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-468618644", "createdAt": "2020-08-17T16:32:04Z", "commit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjozMjowNVrOHBwFLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjozMjowNVrOHBwFLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU5ODM4Mw==", "bodyText": "you can use a foreach loop here", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r471598383", "createdAt": "2020-08-17T16:32:05Z", "author": {"login": "fbricon"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/syntaxserver/ModelBasedSearchableEnvironment.java", "diffHunk": "@@ -77,9 +77,11 @@ public void findTypes(String prefix, ISearchRequestor storage, int type) {\n \t\t\tIPackageFragment[] fragments = elementRequestor.getPackageFragments();\n \t\t\tif (fragments != null) {\n \t\t\t\tString className = prefix.substring(index + 1);\n-\t\t\t\tfor (int i = 0, length = fragments.length; i < length; i++)\n-\t\t\t\t\tif (fragments[i] != null)\n+\t\t\t\tfor (int i = 0, length = fragments.length; i < length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b19d9c2dcce50fd66019b32de3ba85600d575ce", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/2b19d9c2dcce50fd66019b32de3ba85600d575ce", "committedDate": "2020-08-17T16:26:55Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "0ab92df641d66bfdd328f6a124cbf996bc898866", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/0ab92df641d66bfdd328f6a124cbf996bc898866", "committedDate": "2020-08-17T17:14:27Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ab92df641d66bfdd328f6a124cbf996bc898866", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/0ab92df641d66bfdd328f6a124cbf996bc898866", "committedDate": "2020-08-17T17:14:27Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "1b91cdd1565492fac1433ff8a6cae06b15c09c1c", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/1b91cdd1565492fac1433ff8a6cae06b15c09c1c", "committedDate": "2020-08-17T17:58:42Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b91cdd1565492fac1433ff8a6cae06b15c09c1c", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/1b91cdd1565492fac1433ff8a6cae06b15c09c1c", "committedDate": "2020-08-17T17:58:42Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "50dadbb96961bfbfa368b0b364a2fb0b7a99ef1b", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/50dadbb96961bfbfa368b0b364a2fb0b7a99ef1b", "committedDate": "2020-08-18T17:55:34Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50dadbb96961bfbfa368b0b364a2fb0b7a99ef1b", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/50dadbb96961bfbfa368b0b364a2fb0b7a99ef1b", "committedDate": "2020-08-18T17:55:34Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/26e88fa18cff42f81eb6fa8f670a5fbaebcd0894", "committedDate": "2020-08-18T18:37:17Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMjY3OTc3", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-470267977", "createdAt": "2020-08-19T09:09:06Z", "commit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwOTowOTowNlrOHC-Vag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwOTowOTowNlrOHC-Vag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg4MDQ5MA==", "bodyText": "Have a test on lightweight and standard mode. Without \"javax.annotation, \"org.eclipse.e4.core.contexts, org.eclipse.e4.core.di, org.eclipse.e4.core.di.annotations, org.eclipse.e4.core.services\", both modes can start successfully. Looks like these 5 plugins are not required.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r472880490", "createdAt": "2020-08-19T09:09:06Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.product/syntaxServer.product", "diffHunk": "@@ -37,6 +39,10 @@\n       <plugin id=\"org.eclipse.core.runtime\"/>\n       <plugin id=\"org.eclipse.core.variables\"/>\n       <plugin id=\"org.eclipse.debug.core\"/>\n+      <plugin id=\"org.eclipse.e4.core.contexts\"/>\n+      <plugin id=\"org.eclipse.e4.core.di\"/>\n+      <plugin id=\"org.eclipse.e4.core.di.annotations\"/>\n+      <plugin id=\"org.eclipse.e4.core.services\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMjkxMDc1", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-470291075", "createdAt": "2020-08-19T09:37:55Z", "commit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwOTozNzo1NVrOHC_cww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwOTozNzo1NVrOHC_cww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg5ODc1NQ==", "bodyText": "With the new PR, i also observed the completion performance on type degraded.\nEnvironment:\n\nHardware\n\nMacBook Pro (13-inch, 2016, Four Thunderbolt 3 Ports)\nProcesor: 2.9 GHz Dual-Core Intel Core i5\nMemory: 8 GB 2133 MHz LPDDR3\n\n\nProject: https://github.com/spring-projects/spring-petclinic\nVS Code 1.48, only with Language Support for Java enabled.\n\nOld:\n\nNew:\nIt takes more than 3s to get the completion of String. If you only type S, it's slower.\n\nThis issue should be related with the new Substring/Subword matches for types https://www.eclipse.org/eclipse/news/4.17/jdt.php#content-assist-substring-types.\nIt seems it only provides switch to control subwords match, we need evaluate more on the new change.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#discussion_r472898755", "createdAt": "2020-08-19T09:37:55Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -2622,8 +2625,11 @@ public void testLimitCompletionResults() throws Exception {\n \t@Test\n \tpublic void testStaticImports2() throws Exception {\n \t\tPreferenceManager.getPrefs(null).setJavaCompletionFavoriteMembers(Collections.emptyList());\n-\t\tICompilationUnit unit = getWorkingCopy(\"src/test1/B.java\",\n-\t\t//@formatter:off\n+\t\tlong timeout = Long.getLong(\"completion.timeout\", 5000);\n+\t\ttry {\n+\t\t\tSystem.setProperty(\"completion.timeout\", String.valueOf(60000));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894"}, "originalPosition": 62}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26e88fa18cff42f81eb6fa8f670a5fbaebcd0894", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/26e88fa18cff42f81eb6fa8f670a5fbaebcd0894", "committedDate": "2020-08-18T18:37:17Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "8fbfaa2958363b76f05fd46c8fb3487260e06cb7", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/8fbfaa2958363b76f05fd46c8fb3487260e06cb7", "committedDate": "2020-08-19T15:57:07Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fbfaa2958363b76f05fd46c8fb3487260e06cb7", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/8fbfaa2958363b76f05fd46c8fb3487260e06cb7", "committedDate": "2020-08-19T15:57:07Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "59f3ea04aa516ad37d613ca6707c04421479f634", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/59f3ea04aa516ad37d613ca6707c04421479f634", "committedDate": "2020-08-19T16:47:52Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59f3ea04aa516ad37d613ca6707c04421479f634", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/59f3ea04aa516ad37d613ca6707c04421479f634", "committedDate": "2020-08-19T16:47:52Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "f52096613015aae6840cc047e01cf51b93edaf45", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/f52096613015aae6840cc047e01cf51b93edaf45", "committedDate": "2020-08-20T02:00:09Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3428e743c564786aa791d329724fd732baedaf71", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3428e743c564786aa791d329724fd732baedaf71", "committedDate": "2020-08-20T02:55:34Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f52096613015aae6840cc047e01cf51b93edaf45", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/f52096613015aae6840cc047e01cf51b93edaf45", "committedDate": "2020-08-20T02:00:09Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}, "afterCommit": {"oid": "3428e743c564786aa791d329724fd732baedaf71", "author": {"user": {"login": "snjeza", "name": "Snjeza"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3428e743c564786aa791d329724fd732baedaf71", "committedDate": "2020-08-20T02:55:34Z", "message": "Update to Eclipse 2020-09-M2\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMjAwODQ5", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1525#pullrequestreview-472200849", "createdAt": "2020-08-21T06:27:17Z", "commit": {"oid": "3428e743c564786aa791d329724fd732baedaf71"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1182, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}