{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NTM3Mjk0", "number": 1589, "title": "Improve tracing capability of m2e through m2e.logback.configuration.", "bodyText": "Add 'org.eclipse.m2e.logback.feature' to target platform\nAdd 'org.eclipse.m2e.logback' plugin to language server product\nThis exposes the 'logback.configurationFile' system property through\nwhich one can provide a logback configuration\n\nSigned-off-by: Roland Grunberg rgrunber@redhat.com\nA few notes on how this could work :\nSuppose we want to log using standard out/err :\nIn : /path/to/logback.xml\n<configuration scan=\"true\">\n  <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n    <encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\">\n      <pattern>%date [%thread] %-5level %logger{35} - %msg%n</pattern>\n    </encoder>\n  </appender>\n  <root level=\"DEBUG\">\n    <appender-ref ref=\"STDOUT\" />\n  </root>\n</configuration>\n\nNow when launching JDT-LS, we need to set -Dlogback.configurationFile=/path/to/logback.xml -Djdt.ls.debug=true\n(The latter ensures JDT-LS will create the correct log files in the workspace .metadata folder. One would need to use java.jdt.ls.vmargs to set these on the client side.\nA custom logfile location is also possible, but all that configuration would happen in the logback.xml without the need for setting\njdt.ls.debug=true\nUpdate :\nWith this change, the default logging for m2e would generate 'INFO' level logging only in ${workspace}/.metadata/.plugins/org.eclipse.m2e.logback.configuration/0.log.\n@fbricon", "createdAt": "2020-11-04T17:33:50Z", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589", "merged": true, "mergeCommit": {"oid": "9f116c2eac3f9bdcc2f28c1604788627adb484ad"}, "closed": true, "closedAt": "2020-11-11T07:49:01Z", "author": {"login": "rgrunber"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZoSc_AFqTUyNDYzNjIzMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbZD69AFqTUyNzkzMzA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NjM2MjMy", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#pullrequestreview-524636232", "createdAt": "2020-11-05T20:21:42Z", "commit": {"oid": "6046b9776eb4afb66ac94fd480016c0ac4a0150b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6046b9776eb4afb66ac94fd480016c0ac4a0150b", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/6046b9776eb4afb66ac94fd480016c0ac4a0150b", "committedDate": "2020-11-04T16:55:28Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- This exposes the 'logback.configurationFile' system property through\n  which one can provide a logback configuration\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}, "afterCommit": {"oid": "974dd4bcfdbc0da696320f4fcb54ab0cdec54626", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/974dd4bcfdbc0da696320f4fcb54ab0cdec54626", "committedDate": "2020-11-06T00:27:21Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- This exposes the 'logback.configurationFile' system property through\n  which one can provide a logback configuration\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NzgzMjc4", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#pullrequestreview-524783278", "createdAt": "2020-11-06T00:51:40Z", "commit": {"oid": "974dd4bcfdbc0da696320f4fcb54ab0cdec54626"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "974dd4bcfdbc0da696320f4fcb54ab0cdec54626", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/974dd4bcfdbc0da696320f4fcb54ab0cdec54626", "committedDate": "2020-11-06T00:27:21Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- This exposes the 'logback.configurationFile' system property through\n  which one can provide a logback configuration\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}, "afterCommit": {"oid": "3b54e4a9b91eb0a70228a4634a627e4735794bfe", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3b54e4a9b91eb0a70228a4634a627e4735794bfe", "committedDate": "2020-11-09T20:44:10Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- When system property 'jdt.ls.debug=true' is set (eg. by\n  java.jdt.ls.vmargs), and 'logback.configurationFile' is not set ,\n  verbose (DEBUG) logging will be done on the standard output of JDT-LS.\n- The system property 'logback.configurationFile' is also available for\n  advanced debugging usages\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2OTcwODAw", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#pullrequestreview-526970800", "createdAt": "2020-11-10T08:42:58Z", "commit": {"oid": "3b54e4a9b91eb0a70228a4634a627e4735794bfe"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwODo0Mjo1OFrOHwRsgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwODo0MzozNlrOHwRt7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM4MzYxNg==", "bodyText": "The launch file is supposed to add all required bundles explicitly, you have to add all dependencies from logback to the launch file.\n<setEntry value=\"ch.qos.logback.classic@default:default\"/>\n<setEntry value=\"ch.qos.logback.core@default:default\"/>\n<setEntry value=\"ch.qos.logback.slf4j@default:default\"/>", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#discussion_r520383616", "createdAt": "2020-11-10T08:42:58Z", "author": {"login": "testforstephen"}, "path": "launch/jdt.ls.remote.server.launch", "diffHunk": "@@ -91,6 +91,7 @@\n <setEntry value=\"org.eclipse.m2e.core@default:default\"/>\n <setEntry value=\"org.eclipse.m2e.jdt@default:default\"/>\n <setEntry value=\"org.eclipse.m2e.lifecyclemapping.defaults@default:default\"/>\n+<setEntry value=\"org.eclipse.m2e.logback.configuration@default:default\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b54e4a9b91eb0a70228a4634a627e4735794bfe"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM4Mzk4MA==", "bodyText": "Add the required bundles to the launch file.\n\n<setEntry value=\"ch.qos.logback.classic@default:default\"/>\n<setEntry value=\"ch.qos.logback.core@default:default\"/>\n<setEntry value=\"ch.qos.logback.slf4j@default:default\"/>", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#discussion_r520383980", "createdAt": "2020-11-10T08:43:36Z", "author": {"login": "testforstephen"}, "path": "launch/jdt.ls.socket-stream.launch", "diffHunk": "@@ -92,6 +92,7 @@\n <setEntry value=\"org.eclipse.m2e.core@default:default\"/>\n <setEntry value=\"org.eclipse.m2e.jdt@default:default\"/>\n <setEntry value=\"org.eclipse.m2e.lifecyclemapping.defaults@default:default\"/>\n+<setEntry value=\"org.eclipse.m2e.logback.configuration@default:default\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b54e4a9b91eb0a70228a4634a627e4735794bfe"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bc3fc0279d13b9a9fc78d5ca3be91087bee2bb2", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/5bc3fc0279d13b9a9fc78d5ca3be91087bee2bb2", "committedDate": "2020-11-10T15:26:12Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- When system property 'jdt.ls.debug=true' is set (eg. by\n  java.jdt.ls.vmargs), and 'logback.configurationFile' is not set ,\n  verbose (DEBUG) logging will be done on the standard output of JDT-LS.\n- The system property 'logback.configurationFile' is also available for\n  advanced debugging usages\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b54e4a9b91eb0a70228a4634a627e4735794bfe", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/3b54e4a9b91eb0a70228a4634a627e4735794bfe", "committedDate": "2020-11-09T20:44:10Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- When system property 'jdt.ls.debug=true' is set (eg. by\n  java.jdt.ls.vmargs), and 'logback.configurationFile' is not set ,\n  verbose (DEBUG) logging will be done on the standard output of JDT-LS.\n- The system property 'logback.configurationFile' is also available for\n  advanced debugging usages\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}, "afterCommit": {"oid": "5bc3fc0279d13b9a9fc78d5ca3be91087bee2bb2", "author": {"user": {"login": "rgrunber", "name": "Roland Grunberg"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/5bc3fc0279d13b9a9fc78d5ca3be91087bee2bb2", "committedDate": "2020-11-10T15:26:12Z", "message": "Improve tracing capability of m2e through m2e.logback.configuration.\n\n- Add 'org.eclipse.m2e.logback.feature' to target platform\n- Add 'org.eclipse.m2e.logback' plugin to language server product\n- When system property 'jdt.ls.debug=true' is set (eg. by\n  java.jdt.ls.vmargs), and 'logback.configurationFile' is not set ,\n  verbose (DEBUG) logging will be done on the standard output of JDT-LS.\n- The system property 'logback.configurationFile' is also available for\n  advanced debugging usages\n\nSigned-off-by: Roland Grunberg <rgrunber@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3OTMzMDcy", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1589#pullrequestreview-527933072", "createdAt": "2020-11-11T07:45:06Z", "commit": {"oid": "5bc3fc0279d13b9a9fc78d5ca3be91087bee2bb2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1037, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}