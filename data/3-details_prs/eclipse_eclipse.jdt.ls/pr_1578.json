{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MzQ4NzEw", "number": 1578, "title": "Refresh the project when updating the referenced libraries", "bodyText": "fix #1577\nSigned-off-by: Sheng Chen sheche@microsoft.com", "createdAt": "2020-10-21T08:20:09Z", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578", "merged": true, "mergeCommit": {"oid": "583c189aab36f367810acce66e31d4a83b6bfcc0"}, "closed": true, "closedAt": "2020-10-27T02:00:18Z", "author": {"login": "jdneo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUo8cwgH2gAyNTA3MzQ4NzEwOmViMTc4MzMxMjIwNzJjY2VmOTI5NDEyMTI3N2U2MzViZTM2MjhlMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWe0LlgH2gAyNTA3MzQ4NzEwOjVjOGM4MmExOWFlNjI4MjlmOTc1YzgwZGIwMDE5NTRiZDFkMTg3Mzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eb17833122072ccef9294121277e635be3628e0b", "author": {"user": {"login": "jdneo", "name": "Sheng Chen"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/eb17833122072ccef9294121277e635be3628e0b", "committedDate": "2020-10-21T08:17:57Z", "message": "Refresh the project when updating the referenced libraries\n\nSigned-off-by: Sheng Chen <sheche@microsoft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MzgyNzky", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#pullrequestreview-515382792", "createdAt": "2020-10-23T06:40:54Z", "commit": {"oid": "eb17833122072ccef9294121277e635be3628e0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjo0MDo1NVrOHnAm_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjo0MDo1NVrOHnAm_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2NjQ5Mw==", "bodyText": "When the resource in jdt is out of sync with the local file system, InvisibleProjectBuildSupport#fileChanged also invoke resource.refreshLocal to sync the model, what's the purpose of this new line?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#discussion_r510666493", "createdAt": "2020-10-23T06:40:55Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/ProjectUtils.java", "diffHunk": "@@ -349,6 +349,7 @@ public static void updateBinaries(IJavaProject javaProject, Map<Path, IPath> lib\n \t\tif (!Arrays.equals(rawClasspath, newClasspath)) {\n \t\t\tjavaProject.setRawClasspath(newClasspath, monitor);\n \t\t}\n+\t\tjavaProject.getProject().refreshLocal(IResource.DEPTH_ZERO, monitor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb17833122072ccef9294121277e635be3628e0b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d80a863674d8e577298dde10c26f5ef660537c66", "author": {"user": {"login": "jdneo", "name": "Sheng Chen"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/d80a863674d8e577298dde10c26f5ef660537c66", "committedDate": "2020-10-23T07:30:28Z", "message": "Use refreshExternalArchives\n\nSigned-off-by: Sheng Chen <sheche@microsoft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NDQ5MTc1", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#pullrequestreview-516449175", "createdAt": "2020-10-26T03:27:00Z", "commit": {"oid": "d80a863674d8e577298dde10c26f5ef660537c66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2Nzk3NzEx", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#pullrequestreview-516797711", "createdAt": "2020-10-26T13:53:02Z", "commit": {"oid": "d80a863674d8e577298dde10c26f5ef660537c66"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzo1MzowMlrOHoQhCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzo1MzowMlrOHoQhCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk3NTY5MQ==", "bodyText": "In the commit viewer, I noticed this line has an extraneous whitespace (extra tabs?). I would probably fix this just before merging.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#discussion_r511975691", "createdAt": "2020-10-26T13:53:02Z", "author": {"login": "rgrunber"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/managers/InvisibleProjectBuildSupportTest.java", "diffHunk": "@@ -429,4 +437,30 @@ public void testImportReferencedLibrariesConfiguration() throws Exception {\n \t\t\tassertEquals(\"Configuration with sources\", libraries, preferences.getReferencedLibraries());\n \t\t}\n \t}\n+\n+\t@Test\n+\tpublic void testUpdateReferencedLibraries() throws Exception {\n+\t\tIProject project = copyAndImportFolder(\"singlefile/simple\", \"src/App.java\");\n+\t\tNavigateToDefinitionHandler handler = new NavigateToDefinitionHandler(preferenceManager);\n+\t\tString uri = ClassFileUtil.getURI(project, \"App\");\n+\t\tTextDocumentIdentifier identifier = new TextDocumentIdentifier(uri);\n+\t\tList<? extends Location> definitions = handler.definition(new TextDocumentPositionParams(identifier, new Position(0, 13)), monitor);\n+\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d80a863674d8e577298dde10c26f5ef660537c66"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c8c82a19ae62829f975c80db001954bd1d18737", "author": {"user": {"login": "jdneo", "name": "Sheng Chen"}}, "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/5c8c82a19ae62829f975c80db001954bd1d18737", "committedDate": "2020-10-27T01:37:43Z", "message": "Correct the format\n\nSigned-off-by: Sheng Chen <sheche@microsoft.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1023, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}