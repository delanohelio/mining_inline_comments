{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjMzNDIy", "number": 1407, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo0OTowMlrODxlvBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjozNDo1NFrODxunvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzI1MDYwOnYy", "diffSide": "RIGHT", "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo0OTowMlrOGFJA4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNTo0ODo1OFrOGFVO_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0Mzc0NQ==", "bodyText": "java.sources.organizeImports.starThreshold", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408043745", "createdAt": "2020-04-14T10:49:02Z", "author": {"login": "fbricon"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "diffHunk": "@@ -263,6 +264,30 @@\n \t */\n \tpublic static final String MEMBER_SORT_ORDER = \"java.memberSortOrder\"; //$NON-NLS-1$\n \n+\t/**\n+\t * A named preference that specifies the number of imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_ONDEMANDTHRESHOLD = \"java.import.ondemandthreshold\"; //$NON-NLS-1$", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb6fccf0f5d3a3ae3507a9f14f2d0f958a2a22d9"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI0Mzk2Nw==", "bodyText": "Fixed.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408243967", "createdAt": "2020-04-14T15:48:58Z", "author": {"login": "snjeza"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "diffHunk": "@@ -263,6 +264,30 @@\n \t */\n \tpublic static final String MEMBER_SORT_ORDER = \"java.memberSortOrder\"; //$NON-NLS-1$\n \n+\t/**\n+\t * A named preference that specifies the number of imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_ONDEMANDTHRESHOLD = \"java.import.ondemandthreshold\"; //$NON-NLS-1$", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0Mzc0NQ=="}, "originalCommit": {"oid": "cb6fccf0f5d3a3ae3507a9f14f2d0f958a2a22d9"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzI1MjAyOnYy", "diffSide": "RIGHT", "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo0OToyNlrOGFJByQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNTo0OToxNlrOGFVP7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0Mzk3Nw==", "bodyText": "java.sources.organizeImports.staticStarThreshold", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408043977", "createdAt": "2020-04-14T10:49:26Z", "author": {"login": "fbricon"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "diffHunk": "@@ -263,6 +264,30 @@\n \t */\n \tpublic static final String MEMBER_SORT_ORDER = \"java.memberSortOrder\"; //$NON-NLS-1$\n \n+\t/**\n+\t * A named preference that specifies the number of imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_ONDEMANDTHRESHOLD = \"java.import.ondemandthreshold\"; //$NON-NLS-1$\n+\n+\t/**\n+\t * A named preference that specifies the number of static imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_STATIC_ONDEMANDTHRESHOLD = \"java.import.staticondemandthreshold\"; //$NON-NLS-1$", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb6fccf0f5d3a3ae3507a9f14f2d0f958a2a22d9"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI0NDIwNQ==", "bodyText": "Fixed.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408244205", "createdAt": "2020-04-14T15:49:16Z", "author": {"login": "snjeza"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/preferences/Preferences.java", "diffHunk": "@@ -263,6 +264,30 @@\n \t */\n \tpublic static final String MEMBER_SORT_ORDER = \"java.memberSortOrder\"; //$NON-NLS-1$\n \n+\t/**\n+\t * A named preference that specifies the number of imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_ONDEMANDTHRESHOLD = \"java.import.ondemandthreshold\"; //$NON-NLS-1$\n+\n+\t/**\n+\t * A named preference that specifies the number of static imports added before a\n+\t * star-import declaration is used.\n+\t * <p>\n+\t * Value is of type <code>Integer</code>: positive value specifying the number\n+\t * of non star-import is used\n+\t * </p>\n+\t */\n+\tpublic static final String IMPORTS_STATIC_ONDEMANDTHRESHOLD = \"java.import.staticondemandthreshold\"; //$NON-NLS-1$", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0Mzk3Nw=="}, "originalCommit": {"oid": "cb6fccf0f5d3a3ae3507a9f14f2d0f958a2a22d9"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNDcwNjU1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjozNDo1NFrOGFXOsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxODowNDowNVrOGFarAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI3NjY1OA==", "bodyText": "....  ???\nThe test fails on jenkins", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408276658", "createdAt": "2020-04-14T16:34:54Z", "author": {"login": "fbricon"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -2616,6 +2617,58 @@ public void testStaticImports2() throws Exception {\n \t\t}\n \t}\n \n+\t@Test\n+\tpublic void testStarImports() throws Exception {\n+\t\tList<String> favorites = new ArrayList<>();\n+\t\tfavorites.add(\"java.lang.Math.*\");\n+\t\tPreferences prefs = PreferenceManager.getPrefs(null);\n+\t\tList<String> oldFavorites = Arrays.asList(prefs.getJavaCompletionFavoriteMembers());\n+\t\tint onDemandThreshold = prefs.getImportOnDemandThreshold();\n+\t\tint staticOnDemandThreshold = prefs.getStaticImportOnDemandThreshold();\n+\t\tprefs.setJavaCompletionFavoriteMembers(favorites);\n+\t\tprefs.setImportOnDemandThreshold(2);\n+\t\tprefs.setStaticImportOnDemandThreshold(2);\n+\t\ttry {\n+\t\t\tICompilationUnit unit = getWorkingCopy(\"src/test1/B.java\",\n+\t\t\t//@formatter:off\n+\t\t\t\"package test1;\\n\" +\n+\t\t\t\"import static java.lang.Math.sqrt;\\n\" +\n+\t\t\t\"import java.util.List;\\n\" +\n+\t\t\t\"public class B {\\n\" +\n+\t\t\t\"....List<String> list = new ArrayL\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25da0112525bdbde54c1cd0cbd295efe9323731"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODMzMzA1Ng==", "bodyText": "Fixed.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1407#discussion_r408333056", "createdAt": "2020-04-14T18:04:05Z", "author": {"login": "snjeza"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/handlers/CompletionHandlerTest.java", "diffHunk": "@@ -2616,6 +2617,58 @@ public void testStaticImports2() throws Exception {\n \t\t}\n \t}\n \n+\t@Test\n+\tpublic void testStarImports() throws Exception {\n+\t\tList<String> favorites = new ArrayList<>();\n+\t\tfavorites.add(\"java.lang.Math.*\");\n+\t\tPreferences prefs = PreferenceManager.getPrefs(null);\n+\t\tList<String> oldFavorites = Arrays.asList(prefs.getJavaCompletionFavoriteMembers());\n+\t\tint onDemandThreshold = prefs.getImportOnDemandThreshold();\n+\t\tint staticOnDemandThreshold = prefs.getStaticImportOnDemandThreshold();\n+\t\tprefs.setJavaCompletionFavoriteMembers(favorites);\n+\t\tprefs.setImportOnDemandThreshold(2);\n+\t\tprefs.setStaticImportOnDemandThreshold(2);\n+\t\ttry {\n+\t\t\tICompilationUnit unit = getWorkingCopy(\"src/test1/B.java\",\n+\t\t\t//@formatter:off\n+\t\t\t\"package test1;\\n\" +\n+\t\t\t\"import static java.lang.Math.sqrt;\\n\" +\n+\t\t\t\"import java.util.List;\\n\" +\n+\t\t\t\"public class B {\\n\" +\n+\t\t\t\"....List<String> list = new ArrayL\\n\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI3NjY1OA=="}, "originalCommit": {"oid": "b25da0112525bdbde54c1cd0cbd295efe9323731"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3533, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}