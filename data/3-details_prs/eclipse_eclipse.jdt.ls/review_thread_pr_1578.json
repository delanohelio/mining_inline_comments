{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MzQ4NzEw", "number": 1578, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjo0MDo1NVrOExEm1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzo1MzowMlrOEx6SPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5ODkxMTU5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/ProjectUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNjo0MDo1NVrOHnAm_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzoyODozMVrOHnB6hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2NjQ5Mw==", "bodyText": "When the resource in jdt is out of sync with the local file system, InvisibleProjectBuildSupport#fileChanged also invoke resource.refreshLocal to sync the model, what's the purpose of this new line?", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#discussion_r510666493", "createdAt": "2020-10-23T06:40:55Z", "author": {"login": "testforstephen"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/ProjectUtils.java", "diffHunk": "@@ -349,6 +349,7 @@ public static void updateBinaries(IJavaProject javaProject, Map<Path, IPath> lib\n \t\tif (!Arrays.equals(rawClasspath, newClasspath)) {\n \t\t\tjavaProject.setRawClasspath(newClasspath, monitor);\n \t\t}\n+\t\tjavaProject.getProject().refreshLocal(IResource.DEPTH_ZERO, monitor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb17833122072ccef9294121277e635be3628e0b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY4Nzg3OQ==", "bodyText": "This added line does not fully solved the problem, I'll update the PR later", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#discussion_r510687879", "createdAt": "2020-10-23T07:28:31Z", "author": {"login": "jdneo"}, "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/ProjectUtils.java", "diffHunk": "@@ -349,6 +349,7 @@ public static void updateBinaries(IJavaProject javaProject, Map<Path, IPath> lib\n \t\tif (!Arrays.equals(rawClasspath, newClasspath)) {\n \t\t\tjavaProject.setRawClasspath(newClasspath, monitor);\n \t\t}\n+\t\tjavaProject.getProject().refreshLocal(IResource.DEPTH_ZERO, monitor);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY2NjQ5Mw=="}, "originalCommit": {"oid": "eb17833122072ccef9294121277e635be3628e0b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNzcwNjIwOnYy", "diffSide": "RIGHT", "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/managers/InvisibleProjectBuildSupportTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzo1MzowMlrOHoQhCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzo1MzowMlrOHoQhCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk3NTY5MQ==", "bodyText": "In the commit viewer, I noticed this line has an extraneous whitespace (extra tabs?). I would probably fix this just before merging.", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1578#discussion_r511975691", "createdAt": "2020-10-26T13:53:02Z", "author": {"login": "rgrunber"}, "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/managers/InvisibleProjectBuildSupportTest.java", "diffHunk": "@@ -429,4 +437,30 @@ public void testImportReferencedLibrariesConfiguration() throws Exception {\n \t\t\tassertEquals(\"Configuration with sources\", libraries, preferences.getReferencedLibraries());\n \t\t}\n \t}\n+\n+\t@Test\n+\tpublic void testUpdateReferencedLibraries() throws Exception {\n+\t\tIProject project = copyAndImportFolder(\"singlefile/simple\", \"src/App.java\");\n+\t\tNavigateToDefinitionHandler handler = new NavigateToDefinitionHandler(preferenceManager);\n+\t\tString uri = ClassFileUtil.getURI(project, \"App\");\n+\t\tTextDocumentIdentifier identifier = new TextDocumentIdentifier(uri);\n+\t\tList<? extends Location> definitions = handler.definition(new TextDocumentPositionParams(identifier, new Position(0, 13)), monitor);\n+\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d80a863674d8e577298dde10c26f5ef660537c66"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3481, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}