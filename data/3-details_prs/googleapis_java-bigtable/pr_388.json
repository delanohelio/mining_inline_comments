{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NTAxNDcx", "number": 388, "title": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client", "bodyText": "With the new DNS support, a client running on ipv6-enabled VM could receive both ipv4 and ipv6 balancer addresses. And client could either pick the ipv4 address or the ipv6 address, and different languages of grpc have different behaviors. For Java, it will pick ipv4 address by default, so we should allow that connection when running directpath-ipv6 tests.", "createdAt": "2020-08-16T21:53:29Z", "url": "https://github.com/googleapis/java-bigtable/pull/388", "merged": true, "mergeCommit": {"oid": "a6e70a9274917b54f69325279fd4cc7fdb7c4572"}, "closed": true, "closedAt": "2020-08-24T19:59:44Z", "author": {"login": "WeiranFang"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_4wDggH2gAyNDY4NTAxNDcxOjZlNjJiNDgzNDYxMTllNTI3ZjE4YTAzODM1NmQ0YjNmNjVhZGVjMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCHVYBAH2gAyNDY4NTAxNDcxOmFmM2IxMWEzNzE5OTZmY2FiMDk0ZGIxYzg3ZmUwODMwZDZlZDYxYjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6e62b48346119e527f18a038356d4b3f65adec33", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/6e62b48346119e527f18a038356d4b3f65adec33", "committedDate": "2020-08-17T20:50:29Z", "message": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7fda71788e763e8a4efe1c3be38fd1a66b56f6fc", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/7fda71788e763e8a4efe1c3be38fd1a66b56f6fc", "committedDate": "2020-08-16T21:42:38Z", "message": "we should not fail dp ipv4 connection for a ipv6-enabled client"}, "afterCommit": {"oid": "6e62b48346119e527f18a038356d4b3f65adec33", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/6e62b48346119e527f18a038356d4b3f65adec33", "committedDate": "2020-08-17T20:50:29Z", "message": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/5525a1be2b532d884dd9b82895d079b487430e7d", "committedDate": "2020-08-24T18:37:39Z", "message": "rename bigtable-directpath-ipv4-it profile to bigtable-directpath-ipv4only-it"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNzY1MjYw", "url": "https://github.com/googleapis/java-bigtable/pull/388#pullrequestreview-473765260", "createdAt": "2020-08-24T18:44:39Z", "commit": {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo0NDozOVrOHFx1sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo0NDozOVrOHFx1sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyMTQ4OQ==", "bodyText": "bigtable.directpath-ipv4only", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475821489", "createdAt": "2020-08-24T18:44:39Z", "author": {"login": "igorbernstein2"}, "path": "google-cloud-bigtable/pom.xml", "diffHunk": "@@ -359,16 +359,16 @@\n                     <bigtable.env>cloud</bigtable.env>\n                     <bigtable.data-endpoint>${bigtable.directpath-data-endpoint}</bigtable.data-endpoint>\n                     <bigtable.admin-endpoint>${bigtable.directpath-admin-endpoint}</bigtable.admin-endpoint>\n-                    <bigtable.grpc-log-dir>${project.build.directory}/test-grpc-logs/directpath-ipv4-it</bigtable.grpc-log-dir>\n+                    <bigtable.grpc-log-dir>${project.build.directory}/test-grpc-logs/directpath-ipv4only-it</bigtable.grpc-log-dir>\n                     <bigtable.attempt-directpath>true</bigtable.attempt-directpath>\n                     <bigtable.directpath-ipv4>true</bigtable.directpath-ipv4>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNzY1NTA4", "url": "https://github.com/googleapis/java-bigtable/pull/388#pullrequestreview-473765508", "createdAt": "2020-08-24T18:45:01Z", "commit": {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo0NTowMVrOHFx2gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo0NTowMVrOHFx2gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyMTY5OQ==", "bodyText": "isDirectPathIpv4Only()", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475821699", "createdAt": "2020-08-24T18:45:01Z", "author": {"login": "igorbernstein2"}, "path": "google-cloud-bigtable/src/test/java/com/google/cloud/bigtable/test_helpers/env/CloudEnv.java", "diffHunk": "@@ -241,7 +241,8 @@ private boolean verifyRemoteAddress(SocketAddress remoteAddr) {\n       if (isDirectPathIpv4()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0d22f7edf9941f305cae90e31df3fac356054ab", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/a0d22f7edf9941f305cae90e31df3fac356054ab", "committedDate": "2020-08-24T18:51:35Z", "message": "fix sys prop & method naming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNzcxMzQ5", "url": "https://github.com/googleapis/java-bigtable/pull/388#pullrequestreview-473771349", "createdAt": "2020-08-24T18:53:48Z", "commit": {"oid": "a0d22f7edf9941f305cae90e31df3fac356054ab"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo1Mzo0OFrOHFyI8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxODo1Mzo0OFrOHFyI8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyNjQxOA==", "bodyText": "last nit: please fix the error message", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475826418", "createdAt": "2020-08-24T18:53:48Z", "author": {"login": "igorbernstein2"}, "path": "google-cloud-bigtable/src/test/java/com/google/cloud/bigtable/test_helpers/env/CloudEnv.java", "diffHunk": "@@ -222,7 +222,7 @@ public void onHeaders(Metadata headers) {\n                                   + \" to the test environment's requirement for DirectPath.\"\n                                   + \" Expected test to access DirectPath via %s,\"\n                                   + \" but RPC was destined for %s\",\n-                              isDirectPathIpv4() ? \"ipv4\" : \"ipv6\", remoteAddr.toString()));\n+                              isDirectPathIpv4Only() ? \"ipv4\" : \"ipv6\", remoteAddr.toString()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0d22f7edf9941f305cae90e31df3fac356054ab"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af3b11a371996fcab094db1c87fe0830d6ed61b1", "author": {"user": {"login": "WeiranFang", "name": "Weiran Fang"}}, "url": "https://github.com/googleapis/java-bigtable/commit/af3b11a371996fcab094db1c87fe0830d6ed61b1", "committedDate": "2020-08-24T18:57:46Z", "message": "fix err msg"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1068, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}