{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NDAwNTY4", "number": 829, "title": "initial syntax highlighting for ddlog vscode", "bodyText": "Added source code for ddlog language extension and theme extension", "createdAt": "2020-11-27T05:24:05Z", "url": "https://github.com/vmware/differential-datalog/pull/829", "merged": true, "mergeCommit": {"oid": "05c86d6f6a954ca63d37823e872a643ab1c57fa0"}, "closed": true, "closedAt": "2021-01-27T21:52:20Z", "author": {"login": "desharchana19"}, "timelineItems": {"totalCount": 37, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdggkpSAH2gAyNTI4NDAwNTY4Ojc1OTBkNjNkZGI1N2ViNjQxOTZkOWEwZTQzNDQ3MjYyYmFhN2NkODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd0XN17AFqTU3Nzc4NTM2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7590d63ddb57eb64196d9a0e43447262baa7cd86", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/7590d63ddb57eb64196d9a0e43447262baa7cd86", "committedDate": "2020-11-27T05:19:48Z", "message": "initial syntax highlighting for ddlog vscode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f50dcee5dce94a4df65072e7d602025d90977b73", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/f50dcee5dce94a4df65072e7d602025d90977b73", "committedDate": "2020-11-27T09:54:57Z", "message": ".gitignore ddlog vsix added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/d68f341a28fdc380abb832091f154419290af6b8", "committedDate": "2020-11-30T08:40:17Z", "message": "color changed for variables"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjM5NzE3", "url": "https://github.com/vmware/differential-datalog/pull/829#pullrequestreview-541239717", "createdAt": "2020-11-30T19:46:57Z", "commit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxOTo0Njo1N1rOH8K89g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMjozMDoyNFrOH8QbgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NjA1NA==", "bodyText": "This should probably be 2020.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856054", "createdAt": "2020-11-30T19:46:57Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/LICENSE", "diffHunk": "@@ -0,0 +1,22 @@\n+MIT License\n+\n+Copyright (c) 2018 VMware, Inc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NjU0Mw==", "bodyText": "I would add a brief description: this directory holds the files required for syntax highlighting ddlog programs in Visual Studio Code.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856543", "createdAt": "2020-11-30T19:47:38Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/README.md", "diffHunk": "@@ -0,0 +1,15 @@\n+# DDLog ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1Njk5Mw==", "bodyText": "is this necessary?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856993", "createdAt": "2020-11-30T19:48:02Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/gulpfile.js", "diffHunk": "@@ -0,0 +1,30 @@\n+const gulp  = require('gulp');\n+const merge = require('gulp-merge-json');\n+const json5 = require('gulp-json5-to-json');\n+\n+gulp.task('default', (done) => {done() });\n+\n+gulp.task('compile-json', (done ) => {\n+  gulp.src('./src/**/*.json5')\n+    .pipe(merge({\n+      fileName: \"ddlog.tmLanguage.json\",\n+      json5: true,\n+    }))\n+    .pipe(json5({\n+      beautify: true,\n+    }))\n+    .pipe(gulp.dest('./syntaxes'));\n+done()\n+});\n+\n+gulp.task('watch', (done) => {\n+  gulp.watch('./src/**/*.json5', [ 'compile-json' ]);\n+  done()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NzMzMw==", "bodyText": "no empty lines", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532857333", "createdAt": "2020-11-30T19:48:20Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,35 @@\n+{\n+    \"comments\": {\n+        \"lineComment\": \"//\",\n+    },\n+    \"brackets\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"]\n+    ],\n+    \"autoClosingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+\n+    ],\n+    \"surroundingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MTk5MA==", "bodyText": "please fix the indentation here. make sure you don't use tabs.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532861990", "createdAt": "2020-11-30T19:52:19Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/base.json5", "diffHunk": "@@ -0,0 +1,21 @@\n+{\n+  \"$schema\":   \"https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json\",\n+\t\"name\":      \"ddlog\",\n+\t\"scopeName\": \"source.ddlog\",\n+\t\"patterns\": [\n+    { \"include\": \"#comment\" },\n+    { \"include\": \"#constant\" },\n+    { \"include\": \"#entity\" },\n+    { \"include\": \"#meta\" },\n+    { \"include\": \"#punctuation\" },\n+    { \"include\": \"#string\" },\n+    { \"include\": \"#support\" },\n+    { \"include\": \"#type\" },\n+    { \"include\": \"#variable\" },\n+    { \"include\": \"#operator\" },\n+    { \"include\": \"#keyword\" },\n+    { \"include\": \"#storage\" },\n+   ],\n+\t\"repository\": {\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzM5Mw==", "bodyText": "This case seems to be covered by the previous one.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532863393", "createdAt": "2020-11-30T19:53:29Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (with exponent)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzY0Mg==", "bodyText": "This seems to cover both with and without exponent.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532863642", "createdAt": "2020-11-30T19:53:42Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NDk1Nw==", "bodyText": "The width of the literal should be part of the literal - similar with the floating point. So you need an (\\\\d+')? as part of the grammar. This applies to all cases below.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532864957", "createdAt": "2020-11-30T19:54:56Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (with exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*[eE][+-][0-9_]+\\\\b\"\n+                }, \n+                {\n+                    \"comment\": \"Floating point literal (exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?([0-9][0-9_]*\\\\.)?[0-9][0-9_]*[eE][+-][0-9_]+\\\\b\"\n+                },                                                                        \n+                {\n+                    \"comment\": \"Integer literal (decimal)\",\n+                    \"name\": \"constant.numeric.integer.decimal.ddlog\",\n+                    \"match\": \"\\\\b([\\\\d]+|['][s]?[d]\\\\s*[0-9_]+)\\\\b\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NTI1OA==", "bodyText": "Is this really necessary? Doesn't \\\\b take care of spaces too?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532865258", "createdAt": "2020-11-30T19:55:27Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjM3NA==", "bodyText": "rule is not a keyword.\nSome of these keywords should probably be in the group control.ddlog - e.g., function and match.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532866374", "createdAt": "2020-11-30T19:57:20Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation|function|match|rule)\\\\b\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjU2OA==", "bodyText": "as does not belong here, it is really a cast operator.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532866568", "createdAt": "2020-11-30T19:57:42Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation|function|match|rule)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.module.ddlog\",\n+                    \"match\": \"\\\\b(import|extern|as)\\\\b\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODIwNw==", "bodyText": "no empty lines", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532868207", "createdAt": "2020-11-30T20:00:30Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,13 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.other.comma.ddlog\",\n+                    \"match\": \",\"\n+                }\n+\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODQ0NQ==", "bodyText": "I would imagine that the dot belongs here too, and perhaps :-.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532868445", "createdAt": "2020-11-30T20:00:55Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,13 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.other.comma.ddlog\",\n+                    \"match\": \",\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2OTU2NQ==", "bodyText": "We actually do not have character constants in ddlog. I suspect these should be deleted.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532869565", "createdAt": "2020-11-30T20:02:54Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5OTY3OA==", "bodyText": "I don't know what this is.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532899678", "createdAt": "2020-11-30T20:59:23Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                },\n+                {\n+                    \"name\": \"constant.character.ddlog\",\n+                    \"match\": \"b?'([^'\\\\\\\\]|\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.))'\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNTM0OQ==", "bodyText": "I don't think this rule is correct. An interpolated string should first of all be inside a string. Second, everything starting from the ${ sign is actually highlighted as an expression. So the regex for character below is not the correct one.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532905349", "createdAt": "2020-11-30T21:10:21Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                },\n+                {\n+                    \"name\": \"constant.character.ddlog\",\n+                    \"match\": \"b?'([^'\\\\\\\\]|\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.))'\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]                                       \n+                },                \n+                {\n+                    \"name\": \"string.quoted.interpolated.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNjcxOA==", "bodyText": "So I think that the interpolated string should actually be one of the patterns in string.quoted.double.raw.ddlog", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532906718", "createdAt": "2020-11-30T21:12:59Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                },\n+                {\n+                    \"name\": \"constant.character.ddlog\",\n+                    \"match\": \"b?'([^'\\\\\\\\]|\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.))'\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]                                       \n+                },                \n+                {\n+                    \"name\": \"string.quoted.interpolated.ddlog\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNTM0OQ=="}, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTc1MA==", "bodyText": "this pattern does not have three groups, so I am not sure what this \"3\" refers to.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532909750", "createdAt": "2020-11-30T21:18:54Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMTI3NA==", "bodyText": "this pattern has no groups at all, so I don't know what 1 here refers to.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532911274", "createdAt": "2020-11-30T21:20:58Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",\n+                    \"endCaptures\": {\n+                        \"0\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjA4Nw==", "bodyText": "I would actually say that this is part of the function beginning. There are two grammars for function, but we will deprecate the one with =, so let's just focus on the grammar with function f(params) { }.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532912087", "createdAt": "2020-11-30T21:22:34Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA==", "bodyText": "if this is meant to indicate that entity can appear in a declaration, this is not actually true.\nIf I read this correctly, you are now matching the parameters only. So this should be a parameter list only.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532912618", "createdAt": "2020-11-30T21:23:44Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        },\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.assignment.ddlog\"\n+                        }                        \n+                    },\n+                    \"patterns\":\n+                    [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyNzA2Nw==", "bodyText": "I think that the type parameters should be separated using a \"begin\"/\"end\" pair. See for example the Rust types from https://github.com/dustypomerleau/rust-syntax/blob/master/syntaxes/rust.tmLanguage.json in the section \"types\".", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532927067", "createdAt": "2020-11-30T21:51:50Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyNzk3MA==", "bodyText": "why is this under type?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532927970", "createdAt": "2020-11-30T21:53:40Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+                },\n+                {\n+                    \"name\": \"entity.name.type.param.ddlog\",\n+                    \"begin\": \"<(?![=<])\",\n+                    \"end\": \"(?<![-])>\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.param.ddlog\",\n+                        \"begin\": \"<(?![=<])\",\n+                        \"end\": \"(?<![-])>\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.relation-type.ddlog\",\n+                    \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                    \"end\": \"(\\\\])\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.relation-type.ddlog\",\n+                        \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                        \"end\": \"(\\\\])\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyODMyNA==", "bodyText": "is this the same as above?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532928324", "createdAt": "2020-11-30T21:54:21Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+                },\n+                {\n+                    \"name\": \"entity.name.type.param.ddlog\",\n+                    \"begin\": \"<(?![=<])\",\n+                    \"end\": \"(?<![-])>\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.param.ddlog\",\n+                        \"begin\": \"<(?![=<])\",\n+                        \"end\": \"(?<![-])>\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.relation-type.ddlog\",\n+                    \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                    \"end\": \"(\\\\])\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.relation-type.ddlog\",\n+                        \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                        \"end\": \"(\\\\])\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]+))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.function-param.ddlog\",\n+                        \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]+))(\\\\()\",\n+                        \"end\": \"(\\\\))\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:] )([a-z_][a-zA-Z0-9_]+)\"\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:] )([a-z_]+)\"\n+                    }, \n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:])([a-z_][a-zA-Z0-9_]+)\"\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:])([a-z_]+)\"\n+                    },                                       \n+                    {\n+                        \"include\": \"#comment\"\n+                    },\n+                    {\n+                        \"include\": \"#constant\"\n+                    },\n+                    {\n+                        \"include\": \"#entity\"\n+                    },\n+                    {\n+                        \"include\": \"#meta\"\n+                    },\n+                    {\n+                        \"include\": \"#punctuation\"\n+                    },\n+                    {\n+                        \"include\": \"#string\"\n+                    },\n+                    {\n+                        \"include\": \"#support\"\n+                    },\n+                    {\n+                        \"include\": \"#type\"\n+                    },\n+                    {\n+                        \"include\": \"#variable\"\n+                    },\n+                    {\n+                        \"include\": \"#operator\"\n+                    },\n+                    {\n+                        \"include\": \"#keyword\"\n+                    },\n+                    {\n+                        \"include\": \"#storage\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 166}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTEwOQ==", "bodyText": "This seems to be matched by other regular expressions as well. Why is it needed?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532929109", "createdAt": "2020-11-30T21:55:53Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/variable.json5", "diffHunk": "@@ -0,0 +1,45 @@\n+{\n+  \"repository\": {\n+        \"variable\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"variable.parameter.ddlog\",\n+                    \"match\": \"([a-z_][a-zA-Z0-9_]+)(?=[:] )\"\n+                },\n+                {\n+                    \"name\": \"variable.parameter.ddlog\",\n+                    \"match\": \"([a-z_]+)(?=[:] )\"\n+                },                     \n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b(?<=var)(\\\\s)([a-z_][a-zA-Z0-9_]*)\"\n+                },  \n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b(?<=var)(\\\\S)([a-z_][a-zA-Z0-9_]*)\"\n+                },\n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b([a-z_][a-zA-Z0-9_]*)(\\\\s)(?=in)\"\n+                }, \n+                {\n+                    \"name\": \"variable.language.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTU3Ng==", "bodyText": "aren't functions already in meta?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532929576", "createdAt": "2020-11-30T21:56:47Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MDA5MA==", "bodyText": "why are all these named \"entity.name.function.ddlog\"?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532940090", "createdAt": "2020-11-30T22:18:16Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MTM1MQ==", "bodyText": "I think that the apostrophe should be part of the type variable.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532941351", "createdAt": "2020-11-30T22:20:52Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MTk4Ng==", "bodyText": "| exists both as a type constructor and as a binary expression. I hope this is used within the right context, but I had the impression that the matching of | as a constructor alternative does not work very well.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532941986", "createdAt": "2020-11-30T22:22:16Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\=))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\|))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MjUwOA==", "bodyText": "after = you have a type_spec in the ddlog grammar, which is not just an identifier as in your description here. Also,\nthere are no optional spaces in your regex.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532942508", "createdAt": "2020-11-30T22:23:32Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\=))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\|))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },                                 \n+                {\n+                    \"match\": \"(\\\\b)(?<=import)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.import_decl.ddlog\"\n+                },\n+                {\n+                    \"match\": \"\\\\b(?<=typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+\n+                }, \n+                {\n+                    \"match\": \"\\\\b(?<=type)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+\n+                },\n+                {\n+                    \"begin\": \"\\\\b(typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)(=)([A-Z][a-zA-Z0-9_]+)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTE1NA==", "bodyText": "is this file generated by some tools? If so it should not be in the repository but in .gitignore.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945154", "createdAt": "2020-11-30T22:29:15Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/syntaxes/ddlog.tmLanguage.json", "diffHunk": "@@ -0,0 +1,1080 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTU0NQ==", "bodyText": "This should be *.vsix", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945545", "createdAt": "2020-11-30T22:29:56Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-theme/.gitignore", "diffHunk": "@@ -0,0 +1,2 @@\n+ddlogtheme-0.0.1.vsix", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTc5Mw==", "bodyText": "We do not really maintain change logs anymore, these are maintained by git automatically, so you can probably delete this file.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945793", "createdAt": "2020-11-30T22:30:24Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-theme/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,4 @@\n+# Change Log", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b469a5a8aaf77664435f92148000a500ab7e05f", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/0b469a5a8aaf77664435f92148000a500ab7e05f", "committedDate": "2020-12-01T12:47:18Z", "message": "Fixes for review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c19990055d75eccc8650a944d6fac17366d99466", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/c19990055d75eccc8650a944d6fac17366d99466", "committedDate": "2020-12-02T02:15:10Z", "message": "removed character constant regex. Modified escape character regex"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8101c2d78672e433bf6ca3b77b704d393a21b403", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/8101c2d78672e433bf6ca3b77b704d393a21b403", "committedDate": "2020-12-03T02:00:28Z", "message": "interpolated string pattern modified"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ca1523e9366e4e01b5c6cef2746af2119e54d0b", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/1ca1523e9366e4e01b5c6cef2746af2119e54d0b", "committedDate": "2020-12-03T04:18:40Z", "message": "Generated files added to gitignore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a23a505147cf5405fbf08294b1ed66e35e67d3b", "author": {"user": {"login": "desharchana19", "name": null}}, "url": "https://github.com/vmware/differential-datalog/commit/5a23a505147cf5405fbf08294b1ed66e35e67d3b", "committedDate": "2020-12-03T05:51:15Z", "message": "Delete CHANGELOG.md\n\nBased on review comment - Git maintains change log automatically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13274e4e8d5c4801d7f66c760a7fe0ae62ad4258", "author": {"user": {"login": "desharchana19", "name": null}}, "url": "https://github.com/vmware/differential-datalog/commit/13274e4e8d5c4801d7f66c760a7fe0ae62ad4258", "committedDate": "2020-12-03T05:59:54Z", "message": "Delete CHANGELOG.md\n\nBased on review comment - Git maintains change log automatically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a58907e1dc5565c6e8ed822feb4748136b1a530", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/0a58907e1dc5565c6e8ed822feb4748136b1a530", "committedDate": "2020-12-03T10:00:59Z", "message": "function changed to keyword.control.ddlog group"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "208b156d287b98658881bf7c19cfbc8abd36649d", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/208b156d287b98658881bf7c19cfbc8abd36649d", "committedDate": "2020-12-03T12:12:47Z", "message": "apostrophe is part of variable name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7275a3f9132d501b212fb35c81d0c1f722793f41", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/7275a3f9132d501b212fb35c81d0c1f722793f41", "committedDate": "2020-12-03T12:44:13Z", "message": ":- moved to punctuation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b84cf159b8e23e1d0c8251cef54cbd48fb545c7", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/1b84cf159b8e23e1d0c8251cef54cbd48fb545c7", "committedDate": "2020-12-03T12:58:00Z", "message": ".gitignore modified for vsix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "113c75012a8dc67dea5de840de004268b5bb246e", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/113c75012a8dc67dea5de840de004268b5bb246e", "committedDate": "2020-12-03T16:48:28Z", "message": "function parameters pattern moved to meta"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bc9c6bf2b1a8ab4d484af67dc7c1407a74a176a", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/3bc9c6bf2b1a8ab4d484af67dc7c1407a74a176a", "committedDate": "2020-12-04T02:37:23Z", "message": "floating point literal fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94f99d32d4d4a9e1422956f35e6e5bac5c6d8e98", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/94f99d32d4d4a9e1422956f35e6e5bac5c6d8e98", "committedDate": "2020-12-04T10:35:46Z", "message": "literal grammer modified"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18f6e31e38c19d4367984a81dc2bc8d17fe1ffde", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/18f6e31e38c19d4367984a81dc2bc8d17fe1ffde", "committedDate": "2020-12-04T12:21:08Z", "message": "dot moved to punctuation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d636e9173036181988b2dedc5534b89b38b84ee0", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/d636e9173036181988b2dedc5534b89b38b84ee0", "committedDate": "2020-12-05T05:14:48Z", "message": "scope moved to punctuation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "480fca3fe9794af877e51565bda43ce9504c191f", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/480fca3fe9794af877e51565bda43ce9504c191f", "committedDate": "2020-12-05T11:05:25Z", "message": "entity moved from function arguments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d66262bdbc2c7bf3d87bb546c1193ffd78b6df65", "author": {"user": {"login": "desharchana19", "name": null}}, "url": "https://github.com/vmware/differential-datalog/commit/d66262bdbc2c7bf3d87bb546c1193ffd78b6df65", "committedDate": "2020-12-05T13:59:28Z", "message": "Delete vscode-ddlog-syntax-0.0.1.vsix\n\nvscode-ddlog-syntax-0.0.1.vsix is output package file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c82649327f78b2524f707d1945d03b1ab3a47d15", "author": {"user": {"login": "desharchana19", "name": null}}, "url": "https://github.com/vmware/differential-datalog/commit/c82649327f78b2524f707d1945d03b1ab3a47d15", "committedDate": "2020-12-05T14:02:41Z", "message": "Delete ddlog.tmLanguage.json\n\nddlog.tmLanguage.json is generated file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "424cc09e9242a629ad0105fd607f27e464021953", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/424cc09e9242a629ad0105fd607f27e464021953", "committedDate": "2020-12-06T03:27:37Z", "message": "untracked *.vsix and ddlog.tmLanguage.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a49e5ac7b78e14a33ada3268266ff73d24911f2", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/5a49e5ac7b78e14a33ada3268266ff73d24911f2", "committedDate": "2020-12-06T05:35:53Z", "message": "optimized code for local variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7ab0faed099aebe44af594f5de993ee4b59130f", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/a7ab0faed099aebe44af594f5de993ee4b59130f", "committedDate": "2020-12-07T16:28:24Z", "message": "escape character pattern modified and removed placeholder pattern"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd667f2f73c7feae42b9924ce168500b452f2995", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/dd667f2f73c7feae42b9924ce168500b452f2995", "committedDate": "2020-12-11T06:32:58Z", "message": "review comments fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d331bfeffe94b12a44da66cb7afa7e8d938afd5", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/5d331bfeffe94b12a44da66cb7afa7e8d938afd5", "committedDate": "2020-12-11T16:06:08Z", "message": "review comments fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "836d32288bf331c72ac91d90679d2565877fa407", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/836d32288bf331c72ac91d90679d2565877fa407", "committedDate": "2020-12-18T11:48:42Z", "message": "typedef review comments fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/817390695608fba4541b0e1c3e170f61679fc0b0", "committedDate": "2020-12-22T16:40:07Z", "message": "function-type implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MTkwNTA5", "url": "https://github.com/vmware/differential-datalog/pull/829#pullrequestreview-558190509", "createdAt": "2020-12-23T19:29:09Z", "commit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxOToyOTowOVrOIKxXwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMToxNTozOFrOIK2MPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2NTU2OQ==", "bodyText": "there are no instructions for loading the extension into vscode.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548165569", "createdAt": "2020-12-23T19:29:09Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/README.md", "diffHunk": "@@ -0,0 +1,16 @@\n+# DDLog \n+[![GitHub](https://github.com/vmware/differential-datalog)](https://github.com/vmware/differential-datalog)\n+* This directory holds the files required for syntax highlighting ddlog programs in Visual Studio Code.\n+\n+## Resources\n+- [DDlog Language Reference Manual](https://github.com/vmware/differential-datalog/blob/master/doc/language_reference/language_reference.md)\n+\n+## [License](https://github.com/vmware/differential-datalog/blob/master/LICENSE)\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2NjI3NA==", "bodyText": "I believe this file should be deleted.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548166274", "createdAt": "2020-12-23T19:30:06Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/desktop.ini", "diffHunk": "@@ -0,0 +1,4 @@\n+[ViewState]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2OTE4OQ==", "bodyText": "Based on this file https://github.com/rust-lang/vscode-rust/blob/master/language-configuration.json you can add a few more here, including <>, /* */, and [| |]. You may want to use the notIn condition as well.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548169189", "createdAt": "2020-12-23T19:33:39Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,33 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE3MDAxNA==", "bodyText": "This looks wrong, I suspect this section can be entirely removed.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548170014", "createdAt": "2020-12-23T19:34:57Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,33 @@\n+{\n+    \"comments\": {\n+        \"lineComment\": \"//\",\n+    },\n+    \"brackets\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"]\n+    ],\n+    \"autoClosingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+    ],\n+    \"surroundingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+    ],\n+    \"folding\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE4MjgwMQ==", "bodyText": "I believe you can combine the previous and this rule into only one using this pattern:\n\\\\b(32'f|64'f)?([0-9][0-9_]*\\\\.)?[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548182801", "createdAt": "2020-12-23T19:51:46Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,42 @@\n+{\n+    \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (exponent)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE4NjQzMQ==", "bodyText": "I suspect that primary key can have any number of spaces, so the pattern should be primary\\\\s+key", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548186431", "createdAt": "2020-12-23T19:56:54Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|skip|continue|break|function|match)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.module.ddlog\",\n+                    \"match\": \"\\\\b(import|extern|as)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.type.ddlog\",\n+                    \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.special.ddlog\",\n+                    \"match\": \"\\\\b(Aggregate|FlatMap)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.other.ddlog\",\n+                    \"match\": \"\\\\b(group_by|primary key|index|on)\\\\b\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE5MDcxNQ==", "bodyText": "This looks incorrect; inside of an attribute you can only have a series of key=value pairs. So the grammar should reflect this. Look at the Rust grammar for attribute here: https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L76", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548190715", "createdAt": "2020-12-23T20:02:12Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        },\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.assignment.ddlog\"\n+                        }                        \n+                    },\n+                    \"patterns\":\n+                    [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA=="}, "originalCommit": {"oid": "d68f341a28fdc380abb832091f154419290af6b8"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyNzQ4Mg==", "bodyText": "why is 1 a punctuation?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548227482", "createdAt": "2020-12-23T20:52:00Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,106 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"meta.attributes.ddlog\",\n+                    \"begin\": \"(#\\\\[)\",\n+                    \"end\": \"(\\\\])\", \n+                    \"patterns\": [  \n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]                                                         \n+                },\n+                {\n+                    \"name\": \"meta.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]*))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                        {\n+                            \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]*)(?=[(])\",\n+                            \"name\": \"entity.name.function.ddlog\",\n+                            \"captures\": {\n+                            \"1\": {\n+                               \"name\": \"punctuation.definition.type.ddlog\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyODA5OA==", "bodyText": "Why are you listing all these types here? I suggest making a pattern named type_spec, that corresponds to the type_spec production from the ddlog grammar in the section https://github.com/vmware/differential-datalog/blob/master/doc/language_reference/language_reference.md#types. In general, these files should be very similar to the grammar from the language reference document.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548228098", "createdAt": "2020-12-23T20:53:09Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,106 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"meta.attributes.ddlog\",\n+                    \"begin\": \"(#\\\\[)\",\n+                    \"end\": \"(\\\\])\", \n+                    \"patterns\": [  \n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]                                                         \n+                },\n+                {\n+                    \"name\": \"meta.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]*))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                        {\n+                            \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]*)(?=[(])\",\n+                            \"name\": \"entity.name.function.ddlog\",\n+                            \"captures\": {\n+                            \"1\": {\n+                               \"name\": \"punctuation.definition.type.ddlog\"\n+                             }\n+                            }\n+                        },\n+                        {\n+                            \"name\": \"variable.parameter.ddlog\",\n+                            \"match\": \"(?<![:]\\\\s*)(?!.*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map))\\\\s*([a-z_][a-zA-Z0-9_]*)(\\\\b)\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyODQ4Nw==", "bodyText": "this is called \"turnstyle\"", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548228487", "createdAt": "2020-12-23T20:53:39Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,24 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.separator.comma.ddlog\",\n+                    \"match\": \"\\\\s*(,)\\\\s*\"\n+                },\n+                {\n+                    \"name\": \"punctuation.other.delimiter.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTYwMA==", "bodyText": "since you just defined this in the previous pattern, can't you just use that?", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548229600", "createdAt": "2020-12-23T20:55:08Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTk3OQ==", "bodyText": "Actually I don't think you can have comments inside an interpolated string.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548229979", "createdAt": "2020-12-23T20:55:36Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMDk0Ng==", "bodyText": "I would suggest using a rule that looks more like the rust escaped character https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L515", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548230946", "createdAt": "2020-12-23T20:56:53Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTYwMA=="}, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTY3OA==", "bodyText": "I also don't think we allow comments inside raw strings", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548231678", "createdAt": "2020-12-23T20:57:45Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"\n+                                },\n+                                {\n+                                    \"include\": \"#constant\"\n+                                },\n+                                {\n+                                    \"include\": \"#entity\"\n+                                },\n+                                {\n+                                    \"include\": \"#meta\"\n+                                },\n+                                {\n+                                    \"include\": \"#punctuation\"\n+                                },\n+                                {\n+                                    \"include\": \"#string\"\n+                                },\n+                                {\n+                                    \"include\": \"#support\"\n+                                },\n+                                {\n+                                    \"include\": \"#type\"\n+                                },\n+                                {\n+                                    \"include\": \"#variable\"\n+                                },\n+                                {\n+                                    \"include\": \"#operator\"\n+                                },\n+                                {\n+                                    \"include\": \"#keyword\"\n+                                },\n+                                {\n+                                    \"include\": \"#storage\"\n+                                }\n+                            ]                    \n+                        },\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                       {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                               \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                               }\n+                            },\n+                            \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTkzNw==", "bodyText": "or type, or punctuation, etc.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548231937", "createdAt": "2020-12-23T20:58:03Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"\n+                                },\n+                                {\n+                                    \"include\": \"#constant\"\n+                                },\n+                                {\n+                                    \"include\": \"#entity\"\n+                                },\n+                                {\n+                                    \"include\": \"#meta\"\n+                                },\n+                                {\n+                                    \"include\": \"#punctuation\"\n+                                },\n+                                {\n+                                    \"include\": \"#string\"\n+                                },\n+                                {\n+                                    \"include\": \"#support\"\n+                                },\n+                                {\n+                                    \"include\": \"#type\"\n+                                },\n+                                {\n+                                    \"include\": \"#variable\"\n+                                },\n+                                {\n+                                    \"include\": \"#operator\"\n+                                },\n+                                {\n+                                    \"include\": \"#keyword\"\n+                                },\n+                                {\n+                                    \"include\": \"#storage\"\n+                                }\n+                            ]                    \n+                        },\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                       {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                               \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                               }\n+                            },\n+                            \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTY3OA=="}, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMjk3OA==", "bodyText": "There are two types of raw strings: the ones starting with [| do not allow interpolation, they look more like the Rust raw strings: https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L530\nThe interpolated raw strings start with $[| and they do allow interpolation", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548232978", "createdAt": "2020-12-23T20:59:22Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"\n+                                },\n+                                {\n+                                    \"include\": \"#constant\"\n+                                },\n+                                {\n+                                    \"include\": \"#entity\"\n+                                },\n+                                {\n+                                    \"include\": \"#meta\"\n+                                },\n+                                {\n+                                    \"include\": \"#punctuation\"\n+                                },\n+                                {\n+                                    \"include\": \"#string\"\n+                                },\n+                                {\n+                                    \"include\": \"#support\"\n+                                },\n+                                {\n+                                    \"include\": \"#type\"\n+                                },\n+                                {\n+                                    \"include\": \"#variable\"\n+                                },\n+                                {\n+                                    \"include\": \"#operator\"\n+                                },\n+                                {\n+                                    \"include\": \"#keyword\"\n+                                },\n+                                {\n+                                    \"include\": \"#storage\"\n+                                }\n+                            ]                    \n+                        },\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                       {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNDg5Mg==", "bodyText": "these rules for typedef are too specific. The grammar of typedef is\n\"typedef\" type_name (* unique type name *)\n            [\"<\" typevar_name [(\",\" typevar_name)*] \">\"] \n            \"=\" type_spec (* type definition *)\n\nI suspect you can parallel this definition in your grammar. Having all these base types is too specific, you should probably have a rule for type_spec.", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548234892", "createdAt": "2020-12-23T21:02:46Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,576 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\s*)(?!.*(Some|None|Ok|Err))([A-Z][a-zA-Z0-9_]*)(\\\\s*)(?=((\\\\s*)\\\\{))\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },                \n+                {\n+                    \"match\": \"('[A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                }, \n+                {\n+                    \"name\": \"entity.name.typedef-typespec.ddlog\",                    \n+                    \"match\": \"\\\\b(typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\\\s*(=)\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNTg0NQ==", "bodyText": "you sould probably call this typedef and not type", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548235845", "createdAt": "2020-12-23T21:04:04Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,576 @@\n+{\n+  \"repository\": {\n+        \"type\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODI0NDU0Mw==", "bodyText": "all these rules should use type_spec", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548244543", "createdAt": "2020-12-23T21:15:38Z", "author": {"login": "mbudiu-vmw"}, "path": "tools/vscode/ddlog-language/src/syntax/operator.json5", "diffHunk": "@@ -0,0 +1,254 @@\n+{\n+  \"repository\": {\n+        \"operator\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.operator.group.parameters.ddlog\",\n+                    \"begin\": \"\\\\(\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"\\\\)\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"patterns\": [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]\n+                },\n+                {\n+                    \"name\": \"keyword.operator.group.block.ddlog\",\n+                    \"begin\": \"\\\\{\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"\\\\}\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        }\n+                    },\n+                    \"patterns\": [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]\n+                },                \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(mut)?\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b))\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"storage.modifier.mutable.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"storage.type.ddlog\"\n+                        }                        \n+                    }\n+                }, \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(function\\\\s*)(\\\\(\\\\s*))\",\n+                },                \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(\\\\(\\\\s*)\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b))\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0"}, "originalPosition": 129}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4d339de09b6d4fa87b78cacd16b71f83a52fcf3", "author": {"user": {"login": "desharchana19", "name": null}}, "url": "https://github.com/vmware/differential-datalog/commit/f4d339de09b6d4fa87b78cacd16b71f83a52fcf3", "committedDate": "2020-12-24T16:53:06Z", "message": "Delete desktop.ini"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b817ac39a433ea8fb2e294fc89a134561b1be4f", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/0b817ac39a433ea8fb2e294fc89a134561b1be4f", "committedDate": "2021-01-12T16:28:11Z", "message": "review comment fixes except fix for type-spec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccd98e1215ae6eff72f8052b982b65c81e54afd9", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/ccd98e1215ae6eff72f8052b982b65c81e54afd9", "committedDate": "2021-01-13T08:15:54Z", "message": "README formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4347dd4c9ca5fe0809fcde3bcde3d7d8baed5407", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/4347dd4c9ca5fe0809fcde3bcde3d7d8baed5407", "committedDate": "2021-01-13T08:43:41Z", "message": "README formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aadb4b4723b097b29f6af0d078414bca017a4064", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/aadb4b4723b097b29f6af0d078414bca017a4064", "committedDate": "2021-01-26T15:34:19Z", "message": "return variable code added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ec25a5eef2b81520bc5ea75e01db741689914b3", "author": {"user": null}, "url": "https://github.com/vmware/differential-datalog/commit/6ec25a5eef2b81520bc5ea75e01db741689914b3", "committedDate": "2021-01-27T06:09:21Z", "message": "relation name after turnstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc3Nzg1MzY3", "url": "https://github.com/vmware/differential-datalog/pull/829#pullrequestreview-577785367", "createdAt": "2021-01-27T21:44:15Z", "commit": {"oid": "6ec25a5eef2b81520bc5ea75e01db741689914b3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4454, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}