{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NzI0NTcy", "number": 832, "title": "Removed excessive indirections from function pointers", "bodyText": "Changed all &'static <Rule/Arrangement Function Pointer>s to hold a function pointer directly, this removes a lot of indirection from a fairly hot path\nAdded a root Cargo.toml to the repo with the rust code as workspace members, this allows IDEs to analyze the rust code while having the root dir open\nFixed some random clippy lints", "createdAt": "2020-11-30T18:16:38Z", "url": "https://github.com/vmware/differential-datalog/pull/832", "merged": true, "mergeCommit": {"oid": "1340040ea0398e29372e88a0210a6a746281cea5"}, "closed": true, "closedAt": "2020-12-01T20:49:10Z", "author": {"login": "Kixiron"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhpz2ugFqTU0MTE4ODU3Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh-jpPgBqjQwNTg3MDg5MDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMTg4NTc2", "url": "https://github.com/vmware/differential-datalog/pull/832#pullrequestreview-541188576", "createdAt": "2020-11-30T18:39:29Z", "commit": {"oid": "82333a540467af296614e63238ea84e6349b044d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODozOToyOVrOH8IgwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODozOToyOVrOH8IgwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjgxNjA2NA==", "bodyText": "This will conflict with the workspace code you added to Compile.hs earlier.  We actually used to have this section here some time ago, but ended up removing it.  I believe the reason was that cargo complained when adding a dependency on the generated Rust project from external crates, as it does not like seeing workspaces anywhere other than in the main crate.\nAlso, this breaks CI build.", "url": "https://github.com/vmware/differential-datalog/pull/832#discussion_r532816064", "createdAt": "2020-11-30T18:39:29Z", "author": {"login": "ryzhyk"}, "path": "Cargo.toml", "diffHunk": "@@ -0,0 +1,9 @@\n+[workspace]\n+members = [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82333a540467af296614e63238ea84e6349b044d"}, "originalPosition": 2}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "82333a540467af296614e63238ea84e6349b044d", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/82333a540467af296614e63238ea84e6349b044d", "committedDate": "2020-11-30T18:13:56Z", "message": "Removed excessive indirections from function pointers"}, "afterCommit": {"oid": "7afeab4e7369d31432649622d00745ca92ba0b23", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/7afeab4e7369d31432649622d00745ca92ba0b23", "committedDate": "2020-11-30T20:04:24Z", "message": "Removed excessive indirections from function pointers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMTQ3MjE1", "url": "https://github.com/vmware/differential-datalog/pull/832#pullrequestreview-542147215", "createdAt": "2020-12-01T17:44:28Z", "commit": {"oid": "7afeab4e7369d31432649622d00745ca92ba0b23"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzo0NDoyOVrOH84hzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzo0NDoyOVrOH84hzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYwMjc2NA==", "bodyText": "Can you please undo this change too?  It upsets older rustc. I have a backwards compatible fix in an upcoming PR.\nOther than this the PR looks great.", "url": "https://github.com/vmware/differential-datalog/pull/832#discussion_r533602764", "createdAt": "2020-12-01T17:44:29Z", "author": {"login": "ryzhyk"}, "path": "rust/template/distributed_datalog/src/lib.rs", "diffHunk": "@@ -5,7 +5,7 @@\n     future_incompatible,\n     illegal_floating_point_literal_pattern,\n     improper_ctypes,\n-    intra_doc_link_resolution_failure,\n+    broken_intra_doc_links,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7afeab4e7369d31432649622d00745ca92ba0b23"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5184d08919869d4b48b677f91b98dbc81d87d41", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/f5184d08919869d4b48b677f91b98dbc81d87d41", "committedDate": "2020-12-01T18:49:37Z", "message": "Removed excessive indirections from function pointers"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7afeab4e7369d31432649622d00745ca92ba0b23", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/7afeab4e7369d31432649622d00745ca92ba0b23", "committedDate": "2020-11-30T20:04:24Z", "message": "Removed excessive indirections from function pointers"}, "afterCommit": {"oid": "f5184d08919869d4b48b677f91b98dbc81d87d41", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/f5184d08919869d4b48b677f91b98dbc81d87d41", "committedDate": "2020-12-01T18:49:37Z", "message": "Removed excessive indirections from function pointers"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4457, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}