{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MDE4MTIy", "number": 503, "title": "CI and build_java fixes (see commit comments).", "bodyText": "", "createdAt": "2020-01-24T21:13:18Z", "url": "https://github.com/vmware/differential-datalog/pull/503", "merged": true, "mergeCommit": {"oid": "7756b1ff713888f9ef3d609c4197301f8146f996"}, "closed": true, "closedAt": "2020-01-24T21:56:40Z", "author": {"login": "ryzhyk"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9jcqxAH2gAyMzY3MDE4MTIyOmJhZWE1MjgxMjhjNjJkODBjMjY0ZGJiNDk5NDZlODkxMzUyMTU3NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9loJhgFqTM0ODIyODM1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "baea528128c62d80c264dbb49946e89135215759", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/baea528128c62d80c264dbb49946e89135215759", "committedDate": "2020-01-24T18:42:18Z", "message": "Dockerfile: install maven.\n\nRequired to build the SQL frontend."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1be259e5d73c1702bec5dff6da52ec074449d7c", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/a1be259e5d73c1702bec5dff6da52ec074449d7c", "committedDate": "2020-01-24T20:12:51Z", "message": "build_java.sh: Pass -std=gnu11 to CC.\n\nOlder versions of gcc default to older C standards that do not support\nthe `_Thread_local` attribute, causing compiler to fail on ddlogapi.c."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MjI4MzA3", "url": "https://github.com/vmware/differential-datalog/pull/503#pullrequestreview-348228307", "createdAt": "2020-01-24T21:14:33Z", "commit": {"oid": "a1be259e5d73c1702bec5dff6da52ec074449d7c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMToxNDozM1rOFhqk_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMToxNDozM1rOFhqk_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg0NDkyNw==", "bodyText": "are we using gnu specific extensions?\nwhy not just -std=c11?", "url": "https://github.com/vmware/differential-datalog/pull/503#discussion_r370844927", "createdAt": "2020-01-24T21:14:33Z", "author": {"login": "mbudiu-vmw"}, "path": "java/build_java.sh", "diffHunk": "@@ -57,7 +57,7 @@ function compile {\n     # Compile Java program\n     javac -encoding utf8 -Xlint:unchecked ${JAVAPROG}\n     # Create a shared library containing all the native code: ddlogapi.c, ${DLPROG}_ddlog.a\n-    ${CC} -shared -fPIC -I${JAVA_HOME}/include -I${JAVA_HOME}/include/${JDK_OS} -I${DLDIR}/${DLPROG}_ddlog -I../../lib ../ddlogapi.c -L${DLDIR}/${DLPROG}_ddlog/target/${BUILD}/ -l${DLPROG}_ddlog -o libddlogapi.${SHLIBEXT}\n+    ${CC} -std=gnu11 -shared -fPIC -I${JAVA_HOME}/include -I${JAVA_HOME}/include/${JDK_OS} -I${DLDIR}/${DLPROG}_ddlog -I../../lib ../ddlogapi.c -L${DLDIR}/${DLPROG}_ddlog/target/${BUILD}/ -l${DLPROG}_ddlog -o libddlogapi.${SHLIBEXT}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1be259e5d73c1702bec5dff6da52ec074449d7c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MjI4MzU1", "url": "https://github.com/vmware/differential-datalog/pull/503#pullrequestreview-348228355", "createdAt": "2020-01-24T21:14:39Z", "commit": {"oid": "a1be259e5d73c1702bec5dff6da52ec074449d7c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4624, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}