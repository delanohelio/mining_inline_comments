{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMjA3NTY2", "number": 875, "title": "Added the FromRecord and IntoRecord derive macros", "bodyText": "Created a derive macro for the FromRecord and IntoRecord traits to allow end users to easily implement FromRecord and IntoRecord automatically without any boilerplate. Declarative macros exist within differential_datalog, but they're difficult to learn, use and must be manually updated and so are not ideal as a user-facing API (Whether the derives should be used in generated code I'll leave to your judgment)\n\nThese are the first two of (hopefully) 3 macros if all goes well: FromRecord, IntoRecord and Mutator", "createdAt": "2020-12-18T00:07:19Z", "url": "https://github.com/vmware/differential-datalog/pull/875", "merged": true, "mergeCommit": {"oid": "310bb8e9a91b981ba60af55e81acf684e13b34d3"}, "closed": true, "closedAt": "2020-12-30T23:28:42Z", "author": {"login": "Kixiron"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoyTP4gFqTU1NzQwMzc2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrXWX7ABqjQxNTg1MDA1MTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NDAzNzY4", "url": "https://github.com/vmware/differential-datalog/pull/875#pullrequestreview-557403768", "createdAt": "2020-12-22T22:30:29Z", "commit": {"oid": "ca6f41baf1cbe9bef71ac895a2b46d4157b46a0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMjozMDoyOVrOIKLFQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMjozMDoyOVrOIKLFQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzUzODI0Mg==", "bodyText": "Why does this have to be a separate crate?", "url": "https://github.com/vmware/differential-datalog/pull/875#discussion_r547538242", "createdAt": "2020-12-22T22:30:29Z", "author": {"login": "ryzhyk"}, "path": "Cargo.toml", "diffHunk": "@@ -1,9 +1,11 @@\n [workspace]\n members = [\n     \"rust/template\",\n+    \"rust/template/ovsdb\",\n     \"rust/template/cmd_parser\",\n-    \"rust/template/differential_datalog\",\n+    \"rust/template/ddlog_derive\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca6f41baf1cbe9bef71ac895a2b46d4157b46a0e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NDExNjkx", "url": "https://github.com/vmware/differential-datalog/pull/875#pullrequestreview-557411691", "createdAt": "2020-12-22T22:52:11Z", "commit": {"oid": "ca6f41baf1cbe9bef71ac895a2b46d4157b46a0e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca6f41baf1cbe9bef71ac895a2b46d4157b46a0e", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/ca6f41baf1cbe9bef71ac895a2b46d4157b46a0e", "committedDate": "2020-12-17T23:59:07Z", "message": "Finished FromRecord derive macro"}, "afterCommit": {"oid": "875539091e01274155d8a18ed6acfee4a5dfe863", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/875539091e01274155d8a18ed6acfee4a5dfe863", "committedDate": "2020-12-24T03:15:00Z", "message": "Added IntoRecord derive macro and derive compile testing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "875539091e01274155d8a18ed6acfee4a5dfe863", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/875539091e01274155d8a18ed6acfee4a5dfe863", "committedDate": "2020-12-24T03:15:00Z", "message": "Added IntoRecord derive macro and derive compile testing"}, "afterCommit": {"oid": "2fce9091c656edb374752aa9f8593997175ae925", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/2fce9091c656edb374752aa9f8593997175ae925", "committedDate": "2020-12-24T22:45:27Z", "message": "Added IntoRecord derive macro and derive compile testing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2fce9091c656edb374752aa9f8593997175ae925", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/2fce9091c656edb374752aa9f8593997175ae925", "committedDate": "2020-12-24T22:45:27Z", "message": "Added IntoRecord derive macro and derive compile testing"}, "afterCommit": {"oid": "cecd315fafe36a4285f54c0c2db604306a3593b4", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/cecd315fafe36a4285f54c0c2db604306a3593b4", "committedDate": "2020-12-26T16:28:07Z", "message": "Finished Mutator derive"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzUyODYw", "url": "https://github.com/vmware/differential-datalog/pull/875#pullrequestreview-559752860", "createdAt": "2020-12-30T01:19:25Z", "commit": {"oid": "bdbf02b7ddb4b5912ba9f3aa52286ea83065a0ae"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMToxOToyNVrOIMbf5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMToxOTo1NlrOIMbgQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwNDM1Ng==", "bodyText": "The error message is not correct if self is a struct with >0 fields.", "url": "https://github.com/vmware/differential-datalog/pull/875#discussion_r549904356", "createdAt": "2020-12-30T01:19:25Z", "author": {"login": "ryzhyk"}, "path": "rust/template/ddlog_derive/src/mutator.rs", "diffHunk": "@@ -0,0 +1,250 @@\n+use super::{add_trait_bounds, get_rename};\n+use proc_macro2::TokenStream;\n+use quote::{format_ident, quote};\n+use syn::{\n+    parse_quote, spanned::Spanned, Data, DataEnum, DataStruct, DeriveInput, Error, Fields,\n+    FieldsNamed, FieldsUnnamed, Ident, ImplGenerics, Index, Result, TypeGenerics, WhereClause,\n+};\n+\n+pub fn mutator_inner(mut input: DeriveInput) -> Result<TokenStream> {\n+    // The name of the struct\n+    let struct_ident = input.ident;\n+\n+    // Make sure every generic is able to be mutated by `Record`\n+    // The redundant clone circumvents mutating the collection we're iterating over\n+    #[allow(clippy::redundant_clone)]\n+    for generic in input\n+        .generics\n+        .clone()\n+        .type_params()\n+        .map(|param| &param.ident)\n+    {\n+        input\n+            .generics\n+            .make_where_clause()\n+            .predicates\n+            .push(parse_quote! {\n+                differential_datalog::record::Record: differential_datalog::record::Mutator<#generic>\n+            });\n+    }\n+\n+    // Add the required trait bounds\n+    let generics = add_trait_bounds(\n+        input.generics,\n+        vec![parse_quote!(differential_datalog::record::FromRecord)],\n+    );\n+    let generics = generics.split_for_impl();\n+\n+    match input.data {\n+        // Derive for structs\n+        Data::Struct(derive_struct) => mutator_struct(struct_ident, derive_struct, generics),\n+\n+        // Derive for enums\n+        Data::Enum(derive_enum) => mutator_enum(struct_ident, derive_enum, generics),\n+\n+        // Unions can't safely/soundly be automatically implemented over,\n+        // the user will have to manually enforce invariants on it\n+        Data::Union(union) => Err(Error::new_spanned(\n+            union.union_token,\n+            \"`Mutator` is not able to be automatically implemented on unions\",\n+        )),\n+    }\n+}\n+\n+/// Unit structs have nothing to mutate, so make sure the constructor is correct and that\n+/// there's no fields on the record\n+fn unit_struct_mutator() -> TokenStream {\n+    quote! {\n+        match self {\n+            differential_datalog::record::Record::PosStruct(constructor, args)\n+                if args.is_empty() => {},\n+\n+            differential_datalog::record::Record::NamedStruct(constructor, args)\n+                if args.is_empty() => {},\n+\n+            error => {\n+                return std::result::Result::Err(std::format!(\"not a struct {:?}\", error));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdbf02b7ddb4b5912ba9f3aa52286ea83065a0ae"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwNDQ1MQ==", "bodyText": "same issue here", "url": "https://github.com/vmware/differential-datalog/pull/875#discussion_r549904451", "createdAt": "2020-12-30T01:19:56Z", "author": {"login": "ryzhyk"}, "path": "rust/template/ddlog_derive/src/mutator.rs", "diffHunk": "@@ -0,0 +1,250 @@\n+use super::{add_trait_bounds, get_rename};\n+use proc_macro2::TokenStream;\n+use quote::{format_ident, quote};\n+use syn::{\n+    parse_quote, spanned::Spanned, Data, DataEnum, DataStruct, DeriveInput, Error, Fields,\n+    FieldsNamed, FieldsUnnamed, Ident, ImplGenerics, Index, Result, TypeGenerics, WhereClause,\n+};\n+\n+pub fn mutator_inner(mut input: DeriveInput) -> Result<TokenStream> {\n+    // The name of the struct\n+    let struct_ident = input.ident;\n+\n+    // Make sure every generic is able to be mutated by `Record`\n+    // The redundant clone circumvents mutating the collection we're iterating over\n+    #[allow(clippy::redundant_clone)]\n+    for generic in input\n+        .generics\n+        .clone()\n+        .type_params()\n+        .map(|param| &param.ident)\n+    {\n+        input\n+            .generics\n+            .make_where_clause()\n+            .predicates\n+            .push(parse_quote! {\n+                differential_datalog::record::Record: differential_datalog::record::Mutator<#generic>\n+            });\n+    }\n+\n+    // Add the required trait bounds\n+    let generics = add_trait_bounds(\n+        input.generics,\n+        vec![parse_quote!(differential_datalog::record::FromRecord)],\n+    );\n+    let generics = generics.split_for_impl();\n+\n+    match input.data {\n+        // Derive for structs\n+        Data::Struct(derive_struct) => mutator_struct(struct_ident, derive_struct, generics),\n+\n+        // Derive for enums\n+        Data::Enum(derive_enum) => mutator_enum(struct_ident, derive_enum, generics),\n+\n+        // Unions can't safely/soundly be automatically implemented over,\n+        // the user will have to manually enforce invariants on it\n+        Data::Union(union) => Err(Error::new_spanned(\n+            union.union_token,\n+            \"`Mutator` is not able to be automatically implemented on unions\",\n+        )),\n+    }\n+}\n+\n+/// Unit structs have nothing to mutate, so make sure the constructor is correct and that\n+/// there's no fields on the record\n+fn unit_struct_mutator() -> TokenStream {\n+    quote! {\n+        match self {\n+            differential_datalog::record::Record::PosStruct(constructor, args)\n+                if args.is_empty() => {},\n+\n+            differential_datalog::record::Record::NamedStruct(constructor, args)\n+                if args.is_empty() => {},\n+\n+            error => {\n+                return std::result::Result::Err(std::format!(\"not a struct {:?}\", error));\n+            },\n+        }\n+    }\n+}\n+\n+fn tuple_struct_mutator<'a>(\n+    tuple_struct: &'a FieldsUnnamed,\n+) -> (TokenStream, impl Iterator<Item = Ident> + 'a) {\n+    let num_fields = tuple_struct.unnamed.len();\n+\n+    let indices = tuple_struct.unnamed.iter().enumerate().map(|(idx, field)| {\n+        let index = Index {\n+            index: idx as u32,\n+            span: field.span(),\n+        };\n+\n+        format_ident!(\"_{}\", index)\n+    });\n+\n+    let field_mutations = tuple_struct\n+        .unnamed\n+        .iter()\n+        .zip(indices.clone())\n+        .enumerate()\n+        .map(|(idx, (field, index))| {\n+            let field_ty = &field.ty;\n+\n+            quote! {\n+                <dyn differential_datalog::record::Mutator<#field_ty>>::mutate(&args[#idx], #index)?;\n+            }\n+        });\n+\n+    let mutator = quote! {\n+        match self {\n+            differential_datalog::record::Record::PosStruct(constructor, args)\n+                if args.len() == #num_fields => {\n+                    #( #field_mutations )*\n+                },\n+\n+            error => {\n+                return std::result::Result::Err(std::format!(\"not a struct {:?}\", error));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdbf02b7ddb4b5912ba9f3aa52286ea83065a0ae"}, "originalPosition": 107}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f533fa85027112a7eec04334cc37b3883ecdc2d", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/3f533fa85027112a7eec04334cc37b3883ecdc2d", "committedDate": "2020-12-30T08:50:42Z", "message": "Started on derive macros"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e73fc32544cbd059cee3340da18be417fa98241", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/7e73fc32544cbd059cee3340da18be417fa98241", "committedDate": "2020-12-30T08:50:42Z", "message": "Finished FromRecord derive macro"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05e3db5ad2909aa772c5b8f34f04a3b6c1ef7720", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/05e3db5ad2909aa772c5b8f34f04a3b6c1ef7720", "committedDate": "2020-12-30T08:50:42Z", "message": "Refactored FromRecord a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff10f0dbd3142d1680473b90b2323728d01d1dba", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/ff10f0dbd3142d1680473b90b2323728d01d1dba", "committedDate": "2020-12-30T08:50:42Z", "message": "Added IntoRecord derive macro and derive compile testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85ea65e8542c25966107d0f9115ed3e2009b91eb", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/85ea65e8542c25966107d0f9115ed3e2009b91eb", "committedDate": "2020-12-30T08:50:42Z", "message": "Simplified IntoRecord"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dd96f064eb62ec4d31a9f2a00f82bcf0b14b242", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/9dd96f064eb62ec4d31a9f2a00f82bcf0b14b242", "committedDate": "2020-12-30T08:51:26Z", "message": "Updated Changelog with ddlog_derive changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4960217994832b05a6fa364f3f1b0d9ae6460d5", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/a4960217994832b05a6fa364f3f1b0d9ae6460d5", "committedDate": "2020-12-30T08:51:26Z", "message": "Added Record::positional_struct_fields() and fixed derive tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f58c5ba05dbcc73f35ee1b2bf38588f757ef5b9", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/3f58c5ba05dbcc73f35ee1b2bf38588f757ef5b9", "committedDate": "2020-12-30T08:51:26Z", "message": "Added Record::Serialized FromRecord code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c8ea0d1f5b140f502556a41e07494847835a93", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/85c8ea0d1f5b140f502556a41e07494847835a93", "committedDate": "2020-12-30T08:51:26Z", "message": "Finished Mutator derive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9521fdc0e49b106fdc07d8316317c056dbca7225", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/9521fdc0e49b106fdc07d8316317c056dbca7225", "committedDate": "2020-12-30T08:51:26Z", "message": "Implemented nomial typing and added tests for it"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c848c6c4ba0d9eed56455316afb0c517050c5f6e", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/c848c6c4ba0d9eed56455316afb0c517050c5f6e", "committedDate": "2020-12-30T08:51:26Z", "message": "Improved error messages for Mutator derive macro"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24cf93fd2a475f7f002de899d9a9cf5ca7c5e173", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/24cf93fd2a475f7f002de899d9a9cf5ca7c5e173", "committedDate": "2020-12-30T08:51:26Z", "message": "into_record.rs: Use qualified name std::vec::Vec.\n\nAvoid name clash with `ddlog_std::Vec`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c0b596c30d91b85c4792ede7d081ba9b352f0a8", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/9c0b596c30d91b85c4792ede7d081ba9b352f0a8", "committedDate": "2020-12-30T08:51:26Z", "message": "mutator.rs: Strengthen trait bounds.\n\nIn addition to requiring that generic arguments implement `FromRecord`,\nadd `Default`, `Deserialize`, and `Sized` bounds required by\n`FromRecord`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3475db2da818edbaf1283268e8e83ce610959eb6", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/3475db2da818edbaf1283268e8e83ce610959eb6", "committedDate": "2020-12-30T08:51:26Z", "message": "Change semantics of `rename` for enum variants.\n\nIn DDlog, enum variants live in the module name space.  We therefore want\nto be able to rename them in the compiler so that the constructor name\nin the `Record` representation does not include enum name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee278c822bbc94eafd55371372f58b523703d8cb", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/ee278c822bbc94eafd55371372f58b523703d8cb", "committedDate": "2020-12-30T22:44:50Z", "message": "Use `ddlog_derive` in the compiler.\n\nGet rid of the old macros that generate `FromRecord`, `IntoRecord` and\n`Mutator` implementations, along with a bunch of code in `Compile.hs`\nthat invokes these macros."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c59345744fbd0325853555d45567d199a6605be1", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/c59345744fbd0325853555d45567d199a6605be1", "committedDate": "2020-12-30T22:44:50Z", "message": "test.sh: Add `ddlog_dev` tests to the test suite."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "041df634a064d47069b41855c9072c01473821e1", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/041df634a064d47069b41855c9072c01473821e1", "committedDate": "2020-12-30T22:44:50Z", "message": "New clippy lints in Rust 1.48."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b30543549fee60abb96107abd17d3e0d975f693", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/7b30543549fee60abb96107abd17d3e0d975f693", "committedDate": "2020-12-30T22:44:50Z", "message": "into_record.rs: Convert unit struct to NamedStruct.\n\nChange the behavior of IntoRecord to serialize unit structs as\n`NamedStruct` with zero arguments instead of `PosStruct` with zero\narguments.  Technically, this makes no difference, but named struct is\ngenerally a more expressive representation, e.g., it can be converted to\nJSON, and there is some code out there, e.g., in OVN that refuses to\ndeal with positional structs.\n\nIn the future, we should probablyh extend the IntoRecord trait to\nprovide separate methods for conversion to `PosStruct` and\n`NamedStruct`, as the former representation is more memory-efficient,\nwhile the latter contain more information about the type, that is\nnecessary in certain situations."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9103c4a4b62b3503ab31d464ed100b4fbffd2227", "author": {"user": {"login": "Kixiron", "name": "Chase Wilson"}}, "url": "https://github.com/vmware/differential-datalog/commit/9103c4a4b62b3503ab31d464ed100b4fbffd2227", "committedDate": "2020-12-30T04:02:00Z", "message": "Improved error messages for Mutator derive macro"}, "afterCommit": {"oid": "7b30543549fee60abb96107abd17d3e0d975f693", "author": {"user": {"login": "ryzhyk", "name": "Leonid Ryzhyk"}}, "url": "https://github.com/vmware/differential-datalog/commit/7b30543549fee60abb96107abd17d3e0d975f693", "committedDate": "2020-12-30T22:44:50Z", "message": "into_record.rs: Convert unit struct to NamedStruct.\n\nChange the behavior of IntoRecord to serialize unit structs as\n`NamedStruct` with zero arguments instead of `PosStruct` with zero\narguments.  Technically, this makes no difference, but named struct is\ngenerally a more expressive representation, e.g., it can be converted to\nJSON, and there is some code out there, e.g., in OVN that refuses to\ndeal with positional structs.\n\nIn the future, we should probablyh extend the IntoRecord trait to\nprovide separate methods for conversion to `PosStruct` and\n`NamedStruct`, as the former representation is more memory-efficient,\nwhile the latter contain more information about the type, that is\nnecessary in certain situations."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4499, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}