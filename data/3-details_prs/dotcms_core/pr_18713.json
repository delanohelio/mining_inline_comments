{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2ODg2NDg4", "number": 18713, "title": "#18587  fix for the secretes getting wiped out", "bodyText": "This comes to solve this: #18587\nAn update operation performs a delete first and then another save. That's how we achieve an update in the secrets store.\nWhen a secret was coming in the logic we had in place before was removing the secret and whatever was coming in as a string of asters '********'  was getting not getting replaced by the secret that was previously saved.", "createdAt": "2020-06-19T04:47:24Z", "url": "https://github.com/dotCMS/core/pull/18713", "merged": true, "mergeCommit": {"oid": "bab5567473a9b6559b6cbba4c3d7c88f2bbb8cf8"}, "closed": true, "closedAt": "2020-06-19T22:27:56Z", "author": {"login": "fabrizzio-dotCMS"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsrZBgAH2gAyNDM2ODg2NDg4Ojk1YTg3NzM5MmVjNDkyMzdiNDg5MjViY2E5YWJlNTJhNWQ0NTJlOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcs2CvYgFqTQzNDIyMTIyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "95a877392ec49237b48925bca9abe52a5d452e98", "author": {"user": {"login": "fabrizzio-dotCMS", "name": "Fabrizzio Araya"}}, "url": "https://github.com/dotCMS/core/commit/95a877392ec49237b48925bca9abe52a5d452e98", "committedDate": "2020-06-19T04:32:00Z", "message": "#18587  fix for the secretes getting wiped out"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba", "author": {"user": {"login": "fabrizzio-dotCMS", "name": "Fabrizzio Araya"}}, "url": "https://github.com/dotCMS/core/commit/e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba", "committedDate": "2020-06-19T14:33:31Z", "message": "#18587  optmized imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTc2NzQ2", "url": "https://github.com/dotCMS/core/pull/18713#pullrequestreview-434176746", "createdAt": "2020-06-19T15:44:51Z", "commit": {"oid": "e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjA1MDUy", "url": "https://github.com/dotCMS/core/pull/18713#pullrequestreview-434205052", "createdAt": "2020-06-19T16:28:19Z", "commit": {"oid": "95a877392ec49237b48925bca9abe52a5d452e98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjoyODoyMFrOGmavcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjoyODoyMFrOGmavcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzNzIwMQ==", "bodyText": "Shouldn't we have also a Postman test for this one?", "url": "https://github.com/dotCMS/core/pull/18713#discussion_r442937201", "createdAt": "2020-06-19T16:28:20Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rest/api/v1/apps/AppsResourceTest.java", "diffHunk": "@@ -363,6 +367,95 @@ public void Test_Create_App_descriptor_Then_Create_App_Integration_Then_Delete_O\n         }\n     }\n \n+    /**\n+     * Test we save a secret that is described as 1 public value and 2 hidden ones\n+     * Given scenario: We create a secret then we update the non-hidden (public) values and send a string of asters like the UI would\n+     * Expected Result: Only the public value  was supposed to be updated. The other 2 hidden fields should remain the same since we sent a bunch of *****\n+     * @throws IOException\n+     */\n+    @Test\n+    public void Test_Create_App_descriptor_Then_Create_App_Integration_Then_Update_Secrets()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a877392ec49237b48925bca9abe52a5d452e98"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjIxMjI3", "url": "https://github.com/dotCMS/core/pull/18713#pullrequestreview-434221227", "createdAt": "2020-06-19T16:56:38Z", "commit": {"oid": "e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 963, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}