{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwODAxMDQx", "number": 19423, "title": "#18505 now the JSONTool uses the Jackson to map the string json as a \u2026", "bodyText": "This change provides a way to the JSONTool to parse the json string into a Lists or Maps instead of using JsonObject", "createdAt": "2020-10-09T20:19:04Z", "url": "https://github.com/dotCMS/core/pull/19423", "merged": true, "mergeCommit": {"oid": "077f7baee5d3e317213f9acf57301e18855ae5d0"}, "closed": true, "closedAt": "2020-10-14T20:19:53Z", "author": {"login": "jdotcms"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ8DVPAH2gAyNTAwODAxMDQxOjQ1NjUwNDAyZTA1Zjg2ZDk1YmQyYjFjZjY2ZWQ4ZDdjZDdkNjhkYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSJk5RgFqTUwNzUwNzg4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45650402e05f86d95bd2b1cf66ed8d7cd7d68da0", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/45650402e05f86d95bd2b1cf66ed8d7cd7d68da0", "committedDate": "2020-10-09T20:17:58Z", "message": "#18505 now the JSONTool uses the Jackson to map the string json as a single Maps and Lists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/34b50cb4db346821a9b6baade95410867c93399d", "committedDate": "2020-10-09T20:20:28Z", "message": "#18505 now the JSONTool uses the Jackson to map the string json as a single Maps and Lists"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDI4", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970028", "createdAt": "2020-10-09T20:28:25Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNVrOHfXt5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNVrOHfXt5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ4NA==", "bodyText": "Codacy found an issue: The String literal \"            \"body\": \"## Container: Blank Container\\r\\n## This is autogenerated code that cannot be changed\\r\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\r\\n\",\\n\" appears 4 times in this file; the first occurrence is on line 42", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656484", "createdAt": "2020-10-09T20:28:25Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDM2", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970036", "createdAt": "2020-10-09T20:28:26Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNlrOHfXt7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNlrOHfXt7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5NQ==", "bodyText": "Codacy found an issue: The String literal \"            \"owner\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 66", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656495", "createdAt": "2020-10-09T20:28:26Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDQy", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970042", "createdAt": "2020-10-09T20:28:27Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyN1rOHfXt8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyN1rOHfXt8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"drawed\": false,\\n\" appears 4 times in this file; the first occurrence is on line 50", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656497", "createdAt": "2020-10-09T20:28:27Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDQ3", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970047", "createdAt": "2020-10-09T20:28:28Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOFrOHfXt9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOFrOHfXt9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUwMQ==", "bodyText": "Codacy found an issue: The String literal \"            \"headCode\": null,\\n\" appears 4 times in this file; the first occurrence is on line 55", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656501", "createdAt": "2020-10-09T20:28:28Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDYy", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970062", "createdAt": "2020-10-09T20:28:29Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOVrOHfXt_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOVrOHfXt_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUxMQ==", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656511", "createdAt": "2020-10-09T20:28:29Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMDk0", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970094", "createdAt": "2020-10-09T20:28:32Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozMlrOHfXuFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozMlrOHfXuFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUzMg==", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656532", "createdAt": "2020-10-09T20:28:32Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 83}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTA4", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970108", "createdAt": "2020-10-09T20:28:33Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozM1rOHfXuIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozM1rOHfXuIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU0NQ==", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656545", "createdAt": "2020-10-09T20:28:33Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTIx", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970121", "createdAt": "2020-10-09T20:28:34Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNFrOHfXuKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNFrOHfXuKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU1NQ==", "bodyText": "Codacy found an issue: The String literal \"            \"canPublish\": true,\\n\" appears 4 times in this file; the first occurrence is on line 43", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656555", "createdAt": "2020-10-09T20:28:34Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTI3", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970127", "createdAt": "2020-10-09T20:28:35Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNVrOHfXuMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNVrOHfXuMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2MQ==", "bodyText": "Codacy found an issue: The String literal \"            \"title\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 72", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656561", "createdAt": "2020-10-09T20:28:35Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTM5", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970139", "createdAt": "2020-10-09T20:28:36Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNlrOHfXuOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNlrOHfXuOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2OA==", "bodyText": "Codacy found an issue: Avoid instantiating an object just to call getClass() on it; use the .class public member instead", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656568", "createdAt": "2020-10-09T20:28:36Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTQ0", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970144", "createdAt": "2020-10-09T20:28:37Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozN1rOHfXuPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozN1rOHfXuPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Mg==", "bodyText": "Codacy found an issue: The String literal \"            \"categoryId\": \"9d11b327-9bf5-4d42-92bd-7894d56ed218\",\\n\" appears 4 times in this file; the first occurrence is on line 46", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656572", "createdAt": "2020-10-09T20:28:37Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTUy", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970152", "createdAt": "2020-10-09T20:28:38Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOFrOHfXuQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOFrOHfXuQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"theme\": null,\\n\" appears 4 times in this file; the first occurrence is on line 70", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656577", "createdAt": "2020-10-09T20:28:38Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 70}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTU5", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970159", "createdAt": "2020-10-09T20:28:39Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOVrOHfXuRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOVrOHfXuRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Mw==", "bodyText": "Codacy found an issue: The String literal \"            \"header\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 56", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656583", "createdAt": "2020-10-09T20:28:39Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTY2", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970166", "createdAt": "2020-10-09T20:28:40Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MFrOHfXuSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MFrOHfXuSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"sortOrder\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 69", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656587", "createdAt": "2020-10-09T20:28:40Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 69}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTc0", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970174", "createdAt": "2020-10-09T20:28:41Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MVrOHfXuUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MVrOHfXuUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5Mg==", "bodyText": "Codacy found an issue: The String literal \"            \"countAddContainer\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 47", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656592", "createdAt": "2020-10-09T20:28:41Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTg4", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970188", "createdAt": "2020-10-09T20:28:42Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MlrOHfXuVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MlrOHfXuVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5OQ==", "bodyText": "Codacy found an issue: The String literal \"            \"showOnMenu\": true,\\n\" appears 4 times in this file; the first occurrence is on line 68", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656599", "createdAt": "2020-10-09T20:28:42Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 68}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMTk5", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970199", "createdAt": "2020-10-09T20:28:43Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0M1rOHfXuXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0M1rOHfXuXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYwNg==", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656606", "createdAt": "2020-10-09T20:28:43Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjA2", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970206", "createdAt": "2020-10-09T20:28:44Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NFrOHfXuZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NFrOHfXuZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxMg==", "bodyText": "Codacy found an issue: The String literal \"Blank\" appears 4 times in this file; the first occurrence is on line 85", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656612", "createdAt": "2020-10-09T20:28:44Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));\n+        assertEquals(\"Blank\", map.get(\"name\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjEy", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970212", "createdAt": "2020-10-09T20:28:45Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NVrOHfXuaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NVrOHfXuaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxNw==", "bodyText": "Codacy found an issue: The String literal \"            \"modDate\": 1570214794657,\\n\" appears 4 times in this file; the first occurrence is on line 62", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656617", "createdAt": "2020-10-09T20:28:45Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjE5", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970219", "createdAt": "2020-10-09T20:28:46Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NlrOHfXubg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NlrOHfXubg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyMg==", "bodyText": "Codacy found an issue: The String literal \"new\" appears 4 times in this file; the first occurrence is on line 84", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656622", "createdAt": "2020-10-09T20:28:46Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjI1", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970225", "createdAt": "2020-10-09T20:28:47Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0N1rOHfXucg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0N1rOHfXucg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyNg==", "bodyText": "Codacy found an issue: The String literal \"            \"deleted\": false,\\n\" appears 4 times in this file; the first occurrence is on line 49", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656626", "createdAt": "2020-10-09T20:28:47Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjM3", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970237", "createdAt": "2020-10-09T20:28:48Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OFrOHfXueg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OFrOHfXueg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzNA==", "bodyText": "Codacy found an issue: The String literal \"            \"new\": false,\\n\" appears 4 times in this file; the first occurrence is on line 65", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656634", "createdAt": "2020-10-09T20:28:48Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 65}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjQ0", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970244", "createdAt": "2020-10-09T20:28:49Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OVrOHfXufw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OVrOHfXufw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzOQ==", "bodyText": "Codacy found an issue: The String literal \"            \"footer\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 52", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656639", "createdAt": "2020-10-09T20:28:49Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjU5", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970259", "createdAt": "2020-10-09T20:28:50Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MFrOHfXuiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MFrOHfXuiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY0OA==", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656648", "createdAt": "2020-10-09T20:28:50Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {\n+\n+    return Config.getBooleanProperty(\"jsontool.generate.jackson\", true)?\n+            this.jacksonGenerate(s): this.jsonGenerate(s);\n+  }\n+\n+  private Object jacksonGenerate(final String s) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTcwMjY4", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505970268", "createdAt": "2020-10-09T20:28:51Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MVrOHfXukw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MVrOHfXukw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY1OQ==", "bodyText": "Codacy found an issue: The String literal \"            \"name\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 64", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656659", "createdAt": "2020-10-09T20:28:51Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 64}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTc2NDY2", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-505976466", "createdAt": "2020-10-09T20:40:44Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzA5NDUw", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-506709450", "createdAt": "2020-10-12T15:15:28Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NTA3ODg3", "url": "https://github.com/dotCMS/core/pull/19423#pullrequestreview-507507887", "createdAt": "2020-10-13T14:37:19Z", "commit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1718, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}