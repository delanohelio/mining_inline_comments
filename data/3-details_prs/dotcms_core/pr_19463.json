{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MTEzODQz", "number": 19463, "title": "Issue 19401 make the primary key of the identifier table as long as the dbs can handle as a primary key", "bodyText": "Primary key length was increased to 750", "createdAt": "2020-10-16T21:35:27Z", "url": "https://github.com/dotCMS/core/pull/19463", "merged": true, "mergeCommit": {"oid": "435a053529488146b36382060e43507fc195a6d9"}, "closed": true, "closedAt": "2020-10-19T23:31:38Z", "author": {"login": "nollymar"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTNT3wAH2gAyNTA1MTEzODQzOjUyZWZkNGM0ODQzOTU4ZjI3YjJjYWVjYWIzYzE3OTNjM2JmOWVhM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdULHlxAFqTUxMjE3NTU3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "52efd4c4843958f27b2caecab3c1793c3bf9ea3c", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/52efd4c4843958f27b2caecab3c1793c3bf9ea3c", "committedDate": "2020-10-16T21:32:16Z", "message": "#19401 Increasing primary key length - identifier table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24fda62c8caf7cfe7af13ad1d118745dbdae54be", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/24fda62c8caf7cfe7af13ad1d118745dbdae54be", "committedDate": "2020-10-16T21:32:35Z", "message": "#19401 New ITs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/2048217db2ddd200bb5a248757ffec62f403caa8", "committedDate": "2020-10-16T21:33:45Z", "message": "#19401 New ITs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTcyNjA3", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-511972607", "createdAt": "2020-10-19T17:01:49Z", "commit": {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTczNTA2", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-511973506", "createdAt": "2020-10-19T17:02:55Z", "commit": {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTczNTg4", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-511973588", "createdAt": "2020-10-19T17:03:00Z", "commit": {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTkzOTc3", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-511993977", "createdAt": "2020-10-19T17:28:54Z", "commit": {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "committedDate": "2020-10-19T21:25:32Z", "message": "Merge branch 'master' of https://github.com/dotCMS/core into issue-19401-make-the-primary-key-of-the-identifier-table-as-long-as-the-dbs-can-handle-as-a-primary-key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTc1NTYx", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-512175561", "createdAt": "2020-10-19T21:32:56Z", "commit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1NlrOHkidjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1NlrOHkidjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQwNQ==", "bodyText": "Codacy found an issue: Ensure that resources like this Connection object are closed after use", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075405", "createdAt": "2020-10-19T21:32:56Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotmarketing.common.db.DotDatabaseMetaData;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.startup.AbstractJDBCStartupTask;\n+import com.dotmarketing.util.Logger;\n+import java.sql.Connection;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.List;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTable extends AbstractJDBCStartupTask {\n+\n+    @Override\n+    public boolean forceRun() {\n+        final Connection connection = DbConnectionFactory.getConnection();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTc1NTY3", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-512175567", "createdAt": "2020-10-19T21:32:57Z", "commit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1N1rOHkidkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1N1rOHkidkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQwOQ==", "bodyText": "Codacy found an issue: Ensure that resources like this ResultSet object are closed after use", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075409", "createdAt": "2020-10-19T21:32:57Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotmarketing.common.db.DotDatabaseMetaData;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.startup.AbstractJDBCStartupTask;\n+import com.dotmarketing.util.Logger;\n+import java.sql.Connection;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.List;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTable extends AbstractJDBCStartupTask {\n+\n+    @Override\n+    public boolean forceRun() {\n+        final Connection connection = DbConnectionFactory.getConnection();\n+        try {\n+            final ResultSet resultSet = DotDatabaseMetaData.getColumnsMetaData(connection, \"identifier\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTc1NTcz", "url": "https://github.com/dotCMS/core/pull/19463#pullrequestreview-512175573", "createdAt": "2020-10-19T21:32:58Z", "commit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1OFrOHkidlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTozMjo1OFrOHkidlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQxMw==", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075413", "createdAt": "2020-10-19T21:32:58Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTableTest.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import java.sql.SQLException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTableTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1751, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}