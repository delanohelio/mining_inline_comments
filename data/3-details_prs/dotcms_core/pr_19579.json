{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNzMyMTQx", "number": 19579, "title": "19378 request uri too large", "bodyText": "Issue was that all the identifiers of the selected assets were being sent in the URL. This happened when selecting the bundle check, which under the covers checks all the containing assets, however, two different delete calls happen; one for deleting every individual item and then a second one for deleting all the assets given the bundle id, which of course only one suffice. Fix consists in not sending all the identifiers of each individual asset, but instead only send the bundle id.\nImportant: in addition to this, a new endpoint v1/publishqueue was created to support deleting elements from the PP queue. For now the jsp was left like it is to reduce complexity but the endpoint is tested (postman) and can be used by Support and/or by the re-implementation of the PP portlet.", "createdAt": "2020-11-13T17:44:45Z", "url": "https://github.com/dotCMS/core/pull/19579", "merged": true, "mergeCommit": {"oid": "f524edfaaf38f6bfc471157aa6d4afe73ff54c2c"}, "closed": true, "closedAt": "2020-11-16T17:34:35Z", "author": {"login": "dsilvam"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb_BLnAH2gAyNTIwNzMyMTQxOjRkOTc4NzQ0OThlY2ViYzhlNmRlN2I4MWJmMzIzM2NiNzU4YjgxYTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddGVChgFqTUzMTQwNDU0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4d97874498ecebc8e6de7b81bf3233cb758b81a5", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/4d97874498ecebc8e6de7b81bf3233cb758b81a5", "committedDate": "2020-11-13T03:58:30Z", "message": "#19378 dont include every single element when deleting the entire bundle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eab8d52ddd16932af2bf29140fc53080f98bcfe", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/6eab8d52ddd16932af2bf29140fc53080f98bcfe", "committedDate": "2020-11-13T04:00:49Z", "message": "#19378 new resource to remove elements from pp queue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/ccb10b83368648eabfb0b49fae7f40f882d658b7", "committedDate": "2020-11-13T17:23:44Z", "message": "#19378 postman tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMjgzMDUx", "url": "https://github.com/dotCMS/core/pull/19579#pullrequestreview-530283051", "createdAt": "2020-11-13T17:54:27Z", "commit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMzQ0NDk3", "url": "https://github.com/dotCMS/core/pull/19579#pullrequestreview-530344497", "createdAt": "2020-11-13T19:24:38Z", "commit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxOToyNDozOFrOHy8F2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxOToyNDozOFrOHy8F2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE3NTM4Nw==", "bodyText": "@dsilvam  Why does it need this Jackson annotation?", "url": "https://github.com/dotCMS/core/pull/19579#discussion_r523175387", "createdAt": "2020-11-13T19:24:38Z", "author": {"login": "victoralfaro-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/DeletePPQueueElementsByIdentifierForm.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package com.dotcms.rest;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+import java.util.List;\n+\n+@JsonDeserialize(builder = DeletePPQueueElementsByIdentifierForm.Builder.class)\n+public class DeletePPQueueElementsByIdentifierForm {\n+\n+    private final List<String> identifiers;\n+\n+    private DeletePPQueueElementsByIdentifierForm(final Builder builder) {\n+\n+        this.identifiers = builder.identifiers;\n+    }\n+\n+    public List<String> getIdentifiers() {\n+\n+        return this.identifiers;\n+    }\n+\n+    public static final class Builder {\n+        @JsonProperty(required = true) private List<String> identifiers;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDAyNTQw", "url": "https://github.com/dotCMS/core/pull/19579#pullrequestreview-531402540", "createdAt": "2020-11-16T15:01:19Z", "commit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDA0NTQ1", "url": "https://github.com/dotCMS/core/pull/19579#pullrequestreview-531404545", "createdAt": "2020-11-16T15:03:27Z", "commit": {"oid": "ccb10b83368648eabfb0b49fae7f40f882d658b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1800, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}