{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzODc0ODY0", "number": 18923, "title": "#18563 feedback bundle resource", "bodyText": "Merged Postman Tests into one file.\nAdded new option to the WebResource requireLicense and test.\nRemove the unused code of the BundleResource.", "createdAt": "2020-07-20T21:56:35Z", "url": "https://github.com/dotCMS/core/pull/18923", "merged": true, "mergeCommit": {"oid": "66d1b6fb0f28f917e213804e4291cb300d80a1af"}, "closed": true, "closedAt": "2020-07-21T15:19:48Z", "author": {"login": "erickgonzalez"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc243bSgH2gAyNDUzODc0ODY0OmI1MGE3ZGViYzY2ODdkYjFhN2Q4YzU2NTVhNzJkM2EwYzNiYjJiYTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc25Av-AFqTQ1MTk5MDg1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8", "committedDate": "2020-07-20T21:53:13Z", "message": "#18563 feedback bundle resource"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTg4MDU1", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451988055", "createdAt": "2020-07-20T21:57:55Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTg4NTEz", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451988513", "createdAt": "2020-07-20T21:58:48Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTkwODE4", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451990818", "createdAt": "2020-07-20T22:03:21Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyMVrOG0g2OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyMVrOG0g2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcxNzMwNQ==", "bodyText": "Codacy found an issue: Avoid using redundant field initializer for 'requireLicense'", "url": "https://github.com/dotCMS/core/pull/18923#discussion_r457717305", "createdAt": "2020-07-20T22:03:21Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/WebResource.java", "diffHunk": "@@ -760,6 +763,7 @@ private UsernamePassword(String username, String password) {\n         private String[] requiredPortlet = null;\n         private final Set<String> requiredRolesSet = new HashSet<>();\n         private AnonymousAccess anonAccess=AnonymousAccess.NONE;\n+        private boolean requireLicense = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTkwODMx", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451990831", "createdAt": "2020-07-20T22:03:22Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyMlrOG0g2Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyMlrOG0g2Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcxNzMxOA==", "bodyText": "Codacy found an issue: These nested if statements could be combined", "url": "https://github.com/dotCMS/core/pull/18923#discussion_r457717318", "createdAt": "2020-07-20T22:03:22Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/WebResource.java", "diffHunk": "@@ -861,7 +870,12 @@ public InitDataObject init() {\n                 Logger.debug(InitBuilder.class,\n                         () -> request.getRequestURI()+\" calling webResource.init(..) with AnonymousAccess set to `\" + anonAccess + \"`\");\n             }\n-            \n+\n+            if(requireLicense){\n+                if (LicenseUtil.getLevel() < LicenseLevel.STANDARD.level) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTkwODQy", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451990842", "createdAt": "2020-07-20T22:03:23Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyM1rOG0g2UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyM1rOG0g2UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcxNzMyOA==", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/18923#discussion_r457717328", "createdAt": "2020-07-20T22:03:23Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rest/WebResourceIntegrationTest.java", "diffHunk": "@@ -342,4 +345,12 @@ public void disallow_anon_when_required_frontend_but_not_backend() throws Except\n \n   }\n \n+  @Test(expected = InvalidLicenseException.class)\n+  public void webResource_NoLicense_RequiredLicense_returnInvalidLicenseException() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTkwODUw", "url": "https://github.com/dotCMS/core/pull/18923#pullrequestreview-451990850", "createdAt": "2020-07-20T22:03:24Z", "commit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyNFrOG0g2WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMjowMzoyNFrOG0g2WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcxNzMzNg==", "bodyText": "Codacy found an issue: Field requireLicense has the same name as a method", "url": "https://github.com/dotCMS/core/pull/18923#discussion_r457717336", "createdAt": "2020-07-20T22:03:24Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/WebResource.java", "diffHunk": "@@ -760,6 +763,7 @@ private UsernamePassword(String username, String password) {\n         private String[] requiredPortlet = null;\n         private final Set<String> requiredRolesSet = new HashSet<>();\n         private AnonymousAccess anonAccess=AnonymousAccess.NONE;\n+        private boolean requireLicense = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b50a7debc6687db1a7d8c5655a72d3a0c3bb2ba8"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 818, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}