{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMTA5MjQx", "number": 19643, "title": "Issue 19275 add get token option to add end point screen", "bodyText": "", "createdAt": "2020-12-02T15:47:55Z", "url": "https://github.com/dotCMS/core/pull/19643", "merged": true, "mergeCommit": {"oid": "8c9bd513065c0b31d4b2d09c57976ab8e4d2a58d"}, "closed": true, "closedAt": "2020-12-03T22:35:33Z", "author": {"login": "freddyucv"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfVaLKgH2gAyNTMxMTA5MjQxOjVjZDZhNjY4Y2I0ZWMyZDEyZTllNjA0NDIxMjllNzg5ZjRiYjkzNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdipIc8AFqTU0NDM5MTIxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5cd6a668cb4ec2d12e9e60442129e789f4bb9342", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/5cd6a668cb4ec2d12e9e60442129e789f4bb9342", "committedDate": "2020-11-23T13:45:29Z", "message": "19275 Add get token option in add end p[oint screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ab8d80030eb03986306be5ac48e08efe10f1eb", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/17ab8d80030eb03986306be5ac48e08efe10f1eb", "committedDate": "2020-12-01T15:25:02Z", "message": "Removing unneccesary code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78250b369b416ee60c358af539335c9824de4d29", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/78250b369b416ee60c358af539335c9824de4d29", "committedDate": "2020-12-02T14:55:39Z", "message": "Fixing some errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8373a893dd4c7b0aaf0c90ddb0e56c96b5400b4d", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/8373a893dd4c7b0aaf0c90ddb0e56c96b5400b4d", "committedDate": "2020-12-02T14:56:11Z", "message": "Merge remote-tracking branch 'origin/master' into issue-19275-Add-Get-token-option-to-Add-End-point-screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2140dab5181aee86080b61d463fb0152f6882c65", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/2140dab5181aee86080b61d463fb0152f6882c65", "committedDate": "2020-12-02T15:47:24Z", "message": "#19275 Test and some fixing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21c66015c59457f516a618b6f1811c7b58688c6a", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/21c66015c59457f516a618b6f1811c7b58688c6a", "committedDate": "2020-12-02T15:53:51Z", "message": "#19275 Testing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMjU2NDk5", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-543256499", "createdAt": "2020-12-02T21:35:52Z", "commit": {"oid": "21c66015c59457f516a618b6f1811c7b58688c6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMjU4MTU3", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-543258157", "createdAt": "2020-12-02T21:38:18Z", "commit": {"oid": "21c66015c59457f516a618b6f1811c7b58688c6a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "915c9c11c0425993b443ee42e04ecfec6fb3e351", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/915c9c11c0425993b443ee42e04ecfec6fb3e351", "committedDate": "2020-12-02T21:50:25Z", "message": "fixing teset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30fc4aa44b439d46b97e3049f401549f73b23e9b", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/30fc4aa44b439d46b97e3049f401549f73b23e9b", "committedDate": "2020-12-03T13:29:13Z", "message": "Adding description to the test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTk1ODg3", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-543995887", "createdAt": "2020-12-03T14:17:02Z", "commit": {"oid": "30fc4aa44b439d46b97e3049f401549f73b23e9b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDk4Nzcy", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-544098772", "createdAt": "2020-12-03T15:45:48Z", "commit": {"oid": "30fc4aa44b439d46b97e3049f401549f73b23e9b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNTo0NTo0OVrOH-jKpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNTo0OTowMlrOH-jYQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM0OTkyNA==", "bodyText": "Rename this to form instead of from", "url": "https://github.com/dotCMS/core/pull/19643#discussion_r535349924", "createdAt": "2020-12-03T15:45:49Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/authentication/RemoteAPITokenFrom.java", "diffHunk": "@@ -0,0 +1,96 @@\n+package com.dotcms.rest.api.v1.authentication;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+import com.google.common.collect.ImmutableMap;\n+\n+import java.util.Map;\n+\n+import static com.dotcms.util.CollectionsUtils.map;\n+\n+@JsonDeserialize(builder = RemoteAPITokenFrom.Builder.class)\n+public class RemoteAPITokenFrom {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30fc4aa44b439d46b97e3049f401549f73b23e9b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM1MzQxMA==", "bodyText": "This shouldn't have the _ prefix, because it's not an operation.", "url": "https://github.com/dotCMS/core/pull/19643#discussion_r535353410", "createdAt": "2020-12-03T15:49:02Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/authentication/ApiTokenResource.java", "diffHunk": "@@ -196,7 +207,68 @@ public final Response issueApiToken(@Context final HttpServletRequest request,\n         return Response.ok(new ResponseEntityView(map(\"token\", token,\"jwt\", jwt), EMPTY_MAP)).build(); // 200\n     }\n \n-    \n+    /**\n+     * Request a Token to a remote server\n+     * @param request\n+     * @param response\n+     * @param formData - json data, expecting\n+     * <pre>\n+     * {\n+     *    token: {\n+     *      netmask:'192.168.1.0/24',\n+     *      expirationDays:1000,\n+     *      userId:'dotcms.org.1'\n+     *      claims: {\n+     *          label: 'Push Publish'\n+     *      }\n+     *    },\n+     * \t  remote: {\n+     * \t    host: localhost,\n+     * \t\tport: 8090\n+     * \t  },\n+     * \t  auth: {\n+     * \t    login: admin@dotcms.com,\n+     * \t\tpasword: [password in Base64]\n+     * \t  }\n+     * }\n+     * </pre>\n+     * @return Response\n+     */\n+    @PUT\n+    @Path(\"/_remote\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30fc4aa44b439d46b97e3049f401549f73b23e9b"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c8f8477e3a1c3d9654944171e3904c4f27b06e0", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/0c8f8477e3a1c3d9654944171e3904c4f27b06e0", "committedDate": "2020-12-03T15:54:41Z", "message": "#19275 refactoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MTExMzI0", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-544111324", "createdAt": "2020-12-03T15:57:07Z", "commit": {"oid": "0c8f8477e3a1c3d9654944171e3904c4f27b06e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0122ddfbd99ceaa1273a22677cbcc3758cbace28", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/0122ddfbd99ceaa1273a22677cbcc3758cbace28", "committedDate": "2020-12-03T16:15:15Z", "message": "changing url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afb798aa2894869ec3185473ef8cc458c926a1ef", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/afb798aa2894869ec3185473ef8cc458c926a1ef", "committedDate": "2020-12-03T16:25:16Z", "message": "fixing ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b57502f816092efd9e3f6868b21516b30e83e462", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/b57502f816092efd9e3f6868b21516b30e83e462", "committedDate": "2020-12-03T16:25:20Z", "message": "Merge branch 'issue-19275-Add-Get-token-option-to-Add-End-point-screen' of https://github.com/dotCMS/core into issue-19275-Add-Get-token-option-to-Add-End-point-screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3e152d941da38c263976fa03ef26be320ed329f", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/e3e152d941da38c263976fa03ef26be320ed329f", "committedDate": "2020-12-03T16:45:22Z", "message": "#19275 minor styling issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6557fcdd1d281f20fa0189d3ec416722bd4d136c", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/6557fcdd1d281f20fa0189d3ec416722bd4d136c", "committedDate": "2020-12-03T16:50:39Z", "message": "#19275 minor styling issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4344a36e2dcf4dabc92cd81480bba604f0f5afc", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/d4344a36e2dcf4dabc92cd81480bba604f0f5afc", "committedDate": "2020-12-03T18:27:14Z", "message": "#19275 Add ENABLE_PROXY_TOKEN_REQUESTS to disabled the remote token"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MzkxMjEx", "url": "https://github.com/dotCMS/core/pull/19643#pullrequestreview-544391211", "createdAt": "2020-12-03T20:26:00Z", "commit": {"oid": "d4344a36e2dcf4dabc92cd81480bba604f0f5afc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1685, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}