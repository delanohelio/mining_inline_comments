{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MzkzNDM5", "number": 18592, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxOToxNDo0NlrOECSXUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0Nzo0OFrOECpZ-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODMzNDg5OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxOToxNDo0NlrOGepz5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxOToxNDo0NlrOGepz5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5NTQ5Mg==", "bodyText": "I would enclosed the body into a method and wrap into the transaction", "url": "https://github.com/dotCMS/core/pull/18592#discussion_r434795492", "createdAt": "2020-06-03T19:14:46Z", "author": {"login": "jdotcms"}, "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "diffHunk": "@@ -36,11 +35,11 @@ public void run(final JobExecutionContext jobContext) throws JobExecutionExcepti\n \n             try {\n \n-                startTransaction();\n+\n                 final List<WorkflowTask> tasks = workflowAPI.findExpiredTasks();\n \n                 for (final WorkflowTask task : tasks) {\n-\n+                    startTransaction();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf448811b615ad02af840feb146297700b8486dc"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODMzNTkxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxOToxNTowM1rOGep0fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0NToyOFrOGfOxZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5NTY0NA==", "bodyText": "cool", "url": "https://github.com/dotCMS/core/pull/18592#discussion_r434795644", "createdAt": "2020-06-03T19:15:03Z", "author": {"login": "jdotcms"}, "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "diffHunk": "@@ -51,10 +50,10 @@ public void run(final JobExecutionContext jobContext) throws JobExecutionExcepti\n                             \"timeout on step '\" + step.getName() + \"' \" +\n                             \"excecuting escalation action '\" + action.getName() + \"'\");\n \n-                    // find contentlet for default language\n+                    // find contentlet for the given language\n                     final Contentlet contentletByDefaultLanguage =\n                             APILocator.getContentletAPI().findContentletByIdentifier(task.getWebasset(), false,\n-                                APILocator.getLanguageAPI().getDefaultLanguage().getId(),\n+                                task.getLanguageId(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf448811b615ad02af840feb146297700b8486dc"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMTA2Mg==", "bodyText": "yeah, we missed this when we moved to multi-lingual workflow for content.", "url": "https://github.com/dotCMS/core/pull/18592#discussion_r435401062", "createdAt": "2020-06-04T16:45:28Z", "author": {"login": "wezell"}, "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "diffHunk": "@@ -51,10 +50,10 @@ public void run(final JobExecutionContext jobContext) throws JobExecutionExcepti\n                             \"timeout on step '\" + step.getName() + \"' \" +\n                             \"excecuting escalation action '\" + action.getName() + \"'\");\n \n-                    // find contentlet for default language\n+                    // find contentlet for the given language\n                     final Contentlet contentletByDefaultLanguage =\n                             APILocator.getContentletAPI().findContentletByIdentifier(task.getWebasset(), false,\n-                                APILocator.getLanguageAPI().getDefaultLanguage().getId(),\n+                                task.getLanguageId(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5NTY0NA=="}, "originalCommit": {"oid": "cf448811b615ad02af840feb146297700b8486dc"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjEwOTk1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0Nzo0OFrOGfO26w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0Nzo0OFrOGfO26w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMjQ3NQ==", "bodyText": "Issue found: Avoid unused imports such as 'com.dotmarketing.db.HibernateUtil.rollbackTransaction'", "url": "https://github.com/dotCMS/core/pull/18592#discussion_r435402475", "createdAt": "2020-06-04T16:47:48Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "diffHunk": "@@ -1,12 +1,18 @@\n package com.dotcms.workflow;\n \n+import static com.dotmarketing.db.HibernateUtil.closeSessionSilently;\n+import static com.dotmarketing.db.HibernateUtil.rollbackTransaction;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b246df50f8be99c0d4d9d98b42a7646df0dfcacd"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjExMDAyOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0Nzo0OVrOGfO2-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjo0Nzo0OVrOGfO2-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMjQ4OQ==", "bodyText": "Issue found: Avoid unused imports such as 'com.dotmarketing.db.HibernateUtil.closeSessionSilently'", "url": "https://github.com/dotCMS/core/pull/18592#discussion_r435402489", "createdAt": "2020-06-04T16:47:49Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/workflow/EscalationThread.java", "diffHunk": "@@ -1,12 +1,18 @@\n package com.dotcms.workflow;\n \n+import static com.dotmarketing.db.HibernateUtil.closeSessionSilently;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b246df50f8be99c0d4d9d98b42a7646df0dfcacd"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2122, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}