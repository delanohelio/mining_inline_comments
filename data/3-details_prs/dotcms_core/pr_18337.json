{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2ODYxNDUx", "number": 18337, "title": "Ship with Empty Starter", "bodyText": "In 5.3.0, we need to ship dotCMS with the empty starter by default.\nSome test was fix because these was using data from the starter:\n\nThe Publish Action ID change in this new starter so, I have to change this test t use the right value:\n\nce1b849\n\nThe Save & Publish Action was removed in the new starter\n\n614e58a\nSome Fix was made in SaveContentAsDraftActionlet:\n\nWhen a Contentlet with categories was updated sending a null categories list,  it lost all the categories\nExpected: the COntentlet should keep the categories, to delete all the categories from a contentlet you should sent a empty list\n\n46986e7\n\nTags Field value not Updating when saving as draft\n\n9d4173b\n\nWhen a new contentlet with Relationship was saved it lost the Relationship field values\n\na764524", "createdAt": "2020-04-21T19:27:09Z", "url": "https://github.com/dotCMS/core/pull/18337", "merged": true, "mergeCommit": {"oid": "2894eb586e377ff08d82d699b980e775096aba40"}, "closed": true, "closedAt": "2020-05-01T22:14:10Z", "author": {"login": "freddyucv"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZ4wzrgH2gAyNDA2ODYxNDUxOjljMjg0ZWEwOTA4ZjA3YTZjNjI4ODE2NGUxMzljNjg5YWE5OGY4ZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdJJT0AFqTQwNDQyNTIwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c284ea0908f07a6c6288164e139c689aa98f8fe", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/9c284ea0908f07a6c6288164e139c689aa98f8fe", "committedDate": "2020-04-21T19:22:11Z", "message": "Ship with Empty Starter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3ODQxMTA3", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-397841107", "createdAt": "2020-04-22T04:49:28Z", "commit": {"oid": "9c284ea0908f07a6c6288164e139c689aa98f8fe"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MjUxODQ1", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-398251845", "createdAt": "2020-04-22T14:30:29Z", "commit": {"oid": "9c284ea0908f07a6c6288164e139c689aa98f8fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MjY4MTE2", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-398268116", "createdAt": "2020-04-22T14:46:22Z", "commit": {"oid": "9c284ea0908f07a6c6288164e139c689aa98f8fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce1b8496447efe9b1e315ad644e159c31bf9bbf9", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/ce1b8496447efe9b1e315ad644e159c31bf9bbf9", "committedDate": "2020-04-22T16:18:51Z", "message": "#18337 Fix testing: Fix run Publish Action ID"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "614e58a0d39410ada401064d090a458ea0044526", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/614e58a0d39410ada401064d090a458ea0044526", "committedDate": "2020-04-22T18:39:14Z", "message": "##18337 Save & Publish Action was removed in the new starter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjA2Mjcz", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-398606273", "createdAt": "2020-04-22T21:33:40Z", "commit": {"oid": "614e58a0d39410ada401064d090a458ea0044526"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b4ef1406426f6e46c8bef6af38bac610dcea60a", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/8b4ef1406426f6e46c8bef6af38bac610dcea60a", "committedDate": "2020-04-23T15:41:28Z", "message": "#18185 Changing the Publish Id for the new Publish ID"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e482f6b41b0c6c94f223ebd5597c20cafb6eaaa8", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/e482f6b41b0c6c94f223ebd5597c20cafb6eaaa8", "committedDate": "2020-04-24T21:22:43Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab6178bb9b4abf0d54b578abbf9d968e3bfee095", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/ab6178bb9b4abf0d54b578abbf9d968e3bfee095", "committedDate": "2020-04-27T19:15:32Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afa2a2b907e897625d8a9ed7dae5d77262612b8a", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/afa2a2b907e897625d8a9ed7dae5d77262612b8a", "committedDate": "2020-04-27T20:37:27Z", "message": "#18185 Fix test Using ContenTypeGeneric"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bb55714030f9cc301f354c087f00605a9c4ca7b", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/4bb55714030f9cc301f354c087f00605a9c4ca7b", "committedDate": "2020-04-27T20:38:25Z", "message": "Merge branch 'issue-18185-Ship-with-Empty-Starter' of https://github.com/dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92b83c9988f78c9995e413858fade8c91bacd6d1", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/92b83c9988f78c9995e413858fade8c91bacd6d1", "committedDate": "2020-04-27T22:23:09Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46986e7b5b3f2d3203607eda9f0fde6b7e45699c", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/46986e7b5b3f2d3203607eda9f0fde6b7e45699c", "committedDate": "2020-04-27T22:56:59Z", "message": "#18185 keep cats as null if not found in actionlet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e95a7a57ef1e65d891e4500173f36f96389349", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/f4e95a7a57ef1e65d891e4500173f36f96389349", "committedDate": "2020-04-27T22:57:12Z", "message": "Merge branch 'issue-18185-Ship-with-Empty-Starter' of github.com:dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f0b80370187f26d3b55243ae13dd6797c982285", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/1f0b80370187f26d3b55243ae13dd6797c982285", "committedDate": "2020-04-28T15:32:58Z", "message": "#18185 fix tag test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d4173b9eabf075e95ca768813d98ce9267e1329", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/9d4173b9eabf075e95ca768813d98ce9267e1329", "committedDate": "2020-04-28T17:51:33Z", "message": "#18185 fixes issue: tags not cleaning when saving as draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47eaa59d787523b9c68ab002406ffe4150893338", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/47eaa59d787523b9c68ab002406ffe4150893338", "committedDate": "2020-04-28T17:52:30Z", "message": "#18185 fixes issue: tags not cleaning when saving as draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a764524e3e3fe380eafb97c2f671741337a74618", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/a764524e3e3fe380eafb97c2f671741337a74618", "committedDate": "2020-04-30T14:37:33Z", "message": "#18185 Fix Relationship bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcc24c57b5a7c4d8275e7d51dc799fa9e9a96092", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/bcc24c57b5a7c4d8275e7d51dc799fa9e9a96092", "committedDate": "2020-04-30T14:37:46Z", "message": "Merge branch 'issue-18185-Ship-with-Empty-Starter' of https://github.com/dotCMS/core into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2741546932e312034da628ea7e5ec220124f25ee", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/2741546932e312034da628ea7e5ec220124f25ee", "committedDate": "2020-04-30T14:40:49Z", "message": "merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjgwODg2", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-403680886", "createdAt": "2020-04-30T16:24:18Z", "commit": {"oid": "2741546932e312034da628ea7e5ec220124f25ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNjoyNDoxOFrOGOw4Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNjoyNDoxOFrOGOw4Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEzNDEwNw==", "bodyText": "With this change, the Save as Draft functionality still works?", "url": "https://github.com/dotCMS/core/pull/18337#discussion_r418134107", "createdAt": "2020-04-30T16:24:18Z", "author": {"login": "nollymar"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/workflows/actionlet/SaveContentAsDraftActionlet.java", "diffHunk": "@@ -110,12 +111,11 @@ public void executeAction(final WorkflowProcessor processor,\n \t\t\t\t\tcontentletDependencies.isRespectAnonymousPermissions() : user.isFrontendUser();\n \n \t\t\t//Keeps existing relationships\n-\t\t\tif (contentletRelationships == null){\n-                contentletRelationships = contentletAPI.getAllRelationships(contentlet);\n-            }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2741546932e312034da628ea7e5ec220124f25ee"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "683e64c7b4c123069e321b90a7da8b82c43996fb", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/683e64c7b4c123069e321b90a7da8b82c43996fb", "committedDate": "2020-04-30T16:39:41Z", "message": "#17842 change PUBLIS ID in systemworkflow.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d30f34aabee89494da792d502b2c64c6f57a3e07", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/d30f34aabee89494da792d502b2c64c6f57a3e07", "committedDate": "2020-04-30T19:42:25Z", "message": "Merge remote-tracking branch 'origin/master' into issue-18185-Ship-with-Empty-Starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b0095aec640dea718340e800197e9308cbdfb50", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/1b0095aec640dea718340e800197e9308cbdfb50", "committedDate": "2020-05-01T19:49:43Z", "message": "#18185 Updating systemworkflow.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NDI1MjA5", "url": "https://github.com/dotCMS/core/pull/18337#pullrequestreview-404425209", "createdAt": "2020-05-01T22:09:12Z", "commit": {"oid": "1b0095aec640dea718340e800197e9308cbdfb50"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1011, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}