{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2Nzc5OTAz", "number": 18240, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNjo0ODoxMFrODtZdCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDoxOToxMVrODtjcqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4OTI5NTQ0OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNjo0ODoxMFrOF-y69w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMzoyODozNFrOF_Am9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDMyNw==", "bodyText": "rename to hostId", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401390327", "createdAt": "2020-04-01T06:48:10Z", "author": {"login": "jdotcms"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");\n+        if(UtilMethods.isSet(sites) ){\n+            if (\"empty\".equalsIgnoreCase(sites[0])) {\n+                hostList.append(LanguageUtil.get(pageContext, \"All\")).append(\"  \");\n+            } else {\n+                for (String hid : sites) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9d49c32ec7cf4cf5caf0deddad937fdccfba534"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDM3Ng==", "bodyText": "set to final", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401390376", "createdAt": "2020-04-01T06:48:19Z", "author": {"login": "jdotcms"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");\n+        if(UtilMethods.isSet(sites) ){\n+            if (\"empty\".equalsIgnoreCase(sites[0])) {\n+                hostList.append(LanguageUtil.get(pageContext, \"All\")).append(\"  \");\n+            } else {\n+                for (String hid : sites) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDMyNw=="}, "originalCommit": {"oid": "b9d49c32ec7cf4cf5caf0deddad937fdccfba534"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYxNDU4MQ==", "bodyText": "done", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401614581", "createdAt": "2020-04-01T13:28:34Z", "author": {"login": "fabrizzio-dotCMS"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");\n+        if(UtilMethods.isSet(sites) ){\n+            if (\"empty\".equalsIgnoreCase(sites[0])) {\n+                hostList.append(LanguageUtil.get(pageContext, \"All\")).append(\"  \");\n+            } else {\n+                for (String hid : sites) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDMyNw=="}, "originalCommit": {"oid": "b9d49c32ec7cf4cf5caf0deddad937fdccfba534"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4OTI5NjY1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNjo0ODozN1rOF-y7sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMzoyODoyN1rOF_Amnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDUxNA==", "bodyText": "sites must check if size is >= 1", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401390514", "createdAt": "2020-04-01T06:48:37Z", "author": {"login": "jdotcms"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");\n+        if(UtilMethods.isSet(sites) ){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9d49c32ec7cf4cf5caf0deddad937fdccfba534"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYxNDQ5NQ==", "bodyText": "UtilMethods.isSet(String) checks is size is > 0.\nI care it at least holds 1 entry. So that's good enough.", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401614495", "createdAt": "2020-04-01T13:28:27Z", "author": {"login": "fabrizzio-dotCMS"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");\n+        if(UtilMethods.isSet(sites) ){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDUxNA=="}, "originalCommit": {"oid": "b9d49c32ec7cf4cf5caf0deddad937fdccfba534"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDkwNTk5OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDoxMzowN1rOF_Cm8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToyNToxOFrOF_F9mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0NzM0Nw==", "bodyText": "what is it happen if getHostList return null?", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401647347", "createdAt": "2020-04-01T14:13:07Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d583a3a5356711e56bc854e7e38268b4bb1fe52e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcwMjI5OA==", "bodyText": "shouldn't return null. The Audit data table demands something is written into that field at all times.", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401702298", "createdAt": "2020-04-01T15:25:18Z", "author": {"login": "fabrizzio-dotCMS"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();\n+        final String [] sites = a.getHostList().split(\",\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0NzM0Nw=="}, "originalCommit": {"oid": "d583a3a5356711e56bc854e7e38268b4bb1fe52e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDkzMjkwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDoxOToxMVrOF_C4IA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToyNTo1NVrOF_F_fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY1MTc0NA==", "bodyText": "where is hostList use?", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401651744", "createdAt": "2020-04-01T14:19:11Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d583a3a5356711e56bc854e7e38268b4bb1fe52e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcwMjc4Mg==", "bodyText": "hostList is used downstream in the jsp to print the host names", "url": "https://github.com/dotCMS/core/pull/18240#discussion_r401702782", "createdAt": "2020-04-01T15:25:55Z", "author": {"login": "fabrizzio-dotCMS"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/sitesearch/site_search_audit.jsp", "diffHunk": "@@ -57,11 +56,19 @@\n     </tr>\n     <% for(SiteSearchAudit a : recents) { %>\n     <%\n-        StringBuilder hostList=new StringBuilder();\n-        for(String hid : a.getHostList().split(\",\")) {\n-            if(UtilMethods.isSet(hid))\n-                hostList.append(APILocator.getHostAPI().find(hid, APILocator.getUserAPI().getSystemUser(), false).getHostname())\n-                        .append(\"  \");\n+        final StringBuilder hostList = new StringBuilder();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY1MTc0NA=="}, "originalCommit": {"oid": "d583a3a5356711e56bc854e7e38268b4bb1fe52e"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2423, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}