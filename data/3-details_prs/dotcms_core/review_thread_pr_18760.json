{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4ODg4NTQ5", "number": 18760, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDoxNzoyNlrOEIYuGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODowODoyM1rOELAaYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MjI5MDgxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rest/BundleResource.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDoxNzoyNlrOGoUM8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzoxNTo0OVrOGrRmHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkyNzIxNw==", "bodyText": "postman test?", "url": "https://github.com/dotCMS/core/pull/18760#discussion_r444927217", "createdAt": "2020-06-24T14:17:26Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/java/com/dotcms/rest/BundleResource.java", "diffHunk": "@@ -588,4 +620,71 @@ public Response deleteAllSuccess(@Context final HttpServletRequest request,\n                 \"Removing bundles in a separated process, the result of the operation will be notified\")).build();\n     } // deleteAllSuccess.\n \n+    @POST\n+    @JSONP\n+    @NoCache\n+    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML, MediaType.TEXT_PLAIN})\n+    @Consumes(MediaType.MULTIPART_FORM_DATA)\n+    public final Response postMultipart(@Context final HttpServletRequest request, @Context final HttpServletResponse response,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e6e78731c93380edc9f3768933ea1b5fc95922c"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAzMDIzNw==", "bodyText": "Done", "url": "https://github.com/dotCMS/core/pull/18760#discussion_r448030237", "createdAt": "2020-06-30T23:15:49Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/main/java/com/dotcms/rest/BundleResource.java", "diffHunk": "@@ -588,4 +620,71 @@ public Response deleteAllSuccess(@Context final HttpServletRequest request,\n                 \"Removing bundles in a separated process, the result of the operation will be notified\")).build();\n     } // deleteAllSuccess.\n \n+    @POST\n+    @JSONP\n+    @NoCache\n+    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML, MediaType.TEXT_PLAIN})\n+    @Consumes(MediaType.MULTIPART_FORM_DATA)\n+    public final Response postMultipart(@Context final HttpServletRequest request, @Context final HttpServletResponse response,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkyNzIxNw=="}, "originalCommit": {"oid": "5e6e78731c93380edc9f3768933ea1b5fc95922c"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTc2NTM4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rest/BundleResource.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODowODoyMlrOGsYR3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODowODoyMlrOGsYR3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE4ODMxNg==", "bodyText": "Codacy found an issue: This call to String.startsWith can be rewritten using String.charAt(0)", "url": "https://github.com/dotCMS/core/pull/18760#discussion_r449188316", "createdAt": "2020-07-02T18:08:22Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/BundleResource.java", "diffHunk": "@@ -588,4 +621,77 @@ public Response deleteAllSuccess(@Context final HttpServletRequest request,\n                 \"Removing bundles in a separated process, the result of the operation will be notified\")).build();\n     } // deleteAllSuccess.\n \n+    @POST\n+    @JSONP\n+    @NoCache\n+    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML, MediaType.TEXT_PLAIN})\n+    @Consumes(MediaType.MULTIPART_FORM_DATA)\n+    public final Response uploadBundle(@Context final HttpServletRequest request, @Context final HttpServletResponse response,\n+            FormDataMultiPart multipart,\n+            @Context UriInfo uriInfo, @QueryParam(\"sync\") boolean sync) throws DotPublisherException {\n+\n+        final InitDataObject initData = new WebResource.InitBuilder(webResource)\n+                .requiredBackendUser(true)\n+                .requiredFrontendUser(false)\n+                .requestAndResponse(request, response)\n+                .rejectWhenNoUser(true)\n+                .init();\n+\n+        for (final BodyPart part : multipart.getBodyParts()) {\n+            try(InputStream inputStream = part.getEntity() instanceof InputStream ? (InputStream) part\n+                    .getEntity()\n+                    : Try.of(() -> part.getEntityAs(InputStream.class)).getOrNull()) {\n+\n+                if (inputStream == null) {\n+                    continue;\n+                }\n+                final ContentDisposition meta = part.getContentDisposition();\n+                if (meta == null) {\n+                    continue;\n+                }\n+                final String fileName = meta.getFileName();\n+                if (UtilMethods.isNotSet(fileName) || fileName.startsWith(\".\") || fileName", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcf743d7a5e4ff07daef9682650befa28d41319"}, "originalPosition": 121}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTc2NTQ3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/page/PageResource.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODowODoyM1rOGsYR5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODowODoyM1rOGsYR5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE4ODMyNQ==", "bodyText": "Codacy found an issue: Avoid declaring a variable if it is unreferenced before a possible exit point.", "url": "https://github.com/dotCMS/core/pull/18760#discussion_r449188325", "createdAt": "2020-07-02T18:08:23Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/page/PageResource.java", "diffHunk": "@@ -406,12 +407,12 @@ public final Response addContent(@Context final HttpServletRequest request,\n         Logger.debug(this, ()->String.format(\"Saving page's content: %s\",\n                 pageContainerForm != null ? pageContainerForm.getRequestJson() : null));\n \n+        final InitDataObject initData = webResource.init(request, response,true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcf743d7a5e4ff07daef9682650befa28d41319"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2017, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}