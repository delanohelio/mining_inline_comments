{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MjQ3MTMw", "number": 18326, "title": "#18294 changing the message when file asset has invalid size", "bodyText": "Changing the message when a binary field size is invalid", "createdAt": "2020-04-20T19:10:15Z", "url": "https://github.com/dotCMS/core/pull/18326", "merged": true, "mergeCommit": {"oid": "1511d16cfe20b0ca8d88ea1cc94851fee8cee36f"}, "closed": true, "closedAt": "2020-04-22T15:47:50Z", "author": {"login": "jdotcms"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZj967AH2gAyNDA2MjQ3MTMwOmI1NmEyNmFmMWQzYjkzNGE2ZjIxMGQwNzg5NDU0YjU3Y2ExNWNkNmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaJLEegFqTM5ODI1MDY5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/b56a26af1d3b934a6f210d0789454b57ca15cd6b", "committedDate": "2020-04-20T19:08:30Z", "message": "#18294 changing the message when file asset has invalid size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MzkwODcw", "url": "https://github.com/dotCMS/core/pull/18326#pullrequestreview-397390870", "createdAt": "2020-04-21T14:31:56Z", "commit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3Mzk2OTY5", "url": "https://github.com/dotCMS/core/pull/18326#pullrequestreview-397396969", "createdAt": "2020-04-21T14:38:07Z", "commit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NDQ4MjQ2", "url": "https://github.com/dotCMS/core/pull/18326#pullrequestreview-397448246", "createdAt": "2020-04-21T15:30:21Z", "commit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NDQ4NDgy", "url": "https://github.com/dotCMS/core/pull/18326#pullrequestreview-397448482", "createdAt": "2020-04-21T15:30:38Z", "commit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNTozMToxNlrOGJMG7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNTozMToxNlrOGJMG7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI4ODc1MA==", "bodyText": "We need to add the offending file name and the maxsize to the message so the user can fix the situation.\nFile {0) exceeds the maximum file size of {1}", "url": "https://github.com/dotCMS/core/pull/18326#discussion_r412288750", "createdAt": "2020-04-21T15:31:16Z", "author": {"login": "wezell"}, "path": "dotCMS/src/main/java/com/dotcms/content/elasticsearch/business/ESContentletAPIImpl.java", "diffHunk": "@@ -6350,7 +6350,7 @@ private void validateBinary(final File binary, final String fieldName, final Fie\n                         if (-1 != maxLength && // if the user sets a valid value\n                                 fileLength > maxLength) {\n \n-                            final DotContentletValidationException cve = new DotContentletValidationException(Sneaky.sneak(()->LanguageUtil.get(\"message.contentlet.binary.invalidlength\")));\n+                            final DotContentletValidationException cve = new DotContentletValidationException(Sneaky.sneak(()->LanguageUtil.get(\"message.contentlet.binary.file.exceeds.size\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56a26af1d3b934a6f210d0789454b57ca15cd6b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29db5dfd06cc39c1ab545e757d792e81066b83a3", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/29db5dfd06cc39c1ab545e757d792e81066b83a3", "committedDate": "2020-04-21T18:20:31Z", "message": "#18294 message is now rendered with more information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20eae4dd5cafe97c10c2b7bbdbd3ad0b447e8141", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/20eae4dd5cafe97c10c2b7bbdbd3ad0b447e8141", "committedDate": "2020-04-21T20:01:56Z", "message": "#18294 adding the bytes, kb, mb, etc to the maxlength on the msg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b73ba470f94597ab99ba5c57d56d8465193ed983", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/b73ba470f94597ab99ba5c57d56d8465193ed983", "committedDate": "2020-04-21T20:35:55Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-18294-fixing-msg"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MjUwNjk1", "url": "https://github.com/dotCMS/core/pull/18326#pullrequestreview-398250695", "createdAt": "2020-04-22T14:29:21Z", "commit": {"oid": "b73ba470f94597ab99ba5c57d56d8465193ed983"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1004, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}