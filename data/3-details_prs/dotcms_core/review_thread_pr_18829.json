{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTIxMDA3", "number": 18829, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozMTozMFrOELzJKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzowODozNFrOEMKs4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODA3NzIwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/contentlet/business/HostAPITest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozMTozMFrOGtipXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMDo0Mjo1NlrOGtmcvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwNjc1MQ==", "bodyText": "Please write a test that tests where there are multiple host aliases separated by \\r and \\n and also a tab and space.\nAlso, the broken case is where there are multiple hosts that start with not- e.g. prod-client.dotcms.com and prod-anotherclient.dotcms.com.  Please write a test for this as well - as it is the broken case.", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r450406751", "createdAt": "2020-07-06T18:31:30Z", "author": {"login": "wezell"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/contentlet/business/HostAPITest.java", "diffHunk": "@@ -639,4 +639,25 @@ private void addPermission(final Role role, final Host host)\n         APILocator.getPermissionAPI().save(CollectionsUtils.list(permission), host, systemUser, false);\n     }\n \n+    /**\n+     * Method to test: {@link HostAPI#findByAlias(String, User, boolean)}\n+     * When create two host: first one with alias equals to demo.dotcms.com and second  one with alias equals to not-demo.dotcms.com\n+     *      and find by  demo.dotcms.com\n+     * Should return the first one\n+     */\n+    @Test\n+    public void shouldReturnHostByAlias() throws DotSecurityException, DotDataException {\n+        final Host host = new SiteDataGen().aliases(\"demo.dotcms.com\").nextPersisted();\n+        final Host host_2 = new SiteDataGen().aliases(\"not-demo.dotcms.com\").setDefault(true).nextPersisted();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ2OTA1Mg==", "bodyText": "done\n1c06c59", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r450469052", "createdAt": "2020-07-06T20:42:56Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/contentlet/business/HostAPITest.java", "diffHunk": "@@ -639,4 +639,25 @@ private void addPermission(final Role role, final Host host)\n         APILocator.getPermissionAPI().save(CollectionsUtils.list(permission), host, systemUser, false);\n     }\n \n+    /**\n+     * Method to test: {@link HostAPI#findByAlias(String, User, boolean)}\n+     * When create two host: first one with alias equals to demo.dotcms.com and second  one with alias equals to not-demo.dotcms.com\n+     *      and find by  demo.dotcms.com\n+     * Should return the first one\n+     */\n+    @Test\n+    public void shouldReturnHostByAlias() throws DotSecurityException, DotDataException {\n+        final Host host = new SiteDataGen().aliases(\"demo.dotcms.com\").nextPersisted();\n+        final Host host_2 = new SiteDataGen().aliases(\"not-demo.dotcms.com\").setDefault(true).nextPersisted();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwNjc1MQ=="}, "originalCommit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMTkzNjk4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/datagen/SiteDataGen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzowODozNFrOGuH3iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzowODozNFrOGuH3iA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAxNjU4NA==", "bodyText": "Codacy found an issue: Field aliases has the same name as a method", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r451016584", "createdAt": "2020-07-07T17:08:34Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/datagen/SiteDataGen.java", "diffHunk": "@@ -14,22 +14,38 @@\n     private final long currentTime = System.currentTimeMillis();\n \n     private String name = \"test\" + currentTime + \".dotcms.com\";\n+    private String aliases;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2028, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}