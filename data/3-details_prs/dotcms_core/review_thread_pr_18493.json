{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NjM4NTE0", "number": 18493, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjoxMjo0NVrOD8QTgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjoxMjo0NVrOD8QTgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTA4MjkxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/util/TestDataSourceProvider.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjoxMjo0NVrOGVFWnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjo1Mjo1OVrOGVGQ-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2MDk5MQ==", "bodyText": "I guess you can just simply call:\ndbType = System.getProperty(\"databaseType\", System.getenv(\"databaseType\"))", "url": "https://github.com/dotCMS/core/pull/18493#discussion_r424760991", "createdAt": "2020-05-13T22:12:45Z", "author": {"login": "victoralfaro-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/util/TestDataSourceProvider.java", "diffHunk": "@@ -63,18 +26,26 @@ public DataSource apply() {\n      * Load properties file with DB connection details\n      * @throws NamingException\n      */\n-    private void loadProperties()  {\n-        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n-        prop = new Properties();\n+    private Properties getProperties()  {\n+        final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n+        final Properties properties = new Properties();\n \n-        try (InputStream resourceStream = loader.getResourceAsStream(\"db-config.properties\")) {\n-            prop.load(resourceStream);\n-        } catch (Exception e) {\n-            Logger.info(this.getClass(), \"Unable to get properties from file db-config.properties - let's try the environment\");\n+        String dbType = \"postgres\";\n+\n+        if (System.getProperty(\"databaseType\")!=null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93fa172c3d2c87fa613db9ec79ae47ef199a1bdd"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc3NTkzMA==", "bodyText": "Done", "url": "https://github.com/dotCMS/core/pull/18493#discussion_r424775930", "createdAt": "2020-05-13T22:52:59Z", "author": {"login": "nollymar"}, "path": "dotCMS/src/integration-test/java/com/dotcms/util/TestDataSourceProvider.java", "diffHunk": "@@ -63,18 +26,26 @@ public DataSource apply() {\n      * Load properties file with DB connection details\n      * @throws NamingException\n      */\n-    private void loadProperties()  {\n-        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n-        prop = new Properties();\n+    private Properties getProperties()  {\n+        final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n+        final Properties properties = new Properties();\n \n-        try (InputStream resourceStream = loader.getResourceAsStream(\"db-config.properties\")) {\n-            prop.load(resourceStream);\n-        } catch (Exception e) {\n-            Logger.info(this.getClass(), \"Unable to get properties from file db-config.properties - let's try the environment\");\n+        String dbType = \"postgres\";\n+\n+        if (System.getProperty(\"databaseType\")!=null){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2MDk5MQ=="}, "originalCommit": {"oid": "93fa172c3d2c87fa613db9ec79ae47ef199a1bdd"}, "originalPosition": 77}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2318, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}