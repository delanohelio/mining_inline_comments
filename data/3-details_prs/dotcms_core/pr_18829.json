{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTIxMDA3", "number": 18829, "title": "#18187 Using whitespace analyzer with the host aliases", "bodyText": "Using the whitespace analizer to the host aliases to avoid the tokenizes\nhttps://github.com/dotCMS/core/compare/issue-18187-Aliases-not-working-correctly?expand=1#diff-44746dc0a1c617ec2edbabe9d6fedf39R72\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-whitespace-analyzer.html", "createdAt": "2020-07-06T17:55:09Z", "url": "https://github.com/dotCMS/core/pull/18829", "merged": true, "mergeCommit": {"oid": "d6b9b42c2d0f9872d627610cbae4c16a64f45c75"}, "closed": true, "closedAt": "2020-07-08T21:29:17Z", "author": {"login": "freddyucv"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwt2mogH2gAyNDQ0OTIxMDA3OmI3MWUwOWRlZjlmMjQzYTNiNGY3YTQyYTAyOWIyZmZkZTEzOGEyY2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy8ij8gFqTQ0NDkwNTEwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b71e09def9f243a3b4f7a42a029b2ffde138a2ce", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/b71e09def9f243a3b4f7a42a029b2ffde138a2ce", "committedDate": "2020-07-01T17:39:49Z", "message": "Merge pull request #18808 from dotCMS/release-5.3.4\n\nRelease 5.3.4"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "021bac1ff0e9a2243c3291e645ba9fa8f0a69c41", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/021bac1ff0e9a2243c3291e645ba9fa8f0a69c41", "committedDate": "2020-07-01T17:42:06Z", "message": "Revert release version values for master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/f65f0494fe7582e99fc95f546f932a1c9fd3d7a4", "committedDate": "2020-07-06T17:52:20Z", "message": "#18187 Using whitespace analyzer with the host aliases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjkzMzA2", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-443293306", "createdAt": "2020-07-06T17:56:40Z", "commit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzE1ODI4", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-443315828", "createdAt": "2020-07-06T18:31:29Z", "commit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozMTozMFrOGtipXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODozMTozMFrOGtipXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwNjc1MQ==", "bodyText": "Please write a test that tests where there are multiple host aliases separated by \\r and \\n and also a tab and space.\nAlso, the broken case is where there are multiple hosts that start with not- e.g. prod-client.dotcms.com and prod-anotherclient.dotcms.com.  Please write a test for this as well - as it is the broken case.", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r450406751", "createdAt": "2020-07-06T18:31:30Z", "author": {"login": "wezell"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/contentlet/business/HostAPITest.java", "diffHunk": "@@ -639,4 +639,25 @@ private void addPermission(final Role role, final Host host)\n         APILocator.getPermissionAPI().save(CollectionsUtils.list(permission), host, systemUser, false);\n     }\n \n+    /**\n+     * Method to test: {@link HostAPI#findByAlias(String, User, boolean)}\n+     * When create two host: first one with alias equals to demo.dotcms.com and second  one with alias equals to not-demo.dotcms.com\n+     *      and find by  demo.dotcms.com\n+     * Should return the first one\n+     */\n+    @Test\n+    public void shouldReturnHostByAlias() throws DotSecurityException, DotDataException {\n+        final Host host = new SiteDataGen().aliases(\"demo.dotcms.com\").nextPersisted();\n+        final Host host_2 = new SiteDataGen().aliases(\"not-demo.dotcms.com\").setDefault(true).nextPersisted();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c06c59de80cc2b15782eceb455d7b8d27d149ec", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/1c06c59de80cc2b15782eceb455d7b8d27d149ec", "committedDate": "2020-07-06T19:41:15Z", "message": "#18187 Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3f63dcdde8d7adcc796f818fb1b3a7822593f78", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/e3f63dcdde8d7adcc796f818fb1b3a7822593f78", "committedDate": "2020-07-06T21:15:22Z", "message": "#18187 Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dbf65438ab13c40655ac3bd793eb1dacb9b59df", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/2dbf65438ab13c40655ac3bd793eb1dacb9b59df", "committedDate": "2020-07-06T22:51:19Z", "message": "#18187 Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f3fce6c1a27a9ddb894f5e2b52dc7f10e462c31", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/8f3fce6c1a27a9ddb894f5e2b52dc7f10e462c31", "committedDate": "2020-07-07T14:07:20Z", "message": "#18187 Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b6854b969f202989cdf93e2851f26ba30e090f6", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/7b6854b969f202989cdf93e2851f26ba30e090f6", "committedDate": "2020-07-07T15:38:38Z", "message": "#18187 Testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/da02c8d064d579c7fd642d65aab5e741573e61ac", "committedDate": "2020-07-07T17:00:31Z", "message": "Update HostAPITest.java\n\nRemove set default to true"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MDkwMjMx", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-444090231", "createdAt": "2020-07-07T17:08:34Z", "commit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzowODozNFrOGuH3iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzowODozNFrOGuH3iA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAxNjU4NA==", "bodyText": "Codacy found an issue: Field aliases has the same name as a method", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r451016584", "createdAt": "2020-07-07T17:08:34Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/datagen/SiteDataGen.java", "diffHunk": "@@ -14,22 +14,38 @@\n     private final long currentTime = System.currentTimeMillis();\n \n     private String name = \"test\" + currentTime + \".dotcms.com\";\n+    private String aliases;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0OTAxOTA3", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-444901907", "createdAt": "2020-07-08T15:50:54Z", "commit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0OTAzOTE5", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-444903919", "createdAt": "2020-07-08T15:53:07Z", "commit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0OTA1MTA3", "url": "https://github.com/dotCMS/core/pull/18829#pullrequestreview-444905107", "createdAt": "2020-07-08T15:54:21Z", "commit": {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 791, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}