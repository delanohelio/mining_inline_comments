{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MTY4NDEy", "number": 19106, "title": "#19077 Adding a Upgrade task to add the apps to the layout if does no\u2026", "bodyText": "Adding the apps portlet to the layout if it does not already exists.", "createdAt": "2020-08-14T20:23:28Z", "url": "https://github.com/dotCMS/core/pull/19106", "merged": true, "mergeCommit": {"oid": "7f839e2a61da591a446a5cbef8aaa26d14214d8e"}, "closed": true, "closedAt": "2020-08-17T16:51:03Z", "author": {"login": "jdotcms"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-6jmfAH2gAyNDY4MTY4NDEyOjQ2NWIzZGEyYzYyOTgwYTBmM2E4NThkZWY0YzUzMWZkOTM0ZDE1OGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_0n1WgFqTQ2ODU5NTQ2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "465b3da2c62980a0f3a858def4c531fd934d158e", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/465b3da2c62980a0f3a858def4c531fd934d158e", "committedDate": "2020-08-14T20:22:46Z", "message": "#19077 Adding a Upgrade task to add the apps to the layout if does not exists"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3ODg4Njk0", "url": "https://github.com/dotCMS/core/pull/19106#pullrequestreview-467888694", "createdAt": "2020-08-14T21:38:12Z", "commit": {"oid": "465b3da2c62980a0f3a858def4c531fd934d158e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d551c8e157fe2d060f4cda464ed2ab8486c2f13", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/6d551c8e157fe2d060f4cda464ed2ab8486c2f13", "committedDate": "2020-08-14T21:47:37Z", "message": "fix conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTEyNTky", "url": "https://github.com/dotCMS/core/pull/19106#pullrequestreview-467912592", "createdAt": "2020-08-14T22:53:52Z", "commit": {"oid": "6d551c8e157fe2d060f4cda464ed2ab8486c2f13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1be4058570e1d4ccccd1bf5e716c71da9319ed7", "author": {"user": {"login": "fmontes", "name": "Freddy Montes"}}, "url": "https://github.com/dotCMS/core/commit/e1be4058570e1d4ccccd1bf5e716c71da9319ed7", "committedDate": "2020-08-14T23:13:03Z", "message": "Rename task"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTE5MTAy", "url": "https://github.com/dotCMS/core/pull/19106#pullrequestreview-467919102", "createdAt": "2020-08-14T23:21:55Z", "commit": {"oid": "e1be4058570e1d4ccccd1bf5e716c71da9319ed7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d78c11c261b856543adeb8b790948d7aa4d3bdc6", "author": {"user": {"login": "fmontes", "name": "Freddy Montes"}}, "url": "https://github.com/dotCMS/core/commit/d78c11c261b856543adeb8b790948d7aa4d3bdc6", "committedDate": "2020-08-15T00:11:50Z", "message": "Rename task file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb74c4a73b1d0fdb5bbd8eb5536a677489f0f095", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/fb74c4a73b1d0fdb5bbd8eb5536a677489f0f095", "committedDate": "2020-08-17T14:55:34Z", "message": "#19077 rename file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36afd7c867f1d45b1920a810280c48a2b086af9b", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/36afd7c867f1d45b1920a810280c48a2b086af9b", "committedDate": "2020-08-17T15:13:48Z", "message": "#19077 rename file v2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fdab1b8f6e366eef55f6530e70e7b167746274d", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/7fdab1b8f6e366eef55f6530e70e7b167746274d", "committedDate": "2020-08-17T15:53:55Z", "message": "merge master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTk1NDUy", "url": "https://github.com/dotCMS/core/pull/19106#pullrequestreview-468595452", "createdAt": "2020-08-17T16:01:52Z", "commit": {"oid": "7fdab1b8f6e366eef55f6530e70e7b167746274d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjowMTo1MlrOHBu_oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjowMTo1MlrOHBu_oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU4MDU3Ng==", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/19106#discussion_r471580576", "createdAt": "2020-08-17T16:01:52Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task53700AddAppsPortletToLayoutTest.java", "diffHunk": "@@ -0,0 +1,55 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.common.db.DotConnect;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.util.Logger;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test adding the APPS portlet to the layout\n+ * @author jsanca\n+ */\n+public class Task53700AddAppsPortletToLayoutTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fdab1b8f6e366eef55f6530e70e7b167746274d"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTk1NDY5", "url": "https://github.com/dotCMS/core/pull/19106#pullrequestreview-468595469", "createdAt": "2020-08-17T16:01:53Z", "commit": {"oid": "7fdab1b8f6e366eef55f6530e70e7b167746274d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjowMTo1M1rOHBu_qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNjowMTo1M1rOHBu_qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU4MDU4Nw==", "bodyText": "Codacy found an issue: Avoid catching generic exceptions such as NullPointerException, RuntimeException, Exception in try-catch block", "url": "https://github.com/dotCMS/core/pull/19106#discussion_r471580587", "createdAt": "2020-08-17T16:01:53Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task53700AddAppsPortletToLayoutTest.java", "diffHunk": "@@ -0,0 +1,55 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.common.db.DotConnect;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.util.Logger;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test adding the APPS portlet to the layout\n+ * @author jsanca\n+ */\n+public class Task53700AddAppsPortletToLayoutTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {\n+        // Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    private void dropAppPortlet(final DotConnect dotConnect) {\n+        try {\n+            final String dropAppPortletSQL = \"delete from cms_layouts_portlets where portlet_id = 'apps'\";\n+            dotConnect.executeStatement(dropAppPortletSQL);\n+        } catch (Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fdab1b8f6e366eef55f6530e70e7b167746274d"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 744, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}