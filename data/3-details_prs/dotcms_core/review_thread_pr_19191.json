{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NTYyMjQy", "number": 19191, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowNzo0N1rOEd17Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODoyMDozMVrOEd2KDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzI3NzE1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowNzo0N1rOHJP6CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODoxNDo1OFrOHJQG_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1OTg0OA==", "bodyText": "Should the condition be:\nif (UtilMethods.isSet(categoriesList) && categoriesList.size() > 0){", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479459848", "createdAt": "2020-08-28T18:07:47Z", "author": {"login": "wezell"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ2MzE2NA==", "bodyText": "@wezell the isSet method already checks for both null and empty list scenarios:\npublic static final boolean isSet(final Collection<?> collection) {\n    return null != collection && !collection.isEmpty();\n}", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479463164", "createdAt": "2020-08-28T18:14:58Z", "author": {"login": "jcastro-dotcms"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1OTg0OA=="}, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzMxNDcwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODoyMDozMVrOHJQQ-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODo1NToyN1rOHJRNhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ2NTcyMQ==", "bodyText": "I would replace the iterator with a normal for over categoriesList\nfor (final String categoryId : categoriesList)", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479465721", "createdAt": "2020-08-28T18:20:31Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r\n+\t\t\tfor (final Iterator<String> iterator = categoriesList.iterator(); iterator.hasNext();) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4MTIyMA==", "bodyText": "Yes, I thought about it too. But didn't add many changes as this is very old code that will be moved over to a REST Endpoint, hopefully soon.", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479481220", "createdAt": "2020-08-28T18:55:27Z", "author": {"login": "jcastro-dotcms"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r\n+\t\t\tfor (final Iterator<String> iterator = categoriesList.iterator(); iterator.hasNext();) {\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ2NTcyMQ=="}, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1840, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}