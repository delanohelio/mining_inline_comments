{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NTYyMjQy", "number": 19191, "title": "#19189 : A list with an empty String representing an empty value in t\u2026", "bodyText": "\u2026he Tag field is being sent from the Edit Mode in Angular. This is causing problems in our current Java code, as passing down an empty String to the CategoryAPI.find method returns a null value, which causes a Null Pointer Exception during the checkin process.", "createdAt": "2020-08-28T18:05:12Z", "url": "https://github.com/dotCMS/core/pull/19191", "merged": true, "mergeCommit": {"oid": "e383862f69fde011161c816cb73474b22b325287"}, "closed": true, "closedAt": "2020-09-02T17:20:04Z", "author": {"login": "jcastro-dotcms"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDY-C7AH2gAyNDc1NTYyMjQyOjQ0NGRmYjdmNzBmNjgxYTBiNGRjN2QyODQwZDZkNDMzOTIwZDAyYTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE-y-6AFqTQ4MTAwNjc1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5", "author": {"user": {"login": "jcastro-dotcms", "name": "Jose Castro"}}, "url": "https://github.com/dotCMS/core/commit/444dfb7f70f681a0b4dc7d2840d6d433920d02a5", "committedDate": "2020-08-28T18:04:30Z", "message": "#19189 : A list with an empty String representing an empty value in the Tag field is being sent from the Edit Mode in Angular. This is causing problems in our current Java code, as passing down an empty String to the `CategoryAPI.find` method returns a null value, which causes a Null Pointer Exception during the checkin process."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3OTMwMDA0", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-477930004", "createdAt": "2020-08-28T18:07:47Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowNzo0N1rOHJP6CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowNzo0N1rOHJP6CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1OTg0OA==", "bodyText": "Should the condition be:\nif (UtilMethods.isSet(categoriesList) && categoriesList.size() > 0){", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479459848", "createdAt": "2020-08-28T18:07:47Z", "author": {"login": "wezell"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3OTM3NDc2", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-477937476", "createdAt": "2020-08-28T18:20:31Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODoyMDozMVrOHJQQ-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODoyMDozMVrOHJQQ-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ2NTcyMQ==", "bodyText": "I would replace the iterator with a normal for over categoriesList\nfor (final String categoryId : categoriesList)", "url": "https://github.com/dotCMS/core/pull/19191#discussion_r479465721", "createdAt": "2020-08-28T18:20:31Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/business/web/ContentletWebAPIImpl.java", "diffHunk": "@@ -423,11 +423,12 @@ private void saveWebAsset(Map<String, Object> contentletFormData,\n \t\t\t}\r\n \t\t }\r\n \r\n-\t\tif (categoriesList != null && categoriesList.size() > 0) {\r\n-\t\t\tfor (final Iterator iterator = categoriesList.iterator(); iterator.hasNext();) {\r\n-\r\n-\t\t\t\tfinal String tmpString = (String) iterator.next();\r\n-\t\t\t\tcategories.add(catAPI.find(tmpString, user, false));\r\n+\t\tif (UtilMethods.isSet(categoriesList)) {\r\n+\t\t\tfor (final Iterator<String> iterator = categoriesList.iterator(); iterator.hasNext();) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3OTM3NzE5", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-477937719", "createdAt": "2020-08-28T18:20:58Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4Njc0MTMy", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-478674132", "createdAt": "2020-08-31T14:38:50Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5ODEwNTA3", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-479810507", "createdAt": "2020-09-01T14:40:58Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMDA2NzU2", "url": "https://github.com/dotCMS/core/pull/19191#pullrequestreview-481006756", "createdAt": "2020-09-02T16:42:44Z", "commit": {"oid": "444dfb7f70f681a0b4dc7d2840d6d433920d02a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1824, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}