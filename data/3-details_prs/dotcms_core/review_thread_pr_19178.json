{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0NTExNzA3", "number": 19178, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoxMlrOEdxaNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoyMlrOEdxabg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NjUzNjg2OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotmarketing/business/PermissionBitAPIImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoxMlrOHJIrkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoxMlrOHJIrkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM0MTQ1Ng==", "bodyText": "any test?", "url": "https://github.com/dotCMS/core/pull/19178#discussion_r479341456", "createdAt": "2020-08-28T14:27:12Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/java/com/dotmarketing/business/PermissionBitAPIImpl.java", "diffHunk": "@@ -375,7 +375,7 @@ public boolean doesUserHavePermission(final Permissionable permissionable, int p\n      */\r\n     private boolean isLiveContentlet(Permissionable permissionable) {\r\n         return permissionable!=null && permissionable instanceof Contentlet\r\n-                && Sneaky.sneak(()->((Contentlet) permissionable).isLive());\r\n+                && Try.of(()->((Contentlet) permissionable).isLive()).getOrElse(false);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbb4a34d184bd5765a1724183454a3df42c343d2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NjUzNzQyOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/edit_contentlet.jsp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoyMlrOHJIr8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNDoyNzoyMlrOHJIr8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM0MTU1Mw==", "bodyText": "any test?", "url": "https://github.com/dotCMS/core/pull/19178#discussion_r479341553", "createdAt": "2020-08-28T14:27:22Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/edit_contentlet.jsp", "diffHunk": "@@ -179,11 +179,11 @@\n \tboolean canEditAsset = conPerAPI.doesUserHavePermission(contentlet, PermissionAPI.PERMISSION_EDIT_PERMISSIONS, user);\n \tfinal LayoutAPI layoutAPI = APILocator.getLayoutAPI();\n     boolean canSeeRules = layoutAPI.doesUserHaveAccessToPortlet(\"rules\", user)\n-            && conPerAPI.doesUserHavePermission(contentlet, PermissionAPI.PERMISSION_USE, user)\n+            && conPerAPI.doesUserHavePermission(contentlet, PermissionAPI.PERMISSION_USE, user, PageMode.get(request).respectAnonPerms)\n             && conPerAPI.doesUserHavePermissions(contentlet.getParentPermissionable(), \"RULES: \" + PermissionAPI.PERMISSION_USE, user);\n     \n     boolean hasViewPermision = layoutAPI.doesUserHaveAccessToPortlet(\"permissions\", user)\n-            && conPerAPI.doesUserHavePermission(contentlet, PermissionAPI.PERMISSION_USE, user)\n+            && conPerAPI.doesUserHavePermission(contentlet, PermissionAPI.PERMISSION_USE, user, PageMode.get(request).respectAnonPerms)\n             && conPerAPI.doesUserHavePermissions(contentlet.getParentPermissionable(), \"PERMISSIONS: \" + PermissionAPI.PERMISSION_USE, user);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbb4a34d184bd5765a1724183454a3df42c343d2"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1836, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}