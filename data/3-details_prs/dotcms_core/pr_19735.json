{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MzE0MzI4", "number": 19735, "title": "Issue 19725 graphql runaway cache evictions 20 12", "bodyText": "", "createdAt": "2020-12-22T19:15:47Z", "url": "https://github.com/dotCMS/core/pull/19735", "merged": true, "mergeCommit": {"oid": "65686d8f7562b01f69014331dfb4b31b1f411e3b"}, "closed": true, "closedAt": "2020-12-29T19:34:48Z", "author": {"login": "wezell"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdovDPYgH2gAyNTQ0MzE0MzI4OjJkYTgwMDRmZjljYzhjZGQ2NjA1MmNlN2Q1OTRlYjEzYmJiZjRmZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq9057gH2gAyNTQ0MzE0MzI4Ojc3YzNhNzI3OGM0NWNkMGYzNzY1NTYwZWFlNmFlYWNhMDk3MzEzNWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2da8004ff9cc8cdd66052ce7d594eb13bbbf4fde", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/2da8004ff9cc8cdd66052ce7d594eb13bbbf4fde", "committedDate": "2020-12-22T18:43:17Z", "message": "#19725 debounces graphql cache evictions and syncronizes the cache rebuild"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6836518d1d58ec8fcbd8bc66ec68ca7857810391", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/6836518d1d58ec8fcbd8bc66ec68ca7857810391", "committedDate": "2020-12-22T18:43:34Z", "message": "#19725 more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "515c10dc639cf3075ba984d550f2ba3f35d41dd7", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/515c10dc639cf3075ba984d550f2ba3f35d41dd7", "committedDate": "2020-12-22T18:43:46Z", "message": "#19725 more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e05c1f630b1258b6b7cd144a2c33e65cb43f6fd0", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/e05c1f630b1258b6b7cd144a2c33e65cb43f6fd0", "committedDate": "2020-12-22T18:43:57Z", "message": "#19725 better example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NDE0Njgx", "url": "https://github.com/dotCMS/core/pull/19735#pullrequestreview-557414681", "createdAt": "2020-12-22T23:00:56Z", "commit": {"oid": "e05c1f630b1258b6b7cd144a2c33e65cb43f6fd0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3ODg3ODMz", "url": "https://github.com/dotCMS/core/pull/19735#pullrequestreview-557887833", "createdAt": "2020-12-23T14:05:50Z", "commit": {"oid": "e05c1f630b1258b6b7cd144a2c33e65cb43f6fd0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNDowNTo1MFrOIKltcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNDowNTo1MFrOIKltcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk3NDUxNA==", "bodyText": "I think this doc could be better", "url": "https://github.com/dotCMS/core/pull/19735#discussion_r547974514", "createdAt": "2020-12-23T14:05:50Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/java/com/dotcms/concurrent/Debouncer.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package com.dotcms.concurrent;\n+\n+import java.util.concurrent.ConcurrentHashMap;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import com.dotmarketing.util.Logger;\n+import com.google.common.annotations.VisibleForTesting;\n+\n+/**\n+ * Usage:\n+ * \n+ * final Debouncer debouncer = new Debouncer(); \n+ * debouncer.debounce(\"myRunnableKey\",()->{runnable..} , 1000, TimeUnit.MILLISECONDS);\n+ */\n+public class Debouncer {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e05c1f630b1258b6b7cd144a2c33e65cb43f6fd0"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf0c397e70980e10b84fd924de19a33f722aef8c", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/bf0c397e70980e10b84fd924de19a33f722aef8c", "committedDate": "2020-12-23T18:10:02Z", "message": "#19725 more doc for debouncer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0eb5d1fdb9e47cc8ae710f6237abb66a5f764967", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/0eb5d1fdb9e47cc8ae710f6237abb66a5f764967", "committedDate": "2020-12-24T13:47:37Z", "message": "#19725 use cached content types to build list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dfc0c063f84dc05cb0bcad6e63bae6a6d23da46", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/5dfc0c063f84dc05cb0bcad6e63bae6a6d23da46", "committedDate": "2020-12-24T14:44:00Z", "message": "#19725 fixing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cf308d2fdd56c9b58e40aaae1942ac4c3ec7773", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/7cf308d2fdd56c9b58e40aaae1942ac4c3ec7773", "committedDate": "2020-12-24T20:48:11Z", "message": "#19725 fixing final test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c3a7278c45cd0f3765560eae6aeaca0973135b", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/77c3a7278c45cd0f3765560eae6aeaca0973135b", "committedDate": "2020-12-29T17:04:03Z", "message": "#19725 Fixing failing tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1699, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}