{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzOTUxMDU0", "number": 18925, "title": "#18846 Apps: making a defensive array copy prevents error delivering \u2026", "bodyText": "Apps: Recently we opened the possibility to subscribe event listeners to the On AppSave Event.\nThe events are delivered asynchronously this comes to fix a problem that we had sharing a char array that was destroyed at the end of the HttpRequest causing all listeners to receive a Secret already destroyed.", "createdAt": "2020-07-20T23:53:09Z", "url": "https://github.com/dotCMS/core/pull/18925", "merged": true, "mergeCommit": {"oid": "21cb71244f70311abb55aa39f2b0bd988de9e524"}, "closed": true, "closedAt": "2020-07-21T18:26:07Z", "author": {"login": "fabrizzio-dotCMS"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc26huBgH2gAyNDUzOTUxMDU0OmM4OTQwNmRhYzViOTc4ODBkODc3ODJjNTM3ZWQyZDA3OTQ0MjJlYzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2_XxxgFqTQ1MjEzNTY4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8", "author": {"user": {"login": "fabrizzio-dotCMS", "name": "Fabrizzio Araya"}}, "url": "https://github.com/dotCMS/core/commit/c89406dac5b97880d87782c537ed2d0794422ec8", "committedDate": "2020-07-20T23:49:19Z", "message": "#18846 Apps: making a defensive array copy prevents error delivering  async event"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDM2Nzc0", "url": "https://github.com/dotCMS/core/pull/18925#pullrequestreview-452036774", "createdAt": "2020-07-20T23:59:30Z", "commit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMzo1OTozMVrOG0jSEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMzo1OTozMVrOG0jSEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc1NzIwMA==", "bodyText": "Codacy found an issue: Unnecessary use of fully qualified name 'Assert.assertFalse' due to existing static import 'org.junit.Assert.assertFalse'", "url": "https://github.com/dotCMS/core/pull/18925#discussion_r457757200", "createdAt": "2020-07-20T23:59:31Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/security/apps/AppsAPIImplTest.java", "diffHunk": "@@ -806,6 +806,11 @@ public void Test_Save_Secret_Expect_Event_Notification() throws DotDataException\n         localSystemEventsAPI.subscribe(AppSecretSavedEvent.class, new AppsSecretEventSubscriber(){\n             @Override\n             public void notify(AppSecretSavedEvent event) {\n+                final AppSecrets appSecrets = event.getAppSecrets();\n+                final Map<String, Secret> secrets = appSecrets.getSecrets();\n+                secrets.forEach((s, secret) -> {\n+                    Assert.assertFalse(isSecretDestroyed(secret.getValue()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDM3MDk0", "url": "https://github.com/dotCMS/core/pull/18925#pullrequestreview-452037094", "createdAt": "2020-07-21T00:00:33Z", "commit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDU1OTYx", "url": "https://github.com/dotCMS/core/pull/18925#pullrequestreview-452055961", "createdAt": "2020-07-21T01:01:01Z", "commit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTM1Njgz", "url": "https://github.com/dotCMS/core/pull/18925#pullrequestreview-452135683", "createdAt": "2020-07-21T05:27:59Z", "commit": {"oid": "c89406dac5b97880d87782c537ed2d0794422ec8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 821, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}