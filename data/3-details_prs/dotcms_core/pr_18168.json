{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNzUxNDI4", "number": 18168, "title": "dotCMS/core#17795 Update web components", "bodyText": "Hide context menu on click and right click of other cards\nFix click to edit contentlet", "createdAt": "2020-03-20T21:38:29Z", "url": "https://github.com/dotCMS/core/pull/18168", "merged": true, "mergeCommit": {"oid": "1d4433c2e069f8d5511357f4204bb56a42c30f37"}, "closed": true, "closedAt": "2020-03-20T21:38:39Z", "author": {"login": "fmontes"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPnfTTAH2gAyMzkxNzUxNDI4OjQ3OTMxOWY3NzNkZWE3Y2Y5ODBiMDZlOGYzN2M0MjEyYzFjMTIzOTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPnop7gFqTM3ODgyOTQ4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396", "author": {"user": {"login": "fmontes", "name": "Freddy Montes"}}, "url": "https://github.com/dotCMS/core/commit/479319f773dea7cf980b06e8f37c4212c1c12396", "committedDate": "2020-03-20T21:35:26Z", "message": "Update web components\n1. Hide context menu on click and right click of other cards\n2. Fix click to edit contentlet"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDQw", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829440", "createdAt": "2020-03-20T21:45:33Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozM1rOF5kDCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozM1rOF5kDCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc1NQ==", "bodyText": "Issue found: Avoid using if statements without curly braces", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903755", "createdAt": "2020-03-20T21:45:33Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-5ncsofev.system.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function c(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,c)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol===\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return u([t,e])}}function u(a){if(r)throw new TypeError(\"Generator is already executing.\");while(n)try{if(r=1,i&&(o=a[0]&2?i[\"return\"]:a[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(c){a=[6,c];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([\"./p-aa15c74d.system.js\"],(function(t){\"use strict\";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.H;o=t.g}],execute:function(){var a=function(t){return t&&typeof t===\"string\"?t.split(\",\"):[]};var c=function(t,e){if(t&&t.length&&e&&typeof e===\"string\"){return t.filter((function(t){var n=t.data.inode;return e.split(\",\").includes(n)})).map((function(t){var e=t.data;return e}))}return[]};var u=t(\"dot_card_view\",function(){function t(t){e(this,t);this.items=[];this.selection=[];this.selected=n(this,\"selected\",7);this.cardClick=n(this,\"cardClick\",7)}t.prototype.watchItems=function(t){this.selection=c(t,this.value)};t.prototype.watchValue=function(t){this.selection=c(this.items,t)};t.prototype.getValue=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.selection]}))}))};t.prototype.clearValue=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){this.value=\"\";t=this.getCards();t.forEach((function(t){t.checked=false}));return[2]}))}))};t.prototype.componentDidLoad=function(){this.selection=c(this.items,this.value);this.cards=this.getCards()};t.prototype.clearMenu=function(){this.cards.forEach((function(t){t.hideMenu()}))};t.prototype.render=function(){var t=this;var e=a(this.value);return r(i,null,this.items.map((function(n){return r(\"dot-card-contentlet\",{onContextMenu:function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){e.preventDefault();t=e.target;this.clearMenu();t.showMenu(e.x,e.y);return[2]}))}))},onClick:function(){t.clearMenu();t.cardClick.emit(n.data)},key:n.data.inode,checked:e.includes(n.data.inode),onCheckboxChange:function(e){var r=e.detail,i=r.originalTarget,o=r.shiftKey;var a=false;if(o&&i.checked){t.cards.forEach((function(e){if(e===i||e===t.lastChecked){a=!a}if(a){e.checked=true}}))}t.lastChecked=i;t.setValue(i,n.data)},item:n})})))};t.prototype.setValue=function(t,e){if(t.checked){this.selection.push(e)}else{this.selection=this.selection.filter((function(t){var n=t.identifier;return n!==e.identifier}))}this.value=this.selection.map((function(t){var e=t.inode;return e})).join(\",\");this.selected.emit(this.selection)};t.prototype.getCards=function(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")};Object.defineProperty(t.prototype,\"el\",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{items:[\"watchItems\"],value:[\"watchValue\"]}},enumerable:true,configurable:true});Object.defineProperty(t,\"style\",{get:function(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"},enumerable:true,configurable:true});return t}())}}}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDUw", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829450", "createdAt": "2020-03-20T21:45:34Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNFrOF5kDEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNFrOF5kDEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc2Mw==", "bodyText": "Issue found: A 'return', 'break', 'continue', or 'throw' statement should be the last in a block.", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903763", "createdAt": "2020-03-20T21:45:34Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-5ncsofev.system.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function c(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,c)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol===\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return u([t,e])}}function u(a){if(r)throw new TypeError(\"Generator is already executing.\");while(n)try{if(r=1,i&&(o=a[0]&2?i[\"return\"]:a[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(c){a=[6,c];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([\"./p-aa15c74d.system.js\"],(function(t){\"use strict\";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.H;o=t.g}],execute:function(){var a=function(t){return t&&typeof t===\"string\"?t.split(\",\"):[]};var c=function(t,e){if(t&&t.length&&e&&typeof e===\"string\"){return t.filter((function(t){var n=t.data.inode;return e.split(\",\").includes(n)})).map((function(t){var e=t.data;return e}))}return[]};var u=t(\"dot_card_view\",function(){function t(t){e(this,t);this.items=[];this.selection=[];this.selected=n(this,\"selected\",7);this.cardClick=n(this,\"cardClick\",7)}t.prototype.watchItems=function(t){this.selection=c(t,this.value)};t.prototype.watchValue=function(t){this.selection=c(this.items,t)};t.prototype.getValue=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.selection]}))}))};t.prototype.clearValue=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){this.value=\"\";t=this.getCards();t.forEach((function(t){t.checked=false}));return[2]}))}))};t.prototype.componentDidLoad=function(){this.selection=c(this.items,this.value);this.cards=this.getCards()};t.prototype.clearMenu=function(){this.cards.forEach((function(t){t.hideMenu()}))};t.prototype.render=function(){var t=this;var e=a(this.value);return r(i,null,this.items.map((function(n){return r(\"dot-card-contentlet\",{onContextMenu:function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){e.preventDefault();t=e.target;this.clearMenu();t.showMenu(e.x,e.y);return[2]}))}))},onClick:function(){t.clearMenu();t.cardClick.emit(n.data)},key:n.data.inode,checked:e.includes(n.data.inode),onCheckboxChange:function(e){var r=e.detail,i=r.originalTarget,o=r.shiftKey;var a=false;if(o&&i.checked){t.cards.forEach((function(e){if(e===i||e===t.lastChecked){a=!a}if(a){e.checked=true}}))}t.lastChecked=i;t.setValue(i,n.data)},item:n})})))};t.prototype.setValue=function(t,e){if(t.checked){this.selection.push(e)}else{this.selection=this.selection.filter((function(t){var n=t.identifier;return n!==e.identifier}))}this.value=this.selection.map((function(t){var e=t.inode;return e})).join(\",\");this.selected.emit(this.selection)};t.prototype.getCards=function(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")};Object.defineProperty(t.prototype,\"el\",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{items:[\"watchItems\"],value:[\"watchValue\"]}},enumerable:true,configurable:true});Object.defineProperty(t,\"style\",{get:function(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"},enumerable:true,configurable:true});return t}())}}}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDU5", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829459", "createdAt": "2020-03-20T21:45:35Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNlrOF5kDIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNlrOF5kDIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc3Ng==", "bodyText": "Issue found: Avoid assignments in operands", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903776", "createdAt": "2020-03-20T21:45:36Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-5ncsofev.system.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function c(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,c)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol===\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return u([t,e])}}function u(a){if(r)throw new TypeError(\"Generator is already executing.\");while(n)try{if(r=1,i&&(o=a[0]&2?i[\"return\"]:a[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(c){a=[6,c];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([\"./p-aa15c74d.system.js\"],(function(t){\"use strict\";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.H;o=t.g}],execute:function(){var a=function(t){return t&&typeof t===\"string\"?t.split(\",\"):[]};var c=function(t,e){if(t&&t.length&&e&&typeof e===\"string\"){return t.filter((function(t){var n=t.data.inode;return e.split(\",\").includes(n)})).map((function(t){var e=t.data;return e}))}return[]};var u=t(\"dot_card_view\",function(){function t(t){e(this,t);this.items=[];this.selection=[];this.selected=n(this,\"selected\",7);this.cardClick=n(this,\"cardClick\",7)}t.prototype.watchItems=function(t){this.selection=c(t,this.value)};t.prototype.watchValue=function(t){this.selection=c(this.items,t)};t.prototype.getValue=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.selection]}))}))};t.prototype.clearValue=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){this.value=\"\";t=this.getCards();t.forEach((function(t){t.checked=false}));return[2]}))}))};t.prototype.componentDidLoad=function(){this.selection=c(this.items,this.value);this.cards=this.getCards()};t.prototype.clearMenu=function(){this.cards.forEach((function(t){t.hideMenu()}))};t.prototype.render=function(){var t=this;var e=a(this.value);return r(i,null,this.items.map((function(n){return r(\"dot-card-contentlet\",{onContextMenu:function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){e.preventDefault();t=e.target;this.clearMenu();t.showMenu(e.x,e.y);return[2]}))}))},onClick:function(){t.clearMenu();t.cardClick.emit(n.data)},key:n.data.inode,checked:e.includes(n.data.inode),onCheckboxChange:function(e){var r=e.detail,i=r.originalTarget,o=r.shiftKey;var a=false;if(o&&i.checked){t.cards.forEach((function(e){if(e===i||e===t.lastChecked){a=!a}if(a){e.checked=true}}))}t.lastChecked=i;t.setValue(i,n.data)},item:n})})))};t.prototype.setValue=function(t,e){if(t.checked){this.selection.push(e)}else{this.selection=this.selection.filter((function(t){var n=t.identifier;return n!==e.identifier}))}this.value=this.selection.map((function(t){var e=t.inode;return e})).join(\",\");this.selected.emit(this.selection)};t.prototype.getCards=function(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")};Object.defineProperty(t.prototype,\"el\",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{items:[\"watchItems\"],value:[\"watchValue\"]}},enumerable:true,configurable:true});Object.defineProperty(t,\"style\",{get:function(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"},enumerable:true,configurable:true});return t}())}}}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDYz", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829463", "createdAt": "2020-03-20T21:45:36Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNlrOF5kDJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozNlrOF5kDJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc4Mw==", "bodyText": "Issue found: Avoid using global variables", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903783", "createdAt": "2020-03-20T21:45:36Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-5ncsofev.system.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function c(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,c)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol===\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return u([t,e])}}function u(a){if(r)throw new TypeError(\"Generator is already executing.\");while(n)try{if(r=1,i&&(o=a[0]&2?i[\"return\"]:a[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(c){a=[6,c];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([\"./p-aa15c74d.system.js\"],(function(t){\"use strict\";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.H;o=t.g}],execute:function(){var a=function(t){return t&&typeof t===\"string\"?t.split(\",\"):[]};var c=function(t,e){if(t&&t.length&&e&&typeof e===\"string\"){return t.filter((function(t){var n=t.data.inode;return e.split(\",\").includes(n)})).map((function(t){var e=t.data;return e}))}return[]};var u=t(\"dot_card_view\",function(){function t(t){e(this,t);this.items=[];this.selection=[];this.selected=n(this,\"selected\",7);this.cardClick=n(this,\"cardClick\",7)}t.prototype.watchItems=function(t){this.selection=c(t,this.value)};t.prototype.watchValue=function(t){this.selection=c(this.items,t)};t.prototype.getValue=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.selection]}))}))};t.prototype.clearValue=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){this.value=\"\";t=this.getCards();t.forEach((function(t){t.checked=false}));return[2]}))}))};t.prototype.componentDidLoad=function(){this.selection=c(this.items,this.value);this.cards=this.getCards()};t.prototype.clearMenu=function(){this.cards.forEach((function(t){t.hideMenu()}))};t.prototype.render=function(){var t=this;var e=a(this.value);return r(i,null,this.items.map((function(n){return r(\"dot-card-contentlet\",{onContextMenu:function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){e.preventDefault();t=e.target;this.clearMenu();t.showMenu(e.x,e.y);return[2]}))}))},onClick:function(){t.clearMenu();t.cardClick.emit(n.data)},key:n.data.inode,checked:e.includes(n.data.inode),onCheckboxChange:function(e){var r=e.detail,i=r.originalTarget,o=r.shiftKey;var a=false;if(o&&i.checked){t.cards.forEach((function(e){if(e===i||e===t.lastChecked){a=!a}if(a){e.checked=true}}))}t.lastChecked=i;t.setValue(i,n.data)},item:n})})))};t.prototype.setValue=function(t,e){if(t.checked){this.selection.push(e)}else{this.selection=this.selection.filter((function(t){var n=t.identifier;return n!==e.identifier}))}this.value=this.selection.map((function(t){var e=t.inode;return e})).join(\",\");this.selected.emit(this.selection)};t.prototype.getCards=function(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")};Object.defineProperty(t.prototype,\"el\",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{items:[\"watchItems\"],value:[\"watchValue\"]}},enumerable:true,configurable:true});Object.defineProperty(t,\"style\",{get:function(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"},enumerable:true,configurable:true});return t}())}}}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDcx", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829471", "createdAt": "2020-03-20T21:45:37Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozOFrOF5kDLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozOFrOF5kDLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc4OA==", "bodyText": "Issue found: Avoid using global variables", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903788", "createdAt": "2020-03-20T21:45:38Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-oqa3bh2m.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+import{r as t,c as s,h as e,H as i,g as h}from\"./p-17c4ed33.js\";const a=(t,s)=>t&&t.length&&s&&\"string\"==typeof s?t.filter(({data:{inode:t}})=>s.split(\",\").includes(t)).map(({data:t})=>t):[],c=class{constructor(e){t(this,e),this.items=[],this.selection=[],this.selected=s(this,\"selected\",7),this.cardClick=s(this,\"cardClick\",7)}watchItems(t){this.selection=a(t,this.value)}watchValue(t){this.selection=a(this.items,t)}async getValue(){return this.selection}async clearValue(){this.value=\"\",this.getCards().forEach(t=>{t.checked=!1})}componentDidLoad(){this.selection=a(this.items,this.value),this.cards=this.getCards()}clearMenu(){this.cards.forEach(t=>{t.hideMenu()})}render(){const t=(t=>t&&\"string\"==typeof t?t.split(\",\"):[])(this.value);return e(i,null,this.items.map(s=>e(\"dot-card-contentlet\",{onContextMenu:async t=>{t.preventDefault();const s=t.target;this.clearMenu(),s.showMenu(t.x,t.y)},onClick:()=>{this.clearMenu(),this.cardClick.emit(s.data)},key:s.data.inode,checked:t.includes(s.data.inode),onCheckboxChange:({detail:{originalTarget:t,shiftKey:e}})=>{let i=!1;e&&t.checked&&this.cards.forEach(s=>{s!==t&&s!==this.lastChecked||(i=!i),i&&(s.checked=!0)}),this.lastChecked=t,this.setValue(t,s.data)},item:s})))}setValue(t,s){t.checked?this.selection.push(s):this.selection=this.selection.filter(({identifier:t})=>t!==s.identifier),this.value=this.selection.map(({inode:t})=>t).join(\",\"),this.selected.emit(this.selection)}getCards(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")}get el(){return h(this)}static get watchers(){return{items:[\"watchItems\"],value:[\"watchValue\"]}}static get style(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"}};export{c as dot_card_view};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODI5NDgw", "url": "https://github.com/dotCMS/core/pull/18168#pullrequestreview-378829480", "createdAt": "2020-03-20T21:45:39Z", "commit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozOVrOF5kDMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMTo0NTozOVrOF5kDMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkwMzc5NQ==", "bodyText": "Issue found: Avoid using while statements without curly braces", "url": "https://github.com/dotCMS/core/pull/18168#discussion_r395903795", "createdAt": "2020-03-20T21:45:39Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/webapp/dotcms-webcomponents/p-5ncsofev.system.entry.js", "diffHunk": "@@ -0,0 +1 @@\n+var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function c(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,c)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol===\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return u([t,e])}}function u(a){if(r)throw new TypeError(\"Generator is already executing.\");while(n)try{if(r=1,i&&(o=a[0]&2?i[\"return\"]:a[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(c){a=[6,c];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([\"./p-aa15c74d.system.js\"],(function(t){\"use strict\";var e,n,r,i,o;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.H;o=t.g}],execute:function(){var a=function(t){return t&&typeof t===\"string\"?t.split(\",\"):[]};var c=function(t,e){if(t&&t.length&&e&&typeof e===\"string\"){return t.filter((function(t){var n=t.data.inode;return e.split(\",\").includes(n)})).map((function(t){var e=t.data;return e}))}return[]};var u=t(\"dot_card_view\",function(){function t(t){e(this,t);this.items=[];this.selection=[];this.selected=n(this,\"selected\",7);this.cardClick=n(this,\"cardClick\",7)}t.prototype.watchItems=function(t){this.selection=c(t,this.value)};t.prototype.watchValue=function(t){this.selection=c(this.items,t)};t.prototype.getValue=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.selection]}))}))};t.prototype.clearValue=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){this.value=\"\";t=this.getCards();t.forEach((function(t){t.checked=false}));return[2]}))}))};t.prototype.componentDidLoad=function(){this.selection=c(this.items,this.value);this.cards=this.getCards()};t.prototype.clearMenu=function(){this.cards.forEach((function(t){t.hideMenu()}))};t.prototype.render=function(){var t=this;var e=a(this.value);return r(i,null,this.items.map((function(n){return r(\"dot-card-contentlet\",{onContextMenu:function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){e.preventDefault();t=e.target;this.clearMenu();t.showMenu(e.x,e.y);return[2]}))}))},onClick:function(){t.clearMenu();t.cardClick.emit(n.data)},key:n.data.inode,checked:e.includes(n.data.inode),onCheckboxChange:function(e){var r=e.detail,i=r.originalTarget,o=r.shiftKey;var a=false;if(o&&i.checked){t.cards.forEach((function(e){if(e===i||e===t.lastChecked){a=!a}if(a){e.checked=true}}))}t.lastChecked=i;t.setValue(i,n.data)},item:n})})))};t.prototype.setValue=function(t,e){if(t.checked){this.selection.push(e)}else{this.selection=this.selection.filter((function(t){var n=t.identifier;return n!==e.identifier}))}this.value=this.selection.map((function(t){var e=t.inode;return e})).join(\",\");this.selected.emit(this.selection)};t.prototype.getCards=function(){return this.el.shadowRoot.querySelectorAll(\"dot-card-contentlet\")};Object.defineProperty(t.prototype,\"el\",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{items:[\"watchItems\"],value:[\"watchValue\"]}},enumerable:true,configurable:true});Object.defineProperty(t,\"style\",{get:function(){return\":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\\\"\\\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}\"},enumerable:true,configurable:true});return t}())}}}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "479319f773dea7cf980b06e8f37c4212c1c12396"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1206, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}