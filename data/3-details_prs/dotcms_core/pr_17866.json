{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MzA4OTM5", "number": 17866, "title": "dotCMS/core#17829 \"Send for Review\" in Task Detail modal is not working", "bodyText": "", "createdAt": "2020-01-17T20:34:25Z", "url": "https://github.com/dotCMS/core/pull/17866", "merged": true, "mergeCommit": {"oid": "57a2e802908316d8b831631c7e27594bd1c552d4"}, "closed": true, "closedAt": "2020-01-24T15:14:02Z", "author": {"login": "hmoreras"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7UQ1agH2gAyMzY0MzA4OTM5OmMyNTNlNjQ1MTdjYmZmN2FlOThhZTY4NzJiNDJlNjE1YTZlM2NjNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9QUuvAFqTM0NzU4NDA4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c253e64517cbff7ae98ae6872b42e615a6e3cc58", "author": {"user": {"login": "hmoreras", "name": "Humberto Morera "}}, "url": "https://github.com/dotCMS/core/commit/c253e64517cbff7ae98ae6872b42e615a6e3cc58", "committedDate": "2020-01-17T19:52:57Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODQ1MTQz", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-344845143", "createdAt": "2020-01-17T21:14:58Z", "commit": {"oid": "c253e64517cbff7ae98ae6872b42e615a6e3cc58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODQ3OTI5", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-344847929", "createdAt": "2020-01-17T21:21:29Z", "commit": {"oid": "c253e64517cbff7ae98ae6872b42e615a6e3cc58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "655185e5ceda3d3a72820450e2054ab09e651f13", "author": {"user": {"login": "hmoreras", "name": "Humberto Morera "}}, "url": "https://github.com/dotCMS/core/commit/655185e5ceda3d3a72820450e2054ab09e651f13", "committedDate": "2020-01-23T17:46:17Z", "message": "remove old code, and use the kinda new push publish modal refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "author": {"user": {"login": "hmoreras", "name": "Humberto Morera "}}, "url": "https://github.com/dotCMS/core/commit/2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "committedDate": "2020-01-23T17:48:22Z", "message": "Merge branch 'master' into issue-17829-send-for-review-not-working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTM3MTE3", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-347537117", "createdAt": "2020-01-23T19:05:10Z", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTQ3NjIy", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-347547622", "createdAt": "2020-01-23T19:22:09Z", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTcyNDQ0", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-347572444", "createdAt": "2020-01-23T20:04:17Z", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMDowNDoxN1rOFhLA9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMDowNDoxN1rOFhLA9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyNzc5Nw==", "bodyText": "removing reference of the \"old\" form after the integration of the PP modals, #15074", "url": "https://github.com/dotCMS/core/pull/17866#discussion_r370327797", "createdAt": "2020-01-23T20:04:17Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/workflows/view_workflow_task.jsp", "diffHunk": "@@ -499,19 +499,4 @@ public String getPostedby(String postedBy){\n \n <div dojoAttachPoint=\"fileBrowser\" jsId=\"fileBrowser\" onFileSelected=\"attachFileCallback\" onlyFiles=\"true\" dojoType=\"dotcms.dijit.FileBrowserDialog\">\n </div>\n-\n-<form id=\"submitWorkflowTaskFrm\" action=\"/DotAjaxDirector/com.dotmarketing.portlets.workflows.ajax.WfTaskAjax?cmd=executeAction\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTczMTU0", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-347573154", "createdAt": "2020-01-23T20:05:32Z", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMDowNTozM1rOFhLDDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMDowNTozM1rOFhLDDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyODMzNQ==", "bodyText": "using the same approach as the integration of the PP modals, #15074", "url": "https://github.com/dotCMS/core/pull/17866#discussion_r370328335", "createdAt": "2020-01-23T20:05:33Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/workflows/workflows_js_inc.jsp", "diffHunk": "@@ -125,89 +125,73 @@\n                     return;\r\n \t    \t\t}\r\n \t    \t\telse{\r\n-\t    \t\t\tdojo.byId(\"wfActionId\").value=this.wfActionId;\r\n \r\n-\t    \t\t\tthis.executeWorkflow();\r\n+\t    \t\t\tthis.executeWorkflow(wfId, inode);\r\n \t    \t\t}\r\n \t    \t},\r\n \t    \t\r\n-\t    \texecuteWorkflow : function (){\r\n-\t    \t\t\r\n-\t    \t\tdijit.byId('savingContentDialog').show();\r\n-\r\n-\t\t\t\tvar xhrArgs = {\r\n-\t\t\t\t\tform: dojo.byId(\"submitWorkflowTaskFrm\"),\r\n-\t\t\t\t\thandleAs: \"text\",\r\n-\t\t\t\t\tload: function(data) {\r\n-\t\t\t\t\t\tshowDotCMSSystemMessage(\"<%=LanguageUtil.get(pageContext, \"Workflow-executed\")%>\");\r\n-\r\n-                        var customEvent = document.createEvent(\"CustomEvent\");\r\n-                        customEvent.initCustomEvent(\"ng-event\", false, false,  {\r\n-                            name: \"edit-task-executed-workflow\"\r\n-                        });\r\n-                        document.dispatchEvent(customEvent);\r\n-\t\t\t\t\t\r\n-\t\t\t\t\t},\r\n-\t\t\t\t\terror: function(error) {\r\n-\t\t\t\t\t\tshowDotCMSSystemMessage(error);\r\n-\t\t\t\t\t\tdijit.byId('savingContentDialog').hide();\r\n-\t\t\t\t\t\r\n-\t\t\t\t\t}\r\n-\t\t\t\t}\r\n-\t\t\t\tdojo.xhrPost(xhrArgs);\r\n-\r\n+\t    \texecuteWorkflow : function (wfId, inode){\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTg0MDg1", "url": "https://github.com/dotCMS/core/pull/17866#pullrequestreview-347584085", "createdAt": "2020-01-23T20:25:26Z", "commit": {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1321, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}