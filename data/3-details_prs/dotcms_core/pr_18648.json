{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMzA0MjMy", "number": 18648, "title": "Additional fix for 18525", "bodyText": "This PR fixes two issues in the Edit Content screen if legacy relationships exist:\n\nA javascript error didn't allow to display related content (tiny_mce_config_default.jsp)\nArchived related content wasn't being listed", "createdAt": "2020-06-11T20:00:04Z", "url": "https://github.com/dotCMS/core/pull/18648", "merged": true, "mergeCommit": {"oid": "26db58ea5527d85de4735a52b512e9f7fe0a9274"}, "closed": true, "closedAt": "2020-06-11T23:05:51Z", "author": {"login": "nollymar"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqTvnBAH2gAyNDMzMzA0MjMyOmM2YjAxMTBmMDI0ZTdmZjUwNWFlNjg0NWU5MTgyOTNmNDhkMjE1ZmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqVO4rAFqTQyOTMwNDY5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6b0110f024e7ff505ae6845e918293f48d215fa", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/c6b0110f024e7ff505ae6845e918293f48d215fa", "committedDate": "2020-06-11T19:51:06Z", "message": "#18525 Fixing issue that prevented archived related content being retrieved. This change only affects legacy relationship"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b336fa2c82ae817882e27adbd744bc294743d1ca", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/b336fa2c82ae817882e27adbd744bc294743d1ca", "committedDate": "2020-06-11T19:51:58Z", "message": "#18525 Fixing JS error that prevented legacy relationships being rendered in Edit Contentlet portlet"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MjU0MTY2", "url": "https://github.com/dotCMS/core/pull/18648#pullrequestreview-429254166", "createdAt": "2020-06-11T20:09:03Z", "commit": {"oid": "b336fa2c82ae817882e27adbd744bc294743d1ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMDowOTowM1rOGis3xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMDowOTowM1rOGis3xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAzOTk0Mw==", "bodyText": "the checkout already nulls the inode", "url": "https://github.com/dotCMS/core/pull/18648#discussion_r439039943", "createdAt": "2020-06-11T20:09:03Z", "author": {"login": "dsilvam"}, "path": "dotCMS/src/integration-test/java/com/dotcms/content/elasticsearch/business/ESContentFactoryImplTest.java", "diffHunk": "@@ -734,4 +734,121 @@ public void test_translateQueryWithLicense(){\n         assertFalse(\n                 translatedQuery.getQuery().contains(\"-basetype:\" + BaseContentType.FORM.getType()));\n     }\n+\n+    /**\n+     * Method to test: {@link ESContentFactoryImpl#findContentletByIdentifierAnyLanguage(String)}\n+     * Given Scenario: Happy path to get a contentlet given its identifier regardless of the language\n+     * ExpectedResult: The method should return a contentlet\n+     *\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_findContentletByIdentifierAnyLanguage()\n+            throws DotSecurityException, DotDataException {\n+\n+        final ContentletAPI contentletAPI = APILocator.getContentletAPI();\n+        final User user = APILocator.systemUser();\n+        final Language language1 = new LanguageDataGen().nextPersisted();\n+        final Language language2 = new LanguageDataGen().nextPersisted();\n+\n+        final ContentType bannerLikeContentType = TestDataUtils.getBannerLikeContentType();\n+\n+        final Contentlet banner1 = TestDataUtils\n+                .getBannerLikeContent(true, language1.getId(), bannerLikeContentType.id(), null);\n+\n+        Contentlet banner2 = contentletAPI.checkout(banner1.getInode(), APILocator.systemUser(), false);\n+\n+        banner2.setLanguageId(language2.getId());\n+        banner2.setInode(\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b336fa2c82ae817882e27adbd744bc294743d1ca"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faa47bd32525d698974dbb4f72dc3d0fff2ee7c6", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/faa47bd32525d698974dbb4f72dc3d0fff2ee7c6", "committedDate": "2020-06-11T20:30:16Z", "message": "#18525 Removing unnecessary set of inode. Code review suggestion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5Mjc1ODk4", "url": "https://github.com/dotCMS/core/pull/18648#pullrequestreview-429275898", "createdAt": "2020-06-11T20:44:33Z", "commit": {"oid": "faa47bd32525d698974dbb4f72dc3d0fff2ee7c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5Mjc4Nzg1", "url": "https://github.com/dotCMS/core/pull/18648#pullrequestreview-429278785", "createdAt": "2020-06-11T20:49:31Z", "commit": {"oid": "faa47bd32525d698974dbb4f72dc3d0fff2ee7c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MzA0Njkw", "url": "https://github.com/dotCMS/core/pull/18648#pullrequestreview-429304690", "createdAt": "2020-06-11T21:35:10Z", "commit": {"oid": "faa47bd32525d698974dbb4f72dc3d0fff2ee7c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 929, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}