{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0NTczODY1", "number": 17988, "title": "Issue 16565 dotasset", "bodyText": "Adding a new base content type called dotAsset, which is basically a binary without path", "createdAt": "2020-02-12T22:35:35Z", "url": "https://github.com/dotCMS/core/pull/17988", "merged": true, "mergeCommit": {"oid": "e7d516ed24b7a13e8e74911baf74b00acfab8006"}, "closed": true, "closedAt": "2020-02-21T16:40:27Z", "author": {"login": "jdotcms"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA0Y5CAH2gAyMzc0NTczODY1OjcyNGI4NWVhMGNkZTQyZWI2OWIxYmY5YzgzZGFlNGNlMGU0ZDdmOTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGOEPkAFqTM2MjA2NzY0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "724b85ea0cde42eb69b1bf9c83dae4ce0e4d7f91", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/724b85ea0cde42eb69b1bf9c83dae4ce0e4d7f91", "committedDate": "2020-02-03T22:08:20Z", "message": "#16565 first draft of the dotAsset content type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35bf0c8598b0e5ab80a3253abb4a8e70787d8831", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/35bf0c8598b0e5ab80a3253abb4a8e70787d8831", "committedDate": "2020-02-04T04:03:17Z", "message": "#16565 now the tags is also removable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25a59cd4e90a6d1ebbd572786f03decc3a27ae0e", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/25a59cd4e90a6d1ebbd572786f03decc3a27ae0e", "committedDate": "2020-02-04T16:05:07Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-16565-dotasset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c9132235406d651988806a2ea172401ef122d18", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/0c9132235406d651988806a2ea172401ef122d18", "committedDate": "2020-02-04T18:44:31Z", "message": "#16565 changes after review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44e82b28a25f517544f115beb578dd203c7e6cd", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/b44e82b28a25f517544f115beb578dd203c7e6cd", "committedDate": "2020-02-12T15:58:24Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-16565-dotasset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5760b938cfc980c6e144ca6afb68828dc94511dd", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/5760b938cfc980c6e144ca6afb68828dc94511dd", "committedDate": "2020-02-12T22:34:53Z", "message": "#16565 added a new base type and content type dotAsset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a62dea4ca7e0308489f4f48e198e7324de299474", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/a62dea4ca7e0308489f4f48e198e7324de299474", "committedDate": "2020-02-12T22:50:17Z", "message": "#16565 adding the support for the graphql"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac3405b6a30cf3c65aa42781579a50e15271ef22", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/ac3405b6a30cf3c65aa42781579a50e15271ef22", "committedDate": "2020-02-13T16:04:03Z", "message": "#16565 added codacy feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20", "author": {"user": {"login": "jdotcms", "name": "Jonathan"}}, "url": "https://github.com/dotCMS/core/commit/a3ae160091a2fc5780071d873f53f4ee760f6c20", "committedDate": "2020-02-13T22:25:24Z", "message": "#16565 adding unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTk5OTI4", "url": "https://github.com/dotCMS/core/pull/17988#pullrequestreview-358599928", "createdAt": "2020-02-13T22:31:52Z", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjozMTo1MlrOFpl4zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjozMTo1MlrOFpl4zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NjY4NA==", "bodyText": "Issue found: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/17988#discussion_r379156684", "createdAt": "2020-02-13T22:31:52Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task05210CreateDefaultDotAssetTest.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.common.db.DotConnect;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.exception.DotDataException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.sql.SQLException;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+public class Task05210CreateDefaultDotAssetTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTk5OTQz", "url": "https://github.com/dotCMS/core/pull/17988#pullrequestreview-358599943", "createdAt": "2020-02-13T22:31:54Z", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjozMTo1NFrOFpl42A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjozMTo1NFrOFpl42A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1NjY5Ng==", "bodyText": "Issue found: Avoid empty catch blocks", "url": "https://github.com/dotCMS/core/pull/17988#discussion_r379156696", "createdAt": "2020-02-13T22:31:54Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task05210CreateDefaultDotAssetTest.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.common.db.DotConnect;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.exception.DotDataException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.sql.SQLException;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+public class Task05210CreateDefaultDotAssetTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {\n+        // Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    private void removeConstraintIfAny() throws DotDataException {\n+        try {\n+            DbConnectionFactory.getConnection().setAutoCommit(true);\n+        } catch (SQLException e) {\n+            throw new DotDataException(e.getMessage(), e);\n+        }\n+\n+        //Certain db engines store unique constraints as indices\n+        final String [] fieldInodes = Task05210CreateDefaultDotAsset.DOTASSET_VARIABLE_FIELD_INODES;\n+        for (final String fieldInode : fieldInodes) {\n+            try {\n+                new DotConnect().setSQL(\"delete from field where inode = ?\")\n+                        .addParam(fieldInode).loadResult();\n+            } catch (DotDataException e) {\n+                //Nah.\n+            }\n+        }\n+\n+        for (final String fieldInode : fieldInodes) {\n+            try {\n+                new DotConnect().setSQL(\"delete from inode where inode = ?\")\n+                        .addParam(fieldInode).loadResult();\n+            } catch (DotDataException e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MDgzNTg4", "url": "https://github.com/dotCMS/core/pull/17988#pullrequestreview-359083588", "createdAt": "2020-02-14T16:57:07Z", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxOTYyMTU1", "url": "https://github.com/dotCMS/core/pull/17988#pullrequestreview-361962155", "createdAt": "2020-02-20T14:49:31Z", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMDY3NjQ5", "url": "https://github.com/dotCMS/core/pull/17988#pullrequestreview-362067649", "createdAt": "2020-02-20T16:52:56Z", "commit": {"oid": "a3ae160091a2fc5780071d873f53f4ee760f6c20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1399, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}