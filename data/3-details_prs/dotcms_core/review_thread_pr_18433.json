{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMjE4ODA0", "number": 18433, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjozMjo0N1rOD5MHnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToyOFrOD5MTKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjkzOTgzOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjozMjo0N1rOGQUmeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjozMjo0N1rOGQUmeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2NzkyOA==", "bodyText": "remove", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419767928", "createdAt": "2020-05-04T22:32:47Z", "author": {"login": "alfredo-dotcms"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "diffHunk": "@@ -368,10 +375,30 @@ var cmsfile=null;\n \t\t\t}else if(tinyConf.plugins != undefined ){\r\n \t\t\t    tinyConf.plugins=tinyConf.plugins.replace(\"compat3x\",\"\");\r\n \t\t\t}\r\n-            console.log(textAreaId, tinyConf );\r\n+            console.log(textAreaId, tinyConf);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjk2ODczOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field.jsp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToxMlrOGQU3mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTowMzoyMVrOGQgjAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc3MjMxNA==", "bodyText": "why not the dot-asset-drop-zone wrap the textarea ?", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419772314", "createdAt": "2020-05-04T22:45:12Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field.jsp", "diffHunk": "@@ -236,10 +236,22 @@\n         %>\n         <div class=\"wysiwyg-wrapper\">\n             <div id=\"<%=field.getVelocityVarName()%>aceEditor\" class=\"classAce aceTall\" style=\"display: none\"></div>\n-            <textarea <%= isReadOnly?\"readonly=\\\"readonly\\\"\":\"\" %>\n-                    class=\"editWYSIWYGField aceText aceTall\" \n-                    name=\"<%=field.getFieldContentlet()%>\"\n-                    id=\"<%=field.getVelocityVarName()%>\"><%=UtilMethods.htmlifyString(textValue)%></textarea>\n+\n+                <style type=\"text/css\">\n+                   dot-asset-drop-zone {\n+                     width: 100%;\n+                     height: 91%;\n+                     position: absolute;\n+                     z-index: 1;\n+                     pointer-events: none;\n+                   }\n+                </style>\n+                <dot-asset-drop-zone id=\"dot-asset-drop-zone-<%=field.getVelocityVarName()%>\"></dot-asset-drop-zone>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk2MzY1MA==", "bodyText": "I understand this was its intended usage, however, when wrapping the textarea with it I had issues with pointer-events in the editor. If this is a problem please let me know.\nRelated \n  \n    \n      core/dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp\n    \n    \n        Lines 381 to 393\n      in\n      f6352f9\n    \n    \n    \n    \n\n        \n          \n           \t\t\t  tinyConf = { \n        \n\n        \n          \n           \t\t\t    ...tinyConf, \n        \n\n        \n          \n           \t\t\t    init_instance_callback: (editor) => { \n        \n\n        \n          \n           \t\t\t      let dropZone = document.getElementById( \n        \n\n        \n          \n           \t\t\t        `dot-asset-drop-zone-${textAreaId}` \n        \n\n        \n          \n           \t\t\t      ); \n        \n\n        \n          \n           \t\t\t      editor.on(\"dragover\", function (e) { \n        \n\n        \n          \n           \t\t\t        dropZone.style.pointerEvents = \"all\"; \n        \n\n        \n          \n           \t\t\t      }); \n        \n\n        \n          \n           \t\t\t      editor.dom.bind(document, \"dragleave\", function (e) { \n        \n\n        \n          \n           \t\t\t        dropZone.style.pointerEvents = \"none\"; \n        \n\n        \n          \n           \t\t\t        return false; \n        \n\n        \n          \n           \t\t\t      });", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419963650", "createdAt": "2020-05-05T09:03:21Z", "author": {"login": "ivorpad"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field.jsp", "diffHunk": "@@ -236,10 +236,22 @@\n         %>\n         <div class=\"wysiwyg-wrapper\">\n             <div id=\"<%=field.getVelocityVarName()%>aceEditor\" class=\"classAce aceTall\" style=\"display: none\"></div>\n-            <textarea <%= isReadOnly?\"readonly=\\\"readonly\\\"\":\"\" %>\n-                    class=\"editWYSIWYGField aceText aceTall\" \n-                    name=\"<%=field.getFieldContentlet()%>\"\n-                    id=\"<%=field.getVelocityVarName()%>\"><%=UtilMethods.htmlifyString(textValue)%></textarea>\n+\n+                <style type=\"text/css\">\n+                   dot-asset-drop-zone {\n+                     width: 100%;\n+                     height: 91%;\n+                     position: absolute;\n+                     z-index: 1;\n+                     pointer-events: none;\n+                   }\n+                </style>\n+                <dot-asset-drop-zone id=\"dot-asset-drop-zone-<%=field.getVelocityVarName()%>\"></dot-asset-drop-zone>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc3MjMxNA=="}, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjk2OTM3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToyOFrOGQU4Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToyOFrOGQU4Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc3MjQxOA==", "bodyText": "remove", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419772418", "createdAt": "2020-05-04T22:45:28Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "diffHunk": "@@ -368,10 +375,30 @@ var cmsfile=null;\n \t\t\t}else if(tinyConf.plugins != undefined ){\r\n \t\t\t    tinyConf.plugins=tinyConf.plugins.replace(\"compat3x\",\"\");\r\n \t\t\t}\r\n-            console.log(textAreaId, tinyConf );\r\n+            console.log(textAreaId, tinyConf);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2290, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}