{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMzg0NDQz", "number": 19250, "title": "#19210 Generating _dotraw and _text fields when a mapping is put before a reindex is run or a field is added to a content type", "bodyText": "With these changes we are setting in advance an index mapping for _dotraw and _text fields (if needed). As the _dotraw fields were not being generated when a field was added to a content type, an exception arose when sorting by an empty field in the Content Search.", "createdAt": "2020-09-10T04:49:26Z", "url": "https://github.com/dotCMS/core/pull/19250", "merged": true, "mergeCommit": {"oid": "d815526cde56241771a707a08f9916d06fbc5485"}, "closed": true, "closedAt": "2020-09-10T22:58:39Z", "author": {"login": "nollymar"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHZUYyAH2gAyNDgzMzg0NDQzOmJiZDYwZDI0MThlNmUzMjE5Njc5Y2Y5ZWVmYTEzODZiMzMzYmU3MGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHm2DIAFqTQ4NjI4NzAxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/bbd60d2418e6e3219679cf9eefa1386b333be70e", "committedDate": "2020-09-10T04:44:36Z", "message": "#19210 Generating _dotraw and _text fields when a mapping is put before a reindex is run or a field is added to a content type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjY4MTIw", "url": "https://github.com/dotCMS/core/pull/19250#pullrequestreview-486268120", "createdAt": "2020-09-10T20:01:22Z", "commit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjY5NTg3", "url": "https://github.com/dotCMS/core/pull/19250#pullrequestreview-486269587", "createdAt": "2020-09-10T20:03:30Z", "commit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMDowMzozMFrOHQDzng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMDowMzozMFrOHQDzng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjYwMTYzMA==", "bodyText": "I think a simple list return type would do better ... instead of an optional list. I mean list has an empty state", "url": "https://github.com/dotCMS/core/pull/19250#discussion_r486601630", "createdAt": "2020-09-10T20:03:30Z", "author": {"login": "fabrizzio-dotCMS"}, "path": "dotCMS/src/main/java/com/dotcms/content/elasticsearch/util/ESMappingUtilHelper.java", "diffHunk": "@@ -352,7 +355,7 @@ private void addMappingForFieldIfNeeded(\n      * @param fieldVariableName\n      * @return A map with just one element\n      */\n-    private Optional<Tuple2<String, JSONObject>> getMappingForField(final Field field, final String fieldVariableName)\n+    private Optional<List<Tuple2<String, JSONObject>>> getMappingForField(final Field field, final String fieldVariableName)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2Mjc0MDE2", "url": "https://github.com/dotCMS/core/pull/19250#pullrequestreview-486274016", "createdAt": "2020-09-10T20:10:30Z", "commit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2Mjg3MDE3", "url": "https://github.com/dotCMS/core/pull/19250#pullrequestreview-486287017", "createdAt": "2020-09-10T20:30:08Z", "commit": {"oid": "bbd60d2418e6e3219679cf9eefa1386b333be70e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1845, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}