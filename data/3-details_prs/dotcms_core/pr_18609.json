{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NTIwODM1", "number": 18609, "title": "Issue 18598 invalid template npe", "bodyText": "Fix for NPE when PP a page when the template was already deleted(check if the template is not null), an Integration Test for this case was created.\nAdd annotations for the new filter methods.\nChange calls of ES to DB calls when doing content management functions.", "createdAt": "2020-06-05T15:13:39Z", "url": "https://github.com/dotCMS/core/pull/18609", "merged": true, "mergeCommit": {"oid": "14bdbd0252dd01eb2c744c18533040be77823c09"}, "closed": true, "closedAt": "2020-06-10T15:34:52Z", "author": {"login": "erickgonzalez"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn97K3AH2gAyNDI4NTIwODM1OjEyNzIzOWZhYzg2MDA2YzE1OGQzNTU0N2FlZGYxZjJiODRiM2MyYTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp7DbLgFqTQyODE1MDQ0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "127239fac86006c158d35547aedf1f2b84b3c2a5", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/127239fac86006c158d35547aedf1f2b84b3c2a5", "committedDate": "2020-06-04T13:17:58Z", "message": "#18598 quick fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27d550319df10e0bec4f4818f69005b627e0a834", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/27d550319df10e0bec4f4818f69005b627e0a834", "committedDate": "2020-06-04T13:26:39Z", "message": "#18598 more cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c17b7f2789e8276c9fda653b43a084ddbbfb7dd", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/5c17b7f2789e8276c9fda653b43a084ddbbfb7dd", "committedDate": "2020-06-05T15:06:15Z", "message": "#18598 IT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzUyOTY5", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-425752969", "createdAt": "2020-06-06T16:44:31Z", "commit": {"oid": "5c17b7f2789e8276c9fda653b43a084ddbbfb7dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDQyMTE1", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-426442115", "createdAt": "2020-06-08T17:05:43Z", "commit": {"oid": "5c17b7f2789e8276c9fda653b43a084ddbbfb7dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MTgyOTE4", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-427182918", "createdAt": "2020-06-09T14:02:16Z", "commit": {"oid": "5c17b7f2789e8276c9fda653b43a084ddbbfb7dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1e79e716f22a93d2868c40212f8b6e92356f69e", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/f1e79e716f22a93d2868c40212f8b6e92356f69e", "committedDate": "2020-06-10T14:38:54Z", "message": "Merge branch 'master' of github.com:dotCMS/core into issue-18598-invalid-template-npe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c", "author": {"user": {"login": "erickgonzalez", "name": null}}, "url": "https://github.com/dotCMS/core/commit/1659be4e22baf13949040c55767c112f3f137e5c", "committedDate": "2020-06-10T14:39:52Z", "message": "#18598 change resource to return all info of filters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MTUwMzk2", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-428150396", "createdAt": "2020-06-10T15:05:03Z", "commit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowM1rOGh5TmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowM1rOGh5TmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTA5Ng==", "bodyText": "Issue found: Avoid variables with short names like id", "url": "https://github.com/dotCMS/core/pull/18609#discussion_r438195096", "createdAt": "2020-06-10T15:05:03Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/publisher/util/DependencyManager.java", "diffHunk": "@@ -816,15 +816,16 @@ private void setHTMLPagesDependencies(final Set<String> idsToWork,final Publishe\n \n \t\t\t\t\t\tfor (final MultiTree multiTree : treeList) {\n \t\t\t\t\t\t\tfinal String contentIdentifier = multiTree.getChild();\n-\t\t\t\t\t\t\tfinal List<Contentlet> contentList = APILocator.getContentletAPI()\n-\t\t\t\t\t\t\t\t\t.search(\"+identifier:\" + contentIdentifier, 0, 0, \"moddate\",\n-\t\t\t\t\t\t\t\t\t\t\tuser, false);\n+\t\t\t\t\t\t\tfinal Identifier id = APILocator.getIdentifierAPI().find(contentIdentifier);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MTUwNDEw", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-428150410", "createdAt": "2020-06-10T15:05:04Z", "commit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowNVrOGh5ToA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowNVrOGh5ToA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTEwNA==", "bodyText": "Issue found: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/18609#discussion_r438195104", "createdAt": "2020-06-10T15:05:05Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/enterprise/publishing/remote/DependencyBundlerTest.java", "diffHunk": "@@ -565,5 +568,34 @@ public void testGenerateBundleWithFilter_RelationshipsFalse_ChildcontentletChild\n         Assert.assertTrue(listOfAssetsWithNewFilter.getRelationships().isEmpty());\n     }\n \n+    /**\n+     * Method to test: {@link DependencyManager#setDependencies()}\n+     * Given Scenario: If a page has a Template that was deleted, we should be able to generate the bundle without issues.\n+     * ExpectedResult: The bundle should be generated without issues and the page added to the bundle.\n+     */\n+    @Test\n+    public void Test_GenerateBundle_PageWithTemplateDeleted_PageSuccessfullyAddedToBundle() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MTUwNDI0", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-428150424", "createdAt": "2020-06-10T15:05:05Z", "commit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowNlrOGh5TrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowNlrOGh5TrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTExNw==", "bodyText": "Issue found: Avoid unused imports such as 'com.dotcms.content.elasticsearch.business.ESContentFactoryImpl'", "url": "https://github.com/dotCMS/core/pull/18609#discussion_r438195117", "createdAt": "2020-06-10T15:05:06Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/enterprise/publishing/remote/DependencyBundlerTest.java", "diffHunk": "@@ -4,12 +4,14 @@\n \n import com.dotcms.IntegrationTestBase;\n import com.dotcms.LicenseTestUtil;\n+import com.dotcms.content.elasticsearch.business.ESContentFactoryImpl;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MTUwNDQy", "url": "https://github.com/dotCMS/core/pull/18609#pullrequestreview-428150442", "createdAt": "2020-06-10T15:05:07Z", "commit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowN1rOGh5Tvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTowNTowN1rOGh5Tvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTEzNQ==", "bodyText": "Issue found: Avoid unused imports such as 'com.dotcms.datagen.ContentletDataGen'", "url": "https://github.com/dotCMS/core/pull/18609#discussion_r438195135", "createdAt": "2020-06-10T15:05:07Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/enterprise/publishing/remote/DependencyBundlerTest.java", "diffHunk": "@@ -4,12 +4,14 @@\n \n import com.dotcms.IntegrationTestBase;\n import com.dotcms.LicenseTestUtil;\n+import com.dotcms.content.elasticsearch.business.ESContentFactoryImpl;\n import com.dotcms.contenttype.model.field.Field;\n import com.dotcms.contenttype.model.field.FieldBuilder;\n import com.dotcms.contenttype.model.field.RelationshipField;\n import com.dotcms.contenttype.model.type.BaseContentType;\n import com.dotcms.contenttype.model.type.ContentType;\n import com.dotcms.datagen.ContainerDataGen;\n+import com.dotcms.datagen.ContentletDataGen;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659be4e22baf13949040c55767c112f3f137e5c"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 909, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}