{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMjE4ODA0", "number": 18433, "title": "#18401: Implements the Drop Zone web component in WYSIWYG", "bodyText": "", "createdAt": "2020-05-04T22:29:16Z", "url": "https://github.com/dotCMS/core/pull/18433", "merged": true, "mergeCommit": {"oid": "6a585e45bbc442fd44d2ef4e63fd81b117d7088a"}, "closed": true, "closedAt": "2020-05-13T16:46:45Z", "author": {"login": "ivorpad"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceHDycgH2gAyNDEzMjE4ODA0Ojg2MmJmNjdkMTVhNDVkMGU4MTFhNjkxYjhiNDhkOGQwMTc1Y2MxZWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcepWAIgFqTQwNjY1NTM0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "862bf67d15a45d0e811a691b8b48d8d0175cc1ef", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/862bf67d15a45d0e811a691b8b48d8d0175cc1ef", "committedDate": "2020-05-04T22:17:17Z", "message": "feat: implemented the drag & drop webcomponent in the WYSIWYG editor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/7abe9b40e8f549c5a225726b89800ff74aa803de", "committedDate": "2020-05-04T22:25:05Z", "message": "fixed a typo and incread the height"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzkzNjg1", "url": "https://github.com/dotCMS/core/pull/18433#pullrequestreview-405393685", "createdAt": "2020-05-04T22:32:47Z", "commit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjozMjo0N1rOGQUmeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjozMjo0N1rOGQUmeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2NzkyOA==", "bodyText": "remove", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419767928", "createdAt": "2020-05-04T22:32:47Z", "author": {"login": "alfredo-dotcms"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "diffHunk": "@@ -368,10 +375,30 @@ var cmsfile=null;\n \t\t\t}else if(tinyConf.plugins != undefined ){\r\n \t\t\t    tinyConf.plugins=tinyConf.plugins.replace(\"compat3x\",\"\");\r\n \t\t\t}\r\n-            console.log(textAreaId, tinyConf );\r\n+            console.log(textAreaId, tinyConf);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1Mzk4ODUy", "url": "https://github.com/dotCMS/core/pull/18433#pullrequestreview-405398852", "createdAt": "2020-05-04T22:45:11Z", "commit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToxMlrOGQU3mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToxMlrOGQU3mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc3MjMxNA==", "bodyText": "why not the dot-asset-drop-zone wrap the textarea ?", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419772314", "createdAt": "2020-05-04T22:45:12Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field.jsp", "diffHunk": "@@ -236,10 +236,22 @@\n         %>\n         <div class=\"wysiwyg-wrapper\">\n             <div id=\"<%=field.getVelocityVarName()%>aceEditor\" class=\"classAce aceTall\" style=\"display: none\"></div>\n-            <textarea <%= isReadOnly?\"readonly=\\\"readonly\\\"\":\"\" %>\n-                    class=\"editWYSIWYGField aceText aceTall\" \n-                    name=\"<%=field.getFieldContentlet()%>\"\n-                    id=\"<%=field.getVelocityVarName()%>\"><%=UtilMethods.htmlifyString(textValue)%></textarea>\n+\n+                <style type=\"text/css\">\n+                   dot-asset-drop-zone {\n+                     width: 100%;\n+                     height: 91%;\n+                     position: absolute;\n+                     z-index: 1;\n+                     pointer-events: none;\n+                   }\n+                </style>\n+                <dot-asset-drop-zone id=\"dot-asset-drop-zone-<%=field.getVelocityVarName()%>\"></dot-asset-drop-zone>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1Mzk4OTY0", "url": "https://github.com/dotCMS/core/pull/18433#pullrequestreview-405398964", "createdAt": "2020-05-04T22:45:27Z", "commit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToyOFrOGQU4Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjo0NToyOFrOGQU4Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc3MjQxOA==", "bodyText": "remove", "url": "https://github.com/dotCMS/core/pull/18433#discussion_r419772418", "createdAt": "2020-05-04T22:45:28Z", "author": {"login": "hmoreras"}, "path": "dotCMS/src/main/webapp/html/portlet/ext/contentlet/field/edit_field_js.jsp", "diffHunk": "@@ -368,10 +375,30 @@ var cmsfile=null;\n \t\t\t}else if(tinyConf.plugins != undefined ){\r\n \t\t\t    tinyConf.plugins=tinyConf.plugins.replace(\"compat3x\",\"\");\r\n \t\t\t}\r\n-            console.log(textAreaId, tinyConf );\r\n+            console.log(textAreaId, tinyConf);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abe9b40e8f549c5a225726b89800ff74aa803de"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19d45fbdac55b88732dbaee6f7c3f8acd37ac596", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/19d45fbdac55b88732dbaee6f7c3f8acd37ac596", "committedDate": "2020-05-05T08:46:54Z", "message": "removed console.log"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bf5ff2476e764ba2f1fc5dad90dd455268d8fb", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/92bf5ff2476e764ba2f1fc5dad90dd455268d8fb", "committedDate": "2020-05-05T08:59:40Z", "message": "clean up formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6352f95de7842889b29490cca8246088ceedf13", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/f6352f95de7842889b29490cca8246088ceedf13", "committedDate": "2020-05-05T09:01:32Z", "message": "formatting issues again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODIxOTAy", "url": "https://github.com/dotCMS/core/pull/18433#pullrequestreview-405821902", "createdAt": "2020-05-05T14:05:41Z", "commit": {"oid": "f6352f95de7842889b29490cca8246088ceedf13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b17d67f5b5519f086e8286756bac879617c6f30", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/4b17d67f5b5519f086e8286756bac879617c6f30", "committedDate": "2020-05-05T17:01:30Z", "message": "Moved the CSS to dotcms-dojo-theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a4c55afdb09c5c8fc3acbfadc00fe32aebe46c4", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/8a4c55afdb09c5c8fc3acbfadc00fe32aebe46c4", "committedDate": "2020-05-05T17:10:09Z", "message": "Added the compiled dotcms.css file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51d3f8be84530f951c05c557745374dc3ae651fe", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/51d3f8be84530f951c05c557745374dc3ae651fe", "committedDate": "2020-05-05T22:45:13Z", "message": "Assets can now be uploaded by folder or host"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "553b0624d77d6fec0868aec8d96ba822eef2754e", "author": {"user": {"login": "ivorpad", "name": "Ivor"}}, "url": "https://github.com/dotCMS/core/commit/553b0624d77d6fec0868aec8d96ba822eef2754e", "committedDate": "2020-05-05T23:07:49Z", "message": "Improved the conditions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjU1MzQx", "url": "https://github.com/dotCMS/core/pull/18433#pullrequestreview-406655341", "createdAt": "2020-05-06T14:13:57Z", "commit": {"oid": "553b0624d77d6fec0868aec8d96ba822eef2754e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1075, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}