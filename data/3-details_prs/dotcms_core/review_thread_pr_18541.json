{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMDM1MTIz", "number": 18541, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoyNzo1NFrOD_swBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzo0Mzo0MFrOEAGYgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIwMDcxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoyNzo1NFrOGag6uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToxMjo0MlrOGashLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA==", "bodyText": "this is not thread safe, is it suppose to be thread safe?", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430455480", "createdAt": "2020-05-26T14:27:54Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -76,28 +76,28 @@\n \n     public static OSGIUtil getInstance() {\n         if (instance == null) {\n-            instance = new OSGIUtil();\n+            instance = new OSGIUtil(Config.CONTEXT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7b71ead3f3e6d1811d1a63073c7ee421ecbf550"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1ODkxOQ==", "bodyText": "meaning, we need something like a sync block and a double null check here?", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430458919", "createdAt": "2020-05-26T14:32:17Z", "author": {"login": "wezell"}, "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -76,28 +76,28 @@\n \n     public static OSGIUtil getInstance() {\n         if (instance == null) {\n-            instance = new OSGIUtil();\n+            instance = new OSGIUtil(Config.CONTEXT);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA=="}, "originalCommit": {"oid": "a7b71ead3f3e6d1811d1a63073c7ee421ecbf550"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0NTU0OA==", "bodyText": "sync block and a double null check are bad for performance\nI think the Bill Pugh Singleton is better\nhttps://www.harinathk.com/java/singleton-bill-pugh-solution-enum/", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430645548", "createdAt": "2020-05-26T19:12:42Z", "author": {"login": "freddyucv"}, "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -76,28 +76,28 @@\n \n     public static OSGIUtil getInstance() {\n         if (instance == null) {\n-            instance = new OSGIUtil();\n+            instance = new OSGIUtil(Config.CONTEXT);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA=="}, "originalCommit": {"oid": "a7b71ead3f3e6d1811d1a63073c7ee421ecbf550"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NTQwMDIwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzo0MzozOVrOGbKx5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzo0MzozOVrOGbKx5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0MTM0OA==", "bodyText": "Issue found: Use block level rather than method level synchronization", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r431141348", "createdAt": "2020-05-27T13:43:39Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -141,12 +140,13 @@ private Properties defaultProperties() {\n      * @param context The servlet context\n      * @return Framework\n      */\n-    public Framework initializeFramework(ServletContext context) {\n+    public synchronized Framework initializeFramework(ServletContext context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8fd5e9c219cd4ff649008b1e9d4186800a0538b"}, "originalPosition": 102}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NTQwMDM0OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzo0Mzo0MFrOGbKx-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMzo0Mzo0MFrOGbKx-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0MTM3MA==", "bodyText": "Issue found: Avoid unused imports such as 'com.dotcms.util.CollectionsUtils'", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r431141370", "createdAt": "2020-05-27T13:43:40Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -40,6 +29,17 @@\n import org.osgi.framework.BundleContext;\n import org.osgi.framework.ServiceReference;\n import org.osgi.framework.launch.Framework;\n+import com.dotcms.repackage.org.apache.commons.io.IOUtils;\n+import com.dotcms.util.CollectionsUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8fd5e9c219cd4ff649008b1e9d4186800a0538b"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2090, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}