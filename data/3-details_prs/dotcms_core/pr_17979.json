{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczOTA2ODI3", "number": 17979, "title": "#17965 fixing /dA", "bodyText": "Needs testing", "createdAt": "2020-02-11T22:00:08Z", "url": "https://github.com/dotCMS/core/pull/17979", "merged": true, "mergeCommit": {"oid": "9f0cb488ae07f5ea539337e2812108ca3acecf9a"}, "closed": true, "closedAt": "2020-02-24T17:45:03Z", "author": {"login": "wezell"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCHoWEAH2gAyMzczOTA2ODI3OjQ4OWU3ZGU5MjI3ZDUxMDY0OThmZmNmMWQ2N2MzMGZhNWQ2N2I3MjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHgXEtgFqTM2MzUzNzY1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "489e7de9227d5106498ffcf1d67c30fa5d67b724", "author": {"user": {"login": "wezell", "name": "Will Ezell"}}, "url": "https://github.com/dotCMS/core/commit/489e7de9227d5106498ffcf1d67c30fa5d67b724", "committedDate": "2020-02-07T23:07:20Z", "message": "#17965 fixing /dA"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNjI3MjIz", "url": "https://github.com/dotCMS/core/pull/17979#pullrequestreview-361627223", "createdAt": "2020-02-20T04:33:18Z", "commit": {"oid": "489e7de9227d5106498ffcf1d67c30fa5d67b724"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2290948911f9291c75f0dff77b82247b0630430b", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/2290948911f9291c75f0dff77b82247b0630430b", "committedDate": "2020-02-21T15:16:28Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into issue-17965-make-shorty-work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb4cc0ac52cd5a1ef1d0a36fb92995bd2c7ab97d", "author": {"user": null}, "url": "https://github.com/dotCMS/core/commit/cb4cc0ac52cd5a1ef1d0a36fb92995bd2c7ab97d", "committedDate": "2020-02-24T14:25:48Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into issue-17965-make-shorty-work"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNDQzODI4", "url": "https://github.com/dotCMS/core/pull/17979#pullrequestreview-363443828", "createdAt": "2020-02-24T14:49:47Z", "commit": {"oid": "cb4cc0ac52cd5a1ef1d0a36fb92995bd2c7ab97d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNDo0OTo0N1rOFtjS3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNDo0OTo0N1rOFtjS3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMwODUxMA==", "bodyText": "Issue found: Avoid concatenating nonliterals in a StringBuffer/StringBuilder constructor or append().", "url": "https://github.com/dotCMS/core/pull/17979#discussion_r383308510", "createdAt": "2020-02-24T14:49:47Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotmarketing/servlets/ShortyServlet.java", "diffHunk": "@@ -322,30 +322,23 @@ private void addImagePath(final int weight,\n                             final Optional<FocalPoint> focalPoint,\n                             final int cropWidth,\n                             final int cropHeight ) {\n-      if(isImage) {\n-\n-          pathBuilder.append(\"/filter/\");\n-          pathBuilder.append(weight+height > 0? \"Resize,\"      : StringPool.BLANK);\n-          if(quality>0) {\n-            pathBuilder.append(\"Quality/quality_q/\" + quality);\n-          }else {\n-            pathBuilder.append(jpeg ? \"Jpeg/jpeg_q/75\"            : StringPool.BLANK);\n-            pathBuilder.append(webp ? \"WebP/webp_q/75\"        : StringPool.BLANK);\n-            pathBuilder.append(jpeg && jpegp ? \"/jpeg_p/1\"        : StringPool.BLANK);\n-          }\n-          pathBuilder.append(weight > 0? \"/resize_w/\" + weight : StringPool.BLANK);\n-          pathBuilder.append(height > 0? \"/resize_h/\" + height : StringPool.BLANK);\n-          if(focalPoint.isPresent()) {\n-              pathBuilder.append(\"/fp/\" + focalPoint.get());\n-          }\n-          if(cropWidth>0) {\n-              pathBuilder.append(\"/crop_w/\" + cropWidth);\n-          }\n-          if(cropHeight>0) {\n-              pathBuilder.append(\"/crop_h/\" + cropHeight);\n-          }\n-          \n-      }\n+        if (isImage) {\n+\n+            if (quality > 0) {\n+                pathBuilder.append(\"/quality_q/\" + quality);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb4cc0ac52cd5a1ef1d0a36fb92995bd2c7ab97d"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTM3NjU5", "url": "https://github.com/dotCMS/core/pull/17979#pullrequestreview-363537659", "createdAt": "2020-02-24T16:45:43Z", "commit": {"oid": "cb4cc0ac52cd5a1ef1d0a36fb92995bd2c7ab97d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1396, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}