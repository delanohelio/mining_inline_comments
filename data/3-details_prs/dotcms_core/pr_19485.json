{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3ODU4ODM1", "number": 19485, "title": "#19319 improvement", "bodyText": "", "createdAt": "2020-10-21T20:56:37Z", "url": "https://github.com/dotCMS/core/pull/19485", "merged": true, "mergeCommit": {"oid": "4e8a1d1e029869cf6c80b21d320a46cc0a0d0027"}, "closed": true, "closedAt": "2020-10-26T17:39:47Z", "author": {"login": "freddyucv"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUyyziAH2gAyNTA3ODU4ODM1OmM2M2FlZjU3NTgyNmI0ODNlNDVhMzcyZGE2M2FhMWUwNmViNThjZWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWWRZcgFqTUxNjkwOTk5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c63aef575826b483e45a372da63aa1e06eb58cec", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/c63aef575826b483e45a372da63aa1e06eb58cec", "committedDate": "2020-10-21T19:46:28Z", "message": "#19319 improvment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd051d81c741dea140611af64c2b1beddf5c7729", "author": {"user": {"login": "freddyucv", "name": "Freddy Rodriguez"}}, "url": "https://github.com/dotCMS/core/commit/cd051d81c741dea140611af64c2b1beddf5c7729", "committedDate": "2020-10-21T22:12:28Z", "message": "waiting 5 minutes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MjQwNjU3", "url": "https://github.com/dotCMS/core/pull/19485#pullrequestreview-514240657", "createdAt": "2020-10-21T22:42:19Z", "commit": {"oid": "cd051d81c741dea140611af64c2b1beddf5c7729"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8604884cc28de20af24489e7aa432b6b6179340", "author": {"user": {"login": "dsilvam", "name": "Daniel Silva"}}, "url": "https://github.com/dotCMS/core/commit/d8604884cc28de20af24489e7aa432b6b6179340", "committedDate": "2020-10-26T15:31:22Z", "message": "Update MaintenanceResource.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTA5OTc0", "url": "https://github.com/dotCMS/core/pull/19485#pullrequestreview-516909974", "createdAt": "2020-10-26T15:40:28Z", "commit": {"oid": "d8604884cc28de20af24489e7aa432b6b6179340"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNTo0MDoyOFrOHoVqhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNTo0MDoyOFrOHoVqhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA2MDAzNg==", "bodyText": "Codacy found an issue: System.exit() should not be used in J2EE/JEE apps", "url": "https://github.com/dotCMS/core/pull/19485#discussion_r512060036", "createdAt": "2020-10-26T15:40:28Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/maintenance/MaintenanceResource.java", "diffHunk": "@@ -65,15 +68,22 @@ public final Response shutdown(@Context final HttpServletRequest request,\n                         .rejectWhenNoUser(true).requiredPortlet(\"maintenance\").init();\n \n \n-        Logger.info(this.getClass(), \"User:\" + initData.getUser() + \" is shutting down dotCMS!\");\n+        Logger.info(this.getClass(), \"User:\" + initData.getUser() + \" is shutting down dotCMS!\"); \n         SecurityLogger.logInfo(this.getClass(),\n                         \"User:\" + initData.getUser() + \" is shutting down dotCMS from ip:\" + request.getRemoteAddr());\n \n         if (!Config.getBooleanProperty(\"ALLOW_DOTCMS_SHUTDOWN_FROM_CONSOLE\", true)) {\n             return Response.status(Status.FORBIDDEN).build();\n         }\n \n-        Runtime.getRuntime().exit(0);\n+        DotConcurrentFactory.getInstance()\n+                .getSubmitter()\n+                .submit(\n+                        () -> Runtime.getRuntime().exit(0),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8604884cc28de20af24489e7aa432b6b6179340"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTA5OTkx", "url": "https://github.com/dotCMS/core/pull/19485#pullrequestreview-516909991", "createdAt": "2020-10-26T15:40:29Z", "commit": {"oid": "d8604884cc28de20af24489e7aa432b6b6179340"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNTo0MDoyOVrOHoVqjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNTo0MDoyOVrOHoVqjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA2MDA0Nw==", "bodyText": "Codacy found an issue: Avoid unused imports such as 'com.dotcms.content.elasticsearch.business.ESReadOnlyMonitor'", "url": "https://github.com/dotCMS/core/pull/19485#discussion_r512060047", "createdAt": "2020-10-26T15:40:29Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rest/api/v1/maintenance/MaintenanceResource.java", "diffHunk": "@@ -1,5 +1,7 @@\n package com.dotcms.rest.api.v1.maintenance;\n \n+import com.dotcms.concurrent.DotConcurrentFactory;\n+import com.dotcms.content.elasticsearch.business.ESReadOnlyMonitor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8604884cc28de20af24489e7aa432b6b6179340"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1771, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}