{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwODAxMDQx", "number": 19423, "reviewThreads": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNVrOEsMCpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MVrOEsMDHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMDg3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNVrOHfXt5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNVrOHfXt5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ4NA==", "bodyText": "Codacy found an issue: The String literal \"            \"body\": \"## Container: Blank Container\\r\\n## This is autogenerated code that cannot be changed\\r\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\r\\n\",\\n\" appears 4 times in this file; the first occurrence is on line 42", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656484", "createdAt": "2020-10-09T20:28:25Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMDk1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNlrOHfXt7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyNlrOHfXt7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5NQ==", "bodyText": "Codacy found an issue: The String literal \"            \"owner\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 66", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656495", "createdAt": "2020-10-09T20:28:26Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMDk3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyN1rOHfXt8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyN1rOHfXt8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"drawed\": false,\\n\" appears 4 times in this file; the first occurrence is on line 50", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656497", "createdAt": "2020-10-09T20:28:27Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTAxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOFrOHfXt9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOFrOHfXt9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUwMQ==", "bodyText": "Codacy found an issue: The String literal \"            \"headCode\": null,\\n\" appears 4 times in this file; the first occurrence is on line 55", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656501", "createdAt": "2020-10-09T20:28:28Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTA1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOVrOHfXt_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODoyOVrOHfXt_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUxMQ==", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656511", "createdAt": "2020-10-09T20:28:29Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTIwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozMlrOHfXuFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozMlrOHfXuFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUzMg==", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656532", "createdAt": "2020-10-09T20:28:32Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTI4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozM1rOHfXuIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozM1rOHfXuIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU0NQ==", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656545", "createdAt": "2020-10-09T20:28:33Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTM0OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNFrOHfXuKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNFrOHfXuKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU1NQ==", "bodyText": "Codacy found an issue: The String literal \"            \"canPublish\": true,\\n\" appears 4 times in this file; the first occurrence is on line 43", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656555", "createdAt": "2020-10-09T20:28:34Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTQwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNVrOHfXuMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNVrOHfXuMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2MQ==", "bodyText": "Codacy found an issue: The String literal \"            \"title\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 72", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656561", "createdAt": "2020-10-09T20:28:35Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTQzOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNlrOHfXuOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozNlrOHfXuOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2OA==", "bodyText": "Codacy found an issue: Avoid instantiating an object just to call getClass() on it; use the .class public member instead", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656568", "createdAt": "2020-10-09T20:28:36Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTQ2OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozN1rOHfXuPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozN1rOHfXuPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Mg==", "bodyText": "Codacy found an issue: The String literal \"            \"categoryId\": \"9d11b327-9bf5-4d42-92bd-7894d56ed218\",\\n\" appears 4 times in this file; the first occurrence is on line 46", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656572", "createdAt": "2020-10-09T20:28:37Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTUwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOFrOHfXuQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOFrOHfXuQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"theme\": null,\\n\" appears 4 times in this file; the first occurrence is on line 70", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656577", "createdAt": "2020-10-09T20:28:38Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTU1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOVrOHfXuRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODozOVrOHfXuRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Mw==", "bodyText": "Codacy found an issue: The String literal \"            \"header\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 56", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656583", "createdAt": "2020-10-09T20:28:39Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTU3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MFrOHfXuSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MFrOHfXuSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Nw==", "bodyText": "Codacy found an issue: The String literal \"            \"sortOrder\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 69", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656587", "createdAt": "2020-10-09T20:28:40Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTYwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MVrOHfXuUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MVrOHfXuUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5Mg==", "bodyText": "Codacy found an issue: The String literal \"            \"countAddContainer\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 47", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656592", "createdAt": "2020-10-09T20:28:41Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTY1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MlrOHfXuVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0MlrOHfXuVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5OQ==", "bodyText": "Codacy found an issue: The String literal \"            \"showOnMenu\": true,\\n\" appears 4 times in this file; the first occurrence is on line 68", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656599", "createdAt": "2020-10-09T20:28:42Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTY4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0M1rOHfXuXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0M1rOHfXuXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYwNg==", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656606", "createdAt": "2020-10-09T20:28:43Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTczOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NFrOHfXuZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NFrOHfXuZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxMg==", "bodyText": "Codacy found an issue: The String literal \"Blank\" appears 4 times in this file; the first occurrence is on line 85", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656612", "createdAt": "2020-10-09T20:28:44Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));\n+        assertEquals(\"Blank\", map.get(\"name\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTc3OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NVrOHfXuaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NVrOHfXuaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxNw==", "bodyText": "Codacy found an issue: The String literal \"            \"modDate\": 1570214794657,\\n\" appears 4 times in this file; the first occurrence is on line 62", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656617", "createdAt": "2020-10-09T20:28:45Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTgwOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NlrOHfXubg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0NlrOHfXubg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyMg==", "bodyText": "Codacy found an issue: The String literal \"new\" appears 4 times in this file; the first occurrence is on line 84", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656622", "createdAt": "2020-10-09T20:28:46Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTg0OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0N1rOHfXucg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0N1rOHfXucg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyNg==", "bodyText": "Codacy found an issue: The String literal \"            \"deleted\": false,\\n\" appears 4 times in this file; the first occurrence is on line 49", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656626", "createdAt": "2020-10-09T20:28:47Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTg4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OFrOHfXueg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OFrOHfXueg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzNA==", "bodyText": "Codacy found an issue: The String literal \"            \"new\": false,\\n\" appears 4 times in this file; the first occurrence is on line 65", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656634", "createdAt": "2020-10-09T20:28:48Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTkxOnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OVrOHfXufw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo0OVrOHfXufw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzOQ==", "bodyText": "Codacy found an issue: The String literal \"            \"footer\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 52", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656639", "createdAt": "2020-10-09T20:28:49Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMTk4OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MFrOHfXuiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MFrOHfXuiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY0OA==", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656648", "createdAt": "2020-10-09T20:28:50Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {\n+\n+    return Config.getBooleanProperty(\"jsontool.generate.jackson\", true)?\n+            this.jacksonGenerate(s): this.jsonGenerate(s);\n+  }\n+\n+  private Object jacksonGenerate(final String s) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzcwMjA1OnYy", "diffSide": "RIGHT", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MVrOHfXukw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDoyODo1MVrOHfXukw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY1OQ==", "bodyText": "Codacy found an issue: The String literal \"            \"name\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 64", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656659", "createdAt": "2020-10-09T20:28:51Z", "author": {"login": "dev-dotcms"}, "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b50cb4db346821a9b6baade95410867c93399d"}, "originalPosition": 64}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1753, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}