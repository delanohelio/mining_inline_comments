{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzODMxODAy", "number": 1488, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxOTo1Mjo1NVrOFLaxYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxOTo1Mjo1NVrOFLaxYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NTE3MjgwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerConnection.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxOTo1Mjo1NVrOIOlFJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxOTo1Mjo1NVrOIOlFJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjE1ODUwMg==", "bodyText": "SQLServerException.USER_ACCOUNT_LOCKED == sqlex.getErrorCode() was removed, is this intentional?", "url": "https://github.com/microsoft/mssql-jdbc/pull/1488#discussion_r552158502", "createdAt": "2021-01-05T19:52:55Z", "author": {"login": "rene-ye"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerConnection.java", "diffHunk": "@@ -2477,33 +2480,20 @@ private void login(String primary, String primaryInstanceName, int primaryPortNu\n                 } else\n                     break; // leave the while loop -- we've successfully connected\n             } catch (SQLServerException sqlex) {\n-                if ((SQLServerException.LOGON_FAILED == sqlex.getErrorCode()) // actual logon failed, i.e. bad password\n-                        || (SQLServerException.PASSWORD_EXPIRED == sqlex.getErrorCode()) // actual logon failed, i.e.\n-                                                                                         // password isExpired\n-                        || (SQLServerException.USER_ACCOUNT_LOCKED == sqlex.getErrorCode()) // actual logon failed, i.e.\n-                                                                                            // user account locked\n-                        || (SQLServerException.DRIVER_ERROR_INVALID_TDS == sqlex.getDriverErrorCode()) // invalid TDS\n-                                                                                                       // received from\n-                                                                                                       // server\n-                        || (SQLServerException.DRIVER_ERROR_SSL_FAILED == sqlex.getDriverErrorCode()) // failure\n-                                                                                                      // negotiating SSL\n-                        || (SQLServerException.DRIVER_ERROR_INTERMITTENT_TLS_FAILED == sqlex.getDriverErrorCode()) // failure\n-                                                                                                                   // TLS1.2\n-                        || (SQLServerException.DRIVER_ERROR_UNSUPPORTED_CONFIG == sqlex.getDriverErrorCode()) // unsupported\n-                                                                                                              // configuration\n-                                                                                                              // (e.g.\n-                                                                                                              // Sphinx,\n-                                                                                                              // invalid\n-                                                                                                              // packet\n-                                                                                                              // size,\n-                                                                                                              // etc.)\n-                        || (SQLServerException.ERROR_SOCKET_TIMEOUT == sqlex.getDriverErrorCode()) // socket timeout\n-                                                                                                   // ocurred\n-                        || timerHasExpired(timerExpire)// no more time to try again\n-                        || (state.equals(State.Connected) && !isDBMirroring)\n-                // for non-dbmirroring cases, do not retry after tcp socket connection succeeds\n-                ) {\n-\n+                int errorCode = sqlex.getErrorCode();\n+                int driverErrorCode = sqlex.getDriverErrorCode();\n+                if (SQLServerException.LOGON_FAILED == errorCode // actual logon failed, i.e. bad password\n+                        || SQLServerException.PASSWORD_EXPIRED == errorCode // user account locked\n+                        || SQLServerException.DRIVER_ERROR_INVALID_TDS == driverErrorCode // invalid TDS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3748ab2372fdfc385aa2f56dc61989ef75af59ec"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1040, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}