{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5NjYwODgy", "number": 1388, "title": "Change | Enclave caching key", "bodyText": "Added database name to caching key. The new key format is serverName + databaseName + attestationUrl.\nRemoved an unused package privatate SQLServerConnection getter getScatalog() which returned the same value as the public getter getCatalog.\nChanged cache key lookup to occur before calling sp_de because doing so after would cause a new connection to call sp_de with 3 parameters which would create another enclave session.", "createdAt": "2020-07-15T18:36:52Z", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388", "merged": true, "mergeCommit": {"oid": "423be4a8d58eb350f533c14acf241e0c44d64fb1"}, "closed": true, "closedAt": "2020-07-20T21:46:10Z", "author": {"login": "rene-ye"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1PBvqgH2gAyNDQ5NjYwODgyOjI4MDYxMmVjYTRlNzAyZDRiNzEzZmRmYTJjYjA3NGY0YTkyNGY5M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc211p7AFqTQ1MTg1MDc1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "280612eca4e702d4b713fdfa2cb074f4a924f93f", "author": {"user": {"login": "rene-ye", "name": "v-reye"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/280612eca4e702d4b713fdfa2cb074f4a924f93f", "committedDate": "2020-07-15T18:34:33Z", "message": "Change for enclave caching"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63", "author": {"user": {"login": "rene-ye", "name": "v-reye"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/ef9dcb2e45d5339e01e7ffd2789010eaec354d63", "committedDate": "2020-07-15T18:37:46Z", "message": "Concat sb"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTM3ODkw", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#pullrequestreview-450137890", "createdAt": "2020-07-16T19:13:10Z", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwOTMxOTkx", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#pullrequestreview-450931991", "createdAt": "2020-07-17T20:15:23Z", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDA3ODgy", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#pullrequestreview-451007882", "createdAt": "2020-07-17T23:55:24Z", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMzo1NToyNFrOGzj6mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMzo1NToyNFrOGzj6mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcxOTAwMQ==", "bodyText": "Can you explain why this has been moved outside of the if block?", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#discussion_r456719001", "createdAt": "2020-07-17T23:55:24Z", "author": {"login": "ulvii"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerAASEnclaveProvider.java", "diffHunk": "@@ -65,21 +65,24 @@ public void getAttestationParameters(String url) throws SQLServerException {\n     public ArrayList<byte[]> createEnclaveSession(SQLServerConnection connection, String userSql,\n             String preparedTypeDefinitions, Parameter[] params,\n             ArrayList<String> parameterNames) throws SQLServerException {\n+        // Check if the session exists in our cache", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTQ4Mzk2", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#pullrequestreview-451148396", "createdAt": "2020-07-19T17:13:58Z", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxODUwNzUy", "url": "https://github.com/microsoft/mssql-jdbc/pull/1388#pullrequestreview-451850752", "createdAt": "2020-07-20T18:21:34Z", "commit": {"oid": "ef9dcb2e45d5339e01e7ffd2789010eaec354d63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2597, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}