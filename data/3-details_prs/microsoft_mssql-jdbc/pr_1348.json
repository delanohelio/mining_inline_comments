{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0OTEwODY1", "number": 1348, "title": "Order results from getColumns", "bodyText": "addresses issue 1332", "createdAt": "2020-05-29T06:23:38Z", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348", "merged": true, "mergeCommit": {"oid": "c2f48fbd3bd0ff686c2f4595d8772291b8c17ee8"}, "closed": true, "closedAt": "2020-06-11T17:43:40Z", "author": {"login": "lilgreenbird"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBa8qiAH2gAyNDI0OTEwODY1OmM5N2I4NjNjOTUzODViZGNkMWFmYzg5N2VmMzljYmViYWY0OTU1Nzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqQ2qGgFqTQyOTA4NTQ5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c97b863c95385bdcd1afc897ef39cbebaf495578", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/c97b863c95385bdcd1afc897ef39cbebaf495578", "committedDate": "2020-02-05T19:03:48Z", "message": "Fix AEv2 tests exclude for reqExternalSetup and cleanup (#1247)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54b5a194e5d46552419c86e0d1f8c800f42d3de8", "author": {"user": {"login": "peterbae", "name": "Peter Bae"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/54b5a194e5d46552419c86e0d1f8c800f42d3de8", "committedDate": "2020-02-08T00:19:05Z", "message": "Fix | Add null check for getObject() with LocalTime and LocalDate (#1250)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "672b7d67caae75250c53f82a760e8d3880e62a37", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/672b7d67caae75250c53f82a760e8d3880e62a37", "committedDate": "2020-02-10T19:04:22Z", "message": "added all AKV tests to use reqExternalSetup tag so they will be skipped by default (#1254)\n\n* skip AKV test properly\r\n\r\n* removed enclave properties string to failed errors as enclave tests could be skipped"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c3331b7b0ff1b27b1e80271bf9ffdc6aae7be79", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/3c3331b7b0ff1b27b1e80271bf9ffdc6aae7be79", "committedDate": "2020-03-25T06:21:47Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2c5640370daa89c0d8c1559b5791e99656f78c8", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/e2c5640370daa89c0d8c1559b5791e99656f78c8", "committedDate": "2020-03-26T06:10:08Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aad696640378b75f3cb8cb24cc2fa299358db9ac", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/aad696640378b75f3cb8cb24cc2fa299358db9ac", "committedDate": "2020-03-28T03:18:02Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bf04c2787c3b2a704f641f50cb4a83193f1d6d", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/92bf04c2787c3b2a704f641f50cb4a83193f1d6d", "committedDate": "2020-03-31T01:58:20Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba5ab72008501e23f43dbcbcc333775320ddafa", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/3ba5ab72008501e23f43dbcbcc333775320ddafa", "committedDate": "2020-04-04T05:47:37Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d20823deffea162b2b17b079cc291f91269558aa", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/d20823deffea162b2b17b079cc291f91269558aa", "committedDate": "2020-04-07T00:45:05Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cc959f7e76eedbf49e30e5b92de43c86d7eb803", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/4cc959f7e76eedbf49e30e5b92de43c86d7eb803", "committedDate": "2020-04-29T02:59:23Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b301f8184b26da4d99b2feab8b2aea886c01cea", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/7b301f8184b26da4d99b2feab8b2aea886c01cea", "committedDate": "2020-04-30T06:36:21Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56bcf139fe6acd87c41b3829b4f157c59bd9f873", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/56bcf139fe6acd87c41b3829b4f157c59bd9f873", "committedDate": "2020-05-07T22:26:03Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "744e0ca78e57bc6c0db98910a9066d5b583c6ba8", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/744e0ca78e57bc6c0db98910a9066d5b583c6ba8", "committedDate": "2020-05-12T22:47:18Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df8fd41ffa6005b18b0e328593faaeb495ce6547", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/df8fd41ffa6005b18b0e328593faaeb495ce6547", "committedDate": "2020-05-19T01:06:51Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "652e68b110828db6b172c1b02df6a06ab04c2b59", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/652e68b110828db6b172c1b02df6a06ab04c2b59", "committedDate": "2020-05-26T07:07:35Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d24c7e5c8449d54cf631ebf16a024f959557de9f", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/d24c7e5c8449d54cf631ebf16a024f959557de9f", "committedDate": "2020-05-26T23:02:18Z", "message": "Merge remote-tracking branch 'upstream/dev' into columninfo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/37fd1a553291e8059eb34b71c0c784b9d2a235d3", "committedDate": "2020-05-29T04:43:38Z", "message": "added order by"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NjE2MTM3", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-426616137", "createdAt": "2020-06-08T20:58:51Z", "commit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo1ODo1MVrOGgwMFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo1ODo1MVrOGgwMFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk5NzE0Mg==", "bodyText": "missing a semicolon after ORDINAL_POSITION. This could be relevant later.", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#discussion_r436997142", "createdAt": "2020-06-08T20:58:51Z", "author": {"login": "peterbae"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerDatabaseMetaData.java", "diffHunk": "@@ -637,7 +638,9 @@ private static String EscapeIDName(String inID) throws SQLServerException {\n                     + \"CASE SS_IS_COMPUTED WHEN 0 THEN 'NO' WHEN 1 THEN 'YES' WHEN '' THEN '' END AS IS_GENERATEDCOLUMN, \"\n                     + \"SS_IS_SPARSE, SS_IS_COLUMN_SET, SS_UDT_CATALOG_NAME, SS_UDT_SCHEMA_NAME, SS_UDT_ASSEMBLY_TYPE_NAME,\"\n                     + \"SS_XML_SCHEMACOLLECTION_CATALOG_NAME, SS_XML_SCHEMACOLLECTION_SCHEMA_NAME, SS_XML_SCHEMACOLLECTION_NAME \"\n-                    + \"FROM @mssqljdbc_temp_sp_columns_result;\";\n+                    + \"FROM @mssqljdbc_temp_sp_columns_result \"\n+\n+                    + \"ORDER BY TABLE_CAT, TABLE_SCHEM, TABLE_NAME, ORDINAL_POSITION\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NjIyMDM4", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-426622038", "createdAt": "2020-06-08T21:08:03Z", "commit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMTowODowM1rOGgweDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMTowODowM1rOGgweDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAwMTc0Mg==", "bodyText": "This line and the line below should be on the same line?", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#discussion_r437001742", "createdAt": "2020-06-08T21:08:03Z", "author": {"login": "peterbae"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerDatabaseMetaData.java", "diffHunk": "@@ -637,7 +638,9 @@ private static String EscapeIDName(String inID) throws SQLServerException {\n                     + \"CASE SS_IS_COMPUTED WHEN 0 THEN 'NO' WHEN 1 THEN 'YES' WHEN '' THEN '' END AS IS_GENERATEDCOLUMN, \"\n                     + \"SS_IS_SPARSE, SS_IS_COLUMN_SET, SS_UDT_CATALOG_NAME, SS_UDT_SCHEMA_NAME, SS_UDT_ASSEMBLY_TYPE_NAME,\"\n                     + \"SS_XML_SCHEMACOLLECTION_CATALOG_NAME, SS_XML_SCHEMACOLLECTION_SCHEMA_NAME, SS_XML_SCHEMACOLLECTION_NAME \"\n-                    + \"FROM @mssqljdbc_temp_sp_columns_result;\";\n+                    + \"FROM @mssqljdbc_temp_sp_columns_result \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NjIyMzk2", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-426622396", "createdAt": "2020-06-08T21:08:35Z", "commit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMTowODozNlrOGgwfIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMTowODozNlrOGgwfIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAwMjAxNg==", "bodyText": "combine this line and the line below", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#discussion_r437002016", "createdAt": "2020-06-08T21:08:36Z", "author": {"login": "peterbae"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerDatabaseMetaData.java", "diffHunk": "@@ -738,6 +741,8 @@ private static String EscapeIDName(String inID) throws SQLServerException {\n                     boolean isFirstRow = true; // less expensive than continuously checking isFirst()\n                     while (rs.next()) {\n                         if (!isFirstRow) {\n+                            azureDwSelectBuilder", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjIzMTI4", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-427623128", "createdAt": "2020-06-09T23:57:12Z", "commit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1NzoxMlrOGhgU6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1NzoxMlrOGhgU6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4NTgzMg==", "bodyText": "Wouldn't this append ORDER BY  after every row?", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#discussion_r437785832", "createdAt": "2020-06-09T23:57:12Z", "author": {"login": "ulvii"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerDatabaseMetaData.java", "diffHunk": "@@ -738,6 +741,8 @@ private static String EscapeIDName(String inID) throws SQLServerException {\n                     boolean isFirstRow = true; // less expensive than continuously checking isFirst()\n                     while (rs.next()) {\n                         if (!isFirstRow) {\n+                            azureDwSelectBuilder\n+                                    .append(\" ORDER BY TABLE_CAT, TABLE_SCHEM, TABLE_NAME, ORDINAL_POSITION \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37fd1a553291e8059eb34b71c0c784b9d2a235d3"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f48473f79fd20bd8047bfcc7be2de7277c1de7a9", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/f48473f79fd20bd8047bfcc7be2de7277c1de7a9", "committedDate": "2020-06-10T00:27:22Z", "message": "Merge remote-tracking branch 'upstream/dev' into columninfo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/3879bf8d2d1ce672691f6438f059331f246811ad", "committedDate": "2020-06-10T01:28:30Z", "message": "review updates"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MjMwMDA3", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-428230007", "createdAt": "2020-06-10T16:27:10Z", "commit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjoyNzoxMFrOGh8_2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjoyNzoxMFrOGh8_2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1NTU3OA==", "bodyText": "Can you explain this, isn't the ORDER BY clause covered above? This 0 length check is meant to return an empty resultset if the user's query returned no results; added for consistency with normal SQL Server.\nEdit: nvm, I see why you need this.", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#discussion_r438255578", "createdAt": "2020-06-10T16:27:10Z", "author": {"login": "rene-ye"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerDatabaseMetaData.java", "diffHunk": "@@ -746,7 +747,10 @@ private static String EscapeIDName(String inID) throws SQLServerException {\n \n                     if (0 == azureDwSelectBuilder.length()) {\n                         azureDwSelectBuilder.append(generateAzureDWEmptyRS(getColumnsDWColumns));\n+                    } else {\n+                        azureDwSelectBuilder.append(\" ORDER BY TABLE_CAT, TABLE_SCHEM, TABLE_NAME, ORDINAL_POSITION \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MjMyMjA2", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-428232206", "createdAt": "2020-06-10T16:29:54Z", "commit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDA0Nzgz", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-428404783", "createdAt": "2020-06-10T20:30:46Z", "commit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MDg1NDk0", "url": "https://github.com/microsoft/mssql-jdbc/pull/1348#pullrequestreview-429085494", "createdAt": "2020-06-11T16:29:05Z", "commit": {"oid": "3879bf8d2d1ce672691f6438f059331f246811ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2561, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}