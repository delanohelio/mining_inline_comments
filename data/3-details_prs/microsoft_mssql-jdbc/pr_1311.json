{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyOTgyNjcw", "number": 1311, "title": "Append server name from connection string to error message", "bodyText": "if server name in connection string is different from connect server then append server name to error message thrown", "createdAt": "2020-04-14T05:50:16Z", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311", "merged": true, "mergeCommit": {"oid": "76ecacbbca64639afae8c49bf671f8504fc5e7f0"}, "closed": true, "closedAt": "2020-04-29T23:10:57Z", "author": {"login": "lilgreenbird"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBa8qiAH2gAyNDAyOTgyNjcwOmM5N2I4NjNjOTUzODViZGNkMWFmYzg5N2VmMzljYmViYWY0OTU1Nzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcccOKDAFqTQwMjkwMDAzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c97b863c95385bdcd1afc897ef39cbebaf495578", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/c97b863c95385bdcd1afc897ef39cbebaf495578", "committedDate": "2020-02-05T19:03:48Z", "message": "Fix AEv2 tests exclude for reqExternalSetup and cleanup (#1247)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54b5a194e5d46552419c86e0d1f8c800f42d3de8", "author": {"user": {"login": "peterbae", "name": "Peter Bae"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/54b5a194e5d46552419c86e0d1f8c800f42d3de8", "committedDate": "2020-02-08T00:19:05Z", "message": "Fix | Add null check for getObject() with LocalTime and LocalDate (#1250)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "672b7d67caae75250c53f82a760e8d3880e62a37", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/672b7d67caae75250c53f82a760e8d3880e62a37", "committedDate": "2020-02-10T19:04:22Z", "message": "added all AKV tests to use reqExternalSetup tag so they will be skipped by default (#1254)\n\n* skip AKV test properly\r\n\r\n* removed enclave properties string to failed errors as enclave tests could be skipped"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c3331b7b0ff1b27b1e80271bf9ffdc6aae7be79", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/3c3331b7b0ff1b27b1e80271bf9ffdc6aae7be79", "committedDate": "2020-03-25T06:21:47Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2c5640370daa89c0d8c1559b5791e99656f78c8", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/e2c5640370daa89c0d8c1559b5791e99656f78c8", "committedDate": "2020-03-26T06:10:08Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aad696640378b75f3cb8cb24cc2fa299358db9ac", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/aad696640378b75f3cb8cb24cc2fa299358db9ac", "committedDate": "2020-03-28T03:18:02Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bf04c2787c3b2a704f641f50cb4a83193f1d6d", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/92bf04c2787c3b2a704f641f50cb4a83193f1d6d", "committedDate": "2020-03-31T01:58:20Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba5ab72008501e23f43dbcbcc333775320ddafa", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/3ba5ab72008501e23f43dbcbcc333775320ddafa", "committedDate": "2020-04-04T05:47:37Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d20823deffea162b2b17b079cc291f91269558aa", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/d20823deffea162b2b17b079cc291f91269558aa", "committedDate": "2020-04-07T00:45:05Z", "message": "Merge remote-tracking branch 'upstream/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dfe7dec7ab1355e68de12d3c2f75d168e62c300", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/6dfe7dec7ab1355e68de12d3c2f75d168e62c300", "committedDate": "2020-04-14T05:46:33Z", "message": "append servername to error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8101e2df78f8f049c9d3951634b187c4fdb3f06", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/d8101e2df78f8f049c9d3951634b187c4fdb3f06", "committedDate": "2020-04-14T22:48:36Z", "message": "updated redirected server msg"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMzkzMzkx", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-393393391", "createdAt": "2020-04-15T01:06:51Z", "commit": {"oid": "d8101e2df78f8f049c9d3951634b187c4fdb3f06"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMTowNjo1MVrOGFmPaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwMTowNjo1MVrOGFmPaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODUyMjYwMQ==", "bodyText": "do null check on serverName", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#discussion_r408522601", "createdAt": "2020-04-15T01:06:51Z", "author": {"login": "peterbae"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerConnection.java", "diffHunk": "@@ -163,6 +163,25 @@ SharedTimer getSharedTimer() throws SQLServerException {\n         return this.sharedTimer;\n     }\n \n+    /**\n+     * Get the server name string including redirected server if applicable\n+     * \n+     * @param serverName\n+     * @return\n+     */\n+    String getServerNameString(String serverName) {\n+        String serverNameFromConnectionStr = activeConnectionProperties\n+                .getProperty(SQLServerDriverStringProperty.SERVER_NAME.toString());\n+        if (serverName.equals(serverNameFromConnectionStr)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8101e2df78f8f049c9d3951634b187c4fdb3f06"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8b87f9f28e392c980e5b756d498181c1df6f63d", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/f8b87f9f28e392c980e5b756d498181c1df6f63d", "committedDate": "2020-04-15T07:14:51Z", "message": "null check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "660fe0246d3264b2fb62648e90948359c28b94e4", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/660fe0246d3264b2fb62648e90948359c28b94e4", "committedDate": "2020-04-22T21:17:33Z", "message": "added test and check for redirected"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MzQ5MDUy", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-399349052", "createdAt": "2020-04-23T18:04:26Z", "commit": {"oid": "660fe0246d3264b2fb62648e90948359c28b94e4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NDc1Njcx", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-399475671", "createdAt": "2020-04-23T21:05:15Z", "commit": {"oid": "660fe0246d3264b2fb62648e90948359c28b94e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMTowNToxNlrOGK8E9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMTowNToxNlrOGK8E9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDEyMzI1Mg==", "bodyText": "This line needs to be after if statement.", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#discussion_r414123252", "createdAt": "2020-04-23T21:05:16Z", "author": {"login": "ulvii"}, "path": "src/main/java/com/microsoft/sqlserver/jdbc/SQLServerConnection.java", "diffHunk": "@@ -163,6 +163,25 @@ SharedTimer getSharedTimer() throws SQLServerException {\n         return this.sharedTimer;\n     }\n \n+    /**\n+     * Get the server name string including redirected server if applicable\n+     * \n+     * @param serverName\n+     * @return\n+     */\n+    String getServerNameString(String serverName) {\n+        String serverNameFromConnectionStr = activeConnectionProperties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "660fe0246d3264b2fb62648e90948359c28b94e4"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a66cf2a4bc735c992cc056b969791bd1aa84a1f0", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/a66cf2a4bc735c992cc056b969791bd1aa84a1f0", "committedDate": "2020-04-23T22:08:04Z", "message": "added check if redirected server is same as in connection string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa0eb914ca11bc3e668d00fcbc0e32724e356a35", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/fa0eb914ca11bc3e668d00fcbc0e32724e356a35", "committedDate": "2020-04-24T18:48:50Z", "message": "removed check for isRoutedInCurrentAttempt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96f6fe6849599ee23d05832c06a9908818531ad5", "author": {"user": {"login": "lilgreenbird", "name": "lilgreenbird"}}, "url": "https://github.com/microsoft/mssql-jdbc/commit/96f6fe6849599ee23d05832c06a9908818531ad5", "committedDate": "2020-04-27T23:33:49Z", "message": "Merge remote-tracking branch 'upstream/dev' into servername"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjM1NTc1", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-402235575", "createdAt": "2020-04-28T21:45:42Z", "commit": {"oid": "96f6fe6849599ee23d05832c06a9908818531ad5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjc1MDgz", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-402275083", "createdAt": "2020-04-28T23:11:38Z", "commit": {"oid": "96f6fe6849599ee23d05832c06a9908818531ad5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyOTAwMDMz", "url": "https://github.com/microsoft/mssql-jdbc/pull/1311#pullrequestreview-402900033", "createdAt": "2020-04-29T17:48:46Z", "commit": {"oid": "96f6fe6849599ee23d05832c06a9908818531ad5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2512, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}