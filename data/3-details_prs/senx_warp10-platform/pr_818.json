{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MzQzMzI4", "number": 818, "title": "Modify SORTBY and SORTHWITH to sort LinkedHashMaps", "bodyText": "", "createdAt": "2020-08-31T14:42:01Z", "url": "https://github.com/senx/warp10-platform/pull/818", "merged": true, "mergeCommit": {"oid": "a76d54c09b6f9838b4f62289e61712d97d9be78c"}, "closed": true, "closedAt": "2020-09-02T08:15:29Z", "author": {"login": "ftence"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdET0JMgH2gAyNDc2MzQzMzI4OjZlNTA1NTI4MTZjZDNkODI2ZWNjZmFhMGY2ZmYyZDE3YTFhMDZkYTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE3ifXgFqTQ4MDU4NjY3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6e50552816cd3d826eccfaa0f6ff2d17a1a06da3", "author": {"user": {"login": "ftence", "name": "Fabien Tenc\u00e9"}}, "url": "https://github.com/senx/warp10-platform/commit/6e50552816cd3d826eccfaa0f6ff2d17a1a06da3", "committedDate": "2020-08-31T14:38:05Z", "message": "Modify SORTBY and SORTHWITH to sort LinkedHashMaps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcec398594acfd86e30a93c8ddfeec0223390da0", "author": {"user": {"login": "ftence", "name": "Fabien Tenc\u00e9"}}, "url": "https://github.com/senx/warp10-platform/commit/dcec398594acfd86e30a93c8ddfeec0223390da0", "committedDate": "2020-08-31T14:41:48Z", "message": "Update SORTWITH doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTA2NTQz", "url": "https://github.com/senx/warp10-platform/pull/818#pullrequestreview-480506543", "createdAt": "2020-09-02T06:03:38Z", "commit": {"oid": "dcec398594acfd86e30a93c8ddfeec0223390da0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNjowMzozOFrOHLcLvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNjowMzozOFrOHLcLvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc1ODE0Mg==", "bodyText": "if they are equal.\nSame typo above.", "url": "https://github.com/senx/warp10-platform/pull/818#discussion_r481758142", "createdAt": "2020-09-02T06:03:38Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/SORTWITH.java", "diffHunk": "@@ -21,24 +21,35 @@\n import io.warp10.script.WarpScriptStack;\n import io.warp10.script.WarpScriptStackFunction;\n \n+import java.util.ArrayList;\n import java.util.Comparator;\n import java.util.EmptyStackException;\n+import java.util.LinkedHashMap;\n import java.util.List;\n+import java.util.Map;\n \n /**\n- * Sorts a list using a comparator macro.\n- * The comparator macro is given:\n+ * Sorts a list or a LinkedHashMap using a comparator macro.\n+ *\n+ * In the case of a List, the comparator macro is given:\n  * TOP: b\n  * 2:   a\n  * And should push a negative Long if a less than b, a positive one if a more than b or 0L if there are equal.\n  * This Long must be within the bounds of a 32-bit integer.\n+ *\n+ * In the case of a LinkedHashMap, the comparator macro is given:\n+ * TOP: b.value\n+ * 2:   b.key\n+ * 2:   a.value\n+ * 2:   a.key\n+ * And should push a negative Long if a less than b, a positive one if a more than b or 0L if there are equal.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcec398594acfd86e30a93c8ddfeec0223390da0"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d1ed251ce0ef1f00207245c89e637ee92c25f6b", "author": {"user": {"login": "ftence", "name": "Fabien Tenc\u00e9"}}, "url": "https://github.com/senx/warp10-platform/commit/4d1ed251ce0ef1f00207245c89e637ee92c25f6b", "committedDate": "2020-09-02T08:12:54Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTg2Njcw", "url": "https://github.com/senx/warp10-platform/pull/818#pullrequestreview-480586670", "createdAt": "2020-09-02T08:15:23Z", "commit": {"oid": "4d1ed251ce0ef1f00207245c89e637ee92c25f6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3201, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}