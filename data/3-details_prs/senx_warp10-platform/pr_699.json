{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMDc4Nzk1", "number": 699, "title": "Attribute check for tokens", "bodyText": "Add the ability to define a list of token attributes which are banned. Any token bearing one of those attributes will be rejected with an error by the standard token parsing code.\nThe ability to disable those checks is offered so authentication plugins can rely on token extraction even if the token is bearing a banned attribute.", "createdAt": "2020-03-22T22:10:44Z", "url": "https://github.com/senx/warp10-platform/pull/699", "merged": true, "mergeCommit": {"oid": "4b2d40abf1cfc7f830afd8b2cc77639db6bfbeaf"}, "closed": true, "closedAt": "2020-03-23T15:56:58Z", "author": {"login": "hbs"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQRKblgH2gAyMzkyMDc4Nzk1OjA5ZjdkYmIxZmRmODkyNjAwMTc0Y2QzZDdiYjMwYWU0NmMzMWZkYTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQf9xeAH2gAyMzkyMDc4Nzk1OjY3MmI3MzQ2MTNjN2ZlMDI5OTUzZmFjNDE1ZWY1NGMxMjU3NGFiMmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "09f7dbb1fdf892600174cd3d7bb30ae46c31fda6", "author": {"user": {"login": "hbs", "name": "Mathias Herberts"}}, "url": "https://github.com/senx/warp10-platform/commit/09f7dbb1fdf892600174cd3d7bb30ae46c31fda6", "committedDate": "2020-03-22T22:08:39Z", "message": "Initial commit of attribute check for tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8e7bf65d35aa69f5eb3ef10aa18b964df667251", "author": {"user": {"login": "hbs", "name": "Mathias Herberts"}}, "url": "https://github.com/senx/warp10-platform/commit/b8e7bf65d35aa69f5eb3ef10aa18b964df667251", "committedDate": "2020-03-23T07:34:08Z", "message": "Added enable/disable methods for checkattributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NTE1OTg4", "url": "https://github.com/senx/warp10-platform/pull/699#pullrequestreview-379515988", "createdAt": "2020-03-23T15:02:45Z", "commit": {"oid": "b8e7bf65d35aa69f5eb3ef10aa18b964df667251"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNTowMjo0NlrOF6JjHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNTowMjo0NlrOF6JjHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjUxODE3NQ==", "bodyText": "Can be final.", "url": "https://github.com/senx/warp10-platform/pull/699#discussion_r396518175", "createdAt": "2020-03-23T15:02:46Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/continuum/Tokens.java", "diffHunk": "@@ -65,6 +65,31 @@\n   \n   private static List<AuthenticationPlugin> plugins = new ArrayList<>();\n   \n+  private static final List<String> blockedAttributes;\n+  \n+  /**\n+   * If set, skip attribute checks\n+   */\n+  private static ThreadLocal<Boolean> skipCheckAttributes = new ThreadLocal<Boolean>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8e7bf65d35aa69f5eb3ef10aa18b964df667251"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "672b734613c7fe029953fac415ef54c12574ab2a", "author": {"user": {"login": "hbs", "name": "Mathias Herberts"}}, "url": "https://github.com/senx/warp10-platform/commit/672b734613c7fe029953fac415ef54c12574ab2a", "committedDate": "2020-03-23T15:23:24Z", "message": "Made skipCheckAttributes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3288, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}