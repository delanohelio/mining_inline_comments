{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxOTM5NDA1", "number": 725, "title": "Check that the expected parameter is a String instead of using .toString()", "bodyText": "", "createdAt": "2020-04-10T14:51:00Z", "url": "https://github.com/senx/warp10-platform/pull/725", "merged": true, "mergeCommit": {"oid": "d097886ea85530265b6a0ad4c12976f4e07f9291"}, "closed": true, "closedAt": "2020-04-14T14:54:10Z", "author": {"login": "ftence"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWSPhuAH2gAyNDAxOTM5NDA1OjQ4MDAxZDViYzdhODNkYWY4NDNlNWI1NGMxZTViYjg5NmVmYzRkYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXgcWUAH2gAyNDAxOTM5NDA1OmI2MTNjMDk1MWQyYzMzMGVjMGI5MzE5NWJjODcwYzBkODNhYzFmNTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "author": {"user": {"login": "ftence", "name": "Fabien Tenc\u00e9"}}, "url": "https://github.com/senx/warp10-platform/commit/48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "committedDate": "2020-04-10T14:47:40Z", "message": "Check that the expected parameter is a String instead of using .toString()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNDg1NTY0", "url": "https://github.com/senx/warp10-platform/pull/725#pullrequestreview-391485564", "createdAt": "2020-04-10T14:54:46Z", "commit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1NDo0NlrOGD8vKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1NzowNFrOGD8zKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDAyNQ==", "bodyText": "remove mention of the stack", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794025", "createdAt": "2020-04-10T14:54:46Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/ASSERTMSG.java", "diffHunk": "@@ -30,8 +30,12 @@ public ASSERTMSG(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o = stack.pop();\n-    \n-    String msg = o.toString();\n+\n+    if (!(o instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING message on top of the stack.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDA4Mg==", "bodyText": "ditto", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794082", "createdAt": "2020-04-10T14:54:53Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/CHRONOEND.java", "diffHunk": "@@ -37,7 +37,12 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     long endNanos = System.nanoTime();\n \n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDE2OQ==", "bodyText": "ditto", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794169", "createdAt": "2020-04-10T14:55:06Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/CHRONOSTART.java", "diffHunk": "@@ -32,7 +32,12 @@ public CHRONOSTART(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDU3OA==", "bodyText": "ditto", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794578", "createdAt": "2020-04-10T14:56:01Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/FFTWINDOW.java", "diffHunk": "@@ -55,6 +55,10 @@ public FFTWINDOW(String name) {\n     Map<String,Object> params = new HashMap<String, Object>();\n     \n     Object window = stack.pop();\n+\n+    if (!(window instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING on top of the stack\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDg4NQ==", "bodyText": "ditto", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794885", "createdAt": "2020-04-10T14:56:42Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/RENAME.java", "diffHunk": "@@ -40,18 +40,22 @@ public RENAME(String name) {\n   public ElementStackFunction generateFunction(WarpScriptStack stack) throws WarpScriptException {\n     final Object top = stack.pop();\n \n+    if(!(top instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING on top of the stack.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NTA0OA==", "bodyText": "ditto", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406795048", "createdAt": "2020-04-10T14:57:04Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/script/functions/TIMED.java", "diffHunk": "@@ -38,7 +38,12 @@ public TIMED(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b613c0951d2c330ec0b93195bc870c0d83ac1f50", "author": {"user": {"login": "ftence", "name": "Fabien Tenc\u00e9"}}, "url": "https://github.com/senx/warp10-platform/commit/b613c0951d2c330ec0b93195bc870c0d83ac1f50", "committedDate": "2020-04-14T09:54:16Z", "message": "Remove mention of the stack in error messages"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3315, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}