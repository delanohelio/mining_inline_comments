{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5MjQ0NzA0", "number": 774, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODo1NjoyOFrOEQDj8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxMzo1Mjo1MlrOFX3Zrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjcxMDI2OnYy", "diffSide": "RIGHT", "path": "warp10/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODo1NjoyOFrOG0A6Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODo1NjoyOFrOG0A6Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE5NDAwNg==", "bodyText": "META-INF/*.RSA signatures may appear/disappear depending on dependencies. It is important that those files be removed otherwise the JVM may fail to validate repackaged classes if they initially had a signature.", "url": "https://github.com/senx/warp10-platform/pull/774#discussion_r457194006", "createdAt": "2020-07-20T08:56:28Z", "author": {"login": "hbs"}, "path": "warp10/build.gradle", "diffHunk": "@@ -43,171 +42,147 @@ dependencies {\n     //\n     // io.warp10 dependencies\n     //\n-    compile project(':crypto')\n-    compile project(':token')\n-    compile 'io.warp10:sensision:1.0.21'\n+    api project(':crypto')\n+    api project(':token')\n+    api 'io.warp10:sensision:1.0.21'\n \n-    compile 'joda-time:joda-time:2.2'\n-    compile 'org.apache.commons:commons-lang3:3.6'\n-    compile 'org.apache.commons:commons-math3:3.6'\n-    compile 'org.bouncycastle:bcprov-jdk16:1.46'\n+    api 'joda-time:joda-time:2.2'\n+    api 'org.apache.commons:commons-lang3:3.6'\n+    api 'org.apache.commons:commons-math3:3.6'\n+    api 'org.bouncycastle:bcprov-jdk16:1.46'\n \n     //\n     // Processing\n     //\n-    compile 'org.processing:core:3.0'\n+    api 'org.processing:core:3.0'\n \n     //\n     // Commons CLI\n     //\n-    compile 'commons-cli:commons-cli:1.3.1'\n+    api 'commons-cli:commons-cli:1.3.1'\n \n     //\n     // HBase 1.0.0\n     //\n-    compile 'org.apache.hbase:hbase-client:1.0.0'\n-    compile 'org.apache.hbase:hbase-examples:1.0.0'\n-    compile 'org.apache.hbase:hbase-common:1.0.0'\n-    compile 'org.apache.hbase:hbase-protocol:1.0.0'\n-\n-    compile 'org.eclipse.jetty:jetty-server:9.4.2.v20170220'\n-    compile 'org.eclipse.jetty.websocket:websocket-server:9.4.2.v20170220'\n-    compile 'org.eclipse.jetty.websocket:websocket-client:9.4.2.v20170220'\n-    compile 'com.netflix.curator:curator-x-discovery:1.3.3'\n-    compile 'com.fasterxml.jackson.core:jackson-databind:2.10.2'\n-    compile 'org.slf4j:slf4j-api:1.7.5'\n+    api 'org.apache.hbase:hbase-client:1.0.0'\n+    api 'org.apache.hbase:hbase-examples:1.0.0'\n+    api 'org.apache.hbase:hbase-common:1.0.0'\n+    api 'org.apache.hbase:hbase-protocol:1.0.0'\n+\n+    api 'org.eclipse.jetty:jetty-server:9.4.2.v20170220'\n+    api 'org.eclipse.jetty.websocket:websocket-server:9.4.2.v20170220'\n+    api 'org.eclipse.jetty.websocket:websocket-client:9.4.2.v20170220'\n+    api 'com.netflix.curator:curator-x-discovery:1.3.3'\n+    api 'com.fasterxml.jackson.core:jackson-databind:2.10.2'\n+    api 'org.slf4j:slf4j-api:1.7.5'\n \n     //\n     // FFT\n     //\n-    compile 'com.github.rwl:jtransforms:2.4.0'\n+    api 'com.github.rwl:jtransforms:2.4.0'\n \n     //\n     // Pyrolite\n     //\n-    compile 'net.razorvine:pyrolite:4.10'\n+    api 'net.razorvine:pyrolite:4.10'\n \n     //\n     // LevelDB\n     //\n-    compile 'org.fusesource.leveldbjni:leveldbjni-all:1.8'\n+    api 'org.fusesource.leveldbjni:leveldbjni-all:1.8'\n     // https://mvnrepository.com/artifact/org.openlabtesting.leveldbjni/leveldbjni-linux64-aarch64\n-    compile group: 'org.openlabtesting.leveldbjni', name: 'leveldbjni-linux64-aarch64', version: '1.8'\n+    api group: 'org.openlabtesting.leveldbjni', name: 'leveldbjni-linux64-aarch64', version: '1.8'\n \n-    compile 'org.iq80.leveldb:leveldb:0.12:uber'\n+    api 'org.iq80.leveldb:leveldb:0.12:uber'\n \n     //\n     // Worf\n     //\n-    compile 'jline:jline:2.13'\n+    api 'jline:jline:2.13'\n \n     //\n     // Mustache\n     //\n-    compile 'com.github.spullara.mustache.java:compiler:0.9.1'\n+    api 'com.github.spullara.mustache.java:compiler:0.9.1'\n \n     //\n     // Geo\n     //\n-    compile 'com.geoxp:geoxplib:1.0.0'\n-    compile(\"org.wololo:jts2geojson:0.10.0\")\n+    api 'com.geoxp:geoxplib:1.0.0'\n+    api 'org.wololo:jts2geojson:0.10.0'\n \n     //\n     // Java Merge Sort\n     //\n-    compile 'com.fasterxml.util:java-merge-sort:1.0.0'\n+    api 'com.fasterxml.util:java-merge-sort:1.0.0'\n \n     // @see http://www.mail-archive.com/dev@kafka.apache.org/msg03829.html\n-    compile(\"org.apache.kafka:kafka_2.11:0.8.2.2\") {\n+    api('org.apache.kafka:kafka_2.11:0.8.2.2') {\n         exclude module: 'jms'\n         exclude module: 'jmxtools'\n         exclude module: 'jmxri'\n     }\n-    testCompile 'junit:junit:4.6'\n-}\n-\n-jar {\n-    zip64 = true\n-\n-    manifest {\n-        attributes(\n-                \"Implementation-Title\": \"Warp 10\",\n-                \"Implementation-Vendor\": \"SenX\",\n-                \"Implementation-Version\": version)\n-    }\n+    testCompileOnly 'junit:junit:4.6'\n }\n \n task pack(type: Jar) {\n     zip64 = true\n-    ext.warpSuffixName = null != System.getProperty('warp') ? System.getProperty('warp') : \"\"\n-    appendix = \"${warpSuffixName}\"\n+    archiveAppendix = (null != System.getProperty('warp')) ? System.getProperty('warp') : \"\"\n \n     manifest {\n-        attributes(\"Main-Class\": \"io.warp10.standalone.Warp\")\n-        attributes(\"Implementation-Title\": \"Warp 10\")\n-        attributes(\"Implementation-Version\": version)\n+        attributes(\n+            \"Main-Class\": \"io.warp10.standalone.Warp\",\n+            \"Implementation-Title\": \"Warp 10\",\n+            \"Implementation-Vendor\": \"Warp 10\",\n+            \"Implementation-Version\": project.version\n+        )\n     }\n \n     from files(sourceSets.main.output.classesDirs)\n     from files(sourceSets.main.resources.srcDirs)\n     from {\n-        configurations.compile.collect {\n+        configurations.compileClasspath.collect {\n             it.isDirectory() ? it : zipTree(it).matching {\n                 exclude { it.toString().contains('/servlet-api') }\n-                exclude { it.toString().contains('jmh') }\n                 exclude { it.toString().contains('junit') }\n-                exclude { it.toString().contains('parquet') }\n             }\n         }\n     } {\n         exclude 'META-INF/*.DSA'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79502f28b62a39c0338cea5602713e93e47dfef9"}, "originalPosition": 184}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYwNTY5MTYzOnYy", "diffSide": "RIGHT", "path": "token/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxMzo1MjozN1rOIhj64w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxMzo1MjozN1rOIhj64w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjA2MjQzNQ==", "bodyText": "Upgrade sensision to 1.0.23", "url": "https://github.com/senx/warp10-platform/pull/774#discussion_r572062435", "createdAt": "2021-02-08T13:52:37Z", "author": {"login": "steven-gueguen"}, "path": "token/build.gradle", "diffHunk": "@@ -29,38 +23,36 @@ sourceSets {\n }\n \n dependencies {\n-    testCompile 'junit:junit:4.6'\n-    testCompile 'org.slf4j:slf4j-log4j12:1.7.21'\n+    testImplementation 'junit:junit:4.6'\n+    testImplementation 'org.slf4j:slf4j-log4j12:1.7.21'\n \n     // WARP10 DEPENDENCIES\n-    compile project(':crypto')\n-    compile 'io.warp10:sensision:1.0.22'\n+    api project(':crypto')\n+    api 'io.warp10:sensision:1.0.22'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882792e9db950fa03808aeae004ed56209935123"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYwNTY5MjYzOnYy", "diffSide": "RIGHT", "path": "warp10/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxMzo1Mjo1MlrOIhj7iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxMzo1Mjo1MlrOIhj7iA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjA2MjYwMA==", "bodyText": "Upgrade sensision to 1.0.23", "url": "https://github.com/senx/warp10-platform/pull/774#discussion_r572062600", "createdAt": "2021-02-08T13:52:52Z", "author": {"login": "steven-gueguen"}, "path": "warp10/build.gradle", "diffHunk": "@@ -43,171 +42,195 @@ dependencies {\n     //\n     // io.warp10 dependencies\n     //\n-    compile project(':crypto')\n-    compile project(':token')\n-    compile 'io.warp10:sensision:1.0.22'\n+    api project(':crypto')\n+    api project(':token')\n+    api 'io.warp10:sensision:1.0.22'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882792e9db950fa03808aeae004ed56209935123"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1259, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}