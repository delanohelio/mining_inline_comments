{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4Njg1NTU0", "number": 803, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwOTo1OToyM1rOEUAFiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMDowMToxN1rOEUAH0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NDA4MzkzOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/continuum/store/OptimizedSlicedRowFilterGTSDecoderIterator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwOTo1OToyM1rOG6DCXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTo1MDo1M1rOG7mqBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzUyMDM1MQ==", "bodyText": "I think it should not have been copied in the first place because this.request is already a copy. Or maybe keep the copy here and this.request should not be a copy.", "url": "https://github.com/senx/warp10-platform/pull/803#discussion_r463520351", "createdAt": "2020-07-31T09:59:23Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/continuum/store/OptimizedSlicedRowFilterGTSDecoderIterator.java", "diffHunk": "@@ -193,7 +197,11 @@ public boolean hasNext() {\n       if (null != iterator) {\n         try { iterator.close(); } catch (Exception e) {}\n       }\n+      // Remove Metadatas from FetchRequest otherwise new FetchRequest(req) will do a deep copy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6738cc7a0795d42b7ec3de8769a8878ccc9aa64"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE1MjUxOQ==", "bodyText": "Indeed, Metadatas is unset", "url": "https://github.com/senx/warp10-platform/pull/803#discussion_r465152519", "createdAt": "2020-08-04T15:50:53Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/continuum/store/OptimizedSlicedRowFilterGTSDecoderIterator.java", "diffHunk": "@@ -193,7 +197,11 @@ public boolean hasNext() {\n       if (null != iterator) {\n         try { iterator.close(); } catch (Exception e) {}\n       }\n+      // Remove Metadatas from FetchRequest otherwise new FetchRequest(req) will do a deep copy", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzUyMDM1MQ=="}, "originalCommit": {"oid": "e6738cc7a0795d42b7ec3de8769a8878ccc9aa64"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NDA4Njk3OnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/continuum/store/ParallelGTSDecoderIteratorWrapper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMDowMDoyMlrOG6DEOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMDowMDoyMlrOG6DEOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzUyMDgyNQ==", "bodyText": "Factorize code outside conditional.", "url": "https://github.com/senx/warp10-platform/pull/803#discussion_r463520825", "createdAt": "2020-07-31T10:00:22Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/continuum/store/ParallelGTSDecoderIteratorWrapper.java", "diffHunk": "@@ -301,11 +301,21 @@ public ParallelGTSDecoderIteratorWrapper(FetchRequest req, boolean optimized, Ke\n         GTSDecoderIterator iterator = null;\n         \n         if (optimized) {\n+          // Remove Metadatas from FetchRequest otherwise new FetchRequest(req) will do a deep copy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6738cc7a0795d42b7ec3de8769a8878ccc9aa64"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NDA4OTc4OnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/continuum/store/ParallelGTSDecoderIteratorWrapper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMDowMToxN1rOG6DF9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMDowMToxN1rOG6DF9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzUyMTI2OQ==", "bodyText": "Also factorize here.", "url": "https://github.com/senx/warp10-platform/pull/803#discussion_r463521269", "createdAt": "2020-07-31T10:01:17Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/continuum/store/ParallelGTSDecoderIteratorWrapper.java", "diffHunk": "@@ -320,11 +330,21 @@ public ParallelGTSDecoderIteratorWrapper(FetchRequest req, boolean optimized, Ke\n       GTSDecoderIterator iterator = null;\n       \n       if (optimized) {\n+        // Remove Metadatas from FetchRequest otherwise new FetchRequest(req) will do a deep copy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6738cc7a0795d42b7ec3de8769a8878ccc9aa64"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1277, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}