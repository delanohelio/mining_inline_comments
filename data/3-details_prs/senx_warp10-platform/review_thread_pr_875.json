{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MDQ4Njcy", "number": 875, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QyMToyODo1MlrOE-HVlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QyMTo0MTo1NVrOE-Hcog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNTY3MzgyOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/WarpConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QyMToyODo1MlrOH7J3FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QyMToyODo1MlrOH7J3FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTc4OTU4OQ==", "bodyText": "Rename parameter since it can now contain multiple files.", "url": "https://github.com/senx/warp10-platform/pull/875#discussion_r531789589", "createdAt": "2020-11-27T21:28:52Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/WarpConfig.java", "diffHunk": "@@ -122,62 +126,63 @@ public static void clearThreadProperties() {\n     threadProperties.remove();\n   }\n   \n-  public static void safeSetProperties(String file) throws IOException {\n+  public static void safeSetProperties(String... file) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bb6de1dddc0079d2f824cbd9629793e48842f46"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNTY5MTg2OnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/WarpConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QyMTo0MTo1NVrOH7KALw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDozMToxN1rOH9dpcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTc5MTkxOQ==", "bodyText": "Removing the System.exit call changes the behavior for callers other than the main method of WarpConfig, this will most likely break the behavior of many environment which initialize the Warp 10 config through this method, including the integration in Spark/Flink/Pig/KafkaStreams/NiFi and probably others.", "url": "https://github.com/senx/warp10-platform/pull/875#discussion_r531791919", "createdAt": "2020-11-27T21:41:55Z", "author": {"login": "hbs"}, "path": "warp10/src/main/java/io/warp10/WarpConfig.java", "diffHunk": "@@ -316,13 +327,16 @@ public static Properties readConfig(Reader reader, Properties properties, boolea\n \n     br.close();\n \n-    if (errorcount > 0) {\n-      System.err.println(\"Aborting due to \" + errorcount + \" error\" + (errorcount > 1 ? \"s\" : \"\") + \".\");\n-      System.exit(-1);\n+    if (!linesInError.isEmpty()) {\n+      throw new IOException(\"Malformed lines \" + linesInError.toString() + \".\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bb6de1dddc0079d2f824cbd9629793e48842f46"}, "originalPosition": 217}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIxMDkyOQ==", "bodyText": "Changed the methods to take an extra parameter to do a System.exit or throw. If not specified, defaults to System.exit for backward-compatibility.\nThis parameter is the first in the methods because of the varargs and consistency between methods.", "url": "https://github.com/senx/warp10-platform/pull/875#discussion_r534210929", "createdAt": "2020-12-02T14:31:17Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/WarpConfig.java", "diffHunk": "@@ -316,13 +327,16 @@ public static Properties readConfig(Reader reader, Properties properties, boolea\n \n     br.close();\n \n-    if (errorcount > 0) {\n-      System.err.println(\"Aborting due to \" + errorcount + \" error\" + (errorcount > 1 ? \"s\" : \"\") + \".\");\n-      System.exit(-1);\n+    if (!linesInError.isEmpty()) {\n+      throw new IOException(\"Malformed lines \" + linesInError.toString() + \".\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTc5MTkxOQ=="}, "originalCommit": {"oid": "3bb6de1dddc0079d2f824cbd9629793e48842f46"}, "originalPosition": 217}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1189, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}