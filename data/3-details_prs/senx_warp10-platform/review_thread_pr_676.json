{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNzgxMDYy", "number": 676, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Njo0OFrODoyFHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1ODowMVrODoyHYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwMTQzOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/DIV.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Njo0OFrOF3izOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Njo0OFrOF3izOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NjE3MQ==", "bodyText": "Until now I think all empty GTSs are of type UNDEFINED. I understand the logic but are you sure it does not break anything?\nWhat is your opinion @hbs?", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393786171", "createdAt": "2020-03-17T15:56:48Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/DIV.java", "diffHunk": "@@ -55,6 +55,14 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie gts1 = (GeoTimeSerie) op1;\n       GeoTimeSerie gts2 = (GeoTimeSerie) op2;\n \n+      // Returns immediately a new gts if both inputs are empty\n+      if (0 == GTSHelper.nvalues(gts1) || 0 == GTSHelper.nvalues(gts2)) {\n+        GeoTimeSerie result = new GeoTimeSerie();\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwMjAxOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/DIV.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Njo1NVrOF3izmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Njo1NVrOF3izmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NjI2Nw==", "bodyText": "Ditto.", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393786267", "createdAt": "2020-03-17T15:56:55Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/DIV.java", "diffHunk": "@@ -152,6 +160,13 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie result = op1gts ? ((GeoTimeSerie) op1).cloneEmpty(n) : ((GeoTimeSerie) op2).cloneEmpty();\n       GeoTimeSerie gts = op1gts ? (GeoTimeSerie) op1 : (GeoTimeSerie) op2;\n \n+      // Returns immediately a new clone if gts is empty.\n+      if (0 == n) {\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwMjkyOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/MUL.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1NzowN1rOF3i0Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1NzowN1rOF3i0Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NjQxMA==", "bodyText": "Ditto.", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393786410", "createdAt": "2020-03-17T15:57:07Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/MUL.java", "diffHunk": "@@ -68,6 +68,14 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie gts1 = (GeoTimeSerie) op1;\n       GeoTimeSerie gts2 = (GeoTimeSerie) op2;\n \n+      // Returns immediately a new gts if both inputs are empty\n+      if (0 == GTSHelper.nvalues(gts1) || 0 == GTSHelper.nvalues(gts2)) {\n+        GeoTimeSerie result = new GeoTimeSerie();\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwMzk3OnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/MUL.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1NzoxOVrOF3i0zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1NzoxOVrOF3i0zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NjU3NA==", "bodyText": "Ditto.", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393786574", "createdAt": "2020-03-17T15:57:19Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/MUL.java", "diffHunk": "@@ -161,6 +169,13 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie result = op1gts ? ((GeoTimeSerie) op1).cloneEmpty(n) : ((GeoTimeSerie) op2).cloneEmpty();\n       GeoTimeSerie gts = op1gts ? (GeoTimeSerie) op1 : (GeoTimeSerie) op2;\n \n+      // Returns immediately a new clone if gts is empty.\n+      if (0 == n) {\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwNjcyOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/SUB.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Nzo1NVrOF3i2qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1Nzo1NVrOF3i2qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NzA0OA==", "bodyText": "Ditto.", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393787048", "createdAt": "2020-03-17T15:57:55Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/SUB.java", "diffHunk": "@@ -58,6 +58,14 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie gts1 = (GeoTimeSerie) op1;\n       GeoTimeSerie gts2 = (GeoTimeSerie) op2;\n \n+      // Returns immediately a new gts if both inputs are empty\n+      if (0 == GTSHelper.nvalues(gts1) || 0 == GTSHelper.nvalues(gts2)) {\n+        GeoTimeSerie result = new GeoTimeSerie();\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MDkwNzIyOnYy", "diffSide": "RIGHT", "path": "warp10/src/main/java/io/warp10/script/binary/SUB.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1ODowMVrOF3i28A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNTo1ODowMVrOF3i28A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc4NzEyMA==", "bodyText": "Ditto.", "url": "https://github.com/senx/warp10-platform/pull/676#discussion_r393787120", "createdAt": "2020-03-17T15:58:01Z", "author": {"login": "ftence"}, "path": "warp10/src/main/java/io/warp10/script/binary/SUB.java", "diffHunk": "@@ -155,6 +163,13 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n       GeoTimeSerie result = op1gts ? ((GeoTimeSerie) op1).cloneEmpty(n) : ((GeoTimeSerie) op2).cloneEmpty();\n       GeoTimeSerie gts = op1gts ? (GeoTimeSerie) op1 : (GeoTimeSerie) op2;\n \n+      // Returns immediately a new clone if gts is empty.\n+      if (0 == n) {\n+        result.setType(TYPE.DOUBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c666129b9321d62052a840c4430c16c093af2de"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1315, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}