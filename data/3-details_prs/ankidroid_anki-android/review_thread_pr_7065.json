{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1ODQyNTc0", "number": 7065, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NzozMFrOEpGRdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1OTo0OFrOEpGWFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNTI5ODQ0OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NzozMFrOHakgLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NzozMFrOHakgLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYyMzA4NA==", "bodyText": "@tda1009 I apologize for the delay in looking at these - I want to be clear I like the purpose of this change and I'm sorry I've let it sit\nOne thing I'll note is that now if you add member variables, it's important to handle them across Activity restarts in the Android lifecycle. Specifically openNoteEditorForCard will open another Activity, and you haven't calculated the member variable values yet, nor are they put into the Bundle in onSaveInstanceState (or brought back from the bundle in onCreate)\nIf we add member state it should be calculated before launching another Activity and that onSaveInstanceState/onCreate change is required, or things will break if the user rotates their screen for instance", "url": "https://github.com/ankidroid/Anki-Android/pull/7065#discussion_r497623084", "createdAt": "2020-09-30T15:57:30Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "diffHunk": "@@ -633,6 +637,8 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)\n                     // load up the card selected on the list\n                     long clickedCardId = getCards().get(position).getId();\n                     openNoteEditorForCard(clickedCardId);\n+                    mOldCardId = clickedCardId;\n+                    mOldCardTopOffset = calculateTopOffset(position);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08d829db883a5e769dc3fa1207a565a608094e32"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNTMxMDI4OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1OTo0OFrOHaknYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1OTo0OFrOHaknYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYyNDkyOQ==", "bodyText": "same comment here for required handling in onSaveInstanceState/onCreate of instance variables", "url": "https://github.com/ankidroid/Anki-Android/pull/7065#discussion_r497624929", "createdAt": "2020-09-30T15:59:48Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "diffHunk": "@@ -224,6 +224,7 @@\n     private long mOldCardId = 0;\n     private int mOldCardTopOffset = 0;\n     private boolean mShouldRestoreScroll = false;\n+    private boolean mPostAutoScroll = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6412267ebda550b1b7218aa8e0e48e405fa5eaf9"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 920, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}