{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NjE4NjAy", "number": 6319, "title": "Add USERTrust root certificate for older Android devices", "bodyText": "Main Aim\nThis is currently gated for < API 22.\nI don't know if this versioning is correct, as device manufacturers can specify their certificates. I'm currently testing on emulators. Documentation states <= Lolipop (21) needs work\nSecurity Review required - I haven't looked into certificate chains in a long while.\nDescription\nCert from: https://crt.sh/?id=1199354\nThe previous root certificate expired on 2020-05-30\nhttps://support.sectigo.com/articles/Knowledge/Sectigo-AddTrust-External-CA-Root-Expiring-May-30-2020\nFixes #6317\nHow Has This Been Tested?\nOn an Android 16, and 23 emulator\nLearning (optional, can help others)\nhttps://support.sectigo.com/articles/Knowledge/Sectigo-AddTrust-External-CA-Root-Expiring-May-30-2020\nhttps://stackoverflow.com/questions/27562666/programmatically-add-a-certificate-authority-while-keeping-android-system-ssl-ce\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-31T14:19:35Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6319", "merged": true, "mergeCommit": {"oid": "6de5b98b2a01ecea8e4090c7f08a93553616eb7d"}, "closed": true, "closedAt": "2020-05-31T16:26:25Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmsV3xgH2gAyNDI1NjE4NjAyOjRmNzQ1MmZkNGNkZTY1MDg3ZmE5Y2NiNTk4YzAyNzI5NDJkZGRkZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmuOGHAFqTQyMTUwODk5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f7452fd4cde65087fa9ccb598c0272942ddddea", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/4f7452fd4cde65087fa9ccb598c0272942ddddea", "committedDate": "2020-05-31T14:14:55Z", "message": "Add USERTrust certificate for older Android devices\n\nCert from: https://crt.sh/?id=1199354\n\nThe previous root certificate expired on 2020-05-30\nhttps://support.sectigo.com/articles/Knowledge/Sectigo-AddTrust-External-CA-Root-Expiring-May-30-2020\n\nFixes #6317"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTA4OTY1", "url": "https://github.com/ankidroid/Anki-Android/pull/6319#pullrequestreview-421508965", "createdAt": "2020-05-31T16:25:40Z", "commit": {"oid": "4f7452fd4cde65087fa9ccb598c0272942ddddea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNjoyNTo0MFrOGc571Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNjoyNTo0MFrOGc571Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk2MjUxNw==", "bodyText": "This part I'm not sure about as AnkiWeb only does 1.2. But if you're testing on API16 and it's working, I suppose that's the vital bit, and I don't think being more liberal in capability is a problem so long as it actually goes up to 1.2", "url": "https://github.com/ankidroid/Anki-Android/pull/6319#discussion_r432962517", "createdAt": "2020-05-31T16:25:40Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/sync/Tls12SocketFactory.java", "diffHunk": "@@ -48,24 +51,24 @@\n  * @see SSLSocketFactory\n  */\n public class Tls12SocketFactory extends SSLSocketFactory {\n-    private static final String[] TLS_V12_ONLY = {\"TLSv1.2\"};\n+    private static final String[] TLS_V12_ONLY = {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7452fd4cde65087fa9ccb598c0272942ddddea"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTA4OTk1", "url": "https://github.com/ankidroid/Anki-Android/pull/6319#pullrequestreview-421508995", "createdAt": "2020-05-31T16:26:14Z", "commit": {"oid": "4f7452fd4cde65087fa9ccb598c0272942ddddea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3381, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}