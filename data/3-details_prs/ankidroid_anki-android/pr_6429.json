{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNzMxMzU3", "number": 6429, "title": "Tgl heb ind language remap", "bodyText": "Pull Request template\nPurpose / Description\nHebrew, Indonesian and Tagalog were not working correctly from the language selector\nThis is a temporary remap for the current state of crowdin where these 3 language codes come down with old-style 2-letter codes, such that they are mapped to the new style 3-letter codes\n@Arthus has done some research and it might be possible to remap them on crowdin so they come down (along with other languages) as 3-letter codes but until now I've done it in update_localizations.py manually\nFixes\nFixes #6338\nApproach\nDetect the incoming 2-letter code in the crowdin bundle, map it to 3-letter code\nhe -> heb\nid -> ind\ntl -> tgl\nThen a further commit to update the strings\nHow Has This Been Tested?\nPrevious experience with yu -> yue showed it was possible and this does indeed work well on modern APIs. I tested API16, API24 and API29 emulators.\nOn API16 a fair number of our languages don't even show up, but the ones that do work fine (Hebrew works)\nOn API24 they all show up but Tagalog is just 'tl' in the list, they all work\nAPI29 looks beautiful\nI'm tempted to say that this is probably as good as we can do for the old APIs. Knowing it works on Android 7+ (by far the majority of our users) and is beautiful on current Android, whereas it did not work before is good enough for the incrementalist and forward-porting criteria I usually judge with\nLearning (optional, can help others)\ninternationalization is hard\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-06-10T22:18:36Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6429", "merged": true, "mergeCommit": {"oid": "a2b96f696011cf7476f801ea0e53f3953a2620ce"}, "closed": true, "closedAt": "2020-06-10T23:06:27Z", "author": {"login": "mikehardy"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqA-ZFgH2gAyNDMyNzMxMzU3OjMxYzQ1NmY0NzBhY2M4ZDFhY2I1NTJkYTEwNGE5ZmU5ZGZkYmRmMjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqBerfgFqTQyODQ2OTYwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "31c456f470acc8d1acb552da104a9fe9dfdbdf27", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/31c456f470acc8d1acb552da104a9fe9dfdbdf27", "committedDate": "2020-06-10T21:59:03Z", "message": "Remap Indonesia/Hebrew/Tagalog to three-letter-codes\n\nFixes #6338 temporarily, @Arthus is potentially going to fix pre-export\nvia crowdin settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f957da4d1cb9dac236b88bec098f309f4721109d", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f957da4d1cb9dac236b88bec098f309f4721109d", "committedDate": "2020-06-10T22:05:53Z", "message": "Updated strings from Crowdin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDY5NjA5", "url": "https://github.com/ankidroid/Anki-Android/pull/6429#pullrequestreview-428469609", "createdAt": "2020-06-10T22:24:09Z", "commit": {"oid": "f957da4d1cb9dac236b88bec098f309f4721109d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMjoyNDoxMFrOGiIS-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMjoyNDoxMFrOGiIS-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0MDY5Nw==", "bodyText": "LGTM", "url": "https://github.com/ankidroid/Anki-Android/pull/6429#discussion_r438440697", "createdAt": "2020-06-10T22:24:10Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/res/values-ka/01-core.xml", "diffHunk": "@@ -60,12 +60,8 @@\n         <item quantity=\"other\">%1$d cards due (%2$s)</item>\n     </plurals>\n     <plurals name=\"reviewer_window_title\">\n-        <item quantity=\"one\">%d \u10ec\u10e3\u10d7\u10d8 \u10d3\u10d0\u10e0\u10e9\u10d0\n-\n-%d \u10ec\u10e3\u10d7\u10d4\u10d1\u10d8 \u10d3\u10d0\u10e0\u10e9\u10d0</item>\n-        <item quantity=\"other\">%d \u10ec\u10e3\u10d7\u10d8 \u10d3\u10d0\u10e0\u10e9\u10d0\n-\n-%d \u10ec\u10e3\u10d7\u10d4\u10d1\u10d8 \u10d3\u10d0\u10e0\u10e9\u10d0</item>\n+        <item quantity=\"one\">%d \u10ec\u10e3\u10d7\u10d8 \u10d3\u10d0\u10e0\u10e9\u10d0</item>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f957da4d1cb9dac236b88bec098f309f4721109d"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3173, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}