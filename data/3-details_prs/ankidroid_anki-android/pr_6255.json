{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMDU3MTk1", "number": 6255, "title": "Add English back to Language list", "bodyText": "Goals\nPlease check the tests to see if you're happy with breakages if the language is changed\nPurpose / Description\nI noticed that English was no longer a selectable language\nApproach\nAdds English back in\nHow Has This Been Tested?\nOn my device, and with regression tests.\nLearning (optional, can help others)\nEnglish is a language\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-22T17:23:55Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6255", "merged": true, "mergeCommit": {"oid": "f8cef98aa982d3c00dbd092c87ee209d66bfd4c1"}, "closed": true, "closedAt": "2020-05-22T22:20:05Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj13RHAFqTQxNzA4MTE0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcj2AxggFqTQxNzA4Njg4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDgxMTQ3", "url": "https://github.com/ankidroid/Anki-Android/pull/6255#pullrequestreview-417081147", "createdAt": "2020-05-22T17:38:45Z", "commit": {"oid": "1214ed1628d61da3bd6bea42f51fdd48f0c2d545"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzozODo0NVrOGZe72A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzozODo0NVrOGZe72A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM3NDQyNA==", "bodyText": "Mmm - actually I think this needs to be verified, we may need to transpose xx-yy to xx_yy to go from crowdin to java - I'll take that as a todo personally", "url": "https://github.com/ankidroid/Anki-Android/pull/6255#discussion_r429374424", "createdAt": "2020-05-22T17:38:45Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/test/java/com/ichi2/utils/LanguageUtilsLanguageRegressionTest.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/*\n+ Copyright (c) 2020 David Allison <davidallisongithub@gmail.com>\n+\n+ This program is free software; you can redistribute it and/or modify it under\n+ the terms of the GNU General Public License as published by the Free Software\n+ Foundation; either version 3 of the License, or (at your option) any later\n+ version.\n+\n+ This program is distributed in the hope that it will be useful, but WITHOUT ANY\n+ WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n+ PARTICULAR PURPOSE. See the GNU General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License along with\n+ this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package com.ichi2.utils;\n+\n+import com.google.common.collect.Sets;\n+\n+import org.hamcrest.Matchers;\n+import org.junit.Test;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.List;\n+\n+import static java.util.Arrays.asList;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.contains;\n+\n+public class LanguageUtilsLanguageRegressionTest {\n+\n+    private static final String[] PREVIOUS_LANGUAGES = { \"ar\", \"bg\", \"ca\", \"cs\", \"de\", \"el\", \"en\", \"eo\", \"es-AR\", \"es-ES\", \"et\", \"fa\",\n+            \"fi\", \"fr\", \"got\", \"gl\", \"hi\", \"hu\", \"id\", \"it\", \"ja\", \"ko\", \"lt\", \"nl\", \"nn-NO\", \"no\", \"pl\", \"pt_PT\", \"pt_BR\", \"ro\", \"ru\",\n+            \"sk\", \"sl\", \"sr\", \"sv\", \"th\", \"tr\", \"tt-RU\", \"uk\", \"vi\", \"zh_CN\", \"zh_TW\" };\n+\n+    private static final String[] CURRENT_LANGUAGES = {\"af\", \"am\", \"ar\", \"az\", \"be\", \"bg\", \"bn\", \"ca\", \"ckb\", \"cs\", \"da\",\n+            \"de\", \"el\", \"en\", \"eo\", \"es-AR\", \"es-ES\", \"et\", \"eu\", \"fa\", \"fi\", \"fil\", \"fr\", \"fy-NL\", \"ga-IE\", \"gl\", \"got\",\n+            \"gu-IN\", \"he\", \"hi\", \"hr\", \"hu\", \"hy-AM\", \"id\", \"is\", \"it\", \"ja\", \"jv\", \"ka\", \"kk\", \"km\", \"ko\", \"ku\",\n+            \"ky\", \"lt\", \"lv\", \"mk\", \"mn\", \"mr\", \"ms\", \"my\", \"nl\", \"nn-NO\", \"no\", \"pa-IN\", \"pl\", \"pt-BR\", \"pt-PT\",\n+            \"ro\", \"ru\", \"sk\", \"sl\", \"sq\", \"sr\", \"ss\", \"sv-SE\", \"sw\", \"ta\", \"te\", \"tg\", \"th\", \"ti\", \"tl\", \"tn\", \"tr\",\n+            \"ts\", \"tt-RU\", \"uk\", \"ur-PK\", \"uz\", \"ve\", \"vi\", \"wo\", \"xh\", \"yu\", \"zh-CN\", \"zh-TW\", \"zu\" };\n+\n+    /** Languages which were removed for good reason */\n+    private static final HashSet<String> previousLanguageExclusions = Sets.newHashSet(\n+            \"pt_PT\", //pt-PT", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1214ed1628d61da3bd6bea42f51fdd48f0c2d545"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDgyMjc2", "url": "https://github.com/ankidroid/Anki-Android/pull/6255#pullrequestreview-417082276", "createdAt": "2020-05-22T17:40:44Z", "commit": {"oid": "1214ed1628d61da3bd6bea42f51fdd48f0c2d545"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "138bb483516baa2fd4b8ce40f5fc4bae6a656ce0", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/138bb483516baa2fd4b8ce40f5fc4bae6a656ce0", "committedDate": "2020-05-22T17:46:13Z", "message": "Add English as a language\n\nAnd add regression tests\n\nRemoved in a045fdae749767b73953d226b22147370406b77a"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae", "committedDate": "2020-05-22T17:46:20Z", "message": "LINT: LanguageUtil - nullability"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1214ed1628d61da3bd6bea42f51fdd48f0c2d545", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/1214ed1628d61da3bd6bea42f51fdd48f0c2d545", "committedDate": "2020-05-22T17:10:27Z", "message": "LINT: LanguageUtil - nullability"}, "afterCommit": {"oid": "dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae", "committedDate": "2020-05-22T17:46:20Z", "message": "LINT: LanguageUtil - nullability"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDg2ODg4", "url": "https://github.com/ankidroid/Anki-Android/pull/6255#pullrequestreview-417086888", "createdAt": "2020-05-22T17:49:09Z", "commit": {"oid": "dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzo0OTowOVrOGZfNCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzo0OTowOVrOGZfNCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM3ODgyNQ==", "bodyText": "Issue found: Avoid reassigning parameters such as 'localeCode'", "url": "https://github.com/ankidroid/Anki-Android/pull/6255#discussion_r429378825", "createdAt": "2020-05-22T17:49:09Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/java/com/ichi2/utils/LanguageUtil.java", "diffHunk": "@@ -52,7 +57,8 @@ public static Locale getLocale() {\n      * @param localeCode The locale code of the language\n      * @return The {@link Locale} for the given code\n      */\n-    public static Locale getLocale(String localeCode) {\n+    @NonNull\n+    public static Locale getLocale(@Nullable String localeCode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd2d881850c2bd9bb1e53dba89aefe6fa209e0ae"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3314, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}