{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NDcwMTU4", "number": 6164, "title": "Use localised field name in Instrumentation Tests", "bodyText": "Purpose / Description\nSince #5566, unit tests would fail if run in a non-English locale due to the field names changing\nApproach\nFix the tests (using field index instead), and improve the error message\nHow Has This Been Tested?\nUnit tests still pass\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-13T16:18:01Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6164", "merged": true, "mergeCommit": {"oid": "7aeacc8d7bd925981f574a16ea3de9043ef7b5d6"}, "closed": true, "closedAt": "2020-05-13T20:11:55Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg7JZHgH2gAyNDE3NDcwMTU4OmYzMTFjNzVjMTU2ODdlZDE5ODA3MDEzZWRlNDUyOWQ3YTg1ZmFiMWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg7XbjgFqTQxMTA5MjA1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f311c75c15687ed19807013ede4529d7a85fab1b", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f311c75c15687ed19807013ede4529d7a85fab1b", "committedDate": "2020-05-13T16:06:19Z", "message": "_fieldOrd: Improve exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6862a7c11403f9d0f4fe8d5ab138def19391536e", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/6862a7c11403f9d0f4fe8d5ab138def19391536e", "committedDate": "2020-05-13T16:10:42Z", "message": "TEST: Allow running on non-English locales"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDkwOTI3", "url": "https://github.com/ankidroid/Anki-Android/pull/6164#pullrequestreview-411090927", "createdAt": "2020-05-13T16:20:18Z", "commit": {"oid": "f311c75c15687ed19807013ede4529d7a85fab1b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjoyMDoxOFrOGU5fIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjoyMDoxOFrOGU5fIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU2NjU2Mg==", "bodyText": "way better!", "url": "https://github.com/ankidroid/Anki-Android/pull/6164#discussion_r424566562", "createdAt": "2020-05-13T16:20:18Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Note.java", "diffHunk": "@@ -197,7 +197,11 @@ public JSONObject model() {\n \n \n     private int _fieldOrd(String key) {\n-        return mFMap.get(key).first;\n+        Pair<Integer, JSONObject> fieldPair = mFMap.get(key);\n+        if (fieldPair == null) {\n+            throw new IllegalArgumentException(String.format(\"No field named '%s' found\", key));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f311c75c15687ed19807013ede4529d7a85fab1b"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDkyMDUz", "url": "https://github.com/ankidroid/Anki-Android/pull/6164#pullrequestreview-411092053", "createdAt": "2020-05-13T16:21:39Z", "commit": {"oid": "6862a7c11403f9d0f4fe8d5ab138def19391536e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3509, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}