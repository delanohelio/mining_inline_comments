{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxOTkzMjcx", "number": 5970, "title": "Factor out WebView Debugging", "bodyText": "Purpose / Description\nI want to use this code in the Visual Editor.\nI also lowkey want to make AbstractFlashCardViewer have less code as it's hard to understand.\nApproach\nExtract method, and add a call on startup.\nHow Has This Been Tested?\nPrintf performance testing, not great, but didn't want to spend too much effort\nOn\n2020-04-10 18:14:14.086 14245-14245/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging Start\n2020-04-10 18:14:14.089 14245-14245/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging End\n\nOff\n2020-04-10 18:13:21.455 12541-12541/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging Start\n2020-04-10 18:13:21.456 12541-12541/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging End\n\nOn+Startup\n2020-04-10 18:10:45.411 10258-10258/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging Start\n2020-04-10 18:10:45.412 10258-10258/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging End\n\nOff+Startup\n2020-04-10 18:11:44.948 11566-11566/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging Start\n2020-04-10 18:11:44.949 11566-11566/com.ichi2.anki V/AbstractFlashcardViewer: WebView Debugging End\n\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-04-10T17:18:23Z", "url": "https://github.com/ankidroid/Anki-Android/pull/5970", "merged": true, "mergeCommit": {"oid": "bb0fa29cb1f203f2ed24c85e424f620e6b56c6dd"}, "closed": true, "closedAt": "2020-04-10T18:39:55Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWT_taAH2gAyNDAxOTkzMjcxOmZmNWM2OGU4YTkwMzg2MTlmZTcwZThhMjcyZTVhN2Y2ZDczODczNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWU2hOAFqTM5MTU3NDE1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff5c68e8a9038619fe70e8a272e5a7f6d7387365", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/ff5c68e8a9038619fe70e8a272e5a7f6d7387365", "committedDate": "2020-04-10T16:50:12Z", "message": "Extract: WebViewDebugging.initializeDebugging\n\nI want to use this API from #1377"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70e90bfcb6ff11f446e2eb03bf0d94956ed19ab", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b70e90bfcb6ff11f446e2eb03bf0d94956ed19ab", "committedDate": "2020-04-10T16:54:06Z", "message": "WebViewDebugging: Disable on unset preference\n\nIf the preference is unset, disable it the next time we use it."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTYwMjM2", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#pullrequestreview-391560236", "createdAt": "2020-04-10T17:22:12Z", "commit": {"oid": "f7583e51bbc6b99509ae5330cf5999864c8e08b7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzoyMjoxMlrOGEAlng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzoyMjoxMlrOGEAlng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg1NzExOA==", "bodyText": "no quibble on the goal of the PR, but adding commented out code \ud83e\udd14", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#discussion_r406857118", "createdAt": "2020-04-10T17:22:12Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AnkiDroidApp.java", "diffHunk": "@@ -227,6 +228,8 @@ public void onCreate() {\n             UsageAnalytics.setDryRun(true);\n         }\n \n+        //WebViewDebugging.initializeDebugging(preferences);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7583e51bbc6b99509ae5330cf5999864c8e08b7"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7583e51bbc6b99509ae5330cf5999864c8e08b7", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f7583e51bbc6b99509ae5330cf5999864c8e08b7", "committedDate": "2020-04-10T17:15:49Z", "message": "WebViewDebugging: Handle on startup\n\nWhen testing (printf), this has no noticeable difference if the setting\nis off, and shaved 2ms off the call if it's on"}, "afterCommit": {"oid": "329ead8fc26a795cf0ad4fd9b1a0effc44d445aa", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/329ead8fc26a795cf0ad4fd9b1a0effc44d445aa", "committedDate": "2020-04-10T17:25:05Z", "message": "WebViewDebugging: Handle on startup\n\nWhen testing (printf), this has no noticeable difference if the setting\nis off, and shaved 2ms off the call if it's on"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTYzMDM2", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#pullrequestreview-391563036", "createdAt": "2020-04-10T17:27:50Z", "commit": {"oid": "329ead8fc26a795cf0ad4fd9b1a0effc44d445aa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzoyNzo1MVrOGEAumw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzoyNzo1MVrOGEAumw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg1OTQxOQ==", "bodyText": "Android Studio makes these changes consistently in a few files within the project. I'll revert for now; are you using other settings to keep these in place?", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#discussion_r406859419", "createdAt": "2020-04-10T17:27:51Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AnkiDroidApp.java", "diffHunk": "@@ -62,7 +59,11 @@\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n \n+import androidx.annotation.NonNull;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "329ead8fc26a795cf0ad4fd9b1a0effc44d445aa"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bafbdda0bee2936428686c712931a41b7dfea678", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/bafbdda0bee2936428686c712931a41b7dfea678", "committedDate": "2020-04-10T17:29:27Z", "message": "WebViewDebugging: Handle on startup\n\nWhen testing (printf), this has no noticeable difference if the setting\nis off, and shaved 2ms off the call if it's on"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "329ead8fc26a795cf0ad4fd9b1a0effc44d445aa", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/329ead8fc26a795cf0ad4fd9b1a0effc44d445aa", "committedDate": "2020-04-10T17:25:05Z", "message": "WebViewDebugging: Handle on startup\n\nWhen testing (printf), this has no noticeable difference if the setting\nis off, and shaved 2ms off the call if it's on"}, "afterCommit": {"oid": "bafbdda0bee2936428686c712931a41b7dfea678", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/bafbdda0bee2936428686c712931a41b7dfea678", "committedDate": "2020-04-10T17:29:27Z", "message": "WebViewDebugging: Handle on startup\n\nWhen testing (printf), this has no noticeable difference if the setting\nis off, and shaved 2ms off the call if it's on"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTY1Mjky", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#pullrequestreview-391565292", "createdAt": "2020-04-10T17:32:30Z", "commit": {"oid": "bafbdda0bee2936428686c712931a41b7dfea678"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzozMjozMFrOGEA2Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzozMjozMFrOGEA2Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg2MTMyNw==", "bodyText": "Issue found: The utility class name 'WebViewDebugging' doesn't match '[A-Z][a-zA-Z0-9]+(Utils?|Helper)'", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#discussion_r406861327", "createdAt": "2020-04-10T17:32:30Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/java/com/ichi2/utils/WebViewDebugging.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.ichi2.utils;\n+\n+import android.content.SharedPreferences;\n+import android.os.Build;\n+import android.webkit.WebView;\n+\n+public class WebViewDebugging {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bafbdda0bee2936428686c712931a41b7dfea678"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTc0MTUy", "url": "https://github.com/ankidroid/Anki-Android/pull/5970#pullrequestreview-391574152", "createdAt": "2020-04-10T17:50:04Z", "commit": {"oid": "bafbdda0bee2936428686c712931a41b7dfea678"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3630, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}