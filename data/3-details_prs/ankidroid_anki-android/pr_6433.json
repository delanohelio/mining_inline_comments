{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMDk4NDA4", "number": 6433, "title": "Show or hide top bar ", "bodyText": "Pull Request template\nPurpose / Description\nIn fullscreen there is no option to hide top bar. So this PR is for that.\nFixes\nFixes Link to the issues.\nApproach\nAdded boolean value in Sharedpreferences with key top_bar\nThen accessed that value in AbstractFlashcardViewer, if false then hide else do nothing.\nHow Has This Been Tested?\nTested on Android Emulator\nChange setting, check that for showing top bar\n1. AnkiDroid->Settings->Reviewing->Show Top Bar\n2. Now view changes in reviewing\n\nLearning (optional, can help others)\nhttps://developer.android.com/reference/android/transition/Visibility\nChecklist\nPlease, go through these checks before submitting the PR.\n\n[ x ] You have not changed whitespace unnecessarily (it makes diffs hard to read)\n[ x ] You have a descriptive commit message with a short title (first line, max 50 chars).\n[ x ] Your code follows the style of the project (e.g. never omit braces in if statements)\n[ x ] You have commented your code, particularly in hard-to-understand areas\n[ x ] You have performed a self-review of your own code", "createdAt": "2020-06-11T13:57:45Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6433", "merged": true, "mergeCommit": {"oid": "245547559622ea7dbf5e3843ce8550ed8280937d"}, "closed": true, "closedAt": "2020-06-12T19:06:23Z", "author": {"login": "infinyte7"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqOa3ZgH2gAyNDMzMDk4NDA4OjcyNjM0ODY2NmI3N2VjOTVhYzlmNmZhNDY5NzA0NjgwNjQ5Njk0NWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqm58XgFqTQyOTk0MzYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "726348666b77ec95ac9f6fa4697046806496945c", "author": {"user": {"login": "infinyte7", "name": "Mani"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/726348666b77ec95ac9f6fa4697046806496945c", "committedDate": "2020-06-11T13:38:55Z", "message": "\tShow or Hide Top bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5972832a270faf6395ae7d980d61035e82629cd6", "author": {"user": {"login": "infinyte7", "name": "Mani"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/5972832a270faf6395ae7d980d61035e82629cd6", "committedDate": "2020-06-11T14:04:35Z", "message": "\tUpdated AbstractFlashcardViewer.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTUwMzEz", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#pullrequestreview-428950313", "createdAt": "2020-06-11T14:08:38Z", "commit": {"oid": "5972832a270faf6395ae7d980d61035e82629cd6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MDM5Nzcx", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#pullrequestreview-429039771", "createdAt": "2020-06-11T15:39:25Z", "commit": {"oid": "5972832a270faf6395ae7d980d61035e82629cd6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTozOToyNVrOGijNag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTozOTo1NVrOGijPMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4MTY0Mg==", "bodyText": "You shouldn't need to do this, it should be handled internally by the preference if you set the key", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#discussion_r438881642", "createdAt": "2020-06-11T15:39:25Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -220,6 +220,18 @@ private void initSubscreen(String action, PreferenceContext listener) {\n                     startActivity(i);\n                     return true;\n                 });\n+                //show / hide top bar\n+                CheckBoxPreference showTopBar = (CheckBoxPreference) screen.findPreference(\"showTopbar\");\n+                showTopBar.setOnPreferenceClickListener(preference -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5972832a270faf6395ae7d980d61035e82629cd6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4MjA5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    mPrefShowTopbar = preferences.getBoolean(\"top_bar\",false);\n          \n          \n            \n                    mPrefShowTopbar = preferences.getBoolean(\"top_bar\", false);", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#discussion_r438882099", "createdAt": "2020-06-11T15:39:55Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1654,6 +1655,7 @@ protected SharedPreferences restorePreferences() {\n         mPrefWaitQuestionSecond = preferences.getInt(\"timeoutQuestionSeconds\", 60);\n         mScrollingButtons = preferences.getBoolean(\"scrolling_buttons\", false);\n         mDoubleScrolling = preferences.getBoolean(\"double_scrolling\", false);\n+        mPrefShowTopbar = preferences.getBoolean(\"top_bar\",false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5972832a270faf6395ae7d980d61035e82629cd6"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "825b1e777ab23e755ba37a684e6537803fef7259", "author": {"user": {"login": "infinyte7", "name": "Mani"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/825b1e777ab23e755ba37a684e6537803fef7259", "committedDate": "2020-06-11T17:52:46Z", "message": "\tUpdated AbstractFlashcardViewer.java, Preferences.java, preferences_reviewing.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f4f2eb23c78e681a2a9d17ad49f5af1b97a8bfb", "author": {"user": {"login": "infinyte7", "name": "Mani"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/3f4f2eb23c78e681a2a9d17ad49f5af1b97a8bfb", "committedDate": "2020-06-11T17:54:27Z", "message": "Update AbstractFlashcardViewer.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MTY4Mzkx", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#pullrequestreview-429168391", "createdAt": "2020-06-11T18:11:20Z", "commit": {"oid": "3f4f2eb23c78e681a2a9d17ad49f5af1b97a8bfb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTQzNjA3", "url": "https://github.com/ankidroid/Anki-Android/pull/6433#pullrequestreview-429943607", "createdAt": "2020-06-12T18:10:35Z", "commit": {"oid": "3f4f2eb23c78e681a2a9d17ad49f5af1b97a8bfb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3179, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}