{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3OTcyNzM2", "number": 7640, "title": "Fix #7466: Round Doubles when displaying Deck Options", "bodyText": "Pull Request template\nPurpose / Description\nWhen you modify some of the deck options like Reviews/Easy Bonus or Reviews/Interval wrong value is displayed.\nFor example if you modify Easy Bonus to 130 the actual value that is shown in the UI is 129%. This only happens for some values and must be related to some rounding issue.\nFixes\nFixes #7466\nFixes #4448\nApproach\n\nChanging  Integer.toString() method to String.format(\"%.0f\", ...) that rounds Double values into nearest number without decimals.\n\nHow Has This Been Tested?\n\nEmulated device Pixel 3a SDK 29.\n\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-11-09T18:57:55Z", "url": "https://github.com/ankidroid/Anki-Android/pull/7640", "merged": true, "mergeCommit": {"oid": "43f3d9cfdd8a15f512ceb9038fd4ccc7c443f880"}, "closed": true, "closedAt": "2020-11-10T11:43:52Z", "author": {"login": "Volfee"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABda5jwxgFqTUyNjU2NjQ3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbHuPbAFqTUyNzExMTg3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTY2NDc3", "url": "https://github.com/ankidroid/Anki-Android/pull/7640#pullrequestreview-526566477", "createdAt": "2020-11-09T19:02:55Z", "commit": {"oid": "66f09d5fc40c0b06980d02471d1dae79a271b0ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxOTowMjo1NVrOHv9M4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxOTowMjo1NVrOHv9M4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA0Nzg0MA==", "bodyText": "I just learned about this a few days ago, but I think you can use Locale.ROOT for locale-sensitive operations where you do not actually care about the locale? https://developer.android.com/reference/java/util/Locale#ROOT", "url": "https://github.com/ankidroid/Anki-Android/pull/7640#discussion_r520047840", "createdAt": "2020-11-09T19:02:55Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/DeckOptions.java", "diffHunk": "@@ -106,6 +107,7 @@ public DeckOptions getDeckOptions() {\n         }\n \n \n+        @SuppressLint(\"DefaultLocale\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66f09d5fc40c0b06980d02471d1dae79a271b0ca"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTY3MTIz", "url": "https://github.com/ankidroid/Anki-Android/pull/7640#pullrequestreview-526567123", "createdAt": "2020-11-09T19:03:46Z", "commit": {"oid": "66f09d5fc40c0b06980d02471d1dae79a271b0ca"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a536b456b3946b0c58cef1b37241efab1618cc1", "author": {"user": {"login": "Volfee", "name": "Przemyslaw Wilk"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/4a536b456b3946b0c58cef1b37241efab1618cc1", "committedDate": "2020-11-10T10:02:48Z", "message": "Changing Integer.toString() to String.format(\"%.0f\", ...) method when reading Double type deck options that are stored in JSON. This prevents displaying incorrect values to users by rounding them to nearest number. fix/7466"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49286c9867f22aca647f1a715cddd8aed1e63ba7", "author": {"user": {"login": "Volfee", "name": "Przemyslaw Wilk"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/49286c9867f22aca647f1a715cddd8aed1e63ba7", "committedDate": "2020-11-10T10:05:36Z", "message": "Merge remote-tracking branch 'upstream/master' into rounding_deck_options"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66f09d5fc40c0b06980d02471d1dae79a271b0ca", "author": {"user": {"login": "Volfee", "name": "Przemyslaw Wilk"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/66f09d5fc40c0b06980d02471d1dae79a271b0ca", "committedDate": "2020-11-09T18:48:02Z", "message": "Changing Integer.toString() to String.format(\"%.0f\", ...) method when reading Double type deck options that are stored in JSON. This prevents displaying incorrect values to users by rounding them to nearest number. fix/7466"}, "afterCommit": {"oid": "49286c9867f22aca647f1a715cddd8aed1e63ba7", "author": {"user": {"login": "Volfee", "name": "Przemyslaw Wilk"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/49286c9867f22aca647f1a715cddd8aed1e63ba7", "committedDate": "2020-11-10T10:05:36Z", "message": "Merge remote-tracking branch 'upstream/master' into rounding_deck_options"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13384e37228ba4d123ecfcd52d04fcf017ef1b62", "author": {"user": {"login": "Volfee", "name": "Przemyslaw Wilk"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/13384e37228ba4d123ecfcd52d04fcf017ef1b62", "committedDate": "2020-11-10T10:24:06Z", "message": "Remove unnecessary import."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MTExODcx", "url": "https://github.com/ankidroid/Anki-Android/pull/7640#pullrequestreview-527111871", "createdAt": "2020-11-10T11:33:02Z", "commit": {"oid": "13384e37228ba4d123ecfcd52d04fcf017ef1b62"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3831, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}