{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NjM2Nzkz", "number": 7306, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzoyNzoxOVrOEojJuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzoyNzoxOVrOEojJuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwOTU0NDI3OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Models.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzoyNzoxOVrOHZtF7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1MDowNFrOHZ0krQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxNTI0NA==", "bodyText": "could be a constant, also is there any chance of getting at least a basic test of the area altered to make sure it actually didn't break (and to give you something to build on when you learn why it broke in something completely unexpected way later...)", "url": "https://github.com/ankidroid/Anki-Android/pull/7306#discussion_r496715244", "createdAt": "2020-09-29T13:27:19Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Models.java", "diffHunk": "@@ -1062,9 +1062,45 @@ private void _updateRequired(Model m) {\n     }\n \n \n+    /**\n+     * @param type Whether the rules to generate this card is is any, all, none\n+     * @param req The fields that must be fill (all), or that suffices (any) to generate the card\n+     * @param trimmedFields the field of a note. Fields are assumed to be trimmed\n+     * @return Whether the card is empty\n+     */\n+    public static boolean emptyStandardCard(String type, JSONArray req, String[] trimmedFields) {\n+        if (\"none\".equals(type)) {\n+            // unsatisfiable template\n+            return true;\n+        }\n+        if (\"all\".equals(type)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a5e474d8e32122ad3c31ba3159a656bf208e5fb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgzNzgwNQ==", "bodyText": "It could be a constant, indeed. It can't be an enum since it's an element of JSON\nWe already have test covering whether card are empty or not. That's the test in ModelTest which check which cards are generated (i.e. we only generate the non-empty cards)", "url": "https://github.com/ankidroid/Anki-Android/pull/7306#discussion_r496837805", "createdAt": "2020-09-29T15:50:04Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Models.java", "diffHunk": "@@ -1062,9 +1062,45 @@ private void _updateRequired(Model m) {\n     }\n \n \n+    /**\n+     * @param type Whether the rules to generate this card is is any, all, none\n+     * @param req The fields that must be fill (all), or that suffices (any) to generate the card\n+     * @param trimmedFields the field of a note. Fields are assumed to be trimmed\n+     * @return Whether the card is empty\n+     */\n+    public static boolean emptyStandardCard(String type, JSONArray req, String[] trimmedFields) {\n+        if (\"none\".equals(type)) {\n+            // unsatisfiable template\n+            return true;\n+        }\n+        if (\"all\".equals(type)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxNTI0NA=="}, "originalCommit": {"oid": "0a5e474d8e32122ad3c31ba3159a656bf208e5fb"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 806, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}