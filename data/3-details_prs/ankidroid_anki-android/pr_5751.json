{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NjEyMjA1", "number": 5751, "title": "Uses float in browser's interval", "bodyText": "As requested on #5549 to be similar to anki\nIt has not be tested on phone, the reason is explained in this bug report: #5750", "createdAt": "2020-02-14T23:20:26Z", "url": "https://github.com/ankidroid/Anki-Android/pull/5751", "merged": true, "mergeCommit": {"oid": "07fe306049051b6909b7f33033ac8d2c25d0861e"}, "closed": true, "closedAt": "2020-04-02T19:28:39Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEYXtiABqjMwNDA0NTI1ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTu15ogFqTM4NjU5MjA3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca431281e80b96cb6e2c79b26b9e2ffca1a0dd3e", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/ca431281e80b96cb6e2c79b26b9e2ffca1a0dd3e", "committedDate": "2020-02-14T23:05:07Z", "message": "Uses float in browser's interval\n\nAs requested on\nhttps://github.com/ankidroid/Anki-Android/pull/5700#issuecomment-586382718\nto be similar to anki"}, "afterCommit": {"oid": "a7b319e769c3a7606de9de8160d3e59d377a4116", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/a7b319e769c3a7606de9de8160d3e59d377a4116", "committedDate": "2020-02-14T23:40:16Z", "message": "Uses float in browser's interval\n\nAs requested on\nhttps://github.com/ankidroid/Anki-Android/pull/5700#issuecomment-586382718\nto be similar to anki"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14bc686f900b30b99e044a295d9da7d66798be3d", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/14bc686f900b30b99e044a295d9da7d66798be3d", "committedDate": "2020-02-15T00:15:02Z", "message": "Uses float in browser's interval\n\nAs requested on\nhttps://github.com/ankidroid/Anki-Android/pull/5700#issuecomment-586382718\nto be similar to anki"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7b319e769c3a7606de9de8160d3e59d377a4116", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/a7b319e769c3a7606de9de8160d3e59d377a4116", "committedDate": "2020-02-14T23:40:16Z", "message": "Uses float in browser's interval\n\nAs requested on\nhttps://github.com/ankidroid/Anki-Android/pull/5700#issuecomment-586382718\nto be similar to anki"}, "afterCommit": {"oid": "14bc686f900b30b99e044a295d9da7d66798be3d", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/14bc686f900b30b99e044a295d9da7d66798be3d", "committedDate": "2020-02-15T00:15:02Z", "message": "Uses float in browser's interval\n\nAs requested on\nhttps://github.com/ankidroid/Anki-Android/pull/5700#issuecomment-586382718\nto be similar to anki"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzQyODY2", "url": "https://github.com/ankidroid/Anki-Android/pull/5751#pullrequestreview-359342866", "createdAt": "2020-02-15T12:20:39Z", "commit": {"oid": "14bc686f900b30b99e044a295d9da7d66798be3d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQxMjoyMDozOVrOFqO4mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQxMjoyMDozOVrOFqO4mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTgyODM3OQ==", "bodyText": "This bothers me just a little bit - it means there is a chunk of strings that add bold HTML tags without knowing we rely on the tags here. I think we either need a quick comment here https://github.com/ankidroid/Anki-Android/blob/master/AnkiDroid/src/main/res/values/06-statistics.xml#L75 mentioning if the format changes you need to change this Utils method, or a second batch of formatted strings without the formatting\nIn looking for the alternative (a second batch), perhaps these are useful, they take floats for the months and years (where we need them I think) https://github.com/ankidroid/Anki-Android/blob/master/AnkiDroid/src/main/res/values/01-core.xml#L115", "url": "https://github.com/ankidroid/Anki-Android/pull/5751#discussion_r379828379", "createdAt": "2020-02-15T12:20:39Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -192,7 +192,21 @@ public static String timeSpan(Context context, long time_s) {\n      *\n      * @param context The application's environment.\n      * @param time_s The time to format, in seconds\n-     * @return The formatted, localized time string. The time is always a float.\n+     * @return The formatted, localized time string. The time is always a float. E.g. \"27.0 days\"\n+     */\n+    public static String roundedTimeSpanUnformatted(Context context, long time_s) {\n+        // As roundedTimeSpan, but without tags; for place where you don't use HTML\n+        return roundedTimeSpan(context, time_s).replace(\"<b>\", \"\").replace(\"</b>\", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14bc686f900b30b99e044a295d9da7d66798be3d"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "297a8efadef3673b9327ee289fe12371c211c04f", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/297a8efadef3673b9327ee289fe12371c211c04f", "committedDate": "2020-04-02T15:59:20Z", "message": "Merge branch 'master' into floatInIntervalInBrowser"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTkyMDc5", "url": "https://github.com/ankidroid/Anki-Android/pull/5751#pullrequestreview-386592079", "createdAt": "2020-04-02T16:25:09Z", "commit": {"oid": "297a8efadef3673b9327ee289fe12371c211c04f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3673, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}