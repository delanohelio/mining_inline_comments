{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxOTM4NTY4", "number": 6250, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzoxMzoxOFrOD_BLkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzoxMzoxOFrOD_BLkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDA2MjI3OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzoxMzoxOFrOGZeQLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzo1NDozMVrOGZfYAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM2MzI0NQ==", "bodyText": "I hesitate on this choice - is it occluding / hiding elements by being on top of them? If so the material guidelines used to state transient elements should never be permanent, and indefinite length is actually sort of new here. Maybe 2*LONG but not permanent? Or if it is not hiding anything (and actually, it may not be) then this is okay, but any new set of results or another search  should dismiss it", "url": "https://github.com/ankidroid/Anki-Android/pull/6250#discussion_r429363245", "createdAt": "2020-05-22T17:13:18Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "diffHunk": "@@ -1699,11 +1701,54 @@ private void handleSearchResult() {\n             Timber.i(\"CardBrowser:: Completed doInBackgroundSearchCards Successfully\");\n             updateList();\n             if ((mSearchView != null) && !mSearchView.isIconified()) {\n-                UIUtils.showSimpleSnackbar(CardBrowser.this, getSubtitleText(), true);\n+                if (getCardCount() == 0 && !hasSelectedAllDecks()) {\n+                    View root = CardBrowser.this.findViewById(R.id.root_layout);\n+                    UIUtils.showSnackbar(CardBrowser.this,\n+                            getString(R.string.card_browser_no_cards_in_deck, getSelectedDeckNameForUi()),\n+                            LENGTH_INDEFINITE,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67415a0ad4820eb62662ee6a363dc33a4797c7f2"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM2ODkyNQ==", "bodyText": "Today I learned, let's use CardBrowser.SNACKBAR_DURATION (8000)?", "url": "https://github.com/ankidroid/Anki-Android/pull/6250#discussion_r429368925", "createdAt": "2020-05-22T17:26:25Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "diffHunk": "@@ -1699,11 +1701,54 @@ private void handleSearchResult() {\n             Timber.i(\"CardBrowser:: Completed doInBackgroundSearchCards Successfully\");\n             updateList();\n             if ((mSearchView != null) && !mSearchView.isIconified()) {\n-                UIUtils.showSimpleSnackbar(CardBrowser.this, getSubtitleText(), true);\n+                if (getCardCount() == 0 && !hasSelectedAllDecks()) {\n+                    View root = CardBrowser.this.findViewById(R.id.root_layout);\n+                    UIUtils.showSnackbar(CardBrowser.this,\n+                            getString(R.string.card_browser_no_cards_in_deck, getSelectedDeckNameForUi()),\n+                            LENGTH_INDEFINITE,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM2MzI0NQ=="}, "originalCommit": {"oid": "67415a0ad4820eb62662ee6a363dc33a4797c7f2"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM4MTYzMw==", "bodyText": "8000 would certainly be transient so wouldn't ever really have a problem and then you won't have to worry about dismissing. Still might be strange if they do any other search and the snackbar stays there, but they'll be racing an 8 second timer at that point. Possible some people could win but not by much. 8's fine by me", "url": "https://github.com/ankidroid/Anki-Android/pull/6250#discussion_r429381633", "createdAt": "2020-05-22T17:54:31Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java", "diffHunk": "@@ -1699,11 +1701,54 @@ private void handleSearchResult() {\n             Timber.i(\"CardBrowser:: Completed doInBackgroundSearchCards Successfully\");\n             updateList();\n             if ((mSearchView != null) && !mSearchView.isIconified()) {\n-                UIUtils.showSimpleSnackbar(CardBrowser.this, getSubtitleText(), true);\n+                if (getCardCount() == 0 && !hasSelectedAllDecks()) {\n+                    View root = CardBrowser.this.findViewById(R.id.root_layout);\n+                    UIUtils.showSnackbar(CardBrowser.this,\n+                            getString(R.string.card_browser_no_cards_in_deck, getSelectedDeckNameForUi()),\n+                            LENGTH_INDEFINITE,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM2MzI0NQ=="}, "originalCommit": {"oid": "67415a0ad4820eb62662ee6a363dc33a4797c7f2"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 277, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}