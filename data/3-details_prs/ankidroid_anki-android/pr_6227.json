{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNTMwNjc0", "number": 6227, "title": "Trying to remove blink during review", "bodyText": "I follow the idea given in #6224 . Given the feedback I received, I don't expect this PR to be accepted, but it was quick to do and to test, so I thought I'd still give it a try.\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution.\nPull Request template\nPurpose / Description\nUsers sees buttons blinking/flickering when they review. This is because buttons are deactivated and reactivated immediately.\nFixes\nOnly change color if we expect the scheduler to take time to give the new card, because we know that it needs to recompute the queue. Otherwise, assume that the card will come quickly and so changing the color is useless.\nApproach\nAvoiding flicker for the most common case. Letting potential flickr for the slower and rarer actions.\nHow Has This Been Tested?\nAndroid emulator, with a few card reviewed and cancelled.\nLearning (optional, can help others)\nI did the research when I tried to find where ankidroid was slow. I have no made any research for this bug right now. The idea actually arrived when I read \"TL;DR: Predicting future events is hard\" in #6224 (comment) and realized that I was disagreeing with it, and that I already have a model of which events are quick/slow\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-20T06:14:01Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6227", "merged": true, "mergeCommit": {"oid": "eabce85edb3981d5a8c68f16f1dbc51671d932fe"}, "closed": true, "closedAt": "2020-05-20T22:15:35Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjDcHBgBqjMzNTQ5Njk3MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjOqyJAFqTQxNTY2OTkzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "502bb6f48c72ecf16658f04ac9e59cd7a9cb9f52", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/502bb6f48c72ecf16658f04ac9e59cd7a9cb9f52", "committedDate": "2020-05-20T06:05:34Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}, "afterCommit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/ddd80f11f1482e45b4436b6d18551f3db61f6cad", "committedDate": "2020-05-20T06:53:38Z", "message": "Don't re-enable undo icon\n\nIt may be useful to disable it. But it already get re-enabled by\nsetCustomButtons so there is no reason to re-enable it.\n\nThis is particularly important because otherwise the button may be\nactivated while actually the undo action is blocked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MjAxNTI5", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415201529", "createdAt": "2020-05-20T10:31:35Z", "commit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMTozNVrOGYFXFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMzoyMlrOGYFalA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNjgzOA==", "bodyText": "nit: UNBLOCKED would read better than NONE", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r427906838", "createdAt": "2020-05-20T10:31:35Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -2244,7 +2243,7 @@ private boolean typeAnswer() {\n \n \n     private void unblockControls() {\n-        mControlBlocked = false;\n+        mControlBlocked = ControlBlock.NONE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNzQxMw==", "bodyText": "getControlBlocked() != ControlBlock.NONE is duplicated, could it be extracted into a method", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r427907413", "createdAt": "2020-05-20T10:32:44Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -786,7 +784,7 @@ public void onWindowFocusChanged(boolean hasFocus) {\n      * @return true if there is another card of same note that could be dismissed\n      */\n     private boolean suspendNoteAvailable() {\n-        if (mCurrentCard == null || getControlBlocked()) {\n+        if (mCurrentCard == null || getControlBlocked() != ControlBlock.NONE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNzczMg==", "bodyText": "Could a short comment be added explaining the intention", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r427907732", "createdAt": "2020-05-20T10:33:22Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/reviewer/ActionButtonStatus.java", "diffHunk": "@@ -73,16 +73,17 @@ public void setCustomButtons(Menu menu) {\n                 MenuItem item = menu.findItem(itemId);\n                 item.setShowAsAction(mCustomButtons.get(itemId));\n                 Drawable icon = item.getIcon();\n-                if (mReviewerUi.getControlBlocked()) {\n-                    item.setEnabled(false);\n-                    if (icon != null) {\n+                if (icon != null) {\n+                    if (mReviewerUi.getControlBlocked() == ReviewerUi.ControlBlock.SLOW) {\n                         icon.setAlpha(Themes.ALPHA_ICON_DISABLED_LIGHT);\n+                    } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "116d5f1d3f08303552f1176754f3ef4a65563d47", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/116d5f1d3f08303552f1176754f3ef4a65563d47", "committedDate": "2020-05-20T16:22:47Z", "message": "NF: make TaskListener final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d29def83e67fbd0eb62dde39adbfb4faa82594ff", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/d29def83e67fbd0eb62dde39adbfb4faa82594ff", "committedDate": "2020-05-20T16:22:49Z", "message": "NF: remove blockControls from undo\n\nThis is useless, since mAnswerCardHandler starts by doing blockControls"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ddd80f11f1482e45b4436b6d18551f3db61f6cad", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/ddd80f11f1482e45b4436b6d18551f3db61f6cad", "committedDate": "2020-05-20T06:53:38Z", "message": "Don't re-enable undo icon\n\nIt may be useful to disable it. But it already get re-enabled by\nsetCustomButtons so there is no reason to re-enable it.\n\nThis is particularly important because otherwise the button may be\nactivated while actually the undo action is blocked"}, "afterCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/0e5ffaaf8d234199344663edc4940948fbeec23a", "committedDate": "2020-05-20T16:37:34Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTU1Mjk1", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415555295", "createdAt": "2020-05-20T17:22:26Z", "commit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzoyMjoyNlrOGYWI3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzoyMjoyNlrOGYWI3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE4MTcyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    /** Buttons are functionals*/\n          \n          \n            \n                    /** Buttons are non-functional */", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r428181726", "createdAt": "2020-05-20T17:22:26Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/reviewer/ReviewerUi.java", "diffHunk": "@@ -17,5 +17,19 @@\n package com.ichi2.anki.reviewer;\n \n public interface ReviewerUi {\n-    boolean getControlBlocked();\n+    /** How to block UI buttons. */\n+    enum ControlBlock {\n+        /** Buttons are functionals*/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTUyMTI2", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415552126", "createdAt": "2020-05-20T17:18:13Z", "commit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzoxODoxM1rOGYV_NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzoyMToyOFrOGYWGtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE3OTI1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                We use an heuristic to decide whether the next card will appear quickly or slowly.\n          \n          \n            \n                                We use a heuristic to decide whether the next card will appear quickly or slowly.", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r428179253", "createdAt": "2020-05-20T17:18:13Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/reviewer/ActionButtonStatus.java", "diffHunk": "@@ -73,14 +73,23 @@ public void setCustomButtons(Menu menu) {\n                 MenuItem item = menu.findItem(itemId);\n                 item.setShowAsAction(mCustomButtons.get(itemId));\n                 Drawable icon = item.getIcon();\n-                if (mReviewerUi.getControlBlocked()) {\n+                if (mReviewerUi.isControlBlocked()) {\n                     item.setEnabled(false);\n-                    if (icon != null) {\n-                        icon.setAlpha(Themes.ALPHA_ICON_DISABLED_LIGHT);\n-                    }\n                 } else {\n                     item.setEnabled(true);\n-                    if (icon != null) {\n+                }\n+                if (icon != null) {\n+                    /* Ideially, we want to give feedback to users that buttons are disabled.\n+                    However, some actions are expected to be so quick that the visual feedback is useless\n+                    and is only seen as a flickering.\n+\n+                    We use an heuristic to decide whether the next card will appear quickly or slowly.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE3OTQzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    /** Buttons are functionals*/\n          \n          \n            \n                    /** Buttons are functional */", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r428179438", "createdAt": "2020-05-20T17:18:34Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/reviewer/ReviewerUi.java", "diffHunk": "@@ -17,5 +17,19 @@\n package com.ichi2.anki.reviewer;\n \n public interface ReviewerUi {\n-    boolean getControlBlocked();\n+    /** How to block UI buttons. */\n+    enum ControlBlock {\n+        /** Buttons are functionals*/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE4MTE3NA==", "bodyText": "I don't think this needs to exist as it's the same as the base class", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#discussion_r428181174", "createdAt": "2020-05-20T17:21:28Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/test/java/com/ichi2/anki/ReviewerKeyboardInputTest.java", "diffHunk": "@@ -267,15 +268,20 @@ private void assertGamepadButtonAnswers(int keycodeButton, int ease) {\n         private Collection.DismissType mDismissType;\n         private boolean mUndoCalled;\n         private boolean mReplayAudioCalled;\n-        private boolean mControlsAreBlocked = false;\n+        private ControlBlock mControlsAreBlocked = ControlBlock.UNBLOCKED;\n         private boolean mUndoAvailable;\n \n \n         @Override\n-        public boolean getControlBlocked() {\n+        public ControlBlock getControlBlocked() {\n             return mControlsAreBlocked;\n         }\n \n+        @Override\n+        public boolean isControlBlocked() {\n+            return getControlBlocked() != ControlBlock.UNBLOCKED;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTU2NzQ4", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415556748", "createdAt": "2020-05-20T17:24:10Z", "commit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afc4c50075a756366d24d947a075f2938efe9717", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/afc4c50075a756366d24d947a075f2938efe9717", "committedDate": "2020-05-20T18:34:50Z", "message": "NF: getControlBlocked -> isControlBlocked"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2f2d6c871814eefcabf0ac0c8923ac76d2eb9f3", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f2f2d6c871814eefcabf0ac0c8923ac76d2eb9f3", "committedDate": "2020-05-20T18:41:10Z", "message": "NF: split a if in two parts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "126a778409f919bb3929e510a224bfb44c08532e", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/126a778409f919bb3929e510a224bfb44c08532e", "committedDate": "2020-05-20T18:41:27Z", "message": "NF: replace if by using the value directly"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e5ffaaf8d234199344663edc4940948fbeec23a", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/0e5ffaaf8d234199344663edc4940948fbeec23a", "committedDate": "2020-05-20T16:37:34Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}, "afterCommit": {"oid": "c3f511220dd0a7e6a6c0d95fe82c7d743453eb13", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/c3f511220dd0a7e6a6c0d95fe82c7d743453eb13", "committedDate": "2020-05-20T18:42:59Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda", "committedDate": "2020-05-20T18:52:48Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3f511220dd0a7e6a6c0d95fe82c7d743453eb13", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/c3f511220dd0a7e6a6c0d95fe82c7d743453eb13", "committedDate": "2020-05-20T18:42:59Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}, "afterCommit": {"oid": "2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda", "committedDate": "2020-05-20T18:52:48Z", "message": "Trying to remove blink during review\n\nThere are three ways to block buttons. Not blocking (i.e. buttons are\nactivated), quick blocking and slow blocking. Buttons are grayed only\nif we expect the blocking to be slow. I.e. when we need to recompute\nthe queue because the user decided to undo/bury/suspend or just loaded\nthe deck. Otherwise, we expect the next card to load quickly, and so\ncan block the buttons without graying them. This will ensure that the\nbuttons does not blink.\n\nNote that loading the next card can sometime be slow, so it's still\nnot a perfect solution. This is a counter proposition to\nhttps://github.com/ankidroid/Anki-Android/pull/6224"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NjY0NTc1", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415664575", "createdAt": "2020-05-20T19:51:01Z", "commit": {"oid": "2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NjY5OTM3", "url": "https://github.com/ankidroid/Anki-Android/pull/6227#pullrequestreview-415669937", "createdAt": "2020-05-20T19:58:50Z", "commit": {"oid": "2135aabda2d88ac63bd47ff7bfb8429fd5ae8cda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3292, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}