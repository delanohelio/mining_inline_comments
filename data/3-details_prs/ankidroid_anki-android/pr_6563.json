{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwODA0Mzgx", "number": 6563, "title": "Factorize main children", "bodyText": "This is the next step in order to load names before numbers: #6522\nBy itself, it would be nice to factorize code.\nHowever, the main reason to do it is that it allows to create a second class, DeckTreeNode, which has no number. The tree can be created the same way in both class. In the class with numbers, numbers are added, limits are respected, while in the simpler class, setChildren simply change the value of mChildren.\nIn order to ease readability, I keep this PR small", "createdAt": "2020-06-26T22:01:17Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6563", "merged": true, "mergeCommit": {"oid": "4e3a14abee44d74ad1fd7bb1e9cc22f6d21292a4"}, "closed": true, "closedAt": "2020-06-28T17:32:28Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvKRV9gH2gAyNDQwODA0MzgxOmRlMDZmNzdkM2NjZmIyNDRhZjdiMzg0N2ZhNGE3ZWM3N2I0NDU3NGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvvRmUgFqTQzODc5NTY1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "de06f77d3ccfb244af7b3847fa4a7ec77b44574c", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/de06f77d3ccfb244af7b3847fa4a7ec77b44574c", "committedDate": "2020-06-26T21:38:31Z", "message": "NF: _groupChildrenMain saves children in node.children"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd73afb631c469f6ced60f4b777362f9567e8a13", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/cd73afb631c469f6ced60f4b777362f9567e8a13", "committedDate": "2020-06-26T21:55:07Z", "message": "NF: simplifies _groupChildrenMain\n\nInstead of using external variables, we directly put values in the\nnode and keep the node"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjQ3NTM3", "url": "https://github.com/ankidroid/Anki-Android/pull/6563#pullrequestreview-438647537", "createdAt": "2020-06-26T23:45:45Z", "commit": {"oid": "cd73afb631c469f6ced60f4b777362f9567e8a13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMzo0NTo0NVrOGpxXuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMzo0NTo0NVrOGpxXuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ1MzY4OA==", "bodyText": "The fact that we're still keeping the class as mutable is concerning, especially as we're weakening the invariants over it.\nAre you eventually planning on moving the mutable state into a factory method?", "url": "https://github.com/ankidroid/Anki-Android/pull/6563#discussion_r446453688", "createdAt": "2020-06-26T23:45:45Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/sched/AbstractSched.java", "diffHunk": "@@ -184,7 +188,8 @@\n         private int mRevCount;\n         private int mLrnCount;\n         private int mNewCount;\n-        private List<DeckDueTreeNode> mChildren = new ArrayList<>();\n+        @Nullable\n+        private List<DeckDueTreeNode> mChildren = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd73afb631c469f6ced60f4b777362f9567e8a13"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjQ3NTg4", "url": "https://github.com/ankidroid/Anki-Android/pull/6563#pullrequestreview-438647588", "createdAt": "2020-06-26T23:46:01Z", "commit": {"oid": "cd73afb631c469f6ced60f4b777362f9567e8a13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4Nzk1NjU5", "url": "https://github.com/ankidroid/Anki-Android/pull/6563#pullrequestreview-438795659", "createdAt": "2020-06-28T16:45:17Z", "commit": {"oid": "cd73afb631c469f6ced60f4b777362f9567e8a13"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3018, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}