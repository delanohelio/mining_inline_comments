{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTg2Mzg5", "number": 5795, "title": "Render flag as inline SVG for old API compatibility", "bodyText": "Pull Request template\nPurpose / Description\nThe Flags in the WebView weren't rendering on API<23\nThis replaces the partially supported emoji with an inline SVG image\nFixes\n#5768 (comment)\nApproach\nThere was no font on old APIs that had the unicode support necessary to show the flag emoji\nHow Has This Been Tested?\nI tested this on 6 emulators - all the ones mentioned in the comment here: #5768 (comment)\nto make sure I got the compatibility right\nLearning (optional, can help others)\nSupport really old devices is difficult \ud83e\udd37\u200d\u2642\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-03-07T19:51:34Z", "url": "https://github.com/ankidroid/Anki-Android/pull/5795", "merged": true, "mergeCommit": {"oid": "b9c8a542f18229fab4a5f8d4e2cb3a56a47c15c9"}, "closed": true, "closedAt": "2020-03-09T12:22:32Z", "author": {"login": "mikehardy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLaJhhgH2gAyMzg1MTg2Mzg5OjJiMjJiZTU0ZmI2NTg4MTYzMjRjNjllYWIxMGIyZDNlOTczMmFiOWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLaP-nAFqTM3MDc4NTcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/2b22be54fb658816324c69eab10b2d3e9732ab9a", "committedDate": "2020-03-07T19:47:11Z", "message": "Render flag as inline SVG for old API compatibility"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzg1Njk0", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#pullrequestreview-370785694", "createdAt": "2020-03-07T19:54:10Z", "commit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMFrOFzRdBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMFrOFzRdBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNzY1NQ==", "bodyText": "Issue found: Identifier 'flag_svg' is not in camel case.", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#discussion_r389307655", "createdAt": "2020-03-07T19:54:10Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/assets/scripts/card.js", "diffHunk": "@@ -142,6 +142,8 @@ function _drawMark(mark) {\n \n function _drawFlag(flag) {\n     var elem = document.getElementById(\"_flag\");\n+    var flag_svg = document.getElementById(\"_flag_svg\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzg1Njk4", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#pullrequestreview-370785698", "createdAt": "2020-03-07T19:54:11Z", "commit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMVrOFzRdCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMVrOFzRdCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNzY1OA==", "bodyText": "Issue found: Identifier 'flag_svg_path' is not in camel case.", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#discussion_r389307658", "createdAt": "2020-03-07T19:54:11Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/assets/scripts/card.js", "diffHunk": "@@ -155,4 +157,6 @@ function _drawFlag(flag) {\n     }\n     elem.style.display = \"inline\";\n     elem.style.color = _flagColours[flag-1];\n+    flag_svg.style.fill = _flagColours[flag-1];\n+    flag_svg_path.style.fill = _flagColours[flag-1];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzg1NzAw", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#pullrequestreview-370785700", "createdAt": "2020-03-07T19:54:12Z", "commit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMlrOFzRdDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxMlrOFzRdDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNzY2MQ==", "bodyText": "Issue found: Identifier 'flag_svg_path' is not in camel case.", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#discussion_r389307661", "createdAt": "2020-03-07T19:54:12Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/assets/scripts/card.js", "diffHunk": "@@ -142,6 +142,8 @@ function _drawMark(mark) {\n \n function _drawFlag(flag) {\n     var elem = document.getElementById(\"_flag\");\n+    var flag_svg = document.getElementById(\"_flag_svg\");\n+    var flag_svg_path = document.getElementById(\"_flag_svg_path\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzg1NzAy", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#pullrequestreview-370785702", "createdAt": "2020-03-07T19:54:13Z", "commit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxM1rOFzRdDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOTo1NDoxM1rOFzRdDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNzY2Mw==", "bodyText": "Issue found: Identifier 'flag_svg' is not in camel case.", "url": "https://github.com/ankidroid/Anki-Android/pull/5795#discussion_r389307663", "createdAt": "2020-03-07T19:54:13Z", "author": {"login": "timrae"}, "path": "AnkiDroid/src/main/assets/scripts/card.js", "diffHunk": "@@ -155,4 +157,6 @@ function _drawFlag(flag) {\n     }\n     elem.style.display = \"inline\";\n     elem.style.color = _flagColours[flag-1];\n+    flag_svg.style.fill = _flagColours[flag-1];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b22be54fb658816324c69eab10b2d3e9732ab9a"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3690, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}