{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MDc5NzUy", "number": 6828, "title": "Improve Firebase test quality", "bodyText": "Purpose / Description\nThe test client often opens the shared deck page and starts clicking links - this doesn't help testing for app bugs.\nApproach\nThis means that the app cannot load URLs or go fullscreen.\nThis makes it much more likely to find issues.\nAdded a toast to display to users in case this appears\nHow Has This Been Tested?\nNot yet - best way will be to see if we pick up more issues\nLearning (optional, can help others)\n\nhttps://stackoverflow.com/a/43598581/13121290\n\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-08-06T14:54:04Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6828", "merged": true, "mergeCommit": {"oid": "b77ce4909a72712281c52232c2f77ff4fb94b77a"}, "closed": true, "closedAt": "2020-08-06T17:02:30Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8RB1uAH2gAyNDY0MDc5NzUyOjdlMWNlZTE0YzU0MDkwOGQwZTc1OWM0MTc3MDJhMGZmN2ExYjY0MzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8SpL-gFqTQ2MjY5MjY1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e1cee14c540908d0e759c417702a0ff7a1b6436", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/7e1cee14c540908d0e759c417702a0ff7a1b6436", "committedDate": "2020-08-06T14:51:56Z", "message": "Improve Firebase test quality\n\nThis means that the app cannot load URLs or go fullscreen.\n\nThis makes it much more likely to find issues.\n\nAdded a toast to display to users in case this is triggered by a real device"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjE5MzE1", "url": "https://github.com/ankidroid/Anki-Android/pull/6828#pullrequestreview-462619315", "createdAt": "2020-08-06T15:16:27Z", "commit": {"oid": "7e1cee14c540908d0e759c417702a0ff7a1b6436"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNToxNjoyN1rOG84KJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNToxNjoyN1rOG84KJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ4Nzg0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"user_is_a_robot\">If you can see this, please contact support</string>\n          \n          \n            \n                <string name=\"user_is_a_robot\">Detected automated test. If you are a human, contact AnkiDroid support</string>\n          \n      \n    \n    \n  \n\nA little more informational breadcrumb for any unexpected humans, and a phrase I tested 'contact AnkiDroid support' that results in correct top result on google and duckduckgo\nSide note: The automated build process includes the changelog but not the manual, the manual uses a WebView, so clicking the help link in the app would still be disabled in this mode, though we could easily include the manual as well so it would work. This could be important as we bump minSdkVersion and users get a manual on an old version, for a current version if they can't update. Similarly, the support (\"feedback\") link could be copied into the app for offline access and then just referenced here as \"click feedback and follow instructions to report\"", "url": "https://github.com/ankidroid/Anki-Android/pull/6828#discussion_r466487846", "createdAt": "2020-08-06T15:16:27Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/res/values/02-strings.xml", "diffHunk": "@@ -291,6 +291,7 @@\n     <string name=\"note_importer_error_empty_notes\">One or more notes were not imported, because they didn\\'t generate any cards. This can happen when you have empty fields or when you have not mapped the content in the text file to the correct fields</string>\n     <string name=\"csv_importer_error_invalid_field_count\">\u2018%1$s\u2019 had %2$d fields, expected %3$d</string>\n     <string name=\"csv_importer_error_exception\">Aborted: %s</string>\n+    <string name=\"user_is_a_robot\">If you can see this, please contact support</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e1cee14c540908d0e759c417702a0ff7a1b6436"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b19b0c91355a0a0aedae3de06b250c048bdb58", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b5b19b0c91355a0a0aedae3de06b250c048bdb58", "committedDate": "2020-08-06T16:00:41Z", "message": "Improve automated test wording\n\nCo-authored-by: Mike Hardy <github@mikehardy.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjkyNjUz", "url": "https://github.com/ankidroid/Anki-Android/pull/6828#pullrequestreview-462692653", "createdAt": "2020-08-06T16:44:49Z", "commit": {"oid": "b5b19b0c91355a0a0aedae3de06b250c048bdb58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3106, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}