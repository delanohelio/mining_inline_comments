{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NDExNDM5", "number": 6624, "title": "AnkiDroidJS: display blank if button unavailable", "bodyText": "Purpose / Description\nBugfix - Previously the previous time was shown if Ease4 was unavailable\nFixes\nFixes #6623\nApproach\nSet the text to an empty string if the button is not available.\nHow Has This Been Tested?\n\u26a0\ufe0f Unit tested only\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-07-05T13:58:32Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6624", "merged": true, "mergeCommit": {"oid": "6de74dae15e6c93aa4f5b4e1d8ddd1f55181dcd8"}, "closed": true, "closedAt": "2020-07-06T20:59:13Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcx9UuWgFqTQ0MjY4MDgzOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyVid8gBqjM1MTcxNTczODY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjgwODM4", "url": "https://github.com/ankidroid/Anki-Android/pull/6624#pullrequestreview-442680838", "createdAt": "2020-07-05T14:15:06Z", "commit": {"oid": "7dd8301088b9afb80f9fb7fd9f2350cd25e80c11"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNVQxNDoxNTowNlrOGtCoYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNVQxNDoxNTowNlrOGtCoYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4MjIxMQ==", "bodyText": "The idea seems correct but rather than shoo the horses back in the barn after they escape, should all the button text be cleared on hideEaseButtons?\n\n  \n    \n      Anki-Android/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n    \n    \n        Lines 1614 to 1621\n      in\n      7dd8301\n    \n    \n    \n    \n\n        \n          \n           protected void hideEaseButtons() { \n        \n\n        \n          \n               mEase1Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase2Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase3Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase4Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mFlipCardLayout.setVisibility(View.VISIBLE); \n        \n\n        \n          \n               focusAnswerCompletionField(); \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nYou may have already considered that, but it seems like when if we need to empty strings because in JS vs Java we don't control visibility, we should do that in the same place we control visibility in java\nOtherwise, does seem like it would work here", "url": "https://github.com/ankidroid/Anki-Android/pull/6624#discussion_r449882211", "createdAt": "2020-07-05T14:15:06Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -693,12 +693,8 @@ protected void displayAnswerBottomBar() {\n         if (shouldShowNextReviewTime()) {\n             mNext1.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_ONE));\n             mNext2.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_TWO));\n-            if (buttonCount > 2) {\n-                mNext3.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_THREE));\n-            }\n-            if (buttonCount > 3) {\n-                mNext4.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_FOUR));\n-            }\n+            mNext3.setText(buttonCount > 2 ? mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_THREE) : \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd8301088b9afb80f9fb7fd9f2350cd25e80c11"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7dd8301088b9afb80f9fb7fd9f2350cd25e80c11", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/7dd8301088b9afb80f9fb7fd9f2350cd25e80c11", "committedDate": "2020-07-05T13:50:39Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}, "afterCommit": {"oid": "4e3aa9de1013284f2769b26e92157bdf815b1d41", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/4e3aa9de1013284f2769b26e92157bdf815b1d41", "committedDate": "2020-07-05T15:10:55Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjg4NzU1", "url": "https://github.com/ankidroid/Anki-Android/pull/6624#pullrequestreview-442688755", "createdAt": "2020-07-05T16:05:21Z", "commit": {"oid": "4e3aa9de1013284f2769b26e92157bdf815b1d41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e3aa9de1013284f2769b26e92157bdf815b1d41", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/4e3aa9de1013284f2769b26e92157bdf815b1d41", "committedDate": "2020-07-05T15:10:55Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}, "afterCommit": {"oid": "81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "committedDate": "2020-07-06T15:38:33Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "committedDate": "2020-07-06T15:38:33Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}, "afterCommit": {"oid": "67ea79451272b4d220be41805865349a2a5859d3", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/67ea79451272b4d220be41805865349a2a5859d3", "committedDate": "2020-07-06T15:58:35Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67ea79451272b4d220be41805865349a2a5859d3", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/67ea79451272b4d220be41805865349a2a5859d3", "committedDate": "2020-07-06T15:58:35Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}, "afterCommit": {"oid": "583b14841ae94274aadb4b849ddb614b1197a7ed", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/583b14841ae94274aadb4b849ddb614b1197a7ed", "committedDate": "2020-07-06T16:34:10Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f82d915c901883ea208592326bd5dd9653ba7715", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f82d915c901883ea208592326bd5dd9653ba7715", "committedDate": "2020-07-06T18:27:39Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "583b14841ae94274aadb4b849ddb614b1197a7ed", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/583b14841ae94274aadb4b849ddb614b1197a7ed", "committedDate": "2020-07-06T16:34:10Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}, "afterCommit": {"oid": "f82d915c901883ea208592326bd5dd9653ba7715", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f82d915c901883ea208592326bd5dd9653ba7715", "committedDate": "2020-07-06T18:27:39Z", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3082, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}