{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4ODM5MTY2", "number": 6193, "title": "Allow decreasing daily limits in custom study", "bodyText": "Pull Request template\nPurpose / Description\nAbility to decrease daily limits in custom study and consistency with desktop\nFixes\nFixes #5615, #5388\nApproach\nAllow negative inputs - same as on desktop\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is.\nHow Has This Been Tested?\nEmulator api 16 and 28\nGeneral ideas:\n\nIncreasing works\nDecreasing works - see above about going negative\nOnly numbers can be inputted\nNegatives can be inputted only for new cards and reviews\n\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-15T21:48:11Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6193", "merged": true, "mergeCommit": {"oid": "d31c3d19769371cb031bd4280918277c20d52f42"}, "closed": true, "closedAt": "2020-05-20T23:05:02Z", "author": {"login": "RSBat"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchpdQngFqTQxMjk5Mjg0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjOpIrAFqTQxNTY2ODY5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTkyODQ1", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#pullrequestreview-412992845", "createdAt": "2020-05-15T22:03:39Z", "commit": {"oid": "1dfa977721901b7467588b8bd265228fa25e2301"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTkzOTcx", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#pullrequestreview-412993971", "createdAt": "2020-05-15T22:06:59Z", "commit": {"oid": "1dfa977721901b7467588b8bd265228fa25e2301"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjowNzowMFrOGWVGmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjowNzowMFrOGWVGmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA2NzYxMQ==", "bodyText": "Can we change this to call use the same method call for validation to ensure the code stays in sync and we fix any other errors:\nLikely only want to perform this if we're a custom study extension dialog\n                    int n;\n                    try {\n                        n = Integer.parseInt(mEditText.getText().toString());\n                    } catch (Exception ignored) {\n                        n = Integer.MAX_VALUE;\n                    }", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#discussion_r426067611", "createdAt": "2020-05-15T22:07:00Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CustomStudyDialog.java", "diffHunk": "@@ -269,7 +273,7 @@ public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n \n             @Override\n             public void afterTextChanged(Editable editable) {\n-                if (editable.length() == 0) {\n+                if (editable.length() == 0 || \"-\".equals(editable.toString())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dfa977721901b7467588b8bd265228fa25e2301"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1dfa977721901b7467588b8bd265228fa25e2301", "author": {"user": {"login": "RSBat", "name": "Sergei Kozelko"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/1dfa977721901b7467588b8bd265228fa25e2301", "committedDate": "2020-05-15T21:44:01Z", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is."}, "afterCommit": {"oid": "fc4e02ea7dad9983e146be3d78e8f2b287369c28", "author": {"user": {"login": "RSBat", "name": "Sergei Kozelko"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/fc4e02ea7dad9983e146be3d78e8f2b287369c28", "committedDate": "2020-05-20T19:21:32Z", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NjQ3MDQ2", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#pullrequestreview-415647046", "createdAt": "2020-05-20T19:24:22Z", "commit": {"oid": "fc4e02ea7dad9983e146be3d78e8f2b287369c28"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfa2cff0d31fceb44107cececc18e6891289154d", "author": {"user": {"login": "RSBat", "name": "Sergei Kozelko"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/bfa2cff0d31fceb44107cececc18e6891289154d", "committedDate": "2020-05-20T19:30:43Z", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc4e02ea7dad9983e146be3d78e8f2b287369c28", "author": {"user": {"login": "RSBat", "name": "Sergei Kozelko"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/fc4e02ea7dad9983e146be3d78e8f2b287369c28", "committedDate": "2020-05-20T19:21:32Z", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is."}, "afterCommit": {"oid": "bfa2cff0d31fceb44107cececc18e6891289154d", "author": {"user": {"login": "RSBat", "name": "Sergei Kozelko"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/bfa2cff0d31fceb44107cececc18e6891289154d", "committedDate": "2020-05-20T19:30:43Z", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NjY4Njk5", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#pullrequestreview-415668699", "createdAt": "2020-05-20T19:57:02Z", "commit": {"oid": "bfa2cff0d31fceb44107cececc18e6891289154d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3270, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}