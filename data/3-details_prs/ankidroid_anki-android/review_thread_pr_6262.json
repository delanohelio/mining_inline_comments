{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMzA4OTk1", "number": 6262, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QxODozNzoxNVrOD_JgZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMjowNzozOFrOD_KIVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTQyNjI5OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QxODozNzoxNVrOGZqx9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMTowMTozNVrOGZrXQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU2ODUwMA==", "bodyText": "Can we remove this preference entirely?", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429568500", "createdAt": "2020-05-23T18:37:15Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -886,9 +886,7 @@ private void removeUnnecessaryAdvancedPrefs(PreferenceScreen screen) {\n             CheckBoxPreference fixHebrewText = (CheckBoxPreference) screen.findPreference(\"fixHebrewText\");\n             CompatHelper.removeHiddenPreferences(this.getApplicationContext());\n \n-            if (CompatHelper.getSdkVersion() >= 16) {\n-                workarounds.removePreference(fixHebrewText);\n-            }\n+            workarounds.removePreference(fixHebrewText);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4c5317bda2e9608858591da7a45eb65a04db13b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3MzQ5NA==", "bodyText": "Yes, it can be done. Should I remove related strings (like description) too?", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429573494", "createdAt": "2020-05-23T19:51:18Z", "author": {"login": "RSBat"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -886,9 +886,7 @@ private void removeUnnecessaryAdvancedPrefs(PreferenceScreen screen) {\n             CheckBoxPreference fixHebrewText = (CheckBoxPreference) screen.findPreference(\"fixHebrewText\");\n             CompatHelper.removeHiddenPreferences(this.getApplicationContext());\n \n-            if (CompatHelper.getSdkVersion() >= 16) {\n-                workarounds.removePreference(fixHebrewText);\n-            }\n+            workarounds.removePreference(fixHebrewText);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU2ODUwMA=="}, "originalCommit": {"oid": "e4c5317bda2e9608858591da7a45eb65a04db13b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDI3NQ==", "bodyText": "Yep! No point in burdening our translators with strings that people will never see.", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429574275", "createdAt": "2020-05-23T20:04:11Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -886,9 +886,7 @@ private void removeUnnecessaryAdvancedPrefs(PreferenceScreen screen) {\n             CheckBoxPreference fixHebrewText = (CheckBoxPreference) screen.findPreference(\"fixHebrewText\");\n             CompatHelper.removeHiddenPreferences(this.getApplicationContext());\n \n-            if (CompatHelper.getSdkVersion() >= 16) {\n-                workarounds.removePreference(fixHebrewText);\n-            }\n+            workarounds.removePreference(fixHebrewText);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU2ODUwMA=="}, "originalCommit": {"oid": "e4c5317bda2e9608858591da7a45eb65a04db13b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3ODA0OA==", "bodyText": "done", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429578048", "createdAt": "2020-05-23T21:01:35Z", "author": {"login": "RSBat"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -886,9 +886,7 @@ private void removeUnnecessaryAdvancedPrefs(PreferenceScreen screen) {\n             CheckBoxPreference fixHebrewText = (CheckBoxPreference) screen.findPreference(\"fixHebrewText\");\n             CompatHelper.removeHiddenPreferences(this.getApplicationContext());\n \n-            if (CompatHelper.getSdkVersion() >= 16) {\n-                workarounds.removePreference(fixHebrewText);\n-            }\n+            workarounds.removePreference(fixHebrewText);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU2ODUwMA=="}, "originalCommit": {"oid": "e4c5317bda2e9608858591da7a45eb65a04db13b"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTQ3MDg0OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/test/java/com/ichi2/compat/customtabs/CustomTabActivityHelperTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDowNjo1N1rOGZrJOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDowNjo1N1rOGZrJOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDQ1OA==", "bodyText": "Sorry about the mess, thank you!", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429574458", "createdAt": "2020-05-23T20:06:57Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/test/java/com/ichi2/compat/customtabs/CustomTabActivityHelperTest.java", "diffHunk": "@@ -58,7 +68,13 @@ public void invalidClientMeansFallbackIsCalled() {\n         customTabActivityHelper.onServiceConnected(badClient);\n \n         CustomTabActivityHelper.CustomTabFallback fallback = mock(CustomTabActivityHelper.CustomTabFallback.class);\n-        CustomTabActivityHelper.openCustomTab(null, null, null, fallback);\n+        Activity activity = mock(Activity.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1aeffe765834b32341874ea57a27b3687205a36"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTQ4MTAzOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/compat/CompatHelper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDoyNzozNlrOGZrOlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMTowMToyMFrOGZrXMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NTgzMA==", "bodyText": "should get rid of this at the same time I think since it is going away completely", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429575830", "createdAt": "2020-05-23T20:27:36Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/compat/CompatHelper.java", "diffHunk": "@@ -96,8 +96,6 @@ public static boolean hasScrollKeys() {\n \n     public static void removeHiddenPreferences(Context context) {\n         SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n-        if (getSdkVersion() >= 16) {\n-            preferences.edit().remove(\"fixHebrewText\").apply();\n-        }\n+        preferences.edit().remove(\"fixHebrewText\").apply();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1aeffe765834b32341874ea57a27b3687205a36"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3ODAzMg==", "bodyText": "done", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429578032", "createdAt": "2020-05-23T21:01:20Z", "author": {"login": "RSBat"}, "path": "AnkiDroid/src/main/java/com/ichi2/compat/CompatHelper.java", "diffHunk": "@@ -96,8 +96,6 @@ public static boolean hasScrollKeys() {\n \n     public static void removeHiddenPreferences(Context context) {\n         SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n-        if (getSdkVersion() >= 16) {\n-            preferences.edit().remove(\"fixHebrewText\").apply();\n-        }\n+        preferences.edit().remove(\"fixHebrewText\").apply();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NTgzMA=="}, "originalCommit": {"oid": "c1aeffe765834b32341874ea57a27b3687205a36"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTQ4MTMyOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/compat/customtabs/CustomTabActivityHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDoyODowOFrOGZrOug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDoyODowOFrOGZrOug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NTg2Ng==", "bodyText": "This is unrelated to the PR. I'm not against the change but PRs in general should stay focused on a single purpose", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429575866", "createdAt": "2020-05-23T20:28:08Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/compat/customtabs/CustomTabActivityHelper.java", "diffHunk": "@@ -51,7 +52,7 @@\n      * @param uri the Uri to be opened.\n      * @param fallback a CustomTabFallback to be used if Custom Tabs is not available.\n      */\n-    public static void openCustomTab(Activity activity,\n+    public static void openCustomTab(@NonNull Activity activity,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1aeffe765834b32341874ea57a27b3687205a36"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTUyODUzOnYy", "diffSide": "LEFT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/hooks/Hooks.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMjowNzozOFrOGZrmTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMzoxNzo0NlrOGZrzpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MTkwMA==", "bodyText": "Just a note for @Arthur-Milchior if you are working on Hooks that the HebreFixFilter hook is going away in this PR, it is dropped as no longer needed now that we are minSdkVersion of API16 for Android from #5665", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429581900", "createdAt": "2020-05-23T22:07:38Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/hooks/Hooks.java", "diffHunk": "@@ -53,9 +53,6 @@ private Hooks(Context context) {\n         new Leech().installHook(this);\n \n         // Preferences activated hooks\n-        if (prefs.getBoolean(\"fixHebrewText\", false)) {\n-            HebrewFixFilter.install(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "514c15959fc9d1767318103473e981b084487746"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4NTA3Ng==", "bodyText": "I'm working on top of master, so if this disappear quickly, I would probably notice it soon. I'll thus consider this hook last.", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429585076", "createdAt": "2020-05-23T23:12:16Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/hooks/Hooks.java", "diffHunk": "@@ -53,9 +53,6 @@ private Hooks(Context context) {\n         new Leech().installHook(this);\n \n         // Preferences activated hooks\n-        if (prefs.getBoolean(\"fixHebrewText\", false)) {\n-            HebrewFixFilter.install(this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MTkwMA=="}, "originalCommit": {"oid": "514c15959fc9d1767318103473e981b084487746"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4NTMxNg==", "bodyText": "@Arthur-Milchior merged just now - no more HebrewFixFilter on master", "url": "https://github.com/ankidroid/Anki-Android/pull/6262#discussion_r429585316", "createdAt": "2020-05-23T23:17:46Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/hooks/Hooks.java", "diffHunk": "@@ -53,9 +53,6 @@ private Hooks(Context context) {\n         new Leech().installHook(this);\n \n         // Preferences activated hooks\n-        if (prefs.getBoolean(\"fixHebrewText\", false)) {\n-            HebrewFixFilter.install(this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MTkwMA=="}, "originalCommit": {"oid": "514c15959fc9d1767318103473e981b084487746"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 287, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}