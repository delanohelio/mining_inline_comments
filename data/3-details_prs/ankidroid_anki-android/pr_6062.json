{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2OTYwMjkw", "number": 6062, "title": " Hide card template add/delete for cloze model ", "bodyText": "Pull Request template\nPurpose / Description\nThe cloze template can't have cards added to it or deleted from it, so we should block that in the CardTemplateEditor\nFixes\nFixes #6015\nApproach\nDuring options menu inflate, set those options to invisible for cloze type\nHow Has This Been Tested?\nAPI28 emulator with this branch on it, I attempted to edit a cloze template pre-patch and I could (an error) then with the patch I could no longer add/delete (fixed!) but I could add/delete on other template types.\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-04-21T23:31:01Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6062", "merged": true, "mergeCommit": {"oid": "2a6d5820db6e2a6620decc6af31221a4fe6f94ec"}, "closed": true, "closedAt": "2020-05-24T23:05:05Z", "author": {"login": "mikehardy"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZ8iN4ABqjMyNTgyODc4NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckfd4VgFqTQxNzM3OTMyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d708a657691a46e9bce3385ff6905527ac092ff", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/6d708a657691a46e9bce3385ff6905527ac092ff", "committedDate": "2020-04-21T23:23:22Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}, "afterCommit": {"oid": "681e45b13f93e7cf97abca40d0279f33b035d44f", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/681e45b13f93e7cf97abca40d0279f33b035d44f", "committedDate": "2020-04-21T23:39:46Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "681e45b13f93e7cf97abca40d0279f33b035d44f", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/681e45b13f93e7cf97abca40d0279f33b035d44f", "committedDate": "2020-04-21T23:39:46Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}, "afterCommit": {"oid": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "committedDate": "2020-05-24T17:47:56Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3Mzc4MzI4", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#pullrequestreview-417378328", "createdAt": "2020-05-24T17:53:18Z", "commit": {"oid": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxNzo1MzoxOVrOGZwWqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxNzo1MzoxOVrOGZwWqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1OTgxNw==", "bodyText": "Use Consts.MODEL_CLOZE. Sadly can't make this a suggestion as it also needs an import", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#discussion_r429659817", "createdAt": "2020-05-24T17:53:19Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java", "diffHunk": "@@ -427,6 +427,13 @@ private void updateCss() {\n         @Override\n         public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n             inflater.inflate(R.menu.card_template_editor, menu);\n+\n+            if (mModel.getInt(\"type\") == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "committedDate": "2020-05-24T17:58:32Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/62c42c8a88c1cb34163f68e17f508ec4c5fc3e3b", "committedDate": "2020-05-24T17:47:56Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}, "afterCommit": {"oid": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "author": {"user": {"login": "mikehardy", "name": "Mike Hardy"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/a6cf84da9c06eef4585a8ed242b9a19964ce3b3f", "committedDate": "2020-05-24T17:58:32Z", "message": "Hide card template add/delete for cloze model\n\nFixes #6015"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3Mzc5MzIx", "url": "https://github.com/ankidroid/Anki-Android/pull/6062#pullrequestreview-417379321", "createdAt": "2020-05-24T18:07:03Z", "commit": {"oid": "a6cf84da9c06eef4585a8ed242b9a19964ce3b3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3453, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}