{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2NTE5NTE3", "number": 5763, "title": "replace current().getLong(\"id\") by .selected()", "bodyText": "Pull Request template\nI was trying to debug a bug in one of those edited code, and decided to clean it. It does help by having slightly less indirections during the debugging process. Not an important PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-02-18T09:56:11Z", "url": "https://github.com/ankidroid/Anki-Android/pull/5763", "merged": true, "mergeCommit": {"oid": "006faf3621186e4f2e343d31c66f2fa8861512be"}, "closed": true, "closedAt": "2020-02-18T17:02:03Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFf4KHABqjMwNDY2Nzc4MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFjQ5NAFqTM2MDQwODc3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4946689c139f05f7471c866a6a312d4ebc310adf", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/4946689c139f05f7471c866a6a312d4ebc310adf", "committedDate": "2020-02-18T09:53:26Z", "message": "replace current().getLong(\"id\") by .selected()\n\nThat should be ex actly the same thing, unless there is a real bug in\nthe collection. After all, current uses selected. Then get the deck\nusing the id. If we return the deck's id obtained through the id, it\npresent no interest"}, "afterCommit": {"oid": "8c1a9cd307e7346ca55c562a202c81e694471d06", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/8c1a9cd307e7346ca55c562a202c81e694471d06", "committedDate": "2020-02-18T11:03:58Z", "message": "replace current().getLong(\"id\") by .selected()\n\nThat should be ex actly the same thing, unless there is a real bug in\nthe collection. After all, current uses selected. Then get the deck\nusing the id. If we return the deck's id obtained through the id, it\npresent no interest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMzg0NjI3", "url": "https://github.com/ankidroid/Anki-Android/pull/5763#pullrequestreview-360384627", "createdAt": "2020-02-18T14:32:51Z", "commit": {"oid": "8c1a9cd307e7346ca55c562a202c81e694471d06"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxNDozMjo1MVrOFrElNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxNDozMjo1MVrOFrElNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDcwODE1MQ==", "bodyText": "should look like this but without the declaration above - they should be on one line\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    deckID = getCol().getDecks().selected();\n          \n          \n            \n                    long deckID = getCol().getDecks().selected();", "url": "https://github.com/ankidroid/Anki-Android/pull/5763#discussion_r380708151", "createdAt": "2020-02-18T14:32:51Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1065,11 +1065,7 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n     // Get the did of the parent deck (ignoring any subdecks)\n     protected long getParentDid() {\n         long deckID;\n-        try {\n-            deckID = getCol().getDecks().current().getLong(\"id\");\n-        } catch (JSONException e) {\n-            throw new RuntimeException(e);\n-        }\n+        deckID = getCol().getDecks().selected();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c1a9cd307e7346ca55c562a202c81e694471d06"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b54c746b362cf121bcafc4b38accbd353533419", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/0b54c746b362cf121bcafc4b38accbd353533419", "committedDate": "2020-02-18T14:43:02Z", "message": "replace current().getLong(\"id\") by .selected()\n\nThat should be ex actly the same thing, unless there is a real bug in\nthe collection. After all, current uses selected. Then get the deck\nusing the id. If we return the deck's id obtained through the id, it\npresent no interest"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c1a9cd307e7346ca55c562a202c81e694471d06", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/8c1a9cd307e7346ca55c562a202c81e694471d06", "committedDate": "2020-02-18T11:03:58Z", "message": "replace current().getLong(\"id\") by .selected()\n\nThat should be ex actly the same thing, unless there is a real bug in\nthe collection. After all, current uses selected. Then get the deck\nusing the id. If we return the deck's id obtained through the id, it\npresent no interest"}, "afterCommit": {"oid": "0b54c746b362cf121bcafc4b38accbd353533419", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/0b54c746b362cf121bcafc4b38accbd353533419", "committedDate": "2020-02-18T14:43:02Z", "message": "replace current().getLong(\"id\") by .selected()\n\nThat should be ex actly the same thing, unless there is a real bug in\nthe collection. After all, current uses selected. Then get the deck\nusing the id. If we return the deck's id obtained through the id, it\npresent no interest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDA4Nzcw", "url": "https://github.com/ankidroid/Anki-Android/pull/5763#pullrequestreview-360408770", "createdAt": "2020-02-18T15:00:50Z", "commit": {"oid": "0b54c746b362cf121bcafc4b38accbd353533419"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3682, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}