{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NTA2Mzk0", "number": 6310, "title": "Reset in test", "bodyText": "This is discussed in https://github.com/ankidroid/Anki-Android/pull/6026/files/63f493482d69b9aee5a0594838d05707d5df6eba#r432866396 and can be considered as a separate PR.\nEssentially, tests are wrong, but work by accident. In theory, you should reset each time a deck is selected. It was not done, but didn't create any trouble.\nI noticed the problem when testing another PR, where reset became mandatory.\nAnyway, this make the test close to ankidroid's code, since in non-test code, reset is called often\nAs @david-allison-1 asked, I also factorized some code", "createdAt": "2020-05-30T18:46:38Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6310", "merged": true, "mergeCommit": {"oid": "14372fa31caacd72fbee35cdad234fd65a70f26b"}, "closed": true, "closedAt": "2020-05-31T04:45:02Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmbtV5AFqTQyMTQzNTIyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmctAHAFqTQyMTQzOTMxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDM1MjIx", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#pullrequestreview-421435221", "createdAt": "2020-05-30T18:50:47Z", "commit": {"oid": "86f2ed597d65c6e19f76eee32d9efcc586447099"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODo1MDo0N1rOGc0yuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxODo1MDo0N1rOGc0yuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODI2NQ==", "bodyText": "Could this be named along the lines of: getFirstCardFromScheduler", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#discussion_r432878265", "createdAt": "2020-05-30T18:50:47Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/ContentProviderTest.java", "diffHunk": "@@ -784,16 +780,19 @@ public void testSetSelectedDeck(){\n         assertEquals(\"Check that the selected deck has been correctly set\", deckId, col.getDecks().selected());\n     }\n \n+    private Card prepare(Collection col) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86f2ed597d65c6e19f76eee32d9efcc586447099"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee9ea165f49bd23071a941dc4c62a2e92e9e0586", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/ee9ea165f49bd23071a941dc4c62a2e92e9e0586", "committedDate": "2020-05-30T18:57:10Z", "message": "NF: declare and initialize simultaneously"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "86f2ed597d65c6e19f76eee32d9efcc586447099", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/86f2ed597d65c6e19f76eee32d9efcc586447099", "committedDate": "2020-05-30T18:44:29Z", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code"}, "afterCommit": {"oid": "275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "committedDate": "2020-05-30T18:57:10Z", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b47ddc0d3b14adb57de297583c5ed5e4a1d93465", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b47ddc0d3b14adb57de297583c5ed5e4a1d93465", "committedDate": "2020-05-30T19:02:02Z", "message": "NF: Factorize content provider test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8b30f71500986bff21529dd216e4f1d25495373", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/e8b30f71500986bff21529dd216e4f1d25495373", "committedDate": "2020-05-30T19:02:03Z", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/275e7fd8028e3796cb48d3d7bdc8c03aae9554c4", "committedDate": "2020-05-30T18:57:10Z", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code"}, "afterCommit": {"oid": "e8b30f71500986bff21529dd216e4f1d25495373", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/e8b30f71500986bff21529dd216e4f1d25495373", "committedDate": "2020-05-30T19:02:03Z", "message": "Reset sched after selecting a deck\n\nThis is more close to actual code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDM3NjQy", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#pullrequestreview-421437642", "createdAt": "2020-05-30T19:32:29Z", "commit": {"oid": "e8b30f71500986bff21529dd216e4f1d25495373"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDM5MzE2", "url": "https://github.com/ankidroid/Anki-Android/pull/6310#pullrequestreview-421439316", "createdAt": "2020-05-30T20:01:42Z", "commit": {"oid": "e8b30f71500986bff21529dd216e4f1d25495373"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3372, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}