{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMjc0MTQ2", "number": 6695, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMjowNTowNFrOEP2TLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NToyOFrOERP0jA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MDUzNzQyOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMjowNTowNFrOGzu_jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo0Nzo1N1rOG1oq6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkwMDQ5NA==", "bodyText": "Would prefer collection2Array for brevity until we need another method which would conflict.", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r456900494", "createdAt": "2020-07-19T12:05:04Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +461,7 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    public static long[] collectionOfLong2array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f819cd74a19a5d0f156bbb622927c828bfda4f1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUzMzI2Mg==", "bodyText": "Done. I'm surprised, it seems your name is confusing. But here it is", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458533262", "createdAt": "2020-07-22T04:53:31Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +461,7 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    public static long[] collectionOfLong2array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkwMDQ5NA=="}, "originalCommit": {"oid": "9f819cd74a19a5d0f156bbb622927c828bfda4f1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NDA1Ng==", "bodyText": "I'm open to other suggestions, but this is better in my eyes, thanks!", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458894056", "createdAt": "2020-07-22T15:47:57Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +461,7 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    public static long[] collectionOfLong2array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkwMDQ5NA=="}, "originalCommit": {"oid": "9f819cd74a19a5d0f156bbb622927c828bfda4f1"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Mzc0NjYyOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo1MTowMFrOG1ozZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMTo0MDoyM1rOG11Osg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjIzMQ==", "bodyText": "I'd be tempted to move this into a unit test as it's only used for testing\nApparently not... could we use a Java style for the name, and state in a comment what the Python name is to allow people to grep between the two", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458896231", "createdAt": "2020-07-22T15:51:00Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0NjkxOQ==", "bodyText": "We can. I thought there was an exception for name when there is a name upstream", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458946919", "createdAt": "2020-07-22T17:04:09Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjIzMQ=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MDY2OA==", "bodyText": "I won't do it actually. It may be worth doing comments for all name. But I don't want to spend time doing it name by name.\nThe remaining of the PR remains relevant I believe, so I just remove the renaming and keep the remaining", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459070668", "createdAt": "2020-07-22T20:42:13Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjIzMQ=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5OTgyNg==", "bodyText": "Actually.. if it's upstream, let's leave it as it is.", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459099826", "createdAt": "2020-07-22T21:40:23Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjIzMQ=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Mzc0ODM0OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo1MToyNFrOG1o0gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoyNToyOFrOG1srZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjUxMg==", "bodyText": "Note that we'll need to rebase this as this line will change", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458896512", "createdAt": "2020-07-22T15:51:24Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {\n+        remCards(ids, true);\n     }\n-    public void remCards(long[] ids, boolean notes) {\n-        if (ids.length == 0) {\n+\n+    public void remCards(java.util.Collection<Long> ids, boolean notes) {\n+        if (ids.size() == 0) {\n             return;\n         }\n         String sids = Utils.ids2str(ids);\n-        long[] nids = Utils\n-                .arrayList2array(mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0));\n+        List<Long> nids = mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0NjUzNA==", "bodyText": "To \"rewrite\" I assume ?\u00a0Because I always need to rebase everything.", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458946534", "createdAt": "2020-07-22T17:03:29Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {\n+        remCards(ids, true);\n     }\n-    public void remCards(long[] ids, boolean notes) {\n-        if (ids.length == 0) {\n+\n+    public void remCards(java.util.Collection<Long> ids, boolean notes) {\n+        if (ids.size() == 0) {\n             return;\n         }\n         String sids = Utils.ids2str(ids);\n-        long[] nids = Utils\n-                .arrayList2array(mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0));\n+        List<Long> nids = mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjUxMg=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk1OTcxOA==", "bodyText": "Rebase - just a note that it didn't be merged even when approved", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458959718", "createdAt": "2020-07-22T17:25:28Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -919,26 +914,25 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remove_cards_and_orphaned_notes(List<Long> ids) {\n+        remCards(ids, true);\n     }\n-    public void remCards(long[] ids, boolean notes) {\n-        if (ids.length == 0) {\n+\n+    public void remCards(java.util.Collection<Long> ids, boolean notes) {\n+        if (ids.size() == 0) {\n             return;\n         }\n         String sids = Utils.ids2str(ids);\n-        long[] nids = Utils\n-                .arrayList2array(mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0));\n+        List<Long> nids = mDb.queryColumn(Long.class, \"SELECT nid FROM cards WHERE id IN \" + sids, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjUxMg=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2Mzc2MjgxOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo1NDozOFrOG1o9kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjoyMjoxMlrOG12SEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA==", "bodyText": "Arrays.asList is dangerous, couldn't you use new ArrayList<> here? (also in a few other places in the review).", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458898834", "createdAt": "2020-07-22T15:54:38Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk0NzE3OA==", "bodyText": "I could. I never new it was dangerous. I thought it was the canonical way to do it", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r458947178", "createdAt": "2020-07-22T17:04:36Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5OTQyNg==", "bodyText": "If you use Arrays.asList, then perform .add(), then .add() will throw.\nI think the following (horrible) is standard Java:\nnew ArrayList<>(Arrays.asList(arr))\nWe should add a util method if at all possible", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459099426", "createdAt": "2020-07-22T21:39:41Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExNDQ5NA==", "bodyText": "Still appearing as unchanged:", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459114494", "createdAt": "2020-07-22T22:16:01Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExNTg5OQ==", "bodyText": "Actually, if I'm sure that the list won't be changed, I don't really see a reason to avoid as List. And in both cases here, there won't be any change, the list will disappear soon anyway", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459115899", "createdAt": "2020-07-22T22:19:22Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExNzA3Mg==", "bodyText": "I removed the one from the code, by allowing the method to accept an array. I kept the one in the tests to allow the tests to be more readable", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459117072", "createdAt": "2020-07-22T22:22:12Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -355,7 +355,7 @@ public void rem(long did, boolean cardsToo, boolean childrenToo) {\n             return;\n         }\n         // log the removal regardless of whether we have the deck or not\n-        mCol._logRem(new long[] { did }, Consts.REM_DECK);\n+        mCol._logRem(Arrays.asList(new Long[] { did }), Consts.REM_DECK);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODgzNA=="}, "originalCommit": {"oid": "a9d6022519940340465a46209af80c18e310b24c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTE5NjM0OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1MjoxM1rOG1280Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NDozOFrOG13AEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODAxNw==", "bodyText": "doesn't need to be fully qualified?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static long[] collection2Array(java.util.Collection<Long> list) {\n          \n          \n            \n                public static long[] collection2Array(Collection<Long> list) {", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459128017", "createdAt": "2020-07-22T22:52:13Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +460,8 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    /** Transform a collection of Long into an array of Long */\n+    public static long[] collection2Array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13f208c3eb2acedaf285a10e519c82beaad9422c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODc0MQ==", "bodyText": "We need it, because we already have Anki Collecrion\nCom.ichi2.libanki.Collection", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459128741", "createdAt": "2020-07-22T22:54:20Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +460,8 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    /** Transform a collection of Long into an array of Long */\n+    public static long[] collection2Array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODAxNw=="}, "originalCommit": {"oid": "13f208c3eb2acedaf285a10e519c82beaad9422c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODg1MA==", "bodyText": "Collection is typically the libAnki class, it's a common issue", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459128850", "createdAt": "2020-07-22T22:54:38Z", "author": {"login": "david-allison-1"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java", "diffHunk": "@@ -460,7 +460,8 @@ public static String ids2str(JSONArray ids) {\n \n \n     /** LIBANKI: not in libanki */\n-    public static long[] arrayList2array(List<Long> list) {\n+    /** Transform a collection of Long into an array of Long */\n+    public static long[] collection2Array(java.util.Collection<Long> list) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODAxNw=="}, "originalCommit": {"oid": "13f208c3eb2acedaf285a10e519c82beaad9422c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTIwMTQyOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NDoyNlrOG12_vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NDoyNlrOG12_vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyODc2NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void remCards(java.util.Collection<Long> ids, boolean notes) {\n          \n          \n            \n                public void remCards(Collection<Long> ids, boolean notes) {\n          \n      \n    \n    \n  \n\nanother fully-qualified that doesn't need to be - if we truly have a clash over the symbol 'Collection' I'd expect something other than java.util.Collection to get the fully-qualified-name treatment :-)", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459128764", "createdAt": "2020-07-22T22:54:26Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -913,18 +913,19 @@ public int cardCount(Long[] ls) {\n     /**\n      * Bulk delete cards by ID.\n      */\n-    public void remCards(long[] ids) {\n-    \tremCards(ids, true);\n+    public void remCards(List<Long> ids) {\n+        remCards(ids, true);\n     }\n-    public void remCards(long[] ids, boolean notes) {\n-        if (ids.length == 0) {\n+\n+    public void remCards(java.util.Collection<Long> ids, boolean notes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1329352ca5cf3fad25a2fb4a71eb04947dee898f"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTIwNDEzOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NToxOFrOG13BJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NjozN1rOG13C4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTEyNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void _remNotes(java.util.Collection<Long> ids) {\n          \n          \n            \n                public void _remNotes(Collection<Long> ids) {", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459129127", "createdAt": "2020-07-22T22:55:18Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -594,8 +594,8 @@ public void remNotes(long[] ids) {\n     /**\n      * Bulk delete notes by ID. Don't call this directly.\n      */\n-    public void _remNotes(long[] ids) {\n-        if (ids.length == 0) {\n+    public void _remNotes(java.util.Collection<Long> ids) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "609823eac59267b89fdb11a8acf557a4278657d8"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTU2OA==", "bodyText": "@david-allison-1 just pointed out we have 'Collection' in libanki of course, sorry. Ignore all those.", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459129568", "createdAt": "2020-07-22T22:56:37Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -594,8 +594,8 @@ public void remNotes(long[] ids) {\n     /**\n      * Bulk delete notes by ID. Don't call this directly.\n      */\n-    public void _remNotes(long[] ids) {\n-        if (ids.length == 0) {\n+    public void _remNotes(java.util.Collection<Long> ids) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTEyNw=="}, "originalCommit": {"oid": "609823eac59267b89fdb11a8acf557a4278657d8"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NTIwNDYwOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NToyOFrOG13BYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjo1NToyOFrOG13BYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyOTE4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void _logRem(java.util.Collection<Long> ids, int type) {\n          \n          \n            \n                public void _logRem(Collection<Long> ids, int type) {", "url": "https://github.com/ankidroid/Anki-Android/pull/6695#discussion_r459129185", "createdAt": "2020-07-22T22:55:28Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java", "diffHunk": "@@ -515,7 +515,7 @@ public void reset() {\n      * Deletion logging ********************************************************* **************************************\n      */\n \n-    public void _logRem(long[] ids, int type) {\n+    public void _logRem(java.util.Collection<Long> ids, int type) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "609823eac59267b89fdb11a8acf557a4278657d8"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4915, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}