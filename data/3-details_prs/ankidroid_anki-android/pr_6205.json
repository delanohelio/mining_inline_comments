{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MTY3Mzgz", "number": 6205, "title": "Block Tap/Touch Gesture when hint/linked clicked", "bodyText": "Disclosure\nI am accepting a financial contribution for this feature request\nPurpose / Description\nA user has requested that link clicks do not trigger the \"touch\" gestures.\nFixes\nFixes #6141\nFixes #3215\nFixes #2610\nApproach\nComplex : we can get a HitTest() from the browser, but only inside a touch handler.\nSo, add the touch handler, filter to only the events that we want, and stop gesture processing on events where the hitTest was a link or an image with src.\nHow Has This Been Tested?\nTested on my phone. Also tested with option off to remove regressions\nChecklist\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-05-17T20:17:14Z", "url": "https://github.com/ankidroid/Anki-Android/pull/6205", "merged": true, "mergeCommit": {"oid": "a798bb6cb3d5ded1445981e46cba0d5e4d891057"}, "closed": true, "closedAt": "2020-05-18T15:03:00Z", "author": {"login": "david-allison-1"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciQwG0AH2gAyNDE5MTY3MzgzOmI1NTdkOGMzNjg1ZDYzZGI0ZjRlNGQwMDM3MzJhMDVmMzJlMzFlMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciVBi0AFqTQxMzIxODg2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b557d8c3685d63db4f4e4d003732a05f32e31e31", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b557d8c3685d63db4f4e4d003732a05f32e31e31", "committedDate": "2020-05-17T19:50:32Z", "message": "NF: Extract executeTouchCommand\n\nTo be extended in next commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb5b49f42a9d19dcbfffc905dad9c88467711baf", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/eb5b49f42a9d19dcbfffc905dad9c88467711baf", "committedDate": "2020-05-17T20:01:08Z", "message": "Allow click of link/hint to stop touch gesture\n\nUser request - allow clicking a link to click the link without\nactivating the touch gestures. Also works for hints.\n\nFixes #6141"}, "afterCommit": {"oid": "f2db13e97acde014ef4b2b016d64eeffb1573017", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f2db13e97acde014ef4b2b016d64eeffb1573017", "committedDate": "2020-05-17T20:25:50Z", "message": "Allow click of link/hint to stop touch gesture\n\nUser request - allow clicking a link to click the link without\nactivating the touch gestures. Also works for hints.\n\nFixes #6141"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjA5MDg0", "url": "https://github.com/ankidroid/Anki-Android/pull/6205#pullrequestreview-413209084", "createdAt": "2020-05-17T23:22:00Z", "commit": {"oid": "f2db13e97acde014ef4b2b016d64eeffb1573017"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QyMzoyMjowMFrOGWkSmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QyMzoyMjowMFrOGWkSmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMxNjQ0MQ==", "bodyText": "Is it worth noting that it may slow the gesture system down a lot? (any idea how much?)", "url": "https://github.com/ankidroid/Anki-Android/pull/6205#discussion_r426316441", "createdAt": "2020-05-17T23:22:00Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/res/values/10-preferences.xml", "diffHunk": "@@ -73,6 +73,8 @@\n     </string-array>\n     <string name=\"gestures\">Enable gestures</string>\n     <string name=\"gestures_summ\">Assign gestures to actions such as answering and editing cards.</string>\n+    <string name=\"gestures_allow_links\">Ignore touch gestures on links</string>\n+    <string name=\"gestures_allow_links_summary\">Touch gestures will not be processed if a link/hint is pressed.</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2db13e97acde014ef4b2b016d64eeffb1573017"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5f63cc4703168ec66cecfdec692dd1ee2e5b66d", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b5f63cc4703168ec66cecfdec692dd1ee2e5b66d", "committedDate": "2020-05-18T00:01:56Z", "message": "Allow click of link/hint to stop touch gesture\n\nUser request - allow clicking a link to click the link without\nactivating the touch gestures. Also works for hints.\n\nFixes #6141"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2db13e97acde014ef4b2b016d64eeffb1573017", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f2db13e97acde014ef4b2b016d64eeffb1573017", "committedDate": "2020-05-17T20:25:50Z", "message": "Allow click of link/hint to stop touch gesture\n\nUser request - allow clicking a link to click the link without\nactivating the touch gestures. Also works for hints.\n\nFixes #6141"}, "afterCommit": {"oid": "b5f63cc4703168ec66cecfdec692dd1ee2e5b66d", "author": {"user": {"login": "david-allison-1", "name": "David Allison"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/b5f63cc4703168ec66cecfdec692dd1ee2e5b66d", "committedDate": "2020-05-18T00:01:56Z", "message": "Allow click of link/hint to stop touch gesture\n\nUser request - allow clicking a link to click the link without\nactivating the touch gestures. Also works for hints.\n\nFixes #6141"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjE0MDU3", "url": "https://github.com/ankidroid/Anki-Android/pull/6205#pullrequestreview-413214057", "createdAt": "2020-05-18T00:10:41Z", "commit": {"oid": "b5f63cc4703168ec66cecfdec692dd1ee2e5b66d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjE4ODY5", "url": "https://github.com/ankidroid/Anki-Android/pull/6205#pullrequestreview-413218869", "createdAt": "2020-05-18T00:49:12Z", "commit": {"oid": "b5f63cc4703168ec66cecfdec692dd1ee2e5b66d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3273, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}