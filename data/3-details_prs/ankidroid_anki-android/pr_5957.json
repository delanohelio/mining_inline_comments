{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMDM4NTcx", "number": 5957, "title": "current.getLong(\"id\") to selected", "bodyText": "Pull Request template\nPurpose / Description\nImproving ankidroid code quality. Shorter code and avoiding useless computation.\nApproach\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id.\nHow Has This Been Tested?\nPut in my \"merged\" branch, which I run on my phone with all PR I made\nChecklist\nPlease, go through these checks before submitting the PR.\n\n You have not changed whitespace unnecessarily (it makes diffs hard to read)\n You have a descriptive commit message with a short title (first line, max 50 chars).\n Your code follows the style of the project (e.g. never omit braces in if statements)\n You have commented your code, particularly in hard-to-understand areas\n You have performed a self-review of your own code", "createdAt": "2020-04-08T19:33:45Z", "url": "https://github.com/ankidroid/Anki-Android/pull/5957", "merged": true, "mergeCommit": {"oid": "69a825298f5235778dc13562a05a036b00eaba3c"}, "closed": true, "closedAt": "2020-04-09T16:38:35Z", "author": {"login": "Arthur-Milchior"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVtMxNABqjMyMTU1NjA5MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV7yssABqjMyMTgxMTg1MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f1c7cdfbb7753624654fc4c2224dd5816ce81e1", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/5f1c7cdfbb7753624654fc4c2224dd5816ce81e1", "committedDate": "2020-04-08T19:30:36Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}, "afterCommit": {"oid": "07fd81a764e995d212778c5fe29260b32a5b6e3a", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/07fd81a764e995d212778c5fe29260b32a5b6e3a", "committedDate": "2020-04-08T19:37:36Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMjgxNzI2", "url": "https://github.com/ankidroid/Anki-Android/pull/5957#pullrequestreview-390281726", "createdAt": "2020-04-08T19:50:33Z", "commit": {"oid": "07fd81a764e995d212778c5fe29260b32a5b6e3a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxOTo1MDozM1rOGC-c-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxOTo1MDozM1rOGC-c-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc3MzU2MQ==", "bodyText": "Seems fine, I just think 'grevOptions' was a typo and you meant the following?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            grevOptions = getCol().getDecks().confForDid(getCol().getDecks().selected()).getJSONObject(\"rev\");\n          \n          \n            \n                            revOptions = getCol().getDecks().confForDid(getCol().getDecks().selected()).getJSONObject(\"rev\");", "url": "https://github.com/ankidroid/Anki-Android/pull/5957#discussion_r405773561", "createdAt": "2020-04-08T19:50:33Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1969,8 +1969,8 @@ private void restoreCollectionPreferences() {\n             // Dynamic don't have review options; attempt to get deck-specific auto-advance options\n             // but be prepared to go with all default if it's a dynamic deck\n             JSONObject revOptions = new JSONObject();\n-            if (!getCol().getDecks().isDyn(getCol().getDecks().current().getLong(\"id\"))) {\n-                revOptions = getCol().getDecks().confForDid(getCol().getDecks().current().getLong(\"id\")).getJSONObject(\"rev\");\n+            if (!getCol().getDecks().isDyn(getCol().getDecks().selected())) {\n+                grevOptions = getCol().getDecks().confForDid(getCol().getDecks().selected()).getJSONObject(\"rev\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07fd81a764e995d212778c5fe29260b32a5b6e3a"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07fd81a764e995d212778c5fe29260b32a5b6e3a", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/07fd81a764e995d212778c5fe29260b32a5b6e3a", "committedDate": "2020-04-08T19:37:36Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}, "afterCommit": {"oid": "273fae35a3ff6f7e40fe5265f37eeaac2c16005b", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/273fae35a3ff6f7e40fe5265f37eeaac2c16005b", "committedDate": "2020-04-08T20:27:25Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "273fae35a3ff6f7e40fe5265f37eeaac2c16005b", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/273fae35a3ff6f7e40fe5265f37eeaac2c16005b", "committedDate": "2020-04-08T20:27:25Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}, "afterCommit": {"oid": "6d47720bbd68fe5633b44e40aa69b84bc3ef25c6", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/6d47720bbd68fe5633b44e40aa69b84bc3ef25c6", "committedDate": "2020-04-08T20:33:39Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzI2NTUy", "url": "https://github.com/ankidroid/Anki-Android/pull/5957#pullrequestreview-390326552", "createdAt": "2020-04-08T20:57:46Z", "commit": {"oid": "6d47720bbd68fe5633b44e40aa69b84bc3ef25c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d47720bbd68fe5633b44e40aa69b84bc3ef25c6", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/6d47720bbd68fe5633b44e40aa69b84bc3ef25c6", "committedDate": "2020-04-08T20:33:39Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}, "afterCommit": {"oid": "f08ac88b32dfb2e03bb1373964ef7654dd6b1a00", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f08ac88b32dfb2e03bb1373964ef7654dd6b1a00", "committedDate": "2020-04-09T12:36:19Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb1b74abedc55b7a29d8743e8379a63bd910c178", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/fb1b74abedc55b7a29d8743e8379a63bd910c178", "committedDate": "2020-04-09T12:38:07Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f08ac88b32dfb2e03bb1373964ef7654dd6b1a00", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/f08ac88b32dfb2e03bb1373964ef7654dd6b1a00", "committedDate": "2020-04-09T12:36:19Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}, "afterCommit": {"oid": "fb1b74abedc55b7a29d8743e8379a63bd910c178", "author": {"user": {"login": "Arthur-Milchior", "name": "Arthur Milchior"}}, "url": "https://github.com/ankidroid/Anki-Android/commit/fb1b74abedc55b7a29d8743e8379a63bd910c178", "committedDate": "2020-04-09T12:38:07Z", "message": "current.getLong(\"id\") to selected\n\nselected() returns the id. Current is defined as get(selected()). So\ndoing current.getLong(\"id\") takes the id, get the deck, and then takes\nthe id."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3610, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}