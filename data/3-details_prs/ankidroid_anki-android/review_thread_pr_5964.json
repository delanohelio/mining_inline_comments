{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxODA0Mjc5", "number": 5964, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzowNFrODw0dxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzo0N1rODw0erA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTE3ODMxOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzowNFrOGEBuzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxOTowMjoyNVrOGEDF3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NTg1NQ==", "bodyText": "If we do this, it's a member variable so it should be mSomething\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean reset_done = false;\n          \n          \n            \n                private boolean mSchedResetDone = false;", "url": "https://github.com/ankidroid/Anki-Android/pull/5964#discussion_r406875855", "createdAt": "2020-04-10T18:07:04Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -61,6 +61,9 @@\n     private boolean mBlackWhiteboard = true;\n     private boolean mPrefFullscreenReview = false;\n     private static final int ADD_NOTE = 12;\n+    // Deck picker reset scheduler before opening the reviewer. So\n+    // first reset is useless.\n+    private boolean reset_done = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14315c6cecab8c3799f1be9492aaef0fb132e4c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg5ODE0MQ==", "bodyText": "Sorry. Tim just told me a few day ago about m variables. I really need to get my head around the fact that my PR to anki and akindroid needs to follow different rules. That's extremely unintuitive to be honest, since in my headspace, anki and ankidroid are really related", "url": "https://github.com/ankidroid/Anki-Android/pull/5964#discussion_r406898141", "createdAt": "2020-04-10T19:02:25Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -61,6 +61,9 @@\n     private boolean mBlackWhiteboard = true;\n     private boolean mPrefFullscreenReview = false;\n     private static final int ADD_NOTE = 12;\n+    // Deck picker reset scheduler before opening the reviewer. So\n+    // first reset is useless.\n+    private boolean reset_done = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NTg1NQ=="}, "originalCommit": {"oid": "e14315c6cecab8c3799f1be9492aaef0fb132e4c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTE3OTA4OnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzoyNlrOGEBvTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzoyNlrOGEBvTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NTk4Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        reset_done = true;\n          \n          \n            \n                        mSchedResetDone = true;", "url": "https://github.com/ankidroid/Anki-Android/pull/5964#discussion_r406875982", "createdAt": "2020-04-10T18:07:26Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -96,6 +99,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         Timber.d(\"onCreate()\");\n         super.onCreate(savedInstanceState);\n \n+        if (getIntent().hasExtra(\"com.ichi2.anki.reset_done\")) {\n+            Timber.d(\"reset done\");\n+            reset_done = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14315c6cecab8c3799f1be9492aaef0fb132e4c"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTE4MDYwOnYy", "diffSide": "RIGHT", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNzo0N1rOGEBwFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxOTowNTo0MFrOGEDKlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NjE4Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!reset_done) {\n          \n          \n            \n                        col.getSched().reset();     // Reset schedule in case card had previous been loaded\n          \n          \n            \n                        reset_done = false;\n          \n          \n            \n                    }\n          \n          \n            \n                    if (!mSchedResetDone) {\n          \n          \n            \n                        col.getSched().reset();     // Reset schedule in case card was previously loaded\n          \n          \n            \n                        mSchedReset = false;\n          \n          \n            \n                    }", "url": "https://github.com/ankidroid/Anki-Android/pull/5964#discussion_r406876183", "createdAt": "2020-04-10T18:07:47Z", "author": {"login": "mikehardy"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -171,7 +178,10 @@ protected void onCollectionLoaded(Collection col) {\n             setWhiteboardVisibility(whiteboardVisibility);\n         }\n \n-        col.getSched().reset();     // Reset schedule incase card had previous been loaded\n+        if (!reset_done) {\n+            col.getSched().reset();     // Reset schedule in case card had previous been loaded\n+            reset_done = false;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14315c6cecab8c3799f1be9492aaef0fb132e4c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg5OTM0OA==", "bodyText": "The comment error was already here before this PR. I'm okay to correct it, but it's unrelated to this commit", "url": "https://github.com/ankidroid/Anki-Android/pull/5964#discussion_r406899348", "createdAt": "2020-04-10T19:05:40Z", "author": {"login": "Arthur-Milchior"}, "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -171,7 +178,10 @@ protected void onCollectionLoaded(Collection col) {\n             setWhiteboardVisibility(whiteboardVisibility);\n         }\n \n-        col.getSched().reset();     // Reset schedule incase card had previous been loaded\n+        if (!reset_done) {\n+            col.getSched().reset();     // Reset schedule in case card had previous been loaded\n+            reset_done = false;\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NjE4Mw=="}, "originalCommit": {"oid": "e14315c6cecab8c3799f1be9492aaef0fb132e4c"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 542, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}