{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NzI3NTI2", "number": 4584, "title": "[ISSUE #4583] Fix DOMAIN mode retry logic", "bodyText": "What is the purpose of the change\nfix #4583\nBrief changelog\nfix namingProxy domain retry logic;\nadd retry param namingRequestDomainCount", "createdAt": "2020-12-26T19:33:50Z", "url": "https://github.com/alibaba/nacos/pull/4584", "merged": true, "mergeCommit": {"oid": "5236287fdb6e79d29aea7fc6914c3c670fbbb2fe"}, "closed": true, "closedAt": "2020-12-28T01:40:11Z", "author": {"login": "lexburner"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqJ7rVgFqTU1ODkwMzM0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqcAVtAFqTU1ODk3MjAzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTAzMzQx", "url": "https://github.com/alibaba/nacos/pull/4584#pullrequestreview-558903341", "createdAt": "2020-12-27T04:36:23Z", "commit": {"oid": "eb648cc0987d30112fc21068140c2af284b33ec9"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb648cc0987d30112fc21068140c2af284b33ec9", "author": {"user": null}, "url": "https://github.com/alibaba/nacos/commit/eb648cc0987d30112fc21068140c2af284b33ec9", "committedDate": "2020-12-26T19:30:21Z", "message": "fix namingProxy domain retry logic; add retry param namingRequestDomainMaxRetryCount"}, "afterCommit": {"oid": "a2ea808b7d19a77289e11eaf6db21c9d52e470ff", "author": {"user": {"login": "Maijh97", "name": "mai.jh"}}, "url": "https://github.com/alibaba/nacos/commit/a2ea808b7d19a77289e11eaf6db21c9d52e470ff", "committedDate": "2020-12-26T05:18:30Z", "message": "[ISSUE-#4567] Refactor nacos-client Load Logging Configuration code. (#4572)\n\n* for #4567, refactor nacos-client logging load Configuration code.\r\n\r\n* Modify exception handling.\r\n\r\n* When customizing AbstractNacosLogging Load Configuration Fail, use the default Logging Load Configuration.\r\n\r\n* NacosLogging has been modified to a single-column mode."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78ba829e8ef9cce5d241dea0dc74c29855bb5a98", "author": {"user": {"login": "lexburner", "name": "xujingfeng"}}, "url": "https://github.com/alibaba/nacos/commit/78ba829e8ef9cce5d241dea0dc74c29855bb5a98", "committedDate": "2020-12-27T08:58:56Z", "message": "fix namingProxy domain retry logic; add retry param namingRequestDomainMaxRetryCount"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTIxNjEx", "url": "https://github.com/alibaba/nacos/pull/4584#pullrequestreview-558921611", "createdAt": "2020-12-27T11:23:13Z", "commit": {"oid": "78ba829e8ef9cce5d241dea0dc74c29855bb5a98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxMToyMzoxM1rOILqbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxMToyMzoxM1rOILqbqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEwMDQ1Ng==", "bodyText": "Where is the place maxRetry  used?  The count limit should be maxRetry", "url": "https://github.com/alibaba/nacos/pull/4584#discussion_r549100456", "createdAt": "2020-12-27T11:23:13Z", "author": {"login": "horizonzy"}, "path": "client/src/main/java/com/alibaba/nacos/client/naming/net/NamingProxy.java", "diffHunk": "@@ -513,7 +519,20 @@ public String reqApi(String api, Map<String, String> params, Map<String, String>\n         }\n         \n         NacosException exception = new NacosException();\n-        \n+\n+        if (StringUtils.isNotBlank(nacosDomain)) {\n+            for (int i = 0; i < UtilAndComs.REQUEST_DOMAIN_RETRY_COUNT; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78ba829e8ef9cce5d241dea0dc74c29855bb5a98"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a88dcecfdf52e526eed0d426896b37cae712215", "author": {"user": {"login": "lexburner", "name": "xujingfeng"}}, "url": "https://github.com/alibaba/nacos/commit/2a88dcecfdf52e526eed0d426896b37cae712215", "committedDate": "2020-12-27T13:09:17Z", "message": "add maxRetry param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTI4NDQ5", "url": "https://github.com/alibaba/nacos/pull/4584#pullrequestreview-558928449", "createdAt": "2020-12-27T13:14:17Z", "commit": {"oid": "2a88dcecfdf52e526eed0d426896b37cae712215"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTcyMDMw", "url": "https://github.com/alibaba/nacos/pull/4584#pullrequestreview-558972030", "createdAt": "2020-12-28T01:39:46Z", "commit": {"oid": "2a88dcecfdf52e526eed0d426896b37cae712215"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4078, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}