{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NjAzMTQ5", "number": 4122, "title": "[ISSUE#3831]Delete the old http client code", "bodyText": "Please do not create a Pull Request without creating an issue first.\nWhat is the purpose of the change\nfix: #3831\nBrief changelog\nXX\nVerifying this change\nXXXX\nFollow this checklist to help us incorporate your contribution quickly and easily:\n\n Make sure there is a Github issue filed for the change (usually before you start working on it). Trivial changes like typos do not require a Github issue. Your pull request should address just this issue, without pulling in other changes - one PR resolves one issue.\n Format the pull request title like [ISSUE #123] Fix UnknownException when host config not exist. Each commit in the pull request should have a meaningful subject line and body.\n Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n Write necessary unit-test to verify your logic correction, more mock a little better when cross module dependency exist. If the new feature or significant change is committed, please remember to add integration-test in test module.\n Run mvn -B clean package apache-rat:check findbugs:findbugs -Dmaven.test.skip=true to make sure basic checks pass. Run mvn clean install -DskipITs to make sure unit-test pass. Run mvn clean test-compile failsafe:integration-test  to make sure integration-test pass.", "createdAt": "2020-11-03T09:32:28Z", "url": "https://github.com/alibaba/nacos/pull/4122", "merged": true, "mergeCommit": {"oid": "796849b17d88ab93ccdcb091531d4d9c9a535db7"}, "closed": true, "closedAt": "2020-11-05T01:10:31Z", "author": {"login": "Maijh97"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY1wK2AH2gAyNTE0NjAzMTQ5OjdiNDQ1NmU0ZDBiNmEzN2M3YWYxYWM0NTVjYjVmMTYyMTIxZDdkNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZX0a-gFqTUyMzg0NzI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40", "author": {"user": {"login": "Maijh97", "name": "mai.jh"}}, "url": "https://github.com/alibaba/nacos/commit/7b4456e4d0b6a37c7af1ac455cb5f162121d7d40", "committedDate": "2020-11-03T09:29:00Z", "message": "refactor: delete the old http client code marked as @Deprecated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNDYzODEw", "url": "https://github.com/alibaba/nacos/pull/4122#pullrequestreview-522463810", "createdAt": "2020-11-03T12:51:42Z", "commit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjo1MTo0MlrOHstY3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjo1MTo0MlrOHstY3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY0MzAzNg==", "bodyText": "The speed limit function here needs to be preserved for now, so don't delete this HTTP code", "url": "https://github.com/alibaba/nacos/pull/4122#discussion_r516643036", "createdAt": "2020-11-03T12:51:42Z", "author": {"login": "chuntaojun"}, "path": "client/src/main/java/com/alibaba/nacos/client/config/impl/HttpSimpleClient.java", "diffHunk": "@@ -1,305 +0,0 @@\n-/*\n- * Copyright 1999-2018 Alibaba Group Holding Ltd.\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *      http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package com.alibaba.nacos.client.config.impl;\n-\n-import com.alibaba.nacos.api.common.Constants;\n-import com.alibaba.nacos.api.exception.NacosException;\n-import com.alibaba.nacos.client.utils.ParamUtil;\n-import com.alibaba.nacos.common.constant.HttpHeaderConsts;\n-import com.alibaba.nacos.common.http.client.NacosRestTemplate;\n-import com.alibaba.nacos.common.utils.IoUtils;\n-import com.alibaba.nacos.common.utils.MD5Utils;\n-import com.alibaba.nacos.common.utils.UuidUtils;\n-import com.alibaba.nacos.common.utils.VersionUtils;\n-\n-import java.io.IOException;\n-import java.io.UnsupportedEncodingException;\n-import java.net.HttpURLConnection;\n-import java.net.URL;\n-import java.net.URLEncoder;\n-import java.util.ArrayList;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Map;\n-\n-/**\n- * Http tool.\n- *\n- * @author Nacos\n- * @deprecated Use NacosRestTemplate{@link NacosRestTemplate} unified http client\n- */\n-@Deprecated\n-public class HttpSimpleClient {\n-    \n-    /**\n-     * Get method.\n-     *\n-     * @param url           url\n-     * @param headers       headers\n-     * @param paramValues   paramValues\n-     * @param encoding      encoding\n-     * @param readTimeoutMs readTimeoutMs\n-     * @param isSsl         isSsl\n-     * @return result\n-     * @throws IOException io exception\n-     */\n-    public static HttpResult httpGet(String url, List<String> headers, List<String> paramValues, String encoding,\n-            long readTimeoutMs, boolean isSsl) throws IOException {\n-        String encodedContent = encodingParams(paramValues, encoding);\n-        url += (null == encodedContent) ? \"\" : (\"?\" + encodedContent);\n-        if (Limiter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40"}, "originalPosition": 64}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMTY0NjQ4", "url": "https://github.com/alibaba/nacos/pull/4122#pullrequestreview-523164648", "createdAt": "2020-11-04T09:10:05Z", "commit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwOToxMDowNlrOHtPAyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwOToxMDowNlrOHtPAyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE5MzkzMA==", "bodyText": "HttpClientBeanHolder should be shutdown in here?", "url": "https://github.com/alibaba/nacos/pull/4122#discussion_r517193930", "createdAt": "2020-11-04T09:10:06Z", "author": {"login": "KomachiSion"}, "path": "core/src/main/java/com/alibaba/nacos/core/code/StartingSpringApplicationRunListener.java", "diffHunk": "@@ -142,8 +141,6 @@ public void failed(ConfigurableApplicationContext context, Throwable exception)\n         logFilePath();\n         \n         LOGGER.error(\"Startup errors : {}\", exception);\n-        \n-        HttpClientManager.shutdown();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODQ3Mjg5", "url": "https://github.com/alibaba/nacos/pull/4122#pullrequestreview-523847289", "createdAt": "2020-11-05T01:10:25Z", "commit": {"oid": "7b4456e4d0b6a37c7af1ac455cb5f162121d7d40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4204, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}