{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0Njk4NjUy", "number": 2420, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDozNDozN1rODl0UPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxNDo1MTowMFrODmBOfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwOTgxMDUzOnYy", "diffSide": "RIGHT", "path": "naming/src/main/java/com/alibaba/nacos/naming/core/Service.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDozNDozN1rOFy6y_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDozOTo0NlrOFy6-BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkzNjQ0NQ==", "bodyText": "\u6700\u597d\u4e0d\u8981\u7528\u7f29\u5199\uff0c\u53ef\u4ee5\u7528finalizeCount", "url": "https://github.com/alibaba/nacos/pull/2420#discussion_r388936445", "createdAt": "2020-03-06T14:34:37Z", "author": {"login": "nkorange"}, "path": "naming/src/main/java/com/alibaba/nacos/naming/core/Service.java", "diffHunk": "@@ -57,6 +57,11 @@\n     @JSONField(serialize = false)\n     private ClientBeatCheckTask clientBeatCheckTask = new ClientBeatCheckTask(this);\n \n+    /**\n+     * Identify the information used to determine how many isEmpty judgments the service has experienced\n+     */\n+    private int finalizeCnt = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e3b0dbc98f666a0f786541199ce52df6183211"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkzOTI2OA==", "bodyText": "Ok, got it", "url": "https://github.com/alibaba/nacos/pull/2420#discussion_r388939268", "createdAt": "2020-03-06T14:39:46Z", "author": {"login": "chuntaojun"}, "path": "naming/src/main/java/com/alibaba/nacos/naming/core/Service.java", "diffHunk": "@@ -57,6 +57,11 @@\n     @JSONField(serialize = false)\n     private ClientBeatCheckTask clientBeatCheckTask = new ClientBeatCheckTask(this);\n \n+    /**\n+     * Identify the information used to determine how many isEmpty judgments the service has experienced\n+     */\n+    private int finalizeCnt = 0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkzNjQ0NQ=="}, "originalCommit": {"oid": "86e3b0dbc98f666a0f786541199ce52df6183211"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMTkyNTc1OnYy", "diffSide": "RIGHT", "path": "naming/src/main/java/com/alibaba/nacos/naming/core/ServiceManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxNDo1MTowMFrOFzOh1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxNDo1MTowMFrOFzOh1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTczMg==", "bodyText": "\u8fd9\u4e2a\u6e05\u7406\u5468\u671f\u4e5f\u53ef\u4ee5\u505a\u6210\u53ef\u914d\u7f6e\u7684", "url": "https://github.com/alibaba/nacos/pull/2420#discussion_r389259732", "createdAt": "2020-03-07T14:51:00Z", "author": {"login": "nkorange"}, "path": "naming/src/main/java/com/alibaba/nacos/naming/core/ServiceManager.java", "diffHunk": "@@ -97,6 +117,19 @@ public void init() {\n \n         UtilsAndCommons.SERVICE_UPDATE_EXECUTOR.submit(new UpdatedServiceProcessor());\n \n+        if (emptyServiceAutoClean) {\n+\n+            // delay 60s, period 20s;\n+\n+            // This task is not recommended to be performed frequently in order to avoid\n+            // the possibility that the service cache information may just be deleted\n+            // and then created due to the heartbeat mechanism\n+\n+            GlobalExecutor.scheduleServiceAutoClean(new EmptyServiceAutoClean(), 60_000L, 20_000L);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e3b0dbc98f666a0f786541199ce52df6183211"}, "originalPosition": 77}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4495, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}