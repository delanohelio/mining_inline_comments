{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyODA5NzYy", "number": 3522, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjoyMTowMlrOEVO6Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOTo1NDo1MFrOEVV-OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjk5ODYzOnYy", "diffSide": "RIGHT", "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjoyMTowMlrOG73ybw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo1Mjo1NFrOG74S-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQzMzE5OQ==", "bodyText": "Do not change indent please.\nplease check for all your changed files", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465433199", "createdAt": "2020-08-05T02:21:02Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "diffHunk": "@@ -39,13 +40,13 @@\n @Conditional(value = ConditionOnEmbeddedStorage.class)\n @Component\n public class EmbeddedUserPersistServiceImpl implements UserPersistService {\n-    \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41eb4a05e56bc4c4722da9536b33fde263b1d56b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MDc5Mw==", "bodyText": "Github show the indent still be changed", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465440793", "createdAt": "2020-08-05T02:49:59Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "diffHunk": "@@ -39,13 +40,13 @@\n @Conditional(value = ConditionOnEmbeddedStorage.class)\n @Component\n public class EmbeddedUserPersistServiceImpl implements UserPersistService {\n-    \n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQzMzE5OQ=="}, "originalCommit": {"oid": "41eb4a05e56bc4c4722da9536b33fde263b1d56b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MTUyOA==", "bodyText": "I am changing", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465441528", "createdAt": "2020-08-05T02:52:54Z", "author": {"login": "zzq1314zll"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "diffHunk": "@@ -39,13 +40,13 @@\n @Conditional(value = ConditionOnEmbeddedStorage.class)\n @Component\n public class EmbeddedUserPersistServiceImpl implements UserPersistService {\n-    \n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQzMzE5OQ=="}, "originalCommit": {"oid": "41eb4a05e56bc4c4722da9536b33fde263b1d56b"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzgxOTgzOnYy", "diffSide": "RIGHT", "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwODoyMzowOVrOG7_Z4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwODoyNTowN1rOG7_e3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU1Nzk4Nw==", "bodyText": "Is the SQL is right? Can you make sure this SQL can run both in derby and mysql?", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465557987", "createdAt": "2020-08-05T08:23:09Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "diffHunk": "@@ -117,4 +118,11 @@ public User findUserByUsername(String username) {\n         }\n         return pageInfo;\n     }\n+\n+    @Override\n+    public List<User> findUserLikeUsername(String username) {\n+        String sql = \"SELECT username FROM users WHERE username like '%' ? '%'\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ad30a4c73d39ee2d58a3019fbd4526434447ec2"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU1OTI2MA==", "bodyText": "I think the SQL will be handle to SELECT username FROM users WHERE username like '%' 'xxx' '%'; if username is xxx", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465559260", "createdAt": "2020-08-05T08:25:07Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/EmbeddedUserPersistServiceImpl.java", "diffHunk": "@@ -117,4 +118,11 @@ public User findUserByUsername(String username) {\n         }\n         return pageInfo;\n     }\n+\n+    @Override\n+    public List<User> findUserLikeUsername(String username) {\n+        String sql = \"SELECT username FROM users WHERE username like '%' ? '%'\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU1Nzk4Nw=="}, "originalCommit": {"oid": "8ad30a4c73d39ee2d58a3019fbd4526434447ec2"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwODE1NTQ1OnYy", "diffSide": "RIGHT", "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/ExternalUserPersistServiceImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOTo1NDo1MFrOG8Cndw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOTo1NDo1MFrOG8Cndw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxMDYxNQ==", "bodyText": "Only query username in Embedded, but username,password in Extranal?", "url": "https://github.com/alibaba/nacos/pull/3522#discussion_r465610615", "createdAt": "2020-08-05T09:54:50Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/auth/ExternalUserPersistServiceImpl.java", "diffHunk": "@@ -145,4 +146,11 @@ public User findUserByUsername(String username) {\n             throw e;\n         }\n     }\n+\n+    @Override\n+    public List<User> findUserLikeUsername(String username) {\n+        String sql = \"SELECT username,password FROM users WHERE username like '%' ? '%'\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ad30a4c73d39ee2d58a3019fbd4526434447ec2"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4389, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}