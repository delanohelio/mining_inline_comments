{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1MDkxNjg4", "number": 3262, "title": "Resolve the issues of codestyle of nacos-config module for phase4", "bodyText": "Please do not create a Pull Request without creating an issue first.\nWhat is the purpose of the change\nResolve the issues of codestyle of nacos-config module for some package parts below.\nPackage:\n(1)com.alibaba.nacos.config.server.service.repository\nBrief changelog\n\nRemove @SuppressWarnings(\"all\") on PersistService and fix PMD check\nResolve  other ssues of codestyle of nacos-config module for repository part\n\nPersistService is so big \uff0cit contains 109  function, maybe we should split this classes and  remove unused function\nVerifying this change\nXXXX\nFollow this checklist to help us incorporate your contribution quickly and easily:\n\n Make sure there is a Github issue filed for the change (usually before you start working on it). Trivial changes like typos do not require a Github issue. Your pull request should address just this issue, without pulling in other changes - one PR resolves one issue.\n Format the pull request title like [ISSUE #123] Fix UnknownException when host config not exist. Each commit in the pull request should have a meaningful subject line and body.\n Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n Write necessary unit-test to verify your logic correction, more mock a little better when cross module dependency exist. If the new feature or significant change is committed, please remember to add integration-test in test module.\n Run mvn -B clean package apache-rat:check findbugs:findbugs -Dmaven.test.skip=true to make sure basic checks pass. Run mvn clean install -DskipITs to make sure unit-test pass. Run mvn clean test-compile failsafe:integration-test  to make sure integration-test pass.", "createdAt": "2020-07-07T01:47:02Z", "url": "https://github.com/alibaba/nacos/pull/3262", "merged": true, "mergeCommit": {"oid": "a4fe234a268628e5d7ea8154fddff07e934cb209"}, "closed": true, "closedAt": "2020-07-07T12:13:33Z", "author": {"login": "wangweizZZ"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcybsISAH2gAyNDQ1MDkxNjg4OjVhZWRhYWEzYTIxZmU4YjNiMGE5ZmQ4ZWIzZjliY2VjNzM4YTRiMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcykx8nAFqTQ0MzgzMDE0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17", "committedDate": "2020-07-07T01:37:56Z", "message": "[ISSUE#3249]Resolve the part issues of codestyle for nacos-config module(package:service/repository)\n\nChange-Id: I394a7639c70b6d30c2b800d5608ba62b6b64c76c"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTczNzc1", "url": "https://github.com/alibaba/nacos/pull/3262#pullrequestreview-443573775", "createdAt": "2020-07-07T05:34:44Z", "commit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNTozNDo0NFrOGtvtRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNzo1NTowNVrOGtzJLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYyMDc0MA==", "bodyText": "If SQL String is to long, It can use @SuppressWarnings(\"checkstyle:linelength\")", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450620740", "createdAt": "2020-07-07T05:34:44Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/PersistService.java", "diffHunk": "@@ -41,453 +41,811 @@\n import java.util.Map;\n \n /**\n- * \u6570\u636e\u5e93\u670d\u52a1\uff0c\u63d0\u4f9bConfigInfo\u5728\u6570\u636e\u5e93\u7684\u5b58\u53d6<br> 3.0\u5f00\u59cb\u589e\u52a0\u6570\u636e\u7248\u672c\u53f7, \u5e76\u5c06\u7269\u7406\u5220\u9664\u6539\u4e3a\u903b\u8f91\u5220\u9664<br> 3.0\u589e\u52a0\u6570\u636e\u5e93\u5207\u6362\u529f\u80fd\n+ * Database service, providing access to ConfigInfo in the database\n+ * <br> 3.0 starts to increase the data version number, and changes the physical deletion to logical deletion\n+ * <br> 3.0 adds the database switching function.\n  *\n  * @author boyan\n  * @author leiwen.zh\n  * @since 1.0\n  */\n-@SuppressWarnings(\"all\")\n public interface PersistService {\n     \n     /**\n+     * constant variables.\n+     *\n      * @author klw\n-     * @Description: constant variables\n      */\n     String SPOT = \".\";\n     Object[] EMPTY_ARRAY = new Object[] {};\n-    String SQL_FIND_ALL_CONFIG_INFO = \"select id,data_id,group_id,tenant_id,app_name,content,type,md5,gmt_create,gmt_modified,src_user,src_ip,c_desc,c_use,effect,c_schema from config_info\";\n+    String SQL_FIND_ALL_CONFIG_INFO =\n+            \"select id,data_id,group_id,tenant_id,app_name,content,type,md5,gmt_create,gmt_modified,src_user,src_ip,c_desc,c_use,effect,c_schema \"\n+                    + \"from config_info\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3Njg3NA==", "bodyText": "change exception name as ignore(d)", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450676874", "createdAt": "2020-07-07T07:54:45Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/RowMapperManager.java", "diffHunk": "@@ -195,6 +197,7 @@ public ConfigInfoWrapper mapRow(ResultSet rs, int rowNum) throws SQLException {\n             try {\n                 info.setMd5(rs.getString(\"md5\"));\n             } catch (SQLException e) {\n+                // ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3NjkzOQ==", "bodyText": "change exception name as ignore(d)", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450676939", "createdAt": "2020-07-07T07:54:55Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/RowMapperManager.java", "diffHunk": "@@ -230,6 +233,7 @@ public ConfigInfoBetaWrapper mapRow(ResultSet rs, int rowNum) throws SQLExceptio\n             try {\n                 info.setMd5(rs.getString(\"md5\"));\n             } catch (SQLException e) {\n+                // ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3Njk3OA==", "bodyText": "change exception name as ignore(d)", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450676978", "createdAt": "2020-07-07T07:54:58Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/RowMapperManager.java", "diffHunk": "@@ -265,6 +269,7 @@ public ConfigInfoTagWrapper mapRow(ResultSet rs, int rowNum) throws SQLException\n             try {\n                 info.setMd5(rs.getString(\"md5\"));\n             } catch (SQLException e) {\n+                // ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3NzAwMg==", "bodyText": "change exception name as ignore(d)", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450677002", "createdAt": "2020-07-07T07:55:02Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/RowMapperManager.java", "diffHunk": "@@ -399,6 +404,7 @@ public ConfigInfo4Beta mapRow(ResultSet rs, int rowNum) throws SQLException {\n             try {\n                 info.setMd5(rs.getString(\"md5\"));\n             } catch (SQLException e) {\n+                // ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3NzAzNw==", "bodyText": "change exception name as ignore(d)", "url": "https://github.com/alibaba/nacos/pull/3262#discussion_r450677037", "createdAt": "2020-07-07T07:55:05Z", "author": {"login": "KomachiSion"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/service/repository/RowMapperManager.java", "diffHunk": "@@ -429,6 +435,7 @@ public ConfigInfo4Tag mapRow(ResultSet rs, int rowNum) throws SQLException {\n             try {\n                 info.setMd5(rs.getString(\"md5\"));\n             } catch (SQLException e) {\n+                // ignore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aedaaa3a21fe8b3b0a9fd8eb3f9bcec738a4b17"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8ec251c175a604437bbf2c80377fdfdceb8bcf0", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/e8ec251c175a604437bbf2c80377fdfdceb8bcf0", "committedDate": "2020-07-07T09:21:59Z", "message": "1.adjust ignore exception\n2.adjust sql\n\nChange-Id: I1e190872dc85d1d81a6afc2a204331bd779c04b0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fa7b15d544cbe8e174c0a78593b3de2348937ff", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/5fa7b15d544cbe8e174c0a78593b3de2348937ff", "committedDate": "2020-07-07T09:36:39Z", "message": "adjust sql\n\nChange-Id: Ie4a085487b3642d0da150162b9a750bd803bf07e"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODMwMTQy", "url": "https://github.com/alibaba/nacos/pull/3262#pullrequestreview-443830142", "createdAt": "2020-07-07T12:13:26Z", "commit": {"oid": "5fa7b15d544cbe8e174c0a78593b3de2348937ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4415, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}