{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NDY5NjUz", "number": 2647, "title": "[ISSUE #2618]modify config service md5 generation method", "bodyText": "Please do not create a Pull Request without creating an issue first.\nWhat is the purpose of the change\n#2618\nBrief changelog\nmodify  com.alibaba.nacos.common.utils.Md5Utils\nuse org.apache.commons.codec  generate md5 string\nVerifying this change\nXXXX\nFollow this checklist to help us incorporate your contribution quickly and easily:\n\n Make sure there is a Github issue filed for the change (usually before you start working on it). Trivial changes like typos do not require a Github issue. Your pull request should address just this issue, without pulling in other changes - one PR resolves one issue.\n Format the pull request title like [ISSUE #123] Fix UnknownException when host config not exist. Each commit in the pull request should have a meaningful subject line and body.\n Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n Write necessary unit-test to verify your logic correction, more mock a little better when cross module dependency exist. If the new feature or significant change is committed, please remember to add integration-test in test module.\n Run mvn -B clean package apache-rat:check findbugs:findbugs -Dmaven.test.skip=true to make sure basic checks pass. Run mvn clean install -DskipITs to make sure unit-test pass. Run mvn clean test-compile failsafe:integration-test  to make sure integration-test pass.", "createdAt": "2020-04-18T09:05:06Z", "url": "https://github.com/alibaba/nacos/pull/2647", "merged": true, "mergeCommit": {"oid": "900fa661eeca3162c3690755153ddae3010e3896"}, "closed": true, "closedAt": "2020-04-21T11:52:44Z", "author": {"login": "wangweizZZ"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYxvx2AH2gAyNDA1NDY5NjUzOmJiNzBkY2JhOThhYTAzNGZiMTMwZWY3NTQyZmM2ZjMxZDZmYzQ3ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZu1UyAFqTM5NzA3MjIzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bb70dcba98aa034fb130ef7542fc6f31d6fc47d0", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/bb70dcba98aa034fb130ef7542fc6f31d6fc47d0", "committedDate": "2020-04-18T08:37:48Z", "message": "[ISSUE#2618]modify server md5 generation method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/aeb14910e753a9ebe0e5124b417d1d0443817120", "committedDate": "2020-04-19T10:42:59Z", "message": "unify the MD5 generation on both sides by MD5 utility classes in the common module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDIzMTMy", "url": "https://github.com/alibaba/nacos/pull/2647#pullrequestreview-396023132", "createdAt": "2020-04-19T14:11:20Z", "commit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxNDoxMToyMFrOGH4O7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxNDoxMToyMFrOGH4O7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkxNDU0MA==", "bodyText": "The utility class is already at the end of Utils", "url": "https://github.com/alibaba/nacos/pull/2647#discussion_r410914540", "createdAt": "2020-04-19T14:11:20Z", "author": {"login": "chuntaojun"}, "path": "common/src/main/java/com/alibaba/nacos/common/utils/MD5.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package com.alibaba.nacos.client.config.utils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDIzMTcw", "url": "https://github.com/alibaba/nacos/pull/2647#pullrequestreview-396023170", "createdAt": "2020-04-19T14:11:49Z", "commit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxNDoxMTo0OVrOGH4PMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxNDoxMTo0OVrOGH4PMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkxNDYwOQ==", "bodyText": "It looks like this dependency is not used, so it can be removed", "url": "https://github.com/alibaba/nacos/pull/2647#discussion_r410914609", "createdAt": "2020-04-19T14:11:49Z", "author": {"login": "chuntaojun"}, "path": "common/pom.xml", "diffHunk": "@@ -44,6 +44,11 @@\n             <artifactId>commons-io</artifactId>\n         </dependency>\n \n+        <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDg0MDIy", "url": "https://github.com/alibaba/nacos/pull/2647#pullrequestreview-396084022", "createdAt": "2020-04-20T00:41:44Z", "commit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMDo0MTo0NFrOGH_PvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMDo0MTo0NFrOGH_PvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTAyOTQzNw==", "bodyText": "I think the MD5 implementation will not be as good as the MD5Utils you delete because of the locking mechanism, you can only modify the string method of MD5Utils\nold\nreturn new BigInteger(1, messageDigest.digest(bytes)).toString(HEX_VALUE_COUNT);\n\nnew\npublic String bytes2string(byte[] bt) {\n        int l = bt.length;\n\n        char[] out = new char[l << 1];\n\n        for (int i = 0, j = 0; i < l; i++) {\n            out[j++] = digits[(0xF0 & bt[i]) >>> 4];\n            out[j++] = digits[0x0F & bt[i]];\n        }\n\n        return new String(out);\n    }", "url": "https://github.com/alibaba/nacos/pull/2647#discussion_r411029437", "createdAt": "2020-04-20T00:41:44Z", "author": {"login": "chuntaojun"}, "path": "config/src/main/java/com/alibaba/nacos/config/server/aspect/RequestLogAspect.java", "diffHunk": "@@ -67,7 +66,7 @@\n     public Object interfacePublishSingle(ProceedingJoinPoint pjp, HttpServletRequest request,\n                                          HttpServletResponse response, String dataId, String group, String tenant,\n                                          String content) throws Throwable {\n-        final String md5 = content == null ? null : Md5Utils.getMD5(content, Constants.ENCODE);\n+        final String md5 = content == null ? null : MD5.getInstance().getMD5String(content);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aeb14910e753a9ebe0e5124b417d1d0443817120"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcdbaf50eab21eefd603e2ac2507b4a3c2d21fdb", "author": {"user": {"login": "wangweizZZ", "name": "Gagharv"}}, "url": "https://github.com/alibaba/nacos/commit/dcdbaf50eab21eefd603e2ac2507b4a3c2d21fdb", "committedDate": "2020-04-20T06:18:23Z", "message": "use MD5Utils replace MD5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDcyMjMx", "url": "https://github.com/alibaba/nacos/pull/2647#pullrequestreview-397072231", "createdAt": "2020-04-21T07:48:04Z", "commit": {"oid": "dcdbaf50eab21eefd603e2ac2507b4a3c2d21fdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4434, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}