{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MzgwOTE1", "number": 3375, "title": "change order of migrations in migrations.xml", "bodyText": "When running migrations by context, it seems that the order they are run in is the same as they are defined in migrations.xml. So simply running the below command wasn't enough to ensure the order of the contexts.\njava -jar dockstore-webservice.jar db migrate -i 1.5.0,1.6.0,1.7.0,add_service_1.7.0,alter_test_user_1.7.0,1.8.0,1.9.0 travisci/web.yml", "createdAt": "2020-04-03T20:52:56Z", "url": "https://github.com/dockstore/dockstore/pull/3375", "merged": true, "mergeCommit": {"oid": "bb98a59d2b6f3cfb590e6ff24cf69eec4841d14d"}, "closed": true, "closedAt": "2020-04-06T15:46:44Z", "author": {"login": "agduncan94"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUGFhpAH2gAyMzk4MzgwOTE1OmYxMDMwYjdjMTI4OTgzMmVkNjA2YmFmYTJhNGFlMDdlZjRhYmNiNGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVArT-AFqTM4ODM4MTA1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/f1030b7c1289832ed606bafa2a4ae07ef4abcb4a", "committedDate": "2020-04-03T19:30:02Z", "message": "change order of migrations in migrations.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTkxNTMz", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-387591533", "createdAt": "2020-04-03T21:28:32Z", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTkzNDY1", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-387593465", "createdAt": "2020-04-03T21:32:36Z", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTk0Mjc4", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-387594278", "createdAt": "2020-04-03T21:34:22Z", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTozNDoyMlrOGAqYfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTozNDoyMlrOGAqYfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0NzU4MA==", "bodyText": "If this is the case, should the test migrations below be fitted into the correct order as well?\nSome might be hard to figure out, but it would seem that the 1.5.0 migrations should be between 1.5.0 and 1.6.0?", "url": "https://github.com/dockstore/dockstore/pull/3375#discussion_r403347580", "createdAt": "2020-04-03T21:34:22Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/resources/migrations.xml", "diffHunk": "@@ -27,6 +27,8 @@\n     <include file=\"migrations.1.6.0.xml\" relativeToChangelogFile=\"true\"/>\n     <include file=\"migrations.1.7.0.xml\" relativeToChangelogFile=\"true\"/>\n     <include file=\"migrations.1.7.0.relinquish.xml\" relativeToChangelogFile=\"true\"/>\n+    <include file=\"migrations.test.add_service_1.7.0.xml\" relativeToChangelogFile=\"true\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTk0Nzk1", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-387594795", "createdAt": "2020-04-03T21:35:34Z", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NjQyMzg4", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-387642388", "createdAt": "2020-04-04T00:13:34Z", "commit": {"oid": "f1030b7c1289832ed606bafa2a4ae07ef4abcb4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b78719087910701cdc4a1e9d30f1120fd011e9b5", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/b78719087910701cdc4a1e9d30f1120fd011e9b5", "committedDate": "2020-04-06T13:55:49Z", "message": "change order of migrations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MzgxMDU2", "url": "https://github.com/dockstore/dockstore/pull/3375#pullrequestreview-388381056", "createdAt": "2020-04-06T15:45:48Z", "commit": {"oid": "b78719087910701cdc4a1e9d30f1120fd011e9b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1829, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}