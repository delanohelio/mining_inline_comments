{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNTY5MjYz", "number": 3757, "title": "Feature/3741/fix hiding tool versions", "bodyText": "Fixed hiding tool versions\n#3741\nHiding a tool version no longer returns a 400 error: Unable to process\nJSON\nCause of the issue was that the versionMetadata field that is passed from the UI\ncan be null, which will cause a NullPointerException when used with addAll()\nAdded a check to ensure that parsedInformationSet is not NULL in order to\ncontinue with the addAll() method\nIncluded an additional test for the fix", "createdAt": "2020-08-26T00:10:26Z", "url": "https://github.com/dockstore/dockstore/pull/3757", "merged": true, "mergeCommit": {"oid": "2df30eb171a50341e78d6b8202bb172e8afa44de"}, "closed": true, "closedAt": "2020-08-28T21:56:06Z", "author": {"login": "ByteMap"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCfcKTAH2gAyNDczNTY5MjYzOmI2ZDRiNzI1NWU2YWIzNTM4YjhjYjQ3ZWVhZTM5MjU5YzMwNmU5MmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDYWesgFqTQ3NzkwMTg0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b6d4b7255e6ab3538b8cb47eeae39259c306e92c", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/b6d4b7255e6ab3538b8cb47eeae39259c306e92c", "committedDate": "2020-08-25T23:02:54Z", "message": "Fixed hiding tool versions\n\ndockstore/dockstore#3741\n\nHiding a tool version no longer returns a 400 error: Unable to process\nJSON\n\nCause of the issue was that versionMetadata that is passed from the UI\ncan be null, which causes a NullPointerException when used with addAll()\n\nAdded a check to ensure that parsedInformationSet is not NULL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "910b8c4ac484eb4ec114550c89f4db1e8944b750", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/910b8c4ac484eb4ec114550c89f4db1e8944b750", "committedDate": "2020-08-26T00:03:24Z", "message": "Added an additional test for the fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTQ0NjY1", "url": "https://github.com/dockstore/dockstore/pull/3757#pullrequestreview-475544665", "createdAt": "2020-08-26T14:26:18Z", "commit": {"oid": "910b8c4ac484eb4ec114550c89f4db1e8944b750"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoyNjoxOVrOHHOv8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoyOToyMFrOHHO5Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM0MzczMA==", "bodyText": "This looks like it occurred in a different PR, please create a ticket to make a CI build fail if this file is changing but not checked in.", "url": "https://github.com/dockstore/dockstore/pull/3757#discussion_r477343730", "createdAt": "2020-08-26T14:26:19Z", "author": {"login": "denis-yuen"}, "path": "THIRD-PARTY-LICENSES.txt", "diffHunk": "@@ -148,7 +148,7 @@ Lists of 360 third-party dependencies.\n      (MIT) ficus (com.iheart:ficus_2.12:1.4.4 - http://iheartradio.github.io/ficus)\n      (The Apache Software License, Version 2.0) FindBugs-jsr305 (com.google.code.findbugs:jsr305:3.0.2 - http://findbugs.sourceforge.net/)\n      (The Apache Software License, Version 2.0) GeAnTyRef (io.leangen.geantyref:geantyref:1.3.7 - https://github.com/leangen/geantyref)\n-     (The MIT license) GitHub API for Java (org.kohsuke:github-api:1.101 - https://github-api.kohsuke.org/)\n+     (The MIT license) GitHub API for Java (org.kohsuke:github-api:1.116 - https://github-api.kohsuke.org/)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "910b8c4ac484eb4ec114550c89f4db1e8944b750"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM0NDQ5Mg==", "bodyText": "Ideally, in that ticket we also ignore/skip our own project (not third party) in this file.", "url": "https://github.com/dockstore/dockstore/pull/3757#discussion_r477344492", "createdAt": "2020-08-26T14:27:14Z", "author": {"login": "denis-yuen"}, "path": "THIRD-PARTY-LICENSES.txt", "diffHunk": "@@ -339,12 +339,12 @@ Lists of 360 third-party dependencies.\n      (Apache License 2.0) swagger-annotations (io.swagger:swagger-annotations:1.6.0 - https://github.com/swagger-api/swagger-core/modules/swagger-annotations)\n      (Apache License 2.0) swagger-core (io.swagger:swagger-core:1.6.0 - https://github.com/swagger-api/swagger-core/modules/swagger-core)\n      (Apache License 2.0) swagger-integration (io.swagger.core.v3:swagger-integration:2.1.1 - https://github.com/swagger-api/swagger-core/modules/swagger-integration)\n-     (Apache Software License, Version 2.0) swagger-java-bitbucket-client (io.dockstore:swagger-java-bitbucket-client:1.10.0-alpha.0-SNAPSHOT - https://github.com/dockstore/dockstore/swagger-java-bitbucket-client)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "910b8c4ac484eb4ec114550c89f4db1e8944b750"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM0NjA3NQ==", "bodyText": "Oh, I see the reason for Gary's comment. We should not be able to blank the version data by API this way.\nSet just the hidden attribute to avoid breakage when we fix this", "url": "https://github.com/dockstore/dockstore/pull/3757#discussion_r477346075", "createdAt": "2020-08-26T14:29:20Z", "author": {"login": "denis-yuen"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralIT.java", "diffHunk": "@@ -711,6 +711,17 @@ public void testVersionTagHide() {\n         final long count2 = testingPostgres\n             .runSelectStatement(\"select count(*) from tag t, version_metadata vm where vm.hidden = 't' and t.id = vm.id\", long.class);\n         assertEquals(\"there should be 0 hidden tag\", 0, count2);\n+\n+        tags = new ArrayList<>();\n+        updatedTag = tag.get();\n+        updatedTag.setHidden(true);\n+        updatedTag.setVersionMetadata(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "910b8c4ac484eb4ec114550c89f4db1e8944b750"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ea4d1db63136e6d0ddf987388383bdae64c314b", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/0ea4d1db63136e6d0ddf987388383bdae64c314b", "committedDate": "2020-08-26T18:15:57Z", "message": "Reverted THIRD-PARTY-LICENSES.txt and CI test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23ad4363b45c117c737a35ed10ae8a8a87c806dc", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/23ad4363b45c117c737a35ed10ae8a8a87c806dc", "committedDate": "2020-08-27T18:56:08Z", "message": "Merge branch 'develop' into feature/3741/fixHidingToolVersions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MDI1MTU2", "url": "https://github.com/dockstore/dockstore/pull/3757#pullrequestreview-477025156", "createdAt": "2020-08-27T19:39:47Z", "commit": {"oid": "23ad4363b45c117c737a35ed10ae8a8a87c806dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MDc0NTY0", "url": "https://github.com/dockstore/dockstore/pull/3757#pullrequestreview-477074564", "createdAt": "2020-08-27T20:55:44Z", "commit": {"oid": "23ad4363b45c117c737a35ed10ae8a8a87c806dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90819a7719eb8d9c00a87cc5f765cb2cc1e106dd", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/90819a7719eb8d9c00a87cc5f765cb2cc1e106dd", "committedDate": "2020-08-27T21:30:18Z", "message": "Updated comment specifying deserializer as the reason for checker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b61ceb10575a72130c374be1543973494b0ce256", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/b61ceb10575a72130c374be1543973494b0ce256", "committedDate": "2020-08-27T21:30:50Z", "message": "Merge branch 'feature/3741/fixHidingToolVersions' of github.com:dockstore/dockstore into feature/3741/fixHidingToolVersions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3NzA5NDMw", "url": "https://github.com/dockstore/dockstore/pull/3757#pullrequestreview-477709430", "createdAt": "2020-08-28T13:03:26Z", "commit": {"oid": "b61ceb10575a72130c374be1543973494b0ce256"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2596837d7d9da35e75b3edc0367c7856fab2c7f0", "author": {"user": {"login": "ByteMap", "name": "Andy Chen"}}, "url": "https://github.com/dockstore/dockstore/commit/2596837d7d9da35e75b3edc0367c7856fab2c7f0", "committedDate": "2020-08-28T17:11:40Z", "message": "Merge branch 'develop' into feature/3741/fixHidingToolVersions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3OTAxODQw", "url": "https://github.com/dockstore/dockstore/pull/3757#pullrequestreview-477901840", "createdAt": "2020-08-28T17:21:17Z", "commit": {"oid": "2596837d7d9da35e75b3edc0367c7856fab2c7f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1742, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}