{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NTI4MDgx", "number": 3655, "title": "PullRobot reference in wrong place, add more tests", "bodyText": "For #3540 again\nPreviously PullRobot object was set in RepositoryBuildRequest (which is possibly not what's required but doesn't have a negative effect)\nCorrectly putting it under QuayBuild this time\nThere's also BuildTriggerActivateRequest which I could set but I don't think we use it and also not certain it's the same object\nAdded more tests, some might be redundent but it takes less than 2 seconds to run all 3 so... \ud83e\udd37", "createdAt": "2020-07-10T16:18:47Z", "url": "https://github.com/dockstore/dockstore/pull/3655", "merged": true, "mergeCommit": {"oid": "e41902fb2010d5cd8bb21210ed93a91ca60e1448"}, "closed": true, "closedAt": "2020-07-10T20:59:38Z", "author": {"login": "garyluu"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczlli5gH2gAyNDQ3NTI4MDgxOjljMTdhNDVmMWQ0ZmU4ZTc0ZTQyNTU4YTc4ODlhYjIyOGU3MmU5ZWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczp0PHgFqTQ0NjY4NzgzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/9c17a45f1d4fe8e74e42558a7889ab228e72e9ec", "committedDate": "2020-07-10T15:43:43Z", "message": "PullRobot reference in wrong place, add more tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTM0MTA3", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446534107", "createdAt": "2020-07-10T16:24:30Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTcwODk2", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446570896", "createdAt": "2020-07-10T17:22:24Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjAxNDU5", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446601459", "createdAt": "2020-07-10T18:13:08Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxODoxMzowOFrOGwA0jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxODoxMzowOFrOGwA0jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk5ODI4Nw==", "bodyText": "A little off-topic, but how do these inline response classes get named?\nIs there a chance of breakage if we add new endpoints with new inline responses or is the 2001 deterministic in some way?", "url": "https://github.com/dockstore/dockstore/pull/3655#discussion_r452998287", "createdAt": "2020-07-10T18:13:08Z", "author": {"login": "denis-yuen"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/models/QuayModelTest.java", "diffHunk": "@@ -1,18 +1,66 @@\n package io.dockstore.models;\n \n+import java.util.List;\n+\n import com.fasterxml.jackson.core.JsonProcessingException;\n import com.fasterxml.jackson.databind.ObjectMapper;\n+import io.swagger.quay.client.ApiClient;\n+import io.swagger.quay.client.ApiException;\n+import io.swagger.quay.client.Configuration;\n+import io.swagger.quay.client.api.BuildApi;\n+import io.swagger.quay.client.model.InlineResponse2001;\n import io.swagger.quay.client.model.PullRobot;\n+import io.swagger.quay.client.model.QuayBuild;\n import org.junit.Assert;\n import org.junit.Test;\n \n import static io.dropwizard.testing.FixtureHelpers.fixture;\n \n public class QuayModelTest {\n+\n+    /**\n+     * Tests that the swagger-generated Quay.io api can deserialize a sample PullRobot JSON (that isn't just null)\n+     * @throws JsonProcessingException  If cannot deserialize\n+     */\n     @Test\n     public void testPullRobot() throws JsonProcessingException {\n         ObjectMapper objectMapper = new ObjectMapper();\n         PullRobot pullRobot = objectMapper.readValue(fixture(\"fixtures/pullRobot.json\"), PullRobot.class);\n+        pullRobotAssertions(pullRobot);\n+    }\n+\n+    /**\n+     * Test that the swagger-generated Quay.io api can deserialize a sample InlineResponse2001 JSON that has pull_robot that isn't just null\n+     * The sample JSON is the String response observed from testGetRepoBuildsWithPullRobot\n+     * @throws JsonProcessingException If cannot deserialize\n+     */\n+    @Test\n+    public void testInlineResponse2001() throws JsonProcessingException {\n+        ObjectMapper objectMapper = new ObjectMapper();\n+        InlineResponse2001 inlineResponse2001 = objectMapper.readValue(fixture(\"fixtures/inlineResponse2001.json\"), InlineResponse2001.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjA0Njkw", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446604690", "createdAt": "2020-07-10T18:18:44Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjcwMzA1", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446670305", "createdAt": "2020-07-10T20:03:31Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Njg3ODM2", "url": "https://github.com/dockstore/dockstore/pull/3655#pullrequestreview-446687836", "createdAt": "2020-07-10T20:39:23Z", "commit": {"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1670, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}