{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MjUxNjA3", "number": 3464, "title": "Refresh individual version fix", "bodyText": "The function getRef(ref, repository) will return null if the reference is a pull type. Unfortunately some new code assumed it is never null. We now simply check if it is null before going to the next steps.\n#3452", "createdAt": "2020-05-11T17:50:36Z", "url": "https://github.com/dockstore/dockstore/pull/3464", "merged": true, "mergeCommit": {"oid": "a1b3e74c60d3850b7d1fe59feee261af0eeb2997"}, "closed": true, "closedAt": "2020-05-11T19:47:32Z", "author": {"login": "agduncan94"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgSNv5AH2gAyNDE2MjUxNjA3OjFjZTBhMThlZGRhZmJlODIzMjQ4ODY3YjcyMGYxNWQ0MDA1YTkwZjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgVFrYAFqTQwOTQ3NjkwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/1ce0a18eddafbe823248867b720f15d4005a90f8", "committedDate": "2020-05-11T16:24:58Z", "message": "ref triple can be null, this is now accounted for"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDAzOTcw", "url": "https://github.com/dockstore/dockstore/pull/3464#pullrequestreview-409403970", "createdAt": "2020-05-11T18:01:42Z", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxODowMTo0MlrOGTnVnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxODowMTo0MlrOGTnVnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIyMDYzNw==", "bodyText": "Don't change this, since it's now working, but this could have been a case to use Optional, to force the caller to check.", "url": "https://github.com/dockstore/dockstore/pull/3464#discussion_r423220637", "createdAt": "2020-05-11T18:01:42Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -378,8 +378,10 @@ public Workflow setupWorkflowVersions(String repositoryId, Workflow workflow, Op\n             GHRef[] refs = repository.getRefs();\n             for (GHRef ref : refs) {\n                 Triple<String, Date, String> referenceTriple = getRef(ref, repository);\n-                if (versionName.isEmpty() || Objects.equals(versionName.get(), referenceTriple.getLeft())) {\n-                    references.add(referenceTriple);\n+                if (referenceTriple != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDM0NzY1", "url": "https://github.com/dockstore/dockstore/pull/3464#pullrequestreview-409434765", "createdAt": "2020-05-11T18:44:18Z", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDQ5NTE0", "url": "https://github.com/dockstore/dockstore/pull/3464#pullrequestreview-409449514", "createdAt": "2020-05-11T19:04:21Z", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY3MTU2", "url": "https://github.com/dockstore/dockstore/pull/3464#pullrequestreview-409467156", "createdAt": "2020-05-11T19:30:58Z", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDc2OTAz", "url": "https://github.com/dockstore/dockstore/pull/3464#pullrequestreview-409476903", "createdAt": "2020-05-11T19:45:52Z", "commit": {"oid": "1ce0a18eddafbe823248867b720f15d4005a90f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1878, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}