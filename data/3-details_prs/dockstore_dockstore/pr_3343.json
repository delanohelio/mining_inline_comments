{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMjAwMTQ0", "number": 3343, "title": "Feature/3301/refresh individual version", "bodyText": "Can refresh individual versions (they don't need to already exist on Dockstore). Can also refresh legacy versions in a migrated GH app workflow\n#3301", "createdAt": "2020-03-24T18:58:40Z", "url": "https://github.com/dockstore/dockstore/pull/3343", "merged": true, "mergeCommit": {"oid": "7d77b8ac4d1c5489eedfe3f7ea7f56ea2a22021a"}, "closed": true, "closedAt": "2020-04-02T18:02:33Z", "author": {"login": "agduncan94"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQgmLaAH2gAyMzkzMjAwMTQ0OjA4MGY2Y2NjZjkwNDMzZDBiOWUyOTVmZGI5YWI2Mzk5ZGY4ZDY4NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTvsY8AFqTM4NjYzOTIwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "080f6cccf90433d0b9e295fdb9ab6399df8d6875", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/080f6cccf90433d0b9e295fdb9ab6399df8d6875", "committedDate": "2020-03-23T16:07:32Z", "message": "add ability to refresh an individual version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f019a6d06168ef0f138e998420a317ff6ed3b1e", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/3f019a6d06168ef0f138e998420a317ff6ed3b1e", "committedDate": "2020-03-23T17:00:05Z", "message": "added tests for refresh workflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dcc29d46420c6b9236d5c5bd18701bd0ea466f3", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/3dcc29d46420c6b9236d5c5bd18701bd0ea466f3", "committedDate": "2020-03-23T20:15:56Z", "message": "support for refreshing legacy versions within a github app workflow; also some test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b96c2ca8d37c7eb36d451a90784f3a5364b287d", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/0b96c2ca8d37c7eb36d451a90784f3a5364b287d", "committedDate": "2020-03-24T14:30:01Z", "message": "some comments and cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5", "committedDate": "2020-03-24T16:10:10Z", "message": "refresh all will not throw an error for dockstore.yml workflows"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMTY3Mzc5", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-382167379", "createdAt": "2020-03-26T16:10:10Z", "commit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNjoxMDoxMFrOF8OjCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNjoxMTo0MVrOF8Onzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NzIyNg==", "bodyText": "What happens if versionName is not empty and the version got deleted on GitHub?", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r398697226", "createdAt": "2020-03-26T16:10:10Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/AbstractWorkflowResource.java", "diffHunk": "@@ -151,20 +151,24 @@ private String getToken(List<Token> tokens, TokenType tokenType) {\n      * workflow verions.\n      * @param workflow    workflow to be updated\n      * @param newWorkflow workflow to grab new content from\n+     * @param user\n+     * @param versionName\n      */\n-    protected void updateDBWorkflowWithSourceControlWorkflow(Workflow workflow, Workflow newWorkflow, final User user) {\n+    protected void updateDBWorkflowWithSourceControlWorkflow(Workflow workflow, Workflow newWorkflow, final User user, Optional<String> versionName) {\n         // update root workflow\n         workflow.update(newWorkflow);\n         // update workflow versions\n         Map<String, WorkflowVersion> existingVersionMap = new HashMap<>();\n         workflow.getWorkflowVersions().forEach(version -> existingVersionMap.put(version.getName(), version));\n \n-        // delete versions that exist in old workflow but do not exist in newWorkflow\n-        Map<String, WorkflowVersion> newVersionMap = new HashMap<>();\n-        newWorkflow.getWorkflowVersions().forEach(version -> newVersionMap.put(version.getName(), version));\n-        Sets.SetView<String> removedVersions = Sets.difference(existingVersionMap.keySet(), newVersionMap.keySet());\n-        for (String version : removedVersions) {\n-            workflow.removeWorkflowVersion(existingVersionMap.get(version));\n+        // delete versions that exist in old workflow but do not exist in newWorkflow (only for whole refresh)\n+        if (versionName.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5ODQ0Ng==", "bodyText": "Shouldn't remove frozen versions. While database shouldn't let you, I think the whole transaction may fail, so other changes that happened will get lost.", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r398698446", "createdAt": "2020-03-26T16:11:41Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/AbstractWorkflowResource.java", "diffHunk": "@@ -151,20 +151,24 @@ private String getToken(List<Token> tokens, TokenType tokenType) {\n      * workflow verions.\n      * @param workflow    workflow to be updated\n      * @param newWorkflow workflow to grab new content from\n+     * @param user\n+     * @param versionName\n      */\n-    protected void updateDBWorkflowWithSourceControlWorkflow(Workflow workflow, Workflow newWorkflow, final User user) {\n+    protected void updateDBWorkflowWithSourceControlWorkflow(Workflow workflow, Workflow newWorkflow, final User user, Optional<String> versionName) {\n         // update root workflow\n         workflow.update(newWorkflow);\n         // update workflow versions\n         Map<String, WorkflowVersion> existingVersionMap = new HashMap<>();\n         workflow.getWorkflowVersions().forEach(version -> existingVersionMap.put(version.getName(), version));\n \n-        // delete versions that exist in old workflow but do not exist in newWorkflow\n-        Map<String, WorkflowVersion> newVersionMap = new HashMap<>();\n-        newWorkflow.getWorkflowVersions().forEach(version -> newVersionMap.put(version.getName(), version));\n-        Sets.SetView<String> removedVersions = Sets.difference(existingVersionMap.keySet(), newVersionMap.keySet());\n-        for (String version : removedVersions) {\n-            workflow.removeWorkflowVersion(existingVersionMap.get(version));\n+        // delete versions that exist in old workflow but do not exist in newWorkflow (only for whole refresh)\n+        if (versionName.isEmpty()) {\n+            Map<String, WorkflowVersion> newVersionMap = new HashMap<>();\n+            newWorkflow.getWorkflowVersions().forEach(version -> newVersionMap.put(version.getName(), version));\n+            Sets.SetView<String> removedVersions = Sets.difference(existingVersionMap.keySet(), newVersionMap.keySet());\n+            for (String version : removedVersions) {\n+                workflow.removeWorkflowVersion(existingVersionMap.get(version));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjY5NzU5", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-382269759", "createdAt": "2020-03-26T17:59:50Z", "commit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1OTo1MFrOF8TjnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODowMToxN1rOF8Tnbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3OTI5Mg==", "bodyText": "boo", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r398779292", "createdAt": "2020-03-26T17:59:50Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -473,10 +476,12 @@ public GHRepository getRepository(String repositoryId) {\n      * @param existingDefaults Optional mapping of existing versions\n      * @param repository GitHub repository object\n      * @param dockstoreYml Dockstore YML sourcefile\n+     * @param versionName Optional version name to refresh\n      * @return WorkflowVersion for the given reference\n      */\n+    @SuppressWarnings(\"checkstyle:ParameterNumber\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc4MDI3MQ==", "bodyText": "Paging @garyluu\nDoes a shared prefix with @Path(\"/{workflowId}/refresh\") cause issues with ELK?", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r398780271", "createdAt": "2020-03-26T18:01:17Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/WorkflowResource.java", "diffHunk": "@@ -380,61 +380,109 @@ private void logFullWorkflowRefresh(final Workflow workflow) {\n         }\n     }\n \n+    /**\n+     * Logs a version refresh statement with the workflow's descriptor language if workflow is a FULL workflow .\n+     * These logs will be monitored by CloudWatch and displayed on Grafana.\n+     * @param workflow\n+     * @param workflowVersion\n+     */\n+    private void logWorkflowVersionRefresh(final Workflow workflow, final String workflowVersion) {\n+        if (workflow.getMode() == WorkflowMode.FULL) {\n+            LOG.info(String.format(\"%s: Refreshing version %s for %s workflow named %s\", dashboardPrefix, workflowVersion, workflow.getDescriptorType(), workflow.getEntryPath()));\n+        }\n+    }\n+\n     @GET\n     @Path(\"/{workflowId}/refresh\")\n     @Timed\n     @UnitOfWork\n+    @Operation(operationId = \"refresh\", description = \"Refresh one particular workflow.\", security = @SecurityRequirement(name = \"bearer\"))\n     @ApiOperation(nickname = \"refresh\", value = \"Refresh one particular workflow.\", notes = \"Full refresh\", authorizations = {\n         @Authorization(value = JWT_SECURITY_DEFINITION_NAME) }, response = Workflow.class)\n     public Workflow refresh(@ApiParam(hidden = true) @Auth User user,\n         @ApiParam(value = \"workflow ID\", required = true) @PathParam(\"workflowId\") Long workflowId) {\n-        Workflow workflow = workflowDAO.findById(workflowId);\n-        checkEntry(workflow);\n-        checkUser(user, workflow);\n-        checkNotHosted(workflow);\n+        return refreshWorkflow(user, workflowId, Optional.empty());\n+    }\n+\n+    @GET\n+    @Path(\"/{workflowId}/refresh/{version}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 79}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyODQyMzI0", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-382842324", "createdAt": "2020-03-27T13:11:48Z", "commit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMzoxMTo0OVrOF8wc8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMzoxMjowOVrOF8wdyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTI1MjcyMw==", "bodyText": "use constant for \"bearer\" here and below", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r399252723", "createdAt": "2020-03-27T13:11:49Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/WorkflowResource.java", "diffHunk": "@@ -380,61 +380,109 @@ private void logFullWorkflowRefresh(final Workflow workflow) {\n         }\n     }\n \n+    /**\n+     * Logs a version refresh statement with the workflow's descriptor language if workflow is a FULL workflow .\n+     * These logs will be monitored by CloudWatch and displayed on Grafana.\n+     * @param workflow\n+     * @param workflowVersion\n+     */\n+    private void logWorkflowVersionRefresh(final Workflow workflow, final String workflowVersion) {\n+        if (workflow.getMode() == WorkflowMode.FULL) {\n+            LOG.info(String.format(\"%s: Refreshing version %s for %s workflow named %s\", dashboardPrefix, workflowVersion, workflow.getDescriptorType(), workflow.getEntryPath()));\n+        }\n+    }\n+\n     @GET\n     @Path(\"/{workflowId}/refresh\")\n     @Timed\n     @UnitOfWork\n+    @Operation(operationId = \"refresh\", description = \"Refresh one particular workflow.\", security = @SecurityRequirement(name = \"bearer\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTI1MjkzNg==", "bodyText": "user not hidden for both endpoints", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r399252936", "createdAt": "2020-03-27T13:12:09Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/resources/openapi3/openapi.yaml", "diffHunk": "@@ -4115,6 +4115,65 @@ paths:\n       - bearer: []\n       tags:\n       - workflows\n+  /workflows/{workflowId}/refresh:\n+    get:\n+      description: Refresh one particular workflow.\n+      operationId: refresh\n+      parameters:\n+      - in: path\n+        name: workflowId\n+        required: true\n+        schema:\n+          format: int64\n+          type: integer\n+      requestBody:\n+        content:\n+          '*/*':\n+            schema:\n+              $ref: '#/components/schemas/User'\n+      responses:\n+        default:\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Workflow'\n+          description: default response\n+      security:\n+      - bearer: []\n+      tags:\n+      - workflows\n+  /workflows/{workflowId}/refresh/{version}:\n+    get:\n+      description: Refresh one particular workflow version.\n+      operationId: refreshVersion\n+      parameters:\n+      - in: path\n+        name: workflowId\n+        required: true\n+        schema:\n+          format: int64\n+          type: integer\n+      - in: path\n+        name: version\n+        required: true\n+        schema:\n+          type: string\n+      requestBody:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb1725a62fa6f7613c05a8f12e77c6f9e3de0b5"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ddd7272ff8d7d2b7fe585381bd5dd384cf1c921", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/8ddd7272ff8d7d2b7fe585381bd5dd384cf1c921", "committedDate": "2020-03-27T15:23:22Z", "message": "changes from PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c12cb57b0958fd8fd67667627babcd379374636d", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/c12cb57b0958fd8fd67667627babcd379374636d", "committedDate": "2020-03-27T16:58:59Z", "message": "remove parameter count issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/b1ea056067b66b41593cedd5bb7ce91e698823fe", "committedDate": "2020-03-27T17:06:59Z", "message": "Merge branch 'develop' into feature/3301/refresh-individual-version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMTMzOTA1", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-383133905", "createdAt": "2020-03-27T19:12:11Z", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxOToxMjoxMVrOF8-oZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxOToxMjoxMVrOF8-oZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ4NTAzMA==", "bodyText": "Could use a test for refresh version on a frozen version", "url": "https://github.com/dockstore/dockstore/pull/3343#discussion_r399485030", "createdAt": "2020-03-27T19:12:11Z", "author": {"login": "denis-yuen"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/webservice/WebhookIT.java", "diffHunk": "@@ -117,6 +120,30 @@ public void testWorkflowMigration() throws Exception {\n             assertEquals(\"Should not be able to refresh a dockstore.yml workflow.\", HttpStatus.SC_BAD_REQUEST, ex.getCode());\n         }\n \n+        // Should be able to refresh a legacy version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c00aa1a3c48b7d0cc88d4a6dcdd9edc5ad06454b", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/c00aa1a3c48b7d0cc88d4a6dcdd9edc5ad06454b", "committedDate": "2020-03-27T20:12:53Z", "message": "update test to try refreshing a workflow with a frozen version, should not throw an error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMTg3OTY2", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-383187966", "createdAt": "2020-03-27T20:44:53Z", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MDA1NDY3", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-384005467", "createdAt": "2020-03-30T16:03:42Z", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MDA4MTYw", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-384008160", "createdAt": "2020-03-30T16:06:38Z", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MDMyOTE0", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-384032914", "createdAt": "2020-03-30T16:35:31Z", "commit": {"oid": "b1ea056067b66b41593cedd5bb7ce91e698823fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "188ffe55b79e0406e3004e72ee05855440c4b317", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/188ffe55b79e0406e3004e72ee05855440c4b317", "committedDate": "2020-04-02T13:13:46Z", "message": "Merge branch 'develop' into feature/3301/refresh-individual-version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8e272421174498e48cb9d64af6ad476ccdab33", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/2a8e272421174498e48cb9d64af6ad476ccdab33", "committedDate": "2020-04-02T14:50:41Z", "message": "add frozen version test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NjM5MjA3", "url": "https://github.com/dockstore/dockstore/pull/3343#pullrequestreview-386639207", "createdAt": "2020-04-02T17:24:40Z", "commit": {"oid": "2a8e272421174498e48cb9d64af6ad476ccdab33"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1850, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}