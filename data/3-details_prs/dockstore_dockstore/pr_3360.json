{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1OTcwNTc4", "number": 3360, "title": "Use DockstoreYaml class", "bodyText": "#3237 #3344\nUse DockstoreYaml class for reading .dockstore.yml. As part of this,\nmade name field optional for workflows.\nA merge of hotfix branch into develop led to an issue with the tests, where a\nversion was being duplicated. Unrelated to my initial changes, but\nAndrew ended up adding code to avoid that, copying source files\ninstead of deleting the version and adding it again.", "createdAt": "2020-03-30T23:46:07Z", "url": "https://github.com/dockstore/dockstore/pull/3360", "merged": true, "mergeCommit": {"oid": "2c8cbf17881d28e8d91cfc21a2728e948731290f"}, "closed": true, "closedAt": "2020-04-01T20:48:01Z", "author": {"login": "coverbeck"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcS04rAgH2gAyMzk1OTcwNTc4OjM4YmVkMmFiOWEzNDhhZTdiYzA4ZjkzNGY3NmVjYTJhZTI1NDE5Yzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTbxdPAFqTM4NTgzMTAwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "38bed2ab9a348ae7bc08f934f76eca2ae25419c7", "author": {"user": {"login": "coverbeck", "name": "Charles Overbeck"}}, "url": "https://github.com/dockstore/dockstore/commit/38bed2ab9a348ae7bc08f934f76eca2ae25419c7", "committedDate": "2020-03-30T20:53:41Z", "message": "Support for services in dockstore.yml 1.2\n\n#3237\n\nAlso #3344 -- make name field optional\n\nAs part of this, switched to using DockstoreYaml classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97e22ac999b8b5bf825574764dd7843a543e9fb7", "author": {"user": {"login": "coverbeck", "name": "Charles Overbeck"}}, "url": "https://github.com/dockstore/dockstore/commit/97e22ac999b8b5bf825574764dd7843a543e9fb7", "committedDate": "2020-03-30T20:53:41Z", "message": "Approach that doesn't work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05454f38e3553bfeef216a242657dde7bed29f5f", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/05454f38e3553bfeef216a242657dde7bed29f5f", "committedDate": "2020-03-30T20:53:41Z", "message": "properly copy sourcefiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647", "author": {"user": {"login": "coverbeck", "name": "Charles Overbeck"}}, "url": "https://github.com/dockstore/dockstore/commit/0b26080e0f49f934093917245c04573a8a37f647", "committedDate": "2020-03-30T20:53:41Z", "message": "More places where we parsing dockstore.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0Njk1ODg4", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-384695888", "createdAt": "2020-03-31T12:47:10Z", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NzA2NDY1", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-384706465", "createdAt": "2020-03-31T13:00:00Z", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMzowMDowMFrOF-UkCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMzowMDowMFrOF-UkCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg5MjkzNg==", "bodyText": "If \"CWL\" works, use \"CWL\"", "url": "https://github.com/dockstore/dockstore/pull/3360#discussion_r400892936", "createdAt": "2020-03-31T13:00:00Z", "author": {"login": "garyluu"}, "path": "dockstore-common/src/test/resources/fixtures/dockstore12.yml", "diffHunk": "@@ -10,6 +10,11 @@ workflows:\n      primaryDescriptorPath: /Dockstore.cwl\n      testParameterFiles:\n        - /dockstore.cwl.json\n+  # A workflow with no name:\n+  -  subclass: cwl", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODc2MDg4", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-384876088", "createdAt": "2020-03-31T15:55:59Z", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MDYxODE5", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-385061819", "createdAt": "2020-03-31T20:02:28Z", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMDowMjoyOFrOF-mDLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMDowMjoyOFrOF-mDLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE3OTQzNw==", "bodyText": "Maybe it should just be case in-sensitive.\nI don't think we're ever going to have workflow languages that are distinguishable only by taking into account case.", "url": "https://github.com/dockstore/dockstore/pull/3360#discussion_r401179437", "createdAt": "2020-03-31T20:02:28Z", "author": {"login": "denis-yuen"}, "path": "dockstore-common/src/test/resources/fixtures/dockstore12.yml", "diffHunk": "@@ -10,6 +10,11 @@ workflows:\n      primaryDescriptorPath: /Dockstore.cwl\n      testParameterFiles:\n        - /dockstore.cwl.json\n+  # A workflow with no name:\n+  -  subclass: cwl", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg5MjkzNg=="}, "originalCommit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1Njg2MjQ2", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-385686246", "createdAt": "2020-04-01T15:15:01Z", "commit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxNTowMVrOF_Ff-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxNTowMVrOF_Ff-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY5NDcxMg==", "bodyText": "It may be case insensitive here, but there are far too many places on the backend that are case sensitive.  See Workflow descriptorType, ToolDescriptor type, etc.  It's already a real pain dealing with close to 5 sets of descriptor type enums, don't want to potentially deal with another one.\nIt is case-insensitive, great! But like i said:\nIf \"CWL\" works, use \"CWL\".\nOtherwise, there's nothing stopping others team members from putting \"CwL\", \"wdL\", and \"Nfl\" everywhere and just saying that it's case insensitive and will work", "url": "https://github.com/dockstore/dockstore/pull/3360#discussion_r401694712", "createdAt": "2020-04-01T15:15:01Z", "author": {"login": "garyluu"}, "path": "dockstore-common/src/test/resources/fixtures/dockstore12.yml", "diffHunk": "@@ -10,6 +10,11 @@ workflows:\n      primaryDescriptorPath: /Dockstore.cwl\n      testParameterFiles:\n        - /dockstore.cwl.json\n+  # A workflow with no name:\n+  -  subclass: cwl", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg5MjkzNg=="}, "originalCommit": {"oid": "0b26080e0f49f934093917245c04573a8a37f647"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4adad9fd5844121cc1c74affdbef190acffdf81f", "author": {"user": {"login": "coverbeck", "name": "Charles Overbeck"}}, "url": "https://github.com/dockstore/dockstore/commit/4adad9fd5844121cc1c74affdbef190acffdf81f", "committedDate": "2020-04-01T16:10:14Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODI2OTI2", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-385826926", "createdAt": "2020-04-01T18:06:10Z", "commit": {"oid": "4adad9fd5844121cc1c74affdbef190acffdf81f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODMxMDA1", "url": "https://github.com/dockstore/dockstore/pull/3360#pullrequestreview-385831005", "createdAt": "2020-04-01T18:12:06Z", "commit": {"oid": "4adad9fd5844121cc1c74affdbef190acffdf81f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1820, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}