{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMzM2MTQ4", "number": 3633, "title": "Feature/open api generator update1", "bodyText": "Swagger thinks webservice is returning a date-time string when it's actually just a number.  This corrects it for some of the models (the ones the frontend cares about).\nAlso adds a strict but optional swagger/openapi validator that is currently known to fail\nBreaking change for the frontend dockstore/dockstore-ui2#1031", "createdAt": "2020-06-30T22:47:35Z", "url": "https://github.com/dockstore/dockstore/pull/3633", "merged": true, "mergeCommit": {"oid": "d1cdcfd8c8cd9c75fe95fb69f22f033b721c8361"}, "closed": true, "closedAt": "2020-07-15T21:53:16Z", "author": {"login": "garyluu"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxD7vEABqjM1MDg0NTcyMzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0qf-egH2gAyNDQyMzM2MTQ4OjUyYTU0ZjA3NDI4NGM0N2MwM2JiOGZmYTg1MjYzZTUwY2I2NWEzMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e91538ac2d0ee3cc23d3daf06f76d8da4c652fa4", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/e91538ac2d0ee3cc23d3daf06f76d8da4c652fa4", "committedDate": "2020-07-02T18:53:25Z", "message": "Simplify"}, "afterCommit": {"oid": "fa87050b10561d96cfc0895966b0776699dab44f", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/fa87050b10561d96cfc0895966b0776699dab44f", "committedDate": "2020-07-02T19:23:13Z", "message": "Add failing validator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8dd3728d3214e3c376402d5e429463097a00cc1", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/e8dd3728d3214e3c376402d5e429463097a00cc1", "committedDate": "2020-07-02T19:23:47Z", "message": "Fix some timestamps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a6d3be34d0f3121078ad11e064fdb38895372b5", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/0a6d3be34d0f3121078ad11e064fdb38895372b5", "committedDate": "2020-07-02T19:23:47Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d595ba3d7cc3fbeefaa5f2767617fd06e8c3df7", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/5d595ba3d7cc3fbeefaa5f2767617fd06e8c3df7", "committedDate": "2020-07-02T19:23:47Z", "message": "Update swagger/openapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d2126a1b67db0d13f59009cf94e14ba6f858006", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/5d2126a1b67db0d13f59009cf94e14ba6f858006", "committedDate": "2020-07-02T19:23:47Z", "message": "Convert to int64"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "116b35f7d2fab67a84c4fac35e97216f8d23f638", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/116b35f7d2fab67a84c4fac35e97216f8d23f638", "committedDate": "2020-07-02T19:23:48Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/3d64ae0d31a5e880088eba769d363de73d9cbc46", "committedDate": "2020-07-02T19:23:48Z", "message": "Add failing validator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fa87050b10561d96cfc0895966b0776699dab44f", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/fa87050b10561d96cfc0895966b0776699dab44f", "committedDate": "2020-07-02T19:23:13Z", "message": "Add failing validator"}, "afterCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/3d64ae0d31a5e880088eba769d363de73d9cbc46", "committedDate": "2020-07-02T19:23:48Z", "message": "Add failing validator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDc5NTc1", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-442079575", "createdAt": "2020-07-03T00:08:53Z", "commit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDowODo1M1rOGsgJ7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDoxMTowM1rOGsgL4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzM1OQ==", "bodyText": "Is this a place to use a resource_class instead -- are we trying to make sure things fit into 4GB? Or does it work fine as is?", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449317359", "createdAt": "2020-07-03T00:08:53Z", "author": {"login": "coverbeck"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzg1OQ==", "bodyText": "Should be 3.3.1, shouldn't it?", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449317859", "createdAt": "2020-07-03T00:11:03Z", "author": {"login": "coverbeck"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.\n+    steps: # a collection of executable commands\n+      - checkout # check out source code to working directory\n+      - restore_cache: # restore the saved cache after the first run or if `pom.xml` has changed\n+          # Read about caching dependencies: https://circleci.com/docs/2.0/caching/\n+          key: dockstore-java-{{ checksum \"pom.xml\" }}\n+      - run:\n+          name: install dockerize\n+          command: wget https://github.com/jwilder/dockerize/releases/download/$DOCKERIZE_VERSION/dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && sudo tar -C /usr/local/bin -xzvf dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && rm dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz\n+          environment:\n+            DOCKERIZE_VERSION: v0.3.0\n+      - run: \n+          name: Install yq\n+          command: |\n+            wget https://github.com/mikefarah/yq/releases/download/3.1.2/yq_linux_amd64", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/abd05b92ee539f19b24b04ee1039bcf40779bce4", "committedDate": "2020-07-03T00:24:39Z", "message": "Update yq"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDU0NzE0", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-442454714", "createdAt": "2020-07-03T14:39:57Z", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMTA0MTA4", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-443104108", "createdAt": "2020-07-06T14:02:28Z", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjEzMjM5", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-443213239", "createdAt": "2020-07-06T16:06:28Z", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjU2MTcx", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-443256171", "createdAt": "2020-07-06T17:00:02Z", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1Nzk5NjYy", "url": "https://github.com/dockstore/dockstore/pull/3633#pullrequestreview-445799662", "createdAt": "2020-07-09T16:54:17Z", "commit": {"oid": "abd05b92ee539f19b24b04ee1039bcf40779bce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f325a8ed26f361df0033ab648e697905240af69", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/5f325a8ed26f361df0033ab648e697905240af69", "committedDate": "2020-07-09T19:37:52Z", "message": "Merge branch 'develop' into feature/openAPIGeneratorUpdate1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "190900091d02ffba3da57d9e0f97ac536ad19bac", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/190900091d02ffba3da57d9e0f97ac536ad19bac", "committedDate": "2020-07-10T15:45:01Z", "message": "Merge branch 'develop' into feature/openAPIGeneratorUpdate1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52a54f074284c47c03bb8ffa85263e50cb65a317", "author": {"user": {"login": "garyluu", "name": "Gary Luu"}}, "url": "https://github.com/dockstore/dockstore/commit/52a54f074284c47c03bb8ffa85263e50cb65a317", "committedDate": "2020-07-14T00:01:05Z", "message": "Merge branch 'develop' into feature/openAPIGeneratorUpdate1"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1770, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}