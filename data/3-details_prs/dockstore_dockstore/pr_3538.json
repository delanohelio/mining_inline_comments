{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNDQwMTgy", "number": 3538, "title": "Feature/remove refreshorg", "bodyText": "WIP for #3523\nNote to self: need additional PR for refresh tools by namespace", "createdAt": "2020-06-08T22:59:44Z", "url": "https://github.com/dockstore/dockstore/pull/3538", "merged": true, "mergeCommit": {"oid": "39bc46273a34afdb99bc00af6e33b5c27fce892a"}, "closed": true, "closedAt": "2020-06-11T20:34:32Z", "author": {"login": "denis-yuen"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpWG_8AH2gAyNDMxNDQwMTgyOjBjMDgyM2EwNDgwMjNkMTgwODgyM2FmNGY5ZTc5NDFlNWViMzZkMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqUFM2gFqTQyOTI1NzQ4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0c0823a048023d1808823af4f9e7941e5eb36d15", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/0c0823a048023d1808823af4f9e7941e5eb36d15", "committedDate": "2020-06-08T20:02:32Z", "message": "Update to narrow down broken tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30c232d8b5b71d076f010478e4a97e01935a89c5", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/30c232d8b5b71d076f010478e4a97e01935a89c5", "committedDate": "2020-06-08T22:58:42Z", "message": "Test fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cac6749aae7e0eff79a888b4dd01084d539b6685", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/cac6749aae7e0eff79a888b4dd01084d539b6685", "committedDate": "2020-06-09T14:02:43Z", "message": "Merge branch 'develop' into feature/remove_refreshorg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae6f859712fbf5cf1f2cf869237573a052f71f35", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/ae6f859712fbf5cf1f2cf869237573a052f71f35", "committedDate": "2020-06-09T15:40:45Z", "message": "More fixes and remove obsolete test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4125521812571a178ffa066085aa695f5f5fc88", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/d4125521812571a178ffa066085aa695f5f5fc88", "committedDate": "2020-06-09T15:44:48Z", "message": "Merge branch 'feature/remove_refreshorg' of github.com:dockstore/dockstore into feature/remove_refreshorg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c56597bf20d020f0200b2c34fdcf78f9ebc3594a", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/c56597bf20d020f0200b2c34fdcf78f9ebc3594a", "committedDate": "2020-06-09T19:41:17Z", "message": "Merge branch 'develop' into feature/remove_refreshorg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c97f531d41e931430ad3aadf16b2dd7a888880f", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/1c97f531d41e931430ad3aadf16b2dd7a888880f", "committedDate": "2020-06-09T20:02:07Z", "message": "More test fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjA4NzY3", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-427608767", "createdAt": "2020-06-09T23:17:10Z", "commit": {"oid": "1c97f531d41e931430ad3aadf16b2dd7a888880f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MTQxMzQw", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-428141340", "createdAt": "2020-06-10T14:55:58Z", "commit": {"oid": "1c97f531d41e931430ad3aadf16b2dd7a888880f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDo1NTo1OFrOGh45ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDo1NzoyNlrOGh499A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4ODQ3NA==", "bodyText": "handling getLowerShortName() is a nice to have, but the test needs to ensure that the base case works (getShortName())", "url": "https://github.com/dockstore/dockstore/pull/3538#discussion_r438188474", "createdAt": "2020-06-10T14:55:58Z", "author": {"login": "garyluu"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/BasicIT.java", "diffHunk": "@@ -182,12 +182,12 @@ public void testRefresh() {\n     @Test\n     public void testRefreshWorkflow() {\n         ApiClient client = getWebClient(USER_1_USERNAME, testingPostgres);\n-        UsersApi usersApi = new UsersApi(client);\n         WorkflowsApi workflowsApi = new WorkflowsApi(client);\n \n-        // Refresh all\n-        usersApi.refreshWorkflowsByOrganization((long)1, \"DockstoreTestUser\");\n-        usersApi.refreshWorkflowsByOrganization((long)1, \"dockstore_testuser2\");\n+        workflowsApi.manualRegister(SourceControl.GITHUB.name(), \"DockstoreTestUser/dockstore-whalesay-wdl\", \"/dockstore.wdl\", \"\", DescriptorLanguage.WDL.getLowerShortName(), \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c97f531d41e931430ad3aadf16b2dd7a888880f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4OTU1Ng==", "bodyText": "\"cwl\" should be DescriptorLanguage.CWL.getShortName()", "url": "https://github.com/dockstore/dockstore/pull/3538#discussion_r438189556", "createdAt": "2020-06-10T14:57:26Z", "author": {"login": "garyluu"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -1144,7 +1146,10 @@ public void testRefreshingUserMetadata() {\n         // Refresh all workflows\n         ApiClient client = getWebClient(USER_2_USERNAME, testingPostgres);\n         UsersApi usersApi = new UsersApi(client);\n-        usersApi.refreshWorkflowsByOrganization((long)1, \"dockstore_testuser2\");\n+\n+        WorkflowsApi workflowsApi = new WorkflowsApi(client);\n+        Workflow workflow = manualRegisterAndPublish(workflowsApi, \"DockstoreTestUser2/parameter_test_workflow\", \"testname\", \"cwl\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c97f531d41e931430ad3aadf16b2dd7a888880f"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03164cfaabdd12cb861dfbe4bf55185c3becece8", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/03164cfaabdd12cb861dfbe4bf55185c3becece8", "committedDate": "2020-06-10T15:10:56Z", "message": "Merge branch 'develop' into feature/remove_refreshorg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c95e99275976ff6a58780f47f033bf8688c70ad", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/8c95e99275976ff6a58780f47f033bf8688c70ad", "committedDate": "2020-06-10T18:27:04Z", "message": "Add test for manual register in non-lower case\n\n* also use constant"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4Mzg4NzE3", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-428388717", "createdAt": "2020-06-10T20:06:26Z", "commit": {"oid": "8c95e99275976ff6a58780f47f033bf8688c70ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDQzMzM4", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-428443338", "createdAt": "2020-06-10T21:31:44Z", "commit": {"oid": "8c95e99275976ff6a58780f47f033bf8688c70ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4ODc5MjI0", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-428879224", "createdAt": "2020-06-11T12:56:19Z", "commit": {"oid": "8c95e99275976ff6a58780f47f033bf8688c70ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c528e092db75ed0986d26fa14308b0accff1d1e2", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/c528e092db75ed0986d26fa14308b0accff1d1e2", "committedDate": "2020-06-11T18:51:04Z", "message": "Merge branch 'develop' into feature/remove_refreshorg"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MjA1NzU4", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-429205758", "createdAt": "2020-06-11T19:06:20Z", "commit": {"oid": "c528e092db75ed0986d26fa14308b0accff1d1e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MjU3NDg5", "url": "https://github.com/dockstore/dockstore/pull/3538#pullrequestreview-429257489", "createdAt": "2020-06-11T20:14:41Z", "commit": {"oid": "c528e092db75ed0986d26fa14308b0accff1d1e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1917, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}