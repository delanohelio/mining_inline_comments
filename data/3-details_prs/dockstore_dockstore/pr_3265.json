{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5Nzk0ODg3", "number": 3265, "title": "More quay cleanup, this time tools and tags", "bodyText": "Even more #3232\nNext stop, build and build trigger information and actually filling in some TBD", "createdAt": "2020-02-25T20:52:34Z", "url": "https://github.com/dockstore/dockstore/pull/3265", "merged": true, "mergeCommit": {"oid": "306ff343dee2426a54d46717d8ffc9c3f6dcb372"}, "closed": true, "closedAt": "2020-02-26T23:00:40Z", "author": {"login": "denis-yuen"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH4WBCgH2gAyMzc5Nzk0ODg3OmM2OTE2YTlkOGVmNGM2N2UyYzk1M2U3ZDdkN2Q4YThmNTVkMjJlMDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIM4h8gH2gAyMzc5Nzk0ODg3OjE1Y2Y1YjBhZTQxMzU2YzllZGY5NmY5MDU1MWQ2NmVjYTUwMzhmNDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09", "committedDate": "2020-02-25T20:42:17Z", "message": "More quay cleanup, this time tools and tags"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTIzNzM4", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-364523738", "createdAt": "2020-02-25T23:24:45Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0ODk2Mzk2", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-364896396", "createdAt": "2020-02-26T13:30:04Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MDkyMTk1", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-365092195", "createdAt": "2020-02-26T17:21:36Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MDk3NTQ3", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-365097547", "createdAt": "2020-02-26T17:28:59Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzoyODo1OVrOFu1EVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzoyODo1OVrOFu1EVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0ODI3OQ==", "bodyText": "Either way, but as a recent convert to the style, I would return an Optional.", "url": "https://github.com/dockstore/dockstore/pull/3265#discussion_r384648279", "createdAt": "2020-02-26T17:28:59Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/QuayImageRegistry.java", "diffHunk": "@@ -355,27 +349,14 @@ private void updateTagsWithBuildInformation(String repository, List<Tag> tags, T\n     }\n \n     /**\n-     * Get the map of the given Quay tool\n-     * Todo: this should be implemented with the Quay API, but they currently don't have a return model for this call\n+     * Get the given Quay tool\n      *\n      * @param tool\n      * @return\n      */\n-    public Map<String, Object> getQuayInfo(final Tool tool) {\n-        final String repo = tool.getNamespace() + '/' + tool.getName();\n-        final String repoUrl = QUAY_URL + \"repository/\" + repo;\n-        final Optional<String> asStringBuilds = ResourceUtilities.asString(repoUrl, quayToken.getContent(), client);\n-\n-        if (asStringBuilds.isPresent()) {\n-            final String json = asStringBuilds.get();\n-\n-            Gson gson = new Gson();\n-            Map<String, Object> map = new HashMap<>();\n-            map = (Map<String, Object>)gson.fromJson(json, map.getClass());\n-            return map;\n-\n-        }\n-        return null;\n+    public QuayRepo getQuayInfo(final Tool tool) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "originalPosition": 231}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MTEwNTU3", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-365110557", "createdAt": "2020-02-26T17:48:07Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MTExOTUz", "url": "https://github.com/dockstore/dockstore/pull/3265#pullrequestreview-365111953", "createdAt": "2020-02-26T17:50:14Z", "commit": {"oid": "c6916a9d8ef4c67e2c953e7d7d7d8a8f55d22e09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8b6672f143defa3cec769f6e79969336a94b575", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/c8b6672f143defa3cec769f6e79969336a94b575", "committedDate": "2020-02-26T20:13:57Z", "message": "PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15cf5b0ae41356c9edf96f90551d66eca5038f48", "author": {"user": {"login": "denis-yuen", "name": "Denis Yuen"}}, "url": "https://github.com/dockstore/dockstore/commit/15cf5b0ae41356c9edf96f90551d66eca5038f48", "committedDate": "2020-02-26T20:38:05Z", "message": "Codacy suggestions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1782, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}