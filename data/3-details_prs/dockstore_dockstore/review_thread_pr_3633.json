{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMzM2MTQ4", "number": 3633, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDowODo1M1rOELFgYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDoxMTowM1rOELFhsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMDYwMDAxOnYy", "diffSide": "RIGHT", "path": ".circleci/config.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDowODo1M1rOGsgJ7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDoyMjo0N1rOGsgV4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzM1OQ==", "bodyText": "Is this a place to use a resource_class instead -- are we trying to make sure things fit into 4GB? Or does it work fine as is?", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449317359", "createdAt": "2020-07-03T00:08:53Z", "author": {"login": "coverbeck"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMyMDQxNw==", "bodyText": "It's copied from the other job.  works fine as is I guess", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449320417", "createdAt": "2020-07-03T00:22:47Z", "author": {"login": "garyluu"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzM1OQ=="}, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMDYwMzM4OnYy", "diffSide": "RIGHT", "path": ".circleci/config.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDoxMTowM1rOGsgL4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwMDoyMzoxOVrOGsgWSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzg1OQ==", "bodyText": "Should be 3.3.1, shouldn't it?", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449317859", "createdAt": "2020-07-03T00:11:03Z", "author": {"login": "coverbeck"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.\n+    steps: # a collection of executable commands\n+      - checkout # check out source code to working directory\n+      - restore_cache: # restore the saved cache after the first run or if `pom.xml` has changed\n+          # Read about caching dependencies: https://circleci.com/docs/2.0/caching/\n+          key: dockstore-java-{{ checksum \"pom.xml\" }}\n+      - run:\n+          name: install dockerize\n+          command: wget https://github.com/jwilder/dockerize/releases/download/$DOCKERIZE_VERSION/dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && sudo tar -C /usr/local/bin -xzvf dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && rm dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz\n+          environment:\n+            DOCKERIZE_VERSION: v0.3.0\n+      - run: \n+          name: Install yq\n+          command: |\n+            wget https://github.com/mikefarah/yq/releases/download/3.1.2/yq_linux_amd64", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMyMDUyMQ==", "bodyText": "ya, i copied then rebased. should've been other way around.  Well, 3.3.2", "url": "https://github.com/dockstore/dockstore/pull/3633#discussion_r449320521", "createdAt": "2020-07-03T00:23:19Z", "author": {"login": "garyluu"}, "path": ".circleci/config.yml", "diffHunk": "@@ -1,6 +1,46 @@\n version: 2\n+workflows:\n+  version: 2\n+  everything:\n+    jobs:\n+      - unit_test:\n+          filters:\n+            branches:\n+              ignore:\n+                - gh-pages\n+      - openapi_validation\n jobs:\n-  build: # runs not using Workflows must have a `build` job as entry point\n+  openapi_validation:\n+    docker: # run the steps with Docker\n+      - image: circleci/openjdk:11.0.4-jdk-stretch\n+        environment:\n+          JAVA_TOOL_OPTIONS: -Xmx512m # Java can read cgroup. Sadly the cgroup in CircleCI is wrong. Have to manually set. Nothing to do with surefire plugin, it has its own JVM. The two of these must add up to a bit less than 4GB.\n+    steps: # a collection of executable commands\n+      - checkout # check out source code to working directory\n+      - restore_cache: # restore the saved cache after the first run or if `pom.xml` has changed\n+          # Read about caching dependencies: https://circleci.com/docs/2.0/caching/\n+          key: dockstore-java-{{ checksum \"pom.xml\" }}\n+      - run:\n+          name: install dockerize\n+          command: wget https://github.com/jwilder/dockerize/releases/download/$DOCKERIZE_VERSION/dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && sudo tar -C /usr/local/bin -xzvf dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz && rm dockerize-linux-amd64-$DOCKERIZE_VERSION.tar.gz\n+          environment:\n+            DOCKERIZE_VERSION: v0.3.0\n+      - run: \n+          name: Install yq\n+          command: |\n+            wget https://github.com/mikefarah/yq/releases/download/3.1.2/yq_linux_amd64", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTMxNzg1OQ=="}, "originalCommit": {"oid": "3d64ae0d31a5e880088eba769d363de73d9cbc46"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2996, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}