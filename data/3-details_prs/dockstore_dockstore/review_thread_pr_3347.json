{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzUxMjQ3", "number": 3347, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjo1ODo1M1rODr3UNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjo1ODo1M1rODr3UNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzIxNjUyOnYy", "diffSide": "RIGHT", "path": "dockstore-integration-testing/src/test/java/io/dockstore/webservice/WebhookIT.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjo1ODo1M1rOF8ddjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMDowMDoyNlrOF8esNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0MTU4Mg==", "bodyText": "FYI @agduncan94  looks like handleGitHubRelease might be creating duplicates", "url": "https://github.com/dockstore/dockstore/pull/3347#discussion_r398941582", "createdAt": "2020-03-26T22:58:53Z", "author": {"login": "denis-yuen"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/webservice/WebhookIT.java", "diffHunk": "@@ -97,10 +97,14 @@ public void testWorkflowMigration() throws Exception {\n         // Refresh should work\n         workflow = workflowApi.refresh(workflow.getId());\n         assertEquals(\"Workflow should be FULL mode\", Workflow.ModeEnum.FULL, workflow.getMode());\n-        assertTrue(\"All versions should be legacy\", workflow.getWorkflowVersions().stream().allMatch(workflowVersion -> workflowVersion.isLegacyVersion()));\n+        assertTrue(\"All versions should be legacy\", workflow.getWorkflowVersions().stream().allMatch(WorkflowVersion::isLegacyVersion));\n+\n+        // seems like handleGitHubRelease has issue with versions that already exist\n+        testingPostgres.runUpdateStatement(\"delete from workflowversion where parentid = \" + workflow.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aa934fd66185f6cc7b7d3c38e89f993201d2bdc"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2MTcxOQ==", "bodyText": "Andrew and I were looking at this and I'm trying to fix.", "url": "https://github.com/dockstore/dockstore/pull/3347#discussion_r398961719", "createdAt": "2020-03-27T00:00:26Z", "author": {"login": "coverbeck"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/webservice/WebhookIT.java", "diffHunk": "@@ -97,10 +97,14 @@ public void testWorkflowMigration() throws Exception {\n         // Refresh should work\n         workflow = workflowApi.refresh(workflow.getId());\n         assertEquals(\"Workflow should be FULL mode\", Workflow.ModeEnum.FULL, workflow.getMode());\n-        assertTrue(\"All versions should be legacy\", workflow.getWorkflowVersions().stream().allMatch(workflowVersion -> workflowVersion.isLegacyVersion()));\n+        assertTrue(\"All versions should be legacy\", workflow.getWorkflowVersions().stream().allMatch(WorkflowVersion::isLegacyVersion));\n+\n+        // seems like handleGitHubRelease has issue with versions that already exist\n+        testingPostgres.runUpdateStatement(\"delete from workflowversion where parentid = \" + workflow.getId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0MTU4Mg=="}, "originalCommit": {"oid": "4aa934fd66185f6cc7b7d3c38e89f993201d2bdc"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3077, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}