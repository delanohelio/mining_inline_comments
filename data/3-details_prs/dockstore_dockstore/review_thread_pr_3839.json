{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzU2MjI5", "number": 3839, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzozNzo0NFrOEpPZRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNzozNzoxOFrOExTG_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjc5MzAzOnYy", "diffSide": "RIGHT", "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/core/Workflow.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzozNzo0NFrOHay3Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNToxNTowM1rOHiM_9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1ODM3OA==", "bodyText": "Closing brace on its own line is the normal pattern.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r497858378", "createdAt": "2020-09-30T23:37:44Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/core/Workflow.java", "diffHunk": "@@ -249,6 +254,13 @@ public void setDefaultWorkflowPath(String defaultWorkflowPath) {\n         getDefaultPaths().put(this.getDescriptorType().getFileType(), defaultWorkflowPath);\n     }\n \n+    @JsonProperty\n+    public String getForumUrl() {\n+        return forumUrl;\n+    }\n+    public void setForumUrl(String forumUrl) {\n+        this.forumUrl = forumUrl; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYyNjYxMw==", "bodyText": "ugh, gotta fix checkstyle", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r505626613", "createdAt": "2020-10-15T15:15:03Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/core/Workflow.java", "diffHunk": "@@ -249,6 +254,13 @@ public void setDefaultWorkflowPath(String defaultWorkflowPath) {\n         getDefaultPaths().put(this.getDescriptorType().getFileType(), defaultWorkflowPath);\n     }\n \n+    @JsonProperty\n+    public String getForumUrl() {\n+        return forumUrl;\n+    }\n+    public void setForumUrl(String forumUrl) {\n+        this.forumUrl = forumUrl; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1ODM3OA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjgwMDgzOnYy", "diffSide": "RIGHT", "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/core/Workflow.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzo0MTozOFrOHay7og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzo0MTozOFrOHay7og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTQ5MA==", "bodyText": "We don't always do this, but I think we should -- can you add @size(max = 256) so that this field is in sync with the database column max in the migrations file? But first see my comment about 256 there.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r497859490", "createdAt": "2020-09-30T23:41:38Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/core/Workflow.java", "diffHunk": "@@ -113,6 +113,10 @@\n     @Convert(converter = SourceControlConverter.class)\n     private SourceControl sourceControl;\n \n+    @Column", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjgwMzc2OnYy", "diffSide": "RIGHT", "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "isResolved": true, "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzo0MzoxNVrOHay9Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNDo0OTowNFrOHbwktw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA==", "bodyText": "Any danger of getting close to the limit? I don't even know what a forumurl looks like? If it's remotely possible, suggest increasing to 512.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r497859918", "createdAt": "2020-09-30T23:43:15Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI2NTc0Mg==", "bodyText": "I think it could be any URL from a discussion forum like\nhttps://www.biostars.org/p/464724/\nhttps://gitter.im/ga4gh/dockstore\netc.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498265742", "createdAt": "2020-10-01T13:58:29Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4NDY4OA==", "bodyText": "I think 256 should be enough? Not sure if super long urls for a discussion forum are common, the examples Denis included are pretty short", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498284688", "createdAt": "2020-10-01T14:23:50Z", "author": {"login": "nrzhao4"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM2Mzk0NQ==", "bodyText": "Should be OK then. But note that there is no PG penalty to making it larger (they don't pre-allocate the space).", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498363945", "createdAt": "2020-10-01T16:13:50Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5MzkwNQ==", "bodyText": "I thought Denis banned us from using varchar instead of text?", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498393905", "createdAt": "2020-10-01T17:06:18Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwMTUyOQ==", "bodyText": "I think the ban was for character(n) or char(n) since there is no benefit vs varchar.\nhttps://www.postgresql.org/docs/9.2/datatype-character.html", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498401529", "createdAt": "2020-10-01T17:20:26Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwNjA5Mw==", "bodyText": "Hmm...I don't think Liquibase auto-generates with char(n) or character(n) so seems unlikely. Now, do I care enough to dig up an old PR. hmm...", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498406093", "createdAt": "2020-10-01T17:28:39Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwNzUxNw==", "bodyText": "#2651 (comment)   not quite a ban per se", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498407517", "createdAt": "2020-10-01T17:31:13Z", "author": {"login": "garyluu"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxNTQ0OA==", "bodyText": "To be clear, what I meant, and think/hope is true, was that VARCHAR(1024) does not use more space or have a perf impact compared to VARCHAR(256) if the actual value < 256.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498415448", "createdAt": "2020-10-01T17:45:44Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1MDUwMQ==", "bodyText": "I went with varchar because I noticed the giturl column is also varchar, and I went with the logic that since both are urls they would be the same", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498450501", "createdAt": "2020-10-01T18:52:43Z", "author": {"login": "nrzhao4"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg2OTQzMQ==", "bodyText": "I think the character limit works in this case to avoid someone spamming us with a 10MB forum url (so not text).\nNo real preference between 256 and 512", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498869431", "createdAt": "2020-10-02T14:49:04Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -77,4 +77,12 @@\n     <changeSet author=\"nolwarre (generated)\" id=\"notificationsCharLimit\">\n         <modifyDataType columnName=\"message\" newDataType=\"varchar(1024)\" tableName=\"notification\"/>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"workflowForumUrl\">\n+        <addColumn tableName=\"service\">\n+            <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1OTkxOA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjgwNzgxOnYy", "diffSide": "RIGHT", "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzo0NToxOVrOHay_ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyNzoxNFrOHbNDxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg2MDUxMA==", "bodyText": "Do you need this? Shouldn't the forumUrl already be in the DB after line 522? Or are you trying to verify that it sticks after refresh?", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r497860510", "createdAt": "2020-09-30T23:45:19Z", "author": {"login": "coverbeck"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -503,6 +504,30 @@ public void testUpdateWorkflowPath() throws ApiException {\n         assertEquals(\"test workflow path should be the same as default workflow path, it is \" + testpath, \"/Dockstore.cwl\", testpath);\n     }\n \n+    @Test\n+    public void testAddingWorkflowForumUrl() throws ApiException {\n+        // Set up webservice\n+        ApiClient webClient = WorkflowIT.getWebClient(USER_2_USERNAME, testingPostgres);\n+        WorkflowsApi workflowsApi = new WorkflowsApi(webClient);\n+\n+        UsersApi usersApi = new UsersApi(webClient);\n+        usersApi.getUser();\n+\n+        Workflow workflow = workflowsApi\n+                .manualRegister(\"github\", \"DockstoreTestUser2/test_lastmodified\", \"/Dockstore.cwl\", \"test-update-workflow\", \"cwl\",\n+                        \"/test.json\");\n+\n+        //update the forumUrl to hello.com\n+        workflow.setForumUrl(\"hello.com\");\n+        workflowsApi.updateWorkflow(workflow.getId(), workflow);\n+        workflowsApi.refresh(workflow.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4NzU1OA==", "bodyText": "Hm I included the refresh because I was modelling the structure of other update tests. I think verifying it still sticks after is refresh is a good idea, mimics the behaviour of when a user updates the forumUrl", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r498287558", "createdAt": "2020-10-01T14:27:14Z", "author": {"login": "nrzhao4"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -503,6 +504,30 @@ public void testUpdateWorkflowPath() throws ApiException {\n         assertEquals(\"test workflow path should be the same as default workflow path, it is \" + testpath, \"/Dockstore.cwl\", testpath);\n     }\n \n+    @Test\n+    public void testAddingWorkflowForumUrl() throws ApiException {\n+        // Set up webservice\n+        ApiClient webClient = WorkflowIT.getWebClient(USER_2_USERNAME, testingPostgres);\n+        WorkflowsApi workflowsApi = new WorkflowsApi(webClient);\n+\n+        UsersApi usersApi = new UsersApi(webClient);\n+        usersApi.getUser();\n+\n+        Workflow workflow = workflowsApi\n+                .manualRegister(\"github\", \"DockstoreTestUser2/test_lastmodified\", \"/Dockstore.cwl\", \"test-update-workflow\", \"cwl\",\n+                        \"/test.json\");\n+\n+        //update the forumUrl to hello.com\n+        workflow.setForumUrl(\"hello.com\");\n+        workflowsApi.updateWorkflow(workflow.getId(), workflow);\n+        workflowsApi.refresh(workflow.getId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg2MDUxMA=="}, "originalCommit": {"oid": "4b6527e8f0518a6dab35cacfcc7b0238ec691526"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MjYzOTExOnYy", "diffSide": "RIGHT", "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODozODoyMFrOHhgJ1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODozODoyMFrOHhgJ1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5MTg2Mw==", "bodyText": "I think if you move your changes after this section, this won't show up as a diff.", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r504891863", "createdAt": "2020-10-14T18:38:20Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/resources/migrations.1.10.0.xml", "diffHunk": "@@ -85,4 +85,18 @@\n             <column name=\"forumurl\" type=\"varchar(255 BYTE)\"/>\n         </addColumn>\n     </changeSet>\n+    <changeSet author=\"nzhao (generated)\" id=\"changeForumUrlType\">\n+        <modifyDataType columnName=\"forumurl\" newDataType=\"varchar(256)\" tableName=\"service\"/>\n+        <modifyDataType columnName=\"forumurl\" newDataType=\"varchar(256)\" tableName=\"workflow\"/>\n+    </changeSet>\n+    <changeSet id=\"fixSevenBridgesImageLinks\" author=\"gfjhogue\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7375c801b8ae8e5643c8a032f8afd78da214b0c4"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTQ1ODU0OnYy", "diffSide": "RIGHT", "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0Nzo0OVrOHkX2Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0Nzo0OVrOHkX2Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkwMTUxNQ==", "bodyText": "SourceControl.GITHUB.getFriendlyName() and DescriptorLanguage.CWL.toString()", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r507901515", "createdAt": "2020-10-19T16:47:49Z", "author": {"login": "garyluu"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -503,6 +504,30 @@ public void testUpdateWorkflowPath() throws ApiException {\n         assertEquals(\"test workflow path should be the same as default workflow path, it is \" + testpath, \"/Dockstore.cwl\", testpath);\n     }\n \n+    @Test\n+    public void testAddingWorkflowForumUrl() throws ApiException {\n+        // Set up webservice\n+        ApiClient webClient = WorkflowIT.getWebClient(USER_2_USERNAME, testingPostgres);\n+        WorkflowsApi workflowsApi = new WorkflowsApi(webClient);\n+\n+        UsersApi usersApi = new UsersApi(webClient);\n+        usersApi.getUser();\n+\n+        Workflow workflow = workflowsApi\n+                .manualRegister(\"github\", \"DockstoreTestUser2/test_lastmodified\", \"/Dockstore.cwl\", \"test-update-workflow\", \"cwl\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2626c6fa639bb74e800c8208f7bffae54b5f0d8a"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTI4Mzk2OnYy", "diffSide": "RIGHT", "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNzozNjowNFrOHnXNIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNzozNjowNFrOHnXNIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAzNjcwNw==", "bodyText": "What's the purpose of this?", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r511036707", "createdAt": "2020-10-23T17:36:04Z", "author": {"login": "garyluu"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -590,6 +590,31 @@ public void testUpdateWorkflowPath() throws ApiException {\n         assertEquals(\"test workflow path should be the same as default workflow path, it is \" + testpath, \"/Dockstore.cwl\", testpath);\n     }\n \n+    @Test\n+    public void testAddingWorkflowForumUrl() throws ApiException {\n+        // Set up webservice\n+        ApiClient webClient = WorkflowIT.getWebClient(USER_2_USERNAME, testingPostgres);\n+        WorkflowsApi workflowsApi = new WorkflowsApi(webClient);\n+\n+        UsersApi usersApi = new UsersApi(webClient);\n+        usersApi.getUser();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9766a69081ce0da74f0b74576559fed8b4b4a87d"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTI4NzY0OnYy", "diffSide": "RIGHT", "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNzozNzoxOFrOHnXPjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNzozNzoxOFrOHnXPjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAzNzMyNQ==", "bodyText": "For future, you don't have to say \"it is \", the test runner will automatically say something like:\n\"expected: potato\"\n\"actual: tomato\"", "url": "https://github.com/dockstore/dockstore/pull/3839#discussion_r511037325", "createdAt": "2020-10-23T17:37:18Z", "author": {"login": "garyluu"}, "path": "dockstore-integration-testing/src/test/java/io/dockstore/client/cli/GeneralWorkflowIT.java", "diffHunk": "@@ -590,6 +590,31 @@ public void testUpdateWorkflowPath() throws ApiException {\n         assertEquals(\"test workflow path should be the same as default workflow path, it is \" + testpath, \"/Dockstore.cwl\", testpath);\n     }\n \n+    @Test\n+    public void testAddingWorkflowForumUrl() throws ApiException {\n+        // Set up webservice\n+        ApiClient webClient = WorkflowIT.getWebClient(USER_2_USERNAME, testingPostgres);\n+        WorkflowsApi workflowsApi = new WorkflowsApi(webClient);\n+\n+        UsersApi usersApi = new UsersApi(webClient);\n+        usersApi.getUser();\n+\n+        Workflow workflow = workflowsApi\n+                .manualRegister(SourceControl.GITHUB.getFriendlyName(), \"DockstoreTestUser2/test_lastmodified\", \"/Dockstore.cwl\",\n+                        \"test-update-workflow\", DescriptorLanguage.CWL.toString(),\n+                        \"/test.json\");\n+        \n+        //update the forumUrl to hello.com\n+        workflow.setForumUrl(\"hello.com\");\n+        workflowsApi.updateWorkflow(workflow.getId(), workflow);\n+        workflowsApi.refresh(workflow.getId(), false);\n+\n+        //check the workflow's forumUrl is hello.com\n+        final String updatedForumUrl = testingPostgres\n+                .runSelectStatement(\"select forumurl from workflow where workflowname = 'test-update-workflow'\", String.class);\n+        assertEquals(\"forumUrl should be updated, it is \" + updatedForumUrl, \"hello.com\", updatedForumUrl);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9766a69081ce0da74f0b74576559fed8b4b4a87d"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2865, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}