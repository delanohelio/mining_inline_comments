{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MTY2MjU4", "number": 3409, "title": "Feature/1048/unhelpful log messages", "bodyText": "Note this is for the endpoint called by lambda for GitHub Apps.\nWe were printing log ERROR messages for user-facing issues, so these were converted to log INFO so that the cloudwatch logs aren't so cluttered. I also removed redundant messages. Messages will propagate up where they will be caught and a common log format will be followed that includes things like the user making the call, the GitHub repo, and the branch.", "createdAt": "2020-04-17T14:29:11Z", "url": "https://github.com/dockstore/dockstore/pull/3409", "merged": true, "mergeCommit": {"oid": "196766562b282efeb1a6cc74e311a8883c21a919"}, "closed": true, "closedAt": "2020-04-17T19:11:59Z", "author": {"login": "agduncan94"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYQDc9gH2gAyNDA1MTY2MjU4OmYwNWFiODkxYzEyNmJkODFiYzBjNTAzNTc5NjU2YzNhYWNjYmMxZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYksg0AH2gAyNDA1MTY2MjU4OjdiOGU5MWY3N2ZjNjU3ODgzYWY4MTgxZjI2MWMwYjFmYTBiYjE2YTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f05ab891c126bd81bc0c503579656c3aaccbc1df", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/f05ab891c126bd81bc0c503579656c3aaccbc1df", "committedDate": "2020-04-16T17:22:31Z", "message": "better message for exceptions thrown by github app webhook release"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c43430061eb223ae9aafd802e6fe7c1f937ffa7", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/2c43430061eb223ae9aafd802e6fe7c1f937ffa7", "committedDate": "2020-04-16T20:15:26Z", "message": "do not use log error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "998d2904131f077433415b63dd29c6fbbb9bb55f", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/998d2904131f077433415b63dd29c6fbbb9bb55f", "committedDate": "2020-04-17T13:27:50Z", "message": "fewer log messages - throws get propagated to formatted log message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/4d1f519e04072c7174407adbd879c1095eec9bbf", "committedDate": "2020-04-17T13:38:04Z", "message": "cleaned up some more logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NTA3NjUy", "url": "https://github.com/dockstore/dockstore/pull/3409#pullrequestreview-395507652", "createdAt": "2020-04-17T14:32:51Z", "commit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDozMjo1MlrOGHQfiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDozNDoyNFrOGHQjag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI2MzQzNQ==", "bodyText": "Might be still worth a LOG.debug for when we're ... debugging", "url": "https://github.com/dockstore/dockstore/pull/3409#discussion_r410263435", "createdAt": "2020-04-17T14:32:52Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -326,9 +326,7 @@ public Service initializeServiceFromGitHub(String repositoryId, String subclass)\n                 descriptorLanguageSubclass = DescriptorLanguageSubclass.convertShortNameStringToEnum(subclass);\n             } catch (UnsupportedOperationException ex) {\n                 // TODO: https://github.com/dockstore/dockstore/issues/3239\n-                String msg = \"Subclass \" + subclass + \" is not a valid descriptor language subclass.\";\n-                LOG.info(msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI2MzU0Ng==", "bodyText": "Ditto", "url": "https://github.com/dockstore/dockstore/pull/3409#discussion_r410263546", "createdAt": "2020-04-17T14:33:01Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -357,9 +355,7 @@ public BioWorkflow initializeWorkflowFromGitHub(String repositoryId, String subc\n             descriptorLanguage = DescriptorLanguage.convertShortStringToEnum(subclass);\n             workflow.setDescriptorType(descriptorLanguage);\n         } catch (UnsupportedOperationException ex) {\n-            String msg = \"The given descriptor type is not supported: \" + subclass;\n-            LOG.info(msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI2NDQyNg==", "bodyText": "Ditto, in general think that while user error doesn't rise to the level of warn or error.\nIt can be useful while debugging", "url": "https://github.com/dockstore/dockstore/pull/3409#discussion_r410264426", "createdAt": "2020-04-17T14:34:24Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -503,9 +499,7 @@ private WorkflowVersion setupWorkflowVersionsHelper(Workflow workflow, Triple<St\n             } else {\n                 // Legacy version refresh of Dockstore.yml workflow, so use existing path for version (instead of default path)\n                 if (!existingDefaults.containsKey(versionName.get())) {\n-                    String msg = \"Cannot refresh version \" + versionName.get() + \". Only existing legacy versions can be refreshed.\";\n-                    LOG.error(msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NTc4MzQy", "url": "https://github.com/dockstore/dockstore/pull/3409#pullrequestreview-395578342", "createdAt": "2020-04-17T15:58:27Z", "commit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NTg1Njcy", "url": "https://github.com/dockstore/dockstore/pull/3409#pullrequestreview-395585672", "createdAt": "2020-04-17T16:07:55Z", "commit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjMzNjI2", "url": "https://github.com/dockstore/dockstore/pull/3409#pullrequestreview-395633626", "createdAt": "2020-04-17T17:16:36Z", "commit": {"oid": "4d1f519e04072c7174407adbd879c1095eec9bbf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b8e91f77fc657883af8181f261c0b1fa0bb16a5", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/7b8e91f77fc657883af8181f261c0b1fa0bb16a5", "committedDate": "2020-04-17T17:25:28Z", "message": "Merge branch 'develop' into feature/1048/unhelpful-log-messages"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1847, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}