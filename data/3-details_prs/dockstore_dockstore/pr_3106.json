{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NTk5MDE1", "number": 3106, "title": "Feature/organisation open api", "bodyText": "use open api 3 for the organisation and collection endpoints", "createdAt": "2020-01-06T15:50:17Z", "url": "https://github.com/dockstore/dockstore/pull/3106", "merged": true, "mergeCommit": {"oid": "8067f8dcdefb78089ff302918251b3b6c2e60fdf"}, "closed": true, "closedAt": "2020-01-07T13:58:00Z", "author": {"login": "agduncan94"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2zYHGAH2gAyMzU5NTk5MDE1OmNkMjM1NGE1OGJiYjZmN2RiZWZjNmJkY2UwMmNhMWMxYmQ2Y2Q5MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3yB3HgH2gAyMzU5NTk5MDE1OjAxMmI2ODdlNTY2MGM4YmFjOWM3M2QxYmRmOWQ0YzNjZmE3ZmU3M2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cd2354a58bbb6f7dbefc6bdce02ca1c1bd6cd932", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/cd2354a58bbb6f7dbefc6bdce02ca1c1bd6cd932", "committedDate": "2020-01-03T19:18:20Z", "message": "added openapi3 annotations for organization endpoints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73fdf3c1519525eed99e80ce24ed2af12fa48230", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/73fdf3c1519525eed99e80ce24ed2af12fa48230", "committedDate": "2020-01-03T19:56:44Z", "message": "update collection resource to openapi3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c55885bf2490726c5383c175ebc4e379651f29", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/74c55885bf2490726c5383c175ebc4e379651f29", "committedDate": "2020-01-03T20:01:10Z", "message": "update swagger and openapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d437c055bb007a2ad9c862484dd20b3e7ad024d8", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/d437c055bb007a2ad9c862484dd20b3e7ad024d8", "committedDate": "2020-01-06T14:38:53Z", "message": "fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a39802e7549b513dc17c0db4129aaf606aaf05f", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/8a39802e7549b513dc17c0db4129aaf606aaf05f", "committedDate": "2020-01-06T14:45:33Z", "message": "Merge branch 'develop' into feature/organisation-open-api"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4ODAzNzM0", "url": "https://github.com/dockstore/dockstore/pull/3106#pullrequestreview-338803734", "createdAt": "2020-01-06T18:12:57Z", "commit": {"oid": "8a39802e7549b513dc17c0db4129aaf606aaf05f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxODoxMjo1N1rOFalBDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxODozOTo1NFrOFalsHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQxMzc3NA==", "bodyText": "Our tokens are not JWT. Is there another option for bearer format?", "url": "https://github.com/dockstore/dockstore/pull/3106#discussion_r363413774", "createdAt": "2020-01-06T18:12:57Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/CollectionResource.java", "diffHunk": "@@ -55,6 +63,8 @@\n @Path(\"/organizations\")\n @Api(\"/organizations\")\n @Produces(MediaType.APPLICATION_JSON)\n+@Tag(name = \"organizations\", description = \"Operations on Dockstore organizations.\")\n+@SecuritySchemes({ @SecurityScheme(type = SecuritySchemeType.HTTP, name = \"bearer\", scheme = \"bearer\", bearerFormat = \"JWT\") })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a39802e7549b513dc17c0db4129aaf606aaf05f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQxNDMwMw==", "bodyText": "Would not capitalize \"C\" in \"Collection\" -- you don't elsewhere.", "url": "https://github.com/dockstore/dockstore/pull/3106#discussion_r363414303", "createdAt": "2020-01-06T18:14:17Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/CollectionResource.java", "diffHunk": "@@ -85,9 +95,10 @@ public CollectionResource(SessionFactory sessionFactory) {\n     @Path(\"/collections/{collectionId}/aliases\")\n     @ApiOperation(nickname = \"addCollectionAliases\", value = \"Add aliases linked to a Collection in Dockstore.\", authorizations = {\n         @Authorization(value = JWT_SECURITY_DEFINITION_NAME) }, notes = \"Aliases are alphanumerical (case-insensitive and may contain internal hyphens), given in a comma-delimited list.\", response = Collection.class)\n-    public Collection addAliases(@ApiParam(hidden = true) @Auth User user,\n-        @ApiParam(value = \"Collection to modify.\", required = true) @PathParam(\"collectionId\") Long id,\n-        @ApiParam(value = \"Comma-delimited list of aliases.\", required = true) @QueryParam(\"aliases\") String aliases) {\n+    @Operation(operationId = \"addCollectionAliases\", summary = \"Add aliases linked to a Collection in Dockstore.\", description = \"Aliases are alphanumerical (case-insensitive and may contain internal hyphens), given in a comma-delimited list.\", security = @SecurityRequirement(name = \"bearer\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a39802e7549b513dc17c0db4129aaf606aaf05f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQyNDc5OA==", "bodyText": "Was like this already, but other methods descriptions don't have an \"s\" after the verb -- should be \"Approve an organization\". There are actually several like this already, so maybe don't bother, or change them all...But at a quick glance it doesn't seem like we use the s form of the verb overall.", "url": "https://github.com/dockstore/dockstore/pull/3106#discussion_r363424798", "createdAt": "2020-01-06T18:39:54Z", "author": {"login": "coverbeck"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/resources/OrganizationResource.java", "diffHunk": "@@ -91,8 +103,9 @@ public OrganizationResource(SessionFactory sessionFactory) {\n     @Path(\"{organizationId}/approve/\")\n     @ApiOperation(value = \"Approves an organization.\", authorizations = {\n         @Authorization(value = JWT_SECURITY_DEFINITION_NAME) }, notes = \"Admin/curator only\", response = Organization.class)\n-    public Organization approveOrganization(@ApiParam(hidden = true) @Auth User user,\n-        @ApiParam(value = \"Organization ID.\", required = true) @PathParam(\"organizationId\") Long id) {\n+    @Operation(operationId = \"approveOrganization\", summary = \"Approves an organization.\", description = \"Approves the organization with the given id. Admin/curator only.\", security = @SecurityRequirement(name = \"bearer\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a39802e7549b513dc17c0db4129aaf606aaf05f"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99525d3bf3bda6d1dfd410db75bbc1315414d557", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/99525d3bf3bda6d1dfd410db75bbc1315414d557", "committedDate": "2020-01-06T19:23:09Z", "message": "changes from PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4ODUwMjU0", "url": "https://github.com/dockstore/dockstore/pull/3106#pullrequestreview-338850254", "createdAt": "2020-01-06T19:37:58Z", "commit": {"oid": "99525d3bf3bda6d1dfd410db75bbc1315414d557"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4ODUzMTky", "url": "https://github.com/dockstore/dockstore/pull/3106#pullrequestreview-338853192", "createdAt": "2020-01-06T19:43:23Z", "commit": {"oid": "99525d3bf3bda6d1dfd410db75bbc1315414d557"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4ODY3Njc4", "url": "https://github.com/dockstore/dockstore/pull/3106#pullrequestreview-338867678", "createdAt": "2020-01-06T20:10:29Z", "commit": {"oid": "99525d3bf3bda6d1dfd410db75bbc1315414d557"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "012b687e5660c8bac9c73d1bdf9d4c3cfa7fe73d", "author": {"user": {"login": "agduncan94", "name": "Andrew Duncan"}}, "url": "https://github.com/dockstore/dockstore/commit/012b687e5660c8bac9c73d1bdf9d4c3cfa7fe73d", "committedDate": "2020-01-06T20:18:03Z", "message": "Merge branch 'develop' into feature/organisation-open-api"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1856, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}