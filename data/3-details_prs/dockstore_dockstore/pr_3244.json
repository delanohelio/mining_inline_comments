{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NTU2ODk2", "number": 3244, "title": "expose git SHA ", "bodyText": "#3157 (DOCK-1159)\nUses git-commit-id-maven-plugin to generate git.properties file with relevant git commit info for the webservice build.\nExposes the git commit info (ID and build version) using metadata/config endpoint", "createdAt": "2020-02-14T20:17:16Z", "url": "https://github.com/dockstore/dockstore/pull/3244", "merged": true, "mergeCommit": {"oid": "23a74c1485c576b357daad55250107eb9dcd876b"}, "closed": true, "closedAt": "2020-02-18T18:05:52Z", "author": {"login": "Ldcabansay"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEVUBHgH2gAyMzc1NTU2ODk2OjU2MjM3NzkwZDM4Y2MxNzI2YTE2ZDgzZmMzOTVlNThlYTc4YjJiYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFl3cYgFqTM2MDU1NDczMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "56237790d38cc1726a16d83fc395e58ea78b2bb8", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/56237790d38cc1726a16d83fc395e58ea78b2bb8", "committedDate": "2020-02-14T20:11:39Z", "message": "add git-commit-id-maven-plugin, read generated git.properties file,\nand expose webservice git commit info (ID and build version) using metadata/config endpoint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MjAxMDIw", "url": "https://github.com/dockstore/dockstore/pull/3244#pullrequestreview-359201020", "createdAt": "2020-02-14T20:28:46Z", "commit": {"oid": "56237790d38cc1726a16d83fc395e58ea78b2bb8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "748bbfa2b23590898184be26af651d26683c5f0d", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/748bbfa2b23590898184be26af651d26683c5f0d", "committedDate": "2020-02-14T20:50:10Z", "message": "Merge branch 'develop' into feature/1159/expose-git-SHA-webservice\n\n# Conflicts:\n#\tdockstore-webservice/src/main/resources/openapi3/openapi.yaml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MjMxMzEw", "url": "https://github.com/dockstore/dockstore/pull/3244#pullrequestreview-359231310", "createdAt": "2020-02-14T21:33:00Z", "commit": {"oid": "56237790d38cc1726a16d83fc395e58ea78b2bb8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ec2085e61a1193799426eb172816a958abc75ed", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/0ec2085e61a1193799426eb172816a958abc75ed", "committedDate": "2020-02-14T21:42:37Z", "message": "openapi.yml changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c95654cfa48f192a15621913a315f9f5caf774d", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/1c95654cfa48f192a15621913a315f9f5caf774d", "committedDate": "2020-02-14T23:56:18Z", "message": "fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzI2NTM1", "url": "https://github.com/dockstore/dockstore/pull/3244#pullrequestreview-359326535", "createdAt": "2020-02-15T04:50:17Z", "commit": {"oid": "1c95654cfa48f192a15621913a315f9f5caf774d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwNDo1MDoxN1rOFqI0RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwNDo1MDoxN1rOFqI0RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTcyODk2NQ==", "bodyText": "should probably be debug (its a judgement call, but for me this message will always be shown and doesn't do anything aside from telling you where you are ... might even be trace)", "url": "https://github.com/dockstore/dockstore/pull/3244#discussion_r379728965", "createdAt": "2020-02-15T04:50:17Z", "author": {"login": "denis-yuen"}, "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/ConfigHelper.java", "diffHunk": "@@ -0,0 +1,47 @@\n+package io.dockstore.webservice.helpers;\n+\n+import java.util.Properties;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Helper class for setting the config variables for git commit info\n+ */\n+public final class ConfigHelper {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ConfigHelper.class);\n+\n+    private ConfigHelper() {\n+    }\n+\n+    /**\n+     * Reads a properties file with git info and returns abbreviated commitId and build version.\n+     * If file cannot be read, will log error and set config to \"git property not found\".\n+     * @param fileName properties file with git information\n+     * @return git commitID and buildVersion\n+     */\n+    public static GitInfo readGitProperties(final String fileName) {\n+        final Properties properties = new Properties();\n+        LOGGER.info(\"Retrieving git properties\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c95654cfa48f192a15621913a315f9f5caf774d"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb9bec2bf880af788bcd219650bbaad081746529", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/cb9bec2bf880af788bcd219650bbaad081746529", "committedDate": "2020-02-17T22:42:15Z", "message": "change logger to output on debug, add filename to statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1ef841477598f36b0ab95ea38a40a8b33d90a3a", "author": {"user": {"login": "Ldcabansay", "name": "Louise Cabansay"}}, "url": "https://github.com/dockstore/dockstore/commit/c1ef841477598f36b0ab95ea38a40a8b33d90a3a", "committedDate": "2020-02-17T23:35:38Z", "message": "openapi.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMzYzODE1", "url": "https://github.com/dockstore/dockstore/pull/3244#pullrequestreview-360363815", "createdAt": "2020-02-18T14:07:21Z", "commit": {"oid": "c1ef841477598f36b0ab95ea38a40a8b33d90a3a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNTU0NzMw", "url": "https://github.com/dockstore/dockstore/pull/3244#pullrequestreview-360554730", "createdAt": "2020-02-18T18:02:45Z", "commit": {"oid": "c1ef841477598f36b0ab95ea38a40a8b33d90a3a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1909, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}