{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4MjE0MzA1", "number": 373, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMjoyODo0NFrOEfuXrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMjoyODo0NFrOEfuXrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNzAxMDM5OnYy", "diffSide": "RIGHT", "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/entity/NetworkVxlanRange.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMjoyODo0NFrOHMMAFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNzo1NTowNFrOHMxiMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU0MTU5MA==", "bodyText": "The question here is: is there any scenario that may need to throw an exception? If the answer is positive or likely, we would need to handle this differently.\nOne option is throw NetworkKeyAllocNotFoundException here (no change), and handle the exception differently based on requirement.\n\nIn this fix, create a new TryReleaseXXX method which catches the exception but don't re-throw, only log info.\nFor other scenarios that requires to see the exception, continue to re-throw.", "url": "https://github.com/futurewei-cloud/alcor/pull/373#discussion_r482541590", "createdAt": "2020-09-02T22:28:44Z", "author": {"login": "xieus"}, "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/entity/NetworkVxlanRange.java", "diffHunk": "@@ -52,8 +52,11 @@ public Long allocateKey() throws Exception {\n     }\n \n     public void release(Long key) throws Exception {\n+//        if (allocated.get(key) == null) {\n+//            throw new NetworkKeyAllocNotFoundException();\n+//        }\n         if (allocated.get(key) == null) {\n-            throw new NetworkKeyAllocNotFoundException();\n+            return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c0c67447c309170b7964f5e2479a3cb3ec86175"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE1NjUzMA==", "bodyText": "Yeah that's what I think ~ when we could locate the issue, I will modify the code as you suggest", "url": "https://github.com/futurewei-cloud/alcor/pull/373#discussion_r483156530", "createdAt": "2020-09-03T17:55:04Z", "author": {"login": "kevin-zhonghao"}, "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/entity/NetworkVxlanRange.java", "diffHunk": "@@ -52,8 +52,11 @@ public Long allocateKey() throws Exception {\n     }\n \n     public void release(Long key) throws Exception {\n+//        if (allocated.get(key) == null) {\n+//            throw new NetworkKeyAllocNotFoundException();\n+//        }\n         if (allocated.get(key) == null) {\n-            throw new NetworkKeyAllocNotFoundException();\n+            return;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU0MTU5MA=="}, "originalCommit": {"oid": "9c0c67447c309170b7964f5e2479a3cb3ec86175"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4391, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}