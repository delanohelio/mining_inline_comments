{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MDI3NjY3", "number": 317, "title": "[Mac Manager] Mac Range Selector", "bodyText": "This PR provides some changes:\n\nadd random and bitset  algorithm test datas\nensure some operations safe in multi threads\nfix some bugs", "createdAt": "2020-07-24T01:18:41Z", "url": "https://github.com/futurewei-cloud/alcor/pull/317", "merged": true, "mergeCommit": {"oid": "d8233164736342bab40ffba06705aa197c1e5a2e"}, "closed": true, "closedAt": "2020-08-21T07:19:22Z", "author": {"login": "Gzure"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5R50HABqjM1OTMxNjM2MzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA_UzxgH2gAyNDU2MDI3NjY3OjJiYjIxOGM0ZDYyMjc2OTUzYjJkMGZlODliMTI2MGJkZTM1YWEzYWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7cc90cc24cdfcb935a7beddb0f7b4479f9147f69", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/7cc90cc24cdfcb935a7beddb0f7b4479f9147f69", "committedDate": "2020-07-28T03:44:12Z", "message": "fix bitset build failed"}, "afterCommit": {"oid": "ffbecb014cec42a03142875bcdddb7280f4fa798", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ffbecb014cec42a03142875bcdddb7280f4fa798", "committedDate": "2020-07-28T07:58:51Z", "message": "fix bitset build failed"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffbecb014cec42a03142875bcdddb7280f4fa798", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ffbecb014cec42a03142875bcdddb7280f4fa798", "committedDate": "2020-07-28T07:58:51Z", "message": "fix bitset build failed"}, "afterCommit": {"oid": "2241e872f02994a382d2e56b61caafdf3b46e61e", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2241e872f02994a382d2e56b61caafdf3b46e61e", "committedDate": "2020-07-31T07:43:03Z", "message": "add default Exception handler and transaction in icachefactory"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2241e872f02994a382d2e56b61caafdf3b46e61e", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2241e872f02994a382d2e56b61caafdf3b46e61e", "committedDate": "2020-07-31T07:43:03Z", "message": "add default Exception handler and transaction in icachefactory"}, "afterCommit": {"oid": "69e7febabb6af9cef05df2abbcd94a8ab43fb1ec", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/69e7febabb6af9cef05df2abbcd94a8ab43fb1ec", "committedDate": "2020-08-05T01:34:09Z", "message": "set retryTime bigger to ensure random can allocate mac"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69e7febabb6af9cef05df2abbcd94a8ab43fb1ec", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/69e7febabb6af9cef05df2abbcd94a8ab43fb1ec", "committedDate": "2020-08-05T01:34:09Z", "message": "set retryTime bigger to ensure random can allocate mac"}, "afterCommit": {"oid": "a7cf0b285ab3d54db3b742080420ba74b795b832", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a7cf0b285ab3d54db3b742080420ba74b795b832", "committedDate": "2020-08-12T06:23:41Z", "message": "set retryTime bigger to ensure random can allocate mac"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88512815b971d377b23ac12bd3dcc9dc3825d24d", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/88512815b971d377b23ac12bd3dcc9dc3825d24d", "committedDate": "2020-08-21T01:32:44Z", "message": "rename some methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e85bc0c7a51c883598c7ceb03120fffb881fe2", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/e1e85bc0c7a51c883598c7ceb03120fffb881fe2", "committedDate": "2020-08-21T01:32:44Z", "message": "remove some catch codes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39c73a43b2a74e8f42b26468a19cbd73c9a4b4d3", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/39c73a43b2a74e8f42b26468a19cbd73c9a4b4d3", "committedDate": "2020-08-21T01:32:44Z", "message": "fix get range cache problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "649d6300caf384e0a090a3884148c02f2a1e8882", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/649d6300caf384e0a090a3884148c02f2a1e8882", "committedDate": "2020-08-21T01:32:44Z", "message": "fix bitset build failed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b355db74787c094f74d08ef1c768e0842d5bd60", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6b355db74787c094f74d08ef1c768e0842d5bd60", "committedDate": "2020-08-21T01:32:44Z", "message": "add getTransaction in ICacheFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50acf617dbf89b1ed513402a283462082c681a6f", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/50acf617dbf89b1ed513402a283462082c681a6f", "committedDate": "2020-08-21T01:32:44Z", "message": "add default Exception handler and transaction in icachefactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27ce772363d9d69f1e5dcc11295dcee16b89f186", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/27ce772363d9d69f1e5dcc11295dcee16b89f186", "committedDate": "2020-08-21T01:32:44Z", "message": "set retryTime bigger to ensure random can allocate mac"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56bf17ca785d41de51b081b308dca59d0d82af70", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/56bf17ca785d41de51b081b308dca59d0d82af70", "committedDate": "2020-08-21T01:32:44Z", "message": "set retryTime bigger to ensure random can allocate mac"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9377b3013909897e5b394e3febb54d842c0338f1", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9377b3013909897e5b394e3febb54d842c0338f1", "committedDate": "2020-08-21T01:32:44Z", "message": "merge with master"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "538e5b6412307b5d6d08ce6d6944d64936de8418", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/538e5b6412307b5d6d08ce6d6944d64936de8418", "committedDate": "2020-08-12T06:43:39Z", "message": "merge with master"}, "afterCommit": {"oid": "9377b3013909897e5b394e3febb54d842c0338f1", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9377b3013909897e5b394e3febb54d842c0338f1", "committedDate": "2020-08-21T01:32:44Z", "message": "merge with master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTc2OTYx", "url": "https://github.com/futurewei-cloud/alcor/pull/317#pullrequestreview-472176961", "createdAt": "2020-08-21T06:13:24Z", "commit": {"oid": "9377b3013909897e5b394e3febb54d842c0338f1"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoxMzoyNFrOHEc2yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoxODoyNFrOHEc81A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQyOTEzMA==", "bodyText": "1000 retry? do we hit the limit in our perf test?", "url": "https://github.com/futurewei-cloud/alcor/pull/317#discussion_r474429130", "createdAt": "2020-08-21T06:13:24Z", "author": {"login": "xieus"}, "path": "kubernetes/services/mac_manager.yaml", "diffHunk": "@@ -13,8 +13,7 @@ data:\n     ignite.trust-store-path=truststore.jks\n     ignite.trust-store-password=123456\n     macmanager.oui = AA-BB-CC\n-    macmanager.pool.size = 100\n-    macmanager.retrylimit = 10\n+    macmanager.retrylimit = 1000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9377b3013909897e5b394e3febb54d842c0338f1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQzMDY3Ng==", "bodyText": "I think we should add those parameters to application.properties and yaml file.", "url": "https://github.com/futurewei-cloud/alcor/pull/317#discussion_r474430676", "createdAt": "2020-08-21T06:18:24Z", "author": {"login": "xieus"}, "path": "services/mac_manager/src/main/java/com/futurewei/alcor/macmanager/pool/impl/RandomMacPoolImpl.java", "diffHunk": "@@ -45,16 +45,16 @@\n     private static final float MIDDLE_LOAD_FACTOR = 0.5f;\n     private static final float HIGH_LOAD_FACTOR = 0.75f;\n \n-    @Value(\"${low-request-numbers: 10}\")\n+    @Value(\"${macmanager.pool.low-request-numbers: 10}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9377b3013909897e5b394e3febb54d842c0338f1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bb218c4d62276953b2d0fe89b1260bde35aa3af", "author": {"user": {"login": "Gzure", "name": "gure"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2bb218c4d62276953b2d0fe89b1260bde35aa3af", "committedDate": "2020-08-21T07:03:59Z", "message": "add algorithm params to application.properties and yml file"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2244, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}