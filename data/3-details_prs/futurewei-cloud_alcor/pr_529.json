{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NjU1MTA0", "number": 529, "title": "[Deployment] Comprehensive Update for K8s Yaml and Scripts", "bodyText": "This PR updates the K8s deployment yaml and scripts and fixes miscellaneous issues in API GW/DPM/RM/SM.", "createdAt": "2020-12-29T22:12:24Z", "url": "https://github.com/futurewei-cloud/alcor/pull/529", "merged": true, "mergeCommit": {"oid": "54efec015309ec3f6352fc627183d679dbf1d92a"}, "closed": true, "closedAt": "2021-01-04T20:11:57Z", "author": {"login": "kevin-zhonghao"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQUKStAH2gAyNTQ2NjU1MTA0OjI0YjliNzZhZTM0OWYyNzdhYzU1ZjFjYzExZTgxNjM2ZDE1NjliNmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABds6X_WAFqTU2MTIzMzE1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "24b9b76ae349f277ac55f1cc11e81636d1569b6d", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/24b9b76ae349f277ac55f1cc11e81636d1569b6d", "committedDate": "2020-10-07T21:49:22Z", "message": "commit message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08ec421662ef56559a388e6c7308aa47cfd07a6b", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/08ec421662ef56559a388e6c7308aa47cfd07a6b", "committedDate": "2020-10-07T22:00:25Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2507b8fc44a4ca94da310b73c11453cec9f2504b", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2507b8fc44a4ca94da310b73c11453cec9f2504b", "committedDate": "2020-10-15T17:12:49Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/8cab6bfa9573926c29b9f8dbbeab732a9de1da7e", "committedDate": "2020-10-15T23:33:06Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9d2a5822429286e2b01ce0842f16cb70dc5168f", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/d9d2a5822429286e2b01ce0842f16cb70dc5168f", "committedDate": "2020-10-16T16:57:50Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daba98ee8949b91b2b77f74c6fbb30529355ee51", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/daba98ee8949b91b2b77f74c6fbb30529355ee51", "committedDate": "2020-10-20T00:03:13Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b813735c5032b70928a2304007875824f5ccedca", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b813735c5032b70928a2304007875824f5ccedca", "committedDate": "2020-10-22T17:43:05Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd9a9847b0f42c5a7fd089ea09fa6f24233d008e", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/fd9a9847b0f42c5a7fd089ea09fa6f24233d008e", "committedDate": "2020-10-28T19:40:54Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e44875aa2fa685b2252647f413c704dce7a21611", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/e44875aa2fa685b2252647f413c704dce7a21611", "committedDate": "2020-10-29T18:42:59Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98dcf0dbb1c950ee71a0d663a7042cbce30d24ed", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/98dcf0dbb1c950ee71a0d663a7042cbce30d24ed", "committedDate": "2020-10-30T22:44:46Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9c3a47d74ba5fffbe13746ee4e33af0fbb394fe", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a9c3a47d74ba5fffbe13746ee4e33af0fbb394fe", "committedDate": "2020-11-03T23:40:18Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f058bd1edef55af8ab0e25cb7b043fa6c04c272f", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f058bd1edef55af8ab0e25cb7b043fa6c04c272f", "committedDate": "2020-11-05T07:42:35Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08d4a6f7da0d94caef77156cbb27fa05965eff9a", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/08d4a6f7da0d94caef77156cbb27fa05965eff9a", "committedDate": "2020-11-05T19:07:01Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef0b4fe4b03ddcc00904f1d603d020648846c34f", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ef0b4fe4b03ddcc00904f1d603d020648846c34f", "committedDate": "2020-11-18T22:54:01Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf29fc71c3dba26a3a166b859fd10be380f03400", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/bf29fc71c3dba26a3a166b859fd10be380f03400", "committedDate": "2020-12-02T21:06:36Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b23608afa9dfcd50c2c172672f9a104ccb0e7f21", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b23608afa9dfcd50c2c172672f9a104ccb0e7f21", "committedDate": "2020-12-03T18:09:47Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2e742c1d2b83f4679c833b90c4f065fda6b61d4", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/d2e742c1d2b83f4679c833b90c4f065fda6b61d4", "committedDate": "2020-12-04T06:54:24Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b1f333fde18b70f971d51d4181b20f401ee038e", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/7b1f333fde18b70f971d51d4181b20f401ee038e", "committedDate": "2020-12-08T19:25:36Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "487948d56ef157677b6cee9b5818fb98fa5fc640", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/487948d56ef157677b6cee9b5818fb98fa5fc640", "committedDate": "2020-12-17T23:36:00Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4358c990732dff3f9ef49235b583ca5f2d3f0417", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/4358c990732dff3f9ef49235b583ca5f2d3f0417", "committedDate": "2020-12-19T00:02:58Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e851cce68da26d4e2787e9a8c8b92fef044ef8ba", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/e851cce68da26d4e2787e9a8c8b92fef044ef8ba", "committedDate": "2020-12-22T18:30:43Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad62bd5022787b99d63b090cb050ed0c5832fe70", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ad62bd5022787b99d63b090cb050ed0c5832fe70", "committedDate": "2020-12-29T18:12:54Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor into new_master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b0bdb1d38f1e69219cf33a11692be6558e1f7c7e", "committedDate": "2020-12-29T22:01:07Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzIzOTIw", "url": "https://github.com/futurewei-cloud/alcor/pull/529#pullrequestreview-559723920", "createdAt": "2020-12-29T22:17:35Z", "commit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoxNzozNVrOIMZgDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoyMToyOFrOIMZjOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTYzMA==", "bodyText": "@kevin-zhonghao @cj-chung Do we have zipkin conf in the application.properties files? We may need to remove them there and in the yaml files as well.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549871630", "createdAt": "2020-12-29T22:17:35Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTg0NQ==", "bodyText": "Let us move the config back to where it was, along with other Ignite configs.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549871845", "createdAt": "2020-12-29T22:18:31Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjAyOQ==", "bodyText": "This is pretty aggressive :-) 5 is good enough.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549872029", "createdAt": "2020-12-29T22:19:20Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -54,7 +61,7 @@ spec:\n   selector:\n     matchLabels:\n       app: apimanager\n-  replicas: 5\n+  replicas: 10", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjQ0Mw==", "bodyText": "@kevin-zhonghao @cj-chung We may still use V1 APIs in the Medina test cluster. Check this out.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549872443", "createdAt": "2020-12-29T22:21:28Z", "author": {"login": "xieus"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,26 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n-    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n+    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/v4/port/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzU2OTc4", "url": "https://github.com/futurewei-cloud/alcor/pull/529#pullrequestreview-559756978", "createdAt": "2020-12-30T01:53:13Z", "commit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1MzoxM1rOIMbzbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1ODoxMlrOIMb2rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTM1OQ==", "bodyText": "@kevin-zhonghao Why do we need these here?", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909359", "createdAt": "2020-12-30T01:53:13Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true\n     spring.application.name=alcor-api-gateway\n-    spring.sleuth.sampler.probability=1.0\n-    spring.sleuth.web.skipPattern=(^health.*)\n-    server.max-http-header-size=16384\n-    server.max-initial-line-length=65536\n-\n-    management.endpoints.web.exposure.include=health,prometheus\n     logging.level.org.springframework.web=DEBUG\n     logging.level.org.springframework.cloud=DEBUG\n     logging.level.com.github.tomakehurst.wiremock=TRACE\n-    logging.level.root=DEBUG\n-\n-    ignite.thin.client.enable=true\n+    management.endpoints.web.exposure.include=health,prometheus\n+    spring.sleuth.sampler.probability=1.0\n+    spring.sleuth.web.skipPattern=(^health.*)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTQ5Nw==", "bodyText": "@kevin-zhonghao these settings seems like for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909497", "createdAt": "2020-12-30T01:54:02Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTY1MA==", "bodyText": "@kevin-zhonghao same here! it's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909650", "createdAt": "2020-12-30T01:55:09Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/elastic_ip_manager.yaml", "diffHunk": "@@ -9,6 +9,11 @@ data:\n     ignite.port=10800\n     ignite.thin.client.enable=true\n     management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=eip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTc2Ng==", "bodyText": "@kevin-zhonghao same here! It's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909766", "createdAt": "2020-12-30T01:55:59Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/mac_manager.yaml", "diffHunk": "@@ -14,9 +14,14 @@ data:\n     #ignite.trust-store-path=truststore.jks\n     #ignite.trust-store-password=123456\n     logging.level.root=DEBUG\n-    macmanager.oui = AA-BB-CC\n+    macmanager.oui = aa:bb:cc\n     macmanager.pool.size = 100\n     macmanager.retrylimit = 10\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=mac-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTg0MA==", "bodyText": "@kevin-zhonghao It's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909840", "createdAt": "2020-12-30T01:56:16Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/node_manager.yaml", "diffHunk": "@@ -18,6 +18,11 @@ data:\n     spring.servlet.multipart.file-size-threshold=2KB\n     spring.servlet.multipart.max-file-size=200MB\n     spring.servlet.multipart.max-request-size=215MB\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=node-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTkzOA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909938", "createdAt": "2020-12-30T01:56:47Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,26 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n-    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n+    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/v4/port/\n     microservices.elasticip.service.url=http://eipmanager-service.default.svc.cluster.local:9011\n-\n     alcor.vif_type=ovs\n+    Spring.mvc.async.request-timeout=30000\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=port-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTk5Mw==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909993", "createdAt": "2020-12-30T01:57:04Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/private_ip_manager.yaml", "diffHunk": "@@ -8,6 +8,11 @@ data:\n     ignite.host=ignite-alcor-ip-service.ignite-alcor-ip.svc.cluster.local\n     ignite.port=10801\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=ip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDAyMw==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910023", "createdAt": "2020-12-30T01:57:15Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/quota_manager.yaml", "diffHunk": "@@ -20,6 +20,11 @@ data:\n     quota.defaults.security_group_rule=-1\n     quota.defaults.subnet=-1\n     quota.defaults.subnetpool=-1\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=quota-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDA4MA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910080", "createdAt": "2020-12-30T01:57:37Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/route_manager.yaml", "diffHunk": "@@ -4,13 +4,24 @@ metadata:\n   name: route-configmap\n data:\n   application.properties: |\n+    microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n+    microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    microservices.dpm.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n     logging.level.org.springframework.web=info\n     logging.file.path=.\n     logging.type=file\n+    management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=route-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411\n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDEwNA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910104", "createdAt": "2020-12-30T01:57:47Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/sg_manager.yaml", "diffHunk": "@@ -8,6 +8,11 @@ data:\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=sg-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDE0MA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910140", "createdAt": "2020-12-30T01:58:00Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/subnet_manager.yaml", "diffHunk": "@@ -16,6 +16,14 @@ data:\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips/\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006/\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=subnet-manager\n+    rbac.policy.type=Enforced\n+    management.health.redis.enabled=false\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDE4OA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910188", "createdAt": "2020-12-30T01:58:12Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/vpc_manager.yaml", "diffHunk": "@@ -12,8 +12,14 @@ data:\n     logging.file.path=.\n     logging.type=file\n     apache.kafka.address=172.17.0.1:9092\n-    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/vpcs/\n+    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    \n+    rbac.policy.type=Enforced\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=vpc-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "320041cb05d0070c003d563383f47918a1e0731c", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/320041cb05d0070c003d563383f47918a1e0731c", "committedDate": "2020-12-30T19:28:34Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/1659c962af964fce5877e570126b2b4d450e7d55", "committedDate": "2020-12-30T19:43:46Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE4ODQw", "url": "https://github.com/futurewei-cloud/alcor/pull/529#pullrequestreview-560218840", "createdAt": "2020-12-30T22:28:09Z", "commit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE5NTM3", "url": "https://github.com/futurewei-cloud/alcor/pull/529#pullrequestreview-560219537", "createdAt": "2020-12-30T22:31:48Z", "commit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMTo0OFrOIM2aaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjo0MDowM1rOIM2hRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTMyMw==", "bodyText": "@kevin-zhonghao  Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345323", "createdAt": "2020-12-30T22:31:48Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -5,22 +5,18 @@ metadata:\n data:\n   application.properties: |\n     spring.application.name=alcor-api-gateway\n-    spring.sleuth.sampler.probability=1.0\n-    spring.sleuth.web.skipPattern=(^health.*)\n-    server.max-http-header-size=16384\n-    server.max-initial-line-length=65536\n-\n-    management.endpoints.web.exposure.include=health,prometheus\n     logging.level.org.springframework.web=DEBUG\n     logging.level.org.springframework.cloud=DEBUG\n     logging.level.com.github.tomakehurst.wiremock=TRACE\n-    logging.level.root=DEBUG\n-\n-    ignite.thin.client.enable=true\n+    management.endpoints.web.exposure.include=health,prometheus\n+    spring.sleuth.sampler.probability=1.0\n+    spring.sleuth.web.skipPattern=(^health.*)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTY5Nw==", "bodyText": "@kevin-zhonghao Please remove spring.sleuth.sampler and spring.application.name.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345697", "createdAt": "2020-12-30T22:33:24Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,16 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTc1NQ==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345755", "createdAt": "2020-12-30T22:33:42Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/dpm_manager.yaml", "diffHunk": "@@ -6,6 +6,36 @@ data:\n   application.properties: |\n     dataplane.grpc.port = 50001\n     dataplane.isovs=true\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=dataplane-service\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjA0MQ==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346041", "createdAt": "2020-12-30T22:35:13Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/elastic_ip_manager.yaml", "diffHunk": "@@ -9,6 +9,11 @@ data:\n     ignite.port=10800\n     ignite.thin.client.enable=true\n     management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=eip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjE5NA==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346194", "createdAt": "2020-12-30T22:35:44Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/mac_manager.yaml", "diffHunk": "@@ -4,19 +4,22 @@ metadata:\n   name: mac-configmap\n data:\n   application.properties: |\n-    ignite.thin.client.enable=true\n     spring.redis.host=localhost\n     spring.redis.port=6380\n     ignite.host=ignite-alcor-mac-service.ignite-alcor-mac.svc.cluster.local\n     ignite.port=10803\n+    ignite.thin.client.enable=true\n     #ignite.key-store-path=keystore.jks\n     #ignite.key-store-password=123456\n     #ignite.trust-store-path=truststore.jks\n     #ignite.trust-store-password=123456\n     logging.level.root=DEBUG\n-    macmanager.oui = AA-BB-CC\n+    macmanager.oui = aa:bb:cc\n     macmanager.pool.size = 100\n     macmanager.retrylimit = 10\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=mac-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjI1OA==", "bodyText": "@kevin-zhonghao Please remove them", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346258", "createdAt": "2020-12-30T22:36:04Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/node_manager.yaml", "diffHunk": "@@ -18,6 +18,9 @@ data:\n     spring.servlet.multipart.file-size-threshold=2KB\n     spring.servlet.multipart.max-file-size=200MB\n     spring.servlet.multipart.max-request-size=215MB\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=node-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjM1NA==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346354", "createdAt": "2020-12-30T22:36:28Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,24 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n     microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n     microservices.elasticip.service.url=http://eipmanager-service.default.svc.cluster.local:9011\n-\n     alcor.vif_type=ovs\n+    Spring.mvc.async.request-timeout=30000\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=port-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjQ4OQ==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346489", "createdAt": "2020-12-30T22:36:58Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/private_ip_manager.yaml", "diffHunk": "@@ -8,6 +8,9 @@ data:\n     ignite.host=ignite-alcor-ip-service.ignite-alcor-ip.svc.cluster.local\n     ignite.port=10801\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=ip-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjUyNw==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346527", "createdAt": "2020-12-30T22:37:16Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/quota_manager.yaml", "diffHunk": "@@ -20,6 +20,9 @@ data:\n     quota.defaults.security_group_rule=-1\n     quota.defaults.subnet=-1\n     quota.defaults.subnetpool=-1\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=quota-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjU4OA==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346588", "createdAt": "2020-12-30T22:37:35Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/route_manager.yaml", "diffHunk": "@@ -4,13 +4,22 @@ metadata:\n   name: route-configmap\n data:\n   application.properties: |\n+    microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n+    microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    microservices.dpm.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n     logging.level.org.springframework.web=info\n     logging.file.path=.\n     logging.type=file\n+    management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=route-manager\n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjYxNQ==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346615", "createdAt": "2020-12-30T22:37:48Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/sg_manager.yaml", "diffHunk": "@@ -8,6 +8,9 @@ data:\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=sg-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjcyMQ==", "bodyText": "@kevin-zhonghao Please remove them", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346721", "createdAt": "2020-12-30T22:38:20Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/subnet_manager.yaml", "diffHunk": "@@ -16,6 +16,12 @@ data:\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips/\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006/\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=subnet-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0Njc2Mg==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346762", "createdAt": "2020-12-30T22:38:35Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/vpc_manager.yaml", "diffHunk": "@@ -12,8 +12,12 @@ data:\n     logging.file.path=.\n     logging.type=file\n     apache.kafka.address=172.17.0.1:9092\n-    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/vpcs/\n+    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    \n+    rbac.policy.type=Enforced\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=vpc-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NzA3Ng==", "bodyText": "@kevin-zhonghao Remove it if not using.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550347076", "createdAt": "2020-12-30T22:40:03Z", "author": {"login": "cj-chung"}, "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "diffHunk": "@@ -63,8 +63,8 @@\n     @JsonProperty(\"secondary_dns\")\n     private String secondaryDns;\n \n-    @JsonProperty(\"routes\")\n-    private List<RouteEntity> routeEntities;\n+//    @JsonProperty(\"routes\")\n+//    private List<RouteEntity> routeEntities;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f397037b6a6de25dc15db2c4a6fa56db9c21dfb", "author": {"user": {"login": "kevin-zhonghao", "name": "Zhonghao(Kevin) Lyu"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2f397037b6a6de25dc15db2c4a6fa56db9c21dfb", "committedDate": "2020-12-31T18:03:00Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMjMzMTUy", "url": "https://github.com/futurewei-cloud/alcor/pull/529#pullrequestreview-561233152", "createdAt": "2021-01-04T18:10:36Z", "commit": {"oid": "2f397037b6a6de25dc15db2c4a6fa56db9c21dfb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2073, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}