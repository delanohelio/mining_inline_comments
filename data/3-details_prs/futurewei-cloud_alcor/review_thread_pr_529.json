{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NjU1MTA0", "number": 529, "reviewThreads": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoxNzozNVrOFJ4dcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjo0MDowM1rOFKL50Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTA2NTQ3OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoxNzozNVrOIMZgDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxNzo1MjozNFrOIMyPEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTYzMA==", "bodyText": "@kevin-zhonghao @cj-chung Do we have zipkin conf in the application.properties files? We may need to remove them there and in the yaml files as well.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549871630", "createdAt": "2020-12-29T22:17:35Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI3NjA2Mg==", "bodyText": "We dont have zipkin conf in the application.properties files. It maybe added by Xiaodong", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550276062", "createdAt": "2020-12-30T17:49:41Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTYzMA=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI3Njg4MQ==", "bodyText": "I have removed them", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550276881", "createdAt": "2020-12-30T17:52:34Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTYzMA=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTA2NzA3OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoxODozMVrOIMZg5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxOTozMzowN1rOIMz6ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTg0NQ==", "bodyText": "Let us move the config back to where it was, along with other Ignite configs.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549871845", "createdAt": "2020-12-29T22:18:31Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDMwNDM1Nw==", "bodyText": "Done", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550304357", "createdAt": "2020-12-30T19:33:07Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTg0NQ=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTA2ODUwOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoxOToyMFrOIMZhnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxNzo1MTozMFrOIMyN4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjAyOQ==", "bodyText": "This is pretty aggressive :-) 5 is good enough.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549872029", "createdAt": "2020-12-29T22:19:20Z", "author": {"login": "xieus"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -54,7 +61,7 @@ spec:\n   selector:\n     matchLabels:\n       app: apimanager\n-  replicas: 5\n+  replicas: 10", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI3NjU3OQ==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550276579", "createdAt": "2020-12-30T17:51:30Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -54,7 +61,7 @@ spec:\n   selector:\n     matchLabels:\n       app: apimanager\n-  replicas: 5\n+  replicas: 10", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjAyOQ=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTA3MTI0OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/port_manager.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMjoyMToyOFrOIMZjOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxOTozMjo1OFrOIMz6NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjQ0Mw==", "bodyText": "@kevin-zhonghao @cj-chung We may still use V1 APIs in the Medina test cluster. Check this out.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549872443", "createdAt": "2020-12-29T22:21:28Z", "author": {"login": "xieus"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,26 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n-    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n+    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/v4/port/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDMwNDMwOA==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550304308", "createdAt": "2020-12-30T19:32:58Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,26 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n-    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n+    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/v4/port/", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MjQ0Mw=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1NDA1OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1MzoxM1rOIMbzbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQxNzo1NDo0OFrOINGByw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTM1OQ==", "bodyText": "@kevin-zhonghao Why do we need these here?", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909359", "createdAt": "2020-12-30T01:53:13Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true\n     spring.application.name=alcor-api-gateway\n-    spring.sleuth.sampler.probability=1.0\n-    spring.sleuth.web.skipPattern=(^health.*)\n-    server.max-http-header-size=16384\n-    server.max-initial-line-length=65536\n-\n-    management.endpoints.web.exposure.include=health,prometheus\n     logging.level.org.springframework.web=DEBUG\n     logging.level.org.springframework.cloud=DEBUG\n     logging.level.com.github.tomakehurst.wiremock=TRACE\n-    logging.level.root=DEBUG\n-\n-    ignite.thin.client.enable=true\n+    management.endpoints.web.exposure.include=health,prometheus\n+    spring.sleuth.sampler.probability=1.0\n+    spring.sleuth.web.skipPattern=(^health.*)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDYwMTE2Mw==", "bodyText": "Already removed", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550601163", "createdAt": "2020-12-31T17:54:48Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -4,23 +4,19 @@ metadata:\n   name: api-configmap\n data:\n   application.properties: |\n+    ignite.thin.client.enable=true\n     spring.application.name=alcor-api-gateway\n-    spring.sleuth.sampler.probability=1.0\n-    spring.sleuth.web.skipPattern=(^health.*)\n-    server.max-http-header-size=16384\n-    server.max-initial-line-length=65536\n-\n-    management.endpoints.web.exposure.include=health,prometheus\n     logging.level.org.springframework.web=DEBUG\n     logging.level.org.springframework.cloud=DEBUG\n     logging.level.com.github.tomakehurst.wiremock=TRACE\n-    logging.level.root=DEBUG\n-\n-    ignite.thin.client.enable=true\n+    management.endpoints.web.exposure.include=health,prometheus\n+    spring.sleuth.sampler.probability=1.0\n+    spring.sleuth.web.skipPattern=(^health.*)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTM1OQ=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1NTA5OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NDowMlrOIMbz-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxOTozMzo0M1rOIMz7Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTQ5Nw==", "bodyText": "@kevin-zhonghao these settings seems like for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909497", "createdAt": "2020-12-30T01:54:02Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDMwNDU0Nw==", "bodyText": "have done", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550304547", "createdAt": "2020-12-30T19:33:43Z", "author": {"login": "kevin-zhonghao"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,18 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTQ5Nw=="}, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1NjI2OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/elastic_ip_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NTowOVrOIMb0kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NTowOVrOIMb0kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTY1MA==", "bodyText": "@kevin-zhonghao same here! it's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909650", "createdAt": "2020-12-30T01:55:09Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/elastic_ip_manager.yaml", "diffHunk": "@@ -9,6 +9,11 @@ data:\n     ignite.port=10800\n     ignite.thin.client.enable=true\n     management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=eip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1NzIxOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/mac_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NTo1OVrOIMb1Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NTo1OVrOIMb1Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTc2Ng==", "bodyText": "@kevin-zhonghao same here! It's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909766", "createdAt": "2020-12-30T01:55:59Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/mac_manager.yaml", "diffHunk": "@@ -14,9 +14,14 @@ data:\n     #ignite.trust-store-path=truststore.jks\n     #ignite.trust-store-password=123456\n     logging.level.root=DEBUG\n-    macmanager.oui = AA-BB-CC\n+    macmanager.oui = aa:bb:cc\n     macmanager.pool.size = 100\n     macmanager.retrylimit = 10\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=mac-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1Nzg3OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/node_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NjoxNlrOIMb1UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NjoxNlrOIMb1UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTg0MA==", "bodyText": "@kevin-zhonghao It's for zipkin.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909840", "createdAt": "2020-12-30T01:56:16Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/node_manager.yaml", "diffHunk": "@@ -18,6 +18,11 @@ data:\n     spring.servlet.multipart.file-size-threshold=2KB\n     spring.servlet.multipart.max-file-size=200MB\n     spring.servlet.multipart.max-request-size=215MB\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=node-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1ODcxOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/port_manager.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1Njo0N1rOIMb1sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1Njo0N1rOIMb1sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTkzOA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909938", "createdAt": "2020-12-30T01:56:47Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,26 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n-    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n+    microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/v4/port/\n     microservices.elasticip.service.url=http://eipmanager-service.default.svc.cluster.local:9011\n-\n     alcor.vif_type=ovs\n+    Spring.mvc.async.request-timeout=30000\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=port-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1OTE2OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/private_ip_manager.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzowNFrOIMb16Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzowNFrOIMb16Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkwOTk5Mw==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549909993", "createdAt": "2020-12-30T01:57:04Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/private_ip_manager.yaml", "diffHunk": "@@ -8,6 +8,11 @@ data:\n     ignite.host=ignite-alcor-ip-service.ignite-alcor-ip.svc.cluster.local\n     ignite.port=10801\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=ip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1OTM3OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/quota_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzoxNVrOIMb2Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzoxNVrOIMb2Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDAyMw==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910023", "createdAt": "2020-12-30T01:57:15Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/quota_manager.yaml", "diffHunk": "@@ -20,6 +20,11 @@ data:\n     quota.defaults.security_group_rule=-1\n     quota.defaults.subnet=-1\n     quota.defaults.subnetpool=-1\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=quota-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1OTc1OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/route_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzozN1rOIMb2QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1NzozN1rOIMb2QA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDA4MA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910080", "createdAt": "2020-12-30T01:57:37Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/route_manager.yaml", "diffHunk": "@@ -4,13 +4,24 @@ metadata:\n   name: route-configmap\n data:\n   application.properties: |\n+    microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n+    microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    microservices.dpm.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n     logging.level.org.springframework.web=info\n     logging.file.path=.\n     logging.type=file\n+    management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=route-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411\n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM1OTk1OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/sg_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1Nzo0N1rOIMb2WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1Nzo0N1rOIMb2WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDEwNA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910104", "createdAt": "2020-12-30T01:57:47Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/sg_manager.yaml", "diffHunk": "@@ -8,6 +8,11 @@ data:\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=sg-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM2MDI3OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/subnet_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1ODowMFrOIMb2fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1ODowMFrOIMb2fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDE0MA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910140", "createdAt": "2020-12-30T01:58:00Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/subnet_manager.yaml", "diffHunk": "@@ -16,6 +16,14 @@ data:\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips/\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006/\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=subnet-manager\n+    rbac.policy.type=Enforced\n+    management.health.redis.enabled=false\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1OTM2MDcwOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/vpc_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1ODoxMlrOIMb2rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwMTo1ODoxMlrOIMb2rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTkxMDE4OA==", "bodyText": "@kevin-zhonghao same here!", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r549910188", "createdAt": "2020-12-30T01:58:12Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/vpc_manager.yaml", "diffHunk": "@@ -12,8 +12,14 @@ data:\n     logging.file.path=.\n     logging.type=file\n     apache.kafka.address=172.17.0.1:9092\n-    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/vpcs/\n+    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    \n+    rbac.policy.type=Enforced\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=vpc-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0bdb1d38f1e69219cf33a11692be6558e1f7c7e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjIzNzgzOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMTo0OFrOIM2aaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMTo0OFrOIM2aaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTMyMw==", "bodyText": "@kevin-zhonghao  Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345323", "createdAt": "2020-12-30T22:31:48Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -5,22 +5,18 @@ metadata:\n data:\n   application.properties: |\n     spring.application.name=alcor-api-gateway\n-    spring.sleuth.sampler.probability=1.0\n-    spring.sleuth.web.skipPattern=(^health.*)\n-    server.max-http-header-size=16384\n-    server.max-initial-line-length=65536\n-\n-    management.endpoints.web.exposure.include=health,prometheus\n     logging.level.org.springframework.web=DEBUG\n     logging.level.org.springframework.cloud=DEBUG\n     logging.level.com.github.tomakehurst.wiremock=TRACE\n-    logging.level.root=DEBUG\n-\n-    ignite.thin.client.enable=true\n+    management.endpoints.web.exposure.include=health,prometheus\n+    spring.sleuth.sampler.probability=1.0\n+    spring.sleuth.web.skipPattern=(^health.*)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0MDc0OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/api-gateway.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMzoyNFrOIM2b4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMzoyNFrOIM2b4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTY5Nw==", "bodyText": "@kevin-zhonghao Please remove spring.sleuth.sampler and spring.application.name.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345697", "createdAt": "2020-12-30T22:33:24Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/api-gateway.yaml", "diffHunk": "@@ -43,6 +38,16 @@ data:\n     keystone.password=alcor_pass\n     keystone.auth_type=password\n     keystone.auth_url=http://192.168.10.10:5000/v3\n+    neutron.url_prefix=/v2.0\n+    logging.level.root=TRACE\n+    \n+    Spring.mvc.async.request-timeout=30000\n+    server.max-http-header-size=65536\n+    server.max-initial-line-length=65536\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=api-gateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0MTEzOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/dpm_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMzo0MlrOIM2cGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozMzo0MlrOIM2cGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NTc1NQ==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550345755", "createdAt": "2020-12-30T22:33:42Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/dpm_manager.yaml", "diffHunk": "@@ -6,6 +6,36 @@ data:\n   application.properties: |\n     dataplane.grpc.port = 50001\n     dataplane.isovs=true\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=dataplane-service\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0MzI0OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/elastic_ip_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNToxM1rOIM2dOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNToxM1rOIM2dOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjA0MQ==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346041", "createdAt": "2020-12-30T22:35:13Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/elastic_ip_manager.yaml", "diffHunk": "@@ -9,6 +9,11 @@ data:\n     ignite.port=10800\n     ignite.thin.client.enable=true\n     management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=eip-manager\n+    # the zipkin host should be YOURS\n+    spring.zipkin.base-url=http://10.213.43.187:9411", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0NDQwOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/mac_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNTo0NFrOIM2d0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNTo0NFrOIM2d0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjE5NA==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346194", "createdAt": "2020-12-30T22:35:44Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/mac_manager.yaml", "diffHunk": "@@ -4,19 +4,22 @@ metadata:\n   name: mac-configmap\n data:\n   application.properties: |\n-    ignite.thin.client.enable=true\n     spring.redis.host=localhost\n     spring.redis.port=6380\n     ignite.host=ignite-alcor-mac-service.ignite-alcor-mac.svc.cluster.local\n     ignite.port=10803\n+    ignite.thin.client.enable=true\n     #ignite.key-store-path=keystore.jks\n     #ignite.key-store-password=123456\n     #ignite.trust-store-path=truststore.jks\n     #ignite.trust-store-password=123456\n     logging.level.root=DEBUG\n-    macmanager.oui = AA-BB-CC\n+    macmanager.oui = aa:bb:cc\n     macmanager.pool.size = 100\n     macmanager.retrylimit = 10\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=mac-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0NDg2OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/node_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjowNFrOIM2eEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjowNFrOIM2eEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjI1OA==", "bodyText": "@kevin-zhonghao Please remove them", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346258", "createdAt": "2020-12-30T22:36:04Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/node_manager.yaml", "diffHunk": "@@ -18,6 +18,9 @@ data:\n     spring.servlet.multipart.file-size-threshold=2KB\n     spring.servlet.multipart.max-file-size=200MB\n     spring.servlet.multipart.max-request-size=215MB\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=node-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0NTYzOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/port_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjoyOFrOIM2ecg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjoyOFrOIM2ecg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjM1NA==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346354", "createdAt": "2020-12-30T22:36:28Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/port_manager.yaml", "diffHunk": "@@ -7,23 +7,24 @@ data:\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-port-service.ignite-alcor-port.svc.cluster.local\n     ignite.port=10802\n-\n     server.max-http-header-size=16384\n     server.max-initial-line-length=65536\n-\n     logging.level.root=DEBUG\n-\n     microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.sg.service.url=http://sgmanager-service.default.svc.cluster.local:9008\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/routes\n+    microservices.router.service.url=http://routemanager-service.default.svc.cluster.local:9003\n     microservices.node.service.url=http://nodemanager-service.default.svc.cluster.local:9007/nodes\n     microservices.dataplane.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010/network-configuration\n     microservices.elasticip.service.url=http://eipmanager-service.default.svc.cluster.local:9011\n-\n     alcor.vif_type=ovs\n+    Spring.mvc.async.request-timeout=30000\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=port-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0Njc0OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/private_ip_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjo1OFrOIM2e-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNjo1OFrOIM2e-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjQ4OQ==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346489", "createdAt": "2020-12-30T22:36:58Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/private_ip_manager.yaml", "diffHunk": "@@ -8,6 +8,9 @@ data:\n     ignite.host=ignite-alcor-ip-service.ignite-alcor-ip.svc.cluster.local\n     ignite.port=10801\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=ip-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0Njk4OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/quota_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzoxNlrOIM2fHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzoxNlrOIM2fHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjUyNw==", "bodyText": "@kevin-zhonghao Please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346527", "createdAt": "2020-12-30T22:37:16Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/quota_manager.yaml", "diffHunk": "@@ -20,6 +20,9 @@ data:\n     quota.defaults.security_group_rule=-1\n     quota.defaults.subnet=-1\n     quota.defaults.subnetpool=-1\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=quota-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0NzQxOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/route_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzozNVrOIM2fXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzozNVrOIM2fXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjU4OA==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346588", "createdAt": "2020-12-30T22:37:35Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/route_manager.yaml", "diffHunk": "@@ -4,13 +4,22 @@ metadata:\n   name: route-configmap\n data:\n   application.properties: |\n+    microservices.vpc.service.url=http://vpcmanager-service.default.svc.cluster.local:9001\n+    microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    microservices.dpm.service.url=http://dataplanemanager-service.default.svc.cluster.local:9010\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006\n     ignite.thin.client.enable=true\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n     logging.level.org.springframework.web=info\n     logging.file.path=.\n     logging.type=file\n+    management.health.redis.enabled=false\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=route-manager\n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0NzYxOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/sg_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzo0OFrOIM2fdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozNzo0OFrOIM2fdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjYxNQ==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346615", "createdAt": "2020-12-30T22:37:48Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/sg_manager.yaml", "diffHunk": "@@ -8,6 +8,9 @@ data:\n     ignite.host=ignite-alcor-service.ignite-alcor.svc.cluster.local\n     ignite.port=10800\n     logging.level.root=DEBUG\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=sg-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0ODQ2OnYy", "diffSide": "RIGHT", "path": "kubernetes/services/subnet_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozODoyMFrOIM2f4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozODoyMFrOIM2f4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NjcyMQ==", "bodyText": "@kevin-zhonghao Please remove them", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346721", "createdAt": "2020-12-30T22:38:20Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/subnet_manager.yaml", "diffHunk": "@@ -16,6 +16,12 @@ data:\n     microservices.mac.service.url=http://macmanager-service.default.svc.cluster.local:9005/macs\n     microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.ip.service.url=http://ipmanager-service.default.svc.cluster.local:9004/ips/\n+    microservices.port.service.url=http://portmanager-service.default.svc.cluster.local:9006/\n+    \n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=subnet-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI0ODcxOnYy", "diffSide": "RIGHT", "path": "kubernetes/services/vpc_manager.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozODozNVrOIM2gCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjozODozNVrOIM2gCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0Njc2Mg==", "bodyText": "@kevin-zhonghao please remove them.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550346762", "createdAt": "2020-12-30T22:38:35Z", "author": {"login": "cj-chung"}, "path": "kubernetes/services/vpc_manager.yaml", "diffHunk": "@@ -12,8 +12,12 @@ data:\n     logging.file.path=.\n     logging.type=file\n     apache.kafka.address=172.17.0.1:9092\n-    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/vpcs/\n+    microservices.route.service.url=http://routemanager-service.default.svc.cluster.local:9003/\n     microservices.subnet.service.url=http://subnetmanager-service.default.svc.cluster.local:9002\n+    \n+    rbac.policy.type=Enforced\n+    spring.sleuth.sampler.probability=1.0\n+    spring.application.name=vpc-manager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjI1MTA1OnYy", "diffSide": "RIGHT", "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjo0MDowM1rOIM2hRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQxODowMTo1MlrOINGXIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NzA3Ng==", "bodyText": "@kevin-zhonghao Remove it if not using.", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550347076", "createdAt": "2020-12-30T22:40:03Z", "author": {"login": "cj-chung"}, "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "diffHunk": "@@ -63,8 +63,8 @@\n     @JsonProperty(\"secondary_dns\")\n     private String secondaryDns;\n \n-    @JsonProperty(\"routes\")\n-    private List<RouteEntity> routeEntities;\n+//    @JsonProperty(\"routes\")\n+//    private List<RouteEntity> routeEntities;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDYwNjYyNg==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/529#discussion_r550606626", "createdAt": "2020-12-31T18:01:52Z", "author": {"login": "kevin-zhonghao"}, "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "diffHunk": "@@ -63,8 +63,8 @@\n     @JsonProperty(\"secondary_dns\")\n     private String secondaryDns;\n \n-    @JsonProperty(\"routes\")\n-    private List<RouteEntity> routeEntities;\n+//    @JsonProperty(\"routes\")\n+//    private List<RouteEntity> routeEntities;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0NzA3Ng=="}, "originalCommit": {"oid": "1659c962af964fce5877e570126b2b4d450e7d55"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4506, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}