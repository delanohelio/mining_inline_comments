{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MzA2OTIx", "number": 195, "reviewThreads": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwMzo0ODo0N1rOD8uOxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDowODo1NFrOD-0mvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0OTk4NTk4OnYy", "diffSide": "RIGHT", "path": "services/mac_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwMzo0ODo0N1rOGV1jcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0NzoyOVrOGYXDAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1MDcwNg==", "bodyText": "Let us place server.port on the top of every application.properties file.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r425550706", "createdAt": "2020-05-15T03:48:47Z", "author": {"login": "xieus"}, "path": "services/mac_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,5 @@\n #Machine configuration\n+server.port=9005", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e00cf384166c51dc600bcab1e51a6def8fc0294"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE5NjYxMQ==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428196611", "createdAt": "2020-05-20T17:47:29Z", "author": {"login": "kevin-zhonghao"}, "path": "services/mac_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,5 @@\n #Machine configuration\n+server.port=9005", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1MDcwNg=="}, "originalCommit": {"oid": "3e00cf384166c51dc600bcab1e51a6def8fc0294"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzIwMjcyOnYy", "diffSide": "RIGHT", "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/proxy/IpManagerProxy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjoxMjoxNVrOGWVMEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyNDoxN1rOGY0zhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA2OTAxMA==", "bodyText": "@kevin-zhonghao The import dependencies should be sorted.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r426069010", "createdAt": "2020-05-15T22:12:15Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/proxy/IpManagerProxy.java", "diffHunk": "@@ -15,7 +15,7 @@\n */\n package com.futurewei.alcor.portmanager.proxy;\n \n-import com.futurewei.alcor.common.utils.SpringContextUtil;\n+import com.futurewei.alcor.portmanager.util.SpringContextUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "553f21743038d5d3bf809937f6ca4bac70abec91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NDE2NQ==", "bodyText": "Nice job to go through every file and sort them.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428684165", "createdAt": "2020-05-21T14:24:17Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/proxy/IpManagerProxy.java", "diffHunk": "@@ -15,7 +15,7 @@\n */\n package com.futurewei.alcor.portmanager.proxy;\n \n-import com.futurewei.alcor.common.utils.SpringContextUtil;\n+import com.futurewei.alcor.portmanager.util.SpringContextUtil;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA2OTAxMA=="}, "originalCommit": {"oid": "553f21743038d5d3bf809937f6ca4bac70abec91"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg0Mzc2OnYy", "diffSide": "RIGHT", "path": "services/mac_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyMzo0MlrOGY0yFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjoxODozN1rOGY5iyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4Mzc5OQ==", "bodyText": "Shall we use localhost or 127.0.0.1?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428683799", "createdAt": "2020-05-21T14:23:42Z", "author": {"login": "xieus"}, "path": "services/mac_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,5 +1,7 @@\n+server.port=9005\n+#server.port=9000\n #Machine configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2MTgwMg==", "bodyText": "Yeah I will change it to localhost, it is for docker to test here", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428761802", "createdAt": "2020-05-21T16:18:37Z", "author": {"login": "kevin-zhonghao"}, "path": "services/mac_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,5 +1,7 @@\n+server.port=9005\n+#server.port=9000\n #Machine configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4Mzc5OQ=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg1MTk3OnYy", "diffSide": "RIGHT", "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/rollback/AbstractIpAddrRollback.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyNTo0OVrOGY03YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjoyNToxOVrOGY5xyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NTE1Mw==", "bodyText": "oh why do we want to move rest clients from AlcroWeb back to Port Manager?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428685153", "createdAt": "2020-05-21T14:25:49Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/rollback/AbstractIpAddrRollback.java", "diffHunk": "@@ -17,7 +17,7 @@\n \n \n import com.futurewei.alcor.web.entity.ip.IpAddrRequest;\n-import com.futurewei.alcor.web.restclient.IpManagerRestClient;\n+import com.futurewei.alcor.portmanager.restclient.IpManagerRestClient;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2NTY0MQ==", "bodyText": "Piaoping make the change I think ~", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428765641", "createdAt": "2020-05-21T16:25:19Z", "author": {"login": "kevin-zhonghao"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/rollback/AbstractIpAddrRollback.java", "diffHunk": "@@ -17,7 +17,7 @@\n \n \n import com.futurewei.alcor.web.entity.ip.IpAddrRequest;\n-import com.futurewei.alcor.web.restclient.IpManagerRestClient;\n+import com.futurewei.alcor.portmanager.restclient.IpManagerRestClient;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NTE1Mw=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg1NTUyOnYy", "diffSide": "RIGHT", "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/util/SpringContextUtil.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyNjo0NVrOGY05tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNzowNDo1MVrOGY7Lrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NTc0OA==", "bodyText": "Should we keep them in common?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428685748", "createdAt": "2020-05-21T14:26:45Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/util/SpringContextUtil.java", "diffHunk": "@@ -13,7 +13,7 @@\n         See the License for the specific language governing permissions and\n         limitations under the License.\n */\n-package com.futurewei.alcor.common.utils;\n+package com.futurewei.alcor.portmanager.util;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3NjQ1OQ==", "bodyText": "I am not familiar with port manager ~ we could ask Piaoping if we should move them into commom", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428776459", "createdAt": "2020-05-21T16:43:54Z", "author": {"login": "kevin-zhonghao"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/util/SpringContextUtil.java", "diffHunk": "@@ -13,7 +13,7 @@\n         See the License for the specific language governing permissions and\n         limitations under the License.\n */\n-package com.futurewei.alcor.common.utils;\n+package com.futurewei.alcor.portmanager.util;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NTc0OA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc4ODY1NQ==", "bodyText": "oh I thought you moved this file to portmanager. If you only change the reference, it is okay then.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428788655", "createdAt": "2020-05-21T17:04:51Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/util/SpringContextUtil.java", "diffHunk": "@@ -13,7 +13,7 @@\n         See the License for the specific language governing permissions and\n         limitations under the License.\n */\n-package com.futurewei.alcor.common.utils;\n+package com.futurewei.alcor.portmanager.util;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NTc0OA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg1ODEwOnYy", "diffSide": "RIGHT", "path": "services/port_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyNzoyNVrOGY07WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyNzoyNVrOGY07WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NjE2OA==", "bodyText": "Awesome!", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428686168", "createdAt": "2020-05-21T14:27:25Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,19 +1,20 @@\n+server.port=9006\n #Redis configuration\n #spring.redis.host=192.168.131.131\n #spring.redis.port=6379\n #apache.kafka.address=172.17.0.1:9092\n #Ignite configuration\n ignite.host=localhost\n-ignite.port=10801\n+ignite.port=10800\n #Logging configuration\n #logging.file.path=./\n #logging.file.name=ip-manager.log\n #logging.level.root=INFO\n #Microservice url configuration\n-microservices.vpc.service.url=http://127.0.0.1:8081\n-microservices.subnet.service.url=http://127.0.0.1:8080\n-microservices.ip.service.url=http://127.0.0.1:8082/ips\n-microservices.mac.service.url=http://127.0.0.1:8083/macs\n+microservices.vpc.service.url=http://localhost:9001", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg2NTc4OnYy", "diffSide": "RIGHT", "path": "services/private_ip_manager/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyOToyOVrOGY1AZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjo0MjowM1rOGY6XxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NzQ2MA==", "bodyText": "Switching back and forward on different host ip is kind of headache. Let us create a new set of application.properties to be more developer friendly :-) when you get a chance.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428687460", "createdAt": "2020-05-21T14:29:29Z", "author": {"login": "xieus"}, "path": "services/private_ip_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,13 +1,15 @@\n+server.port=9004\n #Redis configuration\n-spring.redis.host=localhost\n-spring.redis.port=6380\n+#spring.redis.host=localhost\n+#spring.redis.port=6380\n #apache.kafka.address=172.17.0.1:9092\n #server.port=9000\n #Ignite configuration\n+#ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3NTM2NQ==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428775365", "createdAt": "2020-05-21T16:42:03Z", "author": {"login": "kevin-zhonghao"}, "path": "services/private_ip_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,13 +1,15 @@\n+server.port=9004\n #Redis configuration\n-spring.redis.host=localhost\n-spring.redis.port=6380\n+#spring.redis.host=localhost\n+#spring.redis.port=6380\n #apache.kafka.address=172.17.0.1:9092\n #server.port=9000\n #Ignite configuration\n+#ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4NzQ2MA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg2NzQ3OnYy", "diffSide": "RIGHT", "path": "services/route_manager/Dockerfile", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyOTo1NVrOGY1BiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDoyOTo1NVrOGY1BiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY4Nzc1Mg==", "bodyText": "9003?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428687752", "createdAt": "2020-05-21T14:29:55Z", "author": {"login": "xieus"}, "path": "services/route_manager/Dockerfile", "diffHunk": "@@ -5,7 +5,7 @@ FROM openjdk:8\n MAINTAINER Zhonghao Lyu <zlyu@futurewei.com>\n \n # Route Manager process\n-EXPOSE 8080\n+EXPOSE 9000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg4NTk4OnYy", "diffSide": "RIGHT", "path": "services/route_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDozNToyMlrOGY1OFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjozODowNlrOGY6OxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MDk2Nw==", "bodyText": "Remove duplicated comment lines.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428690967", "createdAt": "2020-05-21T14:35:22Z", "author": {"login": "xieus"}, "path": "services/route_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,3 +1,5 @@\n+server.port=9003\n+#server.port=9000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3MzA2MA==", "bodyText": "okay", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428773060", "createdAt": "2020-05-21T16:38:06Z", "author": {"login": "kevin-zhonghao"}, "path": "services/route_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,3 +1,5 @@\n+server.port=9003\n+#server.port=9000", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MDk2Nw=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg4NzA5OnYy", "diffSide": "RIGHT", "path": "services/route_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDozNTo0MFrOGY1Ozw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDozNTo0MFrOGY1Ozw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MTE1MQ==", "bodyText": "localhost or 127.0.0.1", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428691151", "createdAt": "2020-05-21T14:35:40Z", "author": {"login": "xieus"}, "path": "services/route_manager/src/main/resources/application.properties", "diffHunk": "@@ -10,5 +12,5 @@\n #logging.file.path=.\n #logging.type=file\n #Ignite configuration\n-ignite.host=localhost\n-ignite.port=10800\n\\ No newline at end of file\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2OTg4ODI0OnYy", "diffSide": "RIGHT", "path": "services/subnet_manager/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNDozNTo1N1rOGY1PiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjo0MDo0MFrOGY6Upw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MTMzNw==", "bodyText": "900X?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428691337", "createdAt": "2020-05-21T14:35:57Z", "author": {"login": "xieus"}, "path": "services/subnet_manager/Dockerfile", "diffHunk": "@@ -5,7 +5,7 @@ FROM openjdk:8\n MAINTAINER Zhonghao Lyu <zlyu@futurewei.com>\n \n # Route Manager process\n-EXPOSE 8080\n+EXPOSE 9000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3NDU2Nw==", "bodyText": "I set 9000 here because I make every microservice server.port = 9000 when I deploy them in Docker.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428774567", "createdAt": "2020-05-21T16:40:40Z", "author": {"login": "kevin-zhonghao"}, "path": "services/subnet_manager/Dockerfile", "diffHunk": "@@ -5,7 +5,7 @@ FROM openjdk:8\n MAINTAINER Zhonghao Lyu <zlyu@futurewei.com>\n \n # Route Manager process\n-EXPOSE 8080\n+EXPOSE 9000", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MTMzNw=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDEzMzIzOnYy", "diffSide": "RIGHT", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/dao/SubnetRepository.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozMzo1NFrOGY3r1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMToyODoxN1rOGZDg3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMTM1MA==", "bodyText": "@kevin-zhonghao I am thinking of giving this class \"SubnetWebResponseObject\" a better name, like SubnetWebResponseEntity or something else? Any Suggestion?", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428731350", "createdAt": "2020-05-21T15:33:54Z", "author": {"login": "xieus"}, "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/dao/SubnetRepository.java", "diffHunk": "@@ -33,21 +34,21 @@\n \n @Repository\n @ComponentScan(value=\"com.futurewei.alcor.common.db\")\n-public class SubnetRepository implements ICacheRepository<SubnetWebObject> {\n+public class SubnetRepository implements ICacheRepository<SubnetWebResponseObject> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3MTg4Nw==", "bodyText": "Actually SubnetWebResponseEntity  is better than SubnetWebResponseObject, it is easier to understand.\nI think maybe we could just name it as SubnetEntity, because we store  SubnetWebResponseObject as subnet entity in db. What do you think", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428771887", "createdAt": "2020-05-21T16:36:04Z", "author": {"login": "kevin-zhonghao"}, "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/dao/SubnetRepository.java", "diffHunk": "@@ -33,21 +34,21 @@\n \n @Repository\n @ComponentScan(value=\"com.futurewei.alcor.common.db\")\n-public class SubnetRepository implements ICacheRepository<SubnetWebObject> {\n+public class SubnetRepository implements ICacheRepository<SubnetWebResponseObject> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMTM1MA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc4ODkyMA==", "bodyText": "Sounds good to me.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428788920", "createdAt": "2020-05-21T17:05:18Z", "author": {"login": "xieus"}, "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/dao/SubnetRepository.java", "diffHunk": "@@ -33,21 +34,21 @@\n \n @Repository\n @ComponentScan(value=\"com.futurewei.alcor.common.db\")\n-public class SubnetRepository implements ICacheRepository<SubnetWebObject> {\n+public class SubnetRepository implements ICacheRepository<SubnetWebResponseObject> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMTM1MA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkyNTE1MQ==", "bodyText": "NP", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428925151", "createdAt": "2020-05-21T21:28:17Z", "author": {"login": "kevin-zhonghao"}, "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/dao/SubnetRepository.java", "diffHunk": "@@ -33,21 +34,21 @@\n \n @Repository\n @ComponentScan(value=\"com.futurewei.alcor.common.db\")\n-public class SubnetRepository implements ICacheRepository<SubnetWebObject> {\n+public class SubnetRepository implements ICacheRepository<SubnetWebResponseObject> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMTM1MA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE0NDk4OnYy", "diffSide": "RIGHT", "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/utils/SubnetManagementUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozNjo1N1rOGY3zSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozNjo1N1rOGY3zSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMzI1Nw==", "bodyText": "I was wondering if we could get a UTC time directly, instead of time zone conversion.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428733257", "createdAt": "2020-05-21T15:36:57Z", "author": {"login": "xieus"}, "path": "services/subnet_manager/src/main/java/com/futurewei/alcor/subnet/utils/SubnetManagementUtil.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+\n+package com.futurewei.alcor.subnet.utils;\n+\n+import com.futurewei.alcor.common.enumClass.Ipv6AddressModeEnum;\n+import com.futurewei.alcor.common.enumClass.Ipv6RaModeEnum;\n+import com.futurewei.alcor.web.entity.subnet.SubnetRequestWebJson;\n+import com.futurewei.alcor.web.entity.subnet.SubnetWebJson;\n+import com.futurewei.alcor.web.entity.subnet.SubnetWebRequestObject;\n+import com.futurewei.alcor.web.entity.subnet.SubnetWebResponseObject;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n+import java.util.Date;\n+\n+public class SubnetManagementUtil {\n+\n+    public static boolean checkSubnetRequestResourceIsValid(SubnetRequestWebJson resource) {\n+        if (resource == null) {\n+            return false;\n+        }\n+        SubnetWebRequestObject subnet = resource.getSubnet();\n+\n+        // network_id\n+        String networkId = subnet.getVpcId();\n+        if (networkId == null) {\n+            return false;\n+        }\n+\n+        // cidr\n+        String cidr = subnet.getCidr();\n+        if (cidr == null) {\n+            return false;\n+        }\n+\n+        // ip_version\n+        Integer ipVersion = subnet.getIpVersion();\n+        if (ipVersion != null && ipVersion != 4 && ipVersion != 6) {\n+            return false;\n+        }\n+\n+        // ipv6_address_mode\n+        String ipv6AddressMode = subnet.getIpv6AddressMode();\n+        if (!(ipv6AddressMode == null || Ipv6AddressModeEnum.SLAAC.getMode().equals(ipv6AddressMode)\n+                || Ipv6AddressModeEnum.STATEFUL.getMode().equals(ipv6AddressMode)\n+                || Ipv6AddressModeEnum.STATELESS.getMode().equals(ipv6AddressMode)) ) {\n+            return false;\n+        }\n+\n+        // ipv6_ra_mode\n+        String ipv6RaMode = subnet.getIpv6AddressMode();\n+        if (!(ipv6RaMode == null || Ipv6RaModeEnum.SLAAC.getMode().equals(ipv6RaMode)\n+                || Ipv6RaModeEnum.STATEFUL.getMode().equals(ipv6RaMode)\n+                || Ipv6RaModeEnum.STATELESS.getMode().equals(ipv6RaMode)) ) {\n+            return false;\n+        }\n+\n+        return true;\n+    }\n+\n+    public static String localToUTC(String localTime, String format) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE0NTQxOnYy", "diffSide": "RIGHT", "path": "services/subnet_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozNzowNlrOGY3zlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozNzowNlrOGY3zlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczMzMzMw==", "bodyText": "localhost.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428733333", "createdAt": "2020-05-21T15:37:06Z", "author": {"login": "xieus"}, "path": "services/subnet_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,11 @@\n+server.port=9002\n+#server.port=9000\n #spring.redis.host=redis2\n # Please check redis pod service cluster IP\n #spring.redis.host=10.109.127.248\n #spring.redis.port=6379\n #ignite configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE1Mzc3OnYy", "diffSide": "RIGHT", "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/utils/SegmentManagementUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTozOToyOFrOGY344g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjozMTowMVrOGY5_EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNDY5MA==", "bodyText": "If this is reused by multiple services, let us move it to AlcorLib.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428734690", "createdAt": "2020-05-21T15:39:28Z", "author": {"login": "xieus"}, "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/utils/SegmentManagementUtil.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+\n+package com.futurewei.alcor.vpcmanager.utils;\n+\n+import com.futurewei.alcor.common.enumClass.NetworkTypeEnum;\n+import com.futurewei.alcor.web.entity.SegmentWebRequestJson;\n+import com.futurewei.alcor.web.entity.SegmentWebRequestObject;\n+import com.futurewei.alcor.web.entity.SegmentWebResponseObject;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n+import java.util.Date;\n+\n+public class SegmentManagementUtil {\n+\n+    public static boolean checkSegmentRequestResourceIsValid(SegmentWebRequestJson resource) {\n+\n+        if (resource == null) {\n+            return false;\n+        }\n+        SegmentWebRequestObject segment = resource.getSegment();\n+\n+        // network_type\n+        String networkType = segment.getNetworkType();\n+        if (!(networkType == null || NetworkTypeEnum.VXLAN.getNetworkType().equals(networkType)\n+                || NetworkTypeEnum.VLAN.getNetworkType().equals(networkType)\n+                || NetworkTypeEnum.GRE.getNetworkType().equals(networkType)\n+                || segment.equals(\"flat\")) ) {\n+            return false;\n+        }\n+\n+        return true;\n+    }\n+\n+    public static SegmentWebResponseObject configureSegmentDefaultParameters (SegmentWebResponseObject response) {\n+        if (response == null) {\n+            return response;\n+        }\n+\n+        // create_at and update_at\n+        Date currentTime = new Date();\n+        SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n+        String dateString = formatter.format(currentTime);\n+\n+        String utc = localToUTC(dateString, \"yyyy-MM-dd HH:mm:ss\");\n+\n+        response.setCreated_at(utc);\n+        response.setUpdated_at(utc);\n+\n+        // revision_number\n+        Integer revisionNumber = response.getRevisionNumber();\n+        if (revisionNumber == null || revisionNumber < 1) {\n+            response.setRevisionNumber(1);\n+        }\n+\n+        return response;\n+    }\n+\n+    public static String localToUTC(String localTime, String format) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2OTA0MQ==", "bodyText": "Okay", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428769041", "createdAt": "2020-05-21T16:31:01Z", "author": {"login": "kevin-zhonghao"}, "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/utils/SegmentManagementUtil.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+\n+package com.futurewei.alcor.vpcmanager.utils;\n+\n+import com.futurewei.alcor.common.enumClass.NetworkTypeEnum;\n+import com.futurewei.alcor.web.entity.SegmentWebRequestJson;\n+import com.futurewei.alcor.web.entity.SegmentWebRequestObject;\n+import com.futurewei.alcor.web.entity.SegmentWebResponseObject;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n+import java.util.Date;\n+\n+public class SegmentManagementUtil {\n+\n+    public static boolean checkSegmentRequestResourceIsValid(SegmentWebRequestJson resource) {\n+\n+        if (resource == null) {\n+            return false;\n+        }\n+        SegmentWebRequestObject segment = resource.getSegment();\n+\n+        // network_type\n+        String networkType = segment.getNetworkType();\n+        if (!(networkType == null || NetworkTypeEnum.VXLAN.getNetworkType().equals(networkType)\n+                || NetworkTypeEnum.VLAN.getNetworkType().equals(networkType)\n+                || NetworkTypeEnum.GRE.getNetworkType().equals(networkType)\n+                || segment.equals(\"flat\")) ) {\n+            return false;\n+        }\n+\n+        return true;\n+    }\n+\n+    public static SegmentWebResponseObject configureSegmentDefaultParameters (SegmentWebResponseObject response) {\n+        if (response == null) {\n+            return response;\n+        }\n+\n+        // create_at and update_at\n+        Date currentTime = new Date();\n+        SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n+        String dateString = formatter.format(currentTime);\n+\n+        String utc = localToUTC(dateString, \"yyyy-MM-dd HH:mm:ss\");\n+\n+        response.setCreated_at(utc);\n+        response.setUpdated_at(utc);\n+\n+        // revision_number\n+        Integer revisionNumber = response.getRevisionNumber();\n+        if (revisionNumber == null || revisionNumber < 1) {\n+            response.setRevisionNumber(1);\n+        }\n+\n+        return response;\n+    }\n+\n+    public static String localToUTC(String localTime, String format) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNDY5MA=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 74}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE1NzYyOnYy", "diffSide": "RIGHT", "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/utils/VpcManagementUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MDozMVrOGY37Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MDozMVrOGY37Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNTMxMA==", "bodyText": "same here.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428735310", "createdAt": "2020-05-21T15:40:31Z", "author": {"login": "xieus"}, "path": "services/vpc_manager/src/main/java/com/futurewei/alcor/vpcmanager/utils/VpcManagementUtil.java", "diffHunk": "@@ -0,0 +1,142 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+package com.futurewei.alcor.vpcmanager.utils;\n+\n+import com.futurewei.alcor.common.enumClass.NetworkStatusEnum;\n+import com.futurewei.alcor.common.enumClass.NetworkTypeEnum;\n+import com.futurewei.alcor.web.entity.SegmentInfoInVpc;\n+import com.futurewei.alcor.web.entity.vpc.*;\n+import com.futurewei.alcor.web.entity.vpc.VpcWebRequestJson;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Calendar;\n+import java.util.Date;\n+import java.util.List;\n+\n+public class VpcManagementUtil {\n+\n+    private Logger logger = LoggerFactory.getLogger(this.getClass());\n+\n+    public static boolean checkVpcRequestResourceIsValid(VpcWebRequestJson resource) {\n+        if (resource == null) {\n+            return false;\n+        }\n+        VpcWebRequestObject network = resource.getNetwork();\n+\n+        // mtu\n+        Integer mtu = network.getMtu();\n+        if (mtu != null && mtu < 68) {\n+            return false;\n+        }\n+\n+        // network_type\n+        String networkType = network.getNetworkType();\n+        if (!(networkType == null || NetworkTypeEnum.VXLAN.getNetworkType().equals(networkType)\n+        || NetworkTypeEnum.VLAN.getNetworkType().equals(networkType)\n+        || NetworkTypeEnum.GRE.getNetworkType().equals(networkType)\n+        || network.equals(\"flat\")) ) {\n+            return false;\n+        }\n+\n+        // status\n+        String status = network.getStatus();\n+        if (!(status == null || NetworkStatusEnum.ACTIVE.getNetworkStatus().equals(status)\n+        || NetworkStatusEnum.ACTIVE.getNetworkStatus().equals(status)\n+        || NetworkStatusEnum.DOWN.getNetworkStatus().equals(status)\n+        || NetworkStatusEnum.BUILD.getNetworkStatus().equals(status)\n+        || NetworkStatusEnum.ERROR.getNetworkStatus().equals(status))) {\n+            return false;\n+        }\n+\n+        return true;\n+    }\n+\n+    public static VpcWebResponseObject configureNetworkDefaultParameters (VpcWebResponseObject response) {\n+        if (response == null) {\n+            return response;\n+        }\n+\n+        // availability_zones\n+        List<String> availabilityZones = response.getAvailabilityZones();\n+        if (availabilityZones == null) {\n+            availabilityZones = new ArrayList<String>(){{add(\"Nova\");}};\n+            response.setAvailabilityZones(availabilityZones);\n+        }\n+\n+        // create_at and update_at\n+        Date currentTime = new Date();\n+        SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n+        String dateString = formatter.format(currentTime);\n+\n+        String utc = localToUTC(dateString, \"yyyy-MM-dd HH:mm:ss\");\n+\n+        response.setCreated_at(utc);\n+        response.setUpdated_at(utc);\n+\n+        // revision_number\n+        Integer revisionNumber = response.getRevisionNumber();\n+        if (revisionNumber == null || revisionNumber < 1) {\n+            response.setRevisionNumber(1);\n+        }\n+\n+        // tenant_id\n+        String tenantId = response.getTenantId();\n+        if (tenantId == null) {\n+            response.setTenantId(response.getProjectId());\n+        }\n+\n+        // tags\n+        List<String> tags = response.getTags();\n+        if (tags == null) {\n+            tags = new ArrayList<String>(){{add(\"tag1,tag2\");}};\n+            response.setTags(tags);\n+        }\n+\n+        // status\n+        String status = response.getStatus();\n+        if (status == null) {\n+            response.setStatus(NetworkStatusEnum.ACTIVE.getNetworkStatus());\n+        }\n+\n+        return response;\n+    }\n+\n+    public static String localToUTC(String localTime, String format) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 121}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE1ODI2OnYy", "diffSide": "RIGHT", "path": "services/vpc_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MDozOFrOGY37rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjoyNjozOVrOGY500A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNTQwNw==", "bodyText": "same here.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428735407", "createdAt": "2020-05-21T15:40:38Z", "author": {"login": "xieus"}, "path": "services/vpc_manager/src/main/resources/application.properties", "diffHunk": "@@ -13,10 +15,10 @@\n #logging.file.path=.\n #logging.type=file\n #Ignite configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2NjQxNg==", "bodyText": "Sure", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428766416", "createdAt": "2020-05-21T16:26:39Z", "author": {"login": "kevin-zhonghao"}, "path": "services/vpc_manager/src/main/resources/application.properties", "diffHunk": "@@ -13,10 +15,10 @@\n #logging.file.path=.\n #logging.type=file\n #Ignite configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNTQwNw=="}, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE1OTE5OnYy", "diffSide": "RIGHT", "path": "services/vpc_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MDo0OFrOGY38Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MDo0OFrOGY38Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNTU2Ng==", "bodyText": "same here.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428735566", "createdAt": "2020-05-21T15:40:48Z", "author": {"login": "xieus"}, "path": "services/vpc_manager/src/main/resources/application.properties", "diffHunk": "@@ -13,10 +15,10 @@\n #logging.file.path=.\n #logging.type=file\n #Ignite configuration\n-ignite.host=localhost\n+ignite.host=192.168.137.1\n ignite.port=10800\n #ignite.key-store-path=F:\\\\work\\\\alcor\\\\git\\\\chenpp\\\\alcor\\\\src\\\\resources\\\\keystore.jks\n #ignite.key-store-password=123456\n #ignite.trust-store-path=F:\\\\work\\\\alcor\\\\git\\\\chenpp\\\\alcor\\\\src\\\\resources\\\\truststore.jks\n #ignite.trust-store-password=123456\n-microservices.route.service.url=http://192.168.137.1:8082/vpcs/\n\\ No newline at end of file\n+microservices.route.service.url=http://192.168.137.1:9003/vpcs/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE2NzQzOnYy", "diffSide": "RIGHT", "path": "web/src/main/java/com/futurewei/alcor/web/entity/mac/MacState.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MjoyNFrOGY4Byg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MjoyNFrOGY4Byg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNjk3MA==", "bodyText": "That is right!", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428736970", "createdAt": "2020-05-21T15:42:24Z", "author": {"login": "xieus"}, "path": "web/src/main/java/com/futurewei/alcor/web/entity/mac/MacState.java", "diffHunk": "@@ -35,63 +35,23 @@\n     @JsonProperty(\"port_id\")\n     private String portId;\n \n-    @JsonProperty(\"active\")\n-    private String active;\n+    @JsonProperty(\"state\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccd4d5dbf8ae4d9844d0b1fb216a89b7f4e769dd"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTY2MTE1OnYy", "diffSide": "RIGHT", "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDoxMjoxM1rOGZG0HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDoxMjoxM1rOGZG0HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3OTIyOQ==", "bodyText": "This is a huge constructor.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428979229", "createdAt": "2020-05-22T00:12:13Z", "author": {"login": "xieus"}, "path": "web/src/main/java/com/futurewei/alcor/web/entity/subnet/SubnetEntity.java", "diffHunk": "@@ -140,23 +140,23 @@\n     @JsonProperty(\"updated_at\")\n     private String updated_at;\n \n-    public SubnetWebResponseObject() {\n+    public SubnetEntity() {\n     }\n \n-    public SubnetWebResponseObject(String projectId, String vpcId, String id, String name, String cidr) {\n+    public SubnetEntity(String projectId, String vpcId, String id, String name, String cidr) {\n         super(projectId, id, name, null);\n         this.vpcId = vpcId;\n         this.cidr = cidr;\n     }\n \n-    public SubnetWebResponseObject(String projectId, String vpcId, String id, String name, String cidr, List<RouteWebObject> routes) {\n+    public SubnetEntity(String projectId, String vpcId, String id, String name, String cidr, List<RouteWebObject> routes) {\n         super(projectId, id, name, null);\n         this.vpcId = vpcId;\n         this.cidr = cidr;\n         this.routes = routes;\n     }\n \n-    public SubnetWebResponseObject(String projectId, String id, String name, String description, String vpcId, String cidr, String availabilityZone, String gatewayIp, Boolean dhcpEnable, String primaryDns, String secondaryDns, List<RouteWebObject> routes, String gatewayMacAddress, List<String> dnsList, Integer ipVersion, String ipV4RangeId, String ipV6RangeId, String ipv6AddressMode, String ipv6RaMode, Integer revisionNumber, String segmentId, Boolean shared, String sortDir, String sortKey, String tenantId, String subnetpoolId, boolean dnsPublishFixedIp, List<String> tags, String tagsAny, String notTags, String notTagsAny, String fields, List<String> dnsNameservers, List<AllocationPool> allocationPools, List<HostRoute> hostRoutes, Integer prefixlen, boolean useDefaultSubnetpool, List<String> serviceTypes, String created_at, String updated_at) {\n+    public SubnetEntity(String projectId, String id, String name, String description, String vpcId, String cidr, String availabilityZone, String gatewayIp, Boolean dhcpEnable, String primaryDns, String secondaryDns, List<RouteWebObject> routes, String gatewayMacAddress, List<String> dnsList, Integer ipVersion, String ipV4RangeId, String ipV6RangeId, String ipv6AddressMode, String ipv6RaMode, Integer revisionNumber, String segmentId, Boolean shared, String sortDir, String sortKey, String tenantId, String subnetpoolId, boolean dnsPublishFixedIp, List<String> tags, String tagsAny, String notTags, String notTagsAny, String fields, List<String> dnsNameservers, List<AllocationPool> allocationPools, List<HostRoute> hostRoutes, Integer prefixlen, boolean useDefaultSubnetpool, List<String> serviceTypes, String created_at, String updated_at) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dafd447315db28b72b3c8a614cffab29af2ee0a9"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTY2NDI0OnYy", "diffSide": "RIGHT", "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/proxy/IpManagerProxy.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDoxNDowOVrOGZG2FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDoxNDowOVrOGZG2FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3OTczMw==", "bodyText": "Perfect!", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r428979733", "createdAt": "2020-05-22T00:14:09Z", "author": {"login": "xieus"}, "path": "services/port_manager/src/main/java/com/futurewei/alcor/portmanager/proxy/IpManagerProxy.java", "diffHunk": "@@ -167,6 +167,7 @@ private void addIpAddrRollback(AbstractIpAddrRollback rollback, IpAddrRequest ip\n             if (rangeId == null) {\n                 throw new RangeIdNotFoundException();\n             }\n+            ipManagerRestClient.releaseIpAddress(rangeId, fixedIp.getIpAddress());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dafd447315db28b72b3c8a614cffab29af2ee0a9"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MjAwMTg5OnYy", "diffSide": "RIGHT", "path": "services/mac_manager/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDowODo1NFrOGZKEIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDowODo1NFrOGZKEIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAzMjQ4Mg==", "bodyText": "Please resolve this conflicts.", "url": "https://github.com/futurewei-cloud/alcor/pull/195#discussion_r429032482", "createdAt": "2020-05-22T04:08:54Z", "author": {"login": "xieus"}, "path": "services/mac_manager/src/main/resources/application.properties", "diffHunk": "@@ -1,12 +1,28 @@\n+<<<<<<< HEAD\n+\n server.port=9005\n #Machine configuration\n+#Redis configuration\n+spring.redis.host=localhost\n+spring.redis.port=6380\n+#Ignite configuration\n+=======\n+Redis configuration\n+spring.redis.host=localhost\n+spring.redis.port=6380\n+Ignite configuration\n+>>>>>>> 6271264f23f65a1169384f9195c6958d381a2625\n ignite.host=localhost\n-ignite.port=10800\n+ignite.port=10801", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fdca2dfb191c4ed9b19c96590314df4aee2b2e4a"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4750, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}