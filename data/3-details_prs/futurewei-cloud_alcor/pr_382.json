{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0MzE0NzY2", "number": 382, "title": "[Documentation] Route Manager Design doc", "bodyText": "This design document includes concept, data schemas, APIs, and detailed workflows design for the management of routers, routing tables and routing rules in Alcor for both Neutron and VPC scenarios.", "createdAt": "2020-09-10T20:48:32Z", "url": "https://github.com/futurewei-cloud/alcor/pull/382", "merged": true, "mergeCommit": {"oid": "677b5369669a0e18b39c3a5b1f395acf3594ee34"}, "closed": true, "closedAt": "2020-09-11T21:26:23Z", "author": {"login": "cj-chung"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAliPDgH2gAyNDg0MzE0NzY2OmFkZDY5N2I5YzJkZjY2MTFiOGRmODU3YWE0ZmNjOGZhNjNkOGM1Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdH8PvSAFqTQ4NzEzMzYxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "add697b9c2df6611b8df857aa4fcc8fa63d8c568", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/add697b9c2df6611b8df857aa4fcc8fa63d8c568", "committedDate": "2020-08-20T01:01:07Z", "message": "first commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b40c1cc7f4e86ef9d3d6074bfca709549b51bacd", "committedDate": "2020-08-20T01:17:12Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/1c3f9f489adff0a8e24eb0cc7863cf28afc957af", "committedDate": "2020-08-20T01:20:07Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26a9eecbddf2e1474c491b353489c8c5d8c9f240", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/26a9eecbddf2e1474c491b353489c8c5d8c9f240", "committedDate": "2020-08-21T17:42:58Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e2380ebc483a9a47ff4af2dd678202edfa7027f", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6e2380ebc483a9a47ff4af2dd678202edfa7027f", "committedDate": "2020-08-21T18:17:58Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df6f9161982242e08de932e9004feb85213b3025", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/df6f9161982242e08de932e9004feb85213b3025", "committedDate": "2020-08-24T18:47:54Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14b8e6aeeb81c2b945684620848cd39d4274c0f8", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/14b8e6aeeb81c2b945684620848cd39d4274c0f8", "committedDate": "2020-08-24T19:18:13Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ccddef6dc9418585eeafbd11fd2f2773d1e6e2e7", "committedDate": "2020-08-24T21:35:42Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51aa0be273bf879c4d8a0aff68a35ef45762c609", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/51aa0be273bf879c4d8a0aff68a35ef45762c609", "committedDate": "2020-08-26T22:33:22Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17fb86a846a1e81dc309a675c4b6280814e18b05", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/17fb86a846a1e81dc309a675c4b6280814e18b05", "committedDate": "2020-08-27T00:28:01Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2aa15559b557a308319215440ed6c0b56d8a675b", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2aa15559b557a308319215440ed6c0b56d8a675b", "committedDate": "2020-08-27T21:07:51Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c409171eea35d897136f745e5a7b849a3b72f89", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/0c409171eea35d897136f745e5a7b849a3b72f89", "committedDate": "2020-08-27T22:59:23Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "520a65c01978f7325271a143c0eefdf10e8e217c", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/520a65c01978f7325271a143c0eefdf10e8e217c", "committedDate": "2020-08-28T00:29:11Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee5941cebf6223e31f4c1249335572212d3f79b3", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ee5941cebf6223e31f4c1249335572212d3f79b3", "committedDate": "2020-08-28T19:24:35Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f074aedf2b19c083bd72e8e5c96b3d2c2a7019db", "committedDate": "2020-09-09T17:04:56Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b78cab860b1c60b2bde241bce3fa720e28261c23", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b78cab860b1c60b2bde241bce3fa720e28261c23", "committedDate": "2020-09-09T17:56:42Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcbca2b9fa80f18f22262f6943397fd57d574e1b", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/dcbca2b9fa80f18f22262f6943397fd57d574e1b", "committedDate": "2020-09-09T23:01:15Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b09f88e374795d345e856c6ec5652c721a2ebfa6", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b09f88e374795d345e856c6ec5652c721a2ebfa6", "committedDate": "2020-09-09T23:04:39Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db1a1e932fa4e423bb2309d5c201eb48441fdc04", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/db1a1e932fa4e423bb2309d5c201eb48441fdc04", "committedDate": "2020-09-10T19:32:27Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "208404025fb414371e2cb475e1d3c616e2c12339", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/208404025fb414371e2cb475e1d3c616e2c12339", "committedDate": "2020-09-10T19:41:17Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b1c4074632d050f338cf15cf95d7463f2212ba8", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/5b1c4074632d050f338cf15cf95d7463f2212ba8", "committedDate": "2020-09-10T19:54:11Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/8e36241b47e505ca9898c4b55c65c3d6cee2ff10", "committedDate": "2020-09-10T19:56:22Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MzUwNjE5", "url": "https://github.com/futurewei-cloud/alcor/pull/382#pullrequestreview-486350619", "createdAt": "2020-09-10T22:20:01Z", "commit": {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMjoyMDowMVrOHQHtHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMjoyNjoxM1rOHQH10g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NTUwMw==", "bodyText": "Minor: to be compatible with", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486665503", "createdAt": "2020-09-10T22:20:01Z", "author": {"login": "xieus"}, "path": "docs/modules/ROOT/pages/mgmt_services/route_manager.adoc", "diffHunk": "@@ -0,0 +1,1227 @@\n+= Route Manager Design Specification\n+Chun-Jen Chung <cchung@futurewei.com>, Liguang Xie <lxie@futurewei.com>\n+v0.1, 2020-08-17\n+:toc: right\n+:imagesdir: ../../images\n+\n+== Overview\n+\n+The Route Manager is an Alcor microservice which manages the route tables and route entries for all VPCs and Subnets.\n+It also provides router-related functionalities to compatible with OpenStack Neutron's router APIs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NjE4Mw==", "bodyText": "One more requirement:\n\nWarning message should be raised when adding an invalid routing rule", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486666183", "createdAt": "2020-09-10T22:21:57Z", "author": {"login": "xieus"}, "path": "docs/modules/ROOT/pages/mgmt_services/route_manager.adoc", "diffHunk": "@@ -0,0 +1,1227 @@\n+= Route Manager Design Specification\n+Chun-Jen Chung <cchung@futurewei.com>, Liguang Xie <lxie@futurewei.com>\n+v0.1, 2020-08-17\n+:toc: right\n+:imagesdir: ../../images\n+\n+== Overview\n+\n+The Route Manager is an Alcor microservice which manages the route tables and route entries for all VPCs and Subnets.\n+It also provides router-related functionalities to compatible with OpenStack Neutron's router APIs.\n+Its responsibilities include but are not limited to creating, updating, deleting, and searching routers, route tables,\n+and route entries resource for a Network/VPC/Subnet.\n+It interacts with VPC Manager, Subnet Manager, Port Manager, and Data Plane Manager to provide route information for them.\n+\n+== Service Requirements\n+\n+[arabic]\n+. Availability Zone and Subnet-based route table.\n+. Default route tables for VPC and subnet.\n+. Default route to Internet Gateway in a public subnet route table.\n+. Default route to NAT Gateway in a private subnet route table.\n+. Router resource managed by an owner, Neutron or VPC.\n+. Route table resource managed by an owner, VPC or Subnet.\n+. Route entry should include destination, nexthop, target, and priority.\n+. Warning message should be raised if same route entry with different priority has been inserted by users.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY2NzczMA==", "bodyText": "We will need a new route_manager_l3_neighbors_update_5.PNG to remove the grammar check warning.", "url": "https://github.com/futurewei-cloud/alcor/pull/382#discussion_r486667730", "createdAt": "2020-09-10T22:26:13Z", "author": {"login": "xieus"}, "path": "docs/modules/ROOT/pages/index.adoc", "diffHunk": "@@ -13,7 +13,7 @@\n *** xref:mgmt_services/vpc_manager.adoc[VPC Manager]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e36241b47e505ca9898c4b55c65c3d6cee2ff10"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de799dfbbd5d024dda1745e432d3beb4ec1256a9", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/de799dfbbd5d024dda1745e432d3beb4ec1256a9", "committedDate": "2020-09-11T00:20:04Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6fbc6056b7ec17546c983f68f06450c75f4cfc4f", "committedDate": "2020-09-11T00:22:08Z", "message": "update route_manager doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTMzNjE1", "url": "https://github.com/futurewei-cloud/alcor/pull/382#pullrequestreview-487133615", "createdAt": "2020-09-11T21:26:12Z", "commit": {"oid": "6fbc6056b7ec17546c983f68f06450c75f4cfc4f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1941, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}