{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxNTM2Mjc1", "number": 339, "title": "Alcor DVR Host Design and Protobuf Schema Change", "bodyText": "This PR includes:\n\nAlcor DVR compute host design:\n\n\nadded router_design.adoc\nworkflow on router programming\nE2E packet flow for Alcor DVR\n\n\nProtobuf schema change:\n\n\nadded new states (router/neighbor)\nadded request id field for all states (port/subnet/vpc/dhcp/router/neighbor/securitygroup)\nremove legacy contents", "createdAt": "2020-08-02T00:04:46Z", "url": "https://github.com/futurewei-cloud/alcor/pull/339", "merged": true, "mergeCommit": {"oid": "d18690847202f4ab79d915c2f991d2a2c29e0b60"}, "closed": true, "closedAt": "2020-08-05T06:33:56Z", "author": {"login": "er1cthe0ne"}, "timelineItems": {"totalCount": 72, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcncq0_gH2gAyNDYxNTM2Mjc1OjYwNjhlNzI1NzIzZDQ2ZjVlMDlkOWFmY2I3MzlmMGQxYTkyMzJkNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8EC7AgFqTQ2MTM0MTk4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6068e725723d46f5e09d9afcb739f0d1a9232d6f", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6068e725723d46f5e09d9afcb739f0d1a9232d6f", "committedDate": "2020-06-02T22:33:15Z", "message": "added skeleton routing design"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "680ee351287f2650fa02473c306f47067bb38e1a", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/680ee351287f2650fa02473c306f47067bb38e1a", "committedDate": "2020-06-03T00:39:21Z", "message": "update per team discussions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25637f459ca428923986c1d36fb09325d07fc42a", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/25637f459ca428923986c1d36fb09325d07fc42a", "committedDate": "2020-06-10T00:04:54Z", "message": "added packek flow info without DVR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b842f7e432655cdba79afd31b48cb7df9d9a204", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9b842f7e432655cdba79afd31b48cb7df9d9a204", "committedDate": "2020-06-11T21:48:28Z", "message": "added DVR packet flows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a01f85dd41e153bc63c76905a771731398a3c646", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a01f85dd41e153bc63c76905a771731398a3c646", "committedDate": "2020-06-13T00:38:27Z", "message": "updated DVR case 1 with openflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30f2de06dcc9d64e73122f3e70e1cc0f394784e2", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/30f2de06dcc9d64e73122f3e70e1cc0f394784e2", "committedDate": "2020-06-14T05:10:32Z", "message": "added more text on requirements, DVR details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c3c538f7516b5a79f5085db84da7104020fd367", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/7c3c538f7516b5a79f5085db84da7104020fd367", "committedDate": "2020-06-14T16:29:36Z", "message": "update based on feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53f52c15757f51ea8a0cfddd4cc9a2dd735902eb", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/53f52c15757f51ea8a0cfddd4cc9a2dd735902eb", "committedDate": "2020-06-16T00:36:24Z", "message": "added virtual router session"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0710ae7320254f68b40fbbfa544fd5dd8ccecf4", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b0710ae7320254f68b40fbbfa544fd5dd8ccecf4", "committedDate": "2020-06-16T06:51:37Z", "message": "add figures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3682aa5b2424bb9e6f86c2003b0365d5bbf3c0e", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f3682aa5b2424bb9e6f86c2003b0365d5bbf3c0e", "committedDate": "2020-06-16T06:51:57Z", "message": "Merge branch 'design/routing' of https://github.com/er1cthe0ne/alcor into design/routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f0a0d1239a629c7fc25ae534abb4c3f5b5a86b7", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6f0a0d1239a629c7fc25ae534abb4c3f5b5a86b7", "committedDate": "2020-06-16T16:36:44Z", "message": "commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e0384fea77af28f86b88b3815d852bb17827473", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2e0384fea77af28f86b88b3815d852bb17827473", "committedDate": "2020-06-16T16:53:30Z", "message": "added cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecae2d5533bd4f4cf368ee34bcecd3bf68270b25", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ecae2d5533bd4f4cf368ee34bcecd3bf68270b25", "committedDate": "2020-06-16T18:51:52Z", "message": "change example-configuration.jpg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9a83431d0ae389e5b43919d9adf1c0038a1eb2e", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/d9a83431d0ae389e5b43919d9adf1c0038a1eb2e", "committedDate": "2020-06-16T18:51:57Z", "message": "Merge branch 'design/routing' of https://github.com/er1cthe0ne/alcor into design/routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8cb2a9a9b5d2b11ad2348ed5bf439be03631d16", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b8cb2a9a9b5d2b11ad2348ed5bf439be03631d16", "committedDate": "2020-06-16T18:59:15Z", "message": "modify example-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7665f3d21d50ce38316256f88ebc43dfa6350d6", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f7665f3d21d50ce38316256f88ebc43dfa6350d6", "committedDate": "2020-06-17T00:06:22Z", "message": "updated cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60d4517554191f3834541c754b11810ac4f3e747", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/60d4517554191f3834541c754b11810ac4f3e747", "committedDate": "2020-06-17T00:08:39Z", "message": "modify example configuration figure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8107089277f08e9a8751a816b763670ee32d6b8f", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/8107089277f08e9a8751a816b763670ee32d6b8f", "committedDate": "2020-06-17T05:55:09Z", "message": "add Alcor DVR design text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfb6b600d4c1cac85f9d3164f7c8d11671d495ed", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/bfb6b600d4c1cac85f9d3164f7c8d11671d495ed", "committedDate": "2020-06-17T06:01:43Z", "message": "Merge branch 'design/routing' of https://github.com/er1cthe0ne/alcor into design/routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "defbdb557133c4ed58a9a33cf8354fc002658515", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/defbdb557133c4ed58a9a33cf8354fc002658515", "committedDate": "2020-06-17T20:55:15Z", "message": "modify example architecture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58d9b32e1b70f885b0336c9cea56db5da996674d", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/58d9b32e1b70f885b0336c9cea56db5da996674d", "committedDate": "2020-06-18T05:22:08Z", "message": "added prototype openflow rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "747149439bee4dbacf79acc66a9e826580eaca9a", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/747149439bee4dbacf79acc66a9e826580eaca9a", "committedDate": "2020-06-19T21:09:40Z", "message": "added the generated cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a9e8942061b6488fbe64232324a223951824462", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/7a9e8942061b6488fbe64232324a223951824462", "committedDate": "2020-06-19T22:11:59Z", "message": "clean up OVS image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94469717f661abb3ca249aede77fafb947a73cdc", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/94469717f661abb3ca249aede77fafb947a73cdc", "committedDate": "2020-06-23T00:31:05Z", "message": "added MAC_HOST1_DVR info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f5fb602a6bf7b7286395200d0358eeb249b2c5", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/e1f5fb602a6bf7b7286395200d0358eeb249b2c5", "committedDate": "2020-07-08T17:00:34Z", "message": "update schema to support L3 routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99ab18afd47b83b219b2e43b0b026e888bc89994", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/99ab18afd47b83b219b2e43b0b026e888bc89994", "committedDate": "2020-07-08T18:42:01Z", "message": "remove the breaking change for tunnel_id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6019493a3c79e4881e8958993f5424aecdcaf37c", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6019493a3c79e4881e8958993f5424aecdcaf37c", "committedDate": "2020-07-09T22:20:47Z", "message": "added router flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee228a7c3877f3e74dcb562cdd777f5912e1bfdf", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ee228a7c3877f3e74dcb562cdd777f5912e1bfdf", "committedDate": "2020-07-09T22:57:51Z", "message": "fix neighbor.proto build error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a41c6be74266739d32dea3518aacc50f8769228", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/3a41c6be74266739d32dea3518aacc50f8769228", "committedDate": "2020-07-10T19:02:09Z", "message": "update schema and add router_workflow.png"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1dbb822e8d285ff18a454d5771ca9a4b6b29b33", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a1dbb822e8d285ff18a454d5771ca9a4b6b29b33", "committedDate": "2020-07-11T00:33:47Z", "message": "update based on PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03bcc84fe89343b1af4aec1799200891f9038918", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/03bcc84fe89343b1af4aec1799200891f9038918", "committedDate": "2020-07-11T01:14:09Z", "message": "revert the breaking change to DPM on port config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "167f6657dd7470919af8ad9791e7c0e50f7b9b80", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/167f6657dd7470919af8ad9791e7c0e50f7b9b80", "committedDate": "2020-07-11T05:23:33Z", "message": "added skeleton routing design"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18ddbd4d08e08e63f77c80ac003c42ae7116c3c5", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/18ddbd4d08e08e63f77c80ac003c42ae7116c3c5", "committedDate": "2020-07-11T05:23:33Z", "message": "update per team discussions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d4ab344bbaadaea5e5644f77a97e7dd74e2f0a6", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9d4ab344bbaadaea5e5644f77a97e7dd74e2f0a6", "committedDate": "2020-07-11T05:23:33Z", "message": "added packek flow info without DVR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3ab2b4b11a6495f7a60feb820b588f9ee9f2bc8", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/d3ab2b4b11a6495f7a60feb820b588f9ee9f2bc8", "committedDate": "2020-07-11T05:23:33Z", "message": "added DVR packet flows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46abf4d819e4f68374a6301576444ce1ad6e6c72", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/46abf4d819e4f68374a6301576444ce1ad6e6c72", "committedDate": "2020-07-11T05:23:33Z", "message": "updated DVR case 1 with openflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aeebdd5ccf045ca6e53ba82e955711133f4f89c", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/6aeebdd5ccf045ca6e53ba82e955711133f4f89c", "committedDate": "2020-07-11T05:23:33Z", "message": "added more text on requirements, DVR details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f28a3dbd5603941242d4a418dc51f449f24d5620", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f28a3dbd5603941242d4a418dc51f449f24d5620", "committedDate": "2020-07-11T05:23:33Z", "message": "update based on feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "071cf181b145d0f90d6a7138750c9e45946db1c1", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/071cf181b145d0f90d6a7138750c9e45946db1c1", "committedDate": "2020-07-11T05:23:33Z", "message": "add figures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cbf04c4aa20de1107d2854bf36e621d24ba3fb4", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9cbf04c4aa20de1107d2854bf36e621d24ba3fb4", "committedDate": "2020-07-11T05:23:33Z", "message": "added virtual router session"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26b0733d9ccd18cefac61523310e6852371bc9a0", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/26b0733d9ccd18cefac61523310e6852371bc9a0", "committedDate": "2020-07-11T05:23:33Z", "message": "commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa5d9dfbd557d73a24972792f81cd6d38f7a11db", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/fa5d9dfbd557d73a24972792f81cd6d38f7a11db", "committedDate": "2020-07-11T05:23:34Z", "message": "change example-configuration.jpg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8f8663a3e5b31c3e133bec4ecc76ffd375f9678", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/e8f8663a3e5b31c3e133bec4ecc76ffd375f9678", "committedDate": "2020-07-11T05:23:34Z", "message": "added cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fdb67b5a863919c95db4f5ae1023c6e343cf1e2", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/9fdb67b5a863919c95db4f5ae1023c6e343cf1e2", "committedDate": "2020-07-11T05:23:34Z", "message": "modify example-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b66b3c30c96effb662dfb028df10e1f921c6d4ad", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b66b3c30c96effb662dfb028df10e1f921c6d4ad", "committedDate": "2020-07-11T05:23:34Z", "message": "updated cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac8389d90a1e8c0612138d95aa345e99e7b72816", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ac8389d90a1e8c0612138d95aa345e99e7b72816", "committedDate": "2020-07-11T05:23:34Z", "message": "add Alcor DVR design text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8e1d0536839f0972831755c2eb3aaaf96218deb", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/f8e1d0536839f0972831755c2eb3aaaf96218deb", "committedDate": "2020-07-11T05:23:34Z", "message": "modify example configuration figure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dcfc2ee334da4349f781dd34d2aa295326fe163", "author": {"user": {"login": "cj-chung", "name": "James C.J Chung"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2dcfc2ee334da4349f781dd34d2aa295326fe163", "committedDate": "2020-07-11T05:23:34Z", "message": "modify example architecture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac8efbe16e389f420e492090361ec3a7e1cb5ce2", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ac8efbe16e389f420e492090361ec3a7e1cb5ce2", "committedDate": "2020-07-11T05:23:34Z", "message": "added prototype openflow rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "966d334129246312ec835e5edf3b27d10edf9e83", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/966d334129246312ec835e5edf3b27d10edf9e83", "committedDate": "2020-07-11T05:23:34Z", "message": "added the generated cross subnet DVR flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08dc10ee48a8f61aada3dcf3254ce4a5ccda939e", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/08dc10ee48a8f61aada3dcf3254ce4a5ccda939e", "committedDate": "2020-07-11T05:23:34Z", "message": "clean up OVS image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cfdd3d8bd63f37923abec5ca37a61cf2510984e", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/1cfdd3d8bd63f37923abec5ca37a61cf2510984e", "committedDate": "2020-07-11T05:23:34Z", "message": "added MAC_HOST1_DVR info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb728744d8b7feea9f209efc6ebd0a0f6a0f7085", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/fb728744d8b7feea9f209efc6ebd0a0f6a0f7085", "committedDate": "2020-07-11T05:23:34Z", "message": "update schema to support L3 routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10eca45cef4613d06615fad4082d5b3cc4a7b631", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/10eca45cef4613d06615fad4082d5b3cc4a7b631", "committedDate": "2020-07-11T05:23:34Z", "message": "remove the breaking change for tunnel_id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a352267f872a0a2327517beec9c57ca3c02769ab", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a352267f872a0a2327517beec9c57ca3c02769ab", "committedDate": "2020-07-11T05:23:34Z", "message": "added router flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fee74f6d0b0fa901f803e088f39d0c6fc9bf254", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/0fee74f6d0b0fa901f803e088f39d0c6fc9bf254", "committedDate": "2020-07-11T05:23:34Z", "message": "fix neighbor.proto build error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eee8abe2efd647133505ba63ec0a4361fb1990a1", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/eee8abe2efd647133505ba63ec0a4361fb1990a1", "committedDate": "2020-07-11T05:23:34Z", "message": "update schema and add router_workflow.png"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "790606e3974d5256fd630a7d0cc571e2997e6245", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/790606e3974d5256fd630a7d0cc571e2997e6245", "committedDate": "2020-07-11T05:23:34Z", "message": "update based on PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd7068e63fe09d956226ae2989420419ab72379", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/3dd7068e63fe09d956226ae2989420419ab72379", "committedDate": "2020-07-11T05:23:34Z", "message": "revert the breaking change to DPM on port config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e209ece24440bf9caed3e05d847486e8365ddb1", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/2e209ece24440bf9caed3e05d847486e8365ddb1", "committedDate": "2020-07-11T05:23:34Z", "message": "added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65f6810417be207be6003b87a4d40bdb6ca5dcc1", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/65f6810417be207be6003b87a4d40bdb6ca5dcc1", "committedDate": "2020-07-11T05:24:40Z", "message": "Merge branch 'design/routing' of https://github.com/er1cthe0ne/alcor into design/routing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "661b70ca0a3d53e9b80bf5851d482f43800a1f6f", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/661b70ca0a3d53e9b80bf5851d482f43800a1f6f", "committedDate": "2020-07-11T17:31:56Z", "message": "Merge pull request #1 from er1cthe0ne/design/routing\n\nmoving from er1cthe0ne branch design/routing to er1cthe0ne master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b538cd7be03c69b9737fd8cdf4afbdfae4a3f480", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/b538cd7be03c69b9737fd8cdf4afbdfae4a3f480", "committedDate": "2020-07-14T22:12:47Z", "message": "adding new NEIGHBOR and PORT resource type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a053168610b7d0e048452257dd2dc10e59dc9cc6", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/a053168610b7d0e048452257dd2dc10e59dc9cc6", "committedDate": "2020-07-15T18:28:37Z", "message": "host_DVR_mac_address -> host_dvr_mac_address"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a2613fb2de17c03829cd3897536df1bac63a544", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/8a2613fb2de17c03829cd3897536df1bac63a544", "committedDate": "2020-07-17T18:11:10Z", "message": "added neighbor_host_dvr_mac to neighbor.proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0069f1e095a1774bfc2ca838d86d5db756b687a", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/c0069f1e095a1774bfc2ca838d86d5db756b687a", "committedDate": "2020-07-20T21:21:10Z", "message": "simplying the schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80783b0eb3f874784095408ee75c9b54c2a4f057", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/80783b0eb3f874784095408ee75c9b54c2a4f057", "committedDate": "2020-08-01T23:51:31Z", "message": "added request id field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/d91286f76e60c55157ee848ab0a5ff0ffb8f80a0", "committedDate": "2020-08-01T23:53:10Z", "message": "Merge branch 'master' of https://github.com/futurewei-cloud/alcor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjM3MDkw", "url": "https://github.com/futurewei-cloud/alcor/pull/339#pullrequestreview-459637090", "createdAt": "2020-08-02T10:14:19Z", "commit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQxMDoxNDoyMFrOG6j68g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQxMDozODo1NFrOG6kDPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA1OTEyMg==", "bodyText": "Resource type is a type for customer-defined resources. Could you elaborate why neighbor is a type?", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464059122", "createdAt": "2020-08-02T10:14:20Z", "author": {"login": "xieus"}, "path": "schema/proto3/common.proto", "diffHunk": "@@ -25,8 +25,10 @@ enum ResourceType {\n     VPC = 0;\n     SUBNET = 1;\n     PORT = 2;\n-    SECURITYGROUP = 3;\n-    DHCP = 4;\n+    NEIGHBOR = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA1OTM1Mw==", "bodyText": "If we need to merge the dhcp change earlier, we could create a separate PR for that.", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464059353", "createdAt": "2020-08-02T10:16:53Z", "author": {"login": "xieus"}, "path": "schema/proto3/dhcp.proto", "diffHunk": "@@ -27,10 +27,12 @@ message DHCPConfiguration {\n     uint32 format_version = 1;\n     uint32 revision_number = 2;\n \n-    string mac_address = 3;\n-    string ipv4_address = 4;\n-    string ipv6_address = 5;\n-    string port_host_name = 6; // for local DNS response\n+    string request_id = 3;\n+    string subnet_id = 4;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA1OTU1MQ==", "bodyText": "Will replacing security_group_states with neighbor_states become a breaking change for protobuf message? I am a bit surprised that this change doesn't break our CI :-)", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464059551", "createdAt": "2020-08-02T10:19:23Z", "author": {"login": "xieus"}, "path": "schema/proto3/goalstate.proto", "diffHunk": "@@ -23,15 +23,19 @@ option java_package = \"com.futurewei.alcor.schema\";\n import \"vpc.proto\";\n import \"subnet.proto\";\n import \"port.proto\";\n+import \"neighbor.proto\";\n import \"securitygroup.proto\";\n import \"dhcp.proto\";\n+import \"router.proto\";\n \n message GoalState {\n     uint32 format_version = 1;\n \n     repeated VpcState vpc_states = 2;\n     repeated SubnetState subnet_states = 3;\n     repeated PortState port_states = 4;\n-    repeated SecurityGroupState security_group_states = 5;\n-    repeated DHCPState dhcp_states = 6;\n+    repeated NeighborState neighbor_states = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA1OTc0OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464059749", "createdAt": "2020-08-02T10:21:26Z", "author": {"login": "xieus"}, "path": ".gitignore", "diffHunk": "@@ -79,3 +79,6 @@ lib/target/\n \n # Ignite\n ignite/\n+\n+# mac system file\n+.DS_Store", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA2MDI1MQ==", "bodyText": "Should we move network_type from port directly to network, instead of subnet? Do you plan to support two subnets in the same network with different values of network_type?", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464060251", "createdAt": "2020-08-02T10:27:21Z", "author": {"login": "xieus"}, "path": "schema/proto3/subnet.proto", "diffHunk": "@@ -27,36 +27,27 @@ message SubnetConfiguration {\n     uint32 format_version = 1;\n     uint32 revision_number = 2;\n \n-    string id = 3;\n-    string project_id = 4;\n-    string vpc_id = 5;\n-    string name = 6;\n-    string cidr = 7;\n-    int64 tunnel_id = 8;\n+    string request_id = 3;\n+    string id = 4;\n+    NetworkType network_type = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA2MTI0NQ==", "bodyText": "Move neighbor_host_dvr_mac field to right after host_ip_address.", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r464061245", "createdAt": "2020-08-02T10:38:54Z", "author": {"login": "xieus"}, "path": "schema/proto3/neighbor.proto", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+\n+syntax = \"proto3\";\n+\n+package alcor.schema;\n+\n+option java_package = \"com.futurewei.alcor.schema\";\n+option java_outer_classname = \"Neighbor\";\n+\n+import \"common.proto\";\n+\n+enum NeighborType { \n+    L2 = 0; // the default type\n+    L3 = 1;\n+}\n+\n+message NeighborConfiguration {\n+    uint32 format_version = 1;\n+    uint32 revision_number = 2;\n+\n+    string request_id = 3;\n+    string id = 4;\n+    NeighborType neighbor_type = 5; // L2 (default) or L3\n+    string project_id = 6;\n+    string vpc_id = 7;\n+    string name = 8;\n+    string mac_address = 9;\n+    string host_ip_address = 10;\n+\n+    message FixedIp {\n+        string subnet_id = 1;\n+        string ip_address = 2;\n+    }\n+\n+    message AllowAddressPair {\n+        string ip_address = 1;\n+        string mac_address = 2;\n+    }\n+\n+    string neighbor_host_dvr_mac = 11;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d91286f76e60c55157ee848ab0a5ff0ffb8f80a0"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241", "author": {"user": {"login": "er1cthe0ne", "name": "Eric Li"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/ce29a09a93f1bf2f411224c09b2faa7b56dc8241", "committedDate": "2020-08-03T21:19:40Z", "message": "move neighbor_host_dvr_mac up per feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzc0ODUy", "url": "https://github.com/futurewei-cloud/alcor/pull/339#pullrequestreview-461374852", "createdAt": "2020-08-05T06:31:00Z", "commit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzQxOTgw", "url": "https://github.com/futurewei-cloud/alcor/pull/339#pullrequestreview-461341980", "createdAt": "2020-08-05T05:04:29Z", "commit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNTowNDoyOVrOG76Ubw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMzozODoyMlrOG8eL1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3NDY3MQ==", "bodyText": "I did not find Gateway definition in subnet proto", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r465474671", "createdAt": "2020-08-05T05:04:29Z", "author": {"login": "haboy52581"}, "path": "schema/proto3/subnet.proto", "diffHunk": "@@ -27,36 +27,27 @@ message SubnetConfiguration {\n     uint32 format_version = 1;\n     uint32 revision_number = 2;\n \n-    string id = 3;\n-    string project_id = 4;\n-    string vpc_id = 5;\n-    string name = 6;\n-    string cidr = 7;\n-    int64 tunnel_id = 8;\n+    string request_id = 3;\n+    string id = 4;\n+    NetworkType network_type = 5;\n+    string project_id = 6;\n+    string vpc_id = 7;\n+    string name = 8;\n+    string cidr = 9;\n+\n+    // TODO: change to uint32 but that would require change in DPM\n+    uint64 tunnel_id = 10;\n \n     message Gateway {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3NTI5OA==", "bodyText": "Also I have updated DPM's input about subnet Internal Entity part here, let me know if you have any questions:\nhttps://github.com/haboy52581/alcor/blob/master/docs/modules/ROOT/pages/infra_services/data_plane_manager.adoc#api-specification", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r465475298", "createdAt": "2020-08-05T05:06:44Z", "author": {"login": "haboy52581"}, "path": "schema/proto3/subnet.proto", "diffHunk": "@@ -27,36 +27,27 @@ message SubnetConfiguration {\n     uint32 format_version = 1;\n     uint32 revision_number = 2;\n \n-    string id = 3;\n-    string project_id = 4;\n-    string vpc_id = 5;\n-    string name = 6;\n-    string cidr = 7;\n-    int64 tunnel_id = 8;\n+    string request_id = 3;\n+    string id = 4;\n+    NetworkType network_type = 5;\n+    string project_id = 6;\n+    string vpc_id = 7;\n+    string name = 8;\n+    string cidr = 9;\n+\n+    // TODO: change to uint32 but that would require change in DPM\n+    uint64 tunnel_id = 10;\n \n     message Gateway {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3NDY3MQ=="}, "originalCommit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA2MDAxNw==", "bodyText": "should we put the neighbor to port as one field which is more naturally?", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r466060017", "createdAt": "2020-08-05T23:30:45Z", "author": {"login": "haboy52581"}, "path": "schema/proto3/neighbor.proto", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+\n+syntax = \"proto3\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA2MjA0Mg==", "bodyText": "do we need one called Id?", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r466062042", "createdAt": "2020-08-05T23:37:35Z", "author": {"login": "haboy52581"}, "path": "schema/proto3/dhcp.proto", "diffHunk": "@@ -27,10 +27,12 @@ message DHCPConfiguration {\n     uint32 format_version = 1;\n     uint32 revision_number = 2;\n \n-    string mac_address = 3;\n-    string ipv4_address = 4;\n-    string ipv6_address = 5;\n-    string port_host_name = 6; // for local DNS response\n+    string request_id = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA2MjI5Mw==", "bodyText": "if we put neighbor into port as field, then we do NOT need NEIGHBORXXX type and logic to handle that", "url": "https://github.com/futurewei-cloud/alcor/pull/339#discussion_r466062293", "createdAt": "2020-08-05T23:38:22Z", "author": {"login": "haboy52581"}, "path": "schema/proto3/common.proto", "diffHunk": "@@ -35,14 +37,9 @@ enum OperationType {\n     GET = 2;\n     DELETE = 3;\n     INFO = 4;\n-    NEIGHBOR_CREATE_UPDATE = 5;\n-    NEIGHBOR_GET = 6;\n-    NEIGHBOR_DELETE = 7;\n-    CREATE_UPDATE_GATEWAY = 8;\n-\n-    FINALIZE = 9;              // For Mizar only\n-    CREATE_UPDATE_SWITCH = 10; // For Mizar only\n-    CREATE_UPDATE_ROUTER = 11; // For Mizar only\n+    NEIGHBOR_CREATE_UPDATE = 5; // To be removed after using NeighborState", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce29a09a93f1bf2f411224c09b2faa7b56dc8241"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2267, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}