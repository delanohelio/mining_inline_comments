{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczMjg1MzM0", "number": 107, "title": "Controller logging framework and improvement for K8s env", "bodyText": "This PR adds the controller logging framework which supports\n\nvarious logging types (file or console in this PR)\nvarious logging levels (Info, Debug, warning, severe etc.)\nconfigurable logging file location\nconfigurable logging properties in the property file\n\nInitial PR: #90 for reference.", "createdAt": "2020-02-10T18:26:24Z", "url": "https://github.com/futurewei-cloud/alcor/pull/107", "merged": true, "mergeCommit": {"oid": "f31135604494408191518374dcb09e337d02746b"}, "closed": true, "closedAt": "2020-02-11T19:49:18Z", "author": {"login": "kimeunju108"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9rpikAH2gAyMzczMjg1MzM0OjYyZGNlMzc3OTA4NzlhNjQ4MTliZjdjZDExOWYyOTc5MzZmNzc4NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDWjTyAFqTM1NjkwNzEzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "62dce37790879a64819bf7cd119f297936f77852", "author": {"user": {"login": "kimeunju108", "name": "kimeunju108"}}, "url": "https://github.com/futurewei-cloud/alcor/commit/62dce37790879a64819bf7cd119f297936f77852", "committedDate": "2020-01-25T04:15:36Z", "message": "AlcorControllerApp Log Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44b42590bbbe80dd6d538bc7b4305cf3d4d817c4", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/44b42590bbbe80dd6d538bc7b4305cf3d4d817c4", "committedDate": "2020-01-31T23:27:22Z", "message": "Update: ConsoleLog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26827e01049558f443f5d12dd71b910eb284523a", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/26827e01049558f443f5d12dd71b910eb284523a", "committedDate": "2020-02-04T05:49:58Z", "message": "Logging: Log format implemented"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02236a5d6ac00a1fdaf1e73f85a77a252742e5f3", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/02236a5d6ac00a1fdaf1e73f85a77a252742e5f3", "committedDate": "2020-02-05T21:43:30Z", "message": "Logging: Implemented - Log configuration by application.properties file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7032a3a2e3e3845d5482544e9fec4ad115012e76", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/7032a3a2e3e3845d5482544e9fec4ad115012e76", "committedDate": "2020-02-06T04:54:31Z", "message": "feature/logging  - implement FileLog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5cd32abdd601576686dfeb5c07f7dd2fe8fb5b1", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/e5cd32abdd601576686dfeb5c07f7dd2fe8fb5b1", "committedDate": "2020-02-06T20:03:05Z", "message": "feature/logging  - converted Syste.out.println(message) --> alcor.Log(message)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "708271cb285398b7774a4dceb0723578b91f9a64", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/708271cb285398b7774a4dceb0723578b91f9a64", "committedDate": "2020-02-08T04:48:16Z", "message": "feature/logging: modified logging configuration using property files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13bb06715b99b59167c3f121d2acfaf24bbd90bb", "author": {"user": null}, "url": "https://github.com/futurewei-cloud/alcor/commit/13bb06715b99b59167c3f121d2acfaf24bbd90bb", "committedDate": "2020-02-10T17:26:27Z", "message": "feature:logging revert onebox ->"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTA3MTM1", "url": "https://github.com/futurewei-cloud/alcor/pull/107#pullrequestreview-356907135", "createdAt": "2020-02-11T18:51:56Z", "commit": {"oid": "13bb06715b99b59167c3f121d2acfaf24bbd90bb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxODo1MTo1N1rOFoU6fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxODo1MTo1N1rOFoU6fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzgzMDAxNQ==", "bodyText": "Please confirm this method is thread safe.", "url": "https://github.com/futurewei-cloud/alcor/pull/107#discussion_r377830015", "createdAt": "2020-02-11T18:51:57Z", "author": {"login": "xieus"}, "path": "src/com/futurewei/alcor/controller/logging/LoggerFactory.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+Copyright 2019 The Alcor Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+        you may not use this file except in compliance with the License.\n+        You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+        Unless required by applicable law or agreed to in writing, software\n+        distributed under the License is distributed on an \"AS IS\" BASIS,\n+        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+        See the License for the specific language governing permissions and\n+        limitations under the License.\n+*/\n+// sudo docker stop $(sudo docker ps -a -q)\n+// sudo docker rm $(sudo docker ps -a -q --filter \"status=exited\")\n+// sudo docker rmi $(sudo docker images -q)\n+// sudo docker exec -it alcor-controller bash\n+\n+package com.futurewei.alcor.controller.logging;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.logging.Level;\n+\n+@Component\n+public class LoggerFactory {\n+    public static Logger logger = new Logger();\n+    public static String loggingLevel;\n+    public static String loggingFilePath;\n+    public static String loggingType;\n+    private static boolean bLogConfig = false;\n+\n+    public LoggerFactory() {\n+    }\n+\n+    public static Logger getLogger() {\n+        try {\n+            if (bLogConfig == false) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13bb06715b99b59167c3f121d2acfaf24bbd90bb"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2350, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}