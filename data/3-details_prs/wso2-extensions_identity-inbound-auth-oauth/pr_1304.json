{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3ODQ5MDk0", "number": 1304, "title": "Add system flag to allow the weak keys to be used for the signing.", "bodyText": "Purpose\n\nFix wso2/product-is#7340\n\nBy adding the 'allow_weak_rsa_signer_key' system flag, the weak keys (key length less than 2048) can be used for the signing.", "createdAt": "2020-01-28T06:34:16Z", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304", "merged": true, "mergeCommit": {"oid": "4634329e9269288daf5f43d626f256ef98123467"}, "closed": true, "closedAt": "2020-01-28T09:15:45Z", "author": {"login": "senthalan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-rYKygH2gAyMzY3ODQ5MDk0OjBkYjIzYTVmMWZkNzE1M2U5Y2FkYWQ3ODNjNGE3ZThiY2RjOWExMzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-rjStAH2gAyMzY3ODQ5MDk0OjE3MmFmNjc1MzIwYzA3NWUyMjY5OWQyOTgyNDk4MTI3MGNjYTQ1ZGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0db23a5f1fd7153e9cadad783c4a7e8bcdc9a137", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/0db23a5f1fd7153e9cadad783c4a7e8bcdc9a137", "committedDate": "2020-01-28T06:30:33Z", "message": "Add system flag to allow the weak keys to be used for the signing."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTU0MzM2", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304#pullrequestreview-349154336", "createdAt": "2020-01-28T06:37:15Z", "commit": {"oid": "0db23a5f1fd7153e9cadad783c4a7e8bcdc9a137"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNjozNzoxNlrOFiacLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNjozNzoxNlrOFiacLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyOTEwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \" will be used for the signing.\");\n          \n          \n            \n                                \" will be allowed for the signing.\");", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304#discussion_r371629102", "createdAt": "2020-01-28T06:37:16Z", "author": {"login": "mefarazath"}, "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/util/OAuth2Util.java", "diffHunk": "@@ -2213,6 +2215,22 @@ private static JWT encryptWithPublicKey(Key publicKey, JWTClaimsSet jwtClaimsSet\n         }\n     }\n \n+    /**\n+     * Create JWSSigner using the server level configurations and return.\n+     *\n+     * @param privateKey RSA Private key.\n+     * @return  JWSSigner\n+     */\n+    public static JWSSigner createJWSSigner(RSAPrivateKey privateKey) {\n+\n+        boolean allowWeakKey = Boolean.parseBoolean(System.getProperty(ALLOW_WEAK_RSA_SIGNER_KEY));\n+        if (allowWeakKey && log.isDebugEnabled()) {\n+            log.debug(\"System flag 'allow_weak_rsa_signer_key' is  enabled. So weak keys (key length less than 2048) \" +\n+                    \" will be used for the signing.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0db23a5f1fd7153e9cadad783c4a7e8bcdc9a137"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTU0NjAw", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304#pullrequestreview-349154600", "createdAt": "2020-01-28T06:37:28Z", "commit": {"oid": "0db23a5f1fd7153e9cadad783c4a7e8bcdc9a137"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f381e734a4a08409fdc936eac59e48cfcda7d36", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/2f381e734a4a08409fdc936eac59e48cfcda7d36", "committedDate": "2020-01-28T06:39:09Z", "message": "Update debug log\n\nCo-Authored-By: Farasath Ahamed <mefarazath@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTU1NzMx", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304#pullrequestreview-349155731", "createdAt": "2020-01-28T06:41:26Z", "commit": {"oid": "2f381e734a4a08409fdc936eac59e48cfcda7d36"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNjo0MToyNlrOFiagpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNjo0MToyNlrOFiagpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYzMDI0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \" will be allowed for the signing.\");\n          \n          \n            \n                                \" will be allowed for signing.\");", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1304#discussion_r371630245", "createdAt": "2020-01-28T06:41:26Z", "author": {"login": "mefarazath"}, "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/util/OAuth2Util.java", "diffHunk": "@@ -2226,7 +2226,7 @@ public static JWSSigner createJWSSigner(RSAPrivateKey privateKey) {\n         boolean allowWeakKey = Boolean.parseBoolean(System.getProperty(ALLOW_WEAK_RSA_SIGNER_KEY));\n         if (allowWeakKey && log.isDebugEnabled()) {\n             log.debug(\"System flag 'allow_weak_rsa_signer_key' is  enabled. So weak keys (key length less than 2048) \" +\n-                    \" will be used for the signing.\");\n+                    \" will be allowed for the signing.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f381e734a4a08409fdc936eac59e48cfcda7d36"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "172af675320c075e22699d29824981270cca45df", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/172af675320c075e22699d29824981270cca45df", "committedDate": "2020-01-28T06:42:42Z", "message": "Update debug log"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3196, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}