{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NDM5NzU0", "number": 1378, "title": "Allow users with application management view permissions to view the OAuth app using DCRM", "bodyText": "Description\nThis fix will allow users with application management view permissions to view the OAuth app using DCRM. To enable this add the following configuration to \"deployment.toml\" file in \"<IS_HOME>/repository/conf\" directory.\n[oauth.dcrm]\napplication_role_permission_required_to_view = false\n\nRelated PR: wso2/carbon-identity-framework#2933\nResolves: wso2/product-is#8213", "createdAt": "2020-05-13T15:26:35Z", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378", "merged": true, "mergeCommit": {"oid": "99b4a828e37a753424fb8a457a9b3d7929ee5244"}, "closed": true, "closedAt": "2020-05-14T05:57:03Z", "author": {"login": "GANGANI"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgxKgcgH2gAyNDE3NDM5NzU0OjFkNGZiMDAwMjQzNTgyODAzNDkxN2YwMDliZDEyZjU4ODFlZWJjYjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNnHU2gFqTQ5ODQwMTExNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0", "author": {"user": {"login": "GANGANI", "name": "Gangani Chamika"}}, "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/1d4fb0002435828034917f009bd12f5881eebcb0", "committedDate": "2020-05-13T04:28:29Z", "message": "Allow users with application management view permissions to view the OAuth app using DCRM"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDQzOTQ1", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#pullrequestreview-411043945", "createdAt": "2020-05-13T15:29:00Z", "commit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMzYyNjUw", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#pullrequestreview-411362650", "createdAt": "2020-05-13T23:16:00Z", "commit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMzY4MjAw", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#pullrequestreview-482368200", "createdAt": "2020-09-04T05:30:31Z", "commit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwNTozMDozMVrOHNAHaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwNTozMDozMVrOHNAHaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzM5NTQzMw==", "bodyText": "Can't we have this in single line?", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#discussion_r483395433", "createdAt": "2020-09-04T05:30:31Z", "author": {"login": "piraveena"}, "path": "components/org.wso2.carbon.identity.oauth.dcr/src/main/java/org/wso2/carbon/identity/oauth/dcr/util/DCRMUtils.java", "diffHunk": "@@ -40,6 +40,8 @@\n     private static final Log log = LogFactory.getLog(DCRMUtils.class);\n     private static Pattern spNameRegexPattern = null;\n     private static final String SERVICE_PROVIDERS_NAME_REGEX = \"ServiceProviders.SPNameRegex\";\n+    private static final String APPLICATION_ROLE_PERMISSION_REQUIRED =\n+            \"OAuth.DCRM.ApplicationRolePermissionRequiredToView\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDAxMTE0", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#pullrequestreview-498401114", "createdAt": "2020-09-29T12:12:33Z", "commit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMjoxMjozM1rOHZqE4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMjoxMjozM1rOHZqE4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY2NTgyNg==", "bodyText": "return buildResponse(getApplicationById(clientId,DCRMUtils.isApplicationRolePermissionRequired()));", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1378#discussion_r496665826", "createdAt": "2020-09-29T12:12:33Z", "author": {"login": "Rajith90"}, "path": "components/org.wso2.carbon.identity.oauth.dcr/src/main/java/org/wso2/carbon/identity/oauth/dcr/service/DCRMService.java", "diffHunk": "@@ -74,7 +74,8 @@\n      */\n     public Application getApplication(String clientId) throws DCRMException {\n \n-        return buildResponse(getApplicationById(clientId));\n+        boolean isApplicationRolePermissionRequired = DCRMUtils.isApplicationRolePermissionRequired();\n+        return buildResponse(getApplicationById(clientId, isApplicationRolePermissionRequired));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d4fb0002435828034917f009bd12f5881eebcb0"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3280, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}