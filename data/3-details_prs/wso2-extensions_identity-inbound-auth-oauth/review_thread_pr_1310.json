{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNTUzMDE5", "number": 1310, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMToyMzo1MFrODc1LCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMToyMzo1MFrODc1LCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNTU3ODk5OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/device/dao/SQLQueries.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMToyMzo1MVrOFlFfWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNjo1Mjo0N1rOFlJpOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQzMTU3OA==", "bodyText": "AS keyword is not supported in some places in Oracle DB. This seems to be such a place.", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1310#discussion_r374431578", "createdAt": "2020-02-04T01:23:51Z", "author": {"login": "madurangasiriwardena"}, "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/device/dao/SQLQueries.java", "diffHunk": "@@ -46,7 +46,7 @@ private SQLQueries() {\n \n         public static final String GET_CONSUMER_KEY_FOR_DEVICE_CODE = \"SELECT CONSUMER_KEY FROM (SELECT * \" +\n                 \"FROM IDN_OAUTH_CONSUMER_APPS INNER JOIN IDN_OAUTH2_DEVICE_FLOW ON IDN_OAUTH_CONSUMER_APPS.ID = \" +\n-                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) WHERE DEVICE_CODE = ?\";\n+                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) AS CONSUMER_APPS_WITH_DEVICE_FLOW WHERE DEVICE_CODE = ?\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dc1fe75054753271ec565e0934a9bd82c41ad29"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTgwOA==", "bodyText": "Yes, we don't want to put AS keyword in front of derived table CONSUMER_APPS_WITH_DEVICE_FLOW. AS keyword is not a mandatory keyword in SQL queries. it's an optional we can skip because DBs like Oracles doesn't support AS keyword.\n               \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) CONSUMER_APPS_WITH_DEVICE_FLOW WHERE DEVICE_CODE = ?\"; this will be fine\nyou can refer to   GET_IDN_OIDC_SCOPES_CLAIMS query..", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1310#discussion_r374451808", "createdAt": "2020-02-04T02:55:34Z", "author": {"login": "sarubi"}, "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/device/dao/SQLQueries.java", "diffHunk": "@@ -46,7 +46,7 @@ private SQLQueries() {\n \n         public static final String GET_CONSUMER_KEY_FOR_DEVICE_CODE = \"SELECT CONSUMER_KEY FROM (SELECT * \" +\n                 \"FROM IDN_OAUTH_CONSUMER_APPS INNER JOIN IDN_OAUTH2_DEVICE_FLOW ON IDN_OAUTH_CONSUMER_APPS.ID = \" +\n-                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) WHERE DEVICE_CODE = ?\";\n+                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) AS CONSUMER_APPS_WITH_DEVICE_FLOW WHERE DEVICE_CODE = ?\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQzMTU3OA=="}, "originalCommit": {"oid": "4dc1fe75054753271ec565e0934a9bd82c41ad29"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ5OTY0MA==", "bodyText": "@madurangasiriwardena @sarubi Thank guys! You probably saved me from an additional testing round. Please find the needful fix in 5596967.", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1310#discussion_r374499640", "createdAt": "2020-02-04T06:52:47Z", "author": {"login": "tharindu-bandara"}, "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/device/dao/SQLQueries.java", "diffHunk": "@@ -46,7 +46,7 @@ private SQLQueries() {\n \n         public static final String GET_CONSUMER_KEY_FOR_DEVICE_CODE = \"SELECT CONSUMER_KEY FROM (SELECT * \" +\n                 \"FROM IDN_OAUTH_CONSUMER_APPS INNER JOIN IDN_OAUTH2_DEVICE_FLOW ON IDN_OAUTH_CONSUMER_APPS.ID = \" +\n-                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) WHERE DEVICE_CODE = ?\";\n+                \"IDN_OAUTH2_DEVICE_FLOW.CONSUMER_KEY_ID) AS CONSUMER_APPS_WITH_DEVICE_FLOW WHERE DEVICE_CODE = ?\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQzMTU3OA=="}, "originalCommit": {"oid": "4dc1fe75054753271ec565e0934a9bd82c41ad29"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3634, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}