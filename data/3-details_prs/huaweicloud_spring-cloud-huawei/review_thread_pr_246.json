{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5Mzk2NTM5", "number": 246, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTo0MDoyMFrOEZbzYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTo0MDoyMFrOEZbzYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MTA1Mzc5OnYy", "diffSide": "RIGHT", "path": "spring-cloud-huawei-servicecomb-discovery/src/main/java/com/huaweicloud/servicecomb/discovery/discovery/ServiceCombReactiveDiscoveryClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTo0MDoyMFrOHCPgSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTo0MDoyMFrOHCPgSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjExMzIyNQ==", "bodyText": "This implementatioin is too simple. Can use reactictor API to interacte with service center?", "url": "https://github.com/huaweicloud/spring-cloud-huawei/pull/246#discussion_r472113225", "createdAt": "2020-08-18T11:40:20Z", "author": {"login": "liubao68"}, "path": "spring-cloud-huawei-servicecomb-discovery/src/main/java/com/huaweicloud/servicecomb/discovery/discovery/ServiceCombReactiveDiscoveryClient.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package com.huaweicloud.servicecomb.discovery.discovery;\n+\n+import org.springframework.cloud.client.ServiceInstance;\n+import org.springframework.cloud.client.discovery.DiscoveryClient;\n+import org.springframework.cloud.client.discovery.ReactiveDiscoveryClient;\n+import reactor.core.publisher.Flux;\n+import reactor.core.scheduler.Schedulers;\n+\n+/**\n+ * @Author GuoYl123\n+ * @Date 2020/8/18\n+ **/\n+public class ServiceCombReactiveDiscoveryClient implements ReactiveDiscoveryClient {\n+\n+  private DiscoveryClient discoveryClient;\n+\n+  public ServiceCombReactiveDiscoveryClient(DiscoveryClient serviceCombDiscoveryClient) {\n+    this.discoveryClient = serviceCombDiscoveryClient;\n+  }\n+\n+  @Override\n+  public String description() {\n+    return \"this is servicecomb reactive implement\";\n+  }\n+\n+  @Override\n+  public Flux<ServiceInstance> getInstances(String serviceId) {\n+    return Flux.defer(() -> Flux.fromIterable(discoveryClient.getInstances(serviceId)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fdb1d91b18cfa69c585b674e7b8e413aa7dcc9be"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1941, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}