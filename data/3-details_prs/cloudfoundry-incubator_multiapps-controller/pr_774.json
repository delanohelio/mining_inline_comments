{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MDg0Mzc0", "number": 774, "title": "ExecutionListeners for start and end of bg-deploy", "bodyText": "Add ExecutionListeners for the start and end of testing phase of\nblue-green deploy. Refactor ProcessLoggerProvider to create non-existing\nfiles. JIRA: LMCROSSITXSADEPLOY-1870", "createdAt": "2020-02-24T16:28:09Z", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/774", "merged": true, "mergeCommit": {"oid": "320e3cb79a0c0d8623986c58c49f53464e519c83"}, "closed": true, "closedAt": "2020-02-25T15:51:06Z", "author": {"login": "radoslav-d"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHgPfXABqjMwNjYwOTU4NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcH0KnwgFqTM2NDI1MjMwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "20aad4bff33d4b35febb5574f4941ab0bdb062aa", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/20aad4bff33d4b35febb5574f4941ab0bdb062aa", "committedDate": "2020-02-24T16:28:58Z", "message": "Merge branch 'master' into add-logging-for-testing-phase"}, "afterCommit": {"oid": "50e8e74ce6730f59f11108984c6318c1694a0257", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/50e8e74ce6730f59f11108984c6318c1694a0257", "committedDate": "2020-02-24T16:37:11Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. Refactor ProcessLoggerProvider to create non-existing\nfiles. JIRA: LMCROSSITXSADEPLOY-1870"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzOTczMDUx", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/774#pullrequestreview-363973051", "createdAt": "2020-02-25T09:10:54Z", "commit": {"oid": "50e8e74ce6730f59f11108984c6318c1694a0257"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOToxMDo1NVrOFt94DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwOToxMTo1M1rOFt96Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc0NDAxMw==", "bodyText": "this is just a method wrapping another method with no additional value added", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/774#discussion_r383744013", "createdAt": "2020-02-25T09:10:55Z", "author": {"login": "ikasarov"}, "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/listeners/AbstractProcessExecutionListener.java", "diffHunk": "@@ -78,7 +69,7 @@ protected void finalizeLogs(DelegateExecution context) {\n     }\n \n     private String getCorrelationId(DelegateExecution context) {\n-        return (String) context.getVariable(com.sap.cloud.lm.sl.cf.persistence.Constants.CORRELATION_ID);\n+        return StepsUtil.getCorrelationId(context);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e8e74ce6730f59f11108984c6318c1694a0257"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzc0NDU0Mw==", "bodyText": "and you're calling it the old way here as well", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/774#discussion_r383744543", "createdAt": "2020-02-25T09:11:53Z", "author": {"login": "ikasarov"}, "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/listeners/AbstractProcessExecutionListener.java", "diffHunk": "@@ -101,6 +92,12 @@ private StepLogger createStepLogger(DelegateExecution context) {\n         return stepLoggerFactory.create(context, progressMessageService, processLoggerProvider, getLogger());\n     }\n \n+    protected boolean isRootProcess(DelegateExecution context) {\n+        String correlationId = StepsUtil.getCorrelationId(context);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e8e74ce6730f59f11108984c6318c1694a0257"}, "originalPosition": 39}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50e8e74ce6730f59f11108984c6318c1694a0257", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/50e8e74ce6730f59f11108984c6318c1694a0257", "committedDate": "2020-02-24T16:37:11Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. Refactor ProcessLoggerProvider to create non-existing\nfiles. JIRA: LMCROSSITXSADEPLOY-1870"}, "afterCommit": {"oid": "1c968ea8f98b123d8ac63ef70a4966f996dcaa6c", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/1c968ea8f98b123d8ac63ef70a4966f996dcaa6c", "committedDate": "2020-02-25T15:40:45Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. JIRA: LMCROSSITXSADEPLOY-1870"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "126ae819f266c54c9eabc185cc7046f67d855717", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/126ae819f266c54c9eabc185cc7046f67d855717", "committedDate": "2020-02-25T15:43:12Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. JIRA: LMCROSSITXSADEPLOY-1870"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c968ea8f98b123d8ac63ef70a4966f996dcaa6c", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/1c968ea8f98b123d8ac63ef70a4966f996dcaa6c", "committedDate": "2020-02-25T15:40:45Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. JIRA: LMCROSSITXSADEPLOY-1870"}, "afterCommit": {"oid": "126ae819f266c54c9eabc185cc7046f67d855717", "author": {"user": {"login": "radoslav-d", "name": "Radoslav Dimitrov"}}, "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/126ae819f266c54c9eabc185cc7046f67d855717", "committedDate": "2020-02-25T15:43:12Z", "message": "ExecutionListeners for start and end of bg-deploy\n\nAdd ExecutionListeners for the start and end of testing phase of\nblue-green deploy. JIRA: LMCROSSITXSADEPLOY-1870"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MjUyMzAz", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/774#pullrequestreview-364252303", "createdAt": "2020-02-25T15:50:13Z", "commit": {"oid": "126ae819f266c54c9eabc185cc7046f67d855717"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1009, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}