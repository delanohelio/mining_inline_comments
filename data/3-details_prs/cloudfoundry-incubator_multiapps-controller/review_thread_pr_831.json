{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwMjE2MzQ5", "number": 831, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowMToyNFrODvhzZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowNzoyOFrODvh7NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMTYzNDk0OnYy", "diffSide": "RIGHT", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/util/ModuleDependencyChecker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowMToyNFrOGCAMcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowMToyNFrOGCAMcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDc1MzUyMA==", "bodyText": "Rather than using the negate() method, change isProcessed() to accept a parameter and return a boolean then negate that function", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/831#discussion_r404753520", "createdAt": "2020-04-07T12:01:24Z", "author": {"login": "radito3"}, "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/util/ModuleDependencyChecker.java", "diffHunk": "@@ -82,4 +83,20 @@ private boolean areAllDependenciesAlreadyPresent(List<String> deployedAfter) {\n     public Set<String> getAlreadyDeployedModules() {\n         return modulesAlreadyDeployed;\n     }\n+\n+    public Set<String> getNotProcessedModules() {\n+        return modulesForDeployment.stream()\n+                                   .filter(isProcessed().negate())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8278e92425545f4cdcf9781200c9da1184b6856"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMTYzNzc2OnYy", "diffSide": "RIGHT", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/util/ModuleDependencyChecker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowMjoxNFrOGCAOLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowMjoxNFrOGCAOLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDc1Mzk2Nw==", "bodyText": "That way you can use a method reference here", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/831#discussion_r404753967", "createdAt": "2020-04-07T12:02:14Z", "author": {"login": "radito3"}, "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/util/ModuleDependencyChecker.java", "diffHunk": "@@ -82,4 +83,20 @@ private boolean areAllDependenciesAlreadyPresent(List<String> deployedAfter) {\n     public Set<String> getAlreadyDeployedModules() {\n         return modulesAlreadyDeployed;\n     }\n+\n+    public Set<String> getNotProcessedModules() {\n+        return modulesForDeployment.stream()\n+                                   .filter(isProcessed().negate())\n+                                   .collect(Collectors.toSet());\n+    }\n+\n+    private boolean areDependenciesProcessed(Module module) {\n+        return module.getDeployedAfter()\n+                     .stream()\n+                     .allMatch(isProcessed());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8278e92425545f4cdcf9781200c9da1184b6856"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMTY1NDkyOnYy", "diffSide": "RIGHT", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowNzoyOFrOGCAYgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMjowNzoyOFrOGCAYgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDc1NjYxMQ==", "bodyText": "\"Dependencies can't be satisfied\" is too generic. An error message should be as descriptive as possible", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/831#discussion_r404756611", "createdAt": "2020-04-07T12:07:28Z", "author": {"login": "radito3"}, "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/Messages.java", "diffHunk": "@@ -61,6 +61,7 @@\n     public static final String APPLICATION_UNBOUND_IN_PARALLEL = \"Application {0} was bound to service {1} which was unbound in parallel\";\r\n     public static final String ABORT_OPERATION_TIMED_OUT = \"Abort operation timed out\";\r\n     public static final String FLOWABLE_JOB_RETRY_FAILED = \"Flowable job retry failed\";\r\n+    public static final String DEPENDENCIES_CANNOT_BE_SATISFIED = \"Dependencies for modules {0} cannot be satisfied\";\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8278e92425545f4cdcf9781200c9da1184b6856"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 499, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}