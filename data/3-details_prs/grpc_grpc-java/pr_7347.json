{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNzQ2OTUy", "number": 7347, "title": "xds: not to use insecure DSA crypto", "bodyText": "Although DSA is only used in tests so it's totally no security concern, it's annoying we need some workaround for internal checks to import. So removing the usage.", "createdAt": "2020-08-21T17:09:48Z", "url": "https://github.com/grpc/grpc-java/pull/7347", "merged": true, "mergeCommit": {"oid": "b8fe968c88fc50d65581fc1892c00b50b809c19e"}, "closed": true, "closedAt": "2020-08-21T18:19:08Z", "author": {"login": "dapengzhang0"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBH-6qgH2gAyNDcxNzQ2OTUyOmY4ZGE4NmRlYmE0ZTI5NWY4YWE1Nzc4ODc4Yzg5YmY0MjcyZGYyOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBISMEAH2gAyNDcxNzQ2OTUyOmJmOTZmNTMyYmVjYWE3Y2FjOWMzYThiZmYzN2JkZDBlNTU3MzRmM2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f8da86deba4e295f8aa5778878c89bf4272df292", "author": {"user": {"login": "dapengzhang0", "name": "ZHANG Dapeng"}}, "url": "https://github.com/grpc/grpc-java/commit/f8da86deba4e295f8aa5778878c89bf4272df292", "committedDate": "2020-08-21T17:09:13Z", "message": "xds: not to use insecure DSA crypto\n\nAlthough DSA is only used in tests so it's totally no security concern, it's annoying we need some workaround for internal checks to import. So removing the usage."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNjU3MTM3", "url": "https://github.com/grpc/grpc-java/pull/7347#pullrequestreview-472657137", "createdAt": "2020-08-21T17:14:15Z", "commit": {"oid": "f8da86deba4e295f8aa5778878c89bf4272df292"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNzoxNDoxNVrOHE0_vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNzoxNDoxNVrOHE0_vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgyNDYzNw==", "bodyText": "My suggestion was to only remove the \"DSA\" case if that was the offending line. So something like:\n    try {\n      return KeyFactory.getInstance(\"RSA\").generatePrivate(spec);\n    } catch (InvalidKeySpecException ignore) {\n      try {\n        return KeyFactory.getInstance(\"EC\").generatePrivate(spec);\n      } catch (InvalidKeySpecException ignore2) {\n       throw new InvalidKeySpecException(\"Neither RSA, nor EC worked\", e);\n      }\n    }\n\nBut if \"EC\" is also going to cause problems I am okay with this change. Could you confirm?", "url": "https://github.com/grpc/grpc-java/pull/7347#discussion_r474824637", "createdAt": "2020-08-21T17:14:15Z", "author": {"login": "sanjaypujare"}, "path": "xds/src/test/java/io/grpc/xds/internal/certprovider/CommonCertProviderTestUtils.java", "diffHunk": "@@ -103,19 +103,7 @@ static PrivateKey getPrivateKey(String resourceName)\n     byte[] encodedKey = new byte[encodedKeyBuf.readableBytes()];\n     encodedKeyBuf.readBytes(encodedKey).release();\n     PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(encodedKey);\n-    try {\n-      return KeyFactory.getInstance(\"RSA\").generatePrivate(spec);\n-    } catch (InvalidKeySpecException ignore) {\n-      try {\n-        return KeyFactory.getInstance(\"DSA\").generatePrivate(spec);\n-      } catch (InvalidKeySpecException ignore2) {\n-        try {\n-          return KeyFactory.getInstance(\"EC\").generatePrivate(spec);\n-        } catch (InvalidKeySpecException e) {\n-          throw new InvalidKeySpecException(\"Neither RSA, DSA nor EC worked\", e);\n-        }\n-      }\n-    }\n+    return KeyFactory.getInstance(\"RSA\").generatePrivate(spec);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8da86deba4e295f8aa5778878c89bf4272df292"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNjY0MTk5", "url": "https://github.com/grpc/grpc-java/pull/7347#pullrequestreview-472664199", "createdAt": "2020-08-21T17:25:25Z", "commit": {"oid": "f8da86deba4e295f8aa5778878c89bf4272df292"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf96f532becaa7cac9c3a8bff37bdd0e55734f3b", "author": {"user": {"login": "dapengzhang0", "name": "ZHANG Dapeng"}}, "url": "https://github.com/grpc/grpc-java/commit/bf96f532becaa7cac9c3a8bff37bdd0e55734f3b", "committedDate": "2020-08-21T17:30:16Z", "message": "remove unused import"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4187, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}