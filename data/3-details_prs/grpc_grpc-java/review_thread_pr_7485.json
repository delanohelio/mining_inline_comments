{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MTA4MjM0", "number": 7485, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozNzo0OFrOErXdxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozNzo0OFrOErXdxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTA4Njc4OnYy", "diffSide": "RIGHT", "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozNzo0OFrOHeGcJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMzowNDowNFrOHeIgog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNDgzNw==", "bodyText": "There is no test for this new log (which is INFO level)? I am assuming there are tests for logging because it is important in terms of debuggability?", "url": "https://github.com/grpc/grpc-java/pull/7485#discussion_r501324837", "createdAt": "2020-10-07T21:37:48Z", "author": {"login": "sanjaypujare"}, "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "diffHunk": "@@ -345,6 +361,7 @@ private void cancelLbRpcRetryTimer() {\n   }\n \n   void shutdown() {\n+    logger.log(ChannelLogLevel.INFO, \"[grpclb-<{0}>] Shutdown\", serviceName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f69e1e7d03d3b2fab6c3df4bc1c9dff5664ea675"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMzMTcyMA==", "bodyText": "I would not bother test this. It's not critical. Also there is no much value verifying what's written here in the unit test (unit test would just be copying whatever message wrote in the implementation).", "url": "https://github.com/grpc/grpc-java/pull/7485#discussion_r501331720", "createdAt": "2020-10-07T21:53:48Z", "author": {"login": "voidzcy"}, "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "diffHunk": "@@ -345,6 +361,7 @@ private void cancelLbRpcRetryTimer() {\n   }\n \n   void shutdown() {\n+    logger.log(ChannelLogLevel.INFO, \"[grpclb-<{0}>] Shutdown\", serviceName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNDgzNw=="}, "originalCommit": {"oid": "f69e1e7d03d3b2fab6c3df4bc1c9dff5664ea675"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMzMzQwMQ==", "bodyText": "So unit tests were written for logging for a reason - to make sure a log is emitted when certain events happen even if verifying the exact message is not important (as you say). Just wanted to understand which is why I am asking for the issue link mentioned above.", "url": "https://github.com/grpc/grpc-java/pull/7485#discussion_r501333401", "createdAt": "2020-10-07T21:57:48Z", "author": {"login": "sanjaypujare"}, "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "diffHunk": "@@ -345,6 +361,7 @@ private void cancelLbRpcRetryTimer() {\n   }\n \n   void shutdown() {\n+    logger.log(ChannelLogLevel.INFO, \"[grpclb-<{0}>] Shutdown\", serviceName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNDgzNw=="}, "originalCommit": {"oid": "f69e1e7d03d3b2fab6c3df4bc1c9dff5664ea675"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM0ODAxOA==", "bodyText": "I think log being emitted for certain events is not worth a unit test. Because reading log is a manual activity, we can always manually verify them and find if something need be added.", "url": "https://github.com/grpc/grpc-java/pull/7485#discussion_r501348018", "createdAt": "2020-10-07T22:34:20Z", "author": {"login": "dapengzhang0"}, "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "diffHunk": "@@ -345,6 +361,7 @@ private void cancelLbRpcRetryTimer() {\n   }\n \n   void shutdown() {\n+    logger.log(ChannelLogLevel.INFO, \"[grpclb-<{0}>] Shutdown\", serviceName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNDgzNw=="}, "originalCommit": {"oid": "f69e1e7d03d3b2fab6c3df4bc1c9dff5664ea675"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM1ODc1NA==", "bodyText": "SG. I thought there was an actual issue reported by a user so I asked.", "url": "https://github.com/grpc/grpc-java/pull/7485#discussion_r501358754", "createdAt": "2020-10-07T23:04:04Z", "author": {"login": "sanjaypujare"}, "path": "grpclb/src/main/java/io/grpc/grpclb/GrpclbState.java", "diffHunk": "@@ -345,6 +361,7 @@ private void cancelLbRpcRetryTimer() {\n   }\n \n   void shutdown() {\n+    logger.log(ChannelLogLevel.INFO, \"[grpclb-<{0}>] Shutdown\", serviceName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNDgzNw=="}, "originalCommit": {"oid": "f69e1e7d03d3b2fab6c3df4bc1c9dff5664ea675"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2376, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}