{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExMTkwMjQ4", "number": 7562, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMDoyMzozOFrOEymkQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMDoyMzozOFrOEymkQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDk2MTI4OnYy", "diffSide": "RIGHT", "path": "xds/src/main/java/io/grpc/xds/AbstractXdsClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMDoyMzozOFrOHpVo0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMDo0NjoxOFrOHpWCJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEwODE3Ng==", "bodyText": "These two typeUrl should be defined in ClientXdsClient as they are used for client's specific business logic.\nThe abstract layer only decode xDS resource blobs to List<Any>, the remaining processing should be done in the  business logic layer.", "url": "https://github.com/grpc/grpc-java/pull/7562#discussion_r513108176", "createdAt": "2020-10-28T00:23:38Z", "author": {"login": "voidzcy"}, "path": "xds/src/main/java/io/grpc/xds/AbstractXdsClient.java", "diffHunk": "@@ -64,13 +64,20 @@\n       \"type.googleapis.com/envoy.api.v2.RouteConfiguration\";\n   private static final String ADS_TYPE_URL_RDS =\n       \"type.googleapis.com/envoy.config.route.v3.RouteConfiguration\";\n-  private static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n+  @VisibleForTesting\n+  static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n   private static final String ADS_TYPE_URL_CDS =\n       \"type.googleapis.com/envoy.config.cluster.v3.Cluster\";\n   private static final String ADS_TYPE_URL_EDS_V2 =\n       \"type.googleapis.com/envoy.api.v2.ClusterLoadAssignment\";\n   private static final String ADS_TYPE_URL_EDS =\n       \"type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment\";\n+  @VisibleForTesting\n+  static final String TYPE_URL_UPSTREAM_TLS_CONTEXT =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94bdb9c3f98fec0e2a39a2fcb4fd997894b8aa30"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEwODk2OA==", "bodyText": "There is an existing example for HttpConnectionManager:\n\n  \n    \n      grpc-java/xds/src/main/java/io/grpc/xds/ClientXdsClient.java\n    \n    \n        Lines 71 to 76\n      in\n      90a3873\n    \n    \n    \n    \n\n        \n          \n           private static final String TYPE_URL_HTTP_CONNECTION_MANAGER_V2 = \n        \n\n        \n          \n               \"type.googleapis.com/envoy.config.filter.network.http_connection_manager.v2\" \n        \n\n        \n          \n                   + \".HttpConnectionManager\"; \n        \n\n        \n          \n           private static final String TYPE_URL_HTTP_CONNECTION_MANAGER = \n        \n\n        \n          \n               \"type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3\" \n        \n\n        \n          \n                   + \".HttpConnectionManager\";", "url": "https://github.com/grpc/grpc-java/pull/7562#discussion_r513108968", "createdAt": "2020-10-28T00:26:16Z", "author": {"login": "voidzcy"}, "path": "xds/src/main/java/io/grpc/xds/AbstractXdsClient.java", "diffHunk": "@@ -64,13 +64,20 @@\n       \"type.googleapis.com/envoy.api.v2.RouteConfiguration\";\n   private static final String ADS_TYPE_URL_RDS =\n       \"type.googleapis.com/envoy.config.route.v3.RouteConfiguration\";\n-  private static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n+  @VisibleForTesting\n+  static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n   private static final String ADS_TYPE_URL_CDS =\n       \"type.googleapis.com/envoy.config.cluster.v3.Cluster\";\n   private static final String ADS_TYPE_URL_EDS_V2 =\n       \"type.googleapis.com/envoy.api.v2.ClusterLoadAssignment\";\n   private static final String ADS_TYPE_URL_EDS =\n       \"type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment\";\n+  @VisibleForTesting\n+  static final String TYPE_URL_UPSTREAM_TLS_CONTEXT =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEwODE3Ng=="}, "originalCommit": {"oid": "94bdb9c3f98fec0e2a39a2fcb4fd997894b8aa30"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzExNDY2Mg==", "bodyText": "fixed", "url": "https://github.com/grpc/grpc-java/pull/7562#discussion_r513114662", "createdAt": "2020-10-28T00:46:18Z", "author": {"login": "sanjaypujare"}, "path": "xds/src/main/java/io/grpc/xds/AbstractXdsClient.java", "diffHunk": "@@ -64,13 +64,20 @@\n       \"type.googleapis.com/envoy.api.v2.RouteConfiguration\";\n   private static final String ADS_TYPE_URL_RDS =\n       \"type.googleapis.com/envoy.config.route.v3.RouteConfiguration\";\n-  private static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n+  @VisibleForTesting\n+  static final String ADS_TYPE_URL_CDS_V2 = \"type.googleapis.com/envoy.api.v2.Cluster\";\n   private static final String ADS_TYPE_URL_CDS =\n       \"type.googleapis.com/envoy.config.cluster.v3.Cluster\";\n   private static final String ADS_TYPE_URL_EDS_V2 =\n       \"type.googleapis.com/envoy.api.v2.ClusterLoadAssignment\";\n   private static final String ADS_TYPE_URL_EDS =\n       \"type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment\";\n+  @VisibleForTesting\n+  static final String TYPE_URL_UPSTREAM_TLS_CONTEXT =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEwODE3Ng=="}, "originalCommit": {"oid": "94bdb9c3f98fec0e2a39a2fcb4fd997894b8aa30"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2252, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}