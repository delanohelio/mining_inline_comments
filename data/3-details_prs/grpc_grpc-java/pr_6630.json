{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MDkwNjk2", "number": 6630, "title": "examples: Allow passing target and simplify lifecycle", "bodyText": "The target can be provided on the command line to avoid needing to recompile\nthe example just to change where the server is located. We use a target instead\nof addresses as that is the approach we have wanted to encourage for a while\nsince it allows choosing alternative name resolvers.\nWe typically encourage injecting Channels, not ManagedChannels, which has the\nadded benefit of simplifying the example. Less indirection makes for a better\nexample.\nSwapping to target string could be done to examples-tls and examples-gauth as\nwell, but it would be much more invasive to the tls example and the gauth\nexample would need proper testing after the change.\n\nThese are things that I've wanted for a while, but now the target change is\nnecessary for the xds example and the rest sort of falls out of that.", "createdAt": "2020-01-22T22:17:06Z", "url": "https://github.com/grpc/grpc-java/pull/6630", "merged": true, "mergeCommit": {"oid": "5b7f5b8c3bde36e1b107da3d8385c597bb193a8c"}, "closed": true, "closedAt": "2020-01-23T21:13:55Z", "author": {"login": "ejona86"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb88oTvgH2gAyMzY2MDkwNjk2OmQyZjUyZmU3MWQyNTBlMDA0NTZlYTJjY2YxNTI5Y2E5MDJkZDM3MTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9OQNSgFqTM0NzQ5NzIxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2f52fe71d250e00456ea2ccf1529ca902dd3717", "author": {"user": {"login": "ejona86", "name": "Eric Anderson"}}, "url": "https://github.com/grpc/grpc-java/commit/d2f52fe71d250e00456ea2ccf1529ca902dd3717", "committedDate": "2020-01-22T21:28:43Z", "message": "examples: Allow passing target and simplify lifecycle\n\nThe target can be provided on the command line to avoid needing to recompile\nthe example just to change where the server is located. We use a target instead\nof addresses as that is the approach we have wanted to encourage for a while\nsince it allows choosing alternative name resolvers.\n\nWe typically encourage injecting Channels, not ManagedChannels, which has the\nadded benefit of simplifying the example. Less indirection makes for a better\nexample.\n\nSwapping to target string could be done to examples-tls and examples-gauth as\nwell, but it would be much more invasive to the tls example and the gauth\nexample would need proper testing after the change."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NDk3MjE1", "url": "https://github.com/grpc/grpc-java/pull/6630#pullrequestreview-347497215", "createdAt": "2020-01-23T18:00:34Z", "commit": {"oid": "d2f52fe71d250e00456ea2ccf1529ca902dd3717"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMDozNFrOFhHffw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMDozNFrOFhHffw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MDA3OQ==", "bodyText": "nit: I would declare a local variable for channel as this expression is somewhat complex.", "url": "https://github.com/grpc/grpc-java/pull/6630#discussion_r370270079", "createdAt": "2020-01-23T18:00:34Z", "author": {"login": "dapengzhang0"}, "path": "examples/src/test/java/io/grpc/examples/routeguide/RouteGuideClientTest.java", "diffHunk": "@@ -96,16 +95,11 @@ public void setUp() throws Exception {\n     // Use a mutable service registry for later registering the service impl for each test case.\n     grpcCleanup.register(InProcessServerBuilder.forName(serverName)\n         .fallbackHandlerRegistry(serviceRegistry).directExecutor().build().start());\n-    client =\n-        new RouteGuideClient(InProcessChannelBuilder.forName(serverName).directExecutor());\n+    client = new RouteGuideClient(grpcCleanup.register(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2f52fe71d250e00456ea2ccf1529ca902dd3717"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4655, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}