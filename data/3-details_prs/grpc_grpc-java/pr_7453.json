{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMDc2ODU3", "number": 7453, "title": "xds: define individual LDS/RDS data watch interface", "bodyText": "Sadly, ListenerUpdate is taken. So I made it LdsUpdate. I am going to rename existing update/watchers to CdsUpdate/CdsResourceWatcher, EdsUpdate/EdsResourceWatcher for consistency.\nCorresponding APIs in C-core:\nhttps://github.com/grpc/grpc/blob/master/src/core/ext/xds/xds_client.h\nhttps://github.com/grpc/grpc/blob/master/src/core/ext/xds/xds_api.h", "createdAt": "2020-09-23T22:39:00Z", "url": "https://github.com/grpc/grpc-java/pull/7453", "merged": true, "mergeCommit": {"oid": "f0552005661d000dfadb8db70b0cd5106167758b"}, "closed": true, "closedAt": "2020-09-24T00:00:42Z", "author": {"login": "voidzcy"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdL0deyAH2gAyNDkyMDc2ODU3OjM3ZTA2YmE1NzcxMzg3NDlkM2JlNzM3MzI5MjJmZjA2ZTEyOTVkY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL1n1kgFqTQ5NTEzMzcxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37e06ba577138749d3be73732922ff06e1295dcc", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/37e06ba577138749d3be73732922ff06e1295dcc", "committedDate": "2020-09-23T22:37:40Z", "message": "Convert Envoy proto VirtualHost."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20d0cdbdd84d3e130acfeec92d4a717479c9f359", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/20d0cdbdd84d3e130acfeec92d4a717479c9f359", "committedDate": "2020-09-23T22:38:13Z", "message": "Define interface for watching individual LDS/RDS resources."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27c0f0b3c3fb9b4c217f9fbf315c49747be27988", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/27c0f0b3c3fb9b4c217f9fbf315c49747be27988", "committedDate": "2020-09-23T22:44:03Z", "message": "Remove immutable annotation."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTA1MDEw", "url": "https://github.com/grpc/grpc-java/pull/7453#pullrequestreview-495105010", "createdAt": "2020-09-23T23:00:47Z", "commit": {"oid": "27c0f0b3c3fb9b4c217f9fbf315c49747be27988"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMzowMDo0N1rOHXDyDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMzowMDo0N1rOHXDyDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk0MTI2Mg==", "bodyText": "Add javadoc saying it's in nanos or rename the method with getHttpMaxStreamDurationNanos().", "url": "https://github.com/grpc/grpc-java/pull/7453#discussion_r493941262", "createdAt": "2020-09-23T23:00:47Z", "author": {"login": "dapengzhang0"}, "path": "xds/src/main/java/io/grpc/xds/XdsClient.java", "diffHunk": "@@ -100,6 +103,109 @@ ConfigUpdate build() {\n     }\n   }\n \n+  static final class LdsUpdate {\n+    // Total number of nanoseconds to keep alive an HTTP request/response stream.\n+    private final long httpMaxStreamDuration;\n+    // The name of the route configuration to be used for RDS resource discovery.\n+    @Nullable\n+    private final String rdsName;\n+    // The list virtual hosts that make up the route table.\n+    @Nullable\n+    private final List<VirtualHost> virtualHosts;\n+\n+    private LdsUpdate(long httpMaxStreamDuration, @Nullable String rdsName,\n+        @Nullable List<VirtualHost> virtualHosts) {\n+      this.httpMaxStreamDuration = httpMaxStreamDuration;\n+      this.rdsName = rdsName;\n+      this.virtualHosts = virtualHosts;\n+    }\n+\n+    long getHttpMaxStreamDuration() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27c0f0b3c3fb9b4c217f9fbf315c49747be27988"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a22783d743ae8bd612616dfc2f1dda32b01eecf", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/5a22783d743ae8bd612616dfc2f1dda32b01eecf", "committedDate": "2020-09-23T23:33:33Z", "message": "Rename variable/getter."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bffe37ea1e0f434a110cdf35e87121113693d664", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/bffe37ea1e0f434a110cdf35e87121113693d664", "committedDate": "2020-09-23T23:09:42Z", "message": "Rename variable/getter."}, "afterCommit": {"oid": "5a22783d743ae8bd612616dfc2f1dda32b01eecf", "author": {"user": {"login": "voidzcy", "name": "Chengyuan Zhang"}}, "url": "https://github.com/grpc/grpc-java/commit/5a22783d743ae8bd612616dfc2f1dda32b01eecf", "committedDate": "2020-09-23T23:33:33Z", "message": "Rename variable/getter."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTMzNzEw", "url": "https://github.com/grpc/grpc-java/pull/7453#pullrequestreview-495133710", "createdAt": "2020-09-23T23:58:53Z", "commit": {"oid": "5a22783d743ae8bd612616dfc2f1dda32b01eecf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4057, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}