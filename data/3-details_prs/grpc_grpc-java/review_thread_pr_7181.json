{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MzI5MDQ1", "number": 7181, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzowNjo0N1rOELxcQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjo1MDowMFrOEL3f2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNzc5ODQwOnYy", "diffSide": "RIGHT", "path": "xds/src/main/java/io/grpc/xds/internal/sds/ReferenceCountingMap.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzowNjo0N1rOGtf9pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDo0NjowNlrOGtrdSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM2Mjc4OA==", "bodyText": "Can this class be final?", "url": "https://github.com/grpc/grpc-java/pull/7181#discussion_r450362788", "createdAt": "2020-07-06T17:06:47Z", "author": {"login": "dapengzhang0"}, "path": "xds/src/main/java/io/grpc/xds/internal/sds/ReferenceCountingMap.java", "diffHunk": "@@ -101,19 +101,19 @@ private synchronized SslContextProvider releaseInternal(K key, SslContextProvide\n     return null;\n   }\n \n-  /** A factory to create an SslContextProvider from the given key. */\n-  public interface SslContextProviderFactory<K> {\n-    SslContextProvider createSslContextProvider(K key);\n+  /** A factory to create a value from the given key. */\n+  public interface ValueFactory<K, V extends Closeable> {\n+    V create(K key);\n   }\n \n-  private static class Instance {\n-    final SslContextProvider sslContextProvider;\n+  private static class Instance<V extends Closeable> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3818943aa9a9f1e0816562b235d3f12f84bf8116"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU1MTExMg==", "bodyText": "Done", "url": "https://github.com/grpc/grpc-java/pull/7181#discussion_r450551112", "createdAt": "2020-07-07T00:46:06Z", "author": {"login": "sanjaypujare"}, "path": "xds/src/main/java/io/grpc/xds/internal/sds/ReferenceCountingMap.java", "diffHunk": "@@ -101,19 +101,19 @@ private synchronized SslContextProvider releaseInternal(K key, SslContextProvide\n     return null;\n   }\n \n-  /** A factory to create an SslContextProvider from the given key. */\n-  public interface SslContextProviderFactory<K> {\n-    SslContextProvider createSslContextProvider(K key);\n+  /** A factory to create a value from the given key. */\n+  public interface ValueFactory<K, V extends Closeable> {\n+    V create(K key);\n   }\n \n-  private static class Instance {\n-    final SslContextProvider sslContextProvider;\n+  private static class Instance<V extends Closeable> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM2Mjc4OA=="}, "originalCommit": {"oid": "3818943aa9a9f1e0816562b235d3f12f84bf8116"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODc5MDY1OnYy", "diffSide": "RIGHT", "path": "xds/src/main/java/io/grpc/xds/internal/sds/SslContextProvider.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjo1MDowMFrOGtpeWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDo0ODoxOFrOGtrfaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxODYxOQ==", "bodyText": "Can this be abstract method?", "url": "https://github.com/grpc/grpc-java/pull/7181#discussion_r450518619", "createdAt": "2020-07-06T22:50:00Z", "author": {"login": "dapengzhang0"}, "path": "xds/src/main/java/io/grpc/xds/internal/sds/SslContextProvider.java", "diffHunk": "@@ -93,7 +93,8 @@ public UpstreamTlsContext getUpstreamTlsContext() {\n   }\n \n   /** Closes this provider and releases any resources. */\n-  void close() {}\n+  @Override\n+  public void close() {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3818943aa9a9f1e0816562b235d3f12f84bf8116"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU1MTY1OQ==", "bodyText": "I left it as a default implementation so the subclasses don't need to define it for a \"no-op\" close(). But making abstract and forcing subclasses to define it (since closing to release resources is so important) is okay as well so I made the change", "url": "https://github.com/grpc/grpc-java/pull/7181#discussion_r450551659", "createdAt": "2020-07-07T00:48:18Z", "author": {"login": "sanjaypujare"}, "path": "xds/src/main/java/io/grpc/xds/internal/sds/SslContextProvider.java", "diffHunk": "@@ -93,7 +93,8 @@ public UpstreamTlsContext getUpstreamTlsContext() {\n   }\n \n   /** Closes this provider and releases any resources. */\n-  void close() {}\n+  @Override\n+  public void close() {}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxODYxOQ=="}, "originalCommit": {"oid": "3818943aa9a9f1e0816562b235d3f12f84bf8116"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2581, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}