{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MDgxMjM5", "number": 7209, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQyMzozMzo0N1rOEQ1Wpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQyMzozMzo0N1rOEQ1Wpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MDg2ODIzOnYy", "diffSide": "RIGHT", "path": "xds/src/main/java/io/grpc/xds/LoadReportClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQyMzozMzo0N1rOG1Nckg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMDoyMzozOFrOG1OW_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ0ODAxOA==", "bodyText": "Better to pass a StopwatchSupplier in constructor, and create a new stopwatch here, so that it's clear that the stopwatch's lifecycle is solely managed by the LoadStatsEntity.", "url": "https://github.com/grpc/grpc-java/pull/7209#discussion_r458448018", "createdAt": "2020-07-21T23:33:47Z", "author": {"login": "dapengzhang0"}, "path": "xds/src/main/java/io/grpc/xds/LoadReportClient.java", "diffHunk": "@@ -401,6 +387,28 @@ private void cleanUp() {\n     }\n   }\n \n+  private static final class LoadStatsEntity {\n+    private final LoadStatsStore loadStatsStore;\n+    private final Stopwatch stopwatch;\n+\n+    private LoadStatsEntity(LoadStatsStore loadStatsStore, Stopwatch stopwatch) {\n+      this.loadStatsStore = loadStatsStore;\n+      this.stopwatch = stopwatch;\n+      stopwatch.reset().start();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e4762f208b8f95554747c1ecac0d4c9eac4770"}, "originalPosition": 161}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ2Mjk3NA==", "bodyText": "Updated to take the stopwatch supplier from the LrsClient directly.", "url": "https://github.com/grpc/grpc-java/pull/7209#discussion_r458462974", "createdAt": "2020-07-22T00:23:38Z", "author": {"login": "voidzcy"}, "path": "xds/src/main/java/io/grpc/xds/LoadReportClient.java", "diffHunk": "@@ -401,6 +387,28 @@ private void cleanUp() {\n     }\n   }\n \n+  private static final class LoadStatsEntity {\n+    private final LoadStatsStore loadStatsStore;\n+    private final Stopwatch stopwatch;\n+\n+    private LoadStatsEntity(LoadStatsStore loadStatsStore, Stopwatch stopwatch) {\n+      this.loadStatsStore = loadStatsStore;\n+      this.stopwatch = stopwatch;\n+      stopwatch.reset().start();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ0ODAxOA=="}, "originalCommit": {"oid": "b2e4762f208b8f95554747c1ecac0d4c9eac4770"}, "originalPosition": 161}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2607, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}