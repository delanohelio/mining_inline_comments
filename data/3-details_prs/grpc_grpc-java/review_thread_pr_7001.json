{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMTAzMjY1", "number": 7001, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo1ODoyN1rOD5KYxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMjo0MjoxMlrOD6cjsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjY1NjA0OnYy", "diffSide": "RIGHT", "path": "protobuf/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo1ODoyN1rOGQR7Zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo1ODoyN1rOGQR7Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyNDEzNQ==", "bodyText": "Why expose this one?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419724135", "createdAt": "2020-05-04T20:58:27Z", "author": {"login": "voidzcy"}, "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjY4NTk5OnYy", "diffSide": "RIGHT", "path": "android-interop-testing/build.gradle", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTowNzowM1rOGQSOCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjoxODoxMFrOGQUQNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg==", "bodyText": "Would this be runtimeOnly?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419728906", "createdAt": "2020-05-04T21:07:03Z", "author": {"login": "voidzcy"}, "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MTM4NQ==", "bodyText": "No, io.opencensus.contrib.grpc.metrics.RpcMeasureConstants is used in src/main/java/io/grpc/testing/integration/AbstractInteropTest.java, which is in its sourceSets.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419741385", "createdAt": "2020-05-04T21:31:28Z", "author": {"login": "dapengzhang0"}, "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzgwMw==", "bodyText": "grpc-testing itself depends on census metrics already. android-interop-testing (including the included grpc-interop-testing sources) does not have any direct API interaction with with census right? So it should not have a direct dependency on it.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419743803", "createdAt": "2020-05-04T21:36:26Z", "author": {"login": "voidzcy"}, "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1ODA3MQ==", "bodyText": "Update:\nIt needs it to build.  Without it the build would fail. grpc-testing itself depends on census_api already, but not census_metric dep. We need metrics in complieClasspath to compile the sourceSet.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419758071", "createdAt": "2020-05-04T22:07:59Z", "author": {"login": "dapengzhang0"}, "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2MjIyOA==", "bodyText": "I corrected and updated my reply.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419762228", "createdAt": "2020-05-04T22:18:10Z", "author": {"login": "dapengzhang0"}, "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjY4Nzc4OnYy", "diffSide": "RIGHT", "path": "api/build.gradle", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTowNzozM1rOGQSPKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMToyNToyOVrOGQSyqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw==", "bodyText": "Why expose this one?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419729193", "createdAt": "2020-05-04T21:07:33Z", "author": {"login": "voidzcy"}, "path": "api/build.gradle", "diffHunk": "@@ -11,13 +11,11 @@ description = 'gRPC: API'\n evaluationDependsOn(project(':grpc-context').path)\n \n dependencies {\n-    compile project(':grpc-context'),\n-            libraries.errorprone,\n-            libraries.jsr305,\n-            libraries.animalsniffer_annotations\n-    guavaDependency 'compile'\n+    api project(':grpc-context'),\n+            libraries.jsr305", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczNjc2NA==", "bodyText": "It is part of public API signature.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419736764", "createdAt": "2020-05-04T21:22:38Z", "author": {"login": "dapengzhang0"}, "path": "api/build.gradle", "diffHunk": "@@ -11,13 +11,11 @@ description = 'gRPC: API'\n evaluationDependsOn(project(':grpc-context').path)\n \n dependencies {\n-    compile project(':grpc-context'),\n-            libraries.errorprone,\n-            libraries.jsr305,\n-            libraries.animalsniffer_annotations\n-    guavaDependency 'compile'\n+    api project(':grpc-context'),\n+            libraries.jsr305", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczODI4Mw==", "bodyText": "I mean annotations like @javax.annotation.concurrent.ThreadSafe, @javax.annotation.Nullable are part of some public API signature.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419738283", "createdAt": "2020-05-04T21:25:29Z", "author": {"login": "dapengzhang0"}, "path": "api/build.gradle", "diffHunk": "@@ -11,13 +11,11 @@ description = 'gRPC: API'\n evaluationDependsOn(project(':grpc-context').path)\n \n dependencies {\n-    compile project(':grpc-context'),\n-            libraries.errorprone,\n-            libraries.jsr305,\n-            libraries.animalsniffer_annotations\n-    guavaDependency 'compile'\n+    api project(':grpc-context'),\n+            libraries.jsr305", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjcwMzUxOnYy", "diffSide": "RIGHT", "path": "cronet/build.gradle", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMToxMjozMVrOGQSYxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTozODoxMlrOGQTLag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw==", "bodyText": "There is another cronet_api down below for implementation. It is controversial whether it should be api or implementation (IMO it doesn't matter much). I am ok with either. Similar situation applies for some other modules such as grpc-okhttp (for okhttp) and grpc-protobuf (for grpc-protobuf-lite).", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419731653", "createdAt": "2020-05-04T21:12:31Z", "author": {"login": "voidzcy"}, "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczNDkzOQ==", "bodyText": "Update: for grpc-okhttp probably not reason to expose okhttp as users do not interact with okhttp APIs directly.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419734939", "createdAt": "2020-05-04T21:18:58Z", "author": {"login": "voidzcy"}, "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MjM2OQ==", "bodyText": "Oh, the implementation libraries.cronet_api should be removed because it's redundant now.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419742369", "createdAt": "2020-05-04T21:33:24Z", "author": {"login": "dapengzhang0"}, "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NDE3OQ==", "bodyText": "For grpc-okhttp, it needs okhttp as api dep because it is part of public API OkHttpChannelBuilder.connectionSpec(com.squareup.okhttp.ConnectionSpec connectionSpec)\n\nUpdate: for grpc-okhttp probably not reason to expose okhttp as users do not interact with okhttp APIs directly.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419744179", "createdAt": "2020-05-04T21:37:16Z", "author": {"login": "dapengzhang0"}, "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NDYxOA==", "bodyText": "Oh I see. Missed that.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419744618", "createdAt": "2020-05-04T21:38:12Z", "author": {"login": "voidzcy"}, "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjc2MTAyOnYy", "diffSide": "RIGHT", "path": "gae-interop-testing/gae-jdk8/build.gradle", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMToyOTo1N1rOGQS7pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjowMzowNFrOGQT4Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg==", "bodyText": "Why was this dep added?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419740582", "createdAt": "2020-05-04T21:29:57Z", "author": {"login": "ejona86"}, "path": "gae-interop-testing/gae-jdk8/build.gradle", "diffHunk": "@@ -44,16 +44,15 @@ apply plugin: 'com.google.cloud.tools.appengine'  // App Engine tasks\n \n dependencies {\n     providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n-    compile 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n-    // Deps needed by all gRPC apps in GAE\n-    compile libraries.google_api_protos\n-    compile project(\":grpc-okhttp\")\n-    compile project(\":grpc-protobuf\")\n-    compile project(\":grpc-stub\")\n-    compile (project(\":grpc-interop-testing\")) {\n-        exclude group: \"io.grpc\", module: \"grpc-netty-shaded\"\n+    runtimeOnly 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n+    implementation project(':grpc-netty')\n+    implementation project(\":grpc-stub\")\n+    implementation (project(':grpc-interop-testing')) {\n+        exclude group: 'io.grpc', module: 'grpc-alts'\n     }\n-    compile libraries.netty_tcnative\n+    implementation libraries.protobuf\n+    implementation libraries.truth", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NzQ1Nw==", "bodyText": "Trying to build without it:\n/Users/zdapeng/git/grpc-java/gae-interop-testing/gae-jdk8/src/main/java/io/grpc/testing/integration/NettyClientInteropServlet.java:137: error: cannot find symbol\n      assertTrue(builder instanceof NettyChannelBuilder);\n\n\nThe reason should be that truth was a dep of grpc-interop-testing which is now changed from compile to implementation. Only api/compile dep is transitive for compileClasspath across subproject. Implementation dep is transitive for runtimeClasspath.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419747457", "createdAt": "2020-05-04T21:44:21Z", "author": {"login": "dapengzhang0"}, "path": "gae-interop-testing/gae-jdk8/build.gradle", "diffHunk": "@@ -44,16 +44,15 @@ apply plugin: 'com.google.cloud.tools.appengine'  // App Engine tasks\n \n dependencies {\n     providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n-    compile 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n-    // Deps needed by all gRPC apps in GAE\n-    compile libraries.google_api_protos\n-    compile project(\":grpc-okhttp\")\n-    compile project(\":grpc-protobuf\")\n-    compile project(\":grpc-stub\")\n-    compile (project(\":grpc-interop-testing\")) {\n-        exclude group: \"io.grpc\", module: \"grpc-netty-shaded\"\n+    runtimeOnly 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n+    implementation project(':grpc-netty')\n+    implementation project(\":grpc-stub\")\n+    implementation (project(':grpc-interop-testing')) {\n+        exclude group: 'io.grpc', module: 'grpc-alts'\n     }\n-    compile libraries.netty_tcnative\n+    implementation libraries.protobuf\n+    implementation libraries.truth", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1MTU2OQ==", "bodyText": "assertTrue is a junit method. This should probably be implementation libraries.junit.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419751569", "createdAt": "2020-05-04T21:53:09Z", "author": {"login": "ejona86"}, "path": "gae-interop-testing/gae-jdk8/build.gradle", "diffHunk": "@@ -44,16 +44,15 @@ apply plugin: 'com.google.cloud.tools.appengine'  // App Engine tasks\n \n dependencies {\n     providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n-    compile 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n-    // Deps needed by all gRPC apps in GAE\n-    compile libraries.google_api_protos\n-    compile project(\":grpc-okhttp\")\n-    compile project(\":grpc-protobuf\")\n-    compile project(\":grpc-stub\")\n-    compile (project(\":grpc-interop-testing\")) {\n-        exclude group: \"io.grpc\", module: \"grpc-netty-shaded\"\n+    runtimeOnly 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n+    implementation project(':grpc-netty')\n+    implementation project(\":grpc-stub\")\n+    implementation (project(':grpc-interop-testing')) {\n+        exclude group: 'io.grpc', module: 'grpc-alts'\n     }\n-    compile libraries.netty_tcnative\n+    implementation libraries.protobuf\n+    implementation libraries.truth", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1NjA1MQ==", "bodyText": "You are right. My mistake. Done.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419756051", "createdAt": "2020-05-04T22:03:04Z", "author": {"login": "dapengzhang0"}, "path": "gae-interop-testing/gae-jdk8/build.gradle", "diffHunk": "@@ -44,16 +44,15 @@ apply plugin: 'com.google.cloud.tools.appengine'  // App Engine tasks\n \n dependencies {\n     providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n-    compile 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n-    // Deps needed by all gRPC apps in GAE\n-    compile libraries.google_api_protos\n-    compile project(\":grpc-okhttp\")\n-    compile project(\":grpc-protobuf\")\n-    compile project(\":grpc-stub\")\n-    compile (project(\":grpc-interop-testing\")) {\n-        exclude group: \"io.grpc\", module: \"grpc-netty-shaded\"\n+    runtimeOnly 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n+    implementation project(':grpc-netty')\n+    implementation project(\":grpc-stub\")\n+    implementation (project(':grpc-interop-testing')) {\n+        exclude group: 'io.grpc', module: 'grpc-alts'\n     }\n-    compile libraries.netty_tcnative\n+    implementation libraries.protobuf\n+    implementation libraries.truth", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjc3OTczOnYy", "diffSide": "LEFT", "path": "protobuf/build.gradle", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMTozNTo1MlrOGQTHMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMjoxNzoxMVrOGQUOyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ==", "bodyText": "The comment was this way so it would be obvious if it was out-of-date. It is very easy to upgrade a dependency, like google_api_protos, and fail to update to a newer version of the excluded dependency. So this comment was showing that we last verified when google_api_protos depended on protobuf 3.2.0.\nI don't think we want to blindly prefer our version of protobuf.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419743539", "createdAt": "2020-05-04T21:35:52Z", "author": {"login": "ejona86"}, "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,\n             libraries.protobuf\n-    guavaDependency 'compile'\n+    guavaDependency 'implementation'\n \n-    compile (libraries.google_api_protos) {\n+    api (libraries.google_api_protos) {\n         // 'com.google.api:api-common' transitively depends on auto-value, which breaks our\n         // annotations.\n         exclude group: 'com.google.api', module: 'api-common'\n-        // Prefer our more up-to-date protobuf over 3.2.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1MjA0Nw==", "bodyText": "Neither our version or that google_api_protos depends on is 3.2.0 now. What about\n// Prefer our more up-to-date version from from libraries.protobuf\n\n?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419752047", "createdAt": "2020-05-04T21:54:05Z", "author": {"login": "dapengzhang0"}, "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,\n             libraries.protobuf\n-    guavaDependency 'compile'\n+    guavaDependency 'implementation'\n \n-    compile (libraries.google_api_protos) {\n+    api (libraries.google_api_protos) {\n         // 'com.google.api:api-common' transitively depends on auto-value, which breaks our\n         // annotations.\n         exclude group: 'com.google.api', module: 'api-common'\n-        // Prefer our more up-to-date protobuf over 3.2.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1Mzg5NA==", "bodyText": "I'd suggest leaving it as-is for this PR, since it is an unrelated change.\nBut if you'd like to fix it, then change the version to \"3.7.1\", which is the current version brought in (and since we are using 3.11.0, everything is still fine with the exclusion).", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419753894", "createdAt": "2020-05-04T21:58:10Z", "author": {"login": "ejona86"}, "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,\n             libraries.protobuf\n-    guavaDependency 'compile'\n+    guavaDependency 'implementation'\n \n-    compile (libraries.google_api_protos) {\n+    api (libraries.google_api_protos) {\n         // 'com.google.api:api-common' transitively depends on auto-value, which breaks our\n         // annotations.\n         exclude group: 'com.google.api', module: 'api-common'\n-        // Prefer our more up-to-date protobuf over 3.2.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2MTg2Nw==", "bodyText": "Leave it as-is now.", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419761867", "createdAt": "2020-05-04T22:17:11Z", "author": {"login": "dapengzhang0"}, "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,\n             libraries.protobuf\n-    guavaDependency 'compile'\n+    guavaDependency 'implementation'\n \n-    compile (libraries.google_api_protos) {\n+    api (libraries.google_api_protos) {\n         // 'com.google.api:api-common' transitively depends on auto-value, which breaks our\n         // annotations.\n         exclude group: 'com.google.api', module: 'api-common'\n-        // Prefer our more up-to-date protobuf over 3.2.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}, "originalCommit": {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjExODkwOnYy", "diffSide": "RIGHT", "path": "all/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMjo0MjoxMlrOGSSzZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMzowMDozMlrOGSTL0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTYyMA==", "bodyText": "It seems we should use api here. @ejona86 what do you think?", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r421835620", "createdAt": "2020-05-07T22:42:12Z", "author": {"login": "dapengzhang0"}, "path": "all/build.gradle", "diffHunk": "@@ -31,7 +31,7 @@ for (subproject in rootProject.subprojects) {\n }\n \n dependencies {\n-    compile subprojects.minus(project(':grpc-protobuf-lite'))\n+    implementation subprojects.minus(project(':grpc-protobuf-lite'))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0c33c918847180f068a5e0b46e9263c49a1c14d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg0MTg3Mw==", "bodyText": "It is probably better to use api to avoid breaking people. That said, I don't have too much sympathy for someone using grpc-all these days (vs early-on-pre-1.0 when it was used more heavily).", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r421841873", "createdAt": "2020-05-07T23:00:32Z", "author": {"login": "ejona86"}, "path": "all/build.gradle", "diffHunk": "@@ -31,7 +31,7 @@ for (subproject in rootProject.subprojects) {\n }\n \n dependencies {\n-    compile subprojects.minus(project(':grpc-protobuf-lite'))\n+    implementation subprojects.minus(project(':grpc-protobuf-lite'))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTYyMA=="}, "originalCommit": {"oid": "a0c33c918847180f068a5e0b46e9263c49a1c14d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2659, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}