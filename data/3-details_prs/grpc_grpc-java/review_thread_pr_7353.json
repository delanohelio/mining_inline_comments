{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNjIzMzY1", "number": 7353, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxODoyOTozN1rOEcskUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo1MToyMVrOEcuYcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NTI1Nzc3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/io/grpc/internal/HedgingPolicy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxODoyOTozN1rOHHYeeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTowMToxOVrOHHZi8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwMzA5Ng==", "bodyText": "Is there anything blocking this to be deleted? Otherwise, we can just get rid of this now.", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477503096", "createdAt": "2020-08-26T18:29:37Z", "author": {"login": "voidzcy"}, "path": "core/src/main/java/io/grpc/internal/HedgingPolicy.java", "diffHunk": "@@ -75,6 +71,8 @@ public String toString() {\n         .toString();\n   }\n \n+  // TODO(zdapeng): delete this because HedgingPolicy will be always available prior to starting\n+  //  RetriableStream.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDYyNA==", "bodyText": "Some tests need change accordingly, so I decided to change it in next PR.", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477520624", "createdAt": "2020-08-26T19:01:19Z", "author": {"login": "dapengzhang0"}, "path": "core/src/main/java/io/grpc/internal/HedgingPolicy.java", "diffHunk": "@@ -75,6 +71,8 @@ public String toString() {\n         .toString();\n   }\n \n+  // TODO(zdapeng): delete this because HedgingPolicy will be always available prior to starting\n+  //  RetriableStream.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwMzA5Ng=="}, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NTUyMTY2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/io/grpc/internal/HedgingPolicy.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0MTozMFrOHHbDgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0MTozMFrOHHbDgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0NTM0NQ==", "bodyText": "Optional since I guess this whole block is marked for deletion, but \"Never returns null\" contradicts the new annotation.", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477545345", "createdAt": "2020-08-26T19:41:30Z", "author": {"login": "ericgribkoff"}, "path": "core/src/main/java/io/grpc/internal/HedgingPolicy.java", "diffHunk": "@@ -83,6 +81,7 @@ public String toString() {\n     /**\n      * This method is used no more than once for each call. Never returns null.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NTU0MDkyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/io/grpc/internal/RetryPolicy.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0NzoxNFrOHHbPXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0NzoxNFrOHHbPXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0ODM4Mw==", "bodyText": "Same comment here about never returns null", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477548383", "createdAt": "2020-08-26T19:47:14Z", "author": {"login": "ericgribkoff"}, "path": "core/src/main/java/io/grpc/internal/RetryPolicy.java", "diffHunk": "@@ -100,6 +97,7 @@ public String toString() {\n     /**\n      * This method is used no more than once for each call. Never returns null.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NTU1NTA2OnYy", "diffSide": "LEFT", "path": "core/src/main/java/io/grpc/internal/RetriableStream.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo1MToyMVrOHHbX7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDozNDo1MlrOHHcvbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU1MDU3Mw==", "bodyText": "It's not immediately clear to me why this block is no longer necessary.  retryPolicy was not accessed in this function after this conditional even before this PR - was it previously unnecessary, and this is just cleaning up? Or was the assignment of retryPolicy required before this change and not required now?", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477550573", "createdAt": "2020-08-26T19:51:21Z", "author": {"login": "ericgribkoff"}, "path": "core/src/main/java/io/grpc/internal/RetriableStream.java", "diffHunk": "@@ -831,11 +830,6 @@ public void run() {\n         } else {\n           noMoreTransparentRetry.set(true);\n \n-          if (retryPolicy == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU3Mjk3NA==", "bodyText": "This block is moved to makeRetryDecision().", "url": "https://github.com/grpc/grpc-java/pull/7353#discussion_r477572974", "createdAt": "2020-08-26T20:34:52Z", "author": {"login": "dapengzhang0"}, "path": "core/src/main/java/io/grpc/internal/RetriableStream.java", "diffHunk": "@@ -831,11 +830,6 @@ public void run() {\n         } else {\n           noMoreTransparentRetry.set(true);\n \n-          if (retryPolicy == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU1MDU3Mw=="}, "originalCommit": {"oid": "bb2f3217752d148291ff364a06855c3638944a2e"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2488, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}