{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NzM1MTQ3", "number": 7046, "title": "rls: update proto", "bodyText": "the deprecated fields in this import will be removed shortly. update related code", "createdAt": "2020-05-15T18:18:41Z", "url": "https://github.com/grpc/grpc-java/pull/7046", "merged": true, "mergeCommit": {"oid": "4a80b42118a7d0dae69bb3f6da6745cb54eabf13"}, "closed": true, "closedAt": "2020-05-15T19:27:06Z", "author": {"login": "creamsoup"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchl-xXAH2gAyNDE4NzM1MTQ3OjllOTNlNGM4YTc2ZGQ0MWIyY2E4YzMwOGMyZDEzMDdkYmQwZGE4M2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchm82_gH2gAyNDE4NzM1MTQ3OmI3YmI3NDg4MDQyOWVhODcxMjJlMDQ1MTg4ZGJlMmY3N2YwZTFhOGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9e93e4c8a76dd41b2ca8c308c2d1307dbd0da83a", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/9e93e4c8a76dd41b2ca8c308c2d1307dbd0da83a", "committedDate": "2020-05-15T18:00:38Z", "message": "rls: import proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a0428bcc90f48619598727d9ff9ead445424c8d", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/8a0428bcc90f48619598727d9ff9ead445424c8d", "committedDate": "2020-05-15T18:00:50Z", "message": "use targets instead of target"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9146da83ce4ebd56df2d2351cec38395a08ea982", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/9146da83ce4ebd56df2d2351cec38395a08ea982", "committedDate": "2020-05-15T18:21:28Z", "message": "remove request processing strategy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cb36afb1968db71164854b23f4e482adb9f4839", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/6cb36afb1968db71164854b23f4e482adb9f4839", "committedDate": "2020-05-15T18:26:14Z", "message": "fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODc1NzMy", "url": "https://github.com/grpc/grpc-java/pull/7046#pullrequestreview-412875732", "createdAt": "2020-05-15T18:30:06Z", "commit": {"oid": "9146da83ce4ebd56df2d2351cec38395a08ea982"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxODozMDowNlrOGWPkpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxODozMDo1MFrOGWPmMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Njk5OQ==", "bodyText": "The 2nd constructor arg no longer @Nullable?", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425976999", "createdAt": "2020-05-15T18:30:06Z", "author": {"login": "dapengzhang0"}, "path": "rls/src/main/java/io/grpc/rls/CachingRlsLbClient.java", "diffHunk": "@@ -133,15 +132,9 @@ private CachingRlsLbClient(Builder builder) {\n     backoffProvider = builder.backoffProvider;\n     ChildLoadBalancerHelperProvider childLbHelperProvider =\n         new ChildLoadBalancerHelperProvider(helper, new SubchannelStateManagerImpl(), rlsPicker);\n-    if (rlsConfig.getRequestProcessingStrategy()\n-        == RequestProcessingStrategy.SYNC_LOOKUP_CLIENT_SEES_ERROR) {\n-      refCountedChildPolicyWrapperFactory =\n-          new RefCountedChildPolicyWrapperFactory(\n-              childLbHelperProvider, new BackoffRefreshListener());\n-    } else {\n-      refCountedChildPolicyWrapperFactory =\n-          new RefCountedChildPolicyWrapperFactory(childLbHelperProvider, null);\n-    }\n+    refCountedChildPolicyWrapperFactory =\n+        new RefCountedChildPolicyWrapperFactory(\n+            childLbHelperProvider, new BackoffRefreshListener());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9146da83ce4ebd56df2d2351cec38395a08ea982"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NzM5NA==", "bodyText": "nit: No need comment. The code explains itself.", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425977394", "createdAt": "2020-05-15T18:30:50Z", "author": {"login": "dapengzhang0"}, "path": "rls/src/main/java/io/grpc/rls/CachingRlsLbClient.java", "diffHunk": "@@ -852,13 +845,13 @@ public PickResult pickSubchannel(PickSubchannelArgs args) {\n           case READY:\n             return childPolicyWrapper.getPicker().pickSubchannel(rlsAppliedArgs);\n           case TRANSIENT_FAILURE:\n-            return handleError(rlsAppliedArgs, Status.INTERNAL);\n+            // fall-through", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9146da83ce4ebd56df2d2351cec38395a08ea982"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "927d8f3443938b737bce678bf3348a8e5ce103c3", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/927d8f3443938b737bce678bf3348a8e5ce103c3", "committedDate": "2020-05-15T18:47:09Z", "message": "remove lb status listener not optional, remove fall-through"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODkyMzMz", "url": "https://github.com/grpc/grpc-java/pull/7046#pullrequestreview-412892333", "createdAt": "2020-05-15T18:56:25Z", "commit": {"oid": "927d8f3443938b737bce678bf3348a8e5ce103c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7bb74880429ea87122e045188dbe2f77f0e1a8a", "author": {"user": {"login": "creamsoup", "name": "Jihun Cho"}}, "url": "https://github.com/grpc/grpc-java/commit/b7bb74880429ea87122e045188dbe2f77f0e1a8a", "committedDate": "2020-05-15T19:08:27Z", "message": "update bazel grpc_proto version"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4431, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}