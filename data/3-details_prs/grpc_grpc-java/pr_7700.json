{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMTk5MDk4", "number": 7700, "title": "Modify the way of getHedgingServiceConfig in io.grpc.examples.hedging.HedgingHelloWorldClient", "bodyText": "For-#7699", "createdAt": "2020-12-06T13:44:18Z", "url": "https://github.com/grpc/grpc-java/pull/7700", "merged": true, "mergeCommit": {"oid": "f5865d5bf29ab0205239b1831013fbf5cb4584d8"}, "closed": true, "closedAt": "2020-12-10T00:21:24Z", "author": {"login": "horizonzy"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjhJeWAH2gAyNTMzMTk5MDk4OjIyMGNiNGI1ZjI4NjdhMmQzMDQwNDM3MDA3YmQ4MjcyNzhlMDIzM2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdknZyBAFqTU0ODcwMTM2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "220cb4b5f2867a2d3040437007bd827278e0233b", "author": {"user": {"login": "horizonzy", "name": "\u8d75\u5ef6"}}, "url": "https://github.com/grpc/grpc-java/commit/220cb4b5f2867a2d3040437007bd827278e0233b", "committedDate": "2020-12-06T13:41:48Z", "message": "modify the way of getHedgingServiceConfig"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NjQyMjk1", "url": "https://github.com/grpc/grpc-java/pull/7700#pullrequestreview-546642295", "createdAt": "2020-12-08T00:03:46Z", "commit": {"oid": "220cb4b5f2867a2d3040437007bd827278e0233b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwMDowMzo0N1rOIBAkow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwMDowMzo0N1rOIBAkow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzkyODg2Nw==", "bodyText": "Move the Map creation to this line; don't add the getHedgingServiceConfig method. And please use 4 spaces instead of 8 for indentation (we actually use 2, but 4 for line continuations; after the first indent of 4 spaces, the rest could have been 2 spaces).\nThe method should have been a private method and adds an indirection. We want our examples to be very concrete and clear, which means favoring less indirection and more \"it looks like a basic script.\"", "url": "https://github.com/grpc/grpc-java/pull/7700#discussion_r537928867", "createdAt": "2020-12-08T00:03:47Z", "author": {"login": "ejona86"}, "path": "examples/src/main/java/io/grpc/examples/hedging/HedgingHelloWorldClient.java", "diffHunk": "@@ -49,23 +49,25 @@\n   private final PriorityBlockingQueue<Long> latencies = new PriorityBlockingQueue<>();\n   private final AtomicInteger failedRpcs = new AtomicInteger();\n \n+  protected Map<String, ?> getHedgingServiceConfig() {\n+    return new Gson()\n+            .fromJson(\n+                    new JsonReader(\n+                            new InputStreamReader(\n+                                    HedgingHelloWorldClient.class.getResourceAsStream(\n+                                            \"hedging_service_config.json\"),\n+                                    UTF_8)),\n+                    Map.class);\n+  }\n+\n   /** Construct client connecting to HelloWorld server at {@code host:port}. */\n   public HedgingHelloWorldClient(String host, int port, boolean hedging) {\n-    Map<String, ?> hedgingServiceConfig =\n-      new Gson()\n-          .fromJson(\n-              new JsonReader(\n-                  new InputStreamReader(\n-                      HedgingHelloWorldClient.class.getResourceAsStream(\n-                          \"hedging_service_config.json\"),\n-                      UTF_8)),\n-              Map.class);\n-\n     ManagedChannelBuilder<?> channelBuilder = ManagedChannelBuilder.forAddress(host, port)\n         // Channels are secure by default (via SSL/TLS). For the example we disable TLS to avoid\n         // needing certificates.\n         .usePlaintext();\n     if (hedging) {\n+      Map<String, ?> hedgingServiceConfig = getHedgingServiceConfig();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "220cb4b5f2867a2d3040437007bd827278e0233b"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e89ee51a6763eb0562e7ede7a531e7ee82559f80", "author": {"user": {"login": "horizonzy", "name": "\u8d75\u5ef6"}}, "url": "https://github.com/grpc/grpc-java/commit/e89ee51a6763eb0562e7ede7a531e7ee82559f80", "committedDate": "2020-12-08T00:34:13Z", "message": "code refactor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35b97ca0a19dd7ec624fcc877b0c54644bcb5146", "author": {"user": {"login": "horizonzy", "name": "\u8d75\u5ef6"}}, "url": "https://github.com/grpc/grpc-java/commit/35b97ca0a19dd7ec624fcc877b0c54644bcb5146", "committedDate": "2020-12-08T00:34:30Z", "message": "Merge remote-tracking branch 'origin/7699' into 7699\n\n# Conflicts:\n#\texamples/src/main/java/io/grpc/examples/hedging/HedgingHelloWorldClient.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NjY0NDk5", "url": "https://github.com/grpc/grpc-java/pull/7700#pullrequestreview-548664499", "createdAt": "2020-12-09T22:24:44Z", "commit": {"oid": "35b97ca0a19dd7ec624fcc877b0c54644bcb5146"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NzAxMzY4", "url": "https://github.com/grpc/grpc-java/pull/7700#pullrequestreview-548701368", "createdAt": "2020-12-09T23:32:58Z", "commit": {"oid": "35b97ca0a19dd7ec624fcc877b0c54644bcb5146"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4741, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}