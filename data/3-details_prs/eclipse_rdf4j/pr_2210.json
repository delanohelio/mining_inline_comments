{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NzY5ODM2", "number": 2210, "title": "GH-2209 Reproduce Changeset concurrent modification exception", "bodyText": "Briefly describe the changes proposed in this PR:\nReproduces: GH-2209\nThis reproduces the issue that we are seeing in Jenkins every once in a while.\n\nPR Author Checklist:\n\n my pull request is self-contained\n I've added tests for the changes I made\n every commit message starts with the issue number (GH-xxxx) followed by a meaningful description of the change\n every commit has been signed off\n\nNote: we merge all feature pull requests using squash and merge. See RDF4J git merge strategy for more details.", "createdAt": "2020-05-10T19:35:38Z", "url": "https://github.com/eclipse/rdf4j/pull/2210", "merged": true, "mergeCommit": {"oid": "03f8cd8d0d3700d7774624daa083513dafe8435f"}, "closed": true, "closedAt": "2020-05-16T01:48:20Z", "author": {"login": "hmottestad"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgAStvAH2gAyNDE1NzY5ODM2OmMyM2VhYzVjODMwYzU0NjE2ZmRmYTIzMzE0NTk2YjI1ZjQ4NDNhZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchqs7QAFqTQxMzAxNzc5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c23eac5c830c54616fdfa23314596b25f4843ae5", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/c23eac5c830c54616fdfa23314596b25f4843ae5", "committedDate": "2020-05-10T19:32:06Z", "message": "GH-2209 reproduce error\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41503e9f48a53b9660e64d4ef04d11a54a54bb9a", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/41503e9f48a53b9660e64d4ef04d11a54a54bb9a", "committedDate": "2020-05-10T21:20:40Z", "message": "fails faster and also a quick fix for GH-2211\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzAyNTUx", "url": "https://github.com/eclipse/rdf4j/pull/2210#pullrequestreview-409702551", "createdAt": "2020-05-12T05:11:34Z", "commit": {"oid": "41503e9f48a53b9660e64d4ef04d11a54a54bb9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNToxMTozNFrOGT2S1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNToxMTozNFrOGT2S1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ2NTY4Ng==", "bodyText": "I assume this is here merely for testing/demonstration purposes, and not intended to be a fix for anything?", "url": "https://github.com/eclipse/rdf4j/pull/2210#discussion_r423465686", "createdAt": "2020-05-12T05:11:34Z", "author": {"login": "jeenbroekstra"}, "path": "core/model/src/main/java/org/eclipse/rdf4j/model/impl/LinkedHashModel.java", "diffHunk": "@@ -200,7 +200,9 @@ public Iterator iterator() {\n \n \t@Override\n \tpublic boolean contains(Resource subj, IRI pred, Value obj, Resource... contexts) {\n-\t\treturn matchPattern(subj, pred, obj, contexts).hasNext();\n+\t\tModelIterator modelIterator = matchPattern(subj, pred, obj, contexts);\n+\t\tThread.yield();\n+\t\treturn modelIterator.hasNext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41503e9f48a53b9660e64d4ef04d11a54a54bb9a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5411faafca0e566e640f48bde382ad49774e2d6", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/d5411faafca0e566e640f48bde382ad49774e2d6", "committedDate": "2020-05-12T09:30:01Z", "message": "internalized the models and synchronized all calls\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "902a373042b95a829f819f4a451c8bd5c7a4c876", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/902a373042b95a829f819f4a451c8bd5c7a4c876", "committedDate": "2020-05-12T20:39:20Z", "message": "some cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "307ea8f495390c06b2d29849d1133cef64540191", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/307ea8f495390c06b2d29849d1133cef64540191", "committedDate": "2020-05-12T20:44:13Z", "message": "more cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c84d079c138752fe2d1ea66803b809dbc5e28da", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/0c84d079c138752fe2d1ea66803b809dbc5e28da", "committedDate": "2020-05-12T20:52:40Z", "message": "temporarily disable code compatability checks so we can run the tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ec8bd2e2473af4cf8ef33b43f2f167d842c3127", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/5ec8bd2e2473af4cf8ef33b43f2f167d842c3127", "committedDate": "2020-05-13T05:20:39Z", "message": "Update pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb94904e10957bc39ccf5067a5b2b52fd8d4ec97", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/fb94904e10957bc39ccf5067a5b2b52fd8d4ec97", "committedDate": "2020-05-14T12:17:59Z", "message": "reverting some code used while testing\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31104963be78b5eb3920c077c59da74fe8dcafaa", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/31104963be78b5eb3920c077c59da74fe8dcafaa", "committedDate": "2020-05-14T12:13:38Z", "message": "reverting some code used while testing\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}, "afterCommit": {"oid": "fb94904e10957bc39ccf5067a5b2b52fd8d4ec97", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/fb94904e10957bc39ccf5067a5b2b52fd8d4ec97", "committedDate": "2020-05-14T12:17:59Z", "message": "reverting some code used while testing\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73cc40fc255727c28681d351aba90055d40882ab", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/73cc40fc255727c28681d351aba90055d40882ab", "committedDate": "2020-05-14T13:31:38Z", "message": "added test and reduced public methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8010cd48c4f46afffc670dd45ba12f43e867da68", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/8010cd48c4f46afffc670dd45ba12f43e867da68", "committedDate": "2020-05-14T13:39:00Z", "message": "revert publiv methods and more thread safety"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7a3d2d2e16bd6f18a64a7851b3dfe77b5ad4b34", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/e7a3d2d2e16bd6f18a64a7851b3dfe77b5ad4b34", "committedDate": "2020-05-15T09:17:26Z", "message": "fix nullpointer exception that causes build to time out"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de31c9c693d432d6e055d7a931b7d3f4869c5749", "author": {"user": {"login": "hmottestad", "name": null}}, "url": "https://github.com/eclipse/rdf4j/commit/de31c9c693d432d6e055d7a931b7d3f4869c5749", "committedDate": "2020-05-15T10:19:16Z", "message": "Merge branch 'master' into GH-2209-changeset-concurrent-modification\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDE3Nzk1", "url": "https://github.com/eclipse/rdf4j/pull/2210#pullrequestreview-413017795", "createdAt": "2020-05-15T23:30:40Z", "commit": {"oid": "de31c9c693d432d6e055d7a931b7d3f4869c5749"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 153, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}