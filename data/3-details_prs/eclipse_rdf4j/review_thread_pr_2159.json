{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMDQ5ODAx", "number": 2159, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyNzo0M1rOD43TWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyOToyOFrOD43UwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUyOTIxOnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/DataFile.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyNzo0M1rOGPz7Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyNzo0M1rOGPz7Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMjU0Nw==", "bodyText": "new public method", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419232547", "createdAt": "2020-05-04T06:27:43Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/DataFile.java", "diffHunk": "@@ -191,6 +191,10 @@ public void sync() throws IOException {\n \t\t}\n \t}\n \n+\tpublic void sync(boolean force) throws IOException {\n+\t\tnioFile.force(force);\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUyOTg4OnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/HashFile.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODowNFrOGPz7hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODowNFrOGPz7hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMjY0Ng==", "bodyText": "new public constructor", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419232646", "createdAt": "2020-05-04T06:28:04Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/HashFile.java", "diffHunk": "@@ -91,6 +89,10 @@ public HashFile(File file) throws IOException {\n \t}\n \n \tpublic HashFile(File file, boolean forceSync) throws IOException {\n+\t\tthis(file, forceSync, 512); // 512 is default initial size\n+\t}\n+\n+\tpublic HashFile(File file, boolean forceSync, int initialSize) throws IOException {\n \t\tthis.nioFile = new NioFile(file);\n \t\tthis.forceSync = forceSync;\n \t\tloadFactor = 0.75f;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUzMDI5OnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/HashFile.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODoxNVrOGPz7xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODoxNVrOGPz7xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMjcwOQ==", "bodyText": "new public method", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419232709", "createdAt": "2020-05-04T06:28:15Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/HashFile.java", "diffHunk": "@@ -255,6 +258,11 @@ public void sync() throws IOException {\n \t\t}\n \t}\n \n+\tpublic void sync(boolean force) throws IOException {\n+\t\tsync();\n+\t\tnioFile.force(force);\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUzMDcxOnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/IDFile.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODoyNVrOGPz8CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODoyNVrOGPz8CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMjc3Ng==", "bodyText": "new public method", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419232776", "createdAt": "2020-05-04T06:28:25Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/IDFile.java", "diffHunk": "@@ -249,6 +249,10 @@ public void sync() throws IOException {\n \t\t}\n \t}\n \n+\tpublic void sync(boolean force) throws IOException {\n+\t\tnioFile.force(false);\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUzMDk1OnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/IDFile.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODozMlrOGPz8KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyODozMlrOGPz8KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMjgwOQ==", "bodyText": "new public method", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419232809", "createdAt": "2020-05-04T06:28:32Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/main/java/org/eclipse/rdf4j/sail/nativerdf/datastore/IDFile.java", "diffHunk": "@@ -284,4 +288,11 @@ public void close() throws IOException {\n \t\t}\n \t\treturn cacheLine;\n \t}\n+\n+\tsynchronized public void clearCache() {\n+\t\tcache.clear();\n+\t\tgcReducingCacheIndex = -1;\n+\t\tgcReducingCache = null;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTUzMjgwOnYy", "diffSide": "RIGHT", "path": "core/sail/nativerdf/src/test/java/org/eclipse/rdf4j/sail/nativerdf/benchmark/Main.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyOToyOFrOGPz9Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNjoyOToyOFrOGPz9Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIzMzA5MA==", "bodyText": "to run benchmarks from eclipse", "url": "https://github.com/eclipse/rdf4j/pull/2159#discussion_r419233090", "createdAt": "2020-05-04T06:29:28Z", "author": {"login": "hmottestad"}, "path": "core/sail/nativerdf/src/test/java/org/eclipse/rdf4j/sail/nativerdf/benchmark/Main.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eclipse RDF4J contributors.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Distribution License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/org/documents/edl-v10.php.\n+ *******************************************************************************/\n+\n+package org.eclipse.rdf4j.sail.nativerdf.benchmark;\n+\n+import org.openjdk.jmh.runner.Runner;\n+import org.openjdk.jmh.runner.RunnerException;\n+import org.openjdk.jmh.runner.options.Options;\n+import org.openjdk.jmh.runner.options.OptionsBuilder;\n+\n+/**\n+ * @author H\u00e5vard Ottestad\n+ */\n+\n+public class Main {\n+\n+\tpublic static void main(String[] args) throws RunnerException {\n+\t\tOptions opt = new OptionsBuilder()\n+\t\t\t\t.include(\"\")\n+//\t\t\t\t.include(\"DataFileBenchmark.write$\")\n+//\t\t\t\t.forks(0)\n+\t\t\t\t.build();\n+\n+\t\tnew Runner(opt).run();\n+\t}\n+\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "549467b570b79d429aafcfa7241f954763ae7cf4"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1473, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}