{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMzU4NDE5", "number": 2177, "title": "GH-2175: Introduced new system property to configure SharedHttpClient\u2026", "bodyText": "GitHub issue resolved: #2175\nBriefly describe the changes proposed in this PR:\n\n\nIntroduces a new system property (org.eclipse.rdf4j.client.executors.corePoolSize) to configure the core thread pool size of SharedHttpClientSessionManager#executor.\n\n\nChanges the default value of the SharedHttpClientSessionManager#executor core thread pool size from 0 to 1.\n\n\nThis new system property replaces the hotfix system property (org.eclipse.rdf4j.client.executors.jdkbug) introduced in #1272.\n\n\n\nPR Author Checklist:\n\n my pull request is self-contained\n I've added tests for the changes I made\n every commit message starts with the issue number (GH-xxxx) followed by a meaningful description of the change\n every commit has been signed off\n\nNote: we merge all feature pull requests using squash and merge. See RDF4J git merge strategy for more details.", "createdAt": "2020-05-05T07:49:11Z", "url": "https://github.com/eclipse/rdf4j/pull/2177", "merged": true, "mergeCommit": {"oid": "d406b1f43a87584cd207b8f0dbf9bcf0382065e6"}, "closed": true, "closedAt": "2020-05-06T23:50:28Z", "author": {"login": "erikgb"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcePwF9gBqjMzMDMxNzU2NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcegcorgFqTQwNjI4ODk5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e024593361afc7c09c68e52afce1f0f9324f9f4", "author": {"user": {"login": "erikgb", "name": "Erik Godding Boye"}}, "url": "https://github.com/eclipse/rdf4j/commit/0e024593361afc7c09c68e52afce1f0f9324f9f4", "committedDate": "2020-05-05T07:32:06Z", "message": "GH-2175: Introduced new system property to configure SharedHttpClientSessionManager#executor corePoolSize\n\nSigned-off-by: Erik Godding Boye <1142578+erikgb@users.noreply.github.com>"}, "afterCommit": {"oid": "af959f520a0e01507371d5c6d4866bd1d64168e7", "author": {"user": {"login": "erikgb", "name": "Erik Godding Boye"}}, "url": "https://github.com/eclipse/rdf4j/commit/af959f520a0e01507371d5c6d4866bd1d64168e7", "committedDate": "2020-05-05T08:24:43Z", "message": "GH-2175: Introduced new system property to configure SharedHttpClientSessionManager#executor corePoolSize\n\nSigned-off-by: Erik Godding Boye <1142578+erikgb@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NTkyMzI5", "url": "https://github.com/eclipse/rdf4j/pull/2177#pullrequestreview-405592329", "createdAt": "2020-05-05T08:38:10Z", "commit": {"oid": "af959f520a0e01507371d5c6d4866bd1d64168e7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwODozODoxMFrOGQfqqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwODozODoxMFrOGQfqqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk0OTIyNg==", "bodyText": "Shouldn't this use System.getProperty to get the value of the property?", "url": "https://github.com/eclipse/rdf4j/pull/2177#discussion_r419949226", "createdAt": "2020-05-05T08:38:10Z", "author": {"login": "jeenbroekstra"}, "path": "core/http/client/src/main/java/org/eclipse/rdf4j/http/client/SharedHttpClientSessionManager.java", "diffHunk": "@@ -66,7 +63,8 @@\n \n \tpublic SharedHttpClientSessionManager() {\n \t\tfinal ThreadFactory backingThreadFactory = Executors.defaultThreadFactory();\n-\t\tthis.executor = Executors.newScheduledThreadPool(cores, (Runnable runnable) -> {\n+\t\tfinal Integer corePoolSize = Integer.getInteger(CORE_POOL_SIZE_PROPERTY, 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af959f520a0e01507371d5c6d4866bd1d64168e7"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "604d51149a9593351423324115771ee35021b443", "author": {"user": {"login": "erikgb", "name": "Erik Godding Boye"}}, "url": "https://github.com/eclipse/rdf4j/commit/604d51149a9593351423324115771ee35021b443", "committedDate": "2020-05-05T09:23:40Z", "message": "GH-2175: Introduced new system property to configure SharedHttpClientSessionManager#executor corePoolSize\n\nSigned-off-by: Erik Godding Boye <1142578+erikgb@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af959f520a0e01507371d5c6d4866bd1d64168e7", "author": {"user": {"login": "erikgb", "name": "Erik Godding Boye"}}, "url": "https://github.com/eclipse/rdf4j/commit/af959f520a0e01507371d5c6d4866bd1d64168e7", "committedDate": "2020-05-05T08:24:43Z", "message": "GH-2175: Introduced new system property to configure SharedHttpClientSessionManager#executor corePoolSize\n\nSigned-off-by: Erik Godding Boye <1142578+erikgb@users.noreply.github.com>"}, "afterCommit": {"oid": "604d51149a9593351423324115771ee35021b443", "author": {"user": {"login": "erikgb", "name": "Erik Godding Boye"}}, "url": "https://github.com/eclipse/rdf4j/commit/604d51149a9593351423324115771ee35021b443", "committedDate": "2020-05-05T09:23:40Z", "message": "GH-2175: Introduced new system property to configure SharedHttpClientSessionManager#executor corePoolSize\n\nSigned-off-by: Erik Godding Boye <1142578+erikgb@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mjg4OTkz", "url": "https://github.com/eclipse/rdf4j/pull/2177#pullrequestreview-406288993", "createdAt": "2020-05-06T03:52:03Z", "commit": {"oid": "604d51149a9593351423324115771ee35021b443"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 149, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}