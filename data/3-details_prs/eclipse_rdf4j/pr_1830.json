{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNzg0Nzc2", "number": 1830, "title": "GH-1739 strip context", "bodyText": "GitHub issue resolved: #1739 \nBriefly describe the changes proposed in this PR:\n\nadded Statements.stripContext\nadded Models.stripContexts\nadedd unit tests", "createdAt": "2020-01-12T01:57:33Z", "url": "https://github.com/eclipse/rdf4j/pull/1830", "merged": true, "mergeCommit": {"oid": "b8d482a19e2a69492480b1f5d895a48d1d08fbb9"}, "closed": true, "closedAt": "2020-01-13T08:01:53Z", "author": {"login": "jeenbroekstra"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5d5jDgBqjI5NDA5NjE3NjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5oXRXAFqTM0MTU3NzcxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b44e92beefb5c25514203303477745cffa3d166", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/4b44e92beefb5c25514203303477745cffa3d166", "committedDate": "2020-01-12T01:55:45Z", "message": "GH-1739 add Statements#stripContext"}, "afterCommit": {"oid": "e42348c008b728dad35fa327b984bdeb98893ed5", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/e42348c008b728dad35fa327b984bdeb98893ed5", "committedDate": "2020-01-12T01:58:29Z", "message": "GH-1739 add Statements#stripContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd12da2dd7288cec6b80989ef43ae65afd1e6748", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/bd12da2dd7288cec6b80989ef43ae65afd1e6748", "committedDate": "2020-01-12T02:54:41Z", "message": "fix formatting"}, "afterCommit": {"oid": "e8321c2c1fb7cf994d64a84c84041ecc3e15b96f", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/e8321c2c1fb7cf994d64a84c84041ecc3e15b96f", "committedDate": "2020-01-12T02:55:51Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8321c2c1fb7cf994d64a84c84041ecc3e15b96f", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/e8321c2c1fb7cf994d64a84c84041ecc3e15b96f", "committedDate": "2020-01-12T02:55:51Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}, "afterCommit": {"oid": "034cad64648849fcbc4bc341ae54221f393c5fd5", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/034cad64648849fcbc4bc341ae54221f393c5fd5", "committedDate": "2020-01-12T03:06:21Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/317a3422f7412f29c0df2fd71caa2c79a2fc7ac2", "committedDate": "2020-01-12T03:08:58Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "034cad64648849fcbc4bc341ae54221f393c5fd5", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/034cad64648849fcbc4bc341ae54221f393c5fd5", "committedDate": "2020-01-12T03:06:21Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}, "afterCommit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/317a3422f7412f29c0df2fd71caa2c79a2fc7ac2", "committedDate": "2020-01-12T03:08:58Z", "message": "GH-1739 add Statements#stripContext\n\nGH-1739 add stripContexts to Models util"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNTUyMTY4", "url": "https://github.com/eclipse/rdf4j/pull/1830#pullrequestreview-341552168", "createdAt": "2020-01-12T03:32:31Z", "commit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQwMzozMjozMlrOFcnuDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQwMzozMjozMlrOFcnuDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU1NTIxNQ==", "bodyText": "Sorry for the import reorg, I've temporarily been using IntelliJ instead of Eclipse and obviously hit the wrong key combo somewhere.", "url": "https://github.com/eclipse/rdf4j/pull/1830#discussion_r365555215", "createdAt": "2020-01-12T03:32:32Z", "author": {"login": "jeenbroekstra"}, "path": "core/model/src/main/java/org/eclipse/rdf4j/model/util/Models.java", "diffHunk": "@@ -32,6 +24,15 @@\n import java.util.stream.Collectors;\n import java.util.stream.StreamSupport;\n \n+import org.eclipse.rdf4j.model.BNode;\n+import org.eclipse.rdf4j.model.IRI;\n+import org.eclipse.rdf4j.model.Literal;\n+import org.eclipse.rdf4j.model.Model;\n+import org.eclipse.rdf4j.model.Resource;\n+import org.eclipse.rdf4j.model.Statement;\n+import org.eclipse.rdf4j.model.Value;\n+import org.eclipse.rdf4j.model.impl.LinkedHashModel;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNTc3NzE5", "url": "https://github.com/eclipse/rdf4j/pull/1830#pullrequestreview-341577719", "createdAt": "2020-01-12T14:10:13Z", "commit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQxNDoxMDoxM1rOFcplLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQxNDoxMDoxM1rOFcplLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU4NTcwOA==", "bodyText": "That's pretty sweet :)", "url": "https://github.com/eclipse/rdf4j/pull/1830#discussion_r365585708", "createdAt": "2020-01-12T14:10:13Z", "author": {"login": "hmottestad"}, "path": "core/model/src/main/java/org/eclipse/rdf4j/model/util/Models.java", "diffHunk": "@@ -488,6 +489,27 @@ public static boolean isSubset(Set<? extends Statement> model1, Set<? extends St\n \t\treturn isSubsetInternal(toSet(model1), toModel(model2));\n \t}\n \n+\t/**\n+\t * Strips contexts from the input model. This method provides a new {@link Model} containing all statements from the\n+\t * input model, with the supplied contexts removed from those statements.\n+\t *\n+\t * @param model    the input model\n+\t * @param contexts the contexts to remove. This is a vararg and as such is optional. If not supplied, the method\n+\t *                 strips <i>all</i> contexts.\n+\t * @return a new {@link Model} object containg the same statements as the input model, with the supplied contexts\n+\t *         stripped.\n+\t */\n+\tpublic static Model stripContexts(Model model, Resource... contexts) {\n+\t\tfinal List<Resource> contextList = Arrays.asList(contexts);\n+\t\treturn model.stream().map(st -> {\n+\t\t\tif (contextList.isEmpty() || contextList.contains(st.getContext())) {\n+\t\t\t\treturn Statements.stripContext(st);\n+\t\t\t} else {\n+\t\t\t\treturn st;\n+\t\t\t}\n+\t\t}).collect(Collectors.toCollection(LinkedHashModel::new));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "317a3422f7412f29c0df2fd71caa2c79a2fc7ac2"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 52, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}