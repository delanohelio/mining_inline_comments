{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1Nzc1ODMy", "number": 2109, "title": "GH-2093 import order formatting", "bodyText": "GitHub issue resolved: #2093 \nBriefly describe the changes proposed in this PR:\n\nadded maven plugin to automatically fix order of imports as part of default build cycle.\nmodified maven build to automatically apply formatting changes and sorting in local build, instead of just checking and failing.\nCI checks formatting and import sorting quickly before full build, to \"fail fast\"\nrunning mvn impsort:sort manually will fix import order.\nadded instructions to code conventions readme\n\nNote that we will likely need to run this once on the develop branch as well after syncing.\n\nPR Author Checklist:\n\n my pull request is self-contained\n I've added tests for the changes I made\n every commit message starts with the issue number (GH-xxxx) followed by a meaningful description of the change\n every commit has been signed off\n\nNote: we merge all feature pull requests using squash and merge. See RDF4J git merge strategy for more details.", "createdAt": "2020-04-20T01:25:43Z", "url": "https://github.com/eclipse/rdf4j/pull/2109", "merged": true, "mergeCommit": {"oid": "4ee1ddd2b6ee79b344edb3cbc02e1225868487ca"}, "closed": true, "closedAt": "2020-04-22T00:43:54Z", "author": {"login": "jeenbroekstra"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZUInXAH2gAyNDA1Nzc1ODMyOmY3ZGJkNGQ0Y2FlZmQyZjY0NTU0OGQxYWNhM2RjYzNiOGRlNWU0NTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ8FaIAH2gAyNDA1Nzc1ODMyOjA5YWU5NzRjNmY4NzkzNDgwODc5ZDA3NzYxMTQ0YzEzY2NhMWE5NDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7dbd4d4caefd2f645548d1aca3dcc3b8de5e451", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/f7dbd4d4caefd2f645548d1aca3dcc3b8de5e451", "committedDate": "2020-04-20T00:41:42Z", "message": "GH-2093 check import sort order in compilation (process-sources) phase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aac5755b387d0af471cca4e751f972573c31a04", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/8aac5755b387d0af471cca4e751f972573c31a04", "committedDate": "2020-04-20T00:48:49Z", "message": "GH-2093 mvn impsort:sort ran for entire project"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee041f6a1f768f2b6ff6c095a4f85533cbc6d865", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/ee041f6a1f768f2b6ff6c095a4f85533cbc6d865", "committedDate": "2020-04-20T01:24:22Z", "message": "GH-2093 added import sorting to code conventions instructions"}, "afterCommit": {"oid": "0a4863457511e5ecb7dbbe0a98713aacea4066e9", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/0a4863457511e5ecb7dbbe0a98713aacea4066e9", "committedDate": "2020-04-20T01:27:25Z", "message": "GH-2093 added import sorting to code conventions instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f3757ddd6dff2dc014b0295c7f22f37ff8ff904", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/5f3757ddd6dff2dc014b0295c7f22f37ff8ff904", "committedDate": "2020-04-20T01:28:39Z", "message": "GH-2093 added import sorting to code conventions instructions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a4863457511e5ecb7dbbe0a98713aacea4066e9", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/0a4863457511e5ecb7dbbe0a98713aacea4066e9", "committedDate": "2020-04-20T01:27:25Z", "message": "GH-2093 added import sorting to code conventions instructions"}, "afterCommit": {"oid": "5f3757ddd6dff2dc014b0295c7f22f37ff8ff904", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/5f3757ddd6dff2dc014b0295c7f22f37ff8ff904", "committedDate": "2020-04-20T01:28:39Z", "message": "GH-2093 added import sorting to code conventions instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63ec39904efa939248db77cebbee9415da2f9211", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/63ec39904efa939248db77cebbee9415da2f9211", "committedDate": "2020-04-20T01:37:13Z", "message": "GH-2093 remove wildcard import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc7da883f735fc9f7a55d49806a1316f5f7539de", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/dc7da883f735fc9f7a55d49806a1316f5f7539de", "committedDate": "2020-04-20T01:43:49Z", "message": "GH-2093 fix header and import ordering in SPARQLTextBooleanTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4082e776fae15c3d1f2ec61f3f0860ea16ef879c", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/4082e776fae15c3d1f2ec61f3f0860ea16ef879c", "committedDate": "2020-04-20T01:48:23Z", "message": "GH-2093 check import order before complete build \n\nAllows quick failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDk2MDgy", "url": "https://github.com/eclipse/rdf4j/pull/2109#pullrequestreview-396096082", "createdAt": "2020-04-20T01:49:38Z", "commit": {"oid": "4082e776fae15c3d1f2ec61f3f0860ea16ef879c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMTo0OTozOVrOGIAJUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMTo0OTozOVrOGIAJUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA0NDE3OQ==", "bodyText": "Not part of this issue, strictly speaking, but I just realized it might be good to mention this here.", "url": "https://github.com/eclipse/rdf4j/pull/2109#discussion_r411044179", "createdAt": "2020-04-20T01:49:39Z", "author": {"login": "jeenbroekstra"}, "path": ".github/CONTRIBUTING.md", "diffHunk": "@@ -56,6 +56,7 @@ Eclipse RDF4J follows the [Eclipse Coding Conventions for Java](https://wiki.ecl\n \n - We use a line width of 120 characters.\n - We use Unix line endings (LF).\n+- We require curly braces for every control statement body (e.g. if-else), even if it is a single line.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4082e776fae15c3d1f2ec61f3f0860ea16ef879c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5baaa02875ecd5851a2c32a4798fb4f4f4242762", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/5baaa02875ecd5851a2c32a4798fb4f4f4242762", "committedDate": "2020-04-20T23:57:39Z", "message": "GH-2093 make CI fail fast on formatting\n\n- CI runs formatting checks early, explicitly\n- added 'formatting-check' profile (default active for local builds) to\n  allow disabling on CI build/test run (since it's already been checked\n  before).\n- editorial cleanup using quick profile consistently for skipping all\n  tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2OTE0MTQ5", "url": "https://github.com/eclipse/rdf4j/pull/2109#pullrequestreview-396914149", "createdAt": "2020-04-21T00:47:38Z", "commit": {"oid": "5baaa02875ecd5851a2c32a4798fb4f4f4242762"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMDo0NzozOFrOGItkfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMDo0NzozOFrOGItkfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTc4ODQxMg==", "bodyText": "I am not 100% the backslash is necessary. You need it if you run this on the command line but I don't know how clever the github actions are with this kind of thing.", "url": "https://github.com/eclipse/rdf4j/pull/2109#discussion_r411788412", "createdAt": "2020-04-21T00:47:38Z", "author": {"login": "jeenbroekstra"}, "path": ".github/workflows/pr-verify.yml", "diffHunk": "@@ -23,11 +23,11 @@ jobs:\n         restore-keys: |\n           ${{ runner.os }}-maven-\n     - name: Verify formatting\n-      run: mvn -B formatter:validate\n+      run: mvn -B formatter:validate impsort:check\n     - name: Build\n-      run: mvn -B clean install -DskipTests  \n+      run: mvn -B clean install -Pquick,\\!formatting-check\n     - name: Run tests\n-      run: mvn -B verify -Pcompliance --file pom.xml\n+      run: mvn -B verify -Pcompliance,\\!formatting-check --file pom.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5baaa02875ecd5851a2c32a4798fb4f4f4242762"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ba8da9b08a554ed304edf64941cb84bd4f83922", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/1ba8da9b08a554ed304edf64941cb84bd4f83922", "committedDate": "2020-04-21T22:46:04Z", "message": "GH-2093 fix formatting by default, instead of just checking"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09ae974c6f8793480879d07761144c13cca1a944", "author": {"user": {"login": "jeenbroekstra", "name": "Jeen Broekstra"}}, "url": "https://github.com/eclipse/rdf4j/commit/09ae974c6f8793480879d07761144c13cca1a944", "committedDate": "2020-04-21T23:14:24Z", "message": "GH-2093 clarified use of fix vs check in docs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 44, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}