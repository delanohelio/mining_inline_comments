{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5NTk5ODQx", "number": 2307, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNjoyNzo0OFrOEDukmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNjoyNzo0OFrOEDukmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzQ0MjE2OnYy", "diffSide": "RIGHT", "path": "tools/federation/src/main/java/org/eclipse/rdf4j/federated/FedXConnection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNjoyNzo0OFrOGg6dxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjoyMjo1M1rOGhGvUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzE2NTUwOA==", "bodyText": "Fwiw I believe this is still a check worth doing as in most cases it will skip creating a new MapBindingSet, and instead just pass in the EmptyBindingSet singleton - which other parts of the engine have some optimizations for.", "url": "https://github.com/eclipse/rdf4j/pull/2307#discussion_r437165508", "createdAt": "2020-06-09T06:27:48Z", "author": {"login": "jeenbroekstra"}, "path": "tools/federation/src/main/java/org/eclipse/rdf4j/federated/FedXConnection.java", "diffHunk": "@@ -138,10 +138,8 @@ public FedXConnection(FedX federation, FederationContext federationContext)\n \n \t\ttry {\n \t\t\t// make sure to apply any external bindings\n-\t\t\t// Note: we use a conditional check for performance reasons.\n-\t\t\t// Further note that we subtract -1 from the size as the baseUri is optional\n \t\t\tBindingSet queryBindings = EmptyBindingSet.getInstance();\n-\t\t\tif (bindings.size() > FedXRepositoryConnection.FEDX_BINDINGS.size() - 1) {\n+\t\t\tif (!FedXRepositoryConnection.FEDX_BINDINGS.containsAll(bindings.getBindingNames())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e59872339e7386d505af17b40180d4ab8b4f60b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM2NjYwOA==", "bodyText": "Good solution and way more robust. Should do the job as expected", "url": "https://github.com/eclipse/rdf4j/pull/2307#discussion_r437366608", "createdAt": "2020-06-09T12:22:53Z", "author": {"login": "aschwarte10"}, "path": "tools/federation/src/main/java/org/eclipse/rdf4j/federated/FedXConnection.java", "diffHunk": "@@ -138,10 +138,8 @@ public FedXConnection(FedX federation, FederationContext federationContext)\n \n \t\ttry {\n \t\t\t// make sure to apply any external bindings\n-\t\t\t// Note: we use a conditional check for performance reasons.\n-\t\t\t// Further note that we subtract -1 from the size as the baseUri is optional\n \t\t\tBindingSet queryBindings = EmptyBindingSet.getInstance();\n-\t\t\tif (bindings.size() > FedXRepositoryConnection.FEDX_BINDINGS.size() - 1) {\n+\t\t\tif (!FedXRepositoryConnection.FEDX_BINDINGS.containsAll(bindings.getBindingNames())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzE2NTUwOA=="}, "originalCommit": {"oid": "0e59872339e7386d505af17b40180d4ab8b4f60b"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1422, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}