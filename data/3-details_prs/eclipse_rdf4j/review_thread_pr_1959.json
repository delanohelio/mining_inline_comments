{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNDEyODQ0", "number": 1959, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNToxMjozNVrODkTZNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMjozNzo0NlrODkcyiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzkzMDc2OnYy", "diffSide": "RIGHT", "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNToxMjozNVrOFwjGng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNToxMjozNVrOFwjGng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ1MTEwMg==", "bodyText": "Should maybe this also fail silently?", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386451102", "createdAt": "2020-03-02T15:12:35Z", "author": {"login": "hmottestad"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -34,9 +39,20 @@ protected BindingSet getNextElement() throws QueryEvaluationException {\n \t\t\t\treturn iter.next();\n \t\t} catch (Exception e) {\n \t\t\t// suppress\n+\t\t\tif (logger.isTraceEnabled()) {\n+\t\t\t\tlogger.trace(\"Suppressed error in SILENT SERVICE: \" + e.getMessage(), e);\n+\t\t\t}\n \t\t}\n \n \t\treturn null;\n \t}\n \n+\t@Override\n+\tprotected void handleClose() throws QueryEvaluationException {\n+\t\ttry {\n+\t\t\tIterations.closeCloseable(iter);\n+\t\t} finally {\n+\t\t\tsuper.handleClose();\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab2dca0db55eb8dcd1c80c53c7a6b041c66eeb3f"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzkzNjkzOnYy", "diffSide": "RIGHT", "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNToxNDowNFrOFwjKRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMTo1OTo1MFrOFww21A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ1MjAzOQ==", "bodyText": "I know it's not required by our styleguide, but I do prefer using { } for if/else/while.", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386452039", "createdAt": "2020-03-02T15:14:04Z", "author": {"login": "hmottestad"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -34,9 +39,20 @@ protected BindingSet getNextElement() throws QueryEvaluationException {\n \t\t\t\treturn iter.next();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab2dca0db55eb8dcd1c80c53c7a6b041c66eeb3f"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY3NjQzNg==", "bodyText": "Agreed. Actually it is a convention for the RDF4J project, it's just not explicitly enforced by the formatter because in Eclipse, this option is not part of the formatting rules (so I can't make it part of the maven formatter plugin, which uses Eclipse formatter under the hood).\nBtw if you're using Eclipse, you can configure it to automatically add braces on save, by going to 'Preferences' -> 'Editor' -> 'Save Actions'. Enable 'Additional actions', click 'Configure...' and in the 'Code Style' dialog enable the option 'Use blocks in if/while/for/do statements'.\nOr if you prefer you can use an Eclipse clean up profile to do the same thing.", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386676436", "createdAt": "2020-03-02T21:59:50Z", "author": {"login": "jeenbroekstra"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -34,9 +39,20 @@ protected BindingSet getNextElement() throws QueryEvaluationException {\n \t\t\t\treturn iter.next();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ1MjAzOQ=="}, "originalCommit": {"oid": "ab2dca0db55eb8dcd1c80c53c7a6b041c66eeb3f"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NTQ3MDE3OnYy", "diffSide": "RIGHT", "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMjozNzo0NlrOFwx6sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMzoyNDowOVrOFwzBYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY5MzgwOQ==", "bodyText": "I only just noticed this after pushing an editorial fix, but apparently we have two SilentIteration classes:\n\norg.eclipse.rdf4j.repository.sparql.federation.SilentIteration\norg.eclipse.rdf4j.query.algebra.evaluation.iterator.SilentIteration\n\nThey look identical (barring the fixes you just did) - do we need both or can we get rid of the federated one?", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386693809", "createdAt": "2020-03-02T22:37:46Z", "author": {"login": "jeenbroekstra"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -19,6 +22,8 @@\n  */\n public class SilentIteration extends LookAheadIteration<BindingSet, QueryEvaluationException> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e883abf2ec940f678aecac226728b5d3141da2d8"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcwMDE3MQ==", "bodyText": "Ah - to answer my own question, this is probably a deliberate copy to avoid a cyclic dependency.\nLet's apply the fix to both copies in this PR. I'll look into a better solution so that we don't have to maintain separate copies separately.", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386700171", "createdAt": "2020-03-02T22:52:59Z", "author": {"login": "jeenbroekstra"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -19,6 +22,8 @@\n  */\n public class SilentIteration extends LookAheadIteration<BindingSet, QueryEvaluationException> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY5MzgwOQ=="}, "originalCommit": {"oid": "e883abf2ec940f678aecac226728b5d3141da2d8"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcxMTkwNQ==", "bodyText": "Looking a bit further, it seems the copy in evaluation.iterator is not actually used anywhere. Let's mark it deprecated, so we can decide to remove it in a later major release.", "url": "https://github.com/eclipse/rdf4j/pull/1959#discussion_r386711905", "createdAt": "2020-03-02T23:24:09Z", "author": {"login": "jeenbroekstra"}, "path": "core/repository/sparql/src/main/java/org/eclipse/rdf4j/repository/sparql/federation/SilentIteration.java", "diffHunk": "@@ -19,6 +22,8 @@\n  */\n public class SilentIteration extends LookAheadIteration<BindingSet, QueryEvaluationException> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY5MzgwOQ=="}, "originalCommit": {"oid": "e883abf2ec940f678aecac226728b5d3141da2d8"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1522, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}