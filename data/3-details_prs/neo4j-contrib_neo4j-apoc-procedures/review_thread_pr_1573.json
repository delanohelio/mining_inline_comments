{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMzcwOTUw", "number": 1573, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODoyOFrOEOKxPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODo0MFrOEOKxhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjkxOTY1OnYy", "diffSide": "RIGHT", "path": "docs/asciidoc/job-management/trigger.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODoyOFrOGxKsmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODoyOFrOGxKsmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDIwODY2Ng==", "bodyText": "also in a new thread!?", "url": "https://github.com/neo4j-contrib/neo4j-apoc-procedures/pull/1573#discussion_r454208666", "createdAt": "2020-07-14T08:58:28Z", "author": {"login": "jexp"}, "path": "docs/asciidoc/job-management/trigger.adoc", "diffHunk": "@@ -202,3 +204,16 @@ CALL apoc.trigger.add('lowercase-by-label','UNWIND apoc.trigger.nodesByLabel({as\n ----\n \n // end::trigger[]\n+\n+.Trigger Phase Table\n+.Helper Functions\n+[cols=\"1m,5\"]\n+|===\n+| Phase | Description\n+| before | The trigger will be activate right `before` the commit. If no phase is specified, it's the default.\n+| rollback | The trigger will be activate right after the  `rollback`\n+| after | The trigger will be activate right `after` the commit\n+| afterAsync | The trigger will be activate right `after` the commit and inside a new transaction that will not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a7c14658dafa9f7f9736bddee2a766b46257271"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjkyMDM2OnYy", "diffSide": "RIGHT", "path": "docs/asciidoc/job-management/trigger.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODo0MFrOGxKtFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODo0MFrOGxKtFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDIwODc5MA==", "bodyText": "change syntax to $createdNodes etc.", "url": "https://github.com/neo4j-contrib/neo4j-apoc-procedures/pull/1573#discussion_r454208790", "createdAt": "2020-07-14T08:58:40Z", "author": {"login": "jexp"}, "path": "docs/asciidoc/job-management/trigger.adoc", "diffHunk": "@@ -15,7 +15,9 @@ Enable `apoc.trigger.enabled=true` in `$NEO4J_HOME/conf/apoc.conf` first.\n \n [cols=\"1m,5\"]\n |===\n-| CALL apoc.trigger.add(name, statement, selector) yield name, statement, installed | add a trigger statement under a name, in the statement you can use {createdNodes}, {deletedNodes} etc., the selector is {phase:'before/after/rollback'} returns previous and new trigger information\n+| CALL apoc.trigger.add(name, statement, selector) yield name, statement, installed | add a trigger statement under a name,\n+in the statement you can use {createdNodes}, {deletedNodes} etc., the selector is {phase:'before/after/rollback/afterAsync'}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a7c14658dafa9f7f9736bddee2a766b46257271"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4329, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}