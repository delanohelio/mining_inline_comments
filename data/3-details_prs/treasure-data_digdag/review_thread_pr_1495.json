{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0Mjk1ODI0", "number": 1495, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMzowMToxMFrOFCUavw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMzowMToxMFrOFCUavw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3OTc1OTk5OnYy", "diffSide": "RIGHT", "path": "digdag-core/src/main/java/io/digdag/core/session/SessionMonitorExecutor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMzowMToxMFrOIBZudA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMzowMToxMFrOIBZudA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM0MDk4MA==", "bodyText": "Returning Optional.absent() prevents retries.", "url": "https://github.com/treasure-data/digdag/pull/1495#discussion_r538340980", "createdAt": "2020-12-08T13:01:10Z", "author": {"login": "komamitsu"}, "path": "digdag-core/src/main/java/io/digdag/core/session/SessionMonitorExecutor.java", "diffHunk": "@@ -94,8 +96,15 @@ public void run()\n         try {\n             tm.begin(() -> {\n                 sm.lockReadySessionMonitors(Instant.now(), (storedMonitor) -> {\n-                    // runMonitor needs to return next runtime if this monitor should run again later\n-                    return runMonitor(storedMonitor);\n+                    try {\n+                        // runMonitor needs to return next runtime if this monitor should run again later\n+                        return runMonitor(storedMonitor);\n+                    }\n+                    catch (ModelValidationException | ConfigException e) {\n+                        logger.error(\n+                                \"Failed to schedule a session monitor task due to deterministic error. This won't be retried.\", e);\n+                        return Optional.absent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d18901c939b05562fd085e686033dd704bbde198"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1169, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}