{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MDQxMTk0", "number": 1449, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNjozNDowMFrOEfSYtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNToyMTo1OVrOEf03kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMjQyNTUwOnYy", "diffSide": "RIGHT", "path": "digdag-core/src/test/java/io/digdag/core/workflow/LoopOperatorFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNjozNDowMFrOHLd_8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNzoyMToxMFrOHMZYWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc4Nzg4OA==", "bodyText": "We're abstracting accesses to _parallel property by moving related implementations to  ParallelControl. Why don't you move this direct access to _parallel property to the class by adding like ParallelControl#copyIfNeeded(Config src, Config dst)?", "url": "https://github.com/treasure-data/digdag/pull/1449#discussion_r481787888", "createdAt": "2020-09-02T06:34:00Z", "author": {"login": "komamitsu"}, "path": "digdag-core/src/test/java/io/digdag/core/workflow/LoopOperatorFactory.java", "diffHunk": "@@ -67,7 +69,7 @@ public TaskResult run()\n                         subtask);\n             }\n \n-            if (params.has(\"_parallel\")) {\n+            if (ParallelControl.of(params).isParallel()) {\n                 generated.set(\"_parallel\", params.get(\"_parallel\", JsonNode.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347a6f041815c9621e16d07d4d1bd337a12711c1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjc2MDc5NQ==", "bodyText": "Thank you for pointing out, that's a really good point! Updated: 8b2915e, 724c1a6.", "url": "https://github.com/treasure-data/digdag/pull/1449#discussion_r482760795", "createdAt": "2020-09-03T07:21:10Z", "author": {"login": "szyn"}, "path": "digdag-core/src/test/java/io/digdag/core/workflow/LoopOperatorFactory.java", "diffHunk": "@@ -67,7 +69,7 @@ public TaskResult run()\n                         subtask);\n             }\n \n-            if (params.has(\"_parallel\")) {\n+            if (ParallelControl.of(params).isParallel()) {\n                 generated.set(\"_parallel\", params.get(\"_parallel\", JsonNode.class));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc4Nzg4OA=="}, "originalCommit": {"oid": "347a6f041815c9621e16d07d4d1bd337a12711c1"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxODA3NTA0OnYy", "diffSide": "RIGHT", "path": "digdag-plugin-utils/src/main/java/io/digdag/util/ParallelControl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNToyMTo1OVrOHMWVBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNToyMTo1OVrOHMWVBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjcxMDc5MA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/treasure-data/digdag/pull/1449#discussion_r482710790", "createdAt": "2020-09-03T05:21:59Z", "author": {"login": "komamitsu"}, "path": "digdag-plugin-utils/src/main/java/io/digdag/util/ParallelControl.java", "diffHunk": "@@ -6,16 +6,21 @@\n \n public class ParallelControl\n {\n+    private static final String PARALLEL_KEY = \"_parallel\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "724c1a63383319b6a493f08fb230eb4a909353c0"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1147, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}