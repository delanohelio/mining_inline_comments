{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NzYzMjUz", "number": 219, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMToxOFrOFJ3jLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMjoxMlrOFJ3jww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODkxNjI5OnYy", "diffSide": "RIGHT", "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinAbstractButtonWidget.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMToxOFrOIMYEiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMToxOFrOIMYEiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODIwMA==", "bodyText": "Use the signature in the method target since this isn't a @Inject", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848200", "createdAt": "2020-12-29T21:11:18Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinAbstractButtonWidget.java", "diffHunk": "@@ -21,52 +21,57 @@\n \n import org.spongepowered.asm.mixin.Mixin;\n import org.spongepowered.asm.mixin.Shadow;\n+import org.spongepowered.asm.mixin.Unique;\n import org.spongepowered.asm.mixin.injection.At;\n import org.spongepowered.asm.mixin.injection.ModifyVariable;\n \n import net.minecraft.client.gui.DrawableHelper;\n import net.minecraft.client.gui.widget.AbstractButtonWidget;\n \n+import net.patchworkmc.impl.gui.ForgeAbstractButtonWidget;\n+\n @Mixin(AbstractButtonWidget.class)\n-public abstract class MixinAbstractButtonWidget extends DrawableHelper {\n+public abstract class MixinAbstractButtonWidget extends DrawableHelper implements ForgeAbstractButtonWidget {\n \t@Shadow\n \tprotected int height;\n \n \t@Shadow\n \tpublic boolean active;\n \n-\t@Shadow\n-\tpublic abstract boolean isHovered();\n+\t@Unique\n+\tprivate static final int UNSET_FG_COLOR = -1;\n+\n+\t@Unique\n+\tprotected int packedFGColor = UNSET_FG_COLOR;\n \n-\tprotected int packedFGColor = 0;\n+\t@ModifyVariable(method = \"renderButton\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/widget/AbstractButtonWidget;getMessage()Lnet/minecraft/text/Text;\", ordinal = 0), ordinal = 2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODkxNzExOnYy", "diffSide": "RIGHT", "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMTo1M1rOIMYFBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMTo1M1rOIMYFBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODMyNg==", "bodyText": "targetting all or just one?", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848326", "createdAt": "2020-12-29T21:11:53Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -55,6 +57,7 @@ private void preKeyEvent(int i, boolean[] bls, ParentElement element, int key, i\n \t\t}\n \t}\n \n+\t@Dynamic(\"lambda in onKey\")\n \t@Inject(method = \"method_1454\", at = @At(\"RETURN\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODkxNzc5OnYy", "diffSide": "RIGHT", "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMjoxMlrOIMYFXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMjoxMlrOIMYFXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODQxMw==", "bodyText": "method signature in redirect", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848413", "createdAt": "2020-12-29T21:12:12Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -74,26 +77,30 @@ private void postKeyEvent(int i, boolean[] bls, ParentElement element, int key,\n \t\t}\n \t}\n \n+\t@Dynamic(\"lambda in onChar\")\n \t@Inject(method = \"method_1458\", at = @At(\"HEAD\"), cancellable = true)\n \tprivate static void preCharTyped(Element element, int character, int mods, CallbackInfo info) {\n \t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, (char) character, mods))) {\n \t\t\tinfo.cancel();\n \t\t}\n \t}\n \n-\t@Redirect(method = \"method_1458\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\"))\n+\t@Dynamic(\"lambda in onChar\")\n+\t@Redirect(method = \"method_1458\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\", ordinal = 0))\n \tprivate static boolean charTyped(Element element, char character, int mods) {\n \t\treturn element.charTyped(character, mods) || MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Post((Screen) element, character, mods));\n \t}\n \n+\t@Dynamic(\"lambda in onChar\")\n \t@Inject(method = \"method_1473\", at = @At(\"HEAD\"), cancellable = true)\n \tprivate static void preCharTyped(Element element, char character, int mods, CallbackInfo info) {\n-\t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, (char) character, mods))) {\n+\t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, character, mods))) {\n \t\t\tinfo.cancel();\n \t\t}\n \t}\n \n-\t@Redirect(method = \"method_1473\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\"))\n+\t@Dynamic(\"lambda in onChar\")\n+\t@Redirect(method = \"method_1473\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\", ordinal = 0))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1473, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}