{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MDg1NTY3", "number": 80, "title": "Rename patchwork-client-colors to patchwork-events-rendering and implement TextureStitchEvent", "bodyText": "As discussed on the Discord, the rename is to have one module for things like colors, model baking, etc. I've implemented TextureStitchEvent, but someone who understands rendering better than me should probably implement model loading and the bake event.", "createdAt": "2020-06-14T02:40:02Z", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80", "merged": true, "mergeCommit": {"oid": "55237bb17f1e602061dd84d65b56937b4c7654d6"}, "closed": true, "closedAt": "2020-06-17T01:32:07Z", "author": {"login": "famous1622"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrBxjDgH2gAyNDM0MDg1NTY3OmFlNDk5YjViNGNjY2YzNWM1YmQ5MDgxY2QxZWRkMzQ5MDliOTExM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr_aT5gH2gAyNDM0MDg1NTY3OmQzZTdmYzY2NjczZTRkYzA5OGFmMzk1ZDNjY2NkY2UwODRkYzI0NmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae499b5b4cccf35c5bd9081cd1edd34909b9113a", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/ae499b5b4cccf35c5bd9081cd1edd34909b9113a", "committedDate": "2020-06-14T01:28:51Z", "message": "Rename patchwork-client-colors to patchwork-events-rendering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73b8b08ab1ea8abce9745ba99d3115cdc7703d58", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/73b8b08ab1ea8abce9745ba99d3115cdc7703d58", "committedDate": "2020-06-14T02:07:54Z", "message": "Rename things to Render rather than Color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06e2bb0eeab3986ba8bb0f232b862e29c4daa853", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/06e2bb0eeab3986ba8bb0f232b862e29c4daa853", "committedDate": "2020-06-14T02:15:52Z", "message": "Implement TextureStitchEvent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/ad69cdcf975f76c84af20d2e0d0f9338283699a5", "committedDate": "2020-06-14T02:32:55Z", "message": "Import order and Licenses"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMDY3MzUw", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#pullrequestreview-431067350", "createdAt": "2020-06-15T23:51:32Z", "commit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMzo1MTozMlrOGkGeYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMzo1NTo1OFrOGkGjlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUwODAwMg==", "bodyText": "No need to fully qualify, it's already imported\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t * Called before the {@link net.minecraft.client.texture.SpriteAtlasTexture} are loaded.\n          \n          \n            \n            \t * Called before the {@link SpriteAtlasTexture}s are loaded.", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#discussion_r440508002", "createdAt": "2020-06-15T23:51:32Z", "author": {"login": "coderbot16"}, "path": "patchwork-events-rendering/src/main/java/net/minecraftforge/client/event/TextureStitchEvent.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.event;\n+\n+import java.util.Set;\n+\n+import net.minecraftforge.eventbus.api.Event;\n+\n+import net.minecraft.client.texture.SpriteAtlasTexture;\n+import net.minecraft.util.Identifier;\n+\n+public class TextureStitchEvent extends Event {\n+\tprivate final SpriteAtlasTexture map;\n+\n+\tpublic TextureStitchEvent(SpriteAtlasTexture map) {\n+\t\tthis.map = map;\n+\t}\n+\n+\tpublic SpriteAtlasTexture getMap() {\n+\t\treturn map;\n+\t}\n+\n+\t/**\n+\t * Fired when the TextureMap is told to refresh it's stitched texture.\n+\t * Called before the {@link net.minecraft.client.texture.SpriteAtlasTexture} are loaded.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUwODExMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t * Add a sprite to be stitched into the Texture Atlas.\n          \n          \n            \n            \t\t * Add a sprite to be stitched into the texture atlas.", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#discussion_r440508112", "createdAt": "2020-06-15T23:51:57Z", "author": {"login": "coderbot16"}, "path": "patchwork-events-rendering/src/main/java/net/minecraftforge/client/event/TextureStitchEvent.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.event;\n+\n+import java.util.Set;\n+\n+import net.minecraftforge.eventbus.api.Event;\n+\n+import net.minecraft.client.texture.SpriteAtlasTexture;\n+import net.minecraft.util.Identifier;\n+\n+public class TextureStitchEvent extends Event {\n+\tprivate final SpriteAtlasTexture map;\n+\n+\tpublic TextureStitchEvent(SpriteAtlasTexture map) {\n+\t\tthis.map = map;\n+\t}\n+\n+\tpublic SpriteAtlasTexture getMap() {\n+\t\treturn map;\n+\t}\n+\n+\t/**\n+\t * Fired when the TextureMap is told to refresh it's stitched texture.\n+\t * Called before the {@link net.minecraft.client.texture.SpriteAtlasTexture} are loaded.\n+\t */\n+\tpublic static class Pre extends TextureStitchEvent {\n+\t\tprivate final Set<Identifier> sprites;\n+\n+\t\tpublic Pre(SpriteAtlasTexture map, Set<Identifier> sprites) {\n+\t\t\tsuper(map);\n+\t\t\tthis.sprites = sprites;\n+\t\t}\n+\n+\t\t/**\n+\t\t * Add a sprite to be stitched into the Texture Atlas.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUwODI1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t * stitched them together. All Icons should have there locations defined\n          \n          \n            \n            \t * stitched them together. All sprites should have there locations defined", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#discussion_r440508259", "createdAt": "2020-06-15T23:52:25Z", "author": {"login": "coderbot16"}, "path": "patchwork-events-rendering/src/main/java/net/minecraftforge/client/event/TextureStitchEvent.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.event;\n+\n+import java.util.Set;\n+\n+import net.minecraftforge.eventbus.api.Event;\n+\n+import net.minecraft.client.texture.SpriteAtlasTexture;\n+import net.minecraft.util.Identifier;\n+\n+public class TextureStitchEvent extends Event {\n+\tprivate final SpriteAtlasTexture map;\n+\n+\tpublic TextureStitchEvent(SpriteAtlasTexture map) {\n+\t\tthis.map = map;\n+\t}\n+\n+\tpublic SpriteAtlasTexture getMap() {\n+\t\treturn map;\n+\t}\n+\n+\t/**\n+\t * Fired when the TextureMap is told to refresh it's stitched texture.\n+\t * Called before the {@link net.minecraft.client.texture.SpriteAtlasTexture} are loaded.\n+\t */\n+\tpublic static class Pre extends TextureStitchEvent {\n+\t\tprivate final Set<Identifier> sprites;\n+\n+\t\tpublic Pre(SpriteAtlasTexture map, Set<Identifier> sprites) {\n+\t\t\tsuper(map);\n+\t\t\tthis.sprites = sprites;\n+\t\t}\n+\n+\t\t/**\n+\t\t * Add a sprite to be stitched into the Texture Atlas.\n+\t\t */\n+\t\tpublic boolean addSprite(Identifier sprite) {\n+\t\t\treturn this.sprites.add(sprite);\n+\t\t}\n+\t}\n+\n+\t/**\n+\t * This event is fired once the texture map has loaded all textures and\n+\t * stitched them together. All Icons should have there locations defined", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUwOTMzMg==", "bodyText": "Alternatively, you could inject before loadSprites, that's probably more stable than a profiler call. I think either way is acceptable, though.", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#discussion_r440509332", "createdAt": "2020-06-15T23:55:58Z", "author": {"login": "coderbot16"}, "path": "patchwork-events-rendering/src/main/java/net/patchworkmc/mixin/event/render/MixinSpriteAtlasTexture.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.patchworkmc.mixin.event.render;\n+\n+import java.util.Set;\n+\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.injection.At;\n+import org.spongepowered.asm.mixin.injection.Inject;\n+import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;\n+import org.spongepowered.asm.mixin.injection.callback.CallbackInfoReturnable;\n+import org.spongepowered.asm.mixin.injection.callback.LocalCapture;\n+\n+import net.minecraft.client.texture.SpriteAtlasTexture;\n+import net.minecraft.resource.ResourceManager;\n+import net.minecraft.util.Identifier;\n+import net.minecraft.util.profiler.Profiler;\n+\n+import net.patchworkmc.impl.event.render.RenderEvents;\n+\n+@Mixin(SpriteAtlasTexture.class)\n+public class MixinSpriteAtlasTexture {\n+\t@Inject(method = \"stitch\", at = @At(value = \"INVOKE\", shift = At.Shift.AFTER, target = \"Lnet/minecraft/util/profiler/Profiler;swap(Ljava/lang/String;)V\", ordinal = 0), locals = LocalCapture.CAPTURE_FAILHARD)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad69cdcf975f76c84af20d2e0d0f9338283699a5"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e55e1f67537e303e338ef3cdf8edc287157e882c", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/e55e1f67537e303e338ef3cdf8edc287157e882c", "committedDate": "2020-06-16T00:51:03Z", "message": "Javadoc updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87427dbc840ebcd740f2e48f276e78344d458177", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/87427dbc840ebcd740f2e48f276e78344d458177", "committedDate": "2020-06-16T00:51:19Z", "message": "More stable mixin hook"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNzE2Njcw", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#pullrequestreview-431716670", "createdAt": "2020-06-16T17:05:23Z", "commit": {"oid": "87427dbc840ebcd740f2e48f276e78344d458177"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzowNToyM1rOGkk-zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzowNToyM1rOGkk-zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwNzgyMA==", "bodyText": "\ud83d\udeb2 \ud83c\udfe0\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t * Fired when the {@link SpriteAtlasTexture} is told to refresh it's stitched texture.\n          \n          \n            \n            \t * Fired when the {@link SpriteAtlasTexture} is told to refresh its stitched texture.", "url": "https://github.com/PatchworkMC/patchwork-api/pull/80#discussion_r441007820", "createdAt": "2020-06-16T17:05:23Z", "author": {"login": "coderbot16"}, "path": "patchwork-events-rendering/src/main/java/net/minecraftforge/client/event/TextureStitchEvent.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.event;\n+\n+import java.util.Set;\n+\n+import net.minecraftforge.eventbus.api.Event;\n+\n+import net.minecraft.client.texture.SpriteAtlasTexture;\n+import net.minecraft.util.Identifier;\n+\n+public class TextureStitchEvent extends Event {\n+\tprivate final SpriteAtlasTexture map;\n+\n+\tpublic TextureStitchEvent(SpriteAtlasTexture map) {\n+\t\tthis.map = map;\n+\t}\n+\n+\tpublic SpriteAtlasTexture getMap() {\n+\t\treturn map;\n+\t}\n+\n+\t/**\n+\t * Fired when the {@link SpriteAtlasTexture} is told to refresh it's stitched texture.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87427dbc840ebcd740f2e48f276e78344d458177"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3e7fc66673e4dc098af395d3cccdce084dc246a", "author": {"user": {"login": "famous1622", "name": "famous1622"}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/d3e7fc66673e4dc098af395d3cccdce084dc246a", "committedDate": "2020-06-17T01:17:35Z", "message": "'\n\nCo-authored-by: coderbot <coderbot16@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1139, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}