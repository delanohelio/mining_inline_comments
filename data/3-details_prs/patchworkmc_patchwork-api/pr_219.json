{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NzYzMjUz", "number": 219, "title": "Update patchwork-gui", "bodyText": "Port of patchwork-gui to 1.16.4. I think everything works.", "createdAt": "2020-12-27T04:41:31Z", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219", "merged": true, "mergeCommit": {"oid": "820df4d7b0abaee7b70d7ffb9ef0d2d53a06fef4"}, "closed": true, "closedAt": "2020-12-30T02:30:45Z", "author": {"login": "stairman06"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqFmm6gH2gAyNTQ1NzYzMjUzOjkyYzJjNzI1ZjQxMzExY2Q2ZTM1MDlmNTI0NDE0ZmNhOGYwOGFjMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrF7pJgFqTU1OTc2MTYzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92c2c725f41311cd6e3509f524414fca8f08ac1c", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/92c2c725f41311cd6e3509f524414fca8f08ac1c", "committedDate": "2020-12-26T23:33:45Z", "message": "patchwork-gui 1.16.4 port"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ec7bcde1f83612d83d8b53fabba22ff6d849d27", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/5ec7bcde1f83612d83d8b53fabba22ff6d849d27", "committedDate": "2020-12-27T02:33:08Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59acfa780af2fd05f0f25aab7e27b9a573fb74c7", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/59acfa780af2fd05f0f25aab7e27b9a573fb74c7", "committedDate": "2020-12-27T03:41:14Z", "message": "Checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de2be3f5fbcae1491a047521d64bd08cd5868c63", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/de2be3f5fbcae1491a047521d64bd08cd5868c63", "committedDate": "2020-12-27T04:40:22Z", "message": "More cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/f0559391df7d441acb5cfa80b30f9e37f01800ab", "committedDate": "2020-12-27T04:48:43Z", "message": "Fix license violations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzAxNDkw", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#pullrequestreview-559701490", "createdAt": "2020-12-29T21:11:17Z", "commit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMToxOFrOIMYEiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMToxMjoxMlrOIMYFXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODIwMA==", "bodyText": "Use the signature in the method target since this isn't a @Inject", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848200", "createdAt": "2020-12-29T21:11:18Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinAbstractButtonWidget.java", "diffHunk": "@@ -21,52 +21,57 @@\n \n import org.spongepowered.asm.mixin.Mixin;\n import org.spongepowered.asm.mixin.Shadow;\n+import org.spongepowered.asm.mixin.Unique;\n import org.spongepowered.asm.mixin.injection.At;\n import org.spongepowered.asm.mixin.injection.ModifyVariable;\n \n import net.minecraft.client.gui.DrawableHelper;\n import net.minecraft.client.gui.widget.AbstractButtonWidget;\n \n+import net.patchworkmc.impl.gui.ForgeAbstractButtonWidget;\n+\n @Mixin(AbstractButtonWidget.class)\n-public abstract class MixinAbstractButtonWidget extends DrawableHelper {\n+public abstract class MixinAbstractButtonWidget extends DrawableHelper implements ForgeAbstractButtonWidget {\n \t@Shadow\n \tprotected int height;\n \n \t@Shadow\n \tpublic boolean active;\n \n-\t@Shadow\n-\tpublic abstract boolean isHovered();\n+\t@Unique\n+\tprivate static final int UNSET_FG_COLOR = -1;\n+\n+\t@Unique\n+\tprotected int packedFGColor = UNSET_FG_COLOR;\n \n-\tprotected int packedFGColor = 0;\n+\t@ModifyVariable(method = \"renderButton\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/widget/AbstractButtonWidget;getMessage()Lnet/minecraft/text/Text;\", ordinal = 0), ordinal = 2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODMyNg==", "bodyText": "targetting all or just one?", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848326", "createdAt": "2020-12-29T21:11:53Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -55,6 +57,7 @@ private void preKeyEvent(int i, boolean[] bls, ParentElement element, int key, i\n \t\t}\n \t}\n \n+\t@Dynamic(\"lambda in onKey\")\n \t@Inject(method = \"method_1454\", at = @At(\"RETURN\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0ODQxMw==", "bodyText": "method signature in redirect", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#discussion_r549848413", "createdAt": "2020-12-29T21:12:12Z", "author": {"login": "TheGlitch76"}, "path": "patchwork-gui/src/main/java/net/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -74,26 +77,30 @@ private void postKeyEvent(int i, boolean[] bls, ParentElement element, int key,\n \t\t}\n \t}\n \n+\t@Dynamic(\"lambda in onChar\")\n \t@Inject(method = \"method_1458\", at = @At(\"HEAD\"), cancellable = true)\n \tprivate static void preCharTyped(Element element, int character, int mods, CallbackInfo info) {\n \t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, (char) character, mods))) {\n \t\t\tinfo.cancel();\n \t\t}\n \t}\n \n-\t@Redirect(method = \"method_1458\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\"))\n+\t@Dynamic(\"lambda in onChar\")\n+\t@Redirect(method = \"method_1458\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\", ordinal = 0))\n \tprivate static boolean charTyped(Element element, char character, int mods) {\n \t\treturn element.charTyped(character, mods) || MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Post((Screen) element, character, mods));\n \t}\n \n+\t@Dynamic(\"lambda in onChar\")\n \t@Inject(method = \"method_1473\", at = @At(\"HEAD\"), cancellable = true)\n \tprivate static void preCharTyped(Element element, char character, int mods, CallbackInfo info) {\n-\t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, (char) character, mods))) {\n+\t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, character, mods))) {\n \t\t\tinfo.cancel();\n \t\t}\n \t}\n \n-\t@Redirect(method = \"method_1473\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\"))\n+\t@Dynamic(\"lambda in onChar\")\n+\t@Redirect(method = \"method_1473\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\", ordinal = 0))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0559391df7d441acb5cfa80b30f9e37f01800ab"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba9d663b888ec60d1e2f7c9a42b72504e9070298", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/ba9d663b888ec60d1e2f7c9a42b72504e9070298", "committedDate": "2020-12-29T21:21:19Z", "message": "Merge remote-tracking branch 'upstream/1.16.x' into port/patchwork-gui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28b72cc7e02a0a1a9318a81e6d956febd88e79be", "author": {"user": {"login": "stairman06", "name": null}}, "url": "https://github.com/PatchworkMC/patchwork-api/commit/28b72cc7e02a0a1a9318a81e6d956febd88e79be", "committedDate": "2020-12-29T21:33:35Z", "message": "Fix mixin style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzYxNjM2", "url": "https://github.com/PatchworkMC/patchwork-api/pull/219#pullrequestreview-559761636", "createdAt": "2020-12-30T02:30:39Z", "commit": {"oid": "28b72cc7e02a0a1a9318a81e6d956febd88e79be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1005, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}