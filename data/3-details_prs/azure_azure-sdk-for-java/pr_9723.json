{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NjA5NjA4", "number": 9723, "title": "Move Java Release Config to public", "bodyText": "Make Java release configuration public.\nTested with release of Azure.Template", "createdAt": "2020-03-31T21:19:56Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723", "merged": true, "mergeCommit": {"oid": "0750d7e9fbdb0add3da8e00b8d81efb98b471627"}, "closed": true, "closedAt": "2020-04-15T20:32:54Z", "author": {"login": "chidozieononiwu"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTbU9BABqjMxODg5ODk2NDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX9AI1AH2gAyMzk2NjA5NjA4OjFjYThkNmFjZjFmZTZlMWRmMzdlM2QxMWE1ZDdkY2FjNTk3MDQwYzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb0bfb2afc26db82690f6dc44b36032a0ee6e617", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb0bfb2afc26db82690f6dc44b36032a0ee6e617", "committedDate": "2020-03-31T21:16:29Z", "message": "Switch Java release to run from public repo"}, "afterCommit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b3bb9847536c0c96932fcec3a3f0039df113293d", "committedDate": "2020-04-01T17:40:25Z", "message": "Bump Azure Template Version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1OTA3Njc5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-385907679", "createdAt": "2020-04-01T20:02:07Z", "commit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowMjowN1rOF_QiCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowMjowN1rOF_QiCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng==", "bodyText": "Do you need to specify the path? I think it is redundant.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401875466", "createdAt": "2020-04-01T20:02:07Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "originalPosition": 118}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1OTEwMDE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-385910018", "createdAt": "2020-04-01T20:05:37Z", "commit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowNTozN1rOF_QpMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowNTozN1rOF_QpMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzI5Nw==", "bodyText": "this path doesn't look correct.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401877297", "createdAt": "2020-04-01T20:05:37Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: /tools/gpg/gpg.yml\n+                      - template: /tools/java-publishing/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: MavenCentral\n+                      # After publishing to Maven, publish to the azure-sdk-for-java feed. The reason for\n+                      # this is that the azure-sdk-for-java feed will have the package available immediately\n+                      # whereas Maven can take several hours for the package to become available.\n+                      - template: /tools/java-publishing/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: JavaDevFeed\n+\n+          - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n+            - deployment: PublishDocs\n+              displayName: Publish Docs to GitHubIO Blob Storage\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              environment: githubio\n+              dependsOn: PublishPackage\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: self\n+                      - pwsh: |\n+                          Get-ChildItem -Recurse $(Pipeline.Workspace)\n+                          New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                          Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        workingDirectory: $(Pipeline.Workspace)\n+                        displayName: Stage artifacts\n+                      - pwsh: |\n+                          Get-ChildItem -Recurse $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        workingDirectory: $(Pipeline.Workspace)\n+                        displayName: Output Visible Artifacts\n+                      - template: /eng/common/pipelines/templates/steps/publish-blobs.yml\n+                        parameters:\n+                          FolderForUpload: '$(Pipeline.Workspace)/${{artifact.safeName}}'\n+                          BlobSASKey: '$(azure-sdk-docs-prod-sas)'\n+                          BlobName: '$(azure-sdk-docs-prod-blob-name)'\n+                          TargetLanguage: 'java'\n+\n+                          # we override the regular script path because we have cloned the build tools repo as a separate artifact.\n+                          ScriptPath: 'eng/common/scripts/copy-docs-to-blobstorage.ps1'\n+\n+          - ${{if ne(artifact.options.skipUpdatePackageVersion, 'true')}}:\n+            - deployment: UpdatePackageVersion\n+              displayName: \"Update Package Version\"\n+              condition: and(succeeded(), ne(variables['Skip.UpdatePackageVersion'], 'true'))\n+              environment: github\n+              dependsOn: PublishPackage\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: self\n+\n+                      - task: UsePythonVersion@0\n+                        displayName: 'Use Python 3.6'\n+                        inputs:\n+                          versionSpec: '3.6'\n+\n+                      - script: |\n+                          python --version\n+                          python eng/versioning/set_versions.py --build-type ${{ parameters.SDKType }} --increment-version --ai ${{ artifact.name }} --gi ${{ artifact.groupId }}\n+                        workingDirectory: $(Pipeline.Workspace)/s/azure-sdk-for-java\n+                        displayName: Increment package version for ${{ artifact.groupId }} ${{ artifact.name }}\n+\n+                      - script: |\n+                          python --version\n+                          python eng/versioning/update_versions.py --update-type library --build-type ${{ parameters.SDKType }} --avi --sr\n+                        workingDirectory: $(Pipeline.Workspace)/s/azure-sdk-for-java\n+                        displayName: Update pom files for new version of ${{ artifact.groupId }} ${{ artifact.name }}\n+\n+                      - template: /eng/common/pipelines/templates/steps/create-pull-request.yml\n+                        parameters:\n+                          RepoName: azure-sdk-for-java\n+                          PRBranchName: increment-package-version-${{ parameters.ServiceDirectory }}-$(Build.BuildId)\n+                          CommitMsg: \"Increment package version after release of ${{ artifact.groupId }} ${{ artifact.name }}\"\n+                          PRTitle: \"Increment version for ${{ parameters.ServiceDirectory }} releases\"\n+\n+  - stage: Integration\n+    dependsOn: Signing\n+    jobs:\n+    - job: PublishPackages\n+      condition: or(eq(variables['SetDevVersion'], 'true'), and(eq(variables['Build.Reason'],'Schedule'), eq(variables['System.TeamProject'], 'internal')))\n+      displayName: Publish package to daily feed\n+      pool:\n+        vmImage: windows-2019\n+      variables:\n+        skipComponentGovernanceDetection: true\n+      steps:\n+      - checkout: azure-sdk-build-tools\n+        path: azure-sdk-build-tools\n+\n+      - download: current\n+        artifact: ${{parameters.ArtifactName}}-signed\n+        timeoutInMinutes: 5\n+\n+      - template: /tools/gpg/gpg.yml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "originalPosition": 229}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1OTEwMzcw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-385910370", "createdAt": "2020-04-01T20:06:07Z", "commit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowNjowOFrOF_QqOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDowNjowOFrOF_QqOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzU2MQ==", "bodyText": "Are these paths correct?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401877561", "createdAt": "2020-04-01T20:06:08Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: /tools/gpg/gpg.yml\n+                      - template: /tools/java-publishing/java-publishing.yml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d"}, "originalPosition": 120}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d6a0374eb55a362e560714763c3db677a4286e7", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2d6a0374eb55a362e560714763c3db677a4286e7", "committedDate": "2020-04-03T23:17:34Z", "message": "Add debug messages to pull request script"}, "afterCommit": {"oid": "7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "committedDate": "2020-04-03T23:35:53Z", "message": "Add debug messages to pull request script"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "committedDate": "2020-04-03T23:35:53Z", "message": "Add debug messages to pull request script"}, "afterCommit": {"oid": "b85dc68284787f2097aa9e815f6dd2bdb2634899", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b85dc68284787f2097aa9e815f6dd2bdb2634899", "committedDate": "2020-04-04T00:02:56Z", "message": "Add debug messages to pull request script"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjYwNDIw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-388260420", "createdAt": "2020-04-06T13:42:13Z", "commit": {"oid": "b85dc68284787f2097aa9e815f6dd2bdb2634899"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzo0MjoxM1rOGBYSFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzo0MjoxM1rOGBYSFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA5OTYwNA==", "bodyText": "I realize these are here for diagnostics purposes but we're definitely going to want to remove them before merging.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404099604", "createdAt": "2020-04-06T13:42:13Z", "author": {"login": "JimSuplizio"}, "path": "eng/common/scripts/Submit-PullRequest.ps1", "diffHunk": "@@ -61,10 +70,13 @@ else {\n     body                  = $PRBody\n     maintainer_can_modify = $true\n   }\n+  Write-Host \"Got Here 6\"\n \n   $resp = Invoke-RestMethod -Method POST -Headers $headers `\n-                            https://api.github.com/repos/$RepoOwner/$RepoName/pulls `\n-                            -Body ($data | ConvertTo-Json)\n+    https://api.github.com/repos/$RepoOwner/$RepoName/pulls `\n+    -Body ($data | ConvertTo-Json)\n+  Write-Host \"Got Here 7\"\n   $resp | Write-Verbose\n+  Write-Host \"Got Here 8\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b85dc68284787f2097aa9e815f6dd2bdb2634899"}, "originalPosition": 51}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b85dc68284787f2097aa9e815f6dd2bdb2634899", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b85dc68284787f2097aa9e815f6dd2bdb2634899", "committedDate": "2020-04-04T00:02:56Z", "message": "Add debug messages to pull request script"}, "afterCommit": {"oid": "4ec023762a30266a341c704fad45cb73ac78c75a", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4ec023762a30266a341c704fad45cb73ac78c75a", "committedDate": "2020-04-07T02:43:37Z", "message": "Revert Submit-PullRequest.ps1 script"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5Mjk5MjM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-389299239", "createdAt": "2020-04-07T16:41:35Z", "commit": {"oid": "5752b79d2516ef1f90f82582f9fefdd93da2585e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNjo0MTozNVrOGCMgCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNjo0MTozNVrOGCMgCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTE0NQ==", "bodyText": "Is there a reason we don't move the publishing template and scripts into the java repo?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404955145", "createdAt": "2020-04-07T16:41:35Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools\n+                      - template: tools/java-publishing/java-publishing.yml@azure-sdk-build-tools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5752b79d2516ef1f90f82582f9fefdd93da2585e"}, "originalPosition": 120}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5752b79d2516ef1f90f82582f9fefdd93da2585e", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5752b79d2516ef1f90f82582f9fefdd93da2585e", "committedDate": "2020-04-07T03:11:05Z", "message": "Re-Add Depends on"}, "afterCommit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ae8ab57feeb008911aa3e391acfbc82e8a103053", "committedDate": "2020-04-07T19:32:30Z", "message": "Move Java Publishing to main Repo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzg3NjQ1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-390387645", "createdAt": "2020-04-08T23:00:06Z", "commit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzowMDowN1rOGDD47A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzowMDowN1rOGDD47A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjYzNg==", "bodyText": "Why wouldn't the Publish-MavenPackage.ps1 also be moved out into this repo?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405862636", "createdAt": "2020-04-08T23:00:07Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzg3ODU1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-390387855", "createdAt": "2020-04-08T23:00:44Z", "commit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzowMDo0NFrOGDD5uQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzowMDo0NFrOGDD5uQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2Mjg0MQ==", "bodyText": "To enable better reading without scrolling can you enable link wrapping for these steps.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405862841", "createdAt": "2020-04-08T23:00:44Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+\n+  - ${{if eq(parameters.Target, 'JavaDevFeed')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ae8ab57feeb008911aa3e391acfbc82e8a103053", "committedDate": "2020-04-07T19:32:30Z", "message": "Move Java Publishing to main Repo"}, "afterCommit": {"oid": "20d77a66abbc4126f970796eff84b2dd0670d6d1", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/20d77a66abbc4126f970796eff84b2dd0670d6d1", "committedDate": "2020-04-13T20:16:49Z", "message": "Bump Azure Template Version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff8c4a878f65ab40195fe83023bcef478e7c4412", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ff8c4a878f65ab40195fe83023bcef478e7c4412", "committedDate": "2020-04-13T21:45:03Z", "message": "Move Publish-MavenPackage Script, use link wraping on java-publishing.yml"}, "afterCommit": {"oid": "a63ed39c79d4649fbe7bd06262e029e3eafb0b2e", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a63ed39c79d4649fbe7bd06262e029e3eafb0b2e", "committedDate": "2020-04-13T21:48:24Z", "message": "Move Publish-MavenPackage Script, use link wraping on java-publishing.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDY1NTA4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392465508", "createdAt": "2020-04-13T21:51:49Z", "commit": {"oid": "ff8c4a878f65ab40195fe83023bcef478e7c4412"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDgyNzYz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392482763", "createdAt": "2020-04-13T22:29:22Z", "commit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjoyOToyMlrOGE3htA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjoyOToyMlrOGE3htA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1NzIzNg==", "bodyText": "Lets be sure to remove this before merging.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407757236", "createdAt": "2020-04-13T22:29:22Z", "author": {"login": "weshaggard"}, "path": "eng/common/scripts/Submit-PullRequest.ps1", "diffHunk": "@@ -45,16 +45,23 @@ Write-Host $MyInvocation.Line\n \n $query = \"state=open&head=${PROwner}:${PRBranch}&base=${BaseBranch}\"\n \n+Write-Host \"Got Here 2\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDgzMzQ1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392483345", "createdAt": "2020-04-13T22:30:38Z", "commit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozMDozOFrOGE3jhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozMDozOFrOGE3jhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1NzcwMA==", "bodyText": "FWIW You can change this from | to > and not need to put the backtic at the end of each line.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407757700", "createdAt": "2020-04-13T22:30:38Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,47 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        eng/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}}` \n+        -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}}` \n+        -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1` \n+        -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken)` \n+        -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+\n+  - ${{if eq(parameters.Target, 'JavaDevFeed')}}:\n+    - pwsh: |\n+        eng/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}}` \n+        -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}}` \n+        -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1` \n+        -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken)` \n+        -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+        \n+  - ${{if eq(parameters.Target, 'AndroidDevFeed')}}:\n+    - pwsh: |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDg0Mzk4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392484398", "createdAt": "2020-04-13T22:33:08Z", "commit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozMzowOFrOGE3m3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozMzowOFrOGE3m3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODU1Ng==", "bodyText": "For consistency it might be better to move this into a eng\\scripts directory.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407758556", "createdAt": "2020-04-13T22:33:08Z", "author": {"login": "weshaggard"}, "path": "eng/Publish-MavenPackages.ps1", "diffHunk": "@@ -0,0 +1,294 @@\n+param(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDg0Nzg1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392484785", "createdAt": "2020-04-13T22:34:10Z", "commit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozNDoxMFrOGE3oRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozNDoxMFrOGE3oRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODkxNw==", "bodyText": "I assume BuildToolsPath is no longer needed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407758917", "createdAt": "2020-04-13T22:34:10Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,240 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools\n+                      - template: /eng/pipelines/templates/steps/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: MavenCentral\n+                          BuildToolsPath: $(Pipeline.Workspace)/azure-sdk-build-tools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55"}, "originalPosition": 126}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTIxMDUw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392521050", "createdAt": "2020-04-14T00:14:04Z", "commit": {"oid": "fd8e47a41ac9899b3cd138d43c64e558e24e1b25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTIyMzIz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-392522323", "createdAt": "2020-04-14T00:17:57Z", "commit": {"oid": "fd8e47a41ac9899b3cd138d43c64e558e24e1b25"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMDoxNzo1N1rOGE5rTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMDoxNzo1N1rOGE5rTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5MjQ2MA==", "bodyText": "Can you please file a follow-up issue to see if we can find a way to decouple the knowledge of things like where the gpg tooling lives between these different steps? Ideally we would have something like:\n- template: tools/gpg/gpg.yml@azure-sdk-build-tools\n  parameters: \n    GPGPath: $(GPGPath) # We could consider either passing it to both or making GPGPath an output variable from this template. \n\n- template: /eng/pipelines/templates/steps/java-publishing.yml\n  parameters:\n    ArtifactID: ${{artifact.name}}\n    GroupID: ${{artifact.groupId}}\n    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n    Target: MavenCentral\n    GPGPath: $(GPGPath)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407792460", "createdAt": "2020-04-14T00:17:57Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,240 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd8e47a41ac9899b3cd138d43c64e558e24e1b25"}, "originalPosition": 119}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8230e17352ac6078ce9f31cda83e263644a1d19", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d8230e17352ac6078ce9f31cda83e263644a1d19", "committedDate": "2020-04-14T22:16:30Z", "message": "Add inintial Java Release Stage with Signing ReFactored out"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe69ab111115fdd57ae1ef6899da619cd48d3772", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fe69ab111115fdd57ae1ef6899da619cd48d3772", "committedDate": "2020-04-14T22:16:30Z", "message": "Switch Java release to run from public repo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53f4cb86f9ce2fcfdeb3f4eb19fe716f2f2dac54", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/53f4cb86f9ce2fcfdeb3f4eb19fe716f2f2dac54", "committedDate": "2020-04-14T22:16:30Z", "message": "Bump Azure Template Version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e44077baab03d39762e781fe630882dd8a430f9", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0e44077baab03d39762e781fe630882dd8a430f9", "committedDate": "2020-04-14T22:16:31Z", "message": "Update template reference paths"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da358debb2c4a16d0313506008506efa394c563b", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/da358debb2c4a16d0313506008506efa394c563b", "committedDate": "2020-04-14T22:16:31Z", "message": "Remove Depends on from some stages to enable testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bda3689efbc95bd26d5e683dd1438efad09cbf", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/92bda3689efbc95bd26d5e683dd1438efad09cbf", "committedDate": "2020-04-14T22:16:31Z", "message": "update Working directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b906521ea9fb45b3c1992239b9b155eca839d349", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b906521ea9fb45b3c1992239b9b155eca839d349", "committedDate": "2020-04-14T22:16:32Z", "message": "Run powershell script in Verbose"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13c4366a8dd6a7416e355270700432dd5c335cd3", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/13c4366a8dd6a7416e355270700432dd5c335cd3", "committedDate": "2020-04-14T22:16:32Z", "message": "Add debug messages to pull request script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "352fe758601198a35fefa097533858ee84e4cdcf", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/352fe758601198a35fefa097533858ee84e4cdcf", "committedDate": "2020-04-14T22:16:32Z", "message": "Fix version_client.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09229d2ee242ca5a5139baf27455f71e20867a1f", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/09229d2ee242ca5a5139baf27455f71e20867a1f", "committedDate": "2020-04-14T22:16:32Z", "message": "Revert Submit-PullRequest.ps1 script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8c97a0a2373f3e02bb37b84f18592397b3ad6fd", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8c97a0a2373f3e02bb37b84f18592397b3ad6fd", "committedDate": "2020-04-14T22:16:33Z", "message": "Re-Add Depends on"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d92cc0f777f1ba383cddd04ac5e026f3e388b52e", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d92cc0f777f1ba383cddd04ac5e026f3e388b52e", "committedDate": "2020-04-14T22:16:33Z", "message": "Move Java Publishing to main Repo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac11cdcddd4a1b4d7dd712e66cc588a7e78de333", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ac11cdcddd4a1b4d7dd712e66cc588a7e78de333", "committedDate": "2020-04-14T22:16:33Z", "message": "Bump Azure Template Version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55761a22334425b10d4b00a2d2f032b8269899c2", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/55761a22334425b10d4b00a2d2f032b8269899c2", "committedDate": "2020-04-14T22:16:33Z", "message": "Move Publish-MavenPackage Script, use link wraping on java-publishing.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "951d418af6ca6f91d5009c9caf79ac65e6aec048", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/951d418af6ca6f91d5009c9caf79ac65e6aec048", "committedDate": "2020-04-14T22:16:34Z", "message": "'Update version_client.txt for template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43f2b8a75af4384e1accef7a1a516b1535a6c10c", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/43f2b8a75af4384e1accef7a1a516b1535a6c10c", "committedDate": "2020-04-14T22:16:34Z", "message": "Remove debug comments from script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdded7b51036fe79f04be20d62f9010c84ff7746", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/bdded7b51036fe79f04be20d62f9010c84ff7746", "committedDate": "2020-04-14T22:16:34Z", "message": "Update Java-Publishing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00ff16b3f84c7d25aef2aa3701b99904b9d25674", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/00ff16b3f84c7d25aef2aa3701b99904b9d25674", "committedDate": "2020-04-14T22:16:34Z", "message": "Move Publish-MavenPackage.ps1 into scripts directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "277d71adb355d5e584ee47b746b98f053f02dde0", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/277d71adb355d5e584ee47b746b98f053f02dde0", "committedDate": "2020-04-14T22:16:35Z", "message": "Remove condition for integration stage, to test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a4b48e09002b29cbc6132229d42e143e57f68c0", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a4b48e09002b29cbc6132229d42e143e57f68c0", "committedDate": "2020-04-14T22:16:35Z", "message": "Update java-publishing.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "194de09a924d5fa2f6f5b1059b6cda090404ba4b", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/194de09a924d5fa2f6f5b1059b6cda090404ba4b", "committedDate": "2020-04-14T22:16:35Z", "message": "Adjust repo checkout path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1613a661b89426525c641b9d86905ba27e3714b4", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1613a661b89426525c641b9d86905ba27e3714b4", "committedDate": "2020-04-14T22:16:35Z", "message": "'Update paths for testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd61cef7fccf3c82d5f64897c717a97cbb272a0a", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cd61cef7fccf3c82d5f64897c717a97cbb272a0a", "committedDate": "2020-04-14T22:16:35Z", "message": "Move Maven Publish settings to Java Repo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "815ff570acf8558e9991128a0c49acfbd1aef2ae", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/815ff570acf8558e9991128a0c49acfbd1aef2ae", "committedDate": "2020-04-14T22:23:24Z", "message": "Update archetype-java-release file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "091f2e0320fb70a80f60abd740250d48765b4175", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/091f2e0320fb70a80f60abd740250d48765b4175", "committedDate": "2020-04-14T22:49:03Z", "message": "Bump up template for test release"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd8e47a41ac9899b3cd138d43c64e558e24e1b25", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fd8e47a41ac9899b3cd138d43c64e558e24e1b25", "committedDate": "2020-04-13T23:03:20Z", "message": "Move Publish-MavenPackage.ps1 into scripts directory"}, "afterCommit": {"oid": "091f2e0320fb70a80f60abd740250d48765b4175", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/091f2e0320fb70a80f60abd740250d48765b4175", "committedDate": "2020-04-14T22:49:03Z", "message": "Bump up template for test release"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNzg2MDM4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#pullrequestreview-393786038", "createdAt": "2020-04-15T13:43:41Z", "commit": {"oid": "091f2e0320fb70a80f60abd740250d48765b4175"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ca8d6acf1fe6e1df37e3d11a5d7dcac597040c5", "author": {"user": {"login": "chidozieononiwu", "name": "Chidozie Ononiwu (His Righteousness)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1ca8d6acf1fe6e1df37e3d11a5d7dcac597040c5", "committedDate": "2020-04-15T19:10:42Z", "message": "Update Template Changelog"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1293, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}