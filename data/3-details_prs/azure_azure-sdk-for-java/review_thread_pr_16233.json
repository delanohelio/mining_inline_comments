{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMDQ0NjQ5", "number": 16233, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNToxN1rOEs5OCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMDozNFrOEs5Udw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTEwMjgxOnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/test/java/com/azure/resourcemanager/samples/AppServiceSampleLiveOnlyTests.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNToxN1rOHgYLsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNToxN1rOHgYLsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxMjY5MQ==", "bodyText": "would need to change authenticate(httpPipeline, profile) in #16144", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503712691", "createdAt": "2020-10-13T07:05:17Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/test/java/com/azure/resourcemanager/samples/AppServiceSampleLiveOnlyTests.java", "diffHunk": "@@ -136,8 +142,11 @@ public void testManageFunctionAppLogs() throws IOException {\n         if (skipInPlayback()) {\n             return;\n         }\n-        // require a longer read timeout in HttpClient\n-        // e.g., new NettyAsyncHttpClientBuilder().readTimeout(Duration.ofMinutes(10))\n+        azureResourceManager = AzureResourceManager.authenticate(\n+            setReadTimeout(azureResourceManager.storageAccounts().manager().httpPipeline(), Duration.ofMinutes(10)),\n+            new AzureProfile(azureResourceManager.tenantId(), azureResourceManager.subscriptionId(), AzureEnvironment.AZURE)\n+        )\n+            .withDefaultSubscription();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTEwODU0OnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/kubernetescluster/samples/DeployImageFromContainerRegistryToKubernetes.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNzoyM1rOHgYPJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMjoxNFrOHgYYvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxMzU3Mg==", "bodyText": "Why vm size changes here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503713572", "createdAt": "2020-10-13T07:07:23Z", "author": {"login": "xseeseesee"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/kubernetescluster/samples/DeployImageFromContainerRegistryToKubernetes.java", "diffHunk": "@@ -144,8 +145,9 @@ public static boolean runSample(AzureResourceManager azureResourceManager, Strin\n                 .withServicePrincipalClientId(servicePrincipalClientId)\n                 .withServicePrincipalSecret(servicePrincipalSecret)\n                 .defineAgentPool(\"agentpool\")\n-                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D1_V2)\n+                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D2_V2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxNjAzMA==", "bodyText": "The SYSTEM agent pool doesn't support 1 cpu VM", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503716030", "createdAt": "2020-10-13T07:12:14Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/kubernetescluster/samples/DeployImageFromContainerRegistryToKubernetes.java", "diffHunk": "@@ -144,8 +145,9 @@ public static boolean runSample(AzureResourceManager azureResourceManager, Strin\n                 .withServicePrincipalClientId(servicePrincipalClientId)\n                 .withServicePrincipalSecret(servicePrincipalSecret)\n                 .defineAgentPool(\"agentpool\")\n-                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D1_V2)\n+                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D2_V2)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxMzU3Mg=="}, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTExOTI3OnYy", "diffSide": "LEFT", "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageLinuxWebAppCosmosDbByMsi.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMDozNFrOHgYVZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMzoyNVrOHgYa_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxNTE3Mg==", "bodyText": "Long term, we might probably try fix this docker file (or rather, use JAR deployment directly).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503715172", "createdAt": "2020-10-13T07:10:34Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageLinuxWebAppCosmosDbByMsi.java", "diffHunk": "@@ -167,13 +167,18 @@ public static boolean runSample(AzureResourceManager azure, String clientId) thr\n             DockerClient dockerClient = DockerUtils.createDockerClient(azure, rgName, region,\n                     azureRegistry.loginServerUrl(), acrCredentials.username(), acrCredentials.accessKeys().get(AccessKeyType.PRIMARY));\n \n+            String imageName = \"tomcat:7.0-slim\";\n             String privateRepoUrl = azureRegistry.loginServerUrl() + \"/todoapp\";\n-            dockerClient.buildImageCmd(new File(ManageLinuxWebAppCosmosDbByMsi.class.getResource(\"/todoapp-cosmosdb/Dockerfile\").getFile()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxNjYwNg==", "bodyText": "I think maybe JAR is better, corresponding to windows version.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503716606", "createdAt": "2020-10-13T07:13:25Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageLinuxWebAppCosmosDbByMsi.java", "diffHunk": "@@ -167,13 +167,18 @@ public static boolean runSample(AzureResourceManager azure, String clientId) thr\n             DockerClient dockerClient = DockerUtils.createDockerClient(azure, rgName, region,\n                     azureRegistry.loginServerUrl(), acrCredentials.username(), acrCredentials.accessKeys().get(AccessKeyType.PRIMARY));\n \n+            String imageName = \"tomcat:7.0-slim\";\n             String privateRepoUrl = azureRegistry.loginServerUrl() + \"/todoapp\";\n-            dockerClient.buildImageCmd(new File(ManageLinuxWebAppCosmosDbByMsi.class.getResource(\"/todoapp-cosmosdb/Dockerfile\").getFile()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxNTE3Mg=="}, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3533, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}