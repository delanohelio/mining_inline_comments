{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MTUzMjc5", "number": 12302, "title": "Return paging metadata as top-level API", "bodyText": "Based on return collection guidelines, we currently return metadata to top-level API.\nHide page-level APIs behind and we can add them back as non-breaking change if it is necessary.\nTop-level API fetch from the first page and cache for next page requests.", "createdAt": "2020-06-17T23:56:23Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302", "merged": true, "mergeCommit": {"oid": "b46ab35841c936626a9bb7fd141bdc61cfc5af92"}, "closed": true, "closedAt": "2020-06-19T21:04:33Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcshCC1gFqTQzMzQ0ODcxOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctkYvmgFqTQzNDUzOTMyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDQ4NzE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#pullrequestreview-433448718", "createdAt": "2020-06-18T16:23:51Z", "commit": {"oid": "66da7c5bc5325322cc6a70153a83f7c539098ff6"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoyMzo1MlrOGl26jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoyNzo0NVrOGl3EUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1MDIyMw==", "bodyText": "I'm not certain this is the right pattern to be using. Looking at the method calls below, getting their property informationwill trigger a service call and as @brjohnstmsft mentioned this information is variable between calls. I believe the pattern we should be following is closer to what @anuchandy used when creating PollerFlux with caching responses, in this case the first response will be cached in this class instead of the most recent response.\nThe high level flow would be the following,\n\nCreate a property on the class that will be set on first page retrieved.\nWrap the passed supplier in another supplier that will retrieve the first page and set the variable.\nIf one of the property methods on the class are called before the first page is retrieved it will get the first page and cache it, when the Flux is iterated we join that page with all the next page retrievals.\n\nThis may have some side affects depending on much time passes between the property access and iterating the flux.\n\n\n\nGiven Java's use of Reactor for paging a few more questions arise:\n\nWhat happens when the consumer begins their iteration using a continuation token.\nHow does this fit into the reactive stream concept.\n\nThe former may be resolved by having this class override those methods to better handle it, but there still is an issue that this Flux could be used multiple times with different starting locations.\nSearchPagedFlux searchFlux = search(\"search string);\n\nsearchFlux.subscribe(/* iterate by item */);\n\n/* Some code later */\n\nsearchFlux.byPage(continuationToken).subscribe(/* iterate pages from starting token */);\nIn this case the SearchPagedFlux has been retained and will contain top level data for the first invocation, but there is not reason it couldn't be reused later.\nAs seen above there is also a pattern mismatch with how these top level properties need to be accessed. The consumer either needs to explicitly retain access to the PagedFlux or they need to use it directly before iterating, both are a bit of an anti-pattern for reactive programming.\nSome of the issues raised here are more corner cases but I want to make sure we think through them.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r442350223", "createdAt": "2020-06-18T16:23:52Z", "author": {"login": "alzimmermsft"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/util/SearchPagedFlux.java", "diffHunk": "@@ -17,13 +20,16 @@\n  * element type is {@link SearchResult}, and the page type is {@link SearchPagedResponse}.\n  */\n public final class SearchPagedFlux extends PagedFluxBase<SearchResult, SearchPagedResponse> {\n+    private final Supplier<Mono<SearchPagedResponse>> firstPageRetriever;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66da7c5bc5325322cc6a70153a83f7c539098ff6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1MTI3OQ==", "bodyText": "Just to make clear, we are now hiding the per-page metadata. I don't have an issue with it, just wanted to make certain I understand this change.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r442351279", "createdAt": "2020-06-18T16:25:32Z", "author": {"login": "alzimmermsft"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/util/SearchPagedResponse.java", "diffHunk": "@@ -81,7 +81,7 @@ private static String createContinuationToken(SimpleResponse<SearchDocumentsResu\n      * @return The percentage of the index covered in the search request if {@code minimumCoverage} was set in the\n      * request, otherwise {@code null}.\n      */\n-    public Double getCoverage() {\n+    Double getCoverage() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66da7c5bc5325322cc6a70153a83f7c539098ff6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1MjcyMw==", "bodyText": "As mentioned in the SearchPagedFlux comment, we have three extra service calls here due to how we are retrieving the properties by making a service call every time they are accessed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r442352723", "createdAt": "2020-06-18T16:27:45Z", "author": {"login": "alzimmermsft"}, "path": "sdk/search/azure-search-documents/src/test/resources/session-records/canSearchDynamicDocuments.json", "diffHunk": "@@ -1,100 +1,189 @@\n {\n   \"networkCallRecords\" : [ {\n     \"Method\" : \"PUT\",\n-    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocumentsac5968510bcdf225717c')?allowIndexDowntime=false&api-version=2019-05-06-Preview\",\n+    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocuments956100826a5f13017d9b')?allowIndexDowntime=false&api-version=2019-05-06-Preview\",\n     \"Headers\" : {\n-      \"x-ms-client-request-id\" : \"3e4e795b-0b90-482e-9e32-e15cc6ad884c\",\n+      \"User-Agent\" : \"azsdk-java-azure-search-documents/1.0.0-beta.5 (11.0.6; Windows 10 10.0)\",\n+      \"x-ms-client-request-id\" : \"26e69c14-756d-4490-a8fa-3bc850518e60\",\n       \"Content-Type\" : \"application/json; charset=utf-8\"\n     },\n     \"Response\" : {\n       \"Pragma\" : \"no-cache\",\n       \"retry-after\" : \"0\",\n-      \"request-id\" : \"3e4e795b-0b90-482e-9e32-e15cc6ad884c\",\n+      \"request-id\" : \"26e69c14-756d-4490-a8fa-3bc850518e60\",\n       \"StatusCode\" : \"201\",\n-      \"Date\" : \"Mon, 11 May 2020 18:07:21 GMT\",\n+      \"Date\" : \"Thu, 18 Jun 2020 06:53:21 GMT\",\n       \"Strict-Transport-Security\" : \"max-age=15724800; includeSubDomains\",\n       \"Cache-Control\" : \"no-cache\",\n-      \"client-request-id\" : \"3e4e795b-0b90-482e-9e32-e15cc6ad884c\",\n-      \"ETag\" : \"W/\\\"0x8D7F5D626C2C75E\\\"\",\n-      \"elapsed-time\" : \"873\",\n+      \"client-request-id\" : \"26e69c14-756d-4490-a8fa-3bc850518e60\",\n+      \"ETag\" : \"W/\\\"0x8D8135449E39526\\\"\",\n+      \"elapsed-time\" : \"1161\",\n       \"OData-Version\" : \"4.0\",\n       \"Expires\" : \"-1\",\n-      \"Content-Length\" : \"6423\",\n-      \"Body\" : \"{\\\"@odata.context\\\":\\\"https://alzimmer-search.search.windows.net/$metadata#indexes/$entity\\\",\\\"@odata.etag\\\":\\\"\\\\\\\"0x8D7F5D626C2C75E\\\\\\\"\\\",\\\"name\\\":\\\"hotelscansearchdynamicdocumentsac5968510bcdf225717c\\\",\\\"defaultScoringProfile\\\":null,\\\"fields\\\":[{\\\"name\\\":\\\"HotelId\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":true,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"HotelName\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"en.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description_fr\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"fr.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Category\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Tags\\\",\\\"type\\\":\\\"Collection(Edm.String)\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"ParkingIncluded\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SmokingAllowed\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"LastRenovationDate\\\",\\\"type\\\":\\\"Edm.DateTimeOffset\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Rating\\\",\\\"type\\\":\\\"Edm.Int32\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Address\\\",\\\"type\\\":\\\"Edm.ComplexType\\\",\\\"fields\\\":[{\\\"name\\\":\\\"StreetAddress\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"City\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"StateProvince\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"PostalCode\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Country\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]}]},{\\\"name\\\":\\\"Location\\\",\\\"type\\\":\\\"Edm.GeographyPoint\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Rooms\\\",\\\"type\\\":\\\"Collection(Edm.ComplexType)\\\",\\\"fields\\\":[{\\\"name\\\":\\\"Description\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"en.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description_fr\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"fr.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Type\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"BaseRate\\\",\\\"type\\\":\\\"Edm.Double\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"BedOptions\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SleepsCount\\\",\\\"type\\\":\\\"Edm.Int32\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SmokingAllowed\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Tags\\\",\\\"type\\\":\\\"Collection(Edm.String)\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]}]}],\\\"scoringProfiles\\\":[{\\\"name\\\":\\\"nearest\\\",\\\"functionAggregation\\\":\\\"sum\\\",\\\"text\\\":null,\\\"functions\\\":[{\\\"fieldName\\\":\\\"Location\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"type\\\":\\\"distance\\\",\\\"boost\\\":2.0,\\\"freshness\\\":null,\\\"magnitude\\\":null,\\\"distance\\\":{\\\"referencePointParameter\\\":\\\"myloc\\\",\\\"boostingDistance\\\":100.0},\\\"tag\\\":null}]},{\\\"name\\\":\\\"text\\\",\\\"functionAggregation\\\":\\\"sum\\\",\\\"text\\\":null,\\\"functions\\\":[{\\\"fieldName\\\":\\\"Tags\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"type\\\":\\\"tag\\\",\\\"boost\\\":2.0,\\\"freshness\\\":null,\\\"magnitude\\\":null,\\\"distance\\\":null,\\\"tag\\\":{\\\"tagsParameter\\\":\\\"mytag\\\"}}]}],\\\"corsOptions\\\":null,\\\"suggesters\\\":[{\\\"name\\\":\\\"sg\\\",\\\"searchMode\\\":\\\"analyzingInfixMatching\\\",\\\"sourceFields\\\":[\\\"Description\\\",\\\"HotelName\\\"]}],\\\"analyzers\\\":[],\\\"tokenizers\\\":[],\\\"tokenFilters\\\":[],\\\"charFilters\\\":[],\\\"encryptionKey\\\":null,\\\"similarity\\\":null}\",\n+      \"Content-Length\" : \"6420\",\n+      \"Body\" : \"{\\\"@odata.context\\\":\\\"https://sizhu-search.search.windows.net/$metadata#indexes/$entity\\\",\\\"@odata.etag\\\":\\\"\\\\\\\"0x8D8135449E39526\\\\\\\"\\\",\\\"name\\\":\\\"hotelscansearchdynamicdocuments956100826a5f13017d9b\\\",\\\"defaultScoringProfile\\\":null,\\\"fields\\\":[{\\\"name\\\":\\\"HotelId\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":true,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"HotelName\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"en.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description_fr\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"fr.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Category\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Tags\\\",\\\"type\\\":\\\"Collection(Edm.String)\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"ParkingIncluded\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SmokingAllowed\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"LastRenovationDate\\\",\\\"type\\\":\\\"Edm.DateTimeOffset\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Rating\\\",\\\"type\\\":\\\"Edm.Int32\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Address\\\",\\\"type\\\":\\\"Edm.ComplexType\\\",\\\"fields\\\":[{\\\"name\\\":\\\"StreetAddress\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"City\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"StateProvince\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"PostalCode\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Country\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]}]},{\\\"name\\\":\\\"Location\\\",\\\"type\\\":\\\"Edm.GeographyPoint\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":true,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Rooms\\\",\\\"type\\\":\\\"Collection(Edm.ComplexType)\\\",\\\"fields\\\":[{\\\"name\\\":\\\"Description\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"en.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Description_fr\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":\\\"fr.lucene\\\",\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Type\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":false,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":false,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"BaseRate\\\",\\\"type\\\":\\\"Edm.Double\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"BedOptions\\\",\\\"type\\\":\\\"Edm.String\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SleepsCount\\\",\\\"type\\\":\\\"Edm.Int32\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"SmokingAllowed\\\",\\\"type\\\":\\\"Edm.Boolean\\\",\\\"searchable\\\":false,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]},{\\\"name\\\":\\\"Tags\\\",\\\"type\\\":\\\"Collection(Edm.String)\\\",\\\"searchable\\\":true,\\\"filterable\\\":true,\\\"retrievable\\\":true,\\\"sortable\\\":false,\\\"facetable\\\":true,\\\"key\\\":false,\\\"indexAnalyzer\\\":null,\\\"searchAnalyzer\\\":null,\\\"analyzer\\\":null,\\\"synonymMaps\\\":[]}]}],\\\"scoringProfiles\\\":[{\\\"name\\\":\\\"nearest\\\",\\\"functionAggregation\\\":\\\"sum\\\",\\\"text\\\":null,\\\"functions\\\":[{\\\"fieldName\\\":\\\"Location\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"type\\\":\\\"distance\\\",\\\"boost\\\":2.0,\\\"freshness\\\":null,\\\"magnitude\\\":null,\\\"distance\\\":{\\\"referencePointParameter\\\":\\\"myloc\\\",\\\"boostingDistance\\\":100.0},\\\"tag\\\":null}]},{\\\"name\\\":\\\"text\\\",\\\"functionAggregation\\\":\\\"sum\\\",\\\"text\\\":null,\\\"functions\\\":[{\\\"fieldName\\\":\\\"Tags\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"type\\\":\\\"tag\\\",\\\"boost\\\":2.0,\\\"freshness\\\":null,\\\"magnitude\\\":null,\\\"distance\\\":null,\\\"tag\\\":{\\\"tagsParameter\\\":\\\"mytag\\\"}}]}],\\\"corsOptions\\\":null,\\\"suggesters\\\":[{\\\"name\\\":\\\"sg\\\",\\\"searchMode\\\":\\\"analyzingInfixMatching\\\",\\\"sourceFields\\\":[\\\"Description\\\",\\\"HotelName\\\"]}],\\\"analyzers\\\":[],\\\"tokenizers\\\":[],\\\"tokenFilters\\\":[],\\\"charFilters\\\":[],\\\"encryptionKey\\\":null,\\\"similarity\\\":null}\",\n       \"Preference-Applied\" : \"odata.include-annotations=\\\"*\\\"\",\n+      \"x-ms-client-request-id\" : \"26e69c14-756d-4490-a8fa-3bc850518e60\",\n       \"Content-Type\" : \"application/json; odata.metadata=minimal\",\n-      \"Location\" : \"https://alzimmer-search.search.windows.net/indexes('hotelscansearchdynamicdocumentsac5968510bcdf225717c')?allowIndexDowntime=false&api-version=2019-05-06-Preview\"\n+      \"Location\" : \"https://sizhu-search.search.windows.net/indexes('hotelscansearchdynamicdocuments956100826a5f13017d9b')?allowIndexDowntime=false&api-version=2019-05-06-Preview\"\n     },\n     \"Exception\" : null\n   }, {\n     \"Method\" : \"POST\",\n-    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocumentsac5968510bcdf225717c')/docs/search.index?api-version=2019-05-06-Preview\",\n+    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocuments956100826a5f13017d9b')/docs/search.index?api-version=2019-05-06-Preview\",\n     \"Headers\" : {\n-      \"x-ms-client-request-id\" : \"9391561f-a4ca-4051-ae81-5ade62175268\",\n+      \"User-Agent\" : \"azsdk-java-azure-search-documents/1.0.0-beta.5 (11.0.6; Windows 10 10.0)\",\n+      \"x-ms-client-request-id\" : \"9e99e392-b435-4c3c-8a61-80659a26a018\",\n       \"Content-Type\" : \"application/json; charset=utf-8\"\n     },\n     \"Response\" : {\n       \"Pragma\" : \"no-cache\",\n       \"retry-after\" : \"0\",\n-      \"request-id\" : \"9391561f-a4ca-4051-ae81-5ade62175268\",\n+      \"request-id\" : \"9e99e392-b435-4c3c-8a61-80659a26a018\",\n       \"StatusCode\" : \"200\",\n-      \"Date\" : \"Mon, 11 May 2020 18:07:21 GMT\",\n+      \"Date\" : \"Thu, 18 Jun 2020 06:53:22 GMT\",\n       \"Strict-Transport-Security\" : \"max-age=15724800; includeSubDomains\",\n       \"Cache-Control\" : \"no-cache\",\n-      \"client-request-id\" : \"9391561f-a4ca-4051-ae81-5ade62175268\",\n-      \"elapsed-time\" : \"228\",\n+      \"client-request-id\" : \"9e99e392-b435-4c3c-8a61-80659a26a018\",\n+      \"elapsed-time\" : \"319\",\n       \"OData-Version\" : \"4.0\",\n       \"Expires\" : \"-1\",\n       \"Content-Length\" : \"642\",\n       \"Body\" : \"{\\\"value\\\":[{\\\"key\\\":\\\"1\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"2\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"3\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"4\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"5\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"6\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"7\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"8\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"9\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201},{\\\"key\\\":\\\"10\\\",\\\"status\\\":true,\\\"errorMessage\\\":null,\\\"statusCode\\\":201}]}\",\n       \"Preference-Applied\" : \"odata.include-annotations=\\\"*\\\"\",\n+      \"x-ms-client-request-id\" : \"9e99e392-b435-4c3c-8a61-80659a26a018\",\n       \"Content-Type\" : \"application/json; odata.metadata=none\"\n     },\n     \"Exception\" : null\n   }, {\n     \"Method\" : \"POST\",\n-    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocumentsac5968510bcdf225717c')/docs/search.post.search?api-version=2019-05-06-Preview\",\n+    \"Uri\" : \"https://REDACTED.search.windows.net/indexes('hotelscansearchdynamicdocuments956100826a5f13017d9b')/docs/search.post.search?api-version=2019-05-06-Preview\",\n     \"Headers\" : {\n-      \"x-ms-client-request-id\" : \"853ae0c3-b77d-4542-8b4a-f50ab51a9001\",\n+      \"User-Agent\" : \"azsdk-java-azure-search-documents/1.0.0-beta.5 (11.0.6; Windows 10 10.0)\",\n+      \"x-ms-client-request-id\" : \"dda09238-c11b-43b8-befd-6f5533836385\",\n       \"Content-Type\" : \"application/json; charset=utf-8\"\n     },\n     \"Response\" : {\n       \"Pragma\" : \"no-cache\",\n       \"retry-after\" : \"0\",\n-      \"request-id\" : \"853ae0c3-b77d-4542-8b4a-f50ab51a9001\",\n+      \"request-id\" : \"dda09238-c11b-43b8-befd-6f5533836385\",\n       \"StatusCode\" : \"200\",\n-      \"Date\" : \"Mon, 11 May 2020 18:07:23 GMT\",\n+      \"Date\" : \"Thu, 18 Jun 2020 06:53:26 GMT\",\n       \"Strict-Transport-Security\" : \"max-age=15724800; includeSubDomains\",\n       \"Cache-Control\" : \"no-cache\",\n-      \"client-request-id\" : \"853ae0c3-b77d-4542-8b4a-f50ab51a9001\",\n-      \"elapsed-time\" : \"47\",\n+      \"client-request-id\" : \"dda09238-c11b-43b8-befd-6f5533836385\",\n+      \"elapsed-time\" : \"37\",\n       \"OData-Version\" : \"4.0\",\n       \"Expires\" : \"-1\",\n       \"Content-Length\" : \"5607\",\n-      \"Body\" : \"{\\\"value\\\":[{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"3\\\",\\\"HotelName\\\":\\\"EconoStay\\\",\\\"Description\\\":\\\"Very popular hotel in town\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"1995-07-01T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,49.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"9\\\",\\\"HotelName\\\":\\\"Secret Point Motel\\\",\\\"Description\\\":\\\"The hotel is ideally located on the main commercial artery of the city in the heart of New York. A few minutes away is Time's Square and the historic centre of the city, as well as other places of interest that make New York one of America's most attractive and cosmopolitan cities.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Boutique\\\",\\\"Tags\\\":[\\\"pool\\\",\\\"air conditioning\\\",\\\"concierge\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":\\\"1970-01-18T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-73.975403,40.760586],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":{\\\"StreetAddress\\\":\\\"677 5th Ave\\\",\\\"City\\\":\\\"New York\\\",\\\"StateProvince\\\":\\\"NY\\\",\\\"PostalCode\\\":\\\"10022\\\",\\\"Country\\\":\\\"USA\\\"},\\\"Rooms\\\":[{\\\"Description\\\":\\\"Budget Room, 1 Queen Bed (Cityside)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":9.69,\\\"BedOptions\\\":\\\"1 Queen Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"vcr/dvd\\\"]},{\\\"Description\\\":\\\"Budget Room, 1 King Bed (Mountain View)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":8.09,\\\"BedOptions\\\":\\\"1 King Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"vcr/dvd\\\",\\\"jacuzzi tub\\\"]}]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"2\\\",\\\"HotelName\\\":\\\"Roach Motel\\\",\\\"Description\\\":\\\"Cheapest hotel in town. Infact, a motel.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"motel\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":true,\\\"LastRenovationDate\\\":\\\"1982-04-28T00:00:00Z\\\",\\\"Rating\\\":1,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,49.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"4\\\",\\\"HotelName\\\":\\\"Express Rooms\\\",\\\"Description\\\":\\\"Pretty good hotel\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"1995-07-01T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,48.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"5\\\",\\\"HotelName\\\":\\\"Comfy Place\\\",\\\"Description\\\":\\\"Another good hotel\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"2012-08-12T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,48.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"7\\\",\\\"HotelName\\\":\\\"Modern Stay\\\",\\\"Description\\\":\\\"Modern architecture, very polite staff and very clean. Also very affordable.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"6\\\",\\\"HotelName\\\":null,\\\"Description\\\":\\\"Surprisingly expensive. Model suites have an ocean-view.\\\",\\\"Description_fr\\\":null,\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"8\\\",\\\"HotelName\\\":null,\\\"Description\\\":\\\"Has some road noise and is next to the very police station. Bathrooms had morel coverings.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"1\\\",\\\"HotelName\\\":\\\"Fancy Stay\\\",\\\"Description\\\":\\\"Best hotel in town if you like luxury hotels. They have an amazing infinity pool, a spa, and a really helpful concierge. The location is perfect -- right downtown, close to all the tourist attractions. We highly recommend this hotel.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Luxury\\\",\\\"Tags\\\":[\\\"pool\\\",\\\"view\\\",\\\"wifi\\\",\\\"concierge\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"2010-06-27T00:00:00Z\\\",\\\"Rating\\\":5,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,47.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"10\\\",\\\"HotelName\\\":\\\"Countryside Hotel\\\",\\\"Description\\\":\\\"Save up to 50% off traditional hotels.  Free WiFi, great location near downtown, full kitchen, washer & dryer, 24/7 support, bowling alley, fitness center and more.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"24-hour front desk service\\\",\\\"coffee in lobby\\\",\\\"restaurant\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":true,\\\"LastRenovationDate\\\":\\\"1999-09-06T00:00:00Z\\\",\\\"Rating\\\":3,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-78.940483,35.90416],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":{\\\"StreetAddress\\\":\\\"6910 Fayetteville Rd\\\",\\\"City\\\":\\\"Durham\\\",\\\"StateProvince\\\":\\\"NC\\\",\\\"PostalCode\\\":\\\"27713\\\",\\\"Country\\\":\\\"USA\\\"},\\\"Rooms\\\":[{\\\"Description\\\":\\\"Suite, 1 King Bed (Amenities)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Suite\\\",\\\"BaseRate\\\":2.44,\\\"BedOptions\\\":\\\"1 King Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"coffee maker\\\"]},{\\\"Description\\\":\\\"Budget Room, 1 Queen Bed (Amenities)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":7.69,\\\"BedOptions\\\":\\\"1 Queen Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":false,\\\"Tags\\\":[\\\"coffee maker\\\"]}]}]}\",\n+      \"Body\" : \"{\\\"value\\\":[{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"1\\\",\\\"HotelName\\\":\\\"Fancy Stay\\\",\\\"Description\\\":\\\"Best hotel in town if you like luxury hotels. They have an amazing infinity pool, a spa, and a really helpful concierge. The location is perfect -- right downtown, close to all the tourist attractions. We highly recommend this hotel.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Luxury\\\",\\\"Tags\\\":[\\\"pool\\\",\\\"view\\\",\\\"wifi\\\",\\\"concierge\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"2010-06-27T00:00:00Z\\\",\\\"Rating\\\":5,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,47.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"2\\\",\\\"HotelName\\\":\\\"Roach Motel\\\",\\\"Description\\\":\\\"Cheapest hotel in town. Infact, a motel.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"motel\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":true,\\\"LastRenovationDate\\\":\\\"1982-04-28T00:00:00Z\\\",\\\"Rating\\\":1,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,49.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"3\\\",\\\"HotelName\\\":\\\"EconoStay\\\",\\\"Description\\\":\\\"Very popular hotel in town\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"1995-07-01T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,49.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"4\\\",\\\"HotelName\\\":\\\"Express Rooms\\\",\\\"Description\\\":\\\"Pretty good hotel\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"1995-07-01T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,48.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"5\\\",\\\"HotelName\\\":\\\"Comfy Place\\\",\\\"Description\\\":\\\"Another good hotel\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"wifi\\\",\\\"budget\\\"],\\\"ParkingIncluded\\\":true,\\\"SmokingAllowed\\\":false,\\\"LastRenovationDate\\\":\\\"2012-08-12T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-122.131577,48.678581],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"6\\\",\\\"HotelName\\\":null,\\\"Description\\\":\\\"Surprisingly expensive. Model suites have an ocean-view.\\\",\\\"Description_fr\\\":null,\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"7\\\",\\\"HotelName\\\":\\\"Modern Stay\\\",\\\"Description\\\":\\\"Modern architecture, very polite staff and very clean. Also very affordable.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"8\\\",\\\"HotelName\\\":null,\\\"Description\\\":\\\"Has some road noise and is next to the very police station. Bathrooms had morel coverings.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":null,\\\"Tags\\\":[],\\\"ParkingIncluded\\\":null,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":null,\\\"Rating\\\":null,\\\"Location\\\":null,\\\"Address\\\":null,\\\"Rooms\\\":[]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"9\\\",\\\"HotelName\\\":\\\"Secret Point Motel\\\",\\\"Description\\\":\\\"The hotel is ideally located on the main commercial artery of the city in the heart of New York. A few minutes away is Time's Square and the historic centre of the city, as well as other places of interest that make New York one of America's most attractive and cosmopolitan cities.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Boutique\\\",\\\"Tags\\\":[\\\"pool\\\",\\\"air conditioning\\\",\\\"concierge\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":null,\\\"LastRenovationDate\\\":\\\"1970-01-18T00:00:00Z\\\",\\\"Rating\\\":4,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-73.975403,40.760586],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":{\\\"StreetAddress\\\":\\\"677 5th Ave\\\",\\\"City\\\":\\\"New York\\\",\\\"StateProvince\\\":\\\"NY\\\",\\\"PostalCode\\\":\\\"10022\\\",\\\"Country\\\":\\\"USA\\\"},\\\"Rooms\\\":[{\\\"Description\\\":\\\"Budget Room, 1 Queen Bed (Cityside)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":9.69,\\\"BedOptions\\\":\\\"1 Queen Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"vcr/dvd\\\"]},{\\\"Description\\\":\\\"Budget Room, 1 King Bed (Mountain View)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":8.09,\\\"BedOptions\\\":\\\"1 King Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"vcr/dvd\\\",\\\"jacuzzi tub\\\"]}]},{\\\"@search.score\\\":1.0,\\\"HotelId\\\":\\\"10\\\",\\\"HotelName\\\":\\\"Countryside Hotel\\\",\\\"Description\\\":\\\"Save up to 50% off traditional hotels.  Free WiFi, great location near downtown, full kitchen, washer & dryer, 24/7 support, bowling alley, fitness center and more.\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Category\\\":\\\"Budget\\\",\\\"Tags\\\":[\\\"24-hour front desk service\\\",\\\"coffee in lobby\\\",\\\"restaurant\\\"],\\\"ParkingIncluded\\\":false,\\\"SmokingAllowed\\\":true,\\\"LastRenovationDate\\\":\\\"1999-09-06T00:00:00Z\\\",\\\"Rating\\\":3,\\\"Location\\\":{\\\"type\\\":\\\"Point\\\",\\\"coordinates\\\":[-78.940483,35.90416],\\\"crs\\\":{\\\"type\\\":\\\"name\\\",\\\"properties\\\":{\\\"name\\\":\\\"EPSG:4326\\\"}}},\\\"Address\\\":{\\\"StreetAddress\\\":\\\"6910 Fayetteville Rd\\\",\\\"City\\\":\\\"Durham\\\",\\\"StateProvince\\\":\\\"NC\\\",\\\"PostalCode\\\":\\\"27713\\\",\\\"Country\\\":\\\"USA\\\"},\\\"Rooms\\\":[{\\\"Description\\\":\\\"Suite, 1 King Bed (Amenities)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Suite\\\",\\\"BaseRate\\\":2.44,\\\"BedOptions\\\":\\\"1 King Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":true,\\\"Tags\\\":[\\\"coffee maker\\\"]},{\\\"Description\\\":\\\"Budget Room, 1 Queen Bed (Amenities)\\\",\\\"Description_fr\\\":\\\"\\\",\\\"Type\\\":\\\"Budget Room\\\",\\\"BaseRate\\\":7.69,\\\"BedOptions\\\":\\\"1 Queen Bed\\\",\\\"SleepsCount\\\":2,\\\"SmokingAllowed\\\":false,\\\"Tags\\\":[\\\"coffee maker\\\"]}]}]}\",\n       \"Preference-Applied\" : \"odata.include-annotations=\\\"*\\\"\",\n+      \"x-ms-client-request-id\" : \"dda09238-c11b-43b8-befd-6f5533836385\",\n+      \"Content-Type\" : \"application/json; odata.metadata=none\"\n+    },\n+    \"Exception\" : null\n+  }, {\n+    \"Method\" : \"POST\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66da7c5bc5325322cc6a70153a83f7c539098ff6"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74545a69b2c7a982cd6125953006fa53b03db05b", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/74545a69b2c7a982cd6125953006fa53b03db05b", "committedDate": "2020-06-19T15:37:58Z", "message": "Implemented top-level API for search page results."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66da7c5bc5325322cc6a70153a83f7c539098ff6", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/66da7c5bc5325322cc6a70153a83f7c539098ff6", "committedDate": "2020-06-18T07:50:18Z", "message": "Update SearchPagedFlux.java"}, "afterCommit": {"oid": "74545a69b2c7a982cd6125953006fa53b03db05b", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/74545a69b2c7a982cd6125953006fa53b03db05b", "committedDate": "2020-06-19T15:37:58Z", "message": "Implemented top-level API for search page results."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd0d2240f21da902284cad24d61d74eb0c67e57c", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dd0d2240f21da902284cad24d61d74eb0c67e57c", "committedDate": "2020-06-19T15:50:21Z", "message": "Fixed linting issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjAyMDQ3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#pullrequestreview-434202047", "createdAt": "2020-06-19T16:22:51Z", "commit": {"oid": "dd0d2240f21da902284cad24d61d74eb0c67e57c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjoyNzo1MFrOGmauiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjoyNzo1MFrOGmauiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzNjk2OA==", "bodyText": "Should do this in the map operation above. doOnNext is meant for side-effect operations such as logging and tracing.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r442936968", "createdAt": "2020-06-19T16:27:50Z", "author": {"login": "alzimmermsft"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchAsyncClient.java", "diffHunk": "@@ -404,28 +405,39 @@ public SearchPagedFlux search(String searchText) {\n      */\n     public SearchPagedFlux search(String searchText, SearchOptions searchOptions, RequestOptions requestOptions) {\n         SearchRequest request = createSearchRequest(searchText, searchOptions);\n+        SearchFirstPageResponseWrapper firstPageResponse = new SearchFirstPageResponseWrapper();\n         Function<String, Mono<SearchPagedResponse>> func = continuationToken -> withContext(context ->\n-            search(request, requestOptions, continuationToken, context));\n+            search(request, requestOptions, continuationToken, firstPageResponse, context));\n         return new SearchPagedFlux(() -> func.apply(null), func);\n     }\n \n     SearchPagedFlux search(String searchText, SearchOptions searchOptions, RequestOptions requestOptions,\n         Context context) {\n         SearchRequest request = createSearchRequest(searchText, searchOptions);\n+        SearchFirstPageResponseWrapper firstPageResponseWrapper = new SearchFirstPageResponseWrapper();\n         Function<String, Mono<SearchPagedResponse>> func = continuationToken ->\n-            search(request, requestOptions, continuationToken, context);\n+            search(request, requestOptions, continuationToken, firstPageResponseWrapper, context);\n         return new SearchPagedFlux(() -> func.apply(null), func);\n     }\n \n     private Mono<SearchPagedResponse> search(SearchRequest request, RequestOptions requestOptions,\n-        String continuationToken, Context context) {\n+        String continuationToken, SearchFirstPageResponseWrapper firstPageResponseWrapper, Context context) {\n+\n+        if (continuationToken == null && firstPageResponseWrapper.getFirstPageResponse() != null) {\n+            return Mono.just(firstPageResponseWrapper.getFirstPageResponse());\n+        }\n         SearchRequest requestToUse = (continuationToken == null) ? request\n             : SearchContinuationToken.deserializeToken(serviceVersion.getVersion(), continuationToken);\n \n         return restClient.documents().searchPostWithRestResponseAsync(requestToUse,\n             RequestOptionsConverter.map(requestOptions), context)\n             .onErrorMap(MappingUtils::exceptionMapper)\n-            .map(searchDocumentResponse -> new SearchPagedResponse(searchDocumentResponse, serviceVersion));\n+            .map(searchDocumentResponse -> new SearchPagedResponse(searchDocumentResponse, serviceVersion))\n+            .doOnNext(response -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd0d2240f21da902284cad24d61d74eb0c67e57c"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjMyODgw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#pullrequestreview-434232880", "createdAt": "2020-06-19T17:17:55Z", "commit": {"oid": "dd0d2240f21da902284cad24d61d74eb0c67e57c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNzoxNzo1NVrOGmcDjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNzoxNzo1NVrOGmcDjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk1ODczMg==", "bodyText": "I don't think this wrapper is necessary. You could directly use the SearchPagedResponse.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r442958732", "createdAt": "2020-06-19T17:17:55Z", "author": {"login": "srnagar"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/implementation/models/SearchFirstPageResponseWrapper.java", "diffHunk": "@@ -0,0 +1,33 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.search.documents.implementation.models;\n+\n+import com.azure.search.documents.util.SearchPagedResponse;\n+\n+/**\n+ * This class is a wrapper on first page response from search result.\n+ */\n+public class SearchFirstPageResponseWrapper {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd0d2240f21da902284cad24d61d74eb0c67e57c"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c981b1d1494c40c186176970e1c7c46857a3c4f5", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c981b1d1494c40c186176970e1c7c46857a3c4f5", "committedDate": "2020-06-19T17:56:57Z", "message": "Address Alan's feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b0157d7cf2314d3ee91f26ff3bce47cc51239bc", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6b0157d7cf2314d3ee91f26ff3bce47cc51239bc", "committedDate": "2020-06-19T19:41:04Z", "message": "Update SearchAsyncClient.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTM5MzI1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#pullrequestreview-434539325", "createdAt": "2020-06-21T22:56:17Z", "commit": {"oid": "6b0157d7cf2314d3ee91f26ff3bce47cc51239bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQyMjo1NjoxN1rOGmuuaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQyMjo1NjoxN1rOGmuuaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI2NDYxNw==", "bodyText": "This is not valid HTML - you should have the opening <p> tag on the same line as the paragraph, and a closing </p> tag at the end of the paragraph.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12302#discussion_r443264617", "createdAt": "2020-06-21T22:56:17Z", "author": {"login": "JonathanGiles"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/util/SearchPagedIterable.java", "diffHunk": "@@ -6,19 +6,61 @@\n import com.azure.core.http.rest.PagedIterableBase;\n import com.azure.core.util.paging.ContinuablePagedIterable;\n import com.azure.search.documents.implementation.models.SearchRequest;\n+import com.azure.search.documents.models.FacetResult;\n import com.azure.search.documents.models.SearchResult;\n \n+import java.util.List;\n+import java.util.Map;\n+\n /**\n  * Implementation of {@link ContinuablePagedIterable} where the continuation token type is {@link SearchRequest}, the\n  * element type is {@link SearchResult}, and the page type is {@link SearchPagedResponse}.\n  */\n public final class SearchPagedIterable extends PagedIterableBase<SearchResult, SearchPagedResponse> {\n+    private final SearchPagedFlux pagedFlux;\n+\n     /**\n      * Creates an instance of {@link SearchPagedIterable}.\n      *\n      * @param pagedFlux The {@link SearchPagedFlux} that will be consumed as an iterable.\n      */\n     public SearchPagedIterable(SearchPagedFlux pagedFlux) {\n         super(pagedFlux);\n+        this.pagedFlux = pagedFlux;\n+    }\n+\n+    /**\n+     * The percentage of the index covered in the search request.\n+     * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b0157d7cf2314d3ee91f26ff3bce47cc51239bc"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2968, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}