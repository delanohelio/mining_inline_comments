{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNjU5NTY0", "number": 13335, "title": "Added support to seal an append blob", "bodyText": "", "createdAt": "2020-07-20T17:20:13Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335", "merged": true, "mergeCommit": {"oid": "d7d1af17368811a5cb220a56a47d4c66ae00f292"}, "closed": true, "closedAt": "2020-07-20T21:19:31Z", "author": {"login": "gapra-msft"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc12stzgH2gAyNDUzNjU5NTY0OmRlZTg1ZWQzMGI4MjY2ZWZlYjM4YjZjNzY3N2M5ZDg4N2VkOWIzMmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc239rAAFqTQ1MTk0OTIzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dee85ed30b8266efeb38b6c7677c9d887ed9b32a", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dee85ed30b8266efeb38b6c7677c9d887ed9b32a", "committedDate": "2020-07-17T16:47:47Z", "message": "Added methods for appendSeal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4778d3fd9ea0575f0033d632f0056d23dc5e9c03", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4778d3fd9ea0575f0033d632f0056d23dc5e9c03", "committedDate": "2020-07-17T19:26:51Z", "message": "Added logic to pass appendSeal to copy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80647e9e6ea47467d5ade902f6f1eac31952688", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f80647e9e6ea47467d5ade902f6f1eac31952688", "committedDate": "2020-07-17T19:28:09Z", "message": "Merge branch 'master' into storage/appendSeal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65ed29b9bba51917c314c7495a1a65a505272431", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/65ed29b9bba51917c314c7495a1a65a505272431", "committedDate": "2020-07-17T19:44:35Z", "message": "Added sealed to getproperties and list blobs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "598000baade29e785491d67a7a32af3b0e07915a", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/598000baade29e785491d67a7a32af3b0e07915a", "committedDate": "2020-07-20T17:19:10Z", "message": "Added code for seal append blob"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8969a26bd4e1c1fb2af93b704b4bae472e37dbe", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e8969a26bd4e1c1fb2af93b704b4bae472e37dbe", "committedDate": "2020-07-20T17:21:54Z", "message": "Added changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adac2dc589ed9603595fbcfba88825f21f44b698", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/adac2dc589ed9603595fbcfba88825f21f44b698", "committedDate": "2020-07-20T17:24:52Z", "message": "Changed named of sealed to destinationSealed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47f8ec9c974437f72f453636f3bdfa04740bed89", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/47f8ec9c974437f72f453636f3bdfa04740bed89", "committedDate": "2020-07-20T17:35:49Z", "message": "Added append blob seal test records"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7b6f793207e94d6997ed80b51ae986f7a2d6025", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d7b6f793207e94d6997ed80b51ae986f7a2d6025", "committedDate": "2020-07-20T18:44:49Z", "message": "Added param tag to getProperties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee5d423e47a424b055ca34f42bf41a6e995acff8", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ee5d423e47a424b055ca34f42bf41a6e995acff8", "committedDate": "2020-07-20T19:07:34Z", "message": "Merge branch 'master' into storage/appendSeal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc3c8c02436e26cb70d5eca16267cf62326999a7", "committedDate": "2020-07-20T19:31:09Z", "message": "Added javadoc stuff"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTE4OTQ5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#pullrequestreview-451918949", "createdAt": "2020-07-20T20:03:24Z", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowMzoyNFrOG0dVLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowMzoyNFrOG0dVLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY1OTY5NQ==", "bodyText": "I think \"sealDestination\" makes more sense to me because it's something that will happen in the future whereas \"destinationSealed\" sounds like it's commenting on the past/current state. I'm not really sure what you would use for the getter, though, because \"isSealDestination\" doesn't really work. Also not sure if this was already resolved in .NET", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#discussion_r457659695", "createdAt": "2020-07-20T20:03:24Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/options/BlobBeginCopyOptions.java", "diffHunk": "@@ -26,6 +26,7 @@\n     private RequestConditions sourceRequestConditions;\n     private BlobRequestConditions destinationRequestConditions;\n     private Duration pollInterval;\n+    private Boolean destinationSealed;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTE5NDMx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#pullrequestreview-451919431", "createdAt": "2020-07-20T20:04:06Z", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowNDowNlrOG0dWpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowNDowNlrOG0dWpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MDA3MA==", "bodyText": "Is there a Rest doc we can link to?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#discussion_r457660070", "createdAt": "2020-07-20T20:04:06Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "diffHunk": "@@ -367,4 +368,55 @@\n                 return new SimpleResponse<>(rb, item);\n             });\n     }\n+\n+    /**\n+     * Seals an append blob, making it read only. Any subsequent appends will fail.\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTIwOTkw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#pullrequestreview-451920990", "createdAt": "2020-07-20T20:06:39Z", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowNjozOVrOG0dbow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQyMDowNjozOVrOG0dbow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MTM0Nw==", "bodyText": "Sorry to keep asking this, but it looks like we decided to allow null for options when they don't have a required value?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#discussion_r457661347", "createdAt": "2020-07-20T20:06:39Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "diffHunk": "@@ -367,4 +368,55 @@\n                 return new SimpleResponse<>(rb, item);\n             });\n     }\n+\n+    /**\n+     * Seals an append blob, making it read only. Any subsequent appends will fail.\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.blob.specialized.AppendBlobAsyncClient.seal}\n+     *\n+     * @return A reactive response signalling completion.\n+     */\n+    public Mono<Void> seal() {\n+        try {\n+            return sealWithResponse(new AppendBlobSealOptions())\n+                .flatMap(FluxUtil::toMono);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Seals an append blob, making it read only. Any subsequent appends will fail.\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.blob.specialized.AppendBlobAsyncClient.sealWithResponse#AppendBlobSealOptions}\n+     *\n+     * @param options {@link AppendBlobSealOptions}\n+     * @return A reactive response signalling completion.\n+     */\n+    public Mono<Response<Void>> sealWithResponse(AppendBlobSealOptions options) {\n+        try {\n+            return withContext(context -> sealWithResponse(options, context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    Mono<Response<Void>> sealWithResponse(AppendBlobSealOptions options, Context context) {\n+        options = (options == null) ? new AppendBlobSealOptions() : options;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTIyODkz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#pullrequestreview-451922893", "createdAt": "2020-07-20T20:09:42Z", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95bc0d8a810ece2ad01622e613a08cf1f79c7946", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/95bc0d8a810ece2ad01622e613a08cf1f79c7946", "committedDate": "2020-07-20T20:49:35Z", "message": "renamed methods in BeginCopyOptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTQ5MjMw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13335#pullrequestreview-451949230", "createdAt": "2020-07-20T20:50:09Z", "commit": {"oid": "dc3c8c02436e26cb70d5eca16267cf62326999a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1205, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}