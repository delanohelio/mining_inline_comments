{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNzg4ODkx", "number": 10738, "title": "Rename apiKey() to credential() in FormRecognizer and TextAnalytics ClientBuilder", "bodyText": "Fixes #10737", "createdAt": "2020-05-05T22:42:24Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738", "merged": true, "mergeCommit": {"oid": "1956e6bb374c7c0adb31efb980be253d693f4e8c"}, "closed": true, "closedAt": "2020-05-06T19:06:16Z", "author": {"login": "samvaity"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceb_2HgH2gAyNDEzNzg4ODkxOjAzMmJlNjBmOWEwOTc3ODEwYjcyMTIwODU1NTRlMjAyZDlkY2MxMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcetJgHgBqjMzMDk3OTcxODU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "032be60f9a0977810b7212085554e202d9dcc133", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/032be60f9a0977810b7212085554e202d9dcc133", "committedDate": "2020-05-05T22:40:59Z", "message": "apiKey --> credential()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MjU1MTQ5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#pullrequestreview-406255149", "createdAt": "2020-05-06T01:19:31Z", "commit": {"oid": "032be60f9a0977810b7212085554e202d9dcc133"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMToxOTozMVrOGRBIbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTozMDo1MlrOGRBTaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ5NzUxOA==", "bodyText": "Why are the tests removed?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420497518", "createdAt": "2020-05-06T01:19:31Z", "author": {"login": "sima-zhu"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsClientBuilderUnitTest.java", "diffHunk": "@@ -47,33 +47,11 @@ public void invalidProtocol() {\n         });\n     }\n \n-    /**\n-     * Test for null API key\n-     */\n-    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "032be60f9a0977810b7212085554e202d9dcc133"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ5OTU3Mw==", "bodyText": "Search is validating apiKeyCredential.getKey empty or null case.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420499573", "createdAt": "2020-05-06T01:28:01Z", "author": {"login": "sima-zhu"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClientBuilder.java", "diffHunk": "@@ -219,14 +219,14 @@ public FormRecognizerClientBuilder endpoint(String endpoint) {\n     }\n \n     /**\n-     * Sets the credential to use when authenticating HTTP requests for this FormRecognizerClientBuilder.\n+     * Sets the {@link AzureKeyCredential} to use when authenticating HTTP requests for this FormRecognizerClientBuilder.\n      *\n-     * @param apiKeyCredential API key credential\n+     * @param apiKeyCredential {@link AzureKeyCredential} API key credential\n      *\n      * @return The updated FormRecognizerClientBuilder object.\n      * @throws NullPointerException If {@code apiKeyCredential} is {@code null}\n      */\n-    public FormRecognizerClientBuilder apiKey(AzureKeyCredential apiKeyCredential) {\n+    public FormRecognizerClientBuilder credential(AzureKeyCredential apiKeyCredential) {\n         this.credential = Objects.requireNonNull(apiKeyCredential, \"'apiKeyCredential' cannot be null.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "032be60f9a0977810b7212085554e202d9dcc133"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwMDMzMQ==", "bodyText": "Moreover, if the credential is required, we can move the validation up to buildClient()", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420500331", "createdAt": "2020-05-06T01:30:52Z", "author": {"login": "sima-zhu"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerClientBuilder.java", "diffHunk": "@@ -219,14 +219,14 @@ public FormRecognizerClientBuilder endpoint(String endpoint) {\n     }\n \n     /**\n-     * Sets the credential to use when authenticating HTTP requests for this FormRecognizerClientBuilder.\n+     * Sets the {@link AzureKeyCredential} to use when authenticating HTTP requests for this FormRecognizerClientBuilder.\n      *\n-     * @param apiKeyCredential API key credential\n+     * @param apiKeyCredential {@link AzureKeyCredential} API key credential\n      *\n      * @return The updated FormRecognizerClientBuilder object.\n      * @throws NullPointerException If {@code apiKeyCredential} is {@code null}\n      */\n-    public FormRecognizerClientBuilder apiKey(AzureKeyCredential apiKeyCredential) {\n+    public FormRecognizerClientBuilder credential(AzureKeyCredential apiKeyCredential) {\n         this.credential = Objects.requireNonNull(apiKeyCredential, \"'apiKeyCredential' cannot be null.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ5OTU3Mw=="}, "originalCommit": {"oid": "032be60f9a0977810b7212085554e202d9dcc133"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c4b66376ece87f771a63e51bb2caf4c9db5f5bd", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0c4b66376ece87f771a63e51bb2caf4c9db5f5bd", "committedDate": "2020-05-06T04:48:08Z", "message": "Update checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Nzk0MDg1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#pullrequestreview-406794085", "createdAt": "2020-05-06T16:40:29Z", "commit": {"oid": "0c4b66376ece87f771a63e51bb2caf4c9db5f5bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODI2NzY5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#pullrequestreview-406826769", "createdAt": "2020-05-06T17:20:58Z", "commit": {"oid": "0c4b66376ece87f771a63e51bb2caf4c9db5f5bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "060d8d7f2d978df2c099839918de5693a49189f5", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/060d8d7f2d978df2c099839918de5693a49189f5", "committedDate": "2020-05-06T17:23:59Z", "message": "Add back the tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODM0Njk5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#pullrequestreview-406834699", "createdAt": "2020-05-06T17:31:02Z", "commit": {"oid": "060d8d7f2d978df2c099839918de5693a49189f5"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNzozMTowMlrOGRdxeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNzozNDo0MFrOGRd6gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk2Njc3Nw==", "bodyText": "Method name should be renamed too.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420966777", "createdAt": "2020-05-06T17:31:02Z", "author": {"login": "srnagar"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/FormRecognizerClientBuilderUnitTest.java", "diffHunk": "@@ -54,7 +54,7 @@ public void invalidProtocol() {\n     public void nullApiKey() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060d8d7f2d978df2c099839918de5693a49189f5"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk2ODA4MQ==", "bodyText": "Update the name of the class to RotateAzureKeyCredential", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420968081", "createdAt": "2020-05-06T17:33:14Z", "author": {"login": "srnagar"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RotateApiKey.java", "diffHunk": "@@ -19,7 +19,7 @@\n     public static void main(String[] args) {\n         AzureKeyCredential credential = new AzureKeyCredential(\"{api_key}\");\n         TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n-            .apiKey(credential)\n+            .credential(credential)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060d8d7f2d978df2c099839918de5693a49189f5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk2OTA4OQ==", "bodyText": "Use azure_key_credential instead of api_key everywhere to be consistent with terminology.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10738#discussion_r420969089", "createdAt": "2020-05-06T17:34:40Z", "author": {"login": "srnagar"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -33,7 +33,7 @@\n     public TextAnalyticsAsyncClient createTextAnalyticsAsyncClient() {\n         // BEGIN: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.instantiation\n         TextAnalyticsAsyncClient textAnalyticsAsyncClient = new TextAnalyticsClientBuilder()\n-            .apiKey(new AzureKeyCredential(\"{api_key}\"))\n+            .credential(new AzureKeyCredential(\"{api_key}\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060d8d7f2d978df2c099839918de5693a49189f5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92c37fc46c0567966315543ee09395afdce0cfa6", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/92c37fc46c0567966315543ee09395afdce0cfa6", "committedDate": "2020-05-06T18:12:10Z", "message": "update method names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8914f356393ecdefa978cc75a33fcb5d64ec9d5c", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8914f356393ecdefa978cc75a33fcb5d64ec9d5c", "committedDate": "2020-05-06T18:39:41Z", "message": "api_key -> key"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d10aa186438e346feaf31b519c90c5f6a0cfc062", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d10aa186438e346feaf31b519c90c5f6a0cfc062", "committedDate": "2020-05-06T18:27:32Z", "message": "api_key -> key"}, "afterCommit": {"oid": "8914f356393ecdefa978cc75a33fcb5d64ec9d5c", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8914f356393ecdefa978cc75a33fcb5d64ec9d5c", "committedDate": "2020-05-06T18:39:41Z", "message": "api_key -> key"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4567, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}