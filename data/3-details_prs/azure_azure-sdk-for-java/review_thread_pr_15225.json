{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3NDc1NzIz", "number": 15225, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODo0NjoxNFrOEjuQLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODo0Njo0NlrOEjuQ4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODkzNDIzOnYy", "diffSide": "LEFT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdClientChannelPool.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODo0NjoxNFrOHSPRmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxOToyNzoxNlrOHSRCFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4NjY4MQ==", "bodyText": "why don't we need ignoreMaxRequestLimit anymore?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488886681", "createdAt": "2020-09-15T18:46:14Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdClientChannelPool.java", "diffHunk": "@@ -860,26 +861,52 @@ private void ensureInEventLoop() {\n      *\n      * @return {@code true} if the given {@link Channel channel} is serviceable; {@code false} otherwise.\n      */\n-    private boolean isChannelServiceable(final Channel channel, boolean ignoreMaxRequestLimit) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg5MjA2MQ==", "bodyText": "Annie borught up a good point that in the fallback-else-path we were incorrectly ignoring maxPendingRequestCount - when reeenforicng it all places passed in false anywhere (except in the high load factor part - where we pick the available channel with the least number of requests (but also should only do it if < maxPendingRequests)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488892061", "createdAt": "2020-09-15T18:53:02Z", "author": {"login": "FabianMeiswinkel"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdClientChannelPool.java", "diffHunk": "@@ -860,26 +861,52 @@ private void ensureInEventLoop() {\n      *\n      * @return {@code true} if the given {@link Channel channel} is serviceable; {@code false} otherwise.\n      */\n-    private boolean isChannelServiceable(final Channel channel, boolean ignoreMaxRequestLimit) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4NjY4MQ=="}, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg5MjMyNw==", "bodyText": "Bottom-line - no place should be ignoring maxPendingRequests", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488892327", "createdAt": "2020-09-15T18:53:20Z", "author": {"login": "FabianMeiswinkel"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdClientChannelPool.java", "diffHunk": "@@ -860,26 +861,52 @@ private void ensureInEventLoop() {\n      *\n      * @return {@code true} if the given {@link Channel channel} is serviceable; {@code false} otherwise.\n      */\n-    private boolean isChannelServiceable(final Channel channel, boolean ignoreMaxRequestLimit) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4NjY4MQ=="}, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkxNTQ3OQ==", "bodyText": "Closed offline", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488915479", "createdAt": "2020-09-15T19:27:16Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdClientChannelPool.java", "diffHunk": "@@ -860,26 +861,52 @@ private void ensureInEventLoop() {\n      *\n      * @return {@code true} if the given {@link Channel channel} is serviceable; {@code false} otherwise.\n      */\n-    private boolean isChannelServiceable(final Channel channel, boolean ignoreMaxRequestLimit) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4NjY4MQ=="}, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODkzNjAzOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdRequestManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODo0Njo0NlrOHSPSrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxOToxNDo1MFrOHSQfrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4Njk1OQ==", "bodyText": "why don't we need ignoreMaxRequestPerChannel anymore?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488886959", "createdAt": "2020-09-15T18:46:46Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdRequestManager.java", "diffHunk": "@@ -548,10 +546,10 @@ boolean hasRntbdContext() {\n         return this.contextFuture.getNow(null) != null;\n     }\n \n-    boolean isServiceable(final int demand, boolean ignoreMaxRequestPerChannel) {\n+    boolean isServiceable(final int demand) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkwNjY2OQ==", "bodyText": "Discussed offline - not needed anymore.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15225#discussion_r488906669", "createdAt": "2020-09-15T19:14:50Z", "author": {"login": "FabianMeiswinkel"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdRequestManager.java", "diffHunk": "@@ -548,10 +546,10 @@ boolean hasRntbdContext() {\n         return this.contextFuture.getNow(null) != null;\n     }\n \n-    boolean isServiceable(final int demand, boolean ignoreMaxRequestPerChannel) {\n+    boolean isServiceable(final int demand) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg4Njk1OQ=="}, "originalCommit": {"oid": "92edadeb61d7bdff5c6725d5f9a5acb79442366d"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1015, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}