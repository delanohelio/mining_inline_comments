{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MDM1ODQ2", "number": 16027, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNTo0MTo1MlrOEtjAbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMjo1MTo1NlrOEts4Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTk0OTI3OnYy", "diffSide": "RIGHT", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNTo0MTo1MlrOHhZatA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQyMjo0MzozNFrOHid_2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4MTQ5Mg==", "bodyText": "is it normal for Java to pass empty string instead of null into the request if the user doesn't specify a param?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r504781492", "createdAt": "2020-10-14T15:41:52Z", "author": {"login": "kristapratico"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -538,11 +542,18 @@\n             Objects.requireNonNull(receipt, \"'receipt' is required and cannot be null.\");\n             recognizeReceiptsOptions = getRecognizeReceiptOptions(recognizeReceiptsOptions);\n             final boolean isFieldElementsIncluded = recognizeReceiptsOptions.isFieldElementsIncluded();\n+            final String localeInfo\n+                = recognizeReceiptsOptions.getLocale() == null ? \"\" : recognizeReceiptsOptions.getLocale();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAzODYxMA==", "bodyText": "does the service behavior changes if \"\" is sent instead of not passing anything?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505038610", "createdAt": "2020-10-14T22:48:46Z", "author": {"login": "maririos"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -538,11 +542,18 @@\n             Objects.requireNonNull(receipt, \"'receipt' is required and cannot be null.\");\n             recognizeReceiptsOptions = getRecognizeReceiptOptions(recognizeReceiptsOptions);\n             final boolean isFieldElementsIncluded = recognizeReceiptsOptions.isFieldElementsIncluded();\n+            final String localeInfo\n+                = recognizeReceiptsOptions.getLocale() == null ? \"\" : recognizeReceiptsOptions.getLocale();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4MTQ5Mg=="}, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA0NjQ3OA==", "bodyText": "is it normal for Java to pass empty string instead of null into the request if the user doesn't specify a param?\n\nSo, Java doesn't need to default to \"\" when the user doesn't specify. I initially had test recordings with \"\" so tests were failing. Will update the PR with this change and updated recordings.\n\ndoes the service behavior changes if \"\" is sent instead of not passing anything?\n\nDon't know about the service behavior but the url changes from includeTextDetails=false&locale=  when specified (\"\") to includeTextDetails=false\" when null.\ncc: @kristapratico @maririos", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505046478", "createdAt": "2020-10-14T23:00:56Z", "author": {"login": "samvaity"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -538,11 +542,18 @@\n             Objects.requireNonNull(receipt, \"'receipt' is required and cannot be null.\");\n             recognizeReceiptsOptions = getRecognizeReceiptOptions(recognizeReceiptsOptions);\n             final boolean isFieldElementsIncluded = recognizeReceiptsOptions.isFieldElementsIncluded();\n+            final String localeInfo\n+                = recognizeReceiptsOptions.getLocale() == null ? \"\" : recognizeReceiptsOptions.getLocale();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4MTQ5Mg=="}, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5MDQ5NA==", "bodyText": "yeah I expect the url to change. I haven't done tests here so idk the service behavior but it will be good to validate before making an assumption.\nI remember in TA, for example, sending \"\" for Language is different than not sending the language parameter", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505090494", "createdAt": "2020-10-15T00:10:02Z", "author": {"login": "maririos"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -538,11 +542,18 @@\n             Objects.requireNonNull(receipt, \"'receipt' is required and cannot be null.\");\n             recognizeReceiptsOptions = getRecognizeReceiptOptions(recognizeReceiptsOptions);\n             final boolean isFieldElementsIncluded = recognizeReceiptsOptions.isFieldElementsIncluded();\n+            final String localeInfo\n+                = recognizeReceiptsOptions.getLocale() == null ? \"\" : recognizeReceiptsOptions.getLocale();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4MTQ5Mg=="}, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkwNTExMg==", "bodyText": "Talked offline, currently, the client just passes down the supplied value by the user.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505905112", "createdAt": "2020-10-15T22:43:34Z", "author": {"login": "samvaity"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -538,11 +542,18 @@\n             Objects.requireNonNull(receipt, \"'receipt' is required and cannot be null.\");\n             recognizeReceiptsOptions = getRecognizeReceiptOptions(recognizeReceiptsOptions);\n             final boolean isFieldElementsIncluded = recognizeReceiptsOptions.isFieldElementsIncluded();\n+            final String localeInfo\n+                = recognizeReceiptsOptions.getLocale() == null ? \"\" : recognizeReceiptsOptions.getLocale();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4MTQ5Mg=="}, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MzU2NzAzOnYy", "diffSide": "RIGHT", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientJavaDocCodeSnippets.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMjo1MTo1NlrOHhpPkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMjo1MzoyNVrOHhpThg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA0MDc4NQ==", "bodyText": "Is the idea to always set it in the samples?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505040785", "createdAt": "2020-10-14T22:51:56Z", "author": {"login": "maririos"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -355,6 +355,7 @@ public void beginRecognizeReceiptsFromUrlWithOptions() {\n         formRecognizerAsyncClient.beginRecognizeReceiptsFromUrl(receiptUrl,\n             new RecognizeReceiptsOptions()\n                 .setFieldElementsIncluded(includeFieldElements)\n+                .setLocale(\"en-US\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA0MTc5OA==", "bodyText": "I just wanted to showcase this feature and thought samples would be a good way to do it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16027#discussion_r505041798", "createdAt": "2020-10-14T22:53:25Z", "author": {"login": "samvaity"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -355,6 +355,7 @@ public void beginRecognizeReceiptsFromUrlWithOptions() {\n         formRecognizerAsyncClient.beginRecognizeReceiptsFromUrl(receiptUrl,\n             new RecognizeReceiptsOptions()\n                 .setFieldElementsIncluded(includeFieldElements)\n+                .setLocale(\"en-US\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA0MDc4NQ=="}, "originalCommit": {"oid": "f92f75978eacd02e8608175d6cb7411dc595c7dd"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3545, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}