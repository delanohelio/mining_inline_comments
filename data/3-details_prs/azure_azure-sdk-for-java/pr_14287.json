{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNDkzNDM2", "number": 14287, "title": "Added support to lease shares", "bodyText": "", "createdAt": "2020-08-19T22:29:19Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287", "merged": true, "mergeCommit": {"oid": "e065ebc26978696f8ca71892883d1f7abe376e73"}, "closed": true, "closedAt": "2020-09-02T19:53:58Z", "author": {"login": "gapra-msft"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAJr3xAH2gAyNDcwNDkzNDM2OjAzZjc3YWNkNTFkNWI2OTM3NjgxYWNjZWFiYTIxNWE0ZWE0ZTdjNWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE-AnRgH2gAyNDcwNDkzNDM2OjU2ODI4MzgwOTQ1NzA0MjhmNmI3NzZlODE5YzAxYmEwMGFjODU5NzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03f77acd51d5b6937681acceaba215a4ea4e7c5c", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/03f77acd51d5b6937681acceaba215a4ea4e7c5c", "committedDate": "2020-08-18T16:34:18Z", "message": "Added ability to create share client for lease"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08868470780ff5d5b64fd40497a905b59ca35328", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/08868470780ff5d5b64fd40497a905b59ca35328", "committedDate": "2020-08-18T22:56:17Z", "message": "Added code that touch leases for share client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e14e64c45c52826e4be119610213d830b628a3", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e1e14e64c45c52826e4be119610213d830b628a3", "committedDate": "2020-08-19T00:47:04Z", "message": "Added tests for lease APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e3ac6d65fe4efda68ce3a6c0eafb01d2ee2efe8", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6e3ac6d65fe4efda68ce3a6c0eafb01d2ee2efe8", "committedDate": "2020-08-19T17:35:17Z", "message": "Added code for lease share and rerecorded tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "819c4a7228408df4e805a31ad0fe052601aef30b", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/819c4a7228408df4e805a31ad0fe052601aef30b", "committedDate": "2020-08-19T20:09:01Z", "message": "Added snapshot tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed8debb2430f42690810f11fdc278ef5fcb4e494", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ed8debb2430f42690810f11fdc278ef5fcb4e494", "committedDate": "2020-08-19T22:11:03Z", "message": "Added share tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8212ecd00a63904cd3e891c7201dfc0fe07da46", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f8212ecd00a63904cd3e891c7201dfc0fe07da46", "committedDate": "2020-08-19T22:16:54Z", "message": "Added last few code snippets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b3b76ec4d73b08fe594fcbb438fdd00ce28833a", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4b3b76ec4d73b08fe594fcbb438fdd00ce28833a", "committedDate": "2020-08-19T22:27:47Z", "message": "Merge branch 'feature/storage/stg74' into storage/shareLease"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04898c9a2ab1e2c2a82f3fa5dcd88c1e90628962", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/04898c9a2ab1e2c2a82f3fa5dcd88c1e90628962", "committedDate": "2020-08-19T22:41:15Z", "message": "Added changelog and java 8 map"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbbf311bc220b8687cc99ae81218fd846d8ea493", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dbbf311bc220b8687cc99ae81218fd846d8ea493", "committedDate": "2020-08-19T23:23:36Z", "message": "Fixed build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f925352643f429db80e476a9cfd4b52a87df68f2", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f925352643f429db80e476a9cfd4b52a87df68f2", "committedDate": "2020-08-20T00:05:22Z", "message": "Analyze"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c4a1f928d875eb06d7d3358b8b83002ede8a759", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1c4a1f928d875eb06d7d3358b8b83002ede8a759", "committedDate": "2020-08-20T00:45:24Z", "message": "long line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be9b4d9f9eaecacc9caffa2e33f2e86ca8025e3f", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/be9b4d9f9eaecacc9caffa2e33f2e86ca8025e3f", "committedDate": "2020-08-20T03:05:45Z", "message": "Merged with latest swagger"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c547dbd681d590e011be12a0c63eace3297e267", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5c547dbd681d590e011be12a0c63eace3297e267", "committedDate": "2020-08-20T03:22:11Z", "message": "Fix test failures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3117a7cb35f1b04d48a6d4f92241da8babec20d7", "committedDate": "2020-08-20T15:26:43Z", "message": "Fix get access policy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNzQ4NTAz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-471748503", "createdAt": "2020-08-20T15:43:48Z", "commit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNTo0Mzo0OFrOHEH02w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNTo0Mzo0OFrOHEH02w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA4NDU3MQ==", "bodyText": "TODO: Add tests for getSnapshot client", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r474084571", "createdAt": "2020-08-20T15:43:48Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/ShareClient.java", "diffHunk": "@@ -107,6 +114,17 @@ public ShareFileClient getFileClient(String filePath) {\n         return new ShareFileClient(client.getFileClient(filePath));\n     }\n \n+\n+    /**\n+     * Creates a new {@link ShareAsyncClient} linked to the {@code snapshot} of this share resource.\n+     *\n+     * @param snapshot the identifier for a specific snapshot of this share\n+     * @return a {@link ShareClient} used to interact with the specific snapshot.\n+     */\n+    public ShareClient getSnapshotClient(String snapshot) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNzUzMzM3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-471753337", "createdAt": "2020-08-20T15:49:27Z", "commit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNTo0OToyOFrOHEIDrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNTo0OToyOFrOHEIDrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA4ODM2Nw==", "bodyText": "Change this to ShareRequestConditions", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r474088367", "createdAt": "2020-08-20T15:49:28Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/options/ShareDeleteOptions.java", "diffHunk": "@@ -0,0 +1,49 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.file.share.options;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.storage.file.share.models.DeleteSnapshotsOptionType;\n+\n+/**\n+ * Extended options that may be passed when deleting a share.\n+ */\n+@Fluent\n+public class ShareDeleteOptions {\n+\n+    private DeleteSnapshotsOptionType deleteSnapshotsOptions;\n+    private String leaseId;\n+\n+    /**\n+     * @return The lease id that the share must match.\n+     */\n+    public String getLeaseId() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNzY1NDUy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-471765452", "createdAt": "2020-08-20T16:03:13Z", "commit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjowMzoxM1rOHEInSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjowMzoxM1rOHEInSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA5NzQ4MA==", "bodyText": "was that a bug ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r474097480", "createdAt": "2020-08-20T16:03:13Z", "author": {"login": "kasobol-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/ShareAsyncClient.java", "diffHunk": "@@ -102,7 +110,7 @@\n     public String getShareUrl() {\n         StringBuilder shareUrlString = new StringBuilder(azureFileStorageClient.getUrl()).append(\"/\").append(shareName);\n         if (snapshot != null) {\n-            shareUrlString.append(\"?snapshot=\").append(snapshot);\n+            shareUrlString.append(\"?sharesnapshot=\").append(snapshot);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3117a7cb35f1b04d48a6d4f92241da8babec20d7"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "384d154fd02d32af90bb97606d8e2d8753459e21", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/384d154fd02d32af90bb97606d8e2d8753459e21", "committedDate": "2020-08-20T16:35:48Z", "message": "Added ShareRequestConditions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad277fd24104b6ac1fac5d266252783fa3be36a0", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ad277fd24104b6ac1fac5d266252783fa3be36a0", "committedDate": "2020-08-20T16:45:08Z", "message": "Added one more test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d51f0844c33a9c59482ca1629e0a6ec17173882", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6d51f0844c33a9c59482ca1629e0a6ec17173882", "committedDate": "2020-08-20T17:30:26Z", "message": "Added analyze fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fac9132dc5e992a74a7dda333cd88b17a24bfae2", "committedDate": "2020-08-20T21:23:15Z", "message": "analyze"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTE5MzM0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480119334", "createdAt": "2020-09-01T21:12:33Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMToxMjozNFrOHLIbtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMToxMjozNFrOHLIbtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQzNDU0OA==", "bodyText": "I think this should call the max public overload rather than the internal one", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r481434548", "createdAt": "2020-09-01T21:12:34Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/ShareAsyncClient.java", "diffHunk": "@@ -415,16 +462,45 @@ public ShareFileAsyncClient getFileClient(String filePath) {\n      */\n     public Mono<Response<ShareProperties>> getPropertiesWithResponse() {\n         try {\n-            return withContext(context -> getPropertiesWithResponse(context));\n+            return withContext(context -> getPropertiesWithResponse(new ShareGetPropertiesOptions(), context));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "originalPosition": 111}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTIwMzQy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480120342", "createdAt": "2020-09-01T21:14:06Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMToxNDowNlrOHLIe6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMToxNDowNlrOHLIe6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQzNTM2OA==", "bodyText": "\"metadata associated with it\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r481435368", "createdAt": "2020-09-01T21:14:06Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/ShareAsyncClient.java", "diffHunk": "@@ -415,16 +462,45 @@ public ShareFileAsyncClient getFileClient(String filePath) {\n      */\n     public Mono<Response<ShareProperties>> getPropertiesWithResponse() {\n         try {\n-            return withContext(context -> getPropertiesWithResponse(context));\n+            return withContext(context -> getPropertiesWithResponse(new ShareGetPropertiesOptions(), context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Retrieves the properties of the share, these include the metadata associated to it and the quota that the share", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "originalPosition": 118}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTYxODY4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480161868", "createdAt": "2020-09-01T22:31:30Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjozMTozMVrOHLKfwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjozMTozMVrOHLKfwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ2ODM1NA==", "bodyText": "Do we need to make it an unmodifiableMap in both the setter and getter?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r481468354", "createdAt": "2020-09-01T22:31:31Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/options/ShareSetMetadataOptions.java", "diffHunk": "@@ -0,0 +1,52 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.file.share.options;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.storage.file.share.models.ShareRequestConditions;\n+\n+import java.util.Collections;\n+import java.util.Map;\n+\n+/**\n+ * Extended options that may be passed when setting metadata on a share.\n+ */\n+@Fluent\n+public class ShareSetMetadataOptions {\n+\n+    private Map<String, String> metadata;\n+    private ShareRequestConditions requestConditions;\n+\n+    /**\n+     * @return Metadata to set on the share, if null is passed the metadata for the share is cleared.\n+     */\n+    public Map<String, String> getMetadata() {\n+        return metadata == null ? null : Collections.unmodifiableMap(metadata);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTcwNzY1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480170765", "createdAt": "2020-09-01T22:53:56Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjo1Mzo1N1rOHLK9OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjo1Mzo1N1rOHLK9OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ3NTg5Ng==", "bodyText": "This is only true of files, right? Shares will respect the break period", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r481475896", "createdAt": "2020-09-01T22:53:57Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/specialized/ShareLeaseAsyncClient.java", "diffHunk": "@@ -193,17 +242,46 @@ public String getLeaseId() {\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<Response<Void>> breakLeaseWithResponse() {\n         try {\n-            return withContext(this::breakLeaseWithResponse);\n+            return breakLeaseWithResponse(new ShareBreakLeaseOptions());\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Breaks the previously acquired lease, if it exists. Leases will break immediately.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "originalPosition": 152}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTcxNTEw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480171510", "createdAt": "2020-09-01T22:55:50Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjo1NTo1MVrOHLK_2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjo1NTo1MVrOHLK_2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ3NjU3MQ==", "bodyText": "Should this be an UnsupportedOperationException?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#discussion_r481476571", "createdAt": "2020-09-01T22:55:51Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/specialized/ShareLeaseAsyncClient.java", "diffHunk": "@@ -246,9 +324,62 @@ public String getLeaseId() {\n \n     Mono<Response<String>> changeLeaseWithResponse(String proposedId, Context context) {\n         context = context == null ? Context.NONE : context;\n-        return this.client.files().changeLeaseWithRestResponseAsync(null, null, this.leaseId, null, proposedId,\n-            null, context.addData(AZ_TRACING_NAMESPACE_KEY, STORAGE_TRACING_NAMESPACE_VALUE))\n-            .map(rb -> new SimpleResponse<>(rb, rb.getDeserializedHeaders().getLeaseId()));\n+        if (this.isShareFile) {\n+            return this.client.files().changeLeaseWithRestResponseAsync(null, null, this.leaseId, null, proposedId,\n+                null, context.addData(AZ_TRACING_NAMESPACE_KEY, STORAGE_TRACING_NAMESPACE_VALUE))\n+                .map(rb -> new SimpleResponse<>(rb, rb.getDeserializedHeaders().getLeaseId()));\n+        } else {\n+            return this.client.shares().changeLeaseWithRestResponseAsync(null, this.leaseId, null, proposedId, null,\n+                null, context.addData(AZ_TRACING_NAMESPACE_KEY, STORAGE_TRACING_NAMESPACE_VALUE))\n+                .map(rb -> new SimpleResponse<>(rb, rb.getDeserializedHeaders().getLeaseId()));\n+        }\n+    }\n+\n+    /**\n+     * Renews the previously acquired lease on a share.\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.share.specialized.ShareLeaseAsyncClient.renewLease}\n+     *\n+     * @return A reactive response containing the renewed lease ID.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<String> renewLease() {\n+        try {\n+            return renewLeaseWithResponse().flatMap(FluxUtil::toMono);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Renews the previously acquired lease on a share.\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.share.specialized.ShareLeaseAsyncClient.renewLeaseWithResponse}\n+     *\n+     * @return A reactive response containing the renewed lease ID.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<Response<String>> renewLeaseWithResponse() {\n+        try {\n+            return withContext(this::renewLeaseWithResponse);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    Mono<Response<String>> renewLeaseWithResponse(Context context) {\n+        context = context == null ? Context.NONE : context;\n+        if (this.isShareFile) {\n+            throw logger.logExceptionAsError(new IllegalArgumentException(\"Cannot renew a lease on a share file.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "originalPosition": 249}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTgwNTIw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14287#pullrequestreview-480180520", "createdAt": "2020-09-01T23:20:30Z", "commit": {"oid": "fac9132dc5e992a74a7dda333cd88b17a24bfae2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5682838094570428f6b776e819c01ba00ac85970", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5682838094570428f6b776e819c01ba00ac85970", "committedDate": "2020-09-02T15:47:43Z", "message": "comments from review"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 303, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}