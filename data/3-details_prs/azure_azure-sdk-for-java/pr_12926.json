{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDg3MTgw", "number": 12926, "title": "Creating yml file for ctl image build ci", "bodyText": "As per the discussion with azure sdk engineering team we are creating yml for https://dev.azure.com/azure-cosmos-java/azure-cosmos-java-private , and will move ci to azure-sdk project from azure-cosmos-java.\nCurrently we have limitation, that we cant hook azure repo from any other devops apart from azure-sdk.\nAlso removing the private user name from the container registry account.\nNext step after this merge will be creating key vault for container registry access and then creating new ci with this yml file.", "createdAt": "2020-07-08T21:10:26Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12926", "merged": true, "mergeCommit": {"oid": "2c6eb8aeaeea9c7359d3d397f1be27c6b113c1da"}, "closed": true, "closedAt": "2020-07-08T22:32:00Z", "author": {"login": "simplynaveen20"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczA-DgAH2gAyNDQ2NDg3MTgwOjI1YjU0NjIwOGIyNWJlYmNjNDlkOTNhM2EyMWI4NDZjNDJkZWI5Mzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczDoNJgFqTQ0NTIwODA3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "25b546208b25bebcc49d93a3a21b846c42deb939", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/25b546208b25bebcc49d93a3a21b846c42deb939", "committedDate": "2020-07-08T21:04:00Z", "message": "creating yml file for ctl image build ci"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e9c67b34cc5301c84b206a9342b28b72989bae5", "author": {"user": {"login": "JimSuplizio", "name": "James Suplizio"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3e9c67b34cc5301c84b206a9342b28b72989bae5", "committedDate": "2020-07-08T22:29:13Z", "message": "Update ctl-image-build.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTcyNzM2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12926#pullrequestreview-445172736", "createdAt": "2020-07-08T22:31:29Z", "commit": {"oid": "3e9c67b34cc5301c84b206a9342b28b72989bae5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjA4MDc2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12926#pullrequestreview-445208076", "createdAt": "2020-07-09T00:09:50Z", "commit": {"oid": "3e9c67b34cc5301c84b206a9342b28b72989bae5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMDowOTo1MFrOGu9SSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMDowOTo1MFrOGu9SSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg5MTc4NQ==", "bodyText": "nit: Given you are doing everything else in one pwsh script block below I'd probably move the copy commands into there as well.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12926#discussion_r451891785", "createdAt": "2020-07-09T00:09:50Z", "author": {"login": "weshaggard"}, "path": "sdk/cosmos/azure-cosmos-benchmark/ctl-image-build.yml", "diffHunk": "@@ -0,0 +1,45 @@\n+jobs:\n+  - job: Cosmos CTL\n+    timeoutInMinutes: 20\n+    variables:\n+      - template: /eng/pipelines/templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-18.04'\n+\n+    # java-cosmos-container-registry-pwd\n+    variables:\n+      ContainerRegistryName: 'javactl'\n+      ContainerRegistryUserName: 'javactl'\n+      ContainerRegistryUrl: 'javactl.azurecr.io'\n+\n+    steps:\n+    - task: Maven@3\n+      displayName: 'Build Cosmos and Benchmark'\n+      inputs:\n+        mavenPomFile: pom.xml\n+        jdkVersionOption: $(JavaBuildVersion)\n+        jdkArchitectureOption: 'x64'\n+        # The -Ppackage-assembly profile packages up both libraries into one package\n+        options: '$(DefaultOptions) -Ppackage-assembly -DskipTests -Dgpg.skip -Dmaven.javadoc.skip=true -Dcheckstyle.skip=true -Dspotbugs.skip=true -Drevapi.skip=true -pl com.azure:azure-cosmos,com.azure:azure-cosmos-benchmark'\n+\n+    - task: CopyFiles@2\n+      displayName: 'Copy benchmark jar'\n+      inputs:\n+        SourceFolder: '$(build.sourcesdirectory)/sdk/cosmos/azure-cosmos-benchmark/target'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e9c67b34cc5301c84b206a9342b28b72989bae5"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2623, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}