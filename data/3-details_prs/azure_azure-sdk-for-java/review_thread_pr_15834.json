{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzA5ODU4", "number": 15834, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxOTo1OToxM1rOEpLuFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODowMDoxMFrOEpXA9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjE5MDkyOnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core-amqp/src/main/java/com/azure/core/amqp/implementation/ConnectionOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxOTo1OToxM1rOHatM3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODoyMjoyN1rOHa_oBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc2NTU5Nw==", "bodyText": "nit: fix formatting", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15834#discussion_r497765597", "createdAt": "2020-09-30T19:59:13Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-amqp/src/main/java/com/azure/core/amqp/implementation/ConnectionOptions.java", "diffHunk": "@@ -26,10 +27,13 @@\n     private final String fullyQualifiedNamespace;\n     private final CbsAuthorizationType authorizationType;\n     private final ClientOptions clientOptions;\n+    private final SslDomain.VerifyMode verifyMode;\n \n     public ConnectionOptions(String fullyQualifiedNamespace, TokenCredential tokenCredential,\n             CbsAuthorizationType authorizationType, AmqpTransportType transport, AmqpRetryOptions retryOptions,\n-            ProxyOptions proxyOptions, Scheduler scheduler, ClientOptions clientOptions) {\n+            ProxyOptions proxyOptions, Scheduler scheduler, ClientOptions clientOptions,\n+        SslDomain.VerifyMode verifyMode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c55c866a368cfe92edb56261b2b1d8c8cb8d1e7b"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA2NzQ2MQ==", "bodyText": "oof. Good catch.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15834#discussion_r498067461", "createdAt": "2020-10-01T08:22:27Z", "author": {"login": "conniey"}, "path": "sdk/core/azure-core-amqp/src/main/java/com/azure/core/amqp/implementation/ConnectionOptions.java", "diffHunk": "@@ -26,10 +27,13 @@\n     private final String fullyQualifiedNamespace;\n     private final CbsAuthorizationType authorizationType;\n     private final ClientOptions clientOptions;\n+    private final SslDomain.VerifyMode verifyMode;\n \n     public ConnectionOptions(String fullyQualifiedNamespace, TokenCredential tokenCredential,\n             CbsAuthorizationType authorizationType, AmqpTransportType transport, AmqpRetryOptions retryOptions,\n-            ProxyOptions proxyOptions, Scheduler scheduler, ClientOptions clientOptions) {\n+            ProxyOptions proxyOptions, Scheduler scheduler, ClientOptions clientOptions,\n+        SslDomain.VerifyMode verifyMode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc2NTU5Nw=="}, "originalCommit": {"oid": "c55c866a368cfe92edb56261b2b1d8c8cb8d1e7b"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExODA0MTUxOnYy", "diffSide": "RIGHT", "path": "sdk/eventhubs/azure-messaging-eventhubs/src/main/java/com/azure/messaging/eventhubs/EventHubClientBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODowMDoxMFrOHa-3SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODoyMjoxOVrOHa_nwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1NDk4NQ==", "bodyText": "Do we plan of supporting any other mode apart from VERIFY_PEER_NAME?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15834#discussion_r498054985", "createdAt": "2020-10-01T08:00:10Z", "author": {"login": "srnagar"}, "path": "sdk/eventhubs/azure-messaging-eventhubs/src/main/java/com/azure/messaging/eventhubs/EventHubClientBuilder.java", "diffHunk": "@@ -630,8 +645,10 @@ private ConnectionOptions getConnectionOptions() {\n             ? CbsAuthorizationType.SHARED_ACCESS_SIGNATURE\n             : CbsAuthorizationType.JSON_WEB_TOKEN;\n \n+        final ClientOptions options = clientOptions != null ? clientOptions : new ClientOptions();\n+\n         return new ConnectionOptions(fullyQualifiedNamespace, credentials, authorizationType, transport, retryOptions,\n-            proxyOptions, scheduler, null);\n+            proxyOptions, scheduler, options, SslDomain.VerifyMode.VERIFY_PEER_NAME);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c55c866a368cfe92edb56261b2b1d8c8cb8d1e7b"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA2NzM5NA==", "bodyText": "In Service Bus, they had additional configuration via environment variables. It's not a feature we ever discussed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15834#discussion_r498067394", "createdAt": "2020-10-01T08:22:19Z", "author": {"login": "conniey"}, "path": "sdk/eventhubs/azure-messaging-eventhubs/src/main/java/com/azure/messaging/eventhubs/EventHubClientBuilder.java", "diffHunk": "@@ -630,8 +645,10 @@ private ConnectionOptions getConnectionOptions() {\n             ? CbsAuthorizationType.SHARED_ACCESS_SIGNATURE\n             : CbsAuthorizationType.JSON_WEB_TOKEN;\n \n+        final ClientOptions options = clientOptions != null ? clientOptions : new ClientOptions();\n+\n         return new ConnectionOptions(fullyQualifiedNamespace, credentials, authorizationType, transport, retryOptions,\n-            proxyOptions, scheduler, null);\n+            proxyOptions, scheduler, options, SslDomain.VerifyMode.VERIFY_PEER_NAME);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1NDk4NQ=="}, "originalCommit": {"oid": "c55c866a368cfe92edb56261b2b1d8c8cb8d1e7b"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 710, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}