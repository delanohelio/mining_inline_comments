{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMzk1Mjgy", "number": 13247, "title": "Update poller behavior onError", "bodyText": "In FR, we need to throw an exception if the polling operation returned with a failed status. Earlier, due to the poller functionality limitation, it was not possible. This PR updates the poller behavior onError. It provides the consumer of the Poller to manage the failed scenario.\nCloses #12200", "createdAt": "2020-07-16T18:08:04Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13247", "merged": true, "mergeCommit": {"oid": "4ead11901641680764b4c41533c077da40d468bd"}, "closed": true, "closedAt": "2020-07-27T21:10:19Z", "author": {"login": "samvaity"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1jVmGABqjM1NTQ1MTY1MTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5HNSigBqjM1OTEzNzI4NjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea4bd4cadf737495dc5c16770a62a05ec7ba4bcd", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ea4bd4cadf737495dc5c16770a62a05ec7ba4bcd", "committedDate": "2020-07-16T18:06:26Z", "message": "update poller behavior for failed status"}, "afterCommit": {"oid": "85bba45e8ecefea89a23b904443cefe6060dc713", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/85bba45e8ecefea89a23b904443cefe6060dc713", "committedDate": "2020-07-16T18:13:49Z", "message": "update poller behavior for failed status"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56abd751091c88e6187ec4519199e8b121edb0d4", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/56abd751091c88e6187ec4519199e8b121edb0d4", "committedDate": "2020-07-21T20:59:17Z", "message": "add poller tests"}, "afterCommit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1cff7fcc9b2ff860f866c57e2c6b7e195a612e32", "committedDate": "2020-07-21T21:12:37Z", "message": "add poller tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNTk0NTUz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13247#pullrequestreview-453594553", "createdAt": "2020-07-22T18:51:54Z", "commit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODo1MTo1NFrOG1v0vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODo1MTo1NFrOG1v0vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMTI2Mw==", "bodyText": "Why AtomicReference over AtomicInteger?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13247#discussion_r459011263", "createdAt": "2020-07-22T18:51:54Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/core/util/polling/PollerTests.java", "diffHunk": "@@ -423,6 +429,75 @@ public void getResultCanBeCalledFromOperatorChainTest() {\n         pollingContext.getLatestResponse().equals(response2);\n     }\n \n+    @Test\n+    public void verifyExceptionPropagationFromPollingOperation() {\n+        final Response activationResponse = new Response(\"Foo\");\n+        when(activationOperation.apply(any()))\n+            .thenReturn(Mono.defer(() -> Mono.just(activationResponse)));\n+\n+        final AtomicReference<Integer> cnt = new AtomicReference<>(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32"}, "originalPosition": 124}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTc0NDk0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13247#pullrequestreview-454574494", "createdAt": "2020-07-24T00:13:54Z", "commit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NjE2NzI0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13247#pullrequestreview-454616724", "createdAt": "2020-07-24T03:26:04Z", "commit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10bad457adec1cf4a1c96b342c4a21ac3b688d77", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/10bad457adec1cf4a1c96b342c4a21ac3b688d77", "committedDate": "2020-07-27T19:39:24Z", "message": "update poller failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7e0936df2b1c39c52211ae319a155d1d638deb1", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a7e0936df2b1c39c52211ae319a155d1d638deb1", "committedDate": "2020-07-27T19:39:29Z", "message": "update pollt push --:er behavior for failed status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4da92b2c5dd38db85e012242c0f93cc06938930", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4da92b2c5dd38db85e012242c0f93cc06938930", "committedDate": "2020-07-27T19:39:34Z", "message": "add poller tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0043df1726ccc8ad07d1ac66be5955cd663a68b", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c0043df1726ccc8ad07d1ac66be5955cd663a68b", "committedDate": "2020-07-27T19:42:59Z", "message": "update core version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1cff7fcc9b2ff860f866c57e2c6b7e195a612e32", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1cff7fcc9b2ff860f866c57e2c6b7e195a612e32", "committedDate": "2020-07-21T21:12:37Z", "message": "add poller tests"}, "afterCommit": {"oid": "c0043df1726ccc8ad07d1ac66be5955cd663a68b", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c0043df1726ccc8ad07d1ac66be5955cd663a68b", "committedDate": "2020-07-27T19:42:59Z", "message": "update core version"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1306, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}