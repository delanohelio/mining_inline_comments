{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyNzA0OTA2", "number": 14974, "title": "add azure spring storage integration test", "bodyText": "Add integration test for azure-spring-cloud-storage", "createdAt": "2020-09-09T09:29:28Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974", "merged": true, "mergeCommit": {"oid": "cc047b16465dcc80d1bc0ddb3b3b930e21f0233e"}, "closed": true, "closedAt": "2020-09-10T11:26:57Z", "author": {"login": "zhoufenqin"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHIvkNAH2gAyNDgyNzA0OTA2OjMwMTlkYmJlYTQ4NWRiZTI3NzZmMGY4ZTExYTMyNzhlMDFjZTgyNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHe9DygFqTQ4NTgyODYzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3019dbbea485dbe2776f0f8e11a3278e01ce8251", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3019dbbea485dbe2776f0f8e11a3278e01ce8251", "committedDate": "2020-09-09T09:25:54Z", "message": "add azure spring storage integration test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDA4MDY5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#pullrequestreview-485008069", "createdAt": "2020-09-09T13:28:47Z", "commit": {"oid": "3019dbbea485dbe2776f0f8e11a3278e01ce8251"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyODo0N1rOHPHWJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzozMzowM1rOHPHigQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYxMTA0Ng==", "bodyText": "There's an accumulating pom file in sdk/spring path, and this test module should be added there.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#discussion_r485611046", "createdAt": "2020-09-09T13:28:47Z", "author": {"login": "saragluna"}, "path": "pom.xml", "diffHunk": "@@ -36,5 +36,6 @@\n     <module>sdk/template</module>\n     <module>sdk/textanalytics</module>\n     <module>sdk/spring</module>\n+    <module>sdk/spring/azure-spring-cloud-test-storage</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3019dbbea485dbe2776f0f8e11a3278e01ce8251"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYxMTc2Mg==", "bodyText": "nit: extra line", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#discussion_r485611762", "createdAt": "2020-09-09T13:29:45Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-cloud-storage/src/main/java/com/microsoft/azure/spring/cloud/autoconfigure/storage/actuator/BlobStorageHealthIndicator.java", "diffHunk": "@@ -18,27 +18,26 @@\n \n public class BlobStorageHealthIndicator implements HealthIndicator {\n \n-    private ApplicationContext applicationContext;\n+    private BlobServiceAsyncClient internalClient;\n \n     public BlobStorageHealthIndicator(ApplicationContext applicationContext) {\n-        this.applicationContext = applicationContext;\n+        BlobServiceClientBuilder blobStorageClientBuilder = applicationContext.getBean(BlobServiceClientBuilder.class);\n+        internalClient = blobStorageClientBuilder.buildAsyncClient();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3019dbbea485dbe2776f0f8e11a3278e01ce8251"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYxNDIwOQ==", "bodyText": "Do we use this dependency?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#discussion_r485614209", "createdAt": "2020-09-09T13:33:03Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-cloud-test-storage/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-spring-cloud-test-storage</artifactId>\n+  <version>1.0.0</version>\n+\n+  <properties>\n+    <skipSpringITs>true</skipSpringITs>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.microsoft.azure</groupId>\n+      <artifactId>spring-cloud-azure-storage</artifactId>\n+      <version>1.2.8-beta.1</version><!-- {x-version-update;com.microsoft.azure:spring-cloud-azure-storage;current} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-test</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-test;external_dependency} -->\n+      <scope>test</scope>\n+      <exclusions>\n+        <exclusion>\n+          <groupId>org.junit.vintage</groupId>\n+          <artifactId>junit-vintage-engine</artifactId>\n+        </exclusion>\n+      </exclusions>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-spring-boot-test-core</artifactId>\n+      <version>1.0.0</version> <!-- {x-version-update;com.azure:azure-spring-boot-test-core;current} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-actuator</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-actuator;external_dependency} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-web</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-web;external_dependency} -->\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3019dbbea485dbe2776f0f8e11a3278e01ce8251"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce2471f9307d7146a4fdb07ceb046ec8362ee2cf", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ce2471f9307d7146a4fdb07ceb046ec8362ee2cf", "committedDate": "2020-09-09T14:26:21Z", "message": "update spring cloud storage test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2648a816a830d877ec766e05ebb11a8c620169e", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a2648a816a830d877ec766e05ebb11a8c620169e", "committedDate": "2020-09-09T14:24:01Z", "message": "update spring cloud storage test"}, "afterCommit": {"oid": "ce2471f9307d7146a4fdb07ceb046ec8362ee2cf", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ce2471f9307d7146a4fdb07ceb046ec8362ee2cf", "committedDate": "2020-09-09T14:26:21Z", "message": "update spring cloud storage test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MjYzMDcw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#pullrequestreview-485263070", "createdAt": "2020-09-09T17:52:46Z", "commit": {"oid": "ce2471f9307d7146a4fdb07ceb046ec8362ee2cf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNzo1Mjo0NlrOHPTXQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMTo0MjozNFrOHPbVLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwNzkzOQ==", "bodyText": "Are we planning to move this also in track 2 com.microsoft.azure -> com.azure  ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#discussion_r485807939", "createdAt": "2020-09-09T17:52:46Z", "author": {"login": "hemanttanwar"}, "path": "sdk/spring/azure-spring-cloud-test-storage/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-spring-cloud-test-storage</artifactId>\n+  <version>1.0.0</version> <!-- {x-version-update;com.azure:azure-spring-cloud-test-storage;current} -->\n+\n+  <properties>\n+    <skipSpringITs>true</skipSpringITs>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.microsoft.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce2471f9307d7146a4fdb07ceb046ec8362ee2cf"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkzODQ3OA==", "bodyText": "We should get rid of track 1 dependency.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#discussion_r485938478", "createdAt": "2020-09-09T21:42:34Z", "author": {"login": "hemanttanwar"}, "path": "sdk/spring/azure-spring-cloud-test-storage/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-spring-cloud-test-storage</artifactId>\n+  <version>1.0.0</version> <!-- {x-version-update;com.azure:azure-spring-cloud-test-storage;current} -->\n+\n+  <properties>\n+    <skipSpringITs>true</skipSpringITs>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.microsoft.azure</groupId>\n+      <artifactId>spring-cloud-azure-storage</artifactId>\n+      <version>1.2.8-beta.1</version> <!-- {x-version-update;com.microsoft.azure:spring-cloud-azure-storage;current} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-test</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-test;external_dependency} -->\n+      <scope>test</scope>\n+      <exclusions>\n+        <exclusion>\n+          <groupId>org.junit.vintage</groupId>\n+          <artifactId>junit-vintage-engine</artifactId>\n+        </exclusion>\n+      </exclusions>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-spring-boot-test-core</artifactId>\n+      <version>1.0.0</version> <!-- {x-version-update;com.azure:azure-spring-boot-test-core;current} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-actuator</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-actuator;external_dependency} -->\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-web</artifactId>\n+      <version>2.3.3.RELEASE</version> <!-- {x-version-update;org.springframework.boot:spring-boot-starter-web;external_dependency} -->\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>\n+      <artifactId>gson</artifactId>\n+      <version>2.8.6</version> <!-- {x-version-update;com.google.code.gson:gson;external_dependency} -->\n+    </dependency>\n+\n+  </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <version>3.0.0-M3</version> <!-- {x-version-update;org.apache.maven.plugins:maven-enforcer-plugin;external_dependency} -->\n+        <configuration>\n+          <rules>\n+            <bannedDependencies>\n+              <includes>\n+                <include>com.microsoft.azure:spring-cloud-azure-storage:[1.2.8-beta.1]</include> <!-- {x-include-update;com.microsoft.azure:spring-cloud-azure-storage;current} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce2471f9307d7146a4fdb07ceb046ec8362ee2cf"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7635d6ebacb88a77a25a1e756b2ee11124ab524", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7635d6ebacb88a77a25a1e756b2ee11124ab524", "committedDate": "2020-09-10T02:37:25Z", "message": "update azure-spring-cloud-test-storage pom.xml"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c6aa09b5db83fb6d1a76eb4e4024c02edc98aa3", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1c6aa09b5db83fb6d1a76eb4e4024c02edc98aa3", "committedDate": "2020-09-10T02:15:14Z", "message": "update azure-spring-cloud-test-storage pom.xml"}, "afterCommit": {"oid": "f7635d6ebacb88a77a25a1e756b2ee11124ab524", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7635d6ebacb88a77a25a1e756b2ee11124ab524", "committedDate": "2020-09-10T02:37:25Z", "message": "update azure-spring-cloud-test-storage pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1abf9432a1489333c46a5816626d8bbf53efa84", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c1abf9432a1489333c46a5816626d8bbf53efa84", "committedDate": "2020-09-10T06:35:43Z", "message": "update storage resource template and test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1ODI4NjM0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14974#pullrequestreview-485828634", "createdAt": "2020-09-10T11:18:33Z", "commit": {"oid": "c1abf9432a1489333c46a5816626d8bbf53efa84"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3521, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}