{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNjY0Mjc1", "number": 13817, "title": "Fixed test recording for SecretClientTestBase", "bodyText": "Also made a change to KeyEncryptionKeyClientTestBase so it only uses a record policy when not in playback mode.", "createdAt": "2020-08-05T21:58:27Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13817", "merged": true, "mergeCommit": {"oid": "1d70b0f89fc93e0645ee90c4d7062da6fc4940fa"}, "closed": true, "closedAt": "2020-08-11T03:25:48Z", "author": {"login": "vcolin7"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8Cd7JAH2gAyNDYzNjY0Mjc1OmM3NjI5MzRmZGNhMmVjZjc4MGQyMjdlZjAzMDE3OTMwMmE5ZWJhOWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9qu1jAH2gAyNDYzNjY0Mjc1OmVmMzI1YmM2Mjk1MzRmZGIwYTI0ZDBhOWFmZDk5MTI2ODFkZmJiYzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c762934fdca2ecf780d227ef030179302a9eba9a", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c762934fdca2ecf780d227ef030179302a9eba9a", "committedDate": "2020-08-05T21:54:02Z", "message": "Modified when the RecordPolicy is obtained from InterceptorManager for recording tests in KeyEncryptionKeyClientTestBase and SecretClientTestBase."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMDU1NDA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13817#pullrequestreview-462055409", "createdAt": "2020-08-05T22:02:59Z", "commit": {"oid": "c762934fdca2ecf780d227ef030179302a9eba9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMjowMjo1OVrOG8cM1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMjowMjo1OVrOG8cM1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAyOTc4MA==", "bodyText": "We only use record policy in RECORD mode. Should exclude LIVE test mode here as well. Same as below", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13817#discussion_r466029780", "createdAt": "2020-08-05T22:02:59Z", "author": {"login": "sima-zhu"}, "path": "sdk/keyvault/azure-security-keyvault-keys/src/test/java/com/azure/security/keyvault/keys/cryptography/KeyEncryptionKeyClientTestBase.java", "diffHunk": "@@ -71,7 +71,10 @@ HttpPipeline getHttpPipeline(HttpClient httpClient, CryptographyServiceVersion s\n         }\n         HttpPolicyProviders.addAfterRetryPolicies(policies);\n         policies.add(new HttpLoggingPolicy(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS)));\n-        policies.add(interceptorManager.getRecordPolicy());\n+\n+        if (!interceptorManager.isPlaybackMode()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c762934fdca2ecf780d227ef030179302a9eba9a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e7e0228a8878fc11bc9fabcd67cf128dbe081e4", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0e7e0228a8878fc11bc9fabcd67cf128dbe081e4", "committedDate": "2020-08-05T22:34:07Z", "message": "Made sure to only add a record policy when in RECORD test mode for KeyVault tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b79f8e889bef5bd9ddbd21b117f9c25e377788ab", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b79f8e889bef5bd9ddbd21b117f9c25e377788ab", "committedDate": "2020-08-07T17:45:19Z", "message": "Made sure we only add a recording policy when in RECORD TestMode."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDk0MDA0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13817#pullrequestreview-463494004", "createdAt": "2020-08-07T17:46:32Z", "commit": {"oid": "b79f8e889bef5bd9ddbd21b117f9c25e377788ab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f14f11664be0f17e990040d632a69eb86c93159", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3f14f11664be0f17e990040d632a69eb86c93159", "committedDate": "2020-08-08T00:51:44Z", "message": "Merge remote-tracking branch 'upstream/master' into users/vicolina/fixes-for-test-recording-in-keyvault"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef325bc629534fdb0a24d0a9afd9912681dfbbc9", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ef325bc629534fdb0a24d0a9afd9912681dfbbc9", "committedDate": "2020-08-10T23:22:38Z", "message": "Merge branch 'master' into users/vicolina/fixes-for-test-recording-in-keyvault"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 829, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}