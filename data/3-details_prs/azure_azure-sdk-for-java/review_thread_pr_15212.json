{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3MTI1OTE4", "number": 15212, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToxNDoxN1rOEjf7ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToyMDo1NlrOEjgFfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjU4NzgyOnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/RoleAssignmentHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToxNDoxN1rOHR4cZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOTozMDo1N1rOHR5FTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMjYxNA==", "bodyText": "Why need a cast? Does it need Flux<Indexable>?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488512614", "createdAt": "2020-09-15T09:14:17Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/RoleAssignmentHelper.java", "diffHunk": "@@ -94,7 +94,7 @@ public RoleAssignmentHelper withAccessTo(final String scope, final BuiltInRole a\n                     .withBuiltInRole(asRole)\n                     .withScope(resourceScope)\n                     .createAsync()\n-                    .last()\n+                    .cast(Indexable.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUyMzA4Ng==", "bodyText": "Some are dependency or post dependency, some are in test for Flux", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488523086", "createdAt": "2020-09-15T09:30:57Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/RoleAssignmentHelper.java", "diffHunk": "@@ -94,7 +94,7 @@ public RoleAssignmentHelper withAccessTo(final String scope, final BuiltInRole a\n                     .withBuiltInRole(asRole)\n                     .withScope(resourceScope)\n                     .createAsync()\n-                    .last()\n+                    .cast(Indexable.class)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMjYxNA=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjU5MTcwOnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/ServicePrincipalImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToxNToxN1rOHR4e1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwMjoyMToyM1rOHSdpjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMzIzNw==", "bodyText": "Seems just indexable.id()?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488513237", "createdAt": "2020-09-15T09:15:17Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/ServicePrincipalImpl.java", "diffHunk": "@@ -199,7 +199,7 @@ public String applicationId() {\n                                 .createAsync())\n                     .doOnNext(\n                         indexable ->\n-                            cachedRoleAssignments.put(((RoleAssignment) indexable).id(), (RoleAssignment) indexable))\n+                            cachedRoleAssignments.put((indexable).id(), indexable))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEyMjE4OA==", "bodyText": "done", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r489122188", "createdAt": "2020-09-16T02:21:23Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/ServicePrincipalImpl.java", "diffHunk": "@@ -199,7 +199,7 @@ public String applicationId() {\n                                 .createAsync())\n                     .doOnNext(\n                         indexable ->\n-                            cachedRoleAssignments.put(((RoleAssignment) indexable).id(), (RoleAssignment) indexable))\n+                            cachedRoleAssignments.put((indexable).id(), indexable))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMzIzNw=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjU5NjgyOnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToxNjo0NVrOHR4iGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwMjoyMTozM1rOHSdpsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDA3Mg==", "bodyText": "If it is Mono, do not name it flux.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488514072", "createdAt": "2020-09-15T09:16:45Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "diffHunk": "@@ -44,7 +45,7 @@ public void canCreateAllPopularImageVM() {\n         }\n \n         for (KnownLinuxVirtualMachineImage image : KnownLinuxVirtualMachineImage.values()) {\n-            Flux<Indexable> flux = computeManager.virtualMachines()\n+            Mono<VirtualMachine> flux = computeManager.virtualMachines()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDM0OA==", "bodyText": "Same for vmFluxes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488514348", "createdAt": "2020-09-15T09:17:12Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "diffHunk": "@@ -44,7 +45,7 @@ public void canCreateAllPopularImageVM() {\n         }\n \n         for (KnownLinuxVirtualMachineImage image : KnownLinuxVirtualMachineImage.values()) {\n-            Flux<Indexable> flux = computeManager.virtualMachines()\n+            Mono<VirtualMachine> flux = computeManager.virtualMachines()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDA3Mg=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEyMjIyNg==", "bodyText": "done", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r489122226", "createdAt": "2020-09-16T02:21:33Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "diffHunk": "@@ -44,7 +45,7 @@ public void canCreateAllPopularImageVM() {\n         }\n \n         for (KnownLinuxVirtualMachineImage image : KnownLinuxVirtualMachineImage.values()) {\n-            Flux<Indexable> flux = computeManager.virtualMachines()\n+            Mono<VirtualMachine> flux = computeManager.virtualMachines()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDA3Mg=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjYxMzEwOnYy", "diffSide": "RIGHT", "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageWebAppSourceControlAsync.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToyMDo1NlrOHR4sEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwNTozNzo0MVrOHSg1Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNjYyNA==", "bodyText": "Likely this if is no longer needed?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488516624", "createdAt": "2020-09-15T09:20:56Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageWebAppSourceControlAsync.java", "diffHunk": "@@ -70,9 +70,9 @@ public static boolean runSample(final Azure azure) {\n                     .withJavaVersion(JavaVersion.JAVA_8_NEWEST)\n                     .withWebContainer(WebContainer.TOMCAT_8_0_NEWEST)\n                     .createAsync()\n-                    .flatMap(indexable -> {\n+                    .flatMapMany(indexable -> {\n                         if (indexable instanceof WebApp) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUyMTk4OQ==", "bodyText": "Yes, there are lots of if not needed, but I don't want to change so much.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488521989", "createdAt": "2020-09-15T09:29:14Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageWebAppSourceControlAsync.java", "diffHunk": "@@ -70,9 +70,9 @@ public static boolean runSample(final Azure azure) {\n                     .withJavaVersion(JavaVersion.JAVA_8_NEWEST)\n                     .withWebContainer(WebContainer.TOMCAT_8_0_NEWEST)\n                     .createAsync()\n-                    .flatMap(indexable -> {\n+                    .flatMapMany(indexable -> {\n                         if (indexable instanceof WebApp) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNjYyNA=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTE3NDMzMQ==", "bodyText": "fixed, it cause spotbugs error", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r489174331", "createdAt": "2020-09-16T05:37:41Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageWebAppSourceControlAsync.java", "diffHunk": "@@ -70,9 +70,9 @@ public static boolean runSample(final Azure azure) {\n                     .withJavaVersion(JavaVersion.JAVA_8_NEWEST)\n                     .withWebContainer(WebContainer.TOMCAT_8_0_NEWEST)\n                     .createAsync()\n-                    .flatMap(indexable -> {\n+                    .flatMapMany(indexable -> {\n                         if (indexable instanceof WebApp) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNjYyNA=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1006, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}