{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzQzNTY1", "number": 8847, "title": "Public api duration change", "bodyText": "Updated public APIs with Duration\nUpdated documentation with word \"duration\"", "createdAt": "2020-03-09T01:35:42Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847", "merged": true, "mergeCommit": {"oid": "6ad0cbc91c3002d794f13dad5a85caf676c10aa1"}, "closed": true, "closedAt": "2020-03-09T17:09:31Z", "author": {"login": "kushagraThapar"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLzFbOAH2gAyMzg1MzQzNTY1OjZmYzAwMmVjOTNiNDg5MWEzNDU2ZDE3M2U2ZGEzNDQzNGJhYmEzMjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMAkIHAH2gAyMzg1MzQzNTY1OjNiYTZmYTFmMjVkOTdmOWJmM2JjZmM4ZjRjYmVlOTNiNmRhYmE2MTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6fc002ec93b4891a3456d173e6da34434baba326", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6fc002ec93b4891a3456d173e6da34434baba326", "committedDate": "2020-03-09T00:50:20Z", "message": "Updated public surface of Connection Policy to use Duration\nUpdated internal classes to follow the same duration values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b75bfa93b017348218e130406fb1f038bafc629", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b75bfa93b017348218e130406fb1f038bafc629", "committedDate": "2020-03-09T01:33:50Z", "message": "Updated Cosmos Client Exception to duration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62a467657ec12be65e4056b0580793089d1b0ae6", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/62a467657ec12be65e4056b0580793089d1b0ae6", "committedDate": "2020-03-09T02:59:00Z", "message": "Updated Throttling Retry Options to Duration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f85c6a9371e49c27f8be0d32e5b1ba53aad344ff", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f85c6a9371e49c27f8be0d32e5b1ba53aad344ff", "committedDate": "2020-03-09T03:06:55Z", "message": "Removed unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a35ac2de8e38aff37b1ede994016476b7fa3bb08", "committedDate": "2020-03-09T05:41:33Z", "message": "Fixed config and connection policy duration values to seconds"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMjk1Nzg4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#pullrequestreview-371295788", "createdAt": "2020-03-09T15:41:35Z", "commit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo0MTozNVrOFzuCLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo0NToyNlrOFzuMfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc3NTkxOA==", "bodyText": "Duration is not used as a suffix in ConnectionPolicy#setRequestTimeout() and getter.\nany reason we are using it here?\nwhat are your thought on the method naming?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#discussion_r389775918", "createdAt": "2020-03-09T15:41:35Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientException.java", "diffHunk": "@@ -193,13 +194,13 @@ void setError(CosmosError cosmosError) {\n     }\n \n     /**\n-     * Gets the recommended time interval after which the client can retry failed\n+     * Gets the recommended time duration after which the client can retry failed\n      * requests\n      *\n-     * @return the recommended time interval after which the client can retry failed\n+     * @return the recommended time duration after which the client can retry failed\n      * requests.\n      */\n-    public long getRetryAfterInMilliseconds() {\n+    public Duration getRetryAfterDuration() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc3ODM3Nw==", "bodyText": "hmm, do we want \"InSeconds()\" as suffix in the method name?\nthe time resolution for this method is seconds. If we are using Duration here we should update the documentation mentioning that the resolution is in seconds.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#discussion_r389778377", "createdAt": "2020-03-09T15:45:15Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/model/ConsistencyPolicy.java", "diffHunk": "@@ -105,21 +107,21 @@ public ConsistencyPolicy setMaxStalenessPrefix(int maxStalenessPrefix) {\n      *\n      * @return the max staleness prefix.\n      */\n-    public int getMaxStalenessIntervalInSeconds() {\n+    public Duration getMaxStalenessIntervalInSeconds() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc3ODU1OQ==", "bodyText": "the same.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#discussion_r389778559", "createdAt": "2020-03-09T15:45:26Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/model/ConsistencyPolicy.java", "diffHunk": "@@ -105,21 +107,21 @@ public ConsistencyPolicy setMaxStalenessPrefix(int maxStalenessPrefix) {\n      *\n      * @return the max staleness prefix.\n      */\n-    public int getMaxStalenessIntervalInSeconds() {\n+    public Duration getMaxStalenessIntervalInSeconds() {\n         Integer value = super.getInt(Constants.Properties.MAX_STALENESS_INTERVAL_IN_SECONDS);\n         if (value == null) {\n-            return ConsistencyPolicy.DEFAULT_MAX_STALENESS_INTERVAL;\n+            return Duration.ofSeconds(ConsistencyPolicy.DEFAULT_MAX_STALENESS_INTERVAL);\n         }\n-        return value;\n+        return Duration.ofSeconds(value);\n     }\n \n     /**\n      * Sets the in bounded staleness consistency, the maximum allowed staleness in terms time interval.\n      *\n-     * @param maxStalenessIntervalInSeconds the max staleness interval in seconds.\n+     * @param maxStalenessIntervalInSeconds the max staleness duration.\n      * @return the ConsistenctPolicy.\n      */\n-    public ConsistencyPolicy setMaxStalenessIntervalInSeconds(int maxStalenessIntervalInSeconds) {\n+    public ConsistencyPolicy setMaxStalenessIntervalInSeconds(Duration maxStalenessIntervalInSeconds) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77afe776713084675adca2709ec85cc2442fe76a", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/77afe776713084675adca2709ec85cc2442fe76a", "committedDate": "2020-03-09T16:06:49Z", "message": "Renamed getMaxStalenessInterval API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzE4NDE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#pullrequestreview-371318418", "createdAt": "2020-03-09T16:07:38Z", "commit": {"oid": "a35ac2de8e38aff37b1ede994016476b7fa3bb08"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzI3NTA1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#pullrequestreview-371327505", "createdAt": "2020-03-09T16:18:11Z", "commit": {"oid": "77afe776713084675adca2709ec85cc2442fe76a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzMxNjE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8847#pullrequestreview-371331618", "createdAt": "2020-03-09T16:23:14Z", "commit": {"oid": "77afe776713084675adca2709ec85cc2442fe76a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4945f8f19a58a10f26d0b30984b2f4e05773474", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e4945f8f19a58a10f26d0b30984b2f4e05773474", "committedDate": "2020-03-09T16:26:37Z", "message": "Fixed potential bug and typos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba6fa1f25d97f9bf3bcfc8f4cbee93b6daba619", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3ba6fa1f25d97f9bf3bcfc8f4cbee93b6daba619", "committedDate": "2020-03-09T16:32:38Z", "message": "Fixed toSeconds() java 11 API to getSeconds() java 8 API"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 850, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}