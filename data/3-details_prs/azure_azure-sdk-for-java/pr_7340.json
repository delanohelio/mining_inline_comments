{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNTUzNjE1", "number": 7340, "title": "Keyvault ARM template for live test", "bodyText": "Our goal is to create common Azure resources using ARM template for each module. And pipeline to manage common resources and drop them in end. This will save cost and remove unwanted resources after test is complete or stopped in between\nThe pipeline will run ARM template and create common resources for example resource group, Accounts etc.\nThe pipeline will pass on names of these resources as ENV variable into test. For example AZURE_KEYVAULT_ENDPOINT\nIn the end pipeline will also delete these common resources which it created earlier and that will cause all the resources created to be removed.", "createdAt": "2020-01-10T17:36:02Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7340", "merged": true, "mergeCommit": {"oid": "a781f998eecfbe9c46b6201339d18ea84282ff50"}, "closed": true, "closedAt": "2020-01-10T18:41:13Z", "author": {"login": "hemanttanwar"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5CFdRgH2gAyMzYxNTUzNjE1OmI5N2YyNjZiYmYxZDMwNzNlMTUzZTRkZmUzYzQxMDc3YzhhZDZiMjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5EU2CAFqTM0MTM5NzAzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b97f266bbf1d3073e153e4dfe3c41077c8ad6b27", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b97f266bbf1d3073e153e4dfe3c41077c8ad6b27", "committedDate": "2020-01-10T17:34:23Z", "message": "Keyvault ARM template for live test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMzIxNjI1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7340#pullrequestreview-341321625", "createdAt": "2020-01-10T17:46:14Z", "commit": {"oid": "b97f266bbf1d3073e153e4dfe3c41077c8ad6b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec3f8bbbc9c228de04c35839e2b99ead55c174f", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ec3f8bbbc9c228de04c35839e2b99ead55c174f", "committedDate": "2020-01-10T18:10:58Z", "message": "Keyvault ARM template for live test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMzk3MDM0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7340#pullrequestreview-341397034", "createdAt": "2020-01-10T20:10:59Z", "commit": {"oid": "2ec3f8bbbc9c228de04c35839e2b99ead55c174f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDoxMDo1OVrOFce7yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDoxMDo1OVrOFce7yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQxMTI3Mg==", "bodyText": "IS this application object id, of the azure-sdk-tests (service principal) ?\n@hemanttanwar @danieljurek", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7340#discussion_r365411272", "createdAt": "2020-01-10T20:10:59Z", "author": {"login": "g2vinay"}, "path": "sdk/keyvault/test-resources.json", "diffHunk": "@@ -0,0 +1,65 @@\n+{\n+    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n+    \"contentVersion\": \"1.0.0.0\",\n+    \"parameters\": {\n+        \"baseName\": {\n+            \"type\": \"String\"\n+        },\n+        \"tenantId\": {\n+            \"type\": \"String\"\n+        },\n+        \"testApplicationOid\": {\n+            \"type\": \"String\"\n+        },\n+        \"endpointSuffix\": {\n+            \"defaultValue\": \"vault.azure.net\",\n+            \"type\": \"String\"\n+        }\n+    },\n+    \"variables\": {\n+        \"location\": \"[resourceGroup().location]\",\n+        \"azureKeyVaultUrl\": \"[format('https://{0}.{1}/', parameters('baseName'), parameters('endpointSuffix'))]\"\n+    },\n+    \"resources\": [\n+        {\n+            \"type\": \"Microsoft.KeyVault/vaults\",\n+            \"apiVersion\": \"2016-10-01\",\n+            \"name\": \"[parameters('baseName')]\",\n+            \"location\": \"[resourceGroup().location]\",\n+            \"properties\": {\n+                \"sku\": {\n+                    \"family\": \"A\",\n+                    \"name\": \"standard\"\n+                },\n+                \"tenantId\": \"[parameters('tenantId')]\",\n+                \"accessPolicies\": [\n+                    {\n+                        \"tenantId\": \"[parameters('tenantId')]\",\n+                        \"objectId\": \"[parameters('testApplicationOid')]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ec3f8bbbc9c228de04c35839e2b99ead55c174f"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 620, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}