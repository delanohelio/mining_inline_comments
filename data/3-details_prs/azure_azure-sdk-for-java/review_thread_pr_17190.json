{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NzMzMDAz", "number": 17190, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1MTo0M1rOE1f2Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1NDoxNlrOE1f4DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NTMxNzkxOnYy", "diffSide": "RIGHT", "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusClientBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1MTo0M1rOHtzeVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNTozNzoxOVrOHt0LQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTMxOQ==", "bodyText": "Do you have a check that if user did not call this but  set receivemode to RECEIVE AND DELETE, that is not allowed.\nWe can not auto complete in that mode.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791319", "createdAt": "2020-11-05T04:51:43Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusClientBuilder.java", "diffHunk": "@@ -1191,6 +1205,20 @@ public ServiceBusProcessorClientBuilder maxConcurrentCalls(int maxConcurrentCall\n             return this;\n         }\n \n+        /**\n+         * Disables auto-complete and auto-abandon of received messages. By default, a successfully processed message is\n+         * {@link ServiceBusReceivedMessageContext#complete() completed}. If an error happens when\n+         * the message is processed, it is {@link ServiceBusReceivedMessageContext#abandon()\n+         * abandoned}.\n+         *\n+         * @return The modified {@link ServiceBusProcessorClientBuilder} object.\n+         */\n+        public ServiceBusProcessorClientBuilder disableAutoComplete() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwMjgxOQ==", "bodyText": "That is for the underlying receiver to handle. If the mode is RECEIVE_AND_DELETE, FluxAutoComplete should not be enabled regardless of whether autocomplete is enabled or not.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517802819", "createdAt": "2020-11-05T05:37:19Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusClientBuilder.java", "diffHunk": "@@ -1191,6 +1205,20 @@ public ServiceBusProcessorClientBuilder maxConcurrentCalls(int maxConcurrentCall\n             return this;\n         }\n \n+        /**\n+         * Disables auto-complete and auto-abandon of received messages. By default, a successfully processed message is\n+         * {@link ServiceBusReceivedMessageContext#complete() completed}. If an error happens when\n+         * the message is processed, it is {@link ServiceBusReceivedMessageContext#abandon()\n+         * abandoned}.\n+         *\n+         * @return The modified {@link ServiceBusProcessorClientBuilder} object.\n+         */\n+        public ServiceBusProcessorClientBuilder disableAutoComplete() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTMxOQ=="}, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NTMyMDQwOnYy", "diffSide": "RIGHT", "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1MzoyMVrOHtzfzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNTozODowM1rOHt0L9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTY5NQ==", "bodyText": "should accept be called if AutoComplete is disabled ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791695", "createdAt": "2020-11-05T04:53:21Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwMjk5OA==", "bodyText": "accept calls the user's message handler. It's not related to autoComplete", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517802998", "createdAt": "2020-11-05T05:38:03Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTY5NQ=="}, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NTMyMjM3OnYy", "diffSide": "RIGHT", "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1NDoxNlrOHtzg1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNTozOTo0MFrOHt0NzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTk1OA==", "bodyText": "Do you need to complete the message if isDisableAutoComplete() == false? This statement is from above,\"By default, a successfully processed message is * {@link ServiceBusReceivedMessageContext#complete() completed}\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791958", "createdAt": "2020-11-05T04:54:16Z", "author": {"login": "YijunXieMS"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwMzQ2OQ==", "bodyText": "The underlying async receiver will do that automatically because I delegate that to the async client in the builder.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517803469", "createdAt": "2020-11-05T05:39:40Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTk1OA=="}, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3012, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}