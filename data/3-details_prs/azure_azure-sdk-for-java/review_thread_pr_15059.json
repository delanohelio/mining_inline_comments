{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0MzM4MzM0", "number": 15059, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMToyMDo1OFrOEiS-2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1NDoyNlrOEjYL7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0Mzk4MDQyOnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMToyMDo1OFrOHQGLTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMToyNDo1NlrOHQGSoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDQ2MA==", "bodyText": "Why can you not do this in the if statement at template time?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486640460", "createdAt": "2020-09-10T21:20:58Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n             - deployment: PublicDocsMs\n               displayName: \"Publish Updates for Docs.MS\"\n-              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'), ne(artifact.skipDocMs, 'true'))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MjA5Nw==", "bodyText": "I did not skip it successfully for the first run. But it skips the step after kicking off another build.\nI will move to the if clause.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486642097", "createdAt": "2020-09-10T21:24:26Z", "author": {"login": "sima-zhu"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n             - deployment: PublicDocsMs\n               displayName: \"Publish Updates for Docs.MS\"\n-              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'), ne(artifact.skipDocMs, 'true'))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDQ2MA=="}, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MjMzNw==", "bodyText": "https://dev.azure.com/azure-sdk/internal/_build/results?buildId=532666&view=results\nIt indicates put it under if clause works well", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486642337", "createdAt": "2020-09-10T21:24:56Z", "author": {"login": "sima-zhu"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n             - deployment: PublicDocsMs\n               displayName: \"Publish Updates for Docs.MS\"\n-              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'), ne(artifact.skipDocMs, 'true'))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDQ2MA=="}, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0Mzk4MTcxOnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMToyMToxOFrOHQGMFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMTozMDowNVrOHQGbwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDY2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n          \n          \n            \n                      - ${{if ne(artifact.skipPublishDocMs, 'true')}}:", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486640660", "createdAt": "2020-09-10T21:21:18Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0Mzk0NQ==", "bodyText": "Do we want to control this by DocMs parameter only? GithubIO is still using options.skipPublishDocs. Then we have two vars for two doc steps.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486643945", "createdAt": "2020-09-10T21:28:21Z", "author": {"login": "sima-zhu"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDY2MA=="}, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0NDY3NA==", "bodyText": "I'd change the github.io publishing skipPublishDocGithubIo and we probably should remove the \"options.\" from all these conditions.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r486644674", "createdAt": "2020-09-10T21:30:05Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -147,7 +147,7 @@ stages:\n           - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY0MDY2MA=="}, "originalCommit": {"oid": "190b272b054e234e49fb6aff3fb0206b35dfac93"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NDEzMDA0OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxODozMjoyMlrOHRhqSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxODo0ODoyOVrOHRiMXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODEzOTMzNw==", "bodyText": "Same Integration skip question as seen in the other languages..", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r488139337", "createdAt": "2020-09-14T18:32:22Z", "author": {"login": "scbedd"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -209,7 +209,7 @@ stages:\n                           # we override the regular script path because we have cloned the build tools repo as a separate artifact.\n                           ScriptPath: 'eng/common/scripts/copy-docs-to-blobstorage.ps1'\n \n-          - ${{if ne(artifact.options.skipUpdatePackageVersion, 'true')}}:\n+          - ${{if ne(artifact.skipUpdatePackageVersion, 'true')}}:\n             - deployment: UpdatePackageVersion\n               displayName: \"Update Package Version\"\n               condition: and(succeeded(), ne(variables['Skip.UpdatePackageVersion'], 'true'))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdba46767b22fd190c28bd4c4c1c4567827f3b22"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE0ODA2Mg==", "bodyText": "Talked offline. Will add check on integration step here as well.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r488148062", "createdAt": "2020-09-14T18:48:29Z", "author": {"login": "sima-zhu"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -209,7 +209,7 @@ stages:\n                           # we override the regular script path because we have cloned the build tools repo as a separate artifact.\n                           ScriptPath: 'eng/common/scripts/copy-docs-to-blobstorage.ps1'\n \n-          - ${{if ne(artifact.options.skipUpdatePackageVersion, 'true')}}:\n+          - ${{if ne(artifact.skipUpdatePackageVersion, 'true')}}:\n             - deployment: UpdatePackageVersion\n               displayName: \"Update Package Version\"\n               condition: and(succeeded(), ne(variables['Skip.UpdatePackageVersion'], 'true'))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODEzOTMzNw=="}, "originalCommit": {"oid": "cdba46767b22fd190c28bd4c4c1c4567827f3b22"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTMxNzc5OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1Mzo1MVrOHRskjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1Mzo1MVrOHRskjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODA5Mw==", "bodyText": "This looks like a copy/past issue.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r488318093", "createdAt": "2020-09-15T00:53:51Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -48,7 +48,7 @@ stages:\n   - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n     - ${{ each artifact in parameters.Artifacts }}:\n       - stage: Release_${{artifact.safeName}}\n-        displayName: 'Release: ${{artifact.name}}'\n+        displayName: 'Release: ${{artifact.name}}__${{artifact.skipPublishDevFeed}}'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c07502c53623553b7aafadb2d13deab55816cd7b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTMxODg3OnYy", "diffSide": "RIGHT", "path": "sdk/template/ci.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1NDoyNlrOHRslKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1NDoyNlrOHRslKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODI0OQ==", "bodyText": "I'm fine with this for testing but we should undo it before merging this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15059#discussion_r488318249", "createdAt": "2020-09-15T00:54:26Z", "author": {"login": "weshaggard"}, "path": "sdk/template/ci.yml", "diffHunk": "@@ -30,3 +30,4 @@ extends:\n       - name: azure-sdk-template\n         groupId: com.azure\n         safeName: azuresdktemplate\n+        skipPublishDevFeed: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c07502c53623553b7aafadb2d13deab55816cd7b"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1182, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}