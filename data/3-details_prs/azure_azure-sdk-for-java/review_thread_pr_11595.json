{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MzI4ODQy", "number": 11595, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNjo0NjoxNVrOEBb86g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMToxMTowN1rOEBhB8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5OTQxOTk0OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNjo0NjoxNVrOGdSCsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNzowNDowOVrOGdSoIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM1NzQ4OA==", "bodyText": "Please add this new field to toString() API.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433357488", "createdAt": "2020-06-01T16:46:15Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -17,24 +17,27 @@\n     //  Constants\n     private static final Duration DEFAULT_IDLE_ENDPOINT_TIMEOUT = Duration.ofSeconds(70L);\n     private static final Duration DEFAULT_CONNECTION_TIMEOUT = Duration.ofSeconds(60L);\n+    private static final Duration DEFAULT_REQUEST_TIMEOUT = Duration.ofSeconds(60L);\n     private static final int DEFAULT_MAX_CONNECTIONS_PER_ENDPOINT = 30;\n     private static final int DEFAULT_MAX_REQUESTS_PER_CONNECTION = 10;\n \n     private Duration connectionTimeout;\n     private Duration idleConnectionTimeout;\n     private Duration idleEndpointTimeout;\n+    private Duration requestTimeout;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2NzA3NQ==", "bodyText": "good catch, thanks. change made on my branch. to be committed with this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433367075", "createdAt": "2020-06-01T17:04:09Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -17,24 +17,27 @@\n     //  Constants\n     private static final Duration DEFAULT_IDLE_ENDPOINT_TIMEOUT = Duration.ofSeconds(70L);\n     private static final Duration DEFAULT_CONNECTION_TIMEOUT = Duration.ofSeconds(60L);\n+    private static final Duration DEFAULT_REQUEST_TIMEOUT = Duration.ofSeconds(60L);\n     private static final int DEFAULT_MAX_CONNECTIONS_PER_ENDPOINT = 30;\n     private static final int DEFAULT_MAX_REQUESTS_PER_CONNECTION = 10;\n \n     private Duration connectionTimeout;\n     private Duration idleConnectionTimeout;\n     private Duration idleEndpointTimeout;\n+    private Duration requestTimeout;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM1NzQ4OA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5OTQzODYzOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ConnectionPolicy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNjo1MTo0OVrOGdSOPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNzoxOTo0NFrOGdTHgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MDQ0NA==", "bodyText": "We should also rename the string wordings -> maxChannelsPerEndpoint -> maxConnectionsPerEndpoint\nand maxRequestsPerChannel -> maxRequestsPerConnection", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433360444", "createdAt": "2020-06-01T16:51:49Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ConnectionPolicy.java", "diffHunk": "@@ -476,10 +458,9 @@ public String toString() {\n             \", inetSocketProxyAddress=\" + inetSocketProxyAddress +\n             \", readRequestsFallbackEnabled=\" + readRequestsFallbackEnabled +\n             \", connectionTimeout=\" + connectionTimeout +\n-            \", idleChannelTimeout=\" + idleChannelTimeout +\n             \", idleEndpointTimeout=\" + idleEndpointTimeout +\n-            \", maxChannelsPerEndpoint=\" + maxChannelsPerEndpoint +\n-            \", maxRequestsPerChannel=\" + maxRequestsPerChannel +\n+            \", maxChannelsPerEndpoint=\" + maxConnectionsPerEndpoint +\n+            \", maxRequestsPerChannel=\" + maxRequestsPerConnection +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 155}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM3NTEwNQ==", "bodyText": "another good catch. change made on my branch. to be committed with this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433375105", "createdAt": "2020-06-01T17:19:44Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/ConnectionPolicy.java", "diffHunk": "@@ -476,10 +458,9 @@ public String toString() {\n             \", inetSocketProxyAddress=\" + inetSocketProxyAddress +\n             \", readRequestsFallbackEnabled=\" + readRequestsFallbackEnabled +\n             \", connectionTimeout=\" + connectionTimeout +\n-            \", idleChannelTimeout=\" + idleChannelTimeout +\n             \", idleEndpointTimeout=\" + idleEndpointTimeout +\n-            \", maxChannelsPerEndpoint=\" + maxChannelsPerEndpoint +\n-            \", maxRequestsPerChannel=\" + maxRequestsPerChannel +\n+            \", maxChannelsPerEndpoint=\" + maxConnectionsPerEndpoint +\n+            \", maxRequestsPerChannel=\" + maxRequestsPerConnection +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MDQ0NA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 155}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5OTQ1MzE2OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxNjo1NjoxOVrOGdSXjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMToxMzowMlrOGdaV6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MjgyOA==", "bodyText": "Is this the end to end (including the consistency stack) timeout?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433362828", "createdAt": "2020-06-01T16:56:19Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -190,6 +193,32 @@ public DirectConnectionConfig setMaxRequestsPerConnection(int maxRequestsPerConn\n         return this;\n     }\n \n+    /**\n+     * Gets the request timeout interval\n+     * This represents the timeout interval for requests\n+     *\n+     * Default value is 60 seconds\n+     *\n+     * @return the request timeout interval\n+     */\n+    public Duration getRequestTimeout() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2Njg5MA==", "bodyText": "yes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433366890", "createdAt": "2020-06-01T17:03:49Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -190,6 +193,32 @@ public DirectConnectionConfig setMaxRequestsPerConnection(int maxRequestsPerConn\n         return this;\n     }\n \n+    /**\n+     * Gets the request timeout interval\n+     * This represents the timeout interval for requests\n+     *\n+     * Default value is 60 seconds\n+     *\n+     * @return the request timeout interval\n+     */\n+    public Duration getRequestTimeout() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MjgyOA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQxOTcyOQ==", "bodyText": "@kirankumarkolli\nboth GWConnectionConfig and DirectConnectionConfig have requestTimeout.\nand DirectConnectionConfig#requestTimeout represents the end to end latency (including consistency stack).\nI wonder if we should keep these at the ConnectionConfig level or if we should move it up to the CosmosClientBuilder. How .Net is doing this?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433419729", "createdAt": "2020-06-01T18:43:53Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -190,6 +193,32 @@ public DirectConnectionConfig setMaxRequestsPerConnection(int maxRequestsPerConn\n         return this;\n     }\n \n+    /**\n+     * Gets the request timeout interval\n+     * This represents the timeout interval for requests\n+     *\n+     * Default value is 60 seconds\n+     *\n+     * @return the request timeout interval\n+     */\n+    public Duration getRequestTimeout() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MjgyOA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5MTM4Mw==", "bodyText": "@moderakh and @David-Noble-at-work  - Let's merge this PR as it is, and we will have a follow up PR which will handle these changes - #11531", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433491383", "createdAt": "2020-06-01T21:08:34Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -190,6 +193,32 @@ public DirectConnectionConfig setMaxRequestsPerConnection(int maxRequestsPerConn\n         return this;\n     }\n \n+    /**\n+     * Gets the request timeout interval\n+     * This represents the timeout interval for requests\n+     *\n+     * Default value is 60 seconds\n+     *\n+     * @return the request timeout interval\n+     */\n+    public Duration getRequestTimeout() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MjgyOA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5MzQ4Mw==", "bodyText": "agreed. closing this as resolved.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433493483", "createdAt": "2020-06-01T21:13:02Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/DirectConnectionConfig.java", "diffHunk": "@@ -190,6 +193,32 @@ public DirectConnectionConfig setMaxRequestsPerConnection(int maxRequestsPerConn\n         return this;\n     }\n \n+    /**\n+     * Gets the request timeout interval\n+     * This represents the timeout interval for requests\n+     *\n+     * Default value is 60 seconds\n+     *\n+     * @return the request timeout interval\n+     */\n+    public Duration getRequestTimeout() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM2MjgyOA=="}, "originalCommit": {"oid": "d96f4b3e8234f9ae3ec37212a78b6bd1ec494b3b"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMDI1MjAxOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos-benchmark/src/main/java/com/azure/cosmos/benchmark/AsyncBenchmark.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMToxMTowN1rOGdaSfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMToxMTowN1rOGdaSfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5MjYwNg==", "bodyText": "good catch. thank you", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11595#discussion_r433492606", "createdAt": "2020-06-01T21:11:07Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos-benchmark/src/main/java/com/azure/cosmos/benchmark/AsyncBenchmark.java", "diffHunk": "@@ -131,7 +131,7 @@\n         if (configuration.getOperationType() != Configuration.Operation.WriteLatency\n                 && configuration.getOperationType() != Configuration.Operation.WriteThroughput\n                 && configuration.getOperationType() != Configuration.Operation.ReadMyWrites) {\n-            logger.info(\"PRE-populating {} documents ....\", cfg.getNumberOfOperations());\n+            logger.info(\"PRE-populating {} documents ....\", cfg.getNumberOfPreCreatedDocuments());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eb5db9a647f766da826783db14fdffbaef26b48"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4029, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}