{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwMDgwNzQ3", "number": 7904, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDowNzo1MlrODcwnfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDoxMzozOVrODcwuhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNDgzMjYyOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/rx/examples/multimaster/Helpers.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDowNzo1MlrOFk-Urg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMDoxNDozNFrOFlEYwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMxNDE1OA==", "bodyText": "We don't need this .single() anymore, right ?\nHere and every other method in this class.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7904#discussion_r374314158", "createdAt": "2020-02-03T20:07:52Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/rx/examples/multimaster/Helpers.java", "diffHunk": "@@ -38,7 +38,7 @@ static public String createDatabaseUri(String databaseName) {\n                                 }\n                             }\n \n-                            return Flux.error(e);\n+                            return Mono.error(e);\n                         }\n                 ).map(ResourceResponse::getResource).single();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a231fa7a51a0be83361d265b960a5a8e5d19034"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxMzUwNQ==", "bodyText": "as discussed offline. they are intentionally kept as they will do correctness validation to ensure Mono is not empty.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7904#discussion_r374413505", "createdAt": "2020-02-04T00:14:34Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/rx/examples/multimaster/Helpers.java", "diffHunk": "@@ -38,7 +38,7 @@ static public String createDatabaseUri(String databaseName) {\n                                 }\n                             }\n \n-                            return Flux.error(e);\n+                            return Mono.error(e);\n                         }\n                 ).map(ResourceResponse::getResource).single();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMxNDE1OA=="}, "originalCommit": {"oid": "9a231fa7a51a0be83361d265b960a5a8e5d19034"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNDgzNjQ4OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDowOTowNlrOFk-W8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDowOTowNlrOFk-W8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMxNDczNg==", "bodyText": "Same here, unnecessary conversion to .single()", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7904#discussion_r374314736", "createdAt": "2020-02-03T20:09:06Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos-examples/src/test/java/com/azure/cosmos/rx/examples/CollectionCRUDAsyncAPITest.java", "diffHunk": "@@ -242,7 +243,7 @@ public void createCollection_toBlocking_CollectionAlreadyExists_Fails() {\n      */\n     @Test(groups = \"samples\", timeOut = TIMEOUT)\n     public void transformObservableToCompletableFuture() throws Exception {\n-        Flux<ResourceResponse<DocumentCollection>> createCollectionObservable = client\n+        Mono<ResourceResponse<DocumentCollection>> createCollectionObservable = client\n                 .createCollection(getDatabaseLink(), collectionDefinition, null);\n         CompletableFuture<ResourceResponse<DocumentCollection>> future = createCollectionObservable.single().toFuture();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a231fa7a51a0be83361d265b960a5a8e5d19034"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNDg1MDYyOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/caches/RxClientCollectionCache.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QyMDoxMzozOVrOFk-flw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMDoxNDo0MFrOFlEY5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMxNjk1MQ==", "bodyText": "Please remove unnecessary .single()", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7904#discussion_r374316951", "createdAt": "2020-02-03T20:13:39Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/caches/RxClientCollectionCache.java", "diffHunk": "@@ -94,7 +94,7 @@ public RxClientCollectionCache(ISessionContainer sessionContainer,\n             retryPolicyInstance.onBeforeSendRequest(request);\n         }\n \n-        Flux<RxDocumentServiceResponse> responseObs = this.storeModel.processMessage(request);\n+        Mono<RxDocumentServiceResponse> responseObs = this.storeModel.processMessage(request);\n         return responseObs.map(response -> BridgeInternal.toResourceResponse(response, DocumentCollection.class)\n                 .getResource()).single();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a231fa7a51a0be83361d265b960a5a8e5d19034"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxMzU0Mg==", "bodyText": "as discussed offline. they are intentionally kept as they will do correctness validation to ensure Mono is not empty.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7904#discussion_r374413542", "createdAt": "2020-02-04T00:14:40Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/caches/RxClientCollectionCache.java", "diffHunk": "@@ -94,7 +94,7 @@ public RxClientCollectionCache(ISessionContainer sessionContainer,\n             retryPolicyInstance.onBeforeSendRequest(request);\n         }\n \n-        Flux<RxDocumentServiceResponse> responseObs = this.storeModel.processMessage(request);\n+        Mono<RxDocumentServiceResponse> responseObs = this.storeModel.processMessage(request);\n         return responseObs.map(response -> BridgeInternal.toResourceResponse(response, DocumentCollection.class)\n                 .getResource()).single();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDMxNjk1MQ=="}, "originalCommit": {"oid": "9a231fa7a51a0be83361d265b960a5a8e5d19034"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3284, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}