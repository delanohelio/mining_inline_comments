{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNjQxNDA3", "number": 15434, "reviewThreads": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMTo1OTo0NFrOEl5fdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwODoxMzoxNFrOEnWsmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTc0NzA5OnYy", "diffSide": "RIGHT", "path": ".gitignore", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMTo1OTo0NFrOHVoCwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjoxMjo1OVrOHVoNHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQzODIwOQ==", "bodyText": "do we need to add the venv here? I'm not sure whether we have the standard for python virtual env or not", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492438209", "createdAt": "2020-09-22T01:59:44Z", "author": {"login": "zhoufenqin"}, "path": ".gitignore", "diffHunk": "@@ -80,3 +80,6 @@ jacoco.exec\n \n # Generated client pom file\n ClientAggregatePom.xml\n+\n+# Anaconda virtual env\n+venv", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c754092f1beafa2751c7b80647228b4f8f84c55f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MDg2Mw==", "bodyText": "there are some python files in our repo, I have setuped the anaconda env to execute version schema scripts.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492440863", "createdAt": "2020-09-22T02:12:59Z", "author": {"login": "moarychan"}, "path": ".gitignore", "diffHunk": "@@ -80,3 +80,6 @@ jacoco.exec\n \n # Generated client pom file\n ClientAggregatePom.xml\n+\n+# Anaconda virtual env\n+venv", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQzODIwOQ=="}, "originalCommit": {"oid": "c754092f1beafa2751c7b80647228b4f8f84c55f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTc1MzM1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjowNDowOVrOHVoGRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjoyNDoxOFrOHVoVwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQzOTEwOA==", "bodyText": "we need to add <!-- embedme ../azure-spring-boot/src/samples/java/com/azure/spring/cosmosdb/User.java#L10-L65 --> around code block, it helps us to check the code change", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492439108", "createdAt": "2020-09-22T02:04:09Z", "author": {"login": "zhoufenqin"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -76,13 +70,12 @@ Include actuator dependencies.\n </dependency>\n ```\n \n-Call `http://{hostname}:{port}/actuator/health/cosmos` to get the CosmosDB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n+Call `http://{hostname}:{port}/actuator/health/cosmos` to get the Cosmos DB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n \n ### Define an entity\n Define a simple entity as Document in Cosmos DB.\n-<!-- embedme ../azure-spring-boot/src/samples/java/com/azure/spring/cosmosdb/User.java#L10-L65 -->\n ```java", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c754092f1beafa2751c7b80647228b4f8f84c55f"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MTM0MA==", "bodyText": "oh, I got it wrong and thought it was the old path, OK, I will add back here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492441340", "createdAt": "2020-09-22T02:15:21Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -76,13 +70,12 @@ Include actuator dependencies.\n </dependency>\n ```\n \n-Call `http://{hostname}:{port}/actuator/health/cosmos` to get the CosmosDB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n+Call `http://{hostname}:{port}/actuator/health/cosmos` to get the Cosmos DB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n \n ### Define an entity\n Define a simple entity as Document in Cosmos DB.\n-<!-- embedme ../azure-spring-boot/src/samples/java/com/azure/spring/cosmosdb/User.java#L10-L65 -->\n ```java", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQzOTEwOA=="}, "originalCommit": {"oid": "c754092f1beafa2751c7b80647228b4f8f84c55f"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MzA3NA==", "bodyText": "@zhoufenqin  I also removed the description of properties supportting , azure.cosmosdb.consistency-level & azure.cosmosdb.cosmosKeyCredential, please help review.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492443074", "createdAt": "2020-09-22T02:24:18Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -76,13 +70,12 @@ Include actuator dependencies.\n </dependency>\n ```\n \n-Call `http://{hostname}:{port}/actuator/health/cosmos` to get the CosmosDB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n+Call `http://{hostname}:{port}/actuator/health/cosmos` to get the Cosmos DB health info. **Please note**: it will calculate [RUs](https://docs.microsoft.com/azure/cosmos-db/request-units).\n \n ### Define an entity\n Define a simple entity as Document in Cosmos DB.\n-<!-- embedme ../azure-spring-boot/src/samples/java/com/azure/spring/cosmosdb/User.java#L10-L65 -->\n ```java", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQzOTEwOA=="}, "originalCommit": {"oid": "c754092f1beafa2751c7b80647228b4f8f84c55f"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTc2MjYyOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjoxMDozM1rOHVoLWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwMjoxNjo1OVrOHVoQMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MDQwOQ==", "bodyText": "you update your-cosmosdb-uri to your-cosmos-uri in application.properties, I think it should be updated here too. key/database is same", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492440409", "createdAt": "2020-09-22T02:10:33Z", "author": {"login": "zhoufenqin"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "diffHunk": "@@ -86,9 +86,9 @@ In this section, you clone a containerized Spring Boot application and test it l\n 1. Replace below properties in `application.properties` with information from your database.\n \n    ```properties\n-   azure.cosmosdb.uri=your-cosmosdb-uri\n-   azure.cosmosdb.key=your-cosmosdb-key\n-   azure.cosmosdb.database=your-cosmosdb-databasename\n+   azure.cosmos.uri=your-cosmosdb-uri\n+   azure.cosmos.key=your-cosmosdb-key\n+   azure.cosmos.database=your-cosmosdb-databasename\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4187ce3c38b3a11412c895232e2d637f929e1b44"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MTY0OA==", "bodyText": "Got it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492441648", "createdAt": "2020-09-22T02:16:59Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "diffHunk": "@@ -86,9 +86,9 @@ In this section, you clone a containerized Spring Boot application and test it l\n 1. Replace below properties in `application.properties` with information from your database.\n \n    ```properties\n-   azure.cosmosdb.uri=your-cosmosdb-uri\n-   azure.cosmosdb.key=your-cosmosdb-key\n-   azure.cosmosdb.database=your-cosmosdb-databasename\n+   azure.cosmos.uri=your-cosmosdb-uri\n+   azure.cosmos.key=your-cosmosdb-key\n+   azure.cosmos.database=your-cosmosdb-databasename\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ0MDQwOQ=="}, "originalCommit": {"oid": "4187ce3c38b3a11412c895232e2d637f929e1b44"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4Mjk5MTg5OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-cloud-foundry-service-sample/src/main/resources/static/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoxNzo0M1rOHVzZqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoxNzo0M1rOHVzZqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyNDI5Ng==", "bodyText": "we should keep the Azure Cosmos DB here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492624296", "createdAt": "2020-09-22T10:17:43Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-cloud-foundry-service-sample/src/main/resources/static/index.html", "diffHunk": "@@ -2,7 +2,7 @@\n <body>\n <div>Demos:</div>\n <ol>\n-    <li><a href='/cosmosdb'>CosmosDB Demo stores a new User record in Azure Cosmos DB.</a></li>\n+    <li><a href='/cosmos'>Cosmos Demo stores a new User record in Azure Cosmos.</a></li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAwMTM1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyMDoyOVrOHVzfUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyMDoyOVrOHVzfUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyNTc0Ng==", "bodyText": "Didn't we change this artifact ID to azure-spring-boot-starter-cosmos?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492625746", "createdAt": "2020-09-22T10:20:29Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/README.md", "diffHunk": "@@ -1,7 +1,7 @@\n # Sample for Azure Cosmos DB Spring Boot client library for Java\n \n ## Key concepts\n-This sample project demonstrates how to use Azure CosmosDB via Spring Boot Starter `azure-cosmosdb-spring-boot-starter` to store data in and retrieve data from your Azure Cosmos DB.\n+This sample project demonstrates how to use Azure Cosmos DB via Spring Boot Starter `azure-cosmos-spring-boot-starter` to store data in and retrieve data from your Azure Cosmos DB.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAxNDEzOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/src/main/java/com/azure/cosmos/CosmosSampleApplication.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNDozMFrOHVznUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNDozMFrOHVznUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyNzc5NA==", "bodyText": "Call it Cosmos DB here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492627794", "createdAt": "2020-09-22T10:24:30Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/src/main/java/com/azure/cosmos/CosmosSampleApplication.java", "diffHunk": "@@ -30,7 +30,7 @@ public static void main(String[] args) {\n     public void run(String... var1) throws Exception {\n         final User testUser = new User(\"testId\", \"testFirstName\", \"testLastName\", \"test address line one\");\n \n-        // Save the User class to Azure CosmosDB database.\n+        // Save the User class to Azure Cosmos database.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAxODUxOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-complete/src/main/java/sample/convert/ConvertSampleApplication.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNTozOVrOHVzpxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNTozOVrOHVzpxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyODQyMw==", "bodyText": "Same here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492628423", "createdAt": "2020-09-22T10:25:39Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-complete/src/main/java/sample/convert/ConvertSampleApplication.java", "diffHunk": "@@ -35,7 +35,7 @@ public void run(String... var1) throws Exception {\n         final User testUser = new User(\"testId\", \"testFirstName\", \"testLastName\",\n                 \"test address line one\");\n \n-        // Save the User class to Azure CosmosDB database.\n+        // Save the User class to Azure Cosmos database.\n         final Mono<User> saveUserMono = repository.save(testUser);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAyMjU1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNzowMFrOHVzsVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMTo1MDo1MVrOHWS0Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyOTA3Ng==", "bodyText": "So this will bring breaking changes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492629076", "createdAt": "2020-09-22T10:27:00Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "diffHunk": "@@ -86,9 +86,9 @@ In this section, you clone a containerized Spring Boot application and test it l\n 1. Replace below properties in `application.properties` with information from your database.\n \n    ```properties\n-   azure.cosmosdb.uri=your-cosmosdb-uri\n-   azure.cosmosdb.key=your-cosmosdb-key\n-   azure.cosmosdb.database=your-cosmosdb-databasename\n+   azure.cosmos.uri=your-cosmos-uri", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEzODk5MQ==", "bodyText": "should change back to azure.cosmosdb.xxx?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493138991", "createdAt": "2020-09-23T01:50:51Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/README.md", "diffHunk": "@@ -86,9 +86,9 @@ In this section, you clone a containerized Spring Boot application and test it l\n 1. Replace below properties in `application.properties` with information from your database.\n \n    ```properties\n-   azure.cosmosdb.uri=your-cosmosdb-uri\n-   azure.cosmosdb.key=your-cosmosdb-key\n-   azure.cosmosdb.database=your-cosmosdb-databasename\n+   azure.cosmos.uri=your-cosmos-uri", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyOTA3Ng=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAyNDE3OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/src/main/java/sample/convert/ConvertSampleApplication.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNzozM1rOHVztQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyNzozM1rOHVztQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyOTMxNA==", "bodyText": "Same here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492629314", "createdAt": "2020-09-22T10:27:33Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/src/main/java/sample/convert/ConvertSampleApplication.java", "diffHunk": "@@ -33,7 +33,7 @@ public void run(String... var1) throws Exception {\n         final User testUser = new User(\"testId\", \"testFirstName\", \"testLastName\",\n             \"test address line one\");\n \n-        // Save the User class to Azure CosmosDB database.\n+        // Save the User class to Azure Cosmos database.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAyNzAzOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyODozMVrOHVzvIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyODozMVrOHVzvIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYyOTc5Mw==", "bodyText": "I prefer databasename here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492629793", "createdAt": "2020-09-22T10:28:31Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/src/main/resources/application.properties", "diffHunk": "@@ -1,3 +1,3 @@\n-azure.cosmosdb.uri=your-cosmosdb-uri\n-azure.cosmosdb.key=your-cosmosdb-key\n-azure.cosmosdb.database=your-cosmosdb-databasename\n+azure.cosmos.uri=your-cosmos-uri\n+azure.cosmos.key=your-cosmos-key\n+azure.cosmos.database=your-cosmos-database-name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAyODQ5OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyOTowMVrOHVzwGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDoyOTowMVrOHVzwGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzMDA0MQ==", "bodyText": "Same here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492630041", "createdAt": "2020-09-22T10:29:01Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -47,19 +47,18 @@\n Open `application.properties` file and add below properties with your Cosmos DB credentials.\n \n ```properties\n-azure.cosmosdb.uri=your-cosmosdb-uri\n-azure.cosmosdb.key=your-cosmosdb-key\n-azure.cosmosdb.database=your-cosmosdb-databasename\n+azure.cosmos.uri=your-cosmos-uri\n+azure.cosmos.key=your-cosmos-key\n+azure.cosmos.database=your-cosmos-database-name\n ```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzAzNjEyOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozMToxMVrOHVz0sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozMToxMVrOHVz0sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzMTIxNg==", "bodyText": "Use DB instead of Db here please.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492631216", "createdAt": "2020-09-22T10:31:11Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -231,11 +230,11 @@ For more information about setting loging in pring, please refer to the [officia\n \n ## Next steps\n \n-Besides using this Azure CosmosDb Spring Boot Starter, you can directly use Spring Data for Azure CosmosDb package for more complex scenarios. Please refer to [Spring Data for Azure CosmosDB](https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/cosmos/azure-spring-data-cosmos) for more details.\n+Besides using this Azure Cosmos DB Spring Boot Starter, you can directly use Spring Data for Azure Cosmos Db package for more complex scenarios. Please refer to [Spring Data for Azure Cosmos DB](https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/cosmos/azure-spring-data-cosmos) for more details.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA0MTM1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-starter/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozMjo1N1rOHVz38w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozMjo1N1rOHVz38w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzMjA1MQ==", "bodyText": "Didn't we change this artifact ID?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492632051", "createdAt": "2020-09-22T10:32:57Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter/README.md", "diffHunk": "@@ -36,7 +36,8 @@ Starter Name | Version for Spring Boot 2.3.x | Version for Spring Boot 2.2.x | V\n [spring-starter-azure-storage](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/spring/azure-spring-starter-storage/README.md) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/spring-starter-azure-storage.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20%20a:spring-starter-azure-storage) | N/A | N/A | N/A\n [azure-keyvault-secrets-spring-boot-starter](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/spring/azure-spring-boot-starter-keyvault-secrets/README.md) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-keyvault-secrets-spring-boot-starter.svg)](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.microsoft.azure%22%20AND%20a%3A%22azure-keyvault-secrets-spring-boot-starter%22) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-keyvault-secrets-spring-boot-starter/2.2.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-keyvault-secrets-spring-boot-starter%20AND%20v:2.2.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-keyvault-secrets-spring-boot-starter/2.1.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-keyvault-secrets-spring-boot-starter%20AND%20v:2.1.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-keyvault-secrets-spring-boot-starter/2.0.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-keyvault-secrets-spring-boot-starter%20AND%20v:2.0.*)\n [azure-active-directory-b2c-spring-boot-starter](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/spring/azure-spring-boot-starter-active-directory-b2c/README.md) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-active-directory-b2c-spring-boot-starter.svg)](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.microsoft.azure%22%20AND%20a%3A%22azure-active-directory-b2c-spring-boot-starter%22) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-active-directory-b2c-spring-boot-starter/2.2.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-active-directory-b2c-spring-boot-starter%20AND%20v:2.2.*) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-active-directory-b2c-spring-boot-starter/2.1.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-active-directory-b2c-spring-boot-starter%20AND%20v:2.1.*) | N/A\n-[azure-cosmosdb-spring-boot-starter](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/spring/azure-spring-boot-starter-cosmosdb/README.md) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter.svg)](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.microsoft.azure%22%20AND%20a%3A%22azure-cosmosdb-spring-boot-starter%22) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.2.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.2.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.1.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.1.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.0.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.0.*)\n+azure-cosmosdb-spring-boot-starter | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter.svg)](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.microsoft.azure%22%20AND%20a%3A%22azure-cosmosdb-spring-boot-starter%22) | [![Maven Central](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.2.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.2.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.1.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.1.*) | [![](https://img.shields.io/maven-central/v/com.microsoft.azure/azure-cosmosdb-spring-boot-starter/2.0.svg)](https://search.maven.org/search?q=g:com.microsoft.azure%20AND%20a:azure-cosmosdb-spring-boot-starter%20AND%20v:2.0.*)\n+[azure-cosmos-spring-boot-starter](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/spring/azure-spring-boot-starter-cosmos/README.md) | N/A | N/A | N/A | N/A", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA1MzIyOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfiguration.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozNjoxNFrOHVz-4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMToyODo1NVrOHWR-BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzMzgyNg==", "bodyText": "We didn't change this package name in this PR?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492633826", "createdAt": "2020-09-22T10:36:14Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,53 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.spring.autoconfigure.cosmos;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEyNTEyNA==", "bodyText": "Jack Wu will change it later.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493125124", "createdAt": "2020-09-23T01:28:55Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,53 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.spring.autoconfigure.cosmos;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzMzgyNg=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA2MDg1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthIndicator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDozODoyOFrOHV0Dag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMTozMTo0MFrOHWSEhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzNDk4Ng==", "bodyText": "Just to double check, is this ID the ID of the database?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492634986", "createdAt": "2020-09-22T10:38:28Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthIndicator.java", "diffHunk": "@@ -21,32 +21,32 @@\n public class CosmosHealthIndicator extends AbstractHealthIndicator {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(CosmosHealthIndicator.class);\n-    @Value(\"${azure.cosmosdb.database}\")\n+    @Value(\"${azure.cosmos.database}\")\n     private String dbName;\n-    @Value(\"${azure.cosmosdb.uri}\")\n+    @Value(\"${azure.cosmos.uri}\")\n     private String uri;\n \n     @Autowired\n     private CosmosClient cosmosClient;\n \n     public CosmosHealthIndicator(CosmosClient cosmosClient) {\n-        super(\"CosmosDB health check failed\");\n+        super(\"Cosmos health check failed\");\n         Assert.notNull(cosmosClient, \"CosmosClient must not be null\");\n         this.cosmosClient = cosmosClient;\n     }\n \n     @Override\n     protected void doHealthCheck(Builder builder) throws Exception {\n-        CosmosDatabaseResponse response = this.cosmosClient.getDatabase(dbName).read().block();\n+        CosmosDatabaseResponse response = this.cosmosClient.getDatabase(dbName).read();\n \n         if (response != null) {\n             LOGGER.info(\"The health indicator cost {} RUs, cosmos uri: {}, dbName: {}\",\n-                response.requestCharge(), uri, dbName);\n+                response.getRequestCharge(), uri, dbName);\n         }\n         if (response == null) {\n             builder.down();\n         } else {\n-            builder.up().withDetail(\"database\", response.database().id());\n+            builder.up().withDetail(\"database\", response.getProperties().getId());\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEyNjc5MA==", "bodyText": "yes,\n    /**\n     * Gets the cosmos database properties\n     *\n     * @return the cosmos database properties\n     */\n    public CosmosDatabaseProperties getProperties() {\n        return super.getProperties();\n    }\n\n    /**\n     * Gets the name of the resource.\n     *\n     * @return the name of the resource.\n     */\n    public String getId() {\n        return this.database.getId();\n    }", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493126790", "createdAt": "2020-09-23T01:31:40Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthIndicator.java", "diffHunk": "@@ -21,32 +21,32 @@\n public class CosmosHealthIndicator extends AbstractHealthIndicator {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(CosmosHealthIndicator.class);\n-    @Value(\"${azure.cosmosdb.database}\")\n+    @Value(\"${azure.cosmos.database}\")\n     private String dbName;\n-    @Value(\"${azure.cosmosdb.uri}\")\n+    @Value(\"${azure.cosmos.uri}\")\n     private String uri;\n \n     @Autowired\n     private CosmosClient cosmosClient;\n \n     public CosmosHealthIndicator(CosmosClient cosmosClient) {\n-        super(\"CosmosDB health check failed\");\n+        super(\"Cosmos health check failed\");\n         Assert.notNull(cosmosClient, \"CosmosClient must not be null\");\n         this.cosmosClient = cosmosClient;\n     }\n \n     @Override\n     protected void doHealthCheck(Builder builder) throws Exception {\n-        CosmosDatabaseResponse response = this.cosmosClient.getDatabase(dbName).read().block();\n+        CosmosDatabaseResponse response = this.cosmosClient.getDatabase(dbName).read();\n \n         if (response != null) {\n             LOGGER.info(\"The health indicator cost {} RUs, cosmos uri: {}, dbName: {}\",\n-                response.requestCharge(), uri, dbName);\n+                response.getRequestCharge(), uri, dbName);\n         }\n         if (response == null) {\n             builder.down();\n         } else {\n-            builder.up().withDetail(\"database\", response.database().id());\n+            builder.up().withDetail(\"database\", response.getProperties().getId());\n         }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzNDk4Ng=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA3MzA1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/samples/java/com/azure/spring/cosmos/CosmosSampleApplication.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo0MjozOFrOHV0K5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo0MjozOFrOHV0K5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzNjkwMA==", "bodyText": "Same here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492636900", "createdAt": "2020-09-22T10:42:38Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/samples/java/com/azure/spring/cosmos/CosmosSampleApplication.java", "diffHunk": "@@ -30,7 +30,7 @@ public static void main(String[] args) {\n     public void run(String... var1) {\n         final User testUser = new User(\"testId\", \"testFirstName\", \"testLastName\", \"test address line one\");\n \n-        // Save the User class to Azure CosmosDB database.\n+        // Save the User class to Azure Cosmos database.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA4MDAzOnYy", "diffSide": "LEFT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosProperties.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo0NDo1M1rOHV0O-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMTozNDoxNVrOHWSKtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzNzk0Ng==", "bodyText": "How do we configure the connection policy now?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492637946", "createdAt": "2020-09-22T10:44:53Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosProperties.java", "diffHunk": "@@ -107,14 +110,6 @@ public void setAllowTelemetry(boolean allowTelemetry) {\n         this.allowTelemetry = allowTelemetry;\n     }\n \n-    public ConnectionPolicy getConnectionPolicy() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEyODM3Mw==", "bodyText": "the default connectionPolicy instance will be created in CosmosClientBuilder.\n    /**\n     * Instantiates a new Cosmos client builder.\n     */\n    public CosmosClientBuilder() {\n        //  Build default connection policy with direct default connection config\n        this.connectionPolicy = new ConnectionPolicy(DirectConnectionConfig.getDefaultConfig());\n        //  Some default values\n        this.userAgentSuffix = \"\";\n        this.throttlingRetryOptions = new ThrottlingRetryOptions();\n    }", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493128373", "createdAt": "2020-09-23T01:34:15Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosProperties.java", "diffHunk": "@@ -107,14 +110,6 @@ public void setAllowTelemetry(boolean allowTelemetry) {\n         this.allowTelemetry = allowTelemetry;\n     }\n \n-    public ConnectionPolicy getConnectionPolicy() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzNzk0Ng=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA4NTIwOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/test/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfigurationTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo0NjozMlrOHV0SIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMTozNjo1OVrOHWSRlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzODc1Mg==", "bodyText": "What's this test for?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492638752", "createdAt": "2020-09-22T10:46:32Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/test/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfigurationTest.java", "diffHunk": "@@ -0,0 +1,50 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.microsoft.azure.spring.autoconfigure.cosmos;\n+\n+\n+import com.azure.cosmos.ThrottlingRetryOptions;\n+import com.azure.cosmos.implementation.ConnectionPolicy;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Ignore;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Ignore\n+public class CosmosAutoConfigurationTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEzMDEzNA==", "bodyText": "it's used for testing properties setting of ConnectionPolicy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493130134", "createdAt": "2020-09-23T01:36:59Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot/src/test/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosAutoConfigurationTest.java", "diffHunk": "@@ -0,0 +1,50 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.microsoft.azure.spring.autoconfigure.cosmos;\n+\n+\n+import com.azure.cosmos.ThrottlingRetryOptions;\n+import com.azure.cosmos.implementation.ConnectionPolicy;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Ignore;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+@Ignore\n+public class CosmosAutoConfigurationTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjYzODc1Mg=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzA5OTg1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosProperties.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo1MToxNVrOHV0bGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo1MToxNVrOHV0bGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY0MTA1MQ==", "bodyText": "How is this credential used now and does it support key rotation?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492641051", "createdAt": "2020-09-22T10:51:15Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosProperties.java", "diffHunk": "@@ -130,4 +125,12 @@ public ResponseDiagnosticsProcessor getResponseDiagnosticsProcessor() {\n     public void setResponseDiagnosticsProcessor(ResponseDiagnosticsProcessor responseDiagnosticsProcessor) {\n         this.responseDiagnosticsProcessor = responseDiagnosticsProcessor;\n     }\n+\n+    public AzureKeyCredential getCredential() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MzEwMjcwOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMDo1MjowNlrOHV0cwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMTo0ODo1OFrOHWSvPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY0MTQ3Mg==", "bodyText": "We should make sure the key rotation is really supported now.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r492641472", "createdAt": "2020-09-22T10:52:06Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -47,19 +47,18 @@\n Open `application.properties` file and add below properties with your Cosmos DB credentials.\n \n ```properties\n-azure.cosmosdb.uri=your-cosmosdb-uri\n-azure.cosmosdb.key=your-cosmosdb-key\n-azure.cosmosdb.database=your-cosmosdb-databasename\n+azure.cosmos.uri=your-cosmos-uri\n+azure.cosmos.key=your-cosmos-key\n+azure.cosmos.database=your-cosmos-database-name\n ```\n \n-Property `azure.cosmosdb.consistency-level` is also supported.\n+Property `azure.cosmos.consistency-level` is also supported.\n \n-Property `azure.cosmosdb.cosmosKeyCredential` is also supported. CosmosKeyCredential feature provides capability to \n-rotate keys on the fly. You can switch keys using switchToSecondaryKey(). For more information on this, see the Sample \n-Application code.\n+Property `azure.cosmos.credential` is also supported. AzureKeyCredential feature provides capability to ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEzNzcyNQ==", "bodyText": "I tested the 2 cases, it's ok to configure only azure.cosmos.key or azure.cosmos.credential, the rotation feature should be supported now, the sample will be found in spring cosmos module.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r493137725", "createdAt": "2020-09-23T01:48:58Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-starter-cosmos/README.md", "diffHunk": "@@ -47,19 +47,18 @@\n Open `application.properties` file and add below properties with your Cosmos DB credentials.\n \n ```properties\n-azure.cosmosdb.uri=your-cosmosdb-uri\n-azure.cosmosdb.key=your-cosmosdb-key\n-azure.cosmosdb.database=your-cosmosdb-databasename\n+azure.cosmos.uri=your-cosmos-uri\n+azure.cosmos.key=your-cosmos-key\n+azure.cosmos.database=your-cosmos-database-name\n ```\n \n-Property `azure.cosmosdb.consistency-level` is also supported.\n+Property `azure.cosmos.consistency-level` is also supported.\n \n-Property `azure.cosmosdb.cosmosKeyCredential` is also supported. CosmosKeyCredential feature provides capability to \n-rotate keys on the fly. You can switch keys using switchToSecondaryKey(). For more information on this, see the Sample \n-Application code.\n+Property `azure.cosmos.credential` is also supported. AzureKeyCredential feature provides capability to ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY0MTQ3Mg=="}, "originalCommit": {"oid": "499f2968c262a1a1c72b4a35fb5962b84eed31c0"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NzAxNjIyOnYy", "diffSide": "LEFT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/src/main/resources/application.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwODoxMjo0MVrOHX5jvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwODoxNjoyNFrOHX5ruQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyMjMzMg==", "bodyText": "Are we leaking the master key to a cosmos db here? Did we delete this db yet?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r494822332", "createdAt": "2020-09-25T08:12:41Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,4 @@\n-azure.cosmos.uri=https://moary-cosmos.documents.azure.com:443/\n-azure.cosmos.key=vH8l57SbpwOC3inYs060kdTBS8G0PrrlpgaVhL6nGe3HBi31ZdKxMoAD7rd4wPYtSaO3viIxGerzuenraQOtmQ==", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67a2d9dac089238710d5d3c26ccfb9f5a37e2f9a"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyNDM3Nw==", "bodyText": "sorry, deleted.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r494824377", "createdAt": "2020-09-25T08:16:24Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmos/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,4 @@\n-azure.cosmos.uri=https://moary-cosmos.documents.azure.com:443/\n-azure.cosmos.key=vH8l57SbpwOC3inYs060kdTBS8G0PrrlpgaVhL6nGe3HBi31ZdKxMoAD7rd4wPYtSaO3viIxGerzuenraQOtmQ==", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyMjMzMg=="}, "originalCommit": {"oid": "67a2d9dac089238710d5d3c26ccfb9f5a37e2f9a"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NzAxNzg1OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwODoxMzoxNFrOHX5kyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwODoyMTo0OFrOHX53Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyMjYwMg==", "bodyText": "Why do we change to use async client instead?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r494822602", "createdAt": "2020-09-25T08:13:14Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthConfiguration.java", "diffHunk": "@@ -16,15 +16,15 @@\n  * CosmosHealthConfiguration\n  */\n @Configuration\n-@ConditionalOnClass({ CosmosClient.class, HealthIndicator.class})\n+@ConditionalOnClass({ CosmosAsyncClient.class, HealthIndicator.class})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67a2d9dac089238710d5d3c26ccfb9f5a37e2f9a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyNzI5NQ==", "bodyText": "there's a new bean cosmosAsyncClient instead of cosmosClient in AbstractCosmosConfiguration class, just follow the spring-cosmos.\n    /**\n     * Declare CosmosAsyncClient bean.\n     *\n     * @param cosmosClientBuilder cosmosClientBuilder\n     * @return CosmosAsyncClient bean\n     */\n    @Bean\n    public CosmosAsyncClient cosmosAsyncClient(CosmosClientBuilder cosmosClientBuilder) {\n        return CosmosFactory.createCosmosAsyncClient(cosmosClientBuilder);\n    }", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15434#discussion_r494827295", "createdAt": "2020-09-25T08:21:48Z", "author": {"login": "moarychan"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/cosmos/CosmosHealthConfiguration.java", "diffHunk": "@@ -16,15 +16,15 @@\n  * CosmosHealthConfiguration\n  */\n @Configuration\n-@ConditionalOnClass({ CosmosClient.class, HealthIndicator.class})\n+@ConditionalOnClass({ CosmosAsyncClient.class, HealthIndicator.class})", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgyMjYwMg=="}, "originalCommit": {"oid": "67a2d9dac089238710d5d3c26ccfb9f5a37e2f9a"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1000, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}