{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MzE0OTc2", "number": 11501, "title": "Cosmos: *Properties related code and doc changes", "bodyText": "Implement changes captured in #11483\n\nUpdate documentation for getting the request charges of a Cosmos operation.\nUpdate getResourceId() to be package private (it was public).\nUpdate *Properties for Cosmos scripts to package private; add constructor that takes id and body. Update respective tests.", "createdAt": "2020-05-28T07:56:46Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501", "merged": true, "mergeCommit": {"oid": "4b7307aa89c88311b822c454bb76f1d0b043cbc9"}, "closed": true, "closedAt": "2020-05-29T15:59:12Z", "author": {"login": "milismsft"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcln14lAH2gAyNDI0MzE0OTc2OmRkZDIzNzQ1NGYwNDU5ZTk0NTQ1ZTU0OWViNDRjZjJiNjEyMWE5ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmEoWjAFqTQyMTA4NDc3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ddd237454f0459e94545e549eb44cf2b6121a985", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ddd237454f0459e94545e549eb44cf2b6121a985", "committedDate": "2020-05-28T06:26:26Z", "message": "Update documentation for getting the request charges of a Cosmos operation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "585c227ce5d3b939d94449fe6bfc28e4552130cc", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/585c227ce5d3b939d94449fe6bfc28e4552130cc", "committedDate": "2020-05-28T07:51:42Z", "message": "Update getResourceId() to be package private (it was public).\nUpdate *Properties for Cosmos scripts to package private; add constructor that takes id and body. Update respective tests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjQ4NDc2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#pullrequestreview-420248476", "createdAt": "2020-05-28T15:46:21Z", "commit": {"oid": "585c227ce5d3b939d94449fe6bfc28e4552130cc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNTo0NjoyMVrOGb7eLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNTo0NjoyMVrOGb7eLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkzOTExOA==", "bodyText": "We are replacing getResourceId() -> with getId()\nCan you please make sure these tests pass ?\nHere and everywhere else in your changes ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#discussion_r431939118", "createdAt": "2020-05-28T15:46:21Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/UserQueryTest.java", "diffHunk": "@@ -86,7 +86,7 @@ public void queryAllUsers() throws Exception {\n \n         FeedResponseListValidator<CosmosUserProperties> validator = new FeedResponseListValidator.Builder<CosmosUserProperties>()\n                 .totalSize(expectedUsers.size())\n-                .exactlyContainsInAnyOrder(expectedUsers.stream().map(d -> d.getResourceId()).collect(Collectors.toList()))\n+                .exactlyContainsInAnyOrder(expectedUsers.stream().map(CosmosUserProperties::getId).collect(Collectors.toList()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "585c227ce5d3b939d94449fe6bfc28e4552130cc"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjUzNTEy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#pullrequestreview-420253512", "createdAt": "2020-05-28T15:51:24Z", "commit": {"oid": "585c227ce5d3b939d94449fe6bfc28e4552130cc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNTo1MToyNFrOGb7rww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNTo1MToyNFrOGb7rww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk0MjU5NQ==", "bodyText": "Please don't replace this in the tests. ResourceId is a unique value, however id may not necessary be unique.\nTo access package private getResource you can use BridgeInternal if needed. please roll back these changes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#discussion_r431942595", "createdAt": "2020-05-28T15:51:24Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/UserQueryTest.java", "diffHunk": "@@ -86,7 +86,7 @@ public void queryAllUsers() throws Exception {\n \n         FeedResponseListValidator<CosmosUserProperties> validator = new FeedResponseListValidator.Builder<CosmosUserProperties>()\n                 .totalSize(expectedUsers.size())\n-                .exactlyContainsInAnyOrder(expectedUsers.stream().map(d -> d.getResourceId()).collect(Collectors.toList()))\n+                .exactlyContainsInAnyOrder(expectedUsers.stream().map(CosmosUserProperties::getId).collect(Collectors.toList()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkzOTExOA=="}, "originalCommit": {"oid": "585c227ce5d3b939d94449fe6bfc28e4552130cc"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "111d538104ff64529d796b8b00f1a1723ff09711", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/111d538104ff64529d796b8b00f1a1723ff09711", "committedDate": "2020-05-28T18:57:57Z", "message": "Fix test validation; replace exactlyContainsInAnyOrder() call with containsExactlyIds().\nThe respective resoures are not partitioned resources (users, container scripts), and therefore we do not need to validate against the RID of them."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNDA0MjU4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#pullrequestreview-420404258", "createdAt": "2020-05-28T19:02:18Z", "commit": {"oid": "111d538104ff64529d796b8b00f1a1723ff09711"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc282d6e1a72e0c9f2f9badc266eee1af14cdb9d", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cc282d6e1a72e0c9f2f9badc266eee1af14cdb9d", "committedDate": "2020-05-28T19:07:22Z", "message": "missed one refactoring for the test changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10dfff4e5917000eb93dcab7f0c6b6c487ea6995", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/10dfff4e5917000eb93dcab7f0c6b6c487ea6995", "committedDate": "2020-05-28T20:32:11Z", "message": "Merge branch 'master' into milismsft-doc-updates2\n\n# Conflicts:\n#\tsdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/UserDefinedFunctionCrudTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b33f2311c3d04d450b80c71213cf29c66fcece39", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b33f2311c3d04d450b80c71213cf29c66fcece39", "committedDate": "2020-05-29T02:00:16Z", "message": "Added new validator, exactlyContainsIdsInAnyOrder() and this to check results instead of exactlyContainsInAnyOrder() or containsExactlyIds() which also check the order of the IDs in addition to the exact content."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMDg0Nzcz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11501#pullrequestreview-421084773", "createdAt": "2020-05-29T15:58:54Z", "commit": {"oid": "b33f2311c3d04d450b80c71213cf29c66fcece39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3983, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}