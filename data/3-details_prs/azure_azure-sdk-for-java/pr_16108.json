{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNDE0MTUw", "number": 16108, "title": "mgmt, support enable/disable secret", "bodyText": "support enable/disable secret", "createdAt": "2020-10-09T07:51:40Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108", "merged": true, "mergeCommit": {"oid": "669c85cc107b640af604c68367149d669a7b370e"}, "closed": true, "closedAt": "2020-10-13T06:17:03Z", "author": {"login": "weidongxu-microsoft"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQxXKIAH2gAyNTAwNDE0MTUwOjc0ZTBjNjViMTg0YzVmZGUyODNlMjBhNjY5MmUyMTZkNjUwMzMyMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSB5fFAFqTUwNzA4MzAzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "74e0c65b184c5fde283e20a6692e216d65033231", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/74e0c65b184c5fde283e20a6692e216d65033231", "committedDate": "2020-10-09T07:50:40Z", "message": "support enable/disable secret"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0e5b543bc5df58a5e5ce5c5dc390a5ad37ee462", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e0e5b543bc5df58a5e5ce5c5dc390a5ad37ee462", "committedDate": "2020-10-09T07:52:41Z", "message": "revert pom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1c0f4e6b6eb99e2227e15f15d826d729cb9f170", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d1c0f4e6b6eb99e2227e15f15d826d729cb9f170", "committedDate": "2020-10-09T07:52:51Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e0915a68f8dd6fdd8b975ddeb6685bf3fc44e13", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5e0915a68f8dd6fdd8b975ddeb6685bf3fc44e13", "committedDate": "2020-10-09T08:01:42Z", "message": "fix for getById on KeysImpl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85a772b8163a4cce53689c2e03754535349c331b", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/85a772b8163a4cce53689c2e03754535349c331b", "committedDate": "2020-10-09T09:19:10Z", "message": "use PagedFlux"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40056f1f13ee1ea08c4383216694cfce50a91d4e", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/40056f1f13ee1ea08c4383216694cfce50a91d4e", "committedDate": "2020-10-09T09:19:26Z", "message": "fix spotbugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzkzMjk0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108#pullrequestreview-506393294", "createdAt": "2020-10-12T08:18:18Z", "commit": {"oid": "40056f1f13ee1ea08c4383216694cfce50a91d4e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODoxODoxOFrOHfz3rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODoxODo1OVrOHfz5SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzExNzc0MA==", "bodyText": "Is it better use something like makeSecretEnabledOrDisabled? Not just named with enable", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108#discussion_r503117740", "createdAt": "2020-10-12T08:18:18Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-keyvault/src/main/java/com/azure/resourcemanager/keyvault/implementation/SecretsImpl.java", "diffHunk": "@@ -110,7 +123,51 @@ public Secret getByNameAndVersion(String name, String version) {\n \n     @Override\n     public Mono<Secret> getByNameAndVersionAsync(final String name, final String version) {\n-        return inner.getSecret(name, version).map(this::wrapModel);\n+        Objects.requireNonNull(name);\n+        return (version == null ? inner.getSecret(name) : inner.getSecret(name, version)).map(this::wrapModel);\n+    }\n+\n+    @Override\n+    public Secret enableByNameAndVersion(String name, String version) {\n+        return enableByNameAndVersionAsync(name, version).block();\n+    }\n+\n+    @Override\n+    public Mono<Secret> enableByNameAndVersionAsync(String name, String version) {\n+        Objects.requireNonNull(name);\n+        return enableByNameAndVersionAsync(name, version, true);\n+    }\n+\n+    @Override\n+    public void disableByNameAndVersion(String name, String version) {\n+        disableByNameAndVersionAsync(name, version).block();\n+    }\n+\n+    @Override\n+    public Mono<Void> disableByNameAndVersionAsync(String name, String version) {\n+        Objects.requireNonNull(name);\n+        return enableByNameAndVersionAsync(name, version, false).then();\n+    }\n+\n+    private Mono<Secret> enableByNameAndVersionAsync(String name, String version, boolean enabled) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40056f1f13ee1ea08c4383216694cfce50a91d4e"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzExODE1Mg==", "bodyText": "Is it any other way rather than using such a mock ID?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108#discussion_r503118152", "createdAt": "2020-10-12T08:18:59Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-keyvault/src/main/java/com/azure/resourcemanager/keyvault/implementation/SecretsImpl.java", "diffHunk": "@@ -110,7 +123,51 @@ public Secret getByNameAndVersion(String name, String version) {\n \n     @Override\n     public Mono<Secret> getByNameAndVersionAsync(final String name, final String version) {\n-        return inner.getSecret(name, version).map(this::wrapModel);\n+        Objects.requireNonNull(name);\n+        return (version == null ? inner.getSecret(name) : inner.getSecret(name, version)).map(this::wrapModel);\n+    }\n+\n+    @Override\n+    public Secret enableByNameAndVersion(String name, String version) {\n+        return enableByNameAndVersionAsync(name, version).block();\n+    }\n+\n+    @Override\n+    public Mono<Secret> enableByNameAndVersionAsync(String name, String version) {\n+        Objects.requireNonNull(name);\n+        return enableByNameAndVersionAsync(name, version, true);\n+    }\n+\n+    @Override\n+    public void disableByNameAndVersion(String name, String version) {\n+        disableByNameAndVersionAsync(name, version).block();\n+    }\n+\n+    @Override\n+    public Mono<Void> disableByNameAndVersionAsync(String name, String version) {\n+        Objects.requireNonNull(name);\n+        return enableByNameAndVersionAsync(name, version, false).then();\n+    }\n+\n+    private Mono<Secret> enableByNameAndVersionAsync(String name, String version, boolean enabled) {\n+        try {\n+            String mockId = \"https://foo.vault.azure.net/secrets/\" + name;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40056f1f13ee1ea08c4383216694cfce50a91d4e"}, "originalPosition": 78}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "422509b3a1a1391bf2492ea1797d67ab543b0b82", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/422509b3a1a1391bf2492ea1797d67ab543b0b82", "committedDate": "2020-10-13T02:42:24Z", "message": "Merge branch 'master' into mgmt_keyvault-secret-disable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c57e6aa85f029c439fb684780aac438031bbacef", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c57e6aa85f029c439fb684780aac438031bbacef", "committedDate": "2020-10-13T02:43:04Z", "message": "add exclude netty in pom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecfe7c2e7e448965652e978d170a7c33c32fe35e", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ecfe7c2e7e448965652e978d170a7c33c32fe35e", "committedDate": "2020-10-13T04:03:01Z", "message": "rename to updateSecretEnableDisableAsync"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MDgxMTYw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108#pullrequestreview-507081160", "createdAt": "2020-10-13T05:35:26Z", "commit": {"oid": "ecfe7c2e7e448965652e978d170a7c33c32fe35e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MDgzMDM2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16108#pullrequestreview-507083036", "createdAt": "2020-10-13T05:40:34Z", "commit": {"oid": "ecfe7c2e7e448965652e978d170a7c33c32fe35e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2213, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}