{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMjE4NzIx", "number": 17971, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMzoxODoxMVrOFCtT8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQyMTozODoyNFrOFTSyUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MzgzODU2OnYy", "diffSide": "RIGHT", "path": "eng/scripts/Language-Settings.ps1", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMzoxODoxMVrOICAZSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMzoxODoxMVrOICAZSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk3NDUzOA==", "bodyText": "Lets put { on its own line for the functions.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r538974538", "createdAt": "2020-12-09T03:18:11Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -216,3 +216,31 @@ function Update-java-CIConfig($pkgs, $ciRepo, $locationInDocRepo, $monikerId=$nu\n \n   Set-Content -Path $pkgJsonLoc -Value $jsonContent\n }\n+\n+function GetExistingPackageVersions ($PackageName, $GroupId=$null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c58bc8da654176c77206304d70082f90004f2834"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MzgzOTcwOnYy", "diffSide": "RIGHT", "path": "eng/scripts/Language-Settings.ps1", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMzoxODo0MlrOICAZ6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQwMzozODowOFrOIEZ93g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk3NDY5OA==", "bodyText": "Do we need to install any python dependencies to call these scripts?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r538974698", "createdAt": "2020-12-09T03:18:42Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -216,3 +216,31 @@ function Update-java-CIConfig($pkgs, $ciRepo, $locationInDocRepo, $monikerId=$nu\n \n   Set-Content -Path $pkgJsonLoc -Value $jsonContent\n }\n+\n+function GetExistingPackageVersions ($PackageName, $GroupId=$null) {\n+  try {\n+    $Uri = 'https://search.maven.org/solrsearch/select?q=g:\"' + $GroupId + '\"+AND+a:\"' + $PackageName +'\"&core=gav&rows=20&wt=json'\n+    $existingVersion = Invoke-RestMethod -Method GET -Uri $Uri\n+    return $existingVersion.response.docs.v\n+  }\n+  catch {\n+    LogError \"Failed to retieve package versions. `n$_\"\n+    return $null\n+  }\n+}\n+\n+function SetPackageVersion ($PackageName, $Version, $ServiceDirectory, $ReleaseDate, $BuildType, $GroupId) {\n+  if($null -eq $ReleaseDate)\n+  {\n+    $ReleaseDate = Get-Date -Format \"yyyy-MM-dd\"\n+  }\n+  python \"$EngDir/versioning/set_versions.py\" --build-type $BuildType --new-version $Version --ai $PackageName --gi $GroupId", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c58bc8da654176c77206304d70082f90004f2834"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTQ5MDY1NA==", "bodyText": "Aside from python, no other dependency is required.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r541490654", "createdAt": "2020-12-12T03:38:08Z", "author": {"login": "chidozieononiwu"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -216,3 +216,31 @@ function Update-java-CIConfig($pkgs, $ciRepo, $locationInDocRepo, $monikerId=$nu\n \n   Set-Content -Path $pkgJsonLoc -Value $jsonContent\n }\n+\n+function GetExistingPackageVersions ($PackageName, $GroupId=$null) {\n+  try {\n+    $Uri = 'https://search.maven.org/solrsearch/select?q=g:\"' + $GroupId + '\"+AND+a:\"' + $PackageName +'\"&core=gav&rows=20&wt=json'\n+    $existingVersion = Invoke-RestMethod -Method GET -Uri $Uri\n+    return $existingVersion.response.docs.v\n+  }\n+  catch {\n+    LogError \"Failed to retieve package versions. `n$_\"\n+    return $null\n+  }\n+}\n+\n+function SetPackageVersion ($PackageName, $Version, $ServiceDirectory, $ReleaseDate, $BuildType, $GroupId) {\n+  if($null -eq $ReleaseDate)\n+  {\n+    $ReleaseDate = Get-Date -Format \"yyyy-MM-dd\"\n+  }\n+  python \"$EngDir/versioning/set_versions.py\" --build-type $BuildType --new-version $Version --ai $PackageName --gi $GroupId", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk3NDY5OA=="}, "originalCommit": {"oid": "c58bc8da654176c77206304d70082f90004f2834"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NDQ1NjU0OnYy", "diffSide": "RIGHT", "path": "eng/scripts/Language-Settings.ps1", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMjo0ODo0N1rOIDg1jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMjo0ODo0N1rOIDg1jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU1NDYzOA==", "bodyText": "retieve -> retrieve", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r540554638", "createdAt": "2020-12-10T22:48:47Z", "author": {"login": "samvaity"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -216,3 +217,31 @@ function Update-java-CIConfig($pkgs, $ciRepo, $locationInDocRepo, $monikerId=$nu\n \n   Set-Content -Path $pkgJsonLoc -Value $jsonContent\n }\n+\n+function GetExistingPackageVersions ($PackageName, $GroupId=$null) {\n+  try {\n+    $Uri = 'https://search.maven.org/solrsearch/select?q=g:\"' + $GroupId + '\"+AND+a:\"' + $PackageName +'\"&core=gav&rows=20&wt=json'\n+    $existingVersion = Invoke-RestMethod -Method GET -Uri $Uri\n+    return $existingVersion.response.docs.v\n+  }\n+  catch {\n+    LogError \"Failed to retieve package versions. `n$_\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66cf77a0faa602298ef5d07a8424d9b2062b8f73"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NTM4OTMxOnYy", "diffSide": "RIGHT", "path": "eng/scripts/Language-Settings.ps1", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQyMTowMTo1NVrOIOnIgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQyMTowMTo1NVrOIOnIgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjE5MjEyOQ==", "bodyText": "Should we do this as a function similar to how you are doing the install notes? That will give it the most flexibility.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r552192129", "createdAt": "2021-01-05T21:01:55Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -3,6 +3,7 @@ $PackageRepository = \"Maven\"\n $packagePattern = \"*.pom\"\n $MetadataUri = \"https://raw.githubusercontent.com/Azure/azure-sdk/master/_data/releases/latest/java-packages.csv\"\n $BlobStorageUrl = \"https://azuresdkdocs.blob.core.windows.net/%24web?restype=container&comp=list&prefix=java%2F&delimiter=%2F\"\n+$PACKAGE_INSTALL_NOTES_REGEX = \"<artifactId>(?<PackageName>.*)<\\/artifactId>\\r\\n\\s+<version>(?<Version>.*)<\\/version>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01ba6fc3c46a1b34957ef968e056f65e1d1ec007"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU1Nzc1MDU4OnYy", "diffSide": "RIGHT", "path": "eng/scripts/Language-Settings.ps1", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQyMTozODoyNFrOIarw_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQyMTozODoyNFrOIarw_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDg1MDk0MQ==", "bodyText": "nit remove extra spacing.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17971#discussion_r564850941", "createdAt": "2021-01-26T21:38:24Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/Language-Settings.ps1", "diffHunk": "@@ -256,3 +256,16 @@ function SetPackageVersion ($PackageName, $Version, $ServiceDirectory, $ReleaseD\n   & \"$EngCommonScriptsDir/Update-ChangeLog.ps1\" -Version $Version -ServiceDirectory $ServiceDirectory -PackageName $PackageName `\n   -Unreleased $False -ReplaceLatestEntryTitle $True -ReleaseDate $ReleaseDate\n }\n+\n+  function GetExistingPackageVersions ($PackageName, $GroupId=$null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7985b491a6384e1ef94cc40c005d8ae543757f31"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2639, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}