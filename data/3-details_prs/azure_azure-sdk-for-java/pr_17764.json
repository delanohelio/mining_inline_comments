{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MDE1Njk2", "number": 17764, "title": "Added support for client options in blobs", "bodyText": "Resolves #15118", "createdAt": "2020-11-23T21:46:53Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764", "merged": true, "mergeCommit": {"oid": "bacf6cbd5e1d095c9a2d9c527f91a6e7bb16146a"}, "closed": true, "closedAt": "2020-12-02T17:27:48Z", "author": {"login": "gapra-msft"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfcSRLgH2gAyNTI2MDE1Njk2OjhlOWJhZGU2YWZjYWZmMDMzZWRjZTY0NDVlMmJhODM4ZjVkMmVkNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiR8fTgFqTU0MzA2OTcwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8e9bade6afcaff033edce6445e2ba838f5d2ed60", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8e9bade6afcaff033edce6445e2ba838f5d2ed60", "committedDate": "2020-11-23T21:46:11Z", "message": "Added support for client options in blobs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ced733c59325cbb69c2a603c133ff43ead86c8de", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ced733c59325cbb69c2a603c133ff43ead86c8de", "committedDate": "2020-11-23T21:58:55Z", "message": "Added client options to blob cryptography"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05ea98a9f17fbb2355d3deeb6a494d2b148b0d30", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/05ea98a9f17fbb2355d3deeb6a494d2b148b0d30", "committedDate": "2020-11-24T00:27:30Z", "message": "Added to datalake and share"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "009234966fddb6de3732e78b484f95729a9cb095", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/009234966fddb6de3732e78b484f95729a9cb095", "committedDate": "2020-11-24T00:39:43Z", "message": "Added to queue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "111e614d243d85a0fee96d9779d151fef2eb9dc4", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/111e614d243d85a0fee96d9779d151fef2eb9dc4", "committedDate": "2020-11-24T17:56:49Z", "message": "Analyze step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODI1MjIy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764#pullrequestreview-537825222", "createdAt": "2020-11-24T19:10:29Z", "commit": {"oid": "111e614d243d85a0fee96d9779d151fef2eb9dc4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc338be4c1407c4a3b9cdd77befcf6e6783600da", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc338be4c1407c4a3b9cdd77befcf6e6783600da", "committedDate": "2020-11-24T19:39:31Z", "message": "Fixed analyze"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9f7a3d201969c95ff6394b4762924c6e2c5f567", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e9f7a3d201969c95ff6394b4762924c6e2c5f567", "committedDate": "2020-11-24T19:41:10Z", "message": "Added changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7bb02d6e4170251f4e22b03cfb5029866708423", "author": {"user": {"login": "gapra-msft", "name": "Gauri Prasad"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7bb02d6e4170251f4e22b03cfb5029866708423", "committedDate": "2020-11-24T21:33:56Z", "message": "Merge branch 'master' into storage/applicationId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4ODMyMzM0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764#pullrequestreview-538832334", "createdAt": "2020-11-25T20:39:09Z", "commit": {"oid": "f7bb02d6e4170251f4e22b03cfb5029866708423"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMDozOTowOVrOH6DMFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMDo0MDoyMlrOH6DOJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYzMTcwMA==", "bodyText": "In other SDKs I've gone with allowing ClientOptions to be null with having a static default instance when null is passed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764#discussion_r530631700", "createdAt": "2020-11-25T20:39:09Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-cryptography/src/main/java/com/azure/storage/blob/specialized/cryptography/EncryptedBlobClientBuilder.java", "diffHunk": "@@ -536,6 +549,18 @@ public EncryptedBlobClientBuilder pipeline(HttpPipeline httpPipeline) {\n         return this;\n     }\n \n+    /**\n+     * Sets the client options for all the requests made through the client.\n+     *\n+     * @param clientOptions {@link ClientOptions}.\n+     * @return the updated EncryptedBlobClientBuilder object\n+     * @throws NullPointerException If {@code clientOptions} is {@code null}.\n+     */\n+    public EncryptedBlobClientBuilder clientOptions(ClientOptions clientOptions) {\n+        this.clientOptions = Objects.requireNonNull(clientOptions, \"'clientOptions' cannot be null.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7bb02d6e4170251f4e22b03cfb5029866708423"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYzMjIyOQ==", "bodyText": "I would agree with this assessment, it would be possible to add x-ms-* or other headers involved in the string to sign.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764#discussion_r530632229", "createdAt": "2020-11-25T20:40:22Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-cryptography/src/main/java/com/azure/storage/blob/specialized/cryptography/EncryptedBlobClientBuilder.java", "diffHunk": "@@ -202,6 +207,14 @@ private HttpPipeline getHttpPipeline() {\n \n         policies.add(new AddDatePolicy());\n \n+        // We need to place this policy right before the credential policy since headers may affect the string to sign", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7bb02d6e4170251f4e22b03cfb5029866708423"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80f90c0b4de486b405e377925c99cf1223b86cf", "author": {"user": {"login": "gapra-msft", "name": "Gauri Prasad"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f80f90c0b4de486b405e377925c99cf1223b86cf", "committedDate": "2020-11-30T19:41:57Z", "message": "Merge branch 'master' into storage/applicationId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a21352da5ee74b071ac17dd54c94cb66219cff0", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a21352da5ee74b071ac17dd54c94cb66219cff0", "committedDate": "2020-12-01T22:47:16Z", "message": "Version for analyze step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMDY5NzAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17764#pullrequestreview-543069700", "createdAt": "2020-12-02T17:25:07Z", "commit": {"oid": "2a21352da5ee74b071ac17dd54c94cb66219cff0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1663, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}