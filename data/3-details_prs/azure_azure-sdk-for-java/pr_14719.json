{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NTQ4MjMz", "number": 14719, "title": "[TA] Add redactedText to PiiEntityCollection", "bodyText": "fixes: #13938", "createdAt": "2020-09-02T03:45:55Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719", "merged": true, "mergeCommit": {"oid": "9b68a4619c42a9265a35f8aaa9eac0cc70208d15"}, "closed": true, "closedAt": "2020-09-02T20:53:50Z", "author": {"login": "mssfang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEzqbZAH2gAyNDc3NTQ4MjMzOmQ5YzY2N2E1Y2M1YmVmNzUxMDIxZmM4MGM3NTU5ODc4NzFiYTEyMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFAtllgFqTQ4MTE3Njk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d9c667a5cc5bef751021fc80c755987871ba1201", "committedDate": "2020-09-02T03:44:26Z", "message": "add redactedText to PiiEntityCollection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODQyMTI1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-480842125", "createdAt": "2020-09-02T13:52:49Z", "commit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1Mjo0OVrOHLwNCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1Mjo0OVrOHLwNCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA4NjE1NQ==", "bodyText": "Curious why this was needed?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#discussion_r482086155", "createdAt": "2020-09-02T13:52:49Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/pom.xml", "diffHunk": "@@ -114,7 +114,7 @@\n             <configuration>\n               <argLine>\n                 --add-opens com.azure.ai.textanalytics/com.azure.ai.textanalytics=ALL-UNNAMED\n-                --add-opens com.azure.ai.textanalytics/com.azure.ai.textanalytics.implementation.models=com.azure.core\n+                --add-exports com.azure.core/com.azure.core.implementation.http=ALL-UNNAMED", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODQzMzY0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-480843364", "createdAt": "2020-09-02T13:54:05Z", "commit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODQ5MjUw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-480849250", "createdAt": "2020-09-02T13:59:42Z", "commit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1OTo0MlrOHLwh_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1OTo0MlrOHLwh_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA5MTUxNg==", "bodyText": "Just realized, PII is new to the customer and it comes back only in our 5.1.0-beta.1 version, so we shouldn't include this line int he changelog as for the user, there wasn't any PiiEntityCollection property before", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#discussion_r482091516", "createdAt": "2020-09-02T13:59:42Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -11,6 +11,8 @@\n - Added support for the Opinion Mining feature. To use this feature, you need to make sure you are using the \n service's v3.1-preview.1 and above API. To get this support pass `includeOpinionMining` as `true` in \n `AnalyzeSentimentOptions` when calling the sentiment analysis endpoints.\n+- In API version v3.1-preview.2 and up, the redacted text of the document is returned on the result ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODUwMTky", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-480850192", "createdAt": "2020-09-02T14:00:38Z", "commit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDowMDozOFrOHLwk2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDowMDozOFrOHLwk2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA5MjI1MA==", "bodyText": "Same with all the comments. Not need to say that it will only be returned for API v3.1-preview.2 if in reality it will only be included in out 5.1.0-beta.1  library.\nI suggest removing it", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#discussion_r482092250", "createdAt": "2020-09-02T14:00:38Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntityCollection.java", "diffHunk": "@@ -11,17 +11,21 @@\n  */\n @Immutable\n public final class PiiEntityCollection extends IterableStream<PiiEntity> {\n-\n+    private final String redactedText;\n     private final IterableStream<TextAnalyticsWarning> warnings;\n \n     /**\n      * Creates a {@link PiiEntityCollection} model that describes a entities collection including warnings.\n      *\n      * @param entities An {@link IterableStream} of {@link PiiEntity Personally Identifiable Information entities}.\n+     * @param redactedText The text of the input document with all of the PII information redacted out. Only returned\n+     * for API version v3.1-preview.2 and up.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c667a5cc5bef751021fc80c755987871ba1201"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/81ec14485e8108213bbf8cc978b223bbd5b223ee", "committedDate": "2020-09-02T16:23:29Z", "message": "remove unneccessary text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMDI4NjEz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-481028613", "createdAt": "2020-09-02T17:06:55Z", "commit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTU4MjAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-481158200", "createdAt": "2020-09-02T18:29:53Z", "commit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTc2Mzc4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-481176378", "createdAt": "2020-09-02T18:55:52Z", "commit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTc2OTY5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#pullrequestreview-481176969", "createdAt": "2020-09-02T18:56:39Z", "commit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1NjozOVrOHL9xpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1NjozOVrOHL9xpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwODUxNw==", "bodyText": "Should we also add this change to the changelog?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14719#discussion_r482308517", "createdAt": "2020-09-02T18:56:39Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -82,6 +82,7 @@\n                             throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81ec14485e8108213bbf8cc978b223bbd5b223ee"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 59, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}