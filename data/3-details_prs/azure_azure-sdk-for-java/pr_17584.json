{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwOTExMTEx", "number": 17584, "title": "Add From Source Test Run to Live Tests", "bodyText": "Fixes #14918\nThis PR adds a From Source test run to live test runs. Adding the live test run adds parity to the live testing as we have with PR testing.", "createdAt": "2020-11-14T00:11:11Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17584", "merged": true, "mergeCommit": {"oid": "b31839da97cebc7ee990b5e968e1c2ea9cfa1df9"}, "closed": true, "closedAt": "2020-11-19T17:33:58Z", "author": {"login": "alzimmermsft"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcQW1MAH2gAyNTIwOTExMTExOmE1NWIwZDBjOGIzZjcyOTVhMjc2MjFhZWQyMjEyMTRjZTJlZDQ2Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdd2aHJAFqTUzMzk1MzM2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a55b0d0c8b3f7295a27621aed221214ce2ed4638", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a55b0d0c8b3f7295a27621aed221214ce2ed4638", "committedDate": "2020-11-14T00:10:32Z", "message": "Add From Source test run to live tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7ce1f1f751488925e1b1fe7a2f9981acfad2f00", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c7ce1f1f751488925e1b1fe7a2f9981acfad2f00", "committedDate": "2020-11-14T00:12:49Z", "message": "Add From Source to matrix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTUzMDM1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17584#pullrequestreview-533953035", "createdAt": "2020-11-18T23:03:43Z", "commit": {"oid": "c7ce1f1f751488925e1b1fe7a2f9981acfad2f00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMzo0M1rOH2F4sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMzowMzo0M1rOH2F4sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ4MTU4Nw==", "bodyText": "Was this broken before?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17584#discussion_r526481587", "createdAt": "2020-11-18T23:03:43Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-tests.yml", "diffHunk": "@@ -103,16 +109,36 @@ jobs:\n         parameters:\n           Artifacts: ${{parameters.Artifacts}}\n           AdditionalModules: ${{parameters.AdditionalModules}}\n+      \n+      - task: UsePythonVersion@0\n+        displayName: 'Use Python 3.6'\n+        inputs:\n+          versionSpec: '3.6'\n+        condition: and(succeeded(), eq(variables['TestFromSource'],'true'))\n+\n+      - task: PythonScript@0\n+        displayName: 'Set versions for source build'\n+        inputs:\n+          scriptPath: 'eng/versioning/set_versions.py'\n+          arguments: '--build-type client --pst'\n+        condition: and(succeeded(), eq(variables['TestFromSource'],'true'))\n+\n+      - task: PythonScript@0\n+        displayName: 'Update versions for source build'\n+        inputs:\n+          scriptPath: 'eng/versioning/update_versions.py'\n+          arguments: '--update-type library --build-type client --sr'\n+        condition: and(succeeded(), eq(variables['ShouldRunSourceTests'],'true'))\n \n       - task: Maven@3\n-        displayName: 'Build and Install, JDK Version: $(JavaBuildVersion)'\n+        displayName: 'Build and Install, JDK Version: $(JavaTestVersion)'\n         inputs:\n           mavenPomFile: pom.xml\n           goals: 'install'\n-          options: '$(DefaultOptions) -DskipTests -Dgpg.skip -Dmaven.javadoc.skip=true -Dcheckstyle.skip=true -Dspotbugs.skip=true -Drevapi.skip=true -pl $(ProjectList) -am'\n+          options: '$(DefaultOptions) -T 1C -DskipTests -Dgpg.skip -Dmaven.javadoc.skip=true -Dcheckstyle.skip=true -Dspotbugs.skip=true -Drevapi.skip=true -pl $(ProjectList) -am'\n           mavenOptions: '$(MemoryOptions) $(LoggingOptions)'\n           javaHomeOption: 'JDKVersion'\n-          jdkVersionOption: $(JavaBuildVersion)\n+          jdkVersionOption: $(JavaTestVersion)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ce1f1f751488925e1b1fe7a2f9981acfad2f00"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTUzMzYy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17584#pullrequestreview-533953362", "createdAt": "2020-11-18T23:04:26Z", "commit": {"oid": "c7ce1f1f751488925e1b1fe7a2f9981acfad2f00"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1735, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}