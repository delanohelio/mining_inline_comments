{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1ODI5NDgy", "number": 10354, "title": "Live tests for Form Recognizer", "bodyText": "Setup live test pipeline for Form Recognizer\nAdd test-reosurces.json ARM template for creating and tearing down resources.\nFix failing tests in record mode.\nWorking live pipeline build - https://dev.azure.com/azure-sdk/internal/_build/results?buildId=363726&view=results", "createdAt": "2020-04-20T05:15:43Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354", "merged": true, "mergeCommit": {"oid": "33006de6db7ceaa9724400bb1280c12c62c762f3"}, "closed": true, "closedAt": "2020-04-22T03:24:18Z", "author": {"login": "samvaity"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZYecnABqjMyNTAxNjIzNzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ_QZVgBqjMyNTg2MjE3MzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "312bbb5426ef6565486045c2f76bc455547f26a8", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/312bbb5426ef6565486045c2f76bc455547f26a8", "committedDate": "2020-04-20T05:09:00Z", "message": "test resource json"}, "afterCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a3da90fb9769bfbb1beec970d5c52a9095b31d48", "committedDate": "2020-04-20T05:44:53Z", "message": "test resource json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzYzNTkx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-396763591", "createdAt": "2020-04-20T19:51:41Z", "commit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1MTo0MVrOGIk_Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1MTo0MVrOGIk_Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0Nzc0Nw==", "bodyText": "this should be formrecognizer", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r411647747", "createdAt": "2020-04-20T19:51:41Z", "author": {"login": "danieljurek"}, "path": "sdk/formrecognizer/tests.yml", "diffHunk": "@@ -0,0 +1,12 @@\n+trigger: none\n+\n+jobs:\n+  - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n+    parameters:\n+      ServiceDirectory: storage", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzYzODkw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-396763890", "createdAt": "2020-04-20T19:52:08Z", "commit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1MjowOFrOGIlAIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1MjowOFrOGIlAIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0ODAzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  ServiceDirectory: storage\n          \n          \n            \n                  ServiceDirectory: formrecognizer", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r411648032", "createdAt": "2020-04-20T19:52:08Z", "author": {"login": "danieljurek"}, "path": "sdk/formrecognizer/tests.yml", "diffHunk": "@@ -0,0 +1,12 @@\n+trigger: none\n+\n+jobs:\n+  - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n+    parameters:\n+      ServiceDirectory: storage", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzY2Mjcz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-396766273", "createdAt": "2020-04-20T19:55:39Z", "commit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1NTozOVrOGIlIMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1NTozOVrOGIlIMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1MDA5Ng==", "bodyText": "Might be able to get rid of the secondary storage account if it's not needed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r411650096", "createdAt": "2020-04-20T19:55:39Z", "author": {"login": "danieljurek"}, "path": "sdk/formrecognizer/test-resources.json", "diffHunk": "@@ -0,0 +1,192 @@\n+{\n+    \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n+    \"contentVersion\": \"1.0.0.0\",\n+    \"parameters\": {\n+        \"baseName\": {\n+            \"type\": \"String\"\n+        },\n+        \"endpointSuffix\": {\n+            \"type\": \"string\",\n+            \"defaultValue\": \"core.windows.net\"\n+        },\n+        \"testApplicationOid\": {\n+            \"type\": \"string\",\n+            \"metadata\": {\n+                \"description\": \"The principal to assign the role to. This is application object id.\"\n+            }\n+        },\n+        \"formRecognizerBaseName\": {\n+            \"type\": \"string\",\n+            \"defaultValue\": \"[resourceGroup().name]\",\n+            \"metadata\": {\n+                \"description\": \"The base resource name.\"\n+            }\n+        },\n+        \"formRecognizerEndpointSuffix\": {\n+            \"defaultValue\": \".cognitiveservices.azure.com/\",\n+            \"type\": \"String\"\n+        }\n+    },\n+    \"variables\": {\n+        \"storageApiVersion\": \"2019-04-01\",\n+        \"authorizationApiVersion\": \"2018-09-01-preview\",\n+        \"blobDataContributorRoleId\": \"[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe')]\",\n+        \"contributorRoleId\": \"[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c')]\",\n+        \"primaryAccountName\": \"[concat('prim', parameters('baseName'))]\",\n+        \"secondaryAccountName\": \"[concat('sec', parameters('baseName'))]\",\n+        \"location\": \"[resourceGroup().location]\",\n+        \"formRecognizerApiVersion\": \"2017-04-18\",\n+        \"azureFormRecognizerUrl\": \"[concat('https://', parameters('formRecognizerBaseName'), parameters('formRecognizerEndpointSuffix'))]\",\n+        \"cognitiveServiceUserRoleId\": \"[concat('/subscriptions/', subscription().subscriptionId, '/providers/Microsoft.Authorization/roleDefinitions/a97b65f3-24c7-4388-baec-2e87135dc908')]\"\n+    },\n+    \"resources\": [\n+        {\n+            \"type\": \"Microsoft.Authorization/roleAssignments\",\n+            \"apiVersion\": \"[variables('authorizationApiVersion')]\",\n+            \"name\": \"[guid(concat('dataContributorRoleId', variables('primaryAccountName')))]\",\n+            \"dependsOn\": [\n+                \"[variables('primaryAccountName')]\"\n+            ],\n+            \"properties\": {\n+                \"roleDefinitionId\": \"[variables('blobDataContributorRoleId')]\",\n+                \"principalId\": \"[parameters('testApplicationOid')]\"\n+            }\n+        },\n+        {\n+            \"type\": \"Microsoft.Authorization/roleAssignments\",\n+            \"apiVersion\": \"[variables('authorizationApiVersion')]\",\n+            \"name\": \"[guid(concat('contributorRoleId', variables('primaryAccountName')))]\",\n+            \"dependsOn\": [\n+                \"[variables('primaryAccountName')]\"\n+            ],\n+            \"properties\": {\n+                \"roleDefinitionId\": \"[variables('contributorRoleId')]\",\n+                \"principalId\": \"[parameters('testApplicationOid')]\"\n+            }\n+        },\n+        {\n+            \"type\": \"Microsoft.Storage/storageAccounts\",\n+            \"apiVersion\": \"[variables('storageApiVersion')]\",\n+            \"name\": \"[variables('primaryAccountName')]\",\n+            \"location\": \"[variables('location')]\",\n+            \"sku\": {\n+                \"name\": \"Standard_RAGRS\",\n+                \"tier\": \"Standard\"\n+            },\n+            \"kind\": \"StorageV2\",\n+            \"properties\": {\n+                \"networkAcls\": {\n+                    \"bypass\": \"AzureServices\",\n+                    \"virtualNetworkRules\": [],\n+                    \"ipRules\": [],\n+                    \"defaultAction\": \"Allow\"\n+                },\n+                \"supportsHttpsTrafficOnly\": true,\n+                \"encryption\": {\n+                    \"services\": {\n+                        \"file\": {\n+                            \"enabled\": true\n+                        },\n+                        \"blob\": {\n+                            \"enabled\": true\n+                        }\n+                    },\n+                    \"keySource\": \"Microsoft.Storage\"\n+                },\n+                \"accessTier\": \"Hot\"\n+            }\n+        },\n+        {\n+            \"type\": \"Microsoft.Storage/storageAccounts\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "originalPosition": 100}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3dca3c32262359abf7528e83a31e1e7c5c715eeb", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3dca3c32262359abf7528e83a31e1e7c5c715eeb", "committedDate": "2020-04-20T19:53:30Z", "message": "fix directory name"}, "afterCommit": {"oid": "60f8de3cc53878ea4a0b245a06eb91d889fc79ce", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/60f8de3cc53878ea4a0b245a06eb91d889fc79ce", "committedDate": "2020-04-20T19:57:55Z", "message": "fix directory name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzY3OTE2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-396767916", "createdAt": "2020-04-20T19:58:09Z", "commit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1ODowOVrOGIlN6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTo1ODowOVrOGIlN6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1MTU2MQ==", "bodyText": "formRecognizerBaseName is redundant, you can just use the baseName and and add any additional formatting in a variable.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r411651561", "createdAt": "2020-04-20T19:58:09Z", "author": {"login": "danieljurek"}, "path": "sdk/formrecognizer/test-resources.json", "diffHunk": "@@ -0,0 +1,192 @@\n+{\n+    \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n+    \"contentVersion\": \"1.0.0.0\",\n+    \"parameters\": {\n+        \"baseName\": {\n+            \"type\": \"String\"\n+        },\n+        \"endpointSuffix\": {\n+            \"type\": \"string\",\n+            \"defaultValue\": \"core.windows.net\"\n+        },\n+        \"testApplicationOid\": {\n+            \"type\": \"string\",\n+            \"metadata\": {\n+                \"description\": \"The principal to assign the role to. This is application object id.\"\n+            }\n+        },\n+        \"formRecognizerBaseName\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzcwMDYz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-396770063", "createdAt": "2020-04-20T20:01:22Z", "commit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMDowMToyMlrOGIlVZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMDowMToyMlrOGIlVZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1MzQ3Nw==", "bodyText": "PRIMARY_STORAGE_ACCOUNT_NAME should be something like PRIMARY_STORAGE_ACCOUNT_URL or this hardcoded URL (https://%s.blob.core.windows.net) will affect testing in other clouds.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r411653477", "createdAt": "2020-04-20T20:01:22Z", "author": {"login": "danieljurek"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/FormTrainingClientTestBase.java", "diffHunk": "@@ -182,65 +272,41 @@ String getEndpoint() {\n             : Configuration.getGlobalConfiguration().get(\"AZURE_FORM_RECOGNIZER_ENDPOINT\");\n     }\n \n-    static void validateCustomModel(CustomFormModel expectedModel, CustomFormModel actualCustomModel) {\n-        assertNotNull(actualCustomModel.getModelId());\n-        assertEquals(expectedModel.getModelStatus(), actualCustomModel.getModelStatus());\n-        validateErrors(expectedModel.getModelError(), actualCustomModel.getModelError());\n-        assertNotNull(actualCustomModel.getCreatedOn());\n-        assertNotNull(actualCustomModel.getLastUpdatedOn());\n-        validateSubModels(expectedModel.getSubModels(), actualCustomModel.getSubModels());\n-        validateTrainingDocuments(expectedModel.getTrainingDocuments(), actualCustomModel.getTrainingDocuments());\n-    }\n-\n-    static void validateAccountProperties(AccountProperties expectedAccountProperties, AccountProperties actualAccountProperties) {\n-        assertEquals(expectedAccountProperties.getLimit(), actualAccountProperties.getLimit());\n-        assertNotNull(actualAccountProperties.getCount());\n-    }\n-\n-    private static void validateTrainingDocuments(List<TrainingDocumentInfo> expectedTrainingDocuments, List<TrainingDocumentInfo> actualTrainingDocuments) {\n-        List<TrainingDocumentInfo> actualTrainingList = actualTrainingDocuments.stream().collect(Collectors.toList());\n-        List<TrainingDocumentInfo> expectedTrainingList = expectedTrainingDocuments.stream().collect(Collectors.toList());\n-        assertEquals(expectedTrainingList.size(), actualTrainingList.size());\n-        for (int i = 0; i < actualTrainingList.size(); i++) {\n-            TrainingDocumentInfo expectedTrainingDocument = expectedTrainingList.get(i);\n-            TrainingDocumentInfo actualTrainingDocument = actualTrainingList.get(i);\n-            assertEquals(expectedTrainingDocument.getName(), actualTrainingDocument.getName());\n-            assertEquals(expectedTrainingDocument.getPageCount(), actualTrainingDocument.getPageCount());\n-            assertEquals(expectedTrainingDocument.getTrainingStatus(), actualTrainingDocument.getTrainingStatus());\n-            validateErrors(expectedTrainingDocument.getDocumentErrors(), actualTrainingDocument.getDocumentErrors());\n-        }\n-    }\n-\n-    private static void validateErrors(List<FormRecognizerError> expectedErrors, List<FormRecognizerError> actualErrors) {\n-        if (expectedErrors != null && actualErrors != null) {\n-            List<FormRecognizerError> actualErrorList = actualErrors.stream().collect(Collectors.toList());\n-            List<FormRecognizerError> expectedErrorList = expectedErrors.stream().collect(Collectors.toList());\n-            assertEquals(expectedErrorList.size(), actualErrorList.size());\n-            for (int i = 0; i < actualErrorList.size(); i++) {\n-                FormRecognizerError expectedError = expectedErrorList.get(i);\n-                FormRecognizerError actualError = actualErrorList.get(i);\n-                assertEquals(expectedError.getCode(), actualError.getCode());\n-                assertEquals(expectedError.getMessage(), actualError.getMessage());\n+    private String createStorageAndGenerateSas(String folderPath) {\n+        if (interceptorManager.isPlaybackMode()) {\n+            return \"https://isPlaybackmode\";\n+        } else {\n+            String accountName = Configuration.getGlobalConfiguration().get(\"PRIMARY_STORAGE_ACCOUNT_NAME\");\n+            String accountKey = Configuration.getGlobalConfiguration().get(\"PRIMARY_STORAGE_ACCOUNT_KEY\");\n+            StorageSharedKeyCredential credential = new StorageSharedKeyCredential(accountName, accountKey);\n+            String endpoint = String.format(Locale.ROOT, \"https://%s.blob.core.windows.net\", accountName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3da90fb9769bfbb1beec970d5c52a9095b31d48"}, "originalPosition": 221}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NjkxNzcz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397691773", "createdAt": "2020-04-21T21:32:34Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3Njk2MjA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397696206", "createdAt": "2020-04-21T21:40:26Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMTo0MDoyNlrOGJZp-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMTo0MDoyNlrOGJZp-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUxMDcxMg==", "bodyText": "NIT:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - It uses the Form recognizer service `v2.0-preview.1` API.\n          \n          \n            \n            - It uses the Form Recognizer service `v2.0-preview.1` API.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412510712", "createdAt": "2020-04-21T21:40:26Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,26 @@\n+# Release History\n+\n+## 1.0.0-beta.1 (Unreleased)\n+Version 1.0.0-beta.1 is a preview of our efforts in creating a Azure Form Recognizer client library that is developer-friendly\n+and idiomatic to the Java ecosystem. The principles that guide\n+our efforts can be found in the [Azure SDK Design Guidelines for Java](https://azure.github.io/azure-sdk/java_introduction.html).\n+\n+For more information about this, and preview releases of other Azure SDK libraries, please visit\n+https://azure.github.io/azure-sdk/releases/latest/java.html.\n+\n+- It uses the Form recognizer service `v2.0-preview.1` API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzA3NjA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397707606", "createdAt": "2020-04-21T22:01:21Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjowMToyMVrOGJaVfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjowMToyMVrOGJaVfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUyMTg1Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                - FormRecognizerClient to analyze fields/values on custom forms, receipts, and form content/layout\n          \n          \n            \n                - `FormRecognizerClient` to analyze fields/values on custom forms, receipts, and form content/layout", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412521852", "createdAt": "2020-04-21T22:01:21Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,26 @@\n+# Release History\n+\n+## 1.0.0-beta.1 (Unreleased)\n+Version 1.0.0-beta.1 is a preview of our efforts in creating a Azure Form Recognizer client library that is developer-friendly\n+and idiomatic to the Java ecosystem. The principles that guide\n+our efforts can be found in the [Azure SDK Design Guidelines for Java](https://azure.github.io/azure-sdk/java_introduction.html).\n+\n+For more information about this, and preview releases of other Azure SDK libraries, please visit\n+https://azure.github.io/azure-sdk/releases/latest/java.html.\n+\n+- It uses the Form recognizer service `v2.0-preview.1` API.\n+- Two client design:\n+    - FormRecognizerClient to analyze fields/values on custom forms, receipts, and form content/layout", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzA3Njk3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397707697", "createdAt": "2020-04-21T22:01:32Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjowMTozM1rOGJaVyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjowMTozM1rOGJaVyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUyMTkzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                - FormTrainingClient to train custom models (with/without labels), and manage the custom models on your account\n          \n          \n            \n                - `FormTrainingClient` to train custom models (with/without labels), and manage the custom models on your account", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412521931", "createdAt": "2020-04-21T22:01:33Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,26 @@\n+# Release History\n+\n+## 1.0.0-beta.1 (Unreleased)\n+Version 1.0.0-beta.1 is a preview of our efforts in creating a Azure Form Recognizer client library that is developer-friendly\n+and idiomatic to the Java ecosystem. The principles that guide\n+our efforts can be found in the [Azure SDK Design Guidelines for Java](https://azure.github.io/azure-sdk/java_introduction.html).\n+\n+For more information about this, and preview releases of other Azure SDK libraries, please visit\n+https://azure.github.io/azure-sdk/releases/latest/java.html.\n+\n+- It uses the Form recognizer service `v2.0-preview.1` API.\n+- Two client design:\n+    - FormRecognizerClient to analyze fields/values on custom forms, receipts, and form content/layout\n+    - FormTrainingClient to train custom models (with/without labels), and manage the custom models on your account", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzEyNjU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397712656", "createdAt": "2020-04-21T22:11:27Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMToyN1rOGJapVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMToyN1rOGJapVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUyNjkzMg==", "bodyText": "these two seems valid model id and status model id?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412526932", "createdAt": "2020-04-21T22:11:27Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/TestUtils.java", "diffHunk": "@@ -51,36 +51,35 @@\n  * Contains helper methods for generating inputs for test methods\n  */\n final class TestUtils {\n-\n-    static final String VALID_MODEL_ID = \"95537f1b-aac4-4da8-8292-f1b93ac4c8f8\";\n-    static final String LABELED_MODEL_ID = \"a0a3998a-b3c0-4075-aa6b-c4c4affe66b7\";\n     static final String INVALID_MODEL_ID = \"a0a3998a-4c4affe66b7\";\n     static final String INVALID_STATUS_MODEL_ID = \"22138c4e-c4b0-4901-a0e1-6c5beb73fc1d\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzEyOTcy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397712972", "createdAt": "2020-04-21T22:12:04Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMjowNVrOGJaqkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMjowNVrOGJaqkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUyNzI0OQ==", "bodyText": "valid labeled model id ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412527249", "createdAt": "2020-04-21T22:12:05Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/TestUtils.java", "diffHunk": "@@ -51,36 +51,35 @@\n  * Contains helper methods for generating inputs for test methods\n  */\n final class TestUtils {\n-\n-    static final String VALID_MODEL_ID = \"95537f1b-aac4-4da8-8292-f1b93ac4c8f8\";\n-    static final String LABELED_MODEL_ID = \"a0a3998a-b3c0-4075-aa6b-c4c4affe66b7\";\n     static final String INVALID_MODEL_ID = \"a0a3998a-4c4affe66b7\";\n     static final String INVALID_STATUS_MODEL_ID = \"22138c4e-c4b0-4901-a0e1-6c5beb73fc1d\";\n-    static final String INVALID_STATUS_MODEL_ERROR = \"Model Id \" + INVALID_STATUS_MODEL_ID + \" returned with invalid\"\n-        + \" status.\";\n-\n-    static final String INVALID_SOURCE_URL_ERROR = \"Download failed. Please check your input URL.\";\n-    // TODO (savaity): Do not hardcode, generate SAS URL\n-    static final String VALID_LABELED_DATA_SAS_URL = \"\";\n-    static final String VALID_UNLABELED_DATA_SAS_URL = \"\";\n-    static final Object INVALID_MODEL_ID_ERROR = \"Invalid UUID string: \" + INVALID_MODEL_ID;\n-    static final Object NULL_SOURCE_URL_ERROR = \"'fileSourceUrl' cannot be null.\";\n+    static final String INVALID_RECEIPT_URL = \"https://invalid.blob.core.windows.net/fr/contoso-allinone.jpg\";\n+    static final String INVALID_SOURCE_URL_ERROR = \"Status code 400, \\\"{\\\"error\\\":{\\\"code\\\":\\\"1003\\\",\"\n+        + \"\\\"message\\\":\\\"Parameter 'Source' is not a valid Uri.\\\"}}\\\"\";\n+    static final String INVALID_MODEL_ID_ERROR = \"Invalid UUID string: \" + INVALID_MODEL_ID;\n+    static final String NULL_SOURCE_URL_ERROR = \"'fileSourceUrl' cannot be null.\";\n     static final String INVALID_URL = \"htttttttps://localhost:8080\";\n+    static final String LABELED_MODEL_ID = \"a0a3998a-b3c0-4075-aa6b-c4c4affe66b7\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzEzNjky", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397713692", "createdAt": "2020-04-21T22:13:37Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMzozN1rOGJatNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMjoxMzozN1rOGJatNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjUyNzkyNA==", "bodyText": "create/use a static final variable for the model id.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#discussion_r412527924", "createdAt": "2020-04-21T22:13:37Z", "author": {"login": "mssfang"}, "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/TestUtils.java", "diffHunk": "@@ -172,7 +171,7 @@ static CustomFormModel getExpectedUnlabeledModel() {\n             }\n         };\n         CustomFormSubModel customFormSubModel = new CustomFormSubModel(null, fieldMap, \"form-0\");\n-        return new CustomFormModel(VALID_MODEL_ID, CustomFormModelStatus.READY,\n+        return new CustomFormModel(\"95537f1b-aac4-4da8-8292-f1b93ac4c8f8\", CustomFormModelStatus.READY,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NzE0MjMw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10354#pullrequestreview-397714230", "createdAt": "2020-04-21T22:14:44Z", "commit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6ccb50671140ee79251e82fe5c0c1a03d2ac7f9", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d6ccb50671140ee79251e82fe5c0c1a03d2ac7f9", "committedDate": "2020-04-21T23:03:38Z", "message": "test resource json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d44ee79e912d04ca7a31e3b7a99de234b5f7d035", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d44ee79e912d04ca7a31e3b7a99de234b5f7d035", "committedDate": "2020-04-21T23:04:21Z", "message": "fix directory name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2399783a5d915dca4dd3e95d1394c6747b46e97b", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2399783a5d915dca4dd3e95d1394c6747b46e97b", "committedDate": "2020-04-21T23:05:06Z", "message": "update resources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5d63ae3329c7429336464debc82a872a6d95abd", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e5d63ae3329c7429336464debc82a872a6d95abd", "committedDate": "2020-04-21T23:05:21Z", "message": "update failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5089cd88b4dfee1f94420de02d3cf7a97d7f41e", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c5089cd88b4dfee1f94420de02d3cf7a97d7f41e", "committedDate": "2020-04-21T23:05:36Z", "message": "add more tests, changelog, sample-files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c2a8798a49e6dcf6cea4e57b67a44659d86b934", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c2a8798a49e6dcf6cea4e57b67a44659d86b934", "committedDate": "2020-04-21T21:18:57Z", "message": "add more tests, changelog, sample-files"}, "afterCommit": {"oid": "930bad8f58d793827d2ebcbdba0efeaa46366a24", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/930bad8f58d793827d2ebcbdba0efeaa46366a24", "committedDate": "2020-04-22T00:23:21Z", "message": "rebase changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "930bad8f58d793827d2ebcbdba0efeaa46366a24", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/930bad8f58d793827d2ebcbdba0efeaa46366a24", "committedDate": "2020-04-22T00:23:21Z", "message": "rebase changes"}, "afterCommit": {"oid": "a2d608054aa1c3dd1ff33765a887b74b1da0aa64", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a2d608054aa1c3dd1ff33765a887b74b1da0aa64", "committedDate": "2020-04-22T00:27:44Z", "message": "rebase changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f80e012b4aa04000c2396e5e169b1330f7353ab", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1f80e012b4aa04000c2396e5e169b1330f7353ab", "committedDate": "2020-04-22T00:46:32Z", "message": "rebase changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2d608054aa1c3dd1ff33765a887b74b1da0aa64", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a2d608054aa1c3dd1ff33765a887b74b1da0aa64", "committedDate": "2020-04-22T00:27:44Z", "message": "rebase changes"}, "afterCommit": {"oid": "1f80e012b4aa04000c2396e5e169b1330f7353ab", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1f80e012b4aa04000c2396e5e169b1330f7353ab", "committedDate": "2020-04-22T00:46:32Z", "message": "rebase changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4024f21aa311b01242d4ae311b8f974243acff89", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4024f21aa311b01242d4ae311b8f974243acff89", "committedDate": "2020-04-22T02:55:55Z", "message": "replayable test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e16890da601f784c486119ecf530e8ac214bb085", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e16890da601f784c486119ecf530e8ac214bb085", "committedDate": "2020-04-22T02:37:07Z", "message": "replayable test"}, "afterCommit": {"oid": "4024f21aa311b01242d4ae311b8f974243acff89", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4024f21aa311b01242d4ae311b8f974243acff89", "committedDate": "2020-04-22T02:55:55Z", "message": "replayable test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4686, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}