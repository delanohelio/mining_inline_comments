{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMDk3Mzg5", "number": 7313, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MDoyMlrODW8qUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQyMjozOToxNlrODXASYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1Mzg5MTM2OnYy", "diffSide": "RIGHT", "path": "sdk/storage/tests.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MDoyMlrOFb_qXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MDoyMlrOFb_qXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg5ODkxMA==", "bodyText": "Remove this as it will scope the Storage tests to a smaller matrix", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7313#discussion_r364898910", "createdAt": "2020-01-09T18:40:22Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/tests.yml", "diffHunk": "@@ -3,30 +3,36 @@ trigger: none\n jobs:\n   - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n     parameters:\n+      Matrix:\n+        Windows - Java 8:\n+            OSName: 'Windows'\n+            OSVmImage: 'windows-2019'\n+            JavaVersion: '1.8'\n+            DisplayName: 'Windows - Java 8'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d83da874785a38f25aba5df4e98600cbe4a3eab"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1Mzg5MjY1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/tests.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MDo1MFrOFb_rQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MDo1MFrOFb_rQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg5OTEzNw==", "bodyText": "Remove this line, its adding an environment variable of TimeoutInMinutes which isn't needed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7313#discussion_r364899137", "createdAt": "2020-01-09T18:40:50Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/tests.yml", "diffHunk": "@@ -3,30 +3,36 @@ trigger: none\n jobs:\n   - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n     parameters:\n+      Matrix:\n+        Windows - Java 8:\n+            OSName: 'Windows'\n+            OSVmImage: 'windows-2019'\n+            JavaVersion: '1.8'\n+            DisplayName: 'Windows - Java 8'\n       ServiceDirectory: storage\n+      TimeoutInMinutes: 240\n       EnvVars:\n         AZURE_TEST_MODE: LIVE\n         AZURE_TENANT_ID: $(aad-azure-sdk-test-tenant-id)\n         AZURE_CLIENT_ID: $(aad-azure-sdk-test-client-id)\n         AZURE_CLIENT_SECRET: $(aad-azure-sdk-test-client-secret)\n-        PRIMARY_STORAGE_ACCOUNT_NAME: $(java-storage-test-primary-account-name)\n-        PRIMARY_STORAGE_ACCOUNT_KEY: $(java-storage-test-primary-account-key)\n-        SECONDARY_STORAGE_ACCOUNT_NAME: $(java-storage-test-secondary-account-name)\n-        SECONDARY_STORAGE_ACCOUNT_KEY: $(java-storage-test-secondary-account-key)\n-        BLOB_STORAGE_ACCOUNT_NAME: $(java-storage-test-blob-account-name)\n-        BLOB_STORAGE_ACCOUNT_KEY: $(java-storage-test-blob-account-key)\n-        PREMIUM_STORAGE_ACCOUNT_NAME: $(java-storage-test-premium-account-name)\n-        PREMIUM_STORAGE_ACCOUNT_KEY: $(java-storage-test-premium-account-key)\n-        AZURE_STORAGE_ACCESS_KEY: $(java-storage-test-access-key)\n-        AZURE_STORAGE_FILE_ENDPOINT: $(java-storage-test-file-endpoint)\n-        AZURE_STORAGE_FILE_CONNECTION_STRING: $(java-storage-test-file-connection-string)\n-        AZURE_STORAGE_QUEUE_ENDPOINT: $(java-storage-test-queue-endpoint)\n-        AZURE_STORAGE_QUEUE_CONNECTION_STRING: $(java-storage-test-queue-connection-string)\n-        AZURE_STORAGE_BLOB_CONNECTION_STRING: $(java-storage-test-blob-connection-string)\n-        STORAGE_DATA_LAKE_ACCOUNT_NAME: $(java-storage-data-lake-account-name)\n-        STORAGE_DATA_LAKE_ACCOUNT_KEY: $(java-storage-data-lake-account-key)\n-        AZURE_STORAGE_FILE_ACCOUNT_NAME: $(java-storage-account-name)\n-        AZURE_STORAGE_FILE_ACCOUNT_KEY: $(java-storage-account-key)\n-        AZURE_STORAGE_QUEUE_ACCOUNT_NAME: $(java-storage-account-name)\n-        AZURE_STORAGE_QUEUE_ACCOUNT_KEY: $(java-storage-account-key)\n-      TimeoutInMinutes: 120\n+        PRIMARY_STORAGE_ACCOUNT_NAME: $(PRIMARY_STORAGE_ACCOUNT_NAME)\n+        PRIMARY_STORAGE_ACCOUNT_KEY: $(PRIMARY_STORAGE_ACCOUNT_KEY)\n+        SECONDARY_STORAGE_ACCOUNT_NAME: $(SECONDARY_STORAGE_ACCOUNT_NAME)\n+        SECONDARY_STORAGE_ACCOUNT_KEY: $(SECONDARY_STORAGE_ACCOUNT_KEY)\n+        BLOB_STORAGE_ACCOUNT_NAME: $(BLOB_STORAGE_ACCOUNT_NAME)\n+        BLOB_STORAGE_ACCOUNT_KEY: $(BLOB_STORAGE_ACCOUNT_KEY)\n+        PREMIUM_STORAGE_ACCOUNT_NAME: $(PREMIUM_STORAGE_ACCOUNT_NAME)\n+        PREMIUM_STORAGE_ACCOUNT_KEY: $(PREMIUM_STORAGE_ACCOUNT_KEY)\n+        AZURE_STORAGE_FILE_ENDPOINT: $(AZURE_STORAGE_FILE_ENDPOINT)\n+        AZURE_STORAGE_FILE_CONNECTION_STRING: $(AZURE_STORAGE_FILE_CONNECTION_STRING)\n+        AZURE_STORAGE_QUEUE_ENDPOINT: $(AZURE_STORAGE_QUEUE_ENDPOINT)\n+        AZURE_STORAGE_QUEUE_CONNECTION_STRING: $(AZURE_STORAGE_QUEUE_CONNECTION_STRING)\n+        AZURE_STORAGE_BLOB_CONNECTION_STRING: $(AZURE_STORAGE_BLOB_CONNECTION_STRING)\n+        STORAGE_DATA_LAKE_ACCOUNT_NAME: $(STORAGE_DATA_LAKE_ACCOUNT_NAME)\n+        STORAGE_DATA_LAKE_ACCOUNT_KEY: $(STORAGE_DATA_LAKE_ACCOUNT_KEY)\n+        AZURE_STORAGE_FILE_ACCOUNT_NAME: $(AZURE_STORAGE_FILE_ACCOUNT_NAME)\n+        AZURE_STORAGE_FILE_ACCOUNT_KEY: $(AZURE_STORAGE_FILE_ACCOUNT_KEY)\n+        AZURE_STORAGE_QUEUE_ACCOUNT_NAME: $(AZURE_STORAGE_FILE_ACCOUNT_NAME)\n+        AZURE_STORAGE_QUEUE_ACCOUNT_KEY: $(AZURE_STORAGE_QUEUE_ACCOUNT_KEY)\n+        TimeoutInMinutes: 120", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d83da874785a38f25aba5df4e98600cbe4a3eab"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1Mzg5NDA1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/tests.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MToyNVrOFb_sJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxODo0MToyNVrOFb_sJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg5OTM2NQ==", "bodyText": "Let's use a 2 hour timeout since the complete test suite only takes about 60-75 minutes, anything longer and there is likely an issue in our tests.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7313#discussion_r364899365", "createdAt": "2020-01-09T18:41:25Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/tests.yml", "diffHunk": "@@ -3,30 +3,36 @@ trigger: none\n jobs:\n   - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n     parameters:\n+      Matrix:\n+        Windows - Java 8:\n+            OSName: 'Windows'\n+            OSVmImage: 'windows-2019'\n+            JavaVersion: '1.8'\n+            DisplayName: 'Windows - Java 8'\n       ServiceDirectory: storage\n+      TimeoutInMinutes: 240", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d83da874785a38f25aba5df4e98600cbe4a3eab"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NDQ4NTQ3OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/jobs/archetype-sdk-tests.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQyMjozOToxNlrOFcFhkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQyMjozOToxNlrOFcFhkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk5NDk2MA==", "bodyText": "@danieljurek: Should this be condition: always() instead?  Or are these equivalent?  I assume the intent is to ensure cleanup is always run regardless of earlier failures.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7313#discussion_r364994960", "createdAt": "2020-01-09T22:39:16Z", "author": {"login": "mikeharder"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-tests.yml", "diffHunk": "@@ -69,6 +102,25 @@ jobs:\n           ${{ insert }}: ${{ parameters.TestStepMavenInputs }}\n         env: ${{ parameters.EnvVars }}\n \n+      - ${{ parameters.PostRunSteps }}\n+\n+      - pwsh: >-\n+          eng/Remove-TestResources.ps1\n+          -BaseName $(BaseName)\n+          -ServiceDirectory ${{ parameters.ServiceDirectory }}\n+          -TenantId $env:TENANT_ID\n+          -ProvisionerApplicationId $env:PROVISIONER_APPLICATION_ID\n+          -ProvisionerApplicationSecret $env:PROVISIONER_APPLICATION_SECRET\n+          -Force\n+          -Verbose\n+        env:\n+          TENANT_ID: $(aad-azure-sdk-test-tenant-id)\n+          PROVISIONER_APPLICATION_ID: $(provisioner-aad-id)\n+          PROVISIONER_APPLICATION_SECRET: $(provisioner-aad-secret)\n+        displayName: Remove Test Resources\n+        condition: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2880c407be2ae4551c4eed76a17c58738dae23"}, "originalPosition": 67}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 548, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}