{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5OTM3MjAw", "number": 7228, "title": "Enable build failure when code coverage is below threshold", "bodyText": "This PR includes two changes:\n\nFails build if the code coverage drops below threshold\nIncludes jacoco test coverage reporting steps in archetype-sdk-client.yml which were previously configured in client.yml", "createdAt": "2020-01-07T10:59:24Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228", "merged": true, "mergeCommit": {"oid": "0c2df36e785c80ab78f4b4580049cc55c8473281"}, "closed": true, "closedAt": "2020-01-08T19:44:56Z", "author": {"login": "srnagar"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3-i5uAH2gAyMzU5OTM3MjAwOjMwYTM1MjZiMDFmZDBjMWQ0Zjg1Y2I3MWNlNGFkMDk3OWFhYTE5YWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4aiEfAFqTM0MDA5MjczNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "30a3526b01fd0c1d4f85cb71ce4ad0979aaa19ae", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/30a3526b01fd0c1d4f85cb71ce4ad0979aaa19ae", "committedDate": "2020-01-07T10:53:00Z", "message": "Enable build failure when code coverage is below threshold"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2713bf95589a5f486dfa22cecb704be31693283b", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2713bf95589a5f486dfa22cecb704be31693283b", "committedDate": "2020-01-07T10:57:20Z", "message": "Remove comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MzE3NDUy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-339317452", "createdAt": "2020-01-07T15:40:11Z", "commit": {"oid": "2713bf95589a5f486dfa22cecb704be31693283b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNTo0MDoxMVrOFa9IwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNTo0MDoxMVrOFa9IwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzgwODk2MQ==", "bodyText": "@JonathanGiles is this particular change going to require us to up the version and re-release the parent pom?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#discussion_r363808961", "createdAt": "2020-01-07T15:40:11Z", "author": {"login": "JimSuplizio"}, "path": "pom.client.xml", "diffHunk": "@@ -333,6 +333,31 @@\n               <outputDirectory>${project.reporting.outputDirectory}/test-coverage</outputDirectory>\n             </configuration>\n           </execution>\n+          <execution>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2713bf95589a5f486dfa22cecb704be31693283b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MzM0NTQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-339334546", "createdAt": "2020-01-07T16:04:23Z", "commit": {"oid": "2713bf95589a5f486dfa22cecb704be31693283b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df95a45d7ca40cd745f0fc5a7397ebbc787bb31f", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/df95a45d7ca40cd745f0fc5a7397ebbc787bb31f", "committedDate": "2020-01-07T19:21:25Z", "message": "Install reporting tools for verify goal"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NDgxMTc0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-339481174", "createdAt": "2020-01-07T20:15:34Z", "commit": {"oid": "df95a45d7ca40cd745f0fc5a7397ebbc787bb31f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QyMDoxNTozNFrOFbEnJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QyMDoxNTozNFrOFbEnJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzkzMTQzMA==", "bodyText": "Is it worth extracting these two minimum values out to properties so that child poms may overwrite this (in the future when we start setting a valid minimum and libraries need to opt-out for a valid reason)?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#discussion_r363931430", "createdAt": "2020-01-07T20:15:34Z", "author": {"login": "JonathanGiles"}, "path": "pom.client.xml", "diffHunk": "@@ -333,6 +333,31 @@\n               <outputDirectory>${project.reporting.outputDirectory}/test-coverage</outputDirectory>\n             </configuration>\n           </execution>\n+          <execution>\n+            <id>check</id>\n+            <goals>\n+              <goal>check</goal>\n+            </goals>\n+            <configuration>\n+              <rules>\n+                <rule>\n+                  <element>BUNDLE</element>\n+                  <limits>\n+                    <limit>\n+                      <counter>LINE</counter>\n+                      <value>COVEREDRATIO</value>\n+                      <minimum>0.18</minimum>\n+                    </limit>\n+                    <limit>\n+                      <counter>BRANCH</counter>\n+                      <value>COVEREDRATIO</value>\n+                      <minimum>0.09</minimum>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df95a45d7ca40cd745f0fc5a7397ebbc787bb31f"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NTA5MTA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-339509106", "createdAt": "2020-01-07T21:10:32Z", "commit": {"oid": "df95a45d7ca40cd745f0fc5a7397ebbc787bb31f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "444c9166a08f2748b415be9c6a0c7bfe6e3f9b84", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/444c9166a08f2748b415be9c6a0c7bfe6e3f9b84", "committedDate": "2020-01-08T02:31:35Z", "message": "Configurable coverage threshold"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5OTE0MjI0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-339914224", "createdAt": "2020-01-08T14:50:37Z", "commit": {"oid": "444c9166a08f2748b415be9c6a0c7bfe6e3f9b84"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMDkyNzM3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7228#pullrequestreview-340092737", "createdAt": "2020-01-08T19:29:26Z", "commit": {"oid": "444c9166a08f2748b415be9c6a0c7bfe6e3f9b84"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 709, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}