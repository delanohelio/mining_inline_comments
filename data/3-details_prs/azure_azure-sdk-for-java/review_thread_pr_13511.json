{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2ODY5Mzcx", "number": 13511, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowMjoxMFrOESZqPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDoxNjo1NlrOESmoCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzMwMjM4OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release-pom-only.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowMjoxMFrOG3j26g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMjo1OToxMVrOG36zgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMjM2Mg==", "bodyText": "@mitchdenny shouldn't the artifact location be $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}} like it is in eng/pipelines/templates/stages/archetype-java-release.yml?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r460912362", "createdAt": "2020-07-27T14:02:10Z", "author": {"login": "JimSuplizio"}, "path": "eng/pipelines/templates/stages/archetype-java-release-pom-only.yml", "diffHunk": "@@ -66,14 +66,9 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n-                      parameters:\n-                        SourceFolder: ${{parameters.ArtifactName}}-signed\n-                        TargetFolder: ${{artifact.safeName}}\n-                        PackageName: ${{artifact.name}}\n                     - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n                       parameters:\n-                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        ArtifactLocation: ${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI4ODMyMQ==", "bodyText": "Fixed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461288321", "createdAt": "2020-07-28T02:59:11Z", "author": {"login": "mitchdenny"}, "path": "eng/pipelines/templates/stages/archetype-java-release-pom-only.yml", "diffHunk": "@@ -66,14 +66,9 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n-                      parameters:\n-                        SourceFolder: ${{parameters.ArtifactName}}-signed\n-                        TargetFolder: ${{artifact.safeName}}\n-                        PackageName: ${{artifact.name}}\n                     - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n                       parameters:\n-                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        ArtifactLocation: ${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMjM2Mg=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzMxMTg5OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNDoyMVrOG3j8uQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMjo1ODo1OVrOG36zQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMzg0OQ==", "bodyText": "Shouldn't this also be $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r460913849", "createdAt": "2020-07-27T14:04:21Z", "author": {"login": "JimSuplizio"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -165,14 +160,9 @@ stages:\n                   deploy:\n                     steps:\n                       - checkout: self\n-                      - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n-                        parameters:\n-                          SourceFolder: ${{parameters.ArtifactName}}-signed\n-                          TargetFolder: ${{artifact.safeName}}\n-                          PackageName: ${{artifact.name}}\n                       - template: /eng/common/pipelines/templates/steps/docs-metadata-release.yml\n                         parameters:\n-                          ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                          ArtifactLocation: ${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI4ODE5Ng==", "bodyText": "Fixed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461288196", "createdAt": "2020-07-28T02:58:44Z", "author": {"login": "mitchdenny"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -165,14 +160,9 @@ stages:\n                   deploy:\n                     steps:\n                       - checkout: self\n-                      - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n-                        parameters:\n-                          SourceFolder: ${{parameters.ArtifactName}}-signed\n-                          TargetFolder: ${{artifact.safeName}}\n-                          PackageName: ${{artifact.name}}\n                       - template: /eng/common/pipelines/templates/steps/docs-metadata-release.yml\n                         parameters:\n-                          ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                          ArtifactLocation: ${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMzg0OQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI4ODI1Ng==", "bodyText": "Probably would have worked anyway but consistency is good.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461288256", "createdAt": "2020-07-28T02:58:59Z", "author": {"login": "mitchdenny"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -165,14 +160,9 @@ stages:\n                   deploy:\n                     steps:\n                       - checkout: self\n-                      - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n-                        parameters:\n-                          SourceFolder: ${{parameters.ArtifactName}}-signed\n-                          TargetFolder: ${{artifact.safeName}}\n-                          PackageName: ${{artifact.name}}\n                       - template: /eng/common/pipelines/templates/steps/docs-metadata-release.yml\n                         parameters:\n-                          ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                          ArtifactLocation: ${{parameters.ArtifactName}}-signed/${{artifact.groupId}}/${{artifact.name}}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMzg0OQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3OTQyNjY3OnYy", "diffSide": "RIGHT", "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDoxNjo1NlrOG34DRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMTowMTo1NVrOG4euRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MzIwNQ==", "bodyText": "Unless there is a good reason for this to be a PS module I'd suggest just having it be a helper script that we dot source into places that need it. PS modules end up causing more trouble then they are worth in a lot of our usages as such @chidozieononiwu is actually starting to move us away from them.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461243205", "createdAt": "2020-07-28T00:16:56Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "diffHunk": "@@ -0,0 +1,18 @@\n+@{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI4NzA5OA==", "bodyText": "What kind of problems? Curious now.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461287098", "createdAt": "2020-07-28T02:54:51Z", "author": {"login": "mitchdenny"}, "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "diffHunk": "@@ -0,0 +1,18 @@\n+@{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MzIwNQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MDk5Nw==", "bodyText": "I've moved back to dot-sourcing for now.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461360997", "createdAt": "2020-07-28T07:00:33Z", "author": {"login": "mitchdenny"}, "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "diffHunk": "@@ -0,0 +1,18 @@\n+@{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MzIwNQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYyNDk2OA==", "bodyText": "@mitchdenny, if you recall a couple of weeks back, there were a bunch of transient errors installing PS modules that Dozie had to fix.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461624968", "createdAt": "2020-07-28T14:27:45Z", "author": {"login": "JimSuplizio"}, "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "diffHunk": "@@ -0,0 +1,18 @@\n+@{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MzIwNQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg3NjgwNA==", "bodyText": "Yes there are various transient networking errors that we can completely avoided if we use all local scripts. Even using local modules things are a little difficult to debug and test locally as you always have to remove the module after you make an updated change to it before you can reinstall it. There have also been other odd issues like we had to disable the progress dialog in various places when installing even local modules. There were enough small issues that I felt we weren't getting anything useful from PS modules so I've decided to just use raw scripts.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13511#discussion_r461876804", "createdAt": "2020-07-28T21:01:55Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/MavenPackaging/MavenPackaging.psd1", "diffHunk": "@@ -0,0 +1,18 @@\n+@{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MzIwNQ=="}, "originalCommit": {"oid": "b353ffd05ad5eb7c9db3168c109b79c360a1b56d"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4857, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}