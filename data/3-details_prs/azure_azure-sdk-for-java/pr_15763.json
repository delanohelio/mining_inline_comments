{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzODIxODc2", "number": 15763, "title": "mgmt, improve sample code", "bodyText": "", "createdAt": "2020-09-28T01:56:41Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763", "merged": true, "mergeCommit": {"oid": "49cf2a1d6bffc2dd616a167c5aeeb87652a58107"}, "closed": true, "closedAt": "2020-09-28T04:40:13Z", "author": {"login": "weidongxu-microsoft"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNJdVLAH2gAyNDkzODIxODc2OjgzOGYxYTU5MGI0ZDlkNzRiNTBkNWFkNGRmZTc1NDcwNjAyZmE3NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNL8dvgFqTQ5NzE4MDM2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "838f1a590b4d9d74b50d5ad4dfe75470602fa772", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/838f1a590b4d9d74b50d5ad4dfe75470602fa772", "committedDate": "2020-09-28T01:39:26Z", "message": "rename curl/post method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22759ed7e33f8c10e582197eedeee8adea4ea926", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/22759ed7e33f8c10e582197eedeee8adea4ea926", "committedDate": "2020-09-28T01:46:35Z", "message": "randomResourceName in samples Utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "740bdc0429b2cf14f6806fc4c0d5d66ce97d1594", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/740bdc0429b2cf14f6806fc4c0d5d66ce97d1594", "committedDate": "2020-09-28T01:55:59Z", "message": "put randomResourceName to samples Utils"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MTQ1NjM2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763#pullrequestreview-497145636", "createdAt": "2020-09-28T01:57:13Z", "commit": {"oid": "740bdc0429b2cf14f6806fc4c0d5d66ce97d1594"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQwMTo1NzoxNFrOHYsTKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQwMTo1Nzo1MVrOHYsTqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY1MzY3Mw==", "bodyText": "Hide these to Utils.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763#discussion_r495653673", "createdAt": "2020-09-28T01:57:14Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appplatform/samples/ManageSpringCloud.java", "diffHunk": "@@ -72,13 +72,13 @@\n      * @throws IllegalStateException unexcepted state\n      */\n     public static boolean runSample(AzureResourceManager azureResourceManager, String clientId) throws IOException, KeyStoreException, CertificateException, NoSuchAlgorithmException {\n-        final String rgName = azureResourceManager.resourceGroups().manager().internalContext().randomResourceName(\"rg\", 24);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "740bdc0429b2cf14f6806fc4c0d5d66ce97d1594"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY1Mzc2Mw==", "bodyText": "Rename it to sendGetRequest.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763#discussion_r495653763", "createdAt": "2020-09-28T01:57:39Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/samples/Utils.java", "diffHunk": "@@ -3254,9 +3297,17 @@ public static void print(SpringApp springApp) {\n         System.out.println(info.toString());\n     }\n \n-    public static String curl(String urlString) {\n+    /**\n+     * Sends a GET request to target URL.\n+     * <p>\n+     * The method does not handle 301 redirect.\n+     *\n+     * @param urlString the target URL.\n+     * @return Content of the HTTP response.\n+     */\n+    public static String sendGetRequest(String urlString) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "740bdc0429b2cf14f6806fc4c0d5d66ce97d1594"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY1MzgwMg==", "bodyText": "Rename it to sendPostRequest.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763#discussion_r495653802", "createdAt": "2020-09-28T01:57:51Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/samples/Utils.java", "diffHunk": "@@ -3276,22 +3327,16 @@ public static String curl(String urlString) {\n         }\n     }\n \n-    public static String get(String urlString) {\n-        try {\n-            SimpleResponse<String> response = stringResponse(HTTP_CLIENT.getString(getHost(urlString), getPathAndQuery(urlString))).block();\n-            if (response != null) {\n-                return response.getValue();\n-            } else {\n-                return null;\n-            }\n-        } catch (Exception e) {\n-            return null;\n-        }\n-    }\n-\n-    public static String post(String urlString, String body) {\n+    /**\n+     * Sends a POST request to target URL.\n+     *\n+     * @param urlString the target URL.\n+     * @param body the request body.\n+     * @return Content of the HTTP response.\n+     * */\n+    public static String sendPostRequest(String urlString, String body) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "740bdc0429b2cf14f6806fc4c0d5d66ce97d1594"}, "originalPosition": 102}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92da4dabd621af13f397f013d614a0915259f607", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/92da4dabd621af13f397f013d614a0915259f607", "committedDate": "2020-09-28T02:13:59Z", "message": "Merge branch 'master' into mgmt_samples-improvement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0ff45d094398dec657bcc3d431e62948a65b745", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f0ff45d094398dec657bcc3d431e62948a65b745", "committedDate": "2020-09-28T02:14:57Z", "message": "update merged sample"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0f7e760826d4ff67bc3adec7277474c16fedf49", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d0f7e760826d4ff67bc3adec7277474c16fedf49", "committedDate": "2020-09-28T02:35:56Z", "message": "increase retry count, appservice seems take much longer to get app/function ready to use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7280707ee1c8d3f5c33b35710a3014aca1d5fc75", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7280707ee1c8d3f5c33b35710a3014aca1d5fc75", "committedDate": "2020-09-28T02:44:47Z", "message": "improvement on retry and logging\n\nSigned-off-by: Weidong Xu <weidxu@microsoft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f70c1d93f87b4c8d3d9620c43a670c2b0076d128", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f70c1d93f87b4c8d3d9620c43a670c2b0076d128", "committedDate": "2020-09-28T03:19:27Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2e0a718bdd76a4327e42482d087df69040fddf5", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b2e0a718bdd76a4327e42482d087df69040fddf5", "committedDate": "2020-09-28T04:11:29Z", "message": "ftp deploy to function app need to use a different path"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MTgwMzY3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15763#pullrequestreview-497180367", "createdAt": "2020-09-28T04:33:15Z", "commit": {"oid": "b2e0a718bdd76a4327e42482d087df69040fddf5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3229, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}