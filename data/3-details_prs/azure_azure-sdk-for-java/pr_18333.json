{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0Njk5NDc1", "number": 18333, "title": "Modify the configuration of post-logout-redirect-uri to support springboot 2.2.x version.", "bodyText": "Modify the configuration of post-logout-redirect-uri to support springboot 2.2.x version.", "createdAt": "2020-12-23T10:27:49Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18333", "merged": true, "mergeCommit": {"oid": "d7e82a516f04a4579d07b772d101f171ed9f1d90"}, "closed": true, "closedAt": "2020-12-24T06:32:35Z", "author": {"login": "lu-cheng"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo8gehgH2gAyNTQ0Njk5NDc1OmUyNWVlZDk5ZmI0OTNhNjFjNWRkNzJmNjMzZjk3M2EzN2U3OWFmZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpNxOoAFqTU1ODM2OTA4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e25eed99fb493a61c5dd72f633f973a37e79afea", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e25eed99fb493a61c5dd72f633f973a37e79afea", "committedDate": "2020-12-23T10:23:59Z", "message": "Modify the configuration of post-logout-redirect-uri to support springboot 2.2.x version."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MjcyNTky", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18333#pullrequestreview-558272592", "createdAt": "2020-12-23T23:32:14Z", "commit": {"oid": "e25eed99fb493a61c5dd72f633f973a37e79afea"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMzozMjoxNFrOIK6wHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMzozNDo1M1rOIK6yJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxOTI2MA==", "bodyText": "Can we delete #?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18333#discussion_r548319260", "createdAt": "2020-12-23T23:32:14Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-active-directory-webapp/src/main/resources/application.yml", "diffHunk": "@@ -13,4 +13,4 @@ azure:\n     tenant-id: <tenant-id>\n     user-group:\n       allowed-groups: group1, group2\n-    post-logout-redirect-uri: '{baseUrl}'\n+#    post-logout-redirect-uri: http://localhost:8080", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e25eed99fb493a61c5dd72f633f973a37e79afea"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxOTc4Mg==", "bodyText": "Add comment like this:\n// TODO remove deprecated method after we do not need to support spring-boot-2.2.x", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18333#discussion_r548319782", "createdAt": "2020-12-23T23:34:53Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/aad/webapp/AzureOAuth2Configuration.java", "diffHunk": "@@ -63,7 +65,11 @@ protected void configure(HttpSecurity http) throws Exception {\n     protected LogoutSuccessHandler oidcLogoutSuccessHandler() {\n         OidcClientInitiatedLogoutSuccessHandler oidcLogoutSuccessHandler =\n             new OidcClientInitiatedLogoutSuccessHandler(this.repo);\n-        oidcLogoutSuccessHandler.setPostLogoutRedirectUri(this.properties.getPostLogoutRedirectUri());\n+        String uri = this.properties.getPostLogoutRedirectUri();\n+        if(StringUtils.hasText(uri)){\n+            // The deprecated method is used here because it needs to support springboot 2.2.x version.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e25eed99fb493a61c5dd72f633f973a37e79afea"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0c4e914dbc6a520e523fddf2ccb9707ba1271ac", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a0c4e914dbc6a520e523fddf2ccb9707ba1271ac", "committedDate": "2020-12-24T01:08:19Z", "message": "modify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3bb4d12c68eddfe07fdcf419a369da6766d79aa", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c3bb4d12c68eddfe07fdcf419a369da6766d79aa", "committedDate": "2020-12-24T02:24:39Z", "message": "modify codestyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzY5MDg5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18333#pullrequestreview-558369089", "createdAt": "2020-12-24T06:30:40Z", "commit": {"oid": "c3bb4d12c68eddfe07fdcf419a369da6766d79aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1136, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}