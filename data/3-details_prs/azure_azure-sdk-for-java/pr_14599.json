{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1Njg2MTYy", "number": 14599, "title": "Add offset and length to SentenceSentiment", "bodyText": "Added offset and length to SentenceSentiment.\nRearrange offset and length order in other models.\n\nfixes: #13418", "createdAt": "2020-08-28T23:57:47Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599", "merged": true, "mergeCommit": {"oid": "2e2087d890940e7ded53cc831df10aa2b92fb03f"}, "closed": true, "closedAt": "2020-08-31T21:33:24Z", "author": {"login": "mssfang"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDd9A_AH2gAyNDc1Njg2MTYyOjY0NzZmNzNkNWY4MzU1YzYzMTY5Y2JjYzEyYzY0YTkzNDgxOGJiOWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEZcIQgFqTQ3ODk1ODAyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6476f73d5f8355c63169cbcc12c64a934818bb9f", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6476f73d5f8355c63169cbcc12c64a934818bb9f", "committedDate": "2020-08-28T23:52:54Z", "message": "add offset and length for sentimentSentiment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8f914029e29ac9d387803cc94f8db120ed7fcaba", "committedDate": "2020-08-31T04:17:13Z", "message": "review javadoc and make them consistency"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NzA2Mzgy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#pullrequestreview-478706382", "createdAt": "2020-08-31T15:17:10Z", "commit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxNzoxMFrOHJ9FFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToyMDo1NlrOHJ9N1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5OTk1OQ==", "bodyText": "nit: was just wondering why the comments disappeared from here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#discussion_r480199959", "createdAt": "2020-08-31T15:17:10Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/CategorizedEntity.java", "diffHunk": "@@ -10,43 +10,21 @@\n  */\n @Immutable\n public final class CategorizedEntity {\n-    /*\n-     * CategorizedEntity text as appears in the request.\n-     */\n     private final String text;\n-\n-    /*\n-     * CategorizedEntity category, such as Person/Location/Org/SSN etc.\n-     */\n     private final EntityCategory category;\n-\n-    /*\n-     * CategorizedEntity sub category, such as Age/Year/TimeRange etc.\n-     */\n     private final String subcategory;\n-\n-    /*\n-     * Start position for the entity text.\n-     */\n+    private final double confidenceScore;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwMTUyMg==", "bodyText": "I'm a little confused, since it appears that offset and length seemed to be already exposed for CategorizedEntity and LinkedEntityMatch, but not for SentenceSentiment. Could be reading this wrong, but I expected offset and length not to be exposed here before this PR", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#discussion_r480201522", "createdAt": "2020-08-31T15:19:49Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/CategorizedEntity.java", "diffHunk": "@@ -104,7 +84,17 @@ public String getSubcategory() {\n     }\n \n     /**\n-     * Get the offset of entity text.\n+     * Get the score property: If a well-known item is recognized, a decimal\n+     * number denoting the confidence level between 0 and 1 will be returned.\n+     *\n+     * @return The score value.\n+     */\n+    public double getConfidenceScore() {\n+        return this.confidenceScore;\n+    }\n+\n+    /**\n+     * Get the offset of entity text. The start position for the entity text in a document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwMjE5Nw==", "bodyText": "Can you add tests for the new offset and length properties?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#discussion_r480202197", "createdAt": "2020-08-31T15:20:56Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/SentenceSentiment.java", "diffHunk": "@@ -77,12 +97,20 @@ public TextSentiment getSentiment() {\n     }\n \n     /**\n-     * Get the confidence score of the sentiment label. All score values sum up to 1, the higher the score, the\n-     * higher the confidence in the sentiment.\n+     * Get the offset of sentence. The start position for the sentence in a document.\n      *\n-     * @return The {@link SentimentConfidenceScores}.\n+     * @return The offset of sentence.\n      */\n-    public SentimentConfidenceScores getConfidenceScores() {\n-        return confidenceScores;\n+    public int getOffset() {\n+        return offset;\n+    }\n+\n+    /**\n+     * Get the length of sentence.\n+     *\n+     * @return The length of sentence.\n+     */\n+    public int getLength() {\n+        return length;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "originalPosition": 112}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NzcxMDQx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#pullrequestreview-478771041", "createdAt": "2020-08-31T16:41:03Z", "commit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4ODY0Njg5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#pullrequestreview-478864689", "createdAt": "2020-08-31T18:59:30Z", "commit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxODo1OTozMFrOHKE0gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxOToxMjoxOFrOHKFRhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDMyNjc4NA==", "bodyText": "nit: Consider updating to start position for the sentence in a document.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#discussion_r480326784", "createdAt": "2020-08-31T18:59:30Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/SentenceSentiment.java", "diffHunk": "@@ -77,12 +97,20 @@ public TextSentiment getSentiment() {\n     }\n \n     /**\n-     * Get the confidence score of the sentiment label. All score values sum up to 1, the higher the score, the\n-     * higher the confidence in the sentiment.\n+     * Get the offset of sentence. The start position for the sentence in a document.\n      *\n-     * @return The {@link SentimentConfidenceScores}.\n+     * @return The offset of sentence.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDMzNDIxMw==", "bodyText": "These initializations are only on SentenceSentiment and not on LinkedEntityMatch or CategorizedEntity ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#discussion_r480334213", "createdAt": "2020-08-31T19:12:18Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/SentenceSentiment.java", "diffHunk": "@@ -7,51 +7,61 @@\n import com.azure.core.util.IterableStream;\n \n /**\n- * The {@link SentenceSentiment} model that contains a sentiment label of a sentence, confidence score of the\n- * sentiment label, length of the sentence and offset of the sentence within a document.\n+ * The {@link SentenceSentiment} model that contains a sentiment label of a sentence, confidence scores of the\n+ * sentiment label, mined opinions, offset of sentence, and length of sentence within a document.\n  */\n @Immutable\n public final class SentenceSentiment {\n     private final String text;\n-    private final SentimentConfidenceScores confidenceScores;\n     private final TextSentiment sentiment;\n+    private final SentimentConfidenceScores confidenceScores;\n     private final IterableStream<MinedOpinion> minedOpinions;\n+    private final int offset;\n+    private final int length;\n \n     /**\n      * Creates a {@link SentenceSentiment} model that describes the sentiment analysis of sentence.\n+     *\n      * @param text The sentence text.\n      * @param sentiment The sentiment label of the sentence.\n      * @param confidenceScores The sentiment confidence score (Softmax score) between 0 and 1, for each sentiment label.\n-     *   Higher values signify higher confidence.\n+     * Higher values signify higher confidence.\n      */\n     public SentenceSentiment(String text, TextSentiment sentiment, SentimentConfidenceScores confidenceScores) {\n         this.text = text;\n         this.sentiment = sentiment;\n-        this.minedOpinions = null;\n         this.confidenceScores = confidenceScores;\n+        this.minedOpinions = null;\n+        this.offset = 0;\n+        this.length = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTU4MDIz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14599#pullrequestreview-478958023", "createdAt": "2020-08-31T21:11:17Z", "commit": {"oid": "8f914029e29ac9d387803cc94f8db120ed7fcaba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 186, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}