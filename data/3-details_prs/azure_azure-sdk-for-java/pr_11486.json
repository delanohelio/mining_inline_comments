{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MTg5NzA1", "number": 11486, "title": "Added a null check for a JsonWebKey's id in CryptographyAsyncClient.", "bodyText": "Based on discussion in this issue.", "createdAt": "2020-05-28T01:05:07Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486", "merged": true, "mergeCommit": {"oid": "dd18845246cd795f411af0d8709e8aebc899b3a8"}, "closed": true, "closedAt": "2020-06-05T23:29:54Z", "author": {"login": "vcolin7"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcljM5vgH2gAyNDI0MTg5NzA1OjkzYWIyOTVhYzg5OTk5OWRhNjkxMWUwZDAyYjllYjBlNWRkY2M4ZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoaJ6sgFqTQyNTY1Njg1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "93ab295ac899999da6911e0d02b9eb0e5ddcc8d6", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/93ab295ac899999da6911e0d02b9eb0e5ddcc8d6", "committedDate": "2020-05-28T01:02:03Z", "message": "Added a null check for a JsonWebKey's id in CryptographyAsyncClient."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df0207d8ce6b4876edce5b4bd9b230e21354d2db", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/df0207d8ce6b4876edce5b4bd9b230e21354d2db", "committedDate": "2020-05-28T05:53:25Z", "message": "Modified tests for JWK id null check."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95285ae841e1226d22888798bd522262bec3e1bf", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/95285ae841e1226d22888798bd522262bec3e1bf", "committedDate": "2020-05-28T04:29:45Z", "message": "Modified tests for JWK id null check."}, "afterCommit": {"oid": "df0207d8ce6b4876edce5b4bd9b230e21354d2db", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/df0207d8ce6b4876edce5b4bd9b230e21354d2db", "committedDate": "2020-05-28T05:53:25Z", "message": "Modified tests for JWK id null check."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMjc5NTY0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#pullrequestreview-421279564", "createdAt": "2020-05-29T20:51:35Z", "commit": {"oid": "df0207d8ce6b4876edce5b4bd9b230e21354d2db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMDo1MTozNlrOGcrsTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMDo1MTozNlrOGcrsTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjcyOTE2Ng==", "bodyText": "Adding the check here, means LocalCryptographyClient will be required to provide an id too.\nThis seems like a requirement only for LocalKeyEncryptionKeyClient / LocalKeyEncryptionKeyAsyncClient", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#discussion_r432729166", "createdAt": "2020-05-29T20:51:36Z", "author": {"login": "g2vinay"}, "path": "sdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/CryptographyAsyncClient.java", "diffHunk": "@@ -79,6 +79,9 @@\n         if (!jsonWebKey.isValid()) {\n             throw new IllegalArgumentException(\"Json Web Key is not valid\");\n         }\n+        if (jsonWebKey.getId() == null) {\n+            throw new IllegalArgumentException(\"Json Web Key's id property is not configured\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df0207d8ce6b4876edce5b4bd9b230e21354d2db"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e61c497246f58047d8ed0cc99a73846d1978ebe1", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e61c497246f58047d8ed0cc99a73846d1978ebe1", "committedDate": "2020-06-01T05:53:27Z", "message": "Moved Key ID validation from CryptographyAsyncClient to LocalKeyEncryptionKeyClientBuilder. Changed test files to reflect this."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTExMjIw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#pullrequestreview-424911220", "createdAt": "2020-06-04T23:51:19Z", "commit": {"oid": "e61c497246f58047d8ed0cc99a73846d1978ebe1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTEzNzA0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#pullrequestreview-424913704", "createdAt": "2020-06-04T23:59:01Z", "commit": {"oid": "e61c497246f58047d8ed0cc99a73846d1978ebe1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMzo1OTowMVrOGfcLXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMzo1OTowMVrOGfcLXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyMDcwMQ==", "bodyText": "Update the docs above to reflect the exception.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#discussion_r435620701", "createdAt": "2020-06-04T23:59:01Z", "author": {"login": "g2vinay"}, "path": "sdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/LocalKeyEncryptionKeyClientBuilder.java", "diffHunk": "@@ -58,6 +58,9 @@ public KeyEncryptionKey buildKeyEncryptionKey(JsonWebKey key) {\n         if (key == null) {\n             throw logger.logExceptionAsError(new IllegalStateException(\n                 \"Json Web key value cannot be null and is required to create local key encryption key async client.\"));\n+        } else if (key.getId() == null) {\n+            throw logger.logExceptionAsError(new IllegalArgumentException(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e61c497246f58047d8ed0cc99a73846d1978ebe1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b2f6f7ef61724e6fe72498cd111a75949828c76", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b2f6f7ef61724e6fe72498cd111a75949828c76", "committedDate": "2020-06-05T20:26:53Z", "message": "Updated Javadoc on `LocalKeyEncryptionKeyClientBuilder.buildAsyncKeyEncryptionKey`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3c949aa3d49c2eb084fb925296e52c52e04bca0", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a3c949aa3d49c2eb084fb925296e52c52e04bca0", "committedDate": "2020-06-05T20:24:55Z", "message": "Updated Javadoc on `LocalKeyEncryptionKeyClientBuilder.buildAsyncKeyEncryptionKey`"}, "afterCommit": {"oid": "0b2f6f7ef61724e6fe72498cd111a75949828c76", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b2f6f7ef61724e6fe72498cd111a75949828c76", "committedDate": "2020-06-05T20:26:53Z", "message": "Updated Javadoc on `LocalKeyEncryptionKeyClientBuilder.buildAsyncKeyEncryptionKey`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NjU2ODUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11486#pullrequestreview-425656851", "createdAt": "2020-06-05T22:11:25Z", "commit": {"oid": "0b2f6f7ef61724e6fe72498cd111a75949828c76"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3976, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}