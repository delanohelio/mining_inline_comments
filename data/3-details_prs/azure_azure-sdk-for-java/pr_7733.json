{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3Mjk1NzQx", "number": 7733, "title": "Add az namespace span attribute for Storage", "bodyText": "[FEATURE REQ] Distributed tracing: set az.namespace attribute, here\nClient libraries must provide their respective Microsoft Resource Provider Namespace to the tracing plugin package for setting the namespace attribute on the outgoing spans.\nApproaches considered:\n\nAdd an overload of the RestProxy.create method that takes in the Map of the tracing attributes to be set on the outgoing spans. This update, will require the client builders to use this overload and specify the namespace argument to be passed down.\n\n\nDrawback:\n\nFor AutoRest generated clients, this update will result in changing one of the generated files and the changes will be overwritten every time a new code is generated.\n\n\n\n\nAdd a withContext method overload into FluxUtil that takes in a map to specify tracing attributes.\n\n\nDrawback:\n\nThis update will require changing the underlying withContext overload on all the methods.", "createdAt": "2020-01-27T03:03:23Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733", "merged": true, "mergeCommit": {"oid": "3a3863726dd6742ba4c6a7e2839d7fd8239af129"}, "closed": true, "closedAt": "2020-04-02T06:12:28Z", "author": {"login": "samvaity"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-VWk7ABqjI5ODA1MDA1NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTlDtdgBqjMxOTA1NzE3ODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "201cf31d6358e3eeae71eb6c2f8697b33b92d7dd", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/201cf31d6358e3eeae71eb6c2f8697b33b92d7dd", "committedDate": "2020-01-27T03:02:18Z", "message": "update for withDefaultContext"}, "afterCommit": {"oid": "c777a51f084c0650ab343701337e061d731297f6", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c777a51f084c0650ab343701337e061d731297f6", "committedDate": "2020-01-27T04:50:31Z", "message": "update for withDefaultContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c777a51f084c0650ab343701337e061d731297f6", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c777a51f084c0650ab343701337e061d731297f6", "committedDate": "2020-01-27T04:50:31Z", "message": "update for withDefaultContext"}, "afterCommit": {"oid": "12bb2d010c4ad3c3894bcf45ca910844f1c185b0", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/12bb2d010c4ad3c3894bcf45ca910844f1c185b0", "committedDate": "2020-01-27T21:32:50Z", "message": "update for withDefaultContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12bb2d010c4ad3c3894bcf45ca910844f1c185b0", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/12bb2d010c4ad3c3894bcf45ca910844f1c185b0", "committedDate": "2020-01-27T21:32:50Z", "message": "update for withDefaultContext"}, "afterCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8b00e6aa90d0c69b454e67000d6e66b02947c827", "committedDate": "2020-01-27T21:50:59Z", "message": "update for withDefaultContext"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MDkyODQy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-349092842", "createdAt": "2020-01-28T01:59:25Z", "commit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo1OToyNlrOFiXV0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMjowMToyOFrOFiXXZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODMyMw==", "bodyText": "You should be able to leverage Collections.singletonMap instead, it uses conceptually similar logic where it cannot be modified once created and would make this code much cleaner.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578323", "createdAt": "2020-01-28T01:59:26Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/Utility.java", "diffHunk": "@@ -28,6 +33,10 @@\n     private static final ClientLogger LOGGER = new ClientLogger(Utility.class);\n     private static final String UTF8_CHARSET = \"UTF-8\";\n     private static final String INVALID_DATE_STRING = \"Invalid Date String: %s.\";\n+    // Please see <a href=https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-services-resource-providers>here</a>\n+    // for more information on Azure resource provider namespaces.\n+    public static final Map<String, String> STORAGE_TRACING_PROPERTIES = Collections.unmodifiableMap(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODUwNQ==", "bodyText": "Did this need to become qualified?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578505", "createdAt": "2020-01-28T02:00:25Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlockBlobAsyncClient.java", "diffHunk": "@@ -186,7 +186,7 @@\n     public Mono<Response<BlockBlobItem>> uploadWithResponse(Flux<ByteBuffer> data, long length, BlobHttpHeaders headers,\n         Map<String, String> metadata, AccessTier tier, byte[] contentMd5, BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,\n+            return FluxUtil.withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODcyNw==", "bodyText": "This dependency could be removed as it will be transitively pulled from Storage Common, and really should be pulled from Storage Common.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578727", "createdAt": "2020-01-28T02:01:28Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/pom.xml", "diffHunk": "@@ -55,7 +55,7 @@\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core</artifactId>\n-      <version>1.2.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n+      <version>1.3.0-beta.1</version> <!-- {x-version-update;unreleased_com.azure:azure-core;dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjUwODkz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-351250893", "createdAt": "2020-01-31T01:34:30Z", "commit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTozNDozMFrOFj_PhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTo0MDoxNFrOFj_UHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MDY0NQ==", "bodyText": "The map of attributes doesn't necessarily have to be for tracer spans. Update javadoc here to just say  The map of attributes to be set on {@link Context}", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373280645", "createdAt": "2020-01-31T01:34:30Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "diffHunk": "@@ -103,6 +103,34 @@ private static void accept(ByteArrayOutputStream byteOutputStream, ByteBuffer by\n             .flatMap(serviceCall);\n     }\n \n+    /**\n+     * This method converts the incoming {@code subscriberContext} from {@link reactor.util.context.Context Reactor\n+     * Context} to {@link Context Azure Context}, adds the specified tracing attributes and calls the given lambda\n+     * function with this context and returns a single entity of type {@code T}\n+     * <p>\n+     * If the reactor context is empty, {@link Context#NONE} will be used to call the lambda function\n+     * </p>\n+     *\n+     * @param serviceCall serviceCall The lambda function that makes the service call into which azure context\n+     * will be passed\n+     * @param contextAttributes The map of attributes to be set on the tracer spans.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MTMxMA==", "bodyText": "There's a bit of duplication of code with these withContext methods. The withContext(Function) overload should just call into this method with an empty map and you should be able to delete toAzureContext() method.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373281310", "createdAt": "2020-01-31T01:37:35Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "diffHunk": "@@ -103,6 +103,34 @@ private static void accept(ByteArrayOutputStream byteOutputStream, ByteBuffer by\n             .flatMap(serviceCall);\n     }\n \n+    /**\n+     * This method converts the incoming {@code subscriberContext} from {@link reactor.util.context.Context Reactor\n+     * Context} to {@link Context Azure Context}, adds the specified tracing attributes and calls the given lambda\n+     * function with this context and returns a single entity of type {@code T}\n+     * <p>\n+     * If the reactor context is empty, {@link Context#NONE} will be used to call the lambda function\n+     * </p>\n+     *\n+     * @param serviceCall serviceCall The lambda function that makes the service call into which azure context\n+     * will be passed\n+     * @param contextAttributes The map of attributes to be set on the tracer spans.\n+     * @param  <T> The type of response returned from the service call\n+     * @return The response from service call\n+     */\n+    public static <T> Mono<T> withContext(Function<Context, Mono<T>> serviceCall,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MTgyMQ==", "bodyText": "Yeah, this qualifier can be removed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373281821", "createdAt": "2020-01-31T01:40:14Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlockBlobAsyncClient.java", "diffHunk": "@@ -186,7 +186,7 @@\n     public Mono<Response<BlockBlobItem>> uploadWithResponse(Flux<ByteBuffer> data, long length, BlobHttpHeaders headers,\n         Map<String, String> metadata, AccessTier tier, byte[] contentMd5, BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,\n+            return FluxUtil.withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODUwNQ=="}, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8b00e6aa90d0c69b454e67000d6e66b02947c827", "committedDate": "2020-01-27T21:50:59Z", "message": "update for withDefaultContext"}, "afterCommit": {"oid": "6e6d41f682a5889d7ca05d457b4bbed883d169b3", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6e6d41f682a5889d7ca05d457b4bbed883d169b3", "committedDate": "2020-02-18T18:28:01Z", "message": "update for withDefaultContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37288ab2703498404623d918fdc51bcc0dd0660e", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/37288ab2703498404623d918fdc51bcc0dd0660e", "committedDate": "2020-02-18T23:24:32Z", "message": "update all storage packages for tracing change"}, "afterCommit": {"oid": "f8cce54183329571c74fa93159fcd09f07f9edc0", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f8cce54183329571c74fa93159fcd09f07f9edc0", "committedDate": "2020-02-18T23:34:48Z", "message": "update all storage packages for tracing change"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08c59bbed653df1aa1e943a9bb10b168d3302ace", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/08c59bbed653df1aa1e943a9bb10b168d3302ace", "committedDate": "2020-02-19T01:38:57Z", "message": "resolving azure-core dependency issue"}, "afterCommit": {"oid": "6fa79321977f458423af68a991301b3c77e7c178", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6fa79321977f458423af68a991301b3c77e7c178", "committedDate": "2020-02-19T01:40:39Z", "message": "resolving azure-core dependency issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64f92f8fff5c9c1d8b8d2a2cd30d0253aa847d10", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/64f92f8fff5c9c1d8b8d2a2cd30d0253aa847d10", "committedDate": "2020-02-19T18:56:33Z", "message": "resolving multiple azure-core versions in nio storage client"}, "afterCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2e3f5163ecb96fd72375272483e8cfc835db3e8b", "committedDate": "2020-02-19T19:11:31Z", "message": "resolving multiple azure-core versions in nio storage client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDk3MTA1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-366497105", "createdAt": "2020-02-28T15:50:20Z", "commit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo1MDoyMFrOFv5qMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo1MDoyMFrOFv5qMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MjA4MA==", "bodyText": "Thoughts on changing this from using withContext and a String constant in Storage Common to making this a helper method in Storage Common?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r385772080", "createdAt": "2020-02-28T15:50:20Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobLeaseAsyncClient.java", "diffHunk": "@@ -121,7 +122,8 @@ public String getLeaseId() {\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<Response<String>> acquireLeaseWithResponse(int duration, RequestConditions modifiedRequestConditions) {\n         try {\n-            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context));\n+            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2OTU2NTUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-366956551", "createdAt": "2020-03-02T05:25:17Z", "commit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNToxOFrOFwT7Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNjoxNFrOFwT73w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjM5OQ==", "bodyText": "This can be deleted.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386202399", "createdAt": "2020-03-02T05:25:18Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "diffHunk": "@@ -101,11 +106,11 @@\n       <scope>test</scope>\n     </dependency>\n     <!--    <dependency>-->\n-<!--      <groupId>io.projectreactor</groupId>-->\n-<!--      <artifactId>reactor-test</artifactId>-->\n-<!--      <version>3.3.0.RELEASE</version>--> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n-<!--      <scope>test</scope>-->\n-<!--    </dependency>-->\n+    <!--      <groupId>io.projectreactor</groupId>-->\n+    <!--      <artifactId>reactor-test</artifactId>-->\n+    <!--      <version>3.3.0.RELEASE</version>--> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n+    <!--      <scope>test</scope>-->\n+    <!--    </dependency>-->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjU5MQ==", "bodyText": "This shouldn't be deleted as azure-core-test may bring in an older version of azure-core.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386202591", "createdAt": "2020-03-02T05:26:14Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob/pom.xml", "diffHunk": "@@ -52,11 +52,6 @@\n   </pluginRepositories>\n \n   <dependencies>\n-    <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDQyMDcz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-367442073", "createdAt": "2020-03-02T18:53:31Z", "commit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1MzozMlrOFwrJBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1MzozMlrOFwrJBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4Mjc5MQ==", "bodyText": "I think cryptography should get its core dependency through blobs, no?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386582791", "createdAt": "2020-03-02T18:53:32Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "diffHunk": "@@ -43,6 +43,11 @@\n       <artifactId>azure-storage-blob</artifactId>\n       <version>12.5.0-beta.1</version> <!-- {x-version-update;com.azure:azure-storage-blob;current} -->\n     </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDQ0NDcy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-367444472", "createdAt": "2020-03-02T18:56:58Z", "commit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1Njo1OFrOFwrQ2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1Njo1OFrOFwrQ2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4NDc5Mw==", "bodyText": "Since it seems like pretty much every call to withContext needs to pass this constant, I think it'd be helpful if we defined something in storage.common that's like withTracingContext or something to automatically add this. Otherwise, I think us Storage folks are liable to forget and mess up tracing later :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386584793", "createdAt": "2020-03-02T18:56:58Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "diffHunk": "@@ -152,7 +153,8 @@\n     public Mono<Response<AppendBlobItem>> createWithResponse(BlobHttpHeaders headers, Map<String, String> metadata,\n         BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context));\n+            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDQ1NjY5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-367445669", "createdAt": "2020-03-02T18:58:39Z", "commit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1ODo0MFrOFwrUfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1ODo0MFrOFwrUfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4NTcyNA==", "bodyText": "Thanks for cleaning up some of this for us :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386585724", "createdAt": "2020-03-02T18:58:40Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-queue/pom.xml", "diffHunk": "@@ -33,11 +33,6 @@\n   </scm>\n \n   <dependencies>\n-    <dependency>\n-      <groupId>com.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2e3f5163ecb96fd72375272483e8cfc835db3e8b", "committedDate": "2020-02-19T19:11:31Z", "message": "resolving multiple azure-core versions in nio storage client"}, "afterCommit": {"oid": "63e48b72be2e013f8054283ffe657377179b7c10", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/63e48b72be2e013f8054283ffe657377179b7c10", "committedDate": "2020-03-18T00:23:13Z", "message": "update review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63e48b72be2e013f8054283ffe657377179b7c10", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/63e48b72be2e013f8054283ffe657377179b7c10", "committedDate": "2020-03-18T00:23:13Z", "message": "update review comments"}, "afterCommit": {"oid": "fafcdc6c840034a470fc73e9cf1fdd56e012c4e3", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fafcdc6c840034a470fc73e9cf1fdd56e012c4e3", "committedDate": "2020-03-18T00:40:48Z", "message": "update review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MjU3NTgz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-377257583", "createdAt": "2020-03-18T21:45:05Z", "commit": {"oid": "92fe4e094315ed5456ae68773172a3f13b2d985f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "92fe4e094315ed5456ae68773172a3f13b2d985f", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/92fe4e094315ed5456ae68773172a3f13b2d985f", "committedDate": "2020-03-18T21:40:43Z", "message": "update to wrapper withContext"}, "afterCommit": {"oid": "85fbdec3e12f6ccfdfc984dfaf6eb2e11ccddea7", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/85fbdec3e12f6ccfdfc984dfaf6eb2e11ccddea7", "committedDate": "2020-03-25T19:39:41Z", "message": "update to wrapper withContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2579ab33da03b364b385117c2b93494d6d09bc26", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2579ab33da03b364b385117c2b93494d6d09bc26", "committedDate": "2020-04-01T06:44:00Z", "message": "update service context"}, "afterCommit": {"oid": "5bad87c12ca179c381e1c3b506e534c21a561e01", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5bad87c12ca179c381e1c3b506e534c21a561e01", "committedDate": "2020-04-01T07:38:41Z", "message": "update service context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcc40023b50b8c82303973fdd9694452c19dffca", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fcc40023b50b8c82303973fdd9694452c19dffca", "committedDate": "2020-04-01T07:41:27Z", "message": "update for withDefaultContext"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07c82316db566f17dd0762f9a05c5f0ea8ff16d1", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/07c82316db566f17dd0762f9a05c5f0ea8ff16d1", "committedDate": "2020-04-01T07:41:29Z", "message": "update review feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7388fd6d977629c195e781ea5a4192900da625a2", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7388fd6d977629c195e781ea5a4192900da625a2", "committedDate": "2020-04-01T07:41:31Z", "message": "update all storage packages for tracing change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538984fa20b29a1b98de32fbcf1182a8d3d01b89", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/538984fa20b29a1b98de32fbcf1182a8d3d01b89", "committedDate": "2020-04-01T07:41:33Z", "message": "resolving azure-core dependency issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca46f1a34709886fc9212571b95898608bfb51ab", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ca46f1a34709886fc9212571b95898608bfb51ab", "committedDate": "2020-04-01T07:41:34Z", "message": "resolving multiple azure-core versions in nio storage client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddd191cd7480b3bd2a303f24ab85666b9015e1c5", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ddd191cd7480b3bd2a303f24ab85666b9015e1c5", "committedDate": "2020-04-01T07:41:36Z", "message": "update review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99ee409b883d8f3b89eab96ce658ff0d0ac2fce3", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/99ee409b883d8f3b89eab96ce658ff0d0ac2fce3", "committedDate": "2020-04-01T07:41:38Z", "message": "update to wrapper withContext"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5bad87c12ca179c381e1c3b506e534c21a561e01", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5bad87c12ca179c381e1c3b506e534c21a561e01", "committedDate": "2020-04-01T07:38:41Z", "message": "update service context"}, "afterCommit": {"oid": "aff14bb30fdb017dc515e114b669f6006f348836", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/aff14bb30fdb017dc515e114b669f6006f348836", "committedDate": "2020-04-01T07:41:40Z", "message": "update service context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58c9c259175c2f3d4d1f76c8c04fdda91f8b7c37", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/58c9c259175c2f3d4d1f76c8c04fdda91f8b7c37", "committedDate": "2020-04-01T07:58:30Z", "message": "update service context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aff14bb30fdb017dc515e114b669f6006f348836", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/aff14bb30fdb017dc515e114b669f6006f348836", "committedDate": "2020-04-01T07:41:40Z", "message": "update service context"}, "afterCommit": {"oid": "58c9c259175c2f3d4d1f76c8c04fdda91f8b7c37", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/58c9c259175c2f3d4d1f76c8c04fdda91f8b7c37", "committedDate": "2020-04-01T07:58:30Z", "message": "update service context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ff71dfb8251e22abc2a6268f9a841a58003529a", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1ff71dfb8251e22abc2a6268f9a841a58003529a", "committedDate": "2020-04-01T16:43:05Z", "message": "Update null context to Context.NONE"}, "afterCommit": {"oid": "e8bd0d5a117673649baa9d45849e0f38e54f1284", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e8bd0d5a117673649baa9d45849e0f38e54f1284", "committedDate": "2020-04-01T17:02:06Z", "message": "Update null context to Context.NONE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8bd0d5a117673649baa9d45849e0f38e54f1284", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e8bd0d5a117673649baa9d45849e0f38e54f1284", "committedDate": "2020-04-01T17:02:06Z", "message": "Update null context to Context.NONE"}, "afterCommit": {"oid": "6faf33819505a106ff7839b09dff9577242b8337", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6faf33819505a106ff7839b09dff9577242b8337", "committedDate": "2020-04-01T17:26:07Z", "message": "Update null context to Context.NONE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODM4OTM4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#pullrequestreview-385838938", "createdAt": "2020-04-01T18:23:16Z", "commit": {"oid": "6faf33819505a106ff7839b09dff9577242b8337"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5557cd100bcdb7c57073b5f4bc5d2fe2ef21d3d7", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5557cd100bcdb7c57073b5f4bc5d2fe2ef21d3d7", "committedDate": "2020-04-02T05:00:55Z", "message": "Update null context to Context.NONE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6faf33819505a106ff7839b09dff9577242b8337", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6faf33819505a106ff7839b09dff9577242b8337", "committedDate": "2020-04-01T17:26:07Z", "message": "Update null context to Context.NONE"}, "afterCommit": {"oid": "5557cd100bcdb7c57073b5f4bc5d2fe2ef21d3d7", "author": {"user": {"login": "samvaity", "name": "Sameeksha Vaity"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5557cd100bcdb7c57073b5f4bc5d2fe2ef21d3d7", "committedDate": "2020-04-02T05:00:55Z", "message": "Update null context to Context.NONE"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2582, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}