{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNDAzNTEz", "number": 12671, "reviewThreads": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODowNzo0OFrOEKnJsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NTo0NFrOEgY4WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTYyNjcyOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODowNzo0OFrOGrwTAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODowNzo0OFrOGrwTAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzMzI0OA==", "bodyText": "There are multiple clients, so probably just drop \"client\" and say \"... Administration library.\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448533248", "createdAt": "2020-07-01T18:07:48Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -0,0 +1,127 @@\n+# Azure Key Vault Administration library for Java\n+\n+## Getting started\n+### Adding the package to your project\n+Maven dependency for the Azure Key Vault Administration client library. Add it to your project's POM file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTY0Njc1OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODoxNDoyNlrOGrwfxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDoyODo1NVrOGr5dqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNjUxOA==", "bodyText": "I thought \"begin\" was the preferred LRO prefix for every language but .NET.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448536518", "createdAt": "2020-07-01T18:14:26Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4MzQzNQ==", "bodyText": "You are right, I was looking at the .NET code when working on this and it must have slipped my mind.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448683435", "createdAt": "2020-07-02T00:28:55Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNjUxOA=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTY1MzA5OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODoxNjozOFrOGrwj-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxOTozMzoyOVrOGtkfqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNzU5Mw==", "bodyText": "@christothes I don't see this in .NET. Should it be?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448537593", "createdAt": "2020-07-01T18:16:38Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {\n+        return asyncClient.startBackup(blobStorageUrl, sasToken).getSyncPoller();\n+    }\n+\n+    /**\n+     * Initiates a full restore of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link SyncPoller} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<RestoreOperation, Void> startRestore(String blobStorageUrl, String sasToken, String folderName) {\n+        return asyncClient.startRestore(blobStorageUrl, sasToken, folderName).getSyncPoller();\n+    }\n+\n+    /**\n+     * Restores all versions of a given key using the supplied SAS token pointing to a previously stored Azure Blob storage backup folder.\n+     *\n+     * @param keyName        The name of the key to be restored.\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link PollerFlux} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<SelectiveKeyRestoreOperation, Void> startSelectiveRestore(String keyName, String blobStorageUrl, String sasToken, String folderName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4MzYwOQ==", "bodyText": "I added this because I remember us talking about having a selective restore operation in one of our team meetings. Not sure if that's still the plan.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448683609", "createdAt": "2020-07-02T00:29:38Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {\n+        return asyncClient.startBackup(blobStorageUrl, sasToken).getSyncPoller();\n+    }\n+\n+    /**\n+     * Initiates a full restore of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link SyncPoller} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<RestoreOperation, Void> startRestore(String blobStorageUrl, String sasToken, String folderName) {\n+        return asyncClient.startRestore(blobStorageUrl, sasToken, folderName).getSyncPoller();\n+    }\n+\n+    /**\n+     * Restores all versions of a given key using the supplied SAS token pointing to a previously stored Azure Blob storage backup folder.\n+     *\n+     * @param keyName        The name of the key to be restored.\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link PollerFlux} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<SelectiveKeyRestoreOperation, Void> startSelectiveRestore(String keyName, String blobStorageUrl, String sasToken, String folderName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNzU5Mw=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQzNzAzMw==", "bodyText": "I omitted this from the .NET client until the swagger update goes through to generalize the FullRestoreStatus method to RestoreStatus as it is shared across selective and full restore methods. Initially the swagger only called out the LRO endpoints for full, but I verified with the service team that both should leverage the same status endpoint. The PR is here Azure/azure-rest-api-specs#9842", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r450437033", "createdAt": "2020-07-06T19:33:29Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {\n+        return asyncClient.startBackup(blobStorageUrl, sasToken).getSyncPoller();\n+    }\n+\n+    /**\n+     * Initiates a full restore of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link SyncPoller} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<RestoreOperation, Void> startRestore(String blobStorageUrl, String sasToken, String folderName) {\n+        return asyncClient.startRestore(blobStorageUrl, sasToken, folderName).getSyncPoller();\n+    }\n+\n+    /**\n+     * Restores all versions of a given key using the supplied SAS token pointing to a previously stored Azure Blob storage backup folder.\n+     *\n+     * @param keyName        The name of the key to be restored.\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link PollerFlux} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<SelectiveKeyRestoreOperation, Void> startSelectiveRestore(String keyName, String blobStorageUrl, String sasToken, String folderName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNzU5Mw=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTczNjA5OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0Mzo0MVrOGrxYQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQyMDowNzo0MlrOHJTE9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MDk3OQ==", "bodyText": "You should have a single BackupOperation for both full- and selective-backup. The URI varies, but the functionality is exactly the same.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448550979", "createdAt": "2020-07-01T18:43:41Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDE5OQ==", "bodyText": "Actually we only have one BackupOperation. This is auto-generated code though, so to change the name of the operation we would need to add a custom directive to the AutoRest config file and that is discouraged. Please refer to this comment for more details.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684199", "createdAt": "2020-07-02T00:31:41Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MDk3OQ=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTUxMTc5OQ==", "bodyText": "Turns out we can use directives to rename models :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r479511799", "createdAt": "2020-08-28T20:07:42Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MDk3OQ=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTczNzMyOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0NDoxMVrOGrxZHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozMjowOVrOGr5hMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MTE5OA==", "bodyText": "The user should not be able to set status - or anything on this class. It's purely a return model.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448551198", "createdAt": "2020-07-01T18:44:11Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {\n+    /*\n+     * Status of the backup operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of backup operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the full backup operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * The start time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /*\n+     * Identifier for the full backup operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The Azure blob storage container Uri which contains the full backup\n+     */\n+    @JsonProperty(value = \"azureStorageBlobContainerUri\")\n+    private String azureStorageBlobContainerUri;\n+\n+    /**\n+     * Get the status property: Status of the backup operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the backup operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the FullBackupOperation object itself.\n+     */\n+    public FullBackupOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDMzNg==", "bodyText": "This is auto-generated code. You can refer to my comments on similar classes on this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684336", "createdAt": "2020-07-02T00:32:09Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {\n+    /*\n+     * Status of the backup operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of backup operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the full backup operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * The start time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /*\n+     * Identifier for the full backup operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The Azure blob storage container Uri which contains the full backup\n+     */\n+    @JsonProperty(value = \"azureStorageBlobContainerUri\")\n+    private String azureStorageBlobContainerUri;\n+\n+    /**\n+     * Get the status property: Status of the backup operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the backup operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the FullBackupOperation object itself.\n+     */\n+    public FullBackupOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MTE5OA=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTc0MzIyOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0NjowMlrOGrxc0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozMjozOFrOGr5hog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjE0Nw==", "bodyText": "Why is this public? See https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/keyvault/Azure.Security.KeyVault.Administration/api/Azure.Security.KeyVault.Administration.netstandard2.0.cs for what should be public (idiomatic details will differ, of course, but models and clients should largely be the same).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552147", "createdAt": "2020-07-01T18:46:02Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupResponse.java", "diffHunk": "@@ -0,0 +1,36 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.http.HttpHeaders;\n+import com.azure.core.http.HttpRequest;\n+import com.azure.core.http.rest.ResponseBase;\n+\n+/** Contains all response data for the fullBackup operation. */\n+public final class FullBackupResponse extends ResponseBase<FullBackupHeaders, FullBackupOperation> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDQ1MA==", "bodyText": "This is auto-generated code and is in an internal package. You can refer to my comments on similar classes on this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684450", "createdAt": "2020-07-02T00:32:38Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupResponse.java", "diffHunk": "@@ -0,0 +1,36 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.http.HttpHeaders;\n+import com.azure.core.http.HttpRequest;\n+import com.azure.core.http.rest.ResponseBase;\n+\n+/** Contains all response data for the fullBackup operation. */\n+public final class FullBackupResponse extends ResponseBase<FullBackupHeaders, FullBackupOperation> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjE0Nw=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTc0NDY0OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullRestoreOperationHeaders.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0NjoyNlrOGrxdng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozMjo1M1rOGr5h3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjM1MA==", "bodyText": "Why are headers classes (I saw one above) public? The user shouldn't have to worry about those.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552350", "createdAt": "2020-07-01T18:46:26Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullRestoreOperationHeaders.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullRestoreOperationHeaders model. */\n+@Fluent\n+public final class FullRestoreOperationHeaders {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDUxMA==", "bodyText": "Please refer to my comments above on the matter.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684510", "createdAt": "2020-07-02T00:32:53Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullRestoreOperationHeaders.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullRestoreOperationHeaders model. */\n+@Fluent\n+public final class FullRestoreOperationHeaders {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjM1MA=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTc0NzQ5OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/RestoreOperation.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0NzoxNFrOGrxfUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozMjo1OVrOGr5h9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1Mjc4NA==", "bodyText": "This is a read-only return model. Nothing should be settable.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552784", "createdAt": "2020-07-01T18:47:14Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/RestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The RestoreOperation model. */\n+@Fluent\n+public final class RestoreOperation {\n+    /*\n+     * Status of the restore operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of restore operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the restore operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * Identifier for the restore operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The start time of the restore operation\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the restore operation\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /**\n+     * Get the status property: Status of the restore operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the restore operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the RestoreOperation object itself.\n+     */\n+    public RestoreOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDUzMw==", "bodyText": "Please refer to my comments above on the matter.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684533", "createdAt": "2020-07-02T00:32:59Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/RestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The RestoreOperation model. */\n+@Fluent\n+public final class RestoreOperation {\n+    /*\n+     * Status of the restore operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of restore operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the restore operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * Identifier for the restore operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The start time of the restore operation\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the restore operation\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /**\n+     * Get the status property: Status of the restore operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the restore operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the RestoreOperation object itself.\n+     */\n+    public RestoreOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1Mjc4NA=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTc0OTIyOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SASTokenParameter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0Nzo1MFrOGrxgdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozMzowOFrOGr5iFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzA3Nw==", "bodyText": "Since the sasToken parameter in the client methods is a String, why is this model public?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448553077", "createdAt": "2020-07-01T18:47:50Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SASTokenParameter.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SASTokenParameter model. */\n+@Fluent\n+public final class SASTokenParameter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDU2Nw==", "bodyText": "Please refer to my comments above on the matter.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448684567", "createdAt": "2020-07-02T00:33:08Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SASTokenParameter.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SASTokenParameter model. */\n+@Fluent\n+public final class SASTokenParameter {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzA3Nw=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NTc1MDU0OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SelectiveKeyRestoreOperation.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0ODoxOVrOGrxhRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDo0MjowOFrOGr5rAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzI4Nw==", "bodyText": "There should be only a generic RestoreOperation for full- and selective-restore (similar to BackupOperation I mentoined above).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448553287", "createdAt": "2020-07-01T18:48:19Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SelectiveKeyRestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SelectiveKeyRestoreOperation model. */\n+@Fluent\n+public final class SelectiveKeyRestoreOperation {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4Njg1MQ==", "bodyText": "I agree there should only be one operation for restore, however, AutoRest generated an operation for the full restore and one for the selective restore that use different return types. This also made me write code to convert one to the other for getting an operation's status.\nI think we should ask the service team why they declared two different types for the restore operation (including header, response and parameter types) that have the same properties in their swagger. Here is how all these classes look like in Java.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448686851", "createdAt": "2020-07-02T00:42:08Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SelectiveKeyRestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SelectiveKeyRestoreOperation model. */\n+@Fluent\n+public final class SelectiveKeyRestoreOperation {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzI4Nw=="}, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MTU3MDg0OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjoyODo1OVrOHIYJnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjoyODo1OVrOHIYJnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU0NjMzNQ==", "bodyText": "Same comment as the other PR on removing this configuration.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r478546335", "createdAt": "2020-08-27T16:28:59Z", "author": {"login": "alzimmermsft"}, "path": "sdk/keyvault/azure-security-keyvault-administration/pom.xml", "diffHunk": "@@ -0,0 +1,109 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-security-keyvault-administration</artifactId>\n+  <version>4.1.0-beta.1</version> <!-- {x-version-update;com.azure:azure-security-keyvault-administration;current} -->\n+\n+  <name>Microsoft Azure client library for KeyVault Administration</name>\n+  <description>This module contains client library for Microsoft Azure KeyVault Administration.</description>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+  <distributionManagement>\n+    <site>\n+      <id>azure-java-build-docs</id>\n+      <url>${site.url}/site/${project.artifactId}</url>\n+    </site>\n+  </distributionManagement>\n+\n+  <scm>\n+    <url>scm:git:https://github.com/Azure/azure-sdk-for-java</url>\n+    <connection>scm:git:git@github.com:Azure/azure-sdk-for-java.git</connection>\n+    <tag>HEAD</tag>\n+  </scm>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+        <version>3.0.0-M3</version> <!-- {x-version-update;org.apache.maven.plugins:maven-surefire-plugin;external_dependency} -->\n+        <configuration>\n+          <rerunFailingTestsCount>3</rerunFailingTestsCount>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de7fb1aabc1ed10d0904017abb1f3354032f3bf"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNzMyMTQ2OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzoyMjoyNFrOHMPO-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMzowMDo1NFrOHM6HKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU5NDU1NQ==", "bodyText": "Would it make more sense to lower-case these and compare case-insensitively? I wouldn't trust the service implementation so much in this regard.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r482594555", "createdAt": "2020-09-02T23:22:24Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -156,19 +178,19 @@ public String getVaultUrl() {\n         };\n     }\n \n-    private Mono<PollResponse<FullBackupOperation>> processBackupOperationResponse(Response<FullBackupOperation> response) {\n+    private Mono<PollResponse<KeyVaultBackupOperation>> processBackupOperationResponse(Response<KeyVaultBackupOperation> response) {\n         String operationStatus = response.getValue().getStatus().toLowerCase();\n \n         return Mono.just(new PollResponse<>(toLongRunningOperationStatus(operationStatus), response.getValue()));\n     }\n \n     private LongRunningOperationStatus toLongRunningOperationStatus(String operationStatus) {\n         switch (operationStatus) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI3NjAwNg==", "bodyText": "Sounds good. I will add that small change.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483276006", "createdAt": "2020-09-03T21:58:27Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -156,19 +178,19 @@ public String getVaultUrl() {\n         };\n     }\n \n-    private Mono<PollResponse<FullBackupOperation>> processBackupOperationResponse(Response<FullBackupOperation> response) {\n+    private Mono<PollResponse<KeyVaultBackupOperation>> processBackupOperationResponse(Response<KeyVaultBackupOperation> response) {\n         String operationStatus = response.getValue().getStatus().toLowerCase();\n \n         return Mono.just(new PollResponse<>(toLongRunningOperationStatus(operationStatus), response.getValue()));\n     }\n \n     private LongRunningOperationStatus toLongRunningOperationStatus(String operationStatus) {\n         switch (operationStatus) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU5NDU1NQ=="}, "originalCommit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI5NzA2NA==", "bodyText": "nit: To guard against possible string based breaking changes in the API, I decided to base this status on the state of both the error and endTime values.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483297064", "createdAt": "2020-09-03T23:00:54Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -156,19 +178,19 @@ public String getVaultUrl() {\n         };\n     }\n \n-    private Mono<PollResponse<FullBackupOperation>> processBackupOperationResponse(Response<FullBackupOperation> response) {\n+    private Mono<PollResponse<KeyVaultBackupOperation>> processBackupOperationResponse(Response<KeyVaultBackupOperation> response) {\n         String operationStatus = response.getValue().getStatus().toLowerCase();\n \n         return Mono.just(new PollResponse<>(toLongRunningOperationStatus(operationStatus), response.getValue()));\n     }\n \n     private LongRunningOperationStatus toLongRunningOperationStatus(String operationStatus) {\n         switch (operationStatus) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU5NDU1NQ=="}, "originalCommit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk1MzIyOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzozOTo0OFrOHNN8VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzozOTo0OFrOHNN8VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMTk3Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.\n          \n          \n            \n            In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyVaultBackupClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483621973", "createdAt": "2020-09-04T13:39:48Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -24,7 +24,7 @@ Maven dependency for the Azure Key Vault Administration library. Add it to your\n     ```\n \n ### Authenticate the client\n-In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-key-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.\n+In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk1ODQwOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MToxM1rOHNN_eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MToxM1rOHNN_eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMjc3OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Key Vault Access Control client\n          \n          \n            \n            ### Key Vault Backup client", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483622778", "createdAt": "2020-09-04T13:41:13Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk2MTU2OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MjowNlrOHNOBVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MjowNlrOHNOBVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMzI1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n          \n          \n            \n            Restore a specific key from a backup using `beginSelectiveRestore`.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483623252", "createdAt": "2020-09-04T13:42:06Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 92}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk2NTM1OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MzowOVrOHNODrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MzowOVrOHNODrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMzg1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:\n          \n          \n            \n            The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup client tasks, including:", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483623853", "createdAt": "2020-09-04T13:43:09Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String> selectiveRestorePoller =\n+    backupClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+        \"<folder-name>\");\n+\n+selectiveRestorePoller.waitForCompletion();\n+String blobUri = selectiveRestorePoller.getFinalResult();\n+\n+System.out.printf(\"Key backup restored from: %s%n\", blobUri);\n+```\n \n ### Async API\n-To be added.\n+The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk3MjMxOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NDo1N1rOHNOH6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NDo1N1rOHNOH6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyNDkzNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                backupClient.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")\n          \n          \n            \n                client.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483624936", "createdAt": "2020-09-04T13:44:57Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String> selectiveRestorePoller =\n+    backupClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+        \"<folder-name>\");\n+\n+selectiveRestorePoller.waitForCompletion();\n+String blobUri = selectiveRestorePoller.getFinalResult();\n+\n+System.out.printf(\"Key backup restored from: %s%n\", blobUri);\n+```\n \n ### Async API\n-To be added.\n+The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault asynchronously](#backup-a-key-vault-asynchronously)\n+- [Restore a Key Vault asynchronously](#restore-a-collection-of-keys-asynchronously)\n+- [Restore a key asynchronously](#selectively-restore-a-key-asynchronously)\n+\n+> Note : You should add `System.in.read()` or `Thread.sleep()` after the function calls in the main class/thread to allow async functions/operations to execute and finish before the main application/thread exits.\n+\n+### Backup a Key Vault asynchronously\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+asyncClient.beginBackup(blobStorageUrl, sasToken)\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+    \n+            if (pollResponse.getStatus().isComplete()) {\n+                pollResponse.getFinalResult().subscribe(result -> System.out.println(\"Backup location: \" + result));\n+            }\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Backup complete\");\n+        });\n+```\n \n-## Key concepts\n-To be added.\n+### Restore a collection of keys asynchronously\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+backupAsyncClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\")\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Restore operation complete\");\n+        });\n+```\n+\n+### Selectively restore a key asynchronously\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+backupAsyncClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Selective restore operation complete\");\n+        });\n+```\n \n ## Troubleshooting\n ### General\n-To be added.\n+Azure Key Vault Access Control clients raise exceptions. For example, if you try to retrieve a role assignment after it is deleted a `404` error is returned, indicating the resource was not found. In the following snippet, the error is handled gracefully by catching the exception and displaying additional information about the error.\n+\n+```java\n+try {\n+    backupClient.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 190}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzk3NTI5OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NTo0NFrOHNOJrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NTo0NFrOHNOJrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyNTM5MQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483625391", "createdAt": "2020-09-04T13:45:44Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -93,7 +93,7 @@ public String getVaultUrl() {\n      * @throws NullPointerException if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultBackupOperation, Void> beginBackup(String blobStorageUrl, String sasToken) {\n+    public PollerFlux<KeyVaultBackupOperation, String> beginBackup(String blobStorageUrl, String sasToken) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3663, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}