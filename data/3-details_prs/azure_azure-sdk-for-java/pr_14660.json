{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2NTA5NTI1", "number": 14660, "title": "Initial test framework", "bodyText": "There is quite a bit of difference between azure test core for Java and azure test core for .NET\nOne of them being that Test framework for java doesn't support encrypted user configuration.\nFor the time being we have to store the configurations as environment variables until I hash out a path forward to make that a lot more convenient.", "createdAt": "2020-08-31T20:00:30Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660", "merged": true, "mergeCommit": {"oid": "4a748496dfe96144f31d6b23c2a3ef568855628c"}, "closed": true, "closedAt": "2020-08-31T23:30:33Z", "author": {"login": "azabbasi"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEYZtSAH2gAyNDc2NTA5NTI1OmIyZTVhMmFiNTNhZGI5NDRjODQ4NWI1ZTg2NWVmMzliZjA1MDNhNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEbZ8_gFqTQ3OTAzODE2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b2e5a2ab53adb944c8485b5e865ef39bf0503a75", "committedDate": "2020-08-31T19:58:44Z", "message": "Initial test framework"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTEzNjEw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478913610", "createdAt": "2020-08-31T20:01:16Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowMToxNlrOHKHTDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowMToxNlrOHKHTDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM2NzM3NA==", "bodyText": "This is required to make sure no one checks in their encrypted environment variables.\nThere is an identical rule for .NET repo", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480367374", "createdAt": "2020-08-31T20:01:16Z", "author": {"login": "azabbasi"}, "path": ".gitignore", "diffHunk": "@@ -9,6 +9,9 @@ temp/\n # Spring\n **/*packageOutputDirectory*\n \n+# Sensitive files", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTE3MjE2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478917216", "createdAt": "2020-08-31T20:06:52Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNjo1MlrOHKHdxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNjo1MlrOHKHdxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM3MDExOA==", "bodyText": "space between () and {?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480370118", "createdAt": "2020-08-31T20:06:52Z", "author": {"login": "drwill-ms"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/test/java/com/azure/digitaltwins/core/DigitalTwinsTestBase.java", "diffHunk": "@@ -0,0 +1,90 @@\n+package com.azure.digitaltwins.core;\n+\n+import com.azure.core.http.policy.HttpLogDetailLevel;\n+import com.azure.core.http.policy.HttpLogOptions;\n+import com.azure.core.http.policy.HttpPipelinePolicy;\n+import com.azure.core.test.TestBase;\n+import com.azure.core.test.TestMode;\n+import com.azure.core.util.Configuration;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.identity.ClientSecretCredentialBuilder;\n+\n+import java.util.Locale;\n+\n+public class DigitalTwinsTestBase extends TestBase\n+{\n+    protected static final String TENANT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"TENANT_ID\", \"tenantId\");\n+\n+    protected static final String CLIENT_SECRET = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_SECRET\", \"clientSecret\");\n+\n+    protected static final String CLIENT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_ID\", \"clientId\");\n+\n+    protected static final String DIGITALTWINS_URL = Configuration.getGlobalConfiguration()\n+        .get(\"DIGITALTWINS_URL\", \"https://playback.api.wus2.digitaltwins.azure.net\");\n+\n+    protected DigitalTwinsClientBuilder getDigitalTwinsClientBuilder(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTE3NDcx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478917471", "createdAt": "2020-08-31T20:07:17Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNzoxN1rOHKHejA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNzoxN1rOHKHejA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM3MDMxNg==", "bodyText": "space between if and (?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480370316", "createdAt": "2020-08-31T20:07:17Z", "author": {"login": "drwill-ms"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/test/java/com/azure/digitaltwins/core/DigitalTwinsTestBase.java", "diffHunk": "@@ -0,0 +1,90 @@\n+package com.azure.digitaltwins.core;\n+\n+import com.azure.core.http.policy.HttpLogDetailLevel;\n+import com.azure.core.http.policy.HttpLogOptions;\n+import com.azure.core.http.policy.HttpPipelinePolicy;\n+import com.azure.core.test.TestBase;\n+import com.azure.core.test.TestMode;\n+import com.azure.core.util.Configuration;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.identity.ClientSecretCredentialBuilder;\n+\n+import java.util.Locale;\n+\n+public class DigitalTwinsTestBase extends TestBase\n+{\n+    protected static final String TENANT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"TENANT_ID\", \"tenantId\");\n+\n+    protected static final String CLIENT_SECRET = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_SECRET\", \"clientSecret\");\n+\n+    protected static final String CLIENT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_ID\", \"clientId\");\n+\n+    protected static final String DIGITALTWINS_URL = Configuration.getGlobalConfiguration()\n+        .get(\"DIGITALTWINS_URL\", \"https://playback.api.wus2.digitaltwins.azure.net\");\n+\n+    protected DigitalTwinsClientBuilder getDigitalTwinsClientBuilder(){\n+        DigitalTwinsClientBuilder builder = new DigitalTwinsClientBuilder()\n+            .endpoint(DIGITALTWINS_URL)\n+            .tokenCredential(new ClientSecretCredentialBuilder()\n+                .tenantId(TENANT_ID)\n+                .clientId(CLIENT_ID)\n+                .clientSecret(CLIENT_SECRET)\n+                .build());\n+\n+        if(interceptorManager.isPlaybackMode()){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTE3Nzgz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478917783", "createdAt": "2020-08-31T20:07:46Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNzo0NlrOHKHffw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowNzo0NlrOHKHffw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM3MDU1OQ==", "bodyText": "nice!", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480370559", "createdAt": "2020-08-31T20:07:46Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/test/java/com/azure/digitaltwins/core/DigitalTwinsTestBase.java", "diffHunk": "@@ -0,0 +1,90 @@\n+package com.azure.digitaltwins.core;\n+\n+import com.azure.core.http.policy.HttpLogDetailLevel;\n+import com.azure.core.http.policy.HttpLogOptions;\n+import com.azure.core.http.policy.HttpPipelinePolicy;\n+import com.azure.core.test.TestBase;\n+import com.azure.core.test.TestMode;\n+import com.azure.core.util.Configuration;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.identity.ClientSecretCredentialBuilder;\n+\n+import java.util.Locale;\n+\n+public class DigitalTwinsTestBase extends TestBase\n+{\n+    protected static final String TENANT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"TENANT_ID\", \"tenantId\");\n+\n+    protected static final String CLIENT_SECRET = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_SECRET\", \"clientSecret\");\n+\n+    protected static final String CLIENT_ID = Configuration.getGlobalConfiguration()\n+        .get(\"CLIENT_ID\", \"clientId\");\n+\n+    protected static final String DIGITALTWINS_URL = Configuration.getGlobalConfiguration()\n+        .get(\"DIGITALTWINS_URL\", \"https://playback.api.wus2.digitaltwins.azure.net\");\n+\n+    protected DigitalTwinsClientBuilder getDigitalTwinsClientBuilder(){\n+        DigitalTwinsClientBuilder builder = new DigitalTwinsClientBuilder()\n+            .endpoint(DIGITALTWINS_URL)\n+            .tokenCredential(new ClientSecretCredentialBuilder()\n+                .tenantId(TENANT_ID)\n+                .clientId(CLIENT_ID)\n+                .clientSecret(CLIENT_SECRET)\n+                .build());\n+\n+        if(interceptorManager.isPlaybackMode()){\n+            builder.httpClient(interceptorManager.getPlaybackClient());\n+            return builder;\n+        }\n+\n+        // TODO: investigate whether or not we need to add a retry policy.\n+\n+        // If it is record mode, we add record mode policies to the builder.\n+        // There is no isRecordMode method on interceptorManger.\n+        if(!interceptorManager.isLiveMode()){\n+            builder.addPolicy(interceptorManager.getRecordPolicy());\n+        }\n+\n+        return builder;\n+    }\n+\n+    protected DigitalTwinsClientBuilder getDigitalTwinsClientBuilder(HttpPipelinePolicy... policies){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTE4MDgw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478918080", "createdAt": "2020-08-31T20:08:17Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowODoxN1rOHKHgWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDowODoxN1rOHKHgWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM3MDc3OQ==", "bodyText": "what are these values?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480370779", "createdAt": "2020-08-31T20:08:17Z", "author": {"login": "drwill-ms"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/test/prerequisite/manifest.json", "diffHunk": "@@ -0,0 +1,9 @@\n+[{\n+    \"resourceAppId\": \"0b07f429-9f4b-4714-9392-cc5e8e80c8b0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTE4NTgy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-478918582", "createdAt": "2020-08-31T20:08:58Z", "commit": {"oid": "b2e5a2ab53adb944c8485b5e865ef39bf0503a75"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36a7af93e0e92dde02ea995b8adef9c10c1a68bb", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/36a7af93e0e92dde02ea995b8adef9c10c1a68bb", "committedDate": "2020-08-31T20:08:58Z", "message": "move test prerequisites to resoruces."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75670a936a48054d746097e8cbd37132bb0dd389", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/75670a936a48054d746097e8cbd37132bb0dd389", "committedDate": "2020-08-31T20:12:31Z", "message": "Update DigitalTwinsTestBase.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dceb128707abc31b4045c5598537516906f88371", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dceb128707abc31b4045c5598537516906f88371", "committedDate": "2020-08-31T20:33:12Z", "message": "Add session recordings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0cd1b7f51180929a2f2f6a2e4e849c09cc5cdde", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b0cd1b7f51180929a2f2f6a2e4e849c09cc5cdde", "committedDate": "2020-08-31T21:59:26Z", "message": "Update DigitalTwinsTestBase.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "599ca590ebdb9a48f4413cef89908e4ac05d0056", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/599ca590ebdb9a48f4413cef89908e4ac05d0056", "committedDate": "2020-08-31T22:20:28Z", "message": "lower the code coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bceb38dd109b1fc321930ef0b4ad8e1336f71641", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/bceb38dd109b1fc321930ef0b4ad8e1336f71641", "committedDate": "2020-08-31T22:56:38Z", "message": "remove manifest file as we now use arm templates to deploy resources and manage permissions."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5MDMzMzQy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-479033342", "createdAt": "2020-08-31T23:22:08Z", "commit": {"oid": "bceb38dd109b1fc321930ef0b4ad8e1336f71641"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5MDM4MTYx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#pullrequestreview-479038161", "createdAt": "2020-08-31T23:28:43Z", "commit": {"oid": "bceb38dd109b1fc321930ef0b4ad8e1336f71641"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMzoyODo0M1rOHKNprQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMzoyODo0M1rOHKNprQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3MTQ2OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14660#discussion_r480471469", "createdAt": "2020-08-31T23:28:43Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/pom.xml", "diffHunk": "@@ -15,28 +15,65 @@\n     <artifactId>azure-digitaltwins-core</artifactId>\n     <version>1.0.0-beta.1</version> <!-- {x-version-update;com.azure:azure-digitaltwins-core;current} -->\n \n+  <properties>\n+    <!-- These are the code coverage settings that should eventually be removed to inherit them from the parent pom file. for the time being we have a very low code coverage so we are dropping it to a very low setting -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bceb38dd109b1fc321930ef0b4ad8e1336f71641"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4979, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}