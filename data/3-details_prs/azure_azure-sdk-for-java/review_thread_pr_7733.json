{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3Mjk1NzQx", "number": 7733, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo1OToyNlrODbFQfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1ODozOVrODkYnMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzI0Mjg3OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/Utility.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo1OToyNlrOFiXV0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMDoyMjozNlrOFrRJ9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODMyMw==", "bodyText": "You should be able to leverage Collections.singletonMap instead, it uses conceptually similar logic where it cannot be modified once created and would make this code much cleaner.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578323", "createdAt": "2020-01-28T01:59:26Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/Utility.java", "diffHunk": "@@ -28,6 +33,10 @@\n     private static final ClientLogger LOGGER = new ClientLogger(Utility.class);\n     private static final String UTF8_CHARSET = \"UTF-8\";\n     private static final String INVALID_DATE_STRING = \"Invalid Date String: %s.\";\n+    // Please see <a href=https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-services-resource-providers>here</a>\n+    // for more information on Azure resource provider namespaces.\n+    public static final Map<String, String> STORAGE_TRACING_PROPERTIES = Collections.unmodifiableMap(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkxNDE2NA==", "bodyText": "updated.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r380914164", "createdAt": "2020-02-18T20:22:36Z", "author": {"login": "samvaity"}, "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/Utility.java", "diffHunk": "@@ -28,6 +33,10 @@\n     private static final ClientLogger LOGGER = new ClientLogger(Utility.class);\n     private static final String UTF8_CHARSET = \"UTF-8\";\n     private static final String INVALID_DATE_STRING = \"Invalid Date String: %s.\";\n+    // Please see <a href=https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-services-resource-providers>here</a>\n+    // for more information on Azure resource provider namespaces.\n+    public static final Map<String, String> STORAGE_TRACING_PROPERTIES = Collections.unmodifiableMap(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODMyMw=="}, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzI0NDAzOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlockBlobAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMjowMDoyNVrOFiXWiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTo0MDoxNFrOFj_UHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODUwNQ==", "bodyText": "Did this need to become qualified?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578505", "createdAt": "2020-01-28T02:00:25Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlockBlobAsyncClient.java", "diffHunk": "@@ -186,7 +186,7 @@\n     public Mono<Response<BlockBlobItem>> uploadWithResponse(Flux<ByteBuffer> data, long length, BlobHttpHeaders headers,\n         Map<String, String> metadata, AccessTier tier, byte[] contentMd5, BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,\n+            return FluxUtil.withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MTgyMQ==", "bodyText": "Yeah, this qualifier can be removed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373281821", "createdAt": "2020-01-31T01:40:14Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlockBlobAsyncClient.java", "diffHunk": "@@ -186,7 +186,7 @@\n     public Mono<Response<BlockBlobItem>> uploadWithResponse(Flux<ByteBuffer> data, long length, BlobHttpHeaders headers,\n         Map<String, String> metadata, AccessTier tier, byte[] contentMd5, BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,\n+            return FluxUtil.withContext(context -> uploadWithResponse(data, length, headers, metadata, tier, contentMd5,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODUwNQ=="}, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzI0NTQ2OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMjowMToyOFrOFiXXZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMjowMToyOFrOFiXXZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3ODcyNw==", "bodyText": "This dependency could be removed as it will be transitively pulled from Storage Common, and really should be pulled from Storage Common.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r371578727", "createdAt": "2020-01-28T02:01:28Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/pom.xml", "diffHunk": "@@ -55,7 +55,7 @@\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core</artifactId>\n-      <version>1.2.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n+      <version>1.3.0-beta.1</version> <!-- {x-version-update;unreleased_com.azure:azure-core;dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODA1NjA4OnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTozNDozMFrOFj_PhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTozNDozMFrOFj_PhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MDY0NQ==", "bodyText": "The map of attributes doesn't necessarily have to be for tracer spans. Update javadoc here to just say  The map of attributes to be set on {@link Context}", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373280645", "createdAt": "2020-01-31T01:34:30Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "diffHunk": "@@ -103,6 +103,34 @@ private static void accept(ByteArrayOutputStream byteOutputStream, ByteBuffer by\n             .flatMap(serviceCall);\n     }\n \n+    /**\n+     * This method converts the incoming {@code subscriberContext} from {@link reactor.util.context.Context Reactor\n+     * Context} to {@link Context Azure Context}, adds the specified tracing attributes and calls the given lambda\n+     * function with this context and returns a single entity of type {@code T}\n+     * <p>\n+     * If the reactor context is empty, {@link Context#NONE} will be used to call the lambda function\n+     * </p>\n+     *\n+     * @param serviceCall serviceCall The lambda function that makes the service call into which azure context\n+     * will be passed\n+     * @param contextAttributes The map of attributes to be set on the tracer spans.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODA2MDI1OnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTozNzozNVrOFj_SHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMDoyNDoyOFrOFrRM5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MTMxMA==", "bodyText": "There's a bit of duplication of code with these withContext methods. The withContext(Function) overload should just call into this method with an empty map and you should be able to delete toAzureContext() method.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r373281310", "createdAt": "2020-01-31T01:37:35Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "diffHunk": "@@ -103,6 +103,34 @@ private static void accept(ByteArrayOutputStream byteOutputStream, ByteBuffer by\n             .flatMap(serviceCall);\n     }\n \n+    /**\n+     * This method converts the incoming {@code subscriberContext} from {@link reactor.util.context.Context Reactor\n+     * Context} to {@link Context Azure Context}, adds the specified tracing attributes and calls the given lambda\n+     * function with this context and returns a single entity of type {@code T}\n+     * <p>\n+     * If the reactor context is empty, {@link Context#NONE} will be used to call the lambda function\n+     * </p>\n+     *\n+     * @param serviceCall serviceCall The lambda function that makes the service call into which azure context\n+     * will be passed\n+     * @param contextAttributes The map of attributes to be set on the tracer spans.\n+     * @param  <T> The type of response returned from the service call\n+     * @return The response from service call\n+     */\n+    public static <T> Mono<T> withContext(Function<Context, Mono<T>> serviceCall,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkxNDkxOA==", "bodyText": "Updated to call in the withContext overload with an empty map. However, toAzureContext() is still needed, for fluxContext() method.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r380914918", "createdAt": "2020-02-18T20:24:28Z", "author": {"login": "samvaity"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/FluxUtil.java", "diffHunk": "@@ -103,6 +103,34 @@ private static void accept(ByteArrayOutputStream byteOutputStream, ByteBuffer by\n             .flatMap(serviceCall);\n     }\n \n+    /**\n+     * This method converts the incoming {@code subscriberContext} from {@link reactor.util.context.Context Reactor\n+     * Context} to {@link Context Azure Context}, adds the specified tracing attributes and calls the given lambda\n+     * function with this context and returns a single entity of type {@code T}\n+     * <p>\n+     * If the reactor context is empty, {@link Context#NONE} will be used to call the lambda function\n+     * </p>\n+     *\n+     * @param serviceCall serviceCall The lambda function that makes the service call into which azure context\n+     * will be passed\n+     * @param contextAttributes The map of attributes to be set on the tracer spans.\n+     * @param  <T> The type of response returned from the service call\n+     * @return The response from service call\n+     */\n+    public static <T> Mono<T> withContext(Function<Context, Mono<T>> serviceCall,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4MTMxMA=="}, "originalCommit": {"oid": "8b00e6aa90d0c69b454e67000d6e66b02947c827"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4OTI4ODU4OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobLeaseAsyncClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo1MDoyMFrOFv5qMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMDo0NzowMlrOF3y2Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MjA4MA==", "bodyText": "Thoughts on changing this from using withContext and a String constant in Storage Common to making this a helper method in Storage Common?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r385772080", "createdAt": "2020-02-28T15:50:20Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobLeaseAsyncClient.java", "diffHunk": "@@ -121,7 +122,8 @@ public String getLeaseId() {\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<Response<String>> acquireLeaseWithResponse(int duration, RequestConditions modifiedRequestConditions) {\n         try {\n-            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context));\n+            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA0OTEyMw==", "bodyText": "Updated with a withTracingContext in Storage Common that will update the returned serviceCall context with STORAGE_TRACING_PROPERTIES.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r394049123", "createdAt": "2020-03-18T00:47:02Z", "author": {"login": "samvaity"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobLeaseAsyncClient.java", "diffHunk": "@@ -121,7 +122,8 @@ public String getLeaseId() {\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<Response<String>> acquireLeaseWithResponse(int duration, RequestConditions modifiedRequestConditions) {\n         try {\n-            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context));\n+            return withContext(context -> acquireLeaseWithResponse(duration, modifiedRequestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MjA4MA=="}, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MjMwMDQwOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNToxOFrOFwT7Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNToxOFrOFwT7Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjM5OQ==", "bodyText": "This can be deleted.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386202399", "createdAt": "2020-03-02T05:25:18Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "diffHunk": "@@ -101,11 +106,11 @@\n       <scope>test</scope>\n     </dependency>\n     <!--    <dependency>-->\n-<!--      <groupId>io.projectreactor</groupId>-->\n-<!--      <artifactId>reactor-test</artifactId>-->\n-<!--      <version>3.3.0.RELEASE</version>--> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n-<!--      <scope>test</scope>-->\n-<!--    </dependency>-->\n+    <!--      <groupId>io.projectreactor</groupId>-->\n+    <!--      <artifactId>reactor-test</artifactId>-->\n+    <!--      <version>3.3.0.RELEASE</version>--> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n+    <!--      <scope>test</scope>-->\n+    <!--    </dependency>-->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MjMwMTc5OnYy", "diffSide": "LEFT", "path": "sdk/storage/azure-storage-blob/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNjoxNFrOFwT73w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwNToyNjoxNFrOFwT73w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjU5MQ==", "bodyText": "This shouldn't be deleted as azure-core-test may bring in an older version of azure-core.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386202591", "createdAt": "2020-03-02T05:26:14Z", "author": {"login": "srnagar"}, "path": "sdk/storage/azure-storage-blob/pom.xml", "diffHunk": "@@ -52,11 +52,6 @@\n   </pluginRepositories>\n \n   <dependencies>\n-    <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDc2NjkwOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1MzozMlrOFwrJBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1MzozMlrOFwrJBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4Mjc5MQ==", "bodyText": "I think cryptography should get its core dependency through blobs, no?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386582791", "createdAt": "2020-03-02T18:53:32Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob-cryptography/pom.xml", "diffHunk": "@@ -43,6 +43,11 @@\n       <artifactId>azure-storage-blob</artifactId>\n       <version>12.5.0-beta.1</version> <!-- {x-version-update;com.azure:azure-storage-blob;current} -->\n     </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDc3OTc0OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1Njo1OFrOFwrQ2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwMDo0NzozN1rOF3y2_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4NDc5Mw==", "bodyText": "Since it seems like pretty much every call to withContext needs to pass this constant, I think it'd be helpful if we defined something in storage.common that's like withTracingContext or something to automatically add this. Otherwise, I think us Storage folks are liable to forget and mess up tracing later :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386584793", "createdAt": "2020-03-02T18:56:58Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "diffHunk": "@@ -152,7 +153,8 @@\n     public Mono<Response<AppendBlobItem>> createWithResponse(BlobHttpHeaders headers, Map<String, String> metadata,\n         BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context));\n+            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA0OTI3OQ==", "bodyText": "Updated with a withTracingContext in Storage Common that will update the returned serviceCall context with STORAGE_TRACING_PROPERTIES.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r394049279", "createdAt": "2020-03-18T00:47:37Z", "author": {"login": "samvaity"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/AppendBlobAsyncClient.java", "diffHunk": "@@ -152,7 +153,8 @@\n     public Mono<Response<AppendBlobItem>> createWithResponse(BlobHttpHeaders headers, Map<String, String> metadata,\n         BlobRequestConditions requestConditions) {\n         try {\n-            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context));\n+            return withContext(context -> createWithResponse(headers, metadata, requestConditions, context),\n+                STORAGE_TRACING_PROPERTIES);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4NDc5Mw=="}, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDc4NTc5OnYy", "diffSide": "LEFT", "path": "sdk/storage/azure-storage-queue/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1ODo0MFrOFwrUfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODo1ODo0MFrOFwrUfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU4NTcyNA==", "bodyText": "Thanks for cleaning up some of this for us :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7733#discussion_r386585724", "createdAt": "2020-03-02T18:58:40Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-queue/pom.xml", "diffHunk": "@@ -33,11 +33,6 @@\n   </scm>\n \n   <dependencies>\n-    <dependency>\n-      <groupId>com.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e3f5163ecb96fd72375272483e8cfc835db3e8b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3753, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}