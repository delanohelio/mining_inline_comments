{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxOTM2Njk5", "number": 16211, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MDoyM1rOEtBcyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNDoxMToxNFrOEuSlAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjQ1MTMwOnYy", "diffSide": "RIGHT", "path": "eng/versioning/external_dependencies.txt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MDoyM1rOHglDEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MDoyM1rOHglDEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMzQ3NA==", "bodyText": "If the combination is not prefixed by spring_, we could place it above with all other external dependencies, instead of having a separate block for it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r503923474", "createdAt": "2020-10-13T12:50:23Z", "author": {"login": "saragluna"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -315,3 +315,6 @@ storage_com.microsoft.azure:azure-storage;8.4.0\n \n # sdk\\spring\\azure-spring-boot\\pom.xml\n spring_com.microsoft.azure:azure;1.34.0\n+\n+# sdk\\spring\\azure-spring-boot-starter-servicebus-jms\\pom.xml\n+com.microsoft.azure:azure-servicebus-jms;0.0.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjQ1NDY0OnYy", "diffSide": "RIGHT", "path": "eng/versioning/version_client.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MToxMlrOHglFGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNjozMjowN1rOHhzHcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMzk5NQ==", "bodyText": "The dependency version should be 2.3.5.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r503923995", "createdAt": "2020-10-13T12:51:12Z", "author": {"login": "saragluna"}, "path": "eng/versioning/version_client.txt", "diffHunk": "@@ -88,15 +88,15 @@ com.azure.resourcemanager:azure-resourcemanager-sql;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-storage;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-trafficmanager;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-test;2.0.0-beta.4;2.0.0-beta.5\n-com.microsoft.azure:azure-active-directory-b2c-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-active-directory-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-cosmosdb-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-data-gremlin-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-keyvault-secrets-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-servicebus-jms-spring-boot-starter;2.3.4;2.3.5\n-com.microsoft.azure:azure-spring-boot-metrics-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-spring-boot-starter;2.3.4;2.3.5\n-com.microsoft.azure:azure-spring-boot;2.3.4;2.3.5\n+com.microsoft.azure:azure-active-directory-b2c-spring-boot-starter;2.3.3;2.3.6-beta.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTIwMjU0Ng==", "bodyText": "ok", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r505202546", "createdAt": "2020-10-15T06:32:07Z", "author": {"login": "backwind1233"}, "path": "eng/versioning/version_client.txt", "diffHunk": "@@ -88,15 +88,15 @@ com.azure.resourcemanager:azure-resourcemanager-sql;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-storage;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-trafficmanager;2.0.0-beta.4;2.0.0-beta.5\n com.azure.resourcemanager:azure-resourcemanager-test;2.0.0-beta.4;2.0.0-beta.5\n-com.microsoft.azure:azure-active-directory-b2c-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-active-directory-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-cosmosdb-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-data-gremlin-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-keyvault-secrets-spring-boot-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-servicebus-jms-spring-boot-starter;2.3.4;2.3.5\n-com.microsoft.azure:azure-spring-boot-metrics-starter;2.3.3;2.3.5\n-com.microsoft.azure:azure-spring-boot-starter;2.3.4;2.3.5\n-com.microsoft.azure:azure-spring-boot;2.3.4;2.3.5\n+com.microsoft.azure:azure-active-directory-b2c-spring-boot-starter;2.3.3;2.3.6-beta.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMzk5NQ=="}, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjQ1NzczOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MjowMFrOHglHMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1MjowMFrOHglHMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyNDUzMA==", "bodyText": "Are these versions updated by the update_version.py script?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r503924530", "createdAt": "2020-10-13T12:52:00Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-samples/azure-spring-cloud-appconfiguration-conversion-sample-initial/pom.xml", "diffHunk": "@@ -32,7 +32,7 @@\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-cosmosdb-spring-boot-starter</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-cosmosdb-spring-boot-starter;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-cosmosdb-spring-boot-starter;current} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjQ2NzgwOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/jms/ServiceBusJMSAutoConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1NDozMVrOHglNhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjo1NDozMVrOHglNhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyNjE1MA==", "bodyText": "No need for the topic client id anymore? BTW, do we need to set up the UA header for BI here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r503926150", "createdAt": "2020-10-13T12:54:31Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/jms/ServiceBusJMSAutoConfiguration.java", "diffHunk": "@@ -31,21 +32,12 @@\n     @ConditionalOnMissingBean\n     public ConnectionFactory jmsConnectionFactory(AzureServiceBusJMSProperties serviceBusJMSProperties) {\n         final String connectionString = serviceBusJMSProperties.getConnectionString();\n-        final String clientId = serviceBusJMSProperties.getTopicClientId();\n-        final int idleTimeout = serviceBusJMSProperties.getIdleTimeout();\n-\n-        final ServiceBusKey serviceBusKey = ConnectionStringResolver.getServiceBusKey(connectionString);\n-        final String host = serviceBusKey.getHost();\n-        final String sasKeyName = serviceBusKey.getSharedAccessKeyName();\n-        final String sasKey = serviceBusKey.getSharedAccessKey();\n-\n-        final String remoteUri = String.format(AMQP_URI_FORMAT, host, idleTimeout);\n-        final JmsConnectionFactory jmsConnectionFactory = new JmsConnectionFactory();\n-        jmsConnectionFactory.setRemoteURI(remoteUri);\n-        jmsConnectionFactory.setClientID(clientId);\n-        jmsConnectionFactory.setUsername(sasKeyName);\n-        jmsConnectionFactory.setPassword(sasKey);\n-        return new CachingConnectionFactory(jmsConnectionFactory);\n+        final long idleTimeout = serviceBusJMSProperties.getIdleTimeout();\n+        final ServiceBusJmsConnectionFactorySettings settings =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2OTM5MDkzOnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/jms/SpringServiceBusJmsConnectionFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMjowMzozNVrOHiirUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMjowMzozNVrOHiirUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk4MTc3OA==", "bodyText": "@saragluna ,\nAha, I'm not the only person who like this code style.  \ud83d\ude04", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r505981778", "createdAt": "2020-10-16T02:03:35Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/microsoft/azure/spring/autoconfigure/jms/SpringServiceBusJmsConnectionFactory.java", "diffHunk": "@@ -0,0 +1,20 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.spring.autoconfigure.jms;\n+\n+import com.microsoft.azure.servicebus.jms.ServiceBusJmsConnectionFactory;\n+import com.microsoft.azure.servicebus.jms.ServiceBusJmsConnectionFactorySettings;\n+\n+public class SpringServiceBusJmsConnectionFactory extends ServiceBusJmsConnectionFactory {\n+    public SpringServiceBusJmsConnectionFactory(\n+        String connectionString,\n+        ServiceBusJmsConnectionFactorySettings settings\n+    ) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55b19aa5147b307184fe28ee7167a9d4e2cf1283"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2OTY0MTEzOnYy", "diffSide": "RIGHT", "path": "eng/jacoco-test-coverage/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMzoyNzoyMFrOHilQjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMzoyNzoyMFrOHilQjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjAyNDA3Ng==", "bodyText": "test", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r506024076", "createdAt": "2020-10-16T03:27:20Z", "author": {"login": "backwind1233"}, "path": "eng/jacoco-test-coverage/pom.xml", "diffHunk": "@@ -330,47 +330,47 @@\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-spring-boot</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-spring-boot-starter</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot-starter;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot-starter;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb7defc5c8aaabc7a6d97a7441017e4367e7a5b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2OTc0MzM5OnYy", "diffSide": "RIGHT", "path": "eng/jacoco-test-coverage/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNDoxMToxNFrOHimRyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNDoxMToxNFrOHimRyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0MDc3Nw==", "bodyText": "349-352 4 lines", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16211#discussion_r506040777", "createdAt": "2020-10-16T04:11:14Z", "author": {"login": "backwind1233"}, "path": "eng/jacoco-test-coverage/pom.xml", "diffHunk": "@@ -330,47 +330,47 @@\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-spring-boot</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-spring-boot-starter</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot-starter;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-spring-boot-starter;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-active-directory-spring-boot-starter</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-active-directory-spring-boot-starter;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-active-directory-spring-boot-starter;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-keyvault-secrets-spring-boot-starter</artifactId>\n-      <version>2.3.5</version> <!-- {x-version-update;com.microsoft.azure:azure-keyvault-secrets-spring-boot-starter;current} -->\n+      <version>2.3.6-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-keyvault-secrets-spring-boot-starter;current} -->\n     </dependency>\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>azure-spring-boot-metrics-starter</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55b19aa5147b307184fe28ee7167a9d4e2cf1283"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3528, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}