{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MTY1MTc3", "number": 14143, "title": "Fixing query metric issue for zero item response", "bodyText": "Java query path is ignoring the zero item responses from service and eventually sending empty response list to user with empty query metrics, issue is visible to user (Scenario 1).\nInternally we also ignoring/hiding query metrics from inflight zero response, issue is not visible to user (scenario 2) .\nScenario 1 (All partitions returning 0 item)\n\nScenario 2 (Some partition returning 0 item)\n\nThis PR will fix both scenario.\nNote: this will also fix Issue #14133\ncloses #14133", "createdAt": "2020-08-14T20:13:57Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143", "merged": true, "mergeCommit": {"oid": "f41697031842c616a6e46419d75bb928be9029fe"}, "closed": true, "closedAt": "2020-08-19T21:47:35Z", "author": {"login": "simplynaveen20"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-n6gFgH2gAyNDY4MTY1MTc3OmM3NWYyNmYzNjhhMDBkMDI5NGMwNzg2MzNhNzZhZjQ0NTJhNGYzNTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAhseigFqTQ3MDg5NTUxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c75f26f368a00d0294c078633a76af4452a4f354", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c75f26f368a00d0294c078633a76af4452a4f354", "committedDate": "2020-08-13T22:39:35Z", "message": "Fixing query metrics for emptry page result"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81310f544a57d165de896268b9917339f65bbee6", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/81310f544a57d165de896268b9917339f65bbee6", "committedDate": "2020-08-14T20:08:47Z", "message": "Fixing query metrics for group by and order by"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3ODgxMTA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143#pullrequestreview-467881106", "createdAt": "2020-08-14T21:19:49Z", "commit": {"oid": "81310f544a57d165de896268b9917339f65bbee6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ef9db5b565543e8dc09581e0da958662999fa5", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e5ef9db5b565543e8dc09581e0da958662999fa5", "committedDate": "2020-08-17T14:55:45Z", "message": "Merge branch 'latest-master' into users/nakumars/queryMetricsZeroResultFix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8d6135bfa98f6478fbe5ef377944bd5f526a539", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f8d6135bfa98f6478fbe5ef377944bd5f526a539", "committedDate": "2020-08-17T15:58:01Z", "message": "spot bug fix and merge with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11d599073eb19fe34184490104f7f92999007daf", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/11d599073eb19fe34184490104f7f92999007daf", "committedDate": "2020-08-17T17:55:37Z", "message": "fixing spot bugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjYyNDY3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143#pullrequestreview-469662467", "createdAt": "2020-08-18T17:14:34Z", "commit": {"oid": "11d599073eb19fe34184490104f7f92999007daf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxNDozNFrOHCeQqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxNDozNFrOHCeQqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1NDk4NQ==", "bodyText": "please use dataProvider for providing different query params.\nthis will help in the reliability for the test: less chance for test to timeout, better visiblity on failure on what exactly failed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143#discussion_r472354985", "createdAt": "2020-08-18T17:14:34Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/CosmosDiagnosticsTest.java", "diffHunk": "@@ -232,7 +232,44 @@ public void queryPlanDiagnostics() {\n         }\n     }\n \n-    @Test(groups = {\"simple\"})\n+    @Test(groups = {\"simple\"}, timeOut = TIMEOUT)\n+    public void queryMetrics() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11d599073eb19fe34184490104f7f92999007daf"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d50180eb40addfcd5321d71e530c0f84ec66375b", "author": {"user": {"login": "simplynaveen20", "name": "Naveen Singh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d50180eb40addfcd5321d71e530c0f84ec66375b", "committedDate": "2020-08-19T15:22:52Z", "message": "adding data provider for different query"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNTcyMDA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143#pullrequestreview-470572006", "createdAt": "2020-08-19T15:25:42Z", "commit": {"oid": "d50180eb40addfcd5321d71e530c0f84ec66375b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwODk1NTEw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14143#pullrequestreview-470895510", "createdAt": "2020-08-19T20:32:41Z", "commit": {"oid": "d50180eb40addfcd5321d71e530c0f84ec66375b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 374, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}