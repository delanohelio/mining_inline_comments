{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MzkxNTEy", "number": 14702, "title": "Convert ModelData.model to String", "bodyText": "In this PR, I have duplicated the ModelData file and named it DigitalTwinModelData and changed the model type from Object to String along with a constructor that takes in the ModelData.\nchanged all API surfaces that exposed the ModelData type to now use DigitalTwinModelData.", "createdAt": "2020-09-01T23:31:22Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702", "merged": true, "mergeCommit": {"oid": "b68dd3d1bac46965f59de9fdeb2d416826addf9c"}, "closed": true, "closedAt": "2020-09-02T21:46:00Z", "author": {"login": "azabbasi"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEwBdPAH2gAyNDc3MzkxNTEyOmRhYmUxZTc0MmQxMGU2OWZhNWIwN2NlODQ3YmQ3ZjA4YzIyYzRiZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFCw54gH2gAyNDc3MzkxNTEyOjIxZWQ2Zjg5NTNhNzIxMTA5NTE0ZjJmZmFkZjU1YTE5YjViMmM0OTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dabe1e742d10e69fa5b07ce847bd7f08c22c4bda", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dabe1e742d10e69fa5b07ce847bd7f08c22c4bda", "committedDate": "2020-09-01T23:29:58Z", "message": "Convert ModelData.model to String"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/65eb1f457d0dc53f63cb0b58be074848dbce6873", "committedDate": "2020-09-01T23:36:31Z", "message": "Update DigitalTwinModelData.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTg2NjEz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-480186613", "createdAt": "2020-09-01T23:37:42Z", "commit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzozNzo0MlrOHLL0hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzozNzo0MlrOHLL0hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ5MDA1NA==", "bodyText": "This constructor is currently public because this class lives in a different package than the convenience layer.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r481490054", "createdAt": "2020-09-01T23:37:42Z", "author": {"login": "azabbasi"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/DigitalTwinModelData.java", "diffHunk": "@@ -0,0 +1,199 @@\n+package com.azure.digitaltwins.core.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.digitaltwins.core.implementation.models.ModelData;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Map;\n+\n+/**\n+ * The DigitalTwinModelData representing the model and its corresponding metadata.\n+ */\n+@Fluent\n+public class DigitalTwinModelData {\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Creates a new instance of DigitalTwinModelData.\n+     * @param modelData The model data.\n+     */\n+    public DigitalTwinModelData(ModelData modelData) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTg4ODkx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-480188891", "createdAt": "2020-09-01T23:44:22Z", "commit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzo0NDoyMlrOHLL8Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzo0NDoyMlrOHLL8Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ5MjA1OA==", "bodyText": "this gives us correctly formatted json string, correct?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r481492058", "createdAt": "2020-09-01T23:44:22Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/DigitalTwinModelData.java", "diffHunk": "@@ -0,0 +1,199 @@\n+package com.azure.digitaltwins.core.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.digitaltwins.core.implementation.models.ModelData;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Map;\n+\n+/**\n+ * The DigitalTwinModelData representing the model and its corresponding metadata.\n+ */\n+@Fluent\n+public class DigitalTwinModelData {\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Creates a new instance of DigitalTwinModelData.\n+     * @param modelData The model data.\n+     */\n+    public DigitalTwinModelData(ModelData modelData) {\n+        mapper = new ObjectMapper();\n+\n+        this.setId(modelData.getId())\n+            .setUploadTime(modelData.getUploadTime())\n+            .setDisplayName(modelData.getDisplayName())\n+            .setDescription(modelData.getDescription())\n+            .setDecommissioned(modelData.isDecommissioned())\n+            .setModel(mapper.convertValue(modelData.getModel(), String.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTg5Mjk5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-480189299", "createdAt": "2020-09-01T23:45:32Z", "commit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzo0NTozMlrOHLL94w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzo0NTozMlrOHLL94w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ5MjQ1MQ==", "bodyText": "I don't think we need java doc comments on these private fields, the getters and setters have the comments already, so this feels repetitive. What do you think?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r481492451", "createdAt": "2020-09-01T23:45:32Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/DigitalTwinModelData.java", "diffHunk": "@@ -0,0 +1,199 @@\n+package com.azure.digitaltwins.core.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.digitaltwins.core.implementation.models.ModelData;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Map;\n+\n+/**\n+ * The DigitalTwinModelData representing the model and its corresponding metadata.\n+ */\n+@Fluent\n+public class DigitalTwinModelData {\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Creates a new instance of DigitalTwinModelData.\n+     * @param modelData The model data.\n+     */\n+    public DigitalTwinModelData(ModelData modelData) {\n+        mapper = new ObjectMapper();\n+\n+        this.setId(modelData.getId())\n+            .setUploadTime(modelData.getUploadTime())\n+            .setDisplayName(modelData.getDisplayName())\n+            .setDescription(modelData.getDescription())\n+            .setDecommissioned(modelData.isDecommissioned())\n+            .setModel(mapper.convertValue(modelData.getModel(), String.class));\n+    }\n+\n+    /*\n+     * A language map that contains the localized display names as specified in\n+     * the model definition.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65eb1f457d0dc53f63cb0b58be074848dbce6873"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c95d60af878108cbc0ad738abc35625912855102", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c95d60af878108cbc0ad738abc35625912855102", "committedDate": "2020-09-02T00:04:54Z", "message": "Update DigitalTwinModelData.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "231450064831cb1d4d8b4fbb8d3db84ec21c95ca", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/231450064831cb1d4d8b4fbb8d3db84ec21c95ca", "committedDate": "2020-09-02T00:19:51Z", "message": "Include model definition by default."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTM5OTYy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481139962", "createdAt": "2020-09-02T18:13:26Z", "commit": {"oid": "231450064831cb1d4d8b4fbb8d3db84ec21c95ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTYyNDAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481162400", "createdAt": "2020-09-02T18:35:47Z", "commit": {"oid": "231450064831cb1d4d8b4fbb8d3db84ec21c95ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODozNTo0N1rOHL8lyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODozNTo0N1rOHL8lyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjI4OTA5OQ==", "bodyText": "Will this be included retrieving multiple models also?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482289099", "createdAt": "2020-09-02T18:35:47Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/util/ListModelOptions.java", "diffHunk": "@@ -35,8 +35,9 @@ public ListModelOptions setMaxItemCount(Integer maxItemCount) {\n \n     /*\n      * Whether to include the model definition in the result. If false, only the model metadata will be returned.\n+     * Enabled by default.\n      */\n-    private Boolean includeModelDefinition;\n+    private Boolean includeModelDefinition = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "231450064831cb1d4d8b4fbb8d3db84ec21c95ca"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a4321332393fffd11d0a391a430a9aa91c3adea4", "committedDate": "2020-09-02T18:45:30Z", "message": "Use converter approach to construct Models"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTcxNDQ4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481171448", "createdAt": "2020-09-02T18:48:52Z", "commit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo0ODo1MlrOHL9U8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo0ODo1MlrOHL9U8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwMTE2OA==", "bodyText": "We call this ModelData in the .NET client, maybe call it the same here as well?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482301168", "createdAt": "2020-09-02T18:48:52Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -750,19 +752,19 @@ public HttpPipeline getHttpPipeline() {\n      * @return A {@link PagedFlux} of created models and the http response.\n      */\n     @ServiceMethod(returns = ReturnType.COLLECTION)\n-    public PagedFlux<ModelData> createModels(List<String> models) {\n+    public PagedFlux<DigitalTwinModelData> createModels(List<String> models) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTc0MDA3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481174007", "createdAt": "2020-09-02T18:52:29Z", "commit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1MjoyOVrOHL9iPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1MjoyOVrOHL9iPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwNDU3NQ==", "bodyText": "Should we thrown an exception here? An exception here indicates that service sent us incorrectly formatted data, we should surface this exception up.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482304575", "createdAt": "2020-09-02T18:52:29Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/ModelConverter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package com.azure.digitaltwins.core.models;\n+\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Map;\n+\n+/**\n+ * Creates publicly facing object types\n+ */\n+public class ModelConverter {\n+    public static DigitalTwinModelData convertToDigitalTwinModelData(\n+        String id,\n+        Object model,\n+        OffsetDateTime uploadTime,\n+        Map<String, String> description,\n+        Map<String, String> displayName,\n+        Boolean isDecommissioned)\n+    {\n+        String modelStringValue = null;\n+\n+        if (model!= null){\n+            try {\n+                modelStringValue = new ObjectMapper().writeValueAsString(model);\n+            } catch (JsonProcessingException e) {\n+                e.printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTc1ODM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481175839", "createdAt": "2020-09-02T18:55:08Z", "commit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1NTowOFrOHL9sBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1NTowOFrOHL9sBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwNzA3Ng==", "bodyText": "Why not have the converter take in the PL ModelData directly?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482307076", "createdAt": "2020-09-02T18:55:08Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/ModelConverter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package com.azure.digitaltwins.core.models;\n+\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Map;\n+\n+/**\n+ * Creates publicly facing object types\n+ */\n+public class ModelConverter {\n+    public static DigitalTwinModelData convertToDigitalTwinModelData(\n+        String id,\n+        Object model,\n+        OffsetDateTime uploadTime,\n+        Map<String, String> description,\n+        Map<String, String> displayName,\n+        Boolean isDecommissioned)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4321332393fffd11d0a391a430a9aa91c3adea4"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f51ab57e1bb60089179f8644368ee999f007d16", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1f51ab57e1bb60089179f8644368ee999f007d16", "committedDate": "2020-09-02T19:50:55Z", "message": "Add converters package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a27c5c247d84ee84bdeaf4b235bd20b6195ff19e", "committedDate": "2020-09-02T19:55:22Z", "message": "Update ModelDataConverter.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f1bb57567353c2bcd9118e3154bf942750047fa", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8f1bb57567353c2bcd9118e3154bf942750047fa", "committedDate": "2020-09-02T19:57:58Z", "message": "fix format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY0Njc3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481264677", "createdAt": "2020-09-02T20:13:04Z", "commit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxMzowNFrOHMDRtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxMzowNFrOHMDRtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjM5ODY0NQ==", "bodyText": "can be method reference: .map(ModelDataConverter::map)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482398645", "createdAt": "2020-09-02T20:13:04Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -777,13 +777,20 @@ public HttpPipeline getHttpPipeline() {\n \n         return protocolLayer.getDigitalTwinModels().addWithResponseAsync(modelsPayload, context)\n             .map(\n-                listResponse -> new PagedResponseBase<>(\n-                    listResponse.getRequest(),\n-                    listResponse.getStatusCode(),\n-                    listResponse.getHeaders(),\n-                    listResponse.getValue(),\n-                    null,\n-                    ((ResponseBase)listResponse).getDeserializedHeaders()));\n+                objectPagedResponse -> {\n+                    List<ModelData> convertedList = objectPagedResponse.getValue().stream()\n+                        .map(object -> ModelDataConverter.map(object))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY1NDU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481265456", "createdAt": "2020-09-02T20:14:14Z", "commit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNDoxNVrOHMDXsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNDoxNVrOHMDXsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQwMDE3Ng==", "bodyText": "nit: tabbing needs to be fixed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482400176", "createdAt": "2020-09-02T20:14:15Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -810,7 +817,15 @@ public HttpPipeline getHttpPipeline() {\n     Mono<Response<ModelData>> getModelWithResponse(String modelId, Context context){\n         return protocolLayer\n             .getDigitalTwinModels()\n-            .getByIdWithResponseAsync(modelId, includeModelDefinition, context);\n+            .getByIdWithResponseAsync(modelId, includeModelDefinitionOnGet, context)\n+            .map(response -> {\n+                com.azure.digitaltwins.core.implementation.models.ModelData modelData = response.getValue();\n+                return new SimpleResponse<>(\n+                response.getRequest(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY2NDM1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481266435", "createdAt": "2020-09-02T20:15:45Z", "commit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNTo0NlrOHMDflw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNTo0NlrOHMDflw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQwMjE5OQ==", "bodyText": "method reference here as well -> anywhere we are calling a static method can be replaced by a method reference", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482402199", "createdAt": "2020-09-02T20:15:46Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -851,11 +866,39 @@ public HttpPipeline getHttpPipeline() {\n             listModelOptions.getDependenciesFor(),\n             listModelOptions.getIncludeModelDefinition(),\n             new DigitalTwinModelsListOptions().setMaxItemCount(listModelOptions.getMaxItemCount()),\n-            context);\n+            context)\n+            .map(\n+                objectPagedResponse -> {\n+                    List<ModelData> convertedList = objectPagedResponse.getValue().stream()\n+                        .map(object -> ModelDataConverter.map(object))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a27c5c247d84ee84bdeaf4b235bd20b6195ff19e"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY3NzAx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481267701", "createdAt": "2020-09-02T20:17:44Z", "commit": {"oid": "8f1bb57567353c2bcd9118e3154bf942750047fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNzo0NFrOHMDpYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMDoxNzo0NFrOHMDpYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQwNDcwNg==", "bodyText": "these comments need to be updated -> DigitalTwinModelData", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#discussion_r482404706", "createdAt": "2020-09-02T20:17:44Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/ModelData.java", "diffHunk": "@@ -66,7 +66,7 @@\n      * definition.\n      *\n      * @param displayName the displayName value to set.\n-     * @return the ModelData object itself.\n+     * @return the DigitalTwinModelData object itself.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f1bb57567353c2bcd9118e3154bf942750047fa"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMjY3OTgy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14702#pullrequestreview-481267982", "createdAt": "2020-09-02T20:18:09Z", "commit": {"oid": "8f1bb57567353c2bcd9118e3154bf942750047fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca7f3d623dbc79481fb2362e89c2867d72cd94e3", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ca7f3d623dbc79481fb2362e89c2867d72cd94e3", "committedDate": "2020-09-02T20:30:53Z", "message": "Address comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31936804dfc9e2d4dcab922d327a080fc86470d8", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/31936804dfc9e2d4dcab922d327a080fc86470d8", "committedDate": "2020-09-02T20:33:32Z", "message": "Update session recording"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21ed6f8953a721109514f2ffadf55a19b5b2c491", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/21ed6f8953a721109514f2ffadf55a19b5b2c491", "committedDate": "2020-09-02T21:20:05Z", "message": "Update SampleTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 39, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}