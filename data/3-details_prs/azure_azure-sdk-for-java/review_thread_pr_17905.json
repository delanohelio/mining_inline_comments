{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNTcxNDE5", "number": 17905, "reviewThreads": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMTowOToyMFrOE_VzcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTo1NzozN1rOFLB2aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0ODUyOTc2OnYy", "diffSide": "RIGHT", "path": "eng/versioning/external_dependencies.txt", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMTowOToyMFrOH8_2nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QyMzo1NjoxNlrOH-6lxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA==", "bodyText": "I see reactor-netty 1.0.1 depends on netty 4.1.53.Final releases, any reason why we are updating them to 4.1.54.Final ?\nhttps://mvnrepository.com/artifact/io.projectreactor.netty/reactor-netty-core/1.0.1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r533722780", "createdAt": "2020-12-01T21:09:20Z", "author": {"login": "kushagraThapar"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzczMjczOQ==", "bodyText": "Whoops, didn't see that. Will downgrade these back to 4.1.53.Final.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r533732739", "createdAt": "2020-12-01T21:28:33Z", "author": {"login": "alzimmermsft"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA=="}, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc5MjU3Mw==", "bodyText": "Hi, @yiliuTo .\nIn your PR: https://github.com/Azure/azure-sdk-for-java/pull/17808/files\nthe version is 4.1.54.Final, not 4.1.53.Final, could you please investigate it?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r533792573", "createdAt": "2020-12-01T23:31:04Z", "author": {"login": "chenrujun"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA=="}, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDYwNTAzMw==", "bodyText": "Hi @alzimmermsft @kushagraThapar , yes reactor-netty 1.0.1 does depend on netty 4.1.53.Final, however, according to spring-boot-dependencies 2.4.0, it imports netty 4.1.54.Final (here is my issue on Spring github repo about this problem), thus we want to upgrade it to 4.1.54.Final as well, otherwise our customers will meet version conflicts T_T. So if both 4.1.53.Final and 4.1.54.Final can work for you, shall we use 4.1.54.Final version?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r534605033", "createdAt": "2020-12-03T01:47:26Z", "author": {"login": "yiliuTo"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA=="}, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDYxNTA4OQ==", "bodyText": "@yiliuTo  - it should be possible, I don't think there should be any issues, also as mentioned in your spring issue, reactor-netty should be able to handle netty version 4.1.54.Final release.\nHowever, I am wondering if we know when is reactor-netty's planning to upgrade to 4.1.54.Final version ?\nIf they have a release coming out soon, I think it will make more sense to upgrade then so all of these versions are in sync. We can skip this release, if possible. What do you think ?\n@alzimmermsft - thoughts ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r534615089", "createdAt": "2020-12-03T02:14:21Z", "author": {"login": "kushagraThapar"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA=="}, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczMzcwMw==", "bodyText": "Hi, @kushagraThapar ,\n\nWe can skip this release, if possible. What do you think ?\n\nI prefer 4.1.54.Final. Because in our customer's project, they may use spring-boot-starter-parent as parent, and spring-boot-starter-parent's parent is spring-boot-dependencies, so 4.1.54.Final will exist in our customer's project's classpath. Even if we depend on 4.1.53.Final, 4.1.53.Final will not exist in our customer's project's classpath.\nSo if we use 4.1.54.Final, and there is some problem to use 4.1.54.Final, we will face it before our customer.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535733703", "createdAt": "2020-12-03T23:56:16Z", "author": {"login": "chenrujun"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -37,20 +37,20 @@ io.fabric8:kubernetes-client;4.10.3\n io.micrometer:micrometer-core;1.5.6\n io.micrometer:micrometer-registry-azure-monitor;1.5.6\n io.micrometer:micrometer-registry-graphite;1.5.6\n-io.netty:netty-buffer;4.1.53.Final\n-io.netty:netty-common;4.1.53.Final\n-io.netty:netty-codec-http;4.1.53.Final\n-io.netty:netty-codec-http2;4.1.53.Final\n-io.netty:netty-transport;4.1.53.Final\n-io.netty:netty-handler;4.1.53.Final\n-io.netty:netty-handler-proxy;4.1.53.Final\n+io.netty:netty-buffer;4.1.54.Final\n+io.netty:netty-common;4.1.54.Final\n+io.netty:netty-codec-http;4.1.54.Final\n+io.netty:netty-codec-http2;4.1.54.Final\n+io.netty:netty-transport;4.1.54.Final\n+io.netty:netty-handler;4.1.54.Final\n+io.netty:netty-handler-proxy;4.1.54.Final\n io.netty:netty-tcnative;2.0.34.Final\n io.netty:netty-tcnative-boringssl-static;2.0.34.Final\n-io.netty:netty-transport-native-epoll;4.1.53.Final\n-io.netty:netty-transport-native-unix-common;4.1.53.Final\n-io.netty:netty-transport-native-kqueue;4.1.53.Final\n-io.projectreactor.netty:reactor-netty;0.9.13.RELEASE\n-io.projectreactor:reactor-core;3.3.11.RELEASE\n+io.netty:netty-transport-native-epoll;4.1.54.Final\n+io.netty:netty-transport-native-unix-common;4.1.54.Final\n+io.netty:netty-transport-native-kqueue;4.1.54.Final\n+io.projectreactor.netty:reactor-netty;1.0.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMjc4MA=="}, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0ODUzNTQzOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/implementation/util/ChunkedDownloadUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMToxMDo1OVrOH8_58A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMToxMDo1OVrOH8_58A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcyMzYzMg==", "bodyText": "@kasobol-msft, @rickle-msft, @gapra-msft, I updated this to use boundedElastic over elastic as elastic has been deprecated and allows for an unbounded number of threads to be created.\nAdditionally, I changed this from subscribeOn to publishOn as subscribeOn affects the entire reactive chain, including all reactive operations applied before this point in time. publishOn only affects the reactive chain after the publishOn operator. So, with this chain operators before this point should use either the default or what a customer has configured, after this point it will use the thread-pool based boundedElastic scheduler to handle blocking I/O with potentially many threads.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r533723632", "createdAt": "2020-12-01T21:10:59Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/implementation/util/ChunkedDownloadUtils.java", "diffHunk": "@@ -40,7 +40,7 @@\n             ? range.getCount() : parallelTransferOptions.getBlockSizeLong();\n \n         return downloader.apply(new BlobRange(range.getOffset(), initialChunkSize), requestConditions)\n-            .subscribeOn(Schedulers.elastic())\n+            .publishOn(Schedulers.boundedElastic())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "28d5756cde0364ff605d569b96b94d7e1716fbaf"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2MTIxMjkwOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/changefeed/implementation/DocumentServiceLeaseUpdaterImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QyMzo0MDo0MlrOH-6L2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QyMzo1ODo1NVrOH-6qFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTcyNzA2Nw==", "bodyText": "This change is required as retry(int, Predicate<Throwable>) was removed in Reactor 3.4.0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535727067", "createdAt": "2020-12-03T23:40:42Z", "author": {"login": "alzimmermsft"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/changefeed/implementation/DocumentServiceLeaseUpdaterImpl.java", "diffHunk": "@@ -90,10 +91,10 @@ public DocumentServiceLeaseUpdaterImpl(ChangeFeedContextClient client) {\n                         cachedLease.setConcurrencyToken(serverLease.getConcurrencyToken());\n                         cachedLease.setOwner(serverLease.getOwner());\n \n-                        throw new LeaseConflictException(cachedLease, \"Partition update failed\");\n+                        return Mono.error(new LeaseConflictException(cachedLease, \"Partition update failed\"));\n                     });\n             })\n-            .retry(RETRY_COUNT_ON_CONFLICT, throwable -> {\n+            .retryWhen(Retry.max(RETRY_COUNT_ON_CONFLICT).filter(throwable -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5f0197e966291a124858fcbe911048c7b8bfd7e"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczNDgwNw==", "bodyText": "Potentially look into Retry.withThrowable(RetryUtils.toRetryWhenFunc(retryPolicy))", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535734807", "createdAt": "2020-12-03T23:58:55Z", "author": {"login": "alzimmermsft"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/changefeed/implementation/DocumentServiceLeaseUpdaterImpl.java", "diffHunk": "@@ -90,10 +91,10 @@ public DocumentServiceLeaseUpdaterImpl(ChangeFeedContextClient client) {\n                         cachedLease.setConcurrencyToken(serverLease.getConcurrencyToken());\n                         cachedLease.setOwner(serverLease.getOwner());\n \n-                        throw new LeaseConflictException(cachedLease, \"Partition update failed\");\n+                        return Mono.error(new LeaseConflictException(cachedLease, \"Partition update failed\"));\n                     });\n             })\n-            .retry(RETRY_COUNT_ON_CONFLICT, throwable -> {\n+            .retryWhen(Retry.max(RETRY_COUNT_ON_CONFLICT).filter(throwable -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTcyNzA2Nw=="}, "originalCommit": {"oid": "b5f0197e966291a124858fcbe911048c7b8bfd7e"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2MTI1MzU0OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/changefeed/implementation/DocumentServiceLeaseUpdaterImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QyMzo1NDoxMlrOH-6iaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QyMzo1NDoxMlrOH-6iaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczMjg0MA==", "bodyText": "Revert these types of changes", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535732840", "createdAt": "2020-12-03T23:54:12Z", "author": {"login": "alzimmermsft"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/changefeed/implementation/DocumentServiceLeaseUpdaterImpl.java", "diffHunk": "@@ -72,12 +73,12 @@ public DocumentServiceLeaseUpdaterImpl(ChangeFeedContextClient client) {\n                             CosmosException ex = (CosmosException) throwable;\n                             if (ex.getStatusCode() == HTTP_STATUS_CODE_NOT_FOUND) {\n                                 // Partition lease no longer exists\n-                                throw new LeaseLostException(cachedLease);\n+                                return Mono.error(new LeaseLostException(cachedLease));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5f0197e966291a124858fcbe911048c7b8bfd7e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2MTI3MTUyOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/RntbdTransportClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwMDowMDoyOVrOH-6scA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwMDowMDo1OVrOH-6tSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczNTQwOA==", "bodyText": "Revert all changes like this as subscriberContext was only deprecated.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535735408", "createdAt": "2020-12-04T00:00:29Z", "author": {"login": "alzimmermsft"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/RntbdTransportClient.java", "diffHunk": "@@ -320,7 +320,7 @@ public long id() {\n                             RntbdObjectMapper.toJson(throwable));\n                     }\n                 });\n-        }).subscriberContext(reactorContext);\n+        }).contextWrite(reactorContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5f0197e966291a124858fcbe911048c7b8bfd7e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczNTYyNw==", "bodyText": "Write follow-up issues for APIs that we deprecated on how to handle when they are removed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r535735627", "createdAt": "2020-12-04T00:00:59Z", "author": {"login": "alzimmermsft"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/RntbdTransportClient.java", "diffHunk": "@@ -320,7 +320,7 @@ public long id() {\n                             RntbdObjectMapper.toJson(throwable));\n                     }\n                 });\n-        }).subscriberContext(reactorContext);\n+        }).contextWrite(reactorContext);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTczNTQwOA=="}, "originalCommit": {"oid": "b5f0197e966291a124858fcbe911048c7b8bfd7e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MDI0NDI3OnYy", "diffSide": "RIGHT", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/aad/webapp/jackson/ClientRegistrationDeserializer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwOToyODowN1rOIJ0Xug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwOToyODowN1rOIJ0Xug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE2NjEzOA==", "bodyText": "Hi, @alzimmermsft ,\nI think you do not need to update it.\nBecause after spring-boot's version upgrade to 2.4.0, the spring-security will update to 5.4.1, I'll use ClientRegistrationDeserializer.java in spring-security, and delete all contents in package com.azure.spring.aad.webapp.jackson\ncc @yiliuTo , FYI", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r547166138", "createdAt": "2020-12-22T09:28:07Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/aad/webapp/jackson/ClientRegistrationDeserializer.java", "diffHunk": "@@ -53,7 +53,7 @@ public ClientRegistration deserialize(JsonParser parser, DeserializationContext\n             .authorizationGrantType(\n                 AUTHORIZATION_GRANT_TYPE_CONVERTER.convert(\n                     findObjectNode(clientRegistrationNode, \"authorizationGrantType\")))\n-            .redirectUriTemplate(findStringValue(clientRegistrationNode, \"redirectUriTemplate\"))\n+            .redirectUri(findStringValue(clientRegistrationNode, \"redirectUri\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "145f91a29cc4b9633e5533539e6b70f7f5041b92"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjM5MTc0OnYy", "diffSide": "RIGHT", "path": "sdk/schemaregistry/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMDozOToyOVrOIM3puQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMDozOToyOVrOIM3puQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM2NTYyNQ==", "bodyText": "Fix the versions here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550365625", "createdAt": "2020-12-31T00:39:29Z", "author": {"login": "alzimmermsft"}, "path": "sdk/schemaregistry/pom.xml", "diffHunk": "@@ -23,12 +23,12 @@\n         <dependency>\n           <groupId>com.azure</groupId>\n           <artifactId>azure-data-schemaregistry</artifactId>\n-          <version>1.0.0-beta.5</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs;current} -->\n+          <version>5.4.0-beta.2</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs;current} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a759d93c858e81164edcf68345376e63fa615e4c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUxNjcwOnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core-http-okhttp/src/test/java/com/azure/core/http/okhttp/OkHttpClientTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDowODowNFrOINLESQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzowMTowMFrOIN5c8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4MzcyMQ==", "bodyText": "Why do we have both subscribeOn and publishOn? The last publishOn always wins over the subscribeOn.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550683721", "createdAt": "2020-12-31T20:08:04Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-http-okhttp/src/test/java/com/azure/core/http/okhttp/OkHttpClientTests.java", "diffHunk": "@@ -214,8 +214,8 @@ public void testConcurrentRequests() throws NoSuchAlgorithmException {\n             // Thread.currentThread().getName()))\n             .map(nbb -> (long) nbb.bb.limit())\n             .reduce(Long::sum)\n-            .subscribeOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30))\n-            .publishOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30));\n+            .subscribeOn(Schedulers.newBoundedElastic(30, 1024, \"io\"))\n+            .publishOn(Schedulers.newBoundedElastic(30, 1024, \"io\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0MzY5OA==", "bodyText": "I'm not entirely certain as these tests have been around for a while, I'll clean up instances of this during the next round of changes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551443698", "createdAt": "2021-01-04T17:01:00Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-http-okhttp/src/test/java/com/azure/core/http/okhttp/OkHttpClientTests.java", "diffHunk": "@@ -214,8 +214,8 @@ public void testConcurrentRequests() throws NoSuchAlgorithmException {\n             // Thread.currentThread().getName()))\n             .map(nbb -> (long) nbb.bb.limit())\n             .reduce(Long::sum)\n-            .subscribeOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30))\n-            .publishOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30));\n+            .subscribeOn(Schedulers.newBoundedElastic(30, 1024, \"io\"))\n+            .publishOn(Schedulers.newBoundedElastic(30, 1024, \"io\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4MzcyMQ=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUxODQ2OnYy", "diffSide": "RIGHT", "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDowOTo0NVrOINLFGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzowMjoyMVrOIN5gLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4MzkzMQ==", "bodyText": "Why do we need unreleased azure-core dependency for app config?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550683931", "createdAt": "2020-12-31T20:09:45Z", "author": {"login": "srnagar"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "diffHunk": "@@ -36,12 +36,12 @@\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core</artifactId>\n-      <version>1.11.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n+      <version>1.12.0-beta.1</version> <!-- {x-version-update;unreleased_com.azure:azure-core;dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0NDUyNQ==", "bodyText": "Need to update all usages of azure-core and azure-core-http-netty to unreleased as those libraries contain compile time dependencies for Reactor and Reactor Netty which we are upgrading across versions which major breaking changes. Using the release version will cause a dependency breakage.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551444525", "createdAt": "2021-01-04T17:02:21Z", "author": {"login": "alzimmermsft"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "diffHunk": "@@ -36,12 +36,12 @@\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-core</artifactId>\n-      <version>1.11.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n+      <version>1.12.0-beta.1</version> <!-- {x-version-update;unreleased_com.azure:azure-core;dependency} -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4MzkzMQ=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUyMTI5OnYy", "diffSide": "LEFT", "path": "sdk/appconfiguration/tests.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoxMjo0OVrOINLGiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzowNDoyMFrOIN5ksg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDI5Ng==", "bodyText": "Why did we have this step before?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550684296", "createdAt": "2020-12-31T20:12:49Z", "author": {"login": "srnagar"}, "path": "sdk/appconfiguration/tests.yml", "diffHunk": "@@ -15,15 +15,3 @@ jobs:\n         AZURE_CLIENT_ID: $(aad-azure-sdk-test-client-id)\n         AZURE_CLIENT_SECRET: $(aad-azure-sdk-test-client-secret)\n         AZURE_TENANT_ID: $(aad-azure-sdk-test-tenant-id)\n-      PostRunSteps:\n-        - script: |\n-            python --version\n-            python -m pip install setuptools termcolor in_place\n-            python sdk/spring/scripts/replace_util.py --module appconfiguration --log debug --color false\n-          displayName: 'Run replace_util.py'\n-        - task: Maven@3\n-          displayName: 'Run tests again.'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0NTY4Mg==", "bodyText": "Previously, both Spring 2.2 and 2.3 were being supported by the same code base, so in testing, because Maven can only support a single dependency in the POM, the dependency version would be toggled after the first test run passed with 2.3 to version 2.2 to validate that as well. Moving forward this will no longer be the case as underlying dependencies between 2.4 and 2.3 have major breaking changes and this infrastructure will no longer be used.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551445682", "createdAt": "2021-01-04T17:04:20Z", "author": {"login": "alzimmermsft"}, "path": "sdk/appconfiguration/tests.yml", "diffHunk": "@@ -15,15 +15,3 @@ jobs:\n         AZURE_CLIENT_ID: $(aad-azure-sdk-test-client-id)\n         AZURE_CLIENT_SECRET: $(aad-azure-sdk-test-client-secret)\n         AZURE_TENANT_ID: $(aad-azure-sdk-test-tenant-id)\n-      PostRunSteps:\n-        - script: |\n-            python --version\n-            python -m pip install setuptools termcolor in_place\n-            python sdk/spring/scripts/replace_util.py --module appconfiguration --log debug --color false\n-          displayName: 'Run replace_util.py'\n-        - task: Maven@3\n-          displayName: 'Run tests again.'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDI5Ng=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUyMjcyOnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core-http-jdk-httpclient/src/test/java/com/azure/core/http/jdk/httpclient/JdkAsyncHttpClientTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoxNDowOFrOINLHOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzowNDoyNlrOIN5k4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDQ3Mw==", "bodyText": "Same here - don't need both subscribeOn and publishOn. Just publishOn is sufficient.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550684473", "createdAt": "2020-12-31T20:14:08Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-http-jdk-httpclient/src/test/java/com/azure/core/http/jdk/httpclient/JdkAsyncHttpClientTests.java", "diffHunk": "@@ -221,8 +221,8 @@ public void testConcurrentRequests() throws NoSuchAlgorithmException {\n                 // Thread.currentThread().getName()))\n                 .map(nbb -> (long) nbb.bb.limit())\n                 .reduce(Long::sum)\n-                .subscribeOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30))\n-                .publishOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30));\n+                .subscribeOn(Schedulers.newBoundedElastic(30, 1024, \"io\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0NTczMA==", "bodyText": "Will clean up", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551445730", "createdAt": "2021-01-04T17:04:26Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-http-jdk-httpclient/src/test/java/com/azure/core/http/jdk/httpclient/JdkAsyncHttpClientTests.java", "diffHunk": "@@ -221,8 +221,8 @@ public void testConcurrentRequests() throws NoSuchAlgorithmException {\n                 // Thread.currentThread().getName()))\n                 .map(nbb -> (long) nbb.bb.limit())\n                 .reduce(Long::sum)\n-                .subscribeOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30))\n-                .publishOn(reactor.core.scheduler.Schedulers.newElastic(\"io\", 30));\n+                .subscribeOn(Schedulers.newBoundedElastic(30, 1024, \"io\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDQ3Mw=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUyNjc0OnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core-http-netty/src/main/java/module-info.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoxNzoyOVrOINLJJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNzoxMDoyNlrOIOfrfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDk2NA==", "bodyText": "Can this be removed or narrowed down to export to specific modules only? exports ... to ...", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550684964", "createdAt": "2020-12-31T20:17:29Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-http-netty/src/main/java/module-info.java", "diffHunk": "@@ -3,14 +3,16 @@\n \n module com.azure.http.netty {\n     requires transitive com.azure.core;\n-    requires reactor.netty;\n     requires io.netty.buffer;\n     requires io.netty.common;\n     requires io.netty.transport;\n     requires io.netty.handler;\n     requires io.netty.codec;\n     requires io.netty.codec.http;\n     requires io.netty.handler.proxy;\n+    requires reactor.netty;\n+    requires reactor.netty.core;\n+    requires reactor.netty.http;\n \n     exports com.azure.core.http.netty;\n     exports com.azure.core.http.netty.implementation;       // FIXME this should not be a long-term solution", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0NjMxMA==", "bodyText": "For me, the best path forward to this would be moving the SPI into the root package and removing the exports ... implementation completely.\ncc: @JonathanGiles", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551446310", "createdAt": "2021-01-04T17:05:27Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-http-netty/src/main/java/module-info.java", "diffHunk": "@@ -3,14 +3,16 @@\n \n module com.azure.http.netty {\n     requires transitive com.azure.core;\n-    requires reactor.netty;\n     requires io.netty.buffer;\n     requires io.netty.common;\n     requires io.netty.transport;\n     requires io.netty.handler;\n     requires io.netty.codec;\n     requires io.netty.codec.http;\n     requires io.netty.handler.proxy;\n+    requires reactor.netty;\n+    requires reactor.netty.core;\n+    requires reactor.netty.http;\n \n     exports com.azure.core.http.netty;\n     exports com.azure.core.http.netty.implementation;       // FIXME this should not be a long-term solution", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDk2NA=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUyNTYyOQ==", "bodyText": "Lets do that in a separate PR so we can see what we are dealing with, but I am fine in general with Alan's preferred approach.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551525629", "createdAt": "2021-01-04T19:38:25Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-http-netty/src/main/java/module-info.java", "diffHunk": "@@ -3,14 +3,16 @@\n \n module com.azure.http.netty {\n     requires transitive com.azure.core;\n-    requires reactor.netty;\n     requires io.netty.buffer;\n     requires io.netty.common;\n     requires io.netty.transport;\n     requires io.netty.handler;\n     requires io.netty.codec;\n     requires io.netty.codec.http;\n     requires io.netty.handler.proxy;\n+    requires reactor.netty;\n+    requires reactor.netty.core;\n+    requires reactor.netty.http;\n \n     exports com.azure.core.http.netty;\n     exports com.azure.core.http.netty.implementation;       // FIXME this should not be a long-term solution", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDk2NA=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA3MDAxMg==", "bodyText": "Tracking issue #18445", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r552070012", "createdAt": "2021-01-05T17:10:26Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-http-netty/src/main/java/module-info.java", "diffHunk": "@@ -3,14 +3,16 @@\n \n module com.azure.http.netty {\n     requires transitive com.azure.core;\n-    requires reactor.netty;\n     requires io.netty.buffer;\n     requires io.netty.common;\n     requires io.netty.transport;\n     requires io.netty.handler;\n     requires io.netty.codec;\n     requires io.netty.codec.http;\n     requires io.netty.handler.proxy;\n+    requires reactor.netty;\n+    requires reactor.netty.core;\n+    requires reactor.netty.http;\n \n     exports com.azure.core.http.netty;\n     exports com.azure.core.http.netty.implementation;       // FIXME this should not be a long-term solution", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NDk2NA=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUyNzI4OnYy", "diffSide": "RIGHT", "path": "sdk/core/azure-core-http-netty/src/test/java/com/azure/core/http/netty/ReactorNettyClientTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoxODoxNlrOINLJdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzowNTo0N1rOIN5oFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTA0NQ==", "bodyText": "This can be deleted.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550685045", "createdAt": "2020-12-31T20:18:16Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-http-netty/src/test/java/com/azure/core/http/netty/ReactorNettyClientTests.java", "diffHunk": "@@ -122,7 +126,7 @@ public void testMultipleSubscriptionsEmitsError() {\n             // of throwing an error\n             // Reactor netty 0.9.7.RELEASE again changed the behavior to return an error on second subscription.\n             .verifyError(IllegalStateException.class);\n-            // .verifyComplete();\n+        // .verifyComplete();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ0NjU1MA==", "bodyText": "Will remove", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551446550", "createdAt": "2021-01-04T17:05:47Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-http-netty/src/test/java/com/azure/core/http/netty/ReactorNettyClientTests.java", "diffHunk": "@@ -122,7 +126,7 @@ public void testMultipleSubscriptionsEmitsError() {\n             // of throwing an error\n             // Reactor netty 0.9.7.RELEASE again changed the behavior to return an error on second subscription.\n             .verifyError(IllegalStateException.class);\n-            // .verifyComplete();\n+        // .verifyComplete();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTA0NQ=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUzMTM5OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/module-info.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyMjoxNlrOINLLdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyMjoxNlrOINLLdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTU1Ng==", "bodyText": "Shouldn't this be transitively available through com.azure.core?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550685556", "createdAt": "2020-12-31T20:22:16Z", "author": {"login": "srnagar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/module-info.java", "diffHunk": "@@ -3,9 +3,9 @@\n \n \n module com.azure.cosmos {\n-\n     requires transitive com.azure.core;\n \n+    requires com.fasterxml.jackson.databind;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUzMjYxOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/microsoft-azure-keyvault-core/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyMzo1MFrOINLMBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyMzo1MFrOINLMBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTcwMw==", "bodyText": "nit: fix formatting", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550685703", "createdAt": "2020-12-31T20:23:50Z", "author": {"login": "srnagar"}, "path": "sdk/keyvault/microsoft-azure-keyvault-core/pom.xml", "diffHunk": "@@ -46,7 +46,7 @@\n   \t<dependency>\n   \t\t<groupId>org.apache.commons</groupId>\n   \t\t<artifactId>commons-lang3</artifactId>\n-    <version>3.10</version> <!-- {x-version-update;org.apache.commons:commons-lang3;external_dependency} -->\n+    <version>3.11</version> <!-- {x-version-update;org.apache.commons:commons-lang3;external_dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUzNDUzOnYy", "diffSide": "RIGHT", "path": "sdk/metricsadvisor/azure-ai-metricsadvisor/src/main/java/com/azure/ai/metricsadvisor/administration/MetricsAdvisorAdministrationClientBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyNTo0OFrOINLM9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNzozMDowOVrOIN6cQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTk0MQ==", "bodyText": "What deprecated method is being used here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550685941", "createdAt": "2020-12-31T20:25:48Z", "author": {"login": "srnagar"}, "path": "sdk/metricsadvisor/azure-ai-metricsadvisor/src/main/java/com/azure/ai/metricsadvisor/administration/MetricsAdvisorAdministrationClientBuilder.java", "diffHunk": "@@ -176,6 +176,7 @@ public MetricsAdvisorAdministrationAsyncClient buildAsyncClient() {\n         return new MetricsAdvisorAdministrationAsyncClient(advisorRestAPIOpenAPIV2, serviceVersion);\n     }\n \n+    @SuppressWarnings(\"deprecation\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQ1OTkwNg==", "bodyText": "HttpLogOptions.getApplicationId() was deprecated in Core a while ago", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551459906", "createdAt": "2021-01-04T17:30:09Z", "author": {"login": "alzimmermsft"}, "path": "sdk/metricsadvisor/azure-ai-metricsadvisor/src/main/java/com/azure/ai/metricsadvisor/administration/MetricsAdvisorAdministrationClientBuilder.java", "diffHunk": "@@ -176,6 +176,7 @@ public MetricsAdvisorAdministrationAsyncClient buildAsyncClient() {\n         return new MetricsAdvisorAdministrationAsyncClient(advisorRestAPIOpenAPIV2, serviceVersion);\n     }\n \n+    @SuppressWarnings(\"deprecation\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NTk0MQ=="}, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NDUzNjkwOnYy", "diffSide": "RIGHT", "path": "sdk/schemaregistry/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyODowNlrOINLOIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQyMDoyODowNlrOINLOIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDY4NjI0MQ==", "bodyText": "Good catch!", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r550686241", "createdAt": "2020-12-31T20:28:06Z", "author": {"login": "srnagar"}, "path": "sdk/schemaregistry/pom.xml", "diffHunk": "@@ -23,12 +23,12 @@\n         <dependency>\n           <groupId>com.azure</groupId>\n           <artifactId>azure-data-schemaregistry</artifactId>\n-          <version>1.0.0-beta.5</version> <!-- {x-version-update;com.azure:azure-messaging-eventhubs;current} -->\n+          <version>1.0.0-beta.5</version> <!-- {x-version-update;com.azure:azure-data-schemaregistry;current} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MTA4OTcxOnYy", "diffSide": "RIGHT", "path": "eng/versioning/external_dependencies.txt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTo1NzozN1rOIN_Drg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTo1NzozN1rOIN_Drg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUzNTUzNA==", "bodyText": "These libraries still use 3.3.x of Reactor", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17905#discussion_r551535534", "createdAt": "2021-01-04T19:57:37Z", "author": {"login": "alzimmermsft"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -92,56 +92,58 @@ org.slf4j:slf4j-nop;1.7.30\n org.slf4j:slf4j-simple;1.7.30\n \n ## Spring boot dependency versions\n-org.springframework.boot:spring-boot-dependencies;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-actuator-autoconfigure;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure-processor;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-configuration-processor;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-actuator;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-aop;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-cache;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-data-redis;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-logging;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-test;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-validation;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-web;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter-webflux;2.3.5.RELEASE\n-org.springframework.boot:spring-boot-starter;2.3.5.RELEASE\n-org.springframework.boot:spring-boot;2.3.5.RELEASE\n-org.springframework.data:spring-data-commons;2.3.5.RELEASE\n-org.springframework.data:spring-data-mongodb;3.0.5.RELEASE\n-org.springframework.data:spring-data-redis;2.3.5.RELEASE\n-org.springframework.integration:spring-integration-core;5.3.3.RELEASE\n-org.springframework.kafka:spring-kafka;2.5.7.RELEASE\n-org.springframework.security:spring-security-config;5.3.5.RELEASE\n-org.springframework.security:spring-security-core;5.3.5.RELEASE\n-org.springframework.security:spring-security-oauth2-client;5.3.5.RELEASE\n-org.springframework.security:spring-security-oauth2-resource-server;5.3.5.RELEASE\n-org.springframework.security:spring-security-oauth2-core;5.3.5.RELEASE\n-org.springframework.security:spring-security-oauth2-jose;5.3.5.RELEASE\n-org.springframework.security:spring-security-web;5.3.5.RELEASE\n-org.springframework:spring-beans;5.2.10.RELEASE\n-org.springframework:spring-context-support;5.2.10.RELEASE\n-org.springframework:spring-context;5.2.10.RELEASE\n-org.springframework:spring-core;5.2.10.RELEASE\n-org.springframework:spring-expression;5.2.10.RELEASE\n-org.springframework:spring-jdbc;5.2.10.RELEASE\n-org.springframework:spring-jms;5.2.10.RELEASE\n-org.springframework:spring-messaging;5.2.10.RELEASE\n-org.springframework:spring-tx;5.2.10.RELEASE\n-org.springframework:spring-web;5.2.10.RELEASE\n-org.springframework:spring-webmvc;5.2.10.RELEASE\n+# After you update spring-boot-dependencies' version, please run this script: /sdk/spring/scripts/sync_version_from_spring-boot-dependencies.py\n+org.springframework.boot:spring-boot-dependencies;2.4.1\n+org.springframework.boot:spring-boot-actuator-autoconfigure;2.4.1\n+org.springframework.boot:spring-boot-autoconfigure-processor;2.4.1\n+org.springframework.boot:spring-boot-autoconfigure;2.4.1\n+org.springframework.boot:spring-boot-configuration-processor;2.4.1\n+org.springframework.boot:spring-boot-starter-actuator;2.4.1\n+org.springframework.boot:spring-boot-starter-aop;2.4.1\n+org.springframework.boot:spring-boot-starter-cache;2.4.1\n+org.springframework.boot:spring-boot-starter-data-redis;2.4.1\n+org.springframework.boot:spring-boot-starter-logging;2.4.1\n+org.springframework.boot:spring-boot-starter-test;2.4.1\n+org.springframework.boot:spring-boot-starter-validation;2.4.1\n+org.springframework.boot:spring-boot-starter-web;2.4.1\n+org.springframework.boot:spring-boot-starter-webflux;2.4.1\n+org.springframework.boot:spring-boot-starter;2.4.1\n+org.springframework.boot:spring-boot;2.4.1\n+org.springframework.data:spring-data-commons;2.4.2\n+org.springframework.data:spring-data-mongodb;3.1.2\n+org.springframework.data:spring-data-redis;2.4.2\n+org.springframework.integration:spring-integration-core;5.4.2\n+org.springframework.kafka:spring-kafka;2.6.4\n+org.springframework.security:spring-security-config;5.4.2\n+org.springframework.security:spring-security-core;5.4.2\n+org.springframework.security:spring-security-oauth2-client;5.4.2\n+org.springframework.security:spring-security-oauth2-resource-server;5.4.2\n+org.springframework.security:spring-security-oauth2-core;5.4.2\n+org.springframework.security:spring-security-oauth2-jose;5.4.2\n+org.springframework.security:spring-security-web;5.4.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a62b5eae3cd1098b3f448dcfcf965a8136a1b9"}, "originalPosition": 131}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2752, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}