{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NjE4NzM0", "number": 18063, "title": "[Batch] Exposes BatchClient factory method", "bodyText": "Used for a workaround that overrides the JSON deserializer.\nThe PR #10310 introduced an issue where all paged list APIs would only return the first page of items, not the entire list. The feature introduced caused the FlattenerDeserializer to become the default JSON deserializer. The odata.nextLink property of paged lists was interpreted by the flattened deserializer as a nested key (\"odata/nextLink\"), so the nextLink is always null.\nThis change only exposes a BatchClient factory method so that clients code can provide its own deserializer. A separate permanent fix for the above problem is required.", "createdAt": "2020-12-10T03:56:15Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063", "merged": true, "mergeCommit": {"oid": "d3ae61308e2e5eaf8a7efe64187b84f0b700ee0b"}, "closed": true, "closedAt": "2021-01-05T22:19:35Z", "author": {"login": "gingi"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkrhKdgBqjQwOTMxMDA0Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtSiNWgFqTU2MjE3ODc4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d5a1a871e2503fcc7851a839ae8bbc8aef78db2", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5d5a1a871e2503fcc7851a839ae8bbc8aef78db2", "committedDate": "2020-12-10T03:46:12Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}, "afterCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a1584636e4c76ae538fefba14172dbbc0aa632e", "committedDate": "2020-12-10T04:20:20Z", "message": "[Batch] Exposes BatchClient factory methodUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDI5NTQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-549429546", "createdAt": "2020-12-10T17:21:43Z", "commit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzoyMTo0NFrOIDUk1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzoyMTo0NFrOIDUk1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1Mzc0OQ==", "bodyText": "I don't see an 8.1.0 version in Maven, are we looking to release this fix as 8.1.0 or 8.1.1?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r540353749", "createdAt": "2020-12-10T17:21:44Z", "author": {"login": "alzimmermsft"}, "path": "eng/spotbugs-aggregate-report/pom.xml", "diffHunk": "@@ -112,7 +112,7 @@\n         <dependency>\n           <groupId>com.microsoft.azure</groupId>\n           <artifactId>azure-batch</artifactId>\n-          <version>8.1.0</version> <!-- {x-version-update;com.microsoft.azure:azure-batch;current} -->\n+          <version>8.1.1</version> <!-- {x-version-update;com.microsoft.azure:azure-batch;current} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDMwMDIx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-549430021", "createdAt": "2020-12-10T17:22:15Z", "commit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzoyMjoxNlrOIDUmXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzoyMjozNlrOIDUnfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NDE0Mw==", "bodyText": "nit: This line looks like it can be removed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r540354143", "createdAt": "2020-12-10T17:22:16Z", "author": {"login": "alzimmermsft"}, "path": "sdk/batch/microsoft-azure-batch/CHANGELOG.md", "diffHunk": "@@ -1,10 +1,16 @@\n # Release History\n \n+## 8.1.1 (Unreleased)\n+\n+- Exposes a BatchClient factory method\n+\n ## 8.1.0 (Unreleased)\n+\n ### Features\n+\n - Adds support for task slots\n-    - `JobOperations.getTaskSlotCounts()` returns task slot counts\n-    - `JobOperations.getTaskResult()` returns a `TaskCountsResult` object containing both task and slot counts\n+  - `JobOperations.getTaskSlotCounts()` returns task slot counts\n+  - `JobOperations.getTaskResult()` returns a `TaskCountsResult` object containing both task and slot counts\n \n ## 8.1.0-beta.1 (Unreleased)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NDQzMA==", "bodyText": "Whichever version we plan to release we'll want to add a date to it", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r540354430", "createdAt": "2020-12-10T17:22:36Z", "author": {"login": "alzimmermsft"}, "path": "sdk/batch/microsoft-azure-batch/CHANGELOG.md", "diffHunk": "@@ -1,10 +1,16 @@\n # Release History\n \n+## 8.1.1 (Unreleased)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a1584636e4c76ae538fefba14172dbbc0aa632e", "committedDate": "2020-12-10T04:20:20Z", "message": "[Batch] Exposes BatchClient factory methodUsed for a workaround that overrides the JSON deserializer."}, "afterCommit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e90680f1f8e89f2fa90480a4637948656f00c496", "committedDate": "2020-12-10T17:58:02Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDcyNjI3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-549472627", "createdAt": "2020-12-10T18:11:25Z", "commit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODoxMToyNlrOIDWvbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODoxODo0MVrOIDXB2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM4OTIzMQ==", "bodyText": "@gingi I don't see 8.1.0-beta.1 either in Maven. The last released version is 8.0.0. So, the next version should be 8.0.1 if it's a patch release or 8.1.0 if it's a minor version release.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r540389231", "createdAt": "2020-12-10T18:11:26Z", "author": {"login": "srnagar"}, "path": "eng/spotbugs-aggregate-report/pom.xml", "diffHunk": "@@ -112,7 +112,7 @@\n         <dependency>\n           <groupId>com.microsoft.azure</groupId>\n           <artifactId>azure-batch</artifactId>\n-          <version>8.1.0</version> <!-- {x-version-update;com.microsoft.azure:azure-batch;current} -->\n+          <version>8.1.1</version> <!-- {x-version-update;com.microsoft.azure:azure-batch;current} -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1Mzc0OQ=="}, "originalCommit": {"oid": "2a1584636e4c76ae538fefba14172dbbc0aa632e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM5Mzk0Nw==", "bodyText": "I think if there's an issue in FlatteningDeserializer, then we should fix that issue instead of making an internal method public to work around this issue. Once this method is made public, it cannot be removed without causing a breaking change.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r540393947", "createdAt": "2020-12-10T18:18:41Z", "author": {"login": "srnagar"}, "path": "sdk/batch/microsoft-azure-batch/src/main/java/com/microsoft/azure/batch/BatchClient.java", "diffHunk": "@@ -98,7 +98,7 @@ public static BatchClient open(BatchCredentials credentials) {\n      * @param baseUrl A  String object specifying the the batch end point.\n      * @return The new {@link BatchClient} instance.\n      */\n-    static BatchClient open(RestClient restClient, String baseUrl) {\n+    public static BatchClient open(RestClient restClient, String baseUrl) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMjU4Mzk2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-561258396", "createdAt": "2021-01-04T18:50:21Z", "commit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxODo1MDoyMlrOIN87Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxODo1MDoyMlrOIN87Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUwMDU1OA==", "bodyText": "Thanks for the clarification @jianghaolu . Ideally, we should have named this method create() but since there is already a public method called open() that creates a BatchClient using credentials, we should continue to use the same name.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r551500558", "createdAt": "2021-01-04T18:50:22Z", "author": {"login": "srnagar"}, "path": "sdk/batch/microsoft-azure-batch/src/main/java/com/microsoft/azure/batch/BatchClient.java", "diffHunk": "@@ -98,7 +98,7 @@ public static BatchClient open(BatchCredentials credentials) {\n      * @param baseUrl A  String object specifying the the batch end point.\n      * @return The new {@link BatchClient} instance.\n      */\n-    static BatchClient open(RestClient restClient, String baseUrl) {\n+    public static BatchClient open(RestClient restClient, String baseUrl) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM5Mzk0Nw=="}, "originalCommit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e90680f1f8e89f2fa90480a4637948656f00c496", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e90680f1f8e89f2fa90480a4637948656f00c496", "committedDate": "2020-12-10T17:58:02Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}, "afterCommit": {"oid": "feb6cae7cabb3a65999d2063999a44dab187779f", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/feb6cae7cabb3a65999d2063999a44dab187779f", "committedDate": "2021-01-04T20:36:26Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "feb6cae7cabb3a65999d2063999a44dab187779f", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/feb6cae7cabb3a65999d2063999a44dab187779f", "committedDate": "2021-01-04T20:36:26Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}, "afterCommit": {"oid": "f824a8b94466914fad40d31f1efe86071ee54bcd", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f824a8b94466914fad40d31f1efe86071ee54bcd", "committedDate": "2021-01-05T19:36:09Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMTU4NjY3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-562158667", "createdAt": "2021-01-05T21:43:18Z", "commit": {"oid": "f824a8b94466914fad40d31f1efe86071ee54bcd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQyMTo0MzoxOFrOIOop_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQyMTo0MzoxOFrOIOop_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjIxNzA4Nw==", "bodyText": "Should be 8.1.0 (2021-01-05)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#discussion_r552217087", "createdAt": "2021-01-05T21:43:18Z", "author": {"login": "jianghaolu"}, "path": "sdk/batch/microsoft-azure-batch/CHANGELOG.md", "diffHunk": "@@ -1,12 +1,16 @@\n # Release History\n \n+## 8.1.1 (2020-12-10)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f824a8b94466914fad40d31f1efe86071ee54bcd"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c161208ee16135d259717890e87fb687980c337d", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c161208ee16135d259717890e87fb687980c337d", "committedDate": "2021-01-05T21:52:20Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f824a8b94466914fad40d31f1efe86071ee54bcd", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f824a8b94466914fad40d31f1efe86071ee54bcd", "committedDate": "2021-01-05T19:36:09Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}, "afterCommit": {"oid": "c161208ee16135d259717890e87fb687980c337d", "author": {"user": {"login": "gingi", "name": "Shiran Pasternak"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c161208ee16135d259717890e87fb687980c337d", "committedDate": "2021-01-05T21:52:20Z", "message": "[Batch] Exposes BatchClient factory method\n\nUsed for a workaround that overrides the JSON deserializer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMTc4Nzgx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18063#pullrequestreview-562178781", "createdAt": "2021-01-05T22:19:29Z", "commit": {"oid": "c161208ee16135d259717890e87fb687980c337d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1455, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}