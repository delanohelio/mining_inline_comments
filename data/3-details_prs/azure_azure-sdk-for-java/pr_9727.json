{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2Njg5MzQ5", "number": 9727, "title": "Pluggable Modules for JSON Serialization", "bodyText": "This PR adds the JsonSerializer interface, with accompanying implmentations using Jackson and GSON, which will allow customers to pass in their own serialization logic that will handle serializing and deserializing their custom types. This interface won't replace the serialization logic in Azure Core that handles service types, such as an AppConfiguration setting, KeyVault secret, or Storage blob properties. This will allow clients that deal with customer object to accept a JsonSerializer that will act as a companion to the Azure Core serializer to serialize and deserialize the customer type, it will also allow for non-Jackson annotated models to have full support.\nExample: Search Get Document\nWith Customer Serializer\nSearchIndexClient searchIndexClient = new SearchIndexClientBuilder()\n    .indexName(indexName)\n    .credential(credential)\n    .serializer(jsonSerializer) // This is a potential representation of the change in a client library.\n    .buildClient();\n\nCustomerType customerType = searchIndexClient.getDocument(documentKey, CustomerType.class);\n\n// This will still support getting documents as a SearchDocument.\nSearchDocument searchDocument = searchIndexClient.getDocument(documentKey);\nWithout Customer Serializer\nSearchIndexClient searchIndexClient = new SearchIndexClientBuilder()\n    .indexName(indexName)\n    .credential(credential)\n    .buildClient();\n\nSearchDocument searchDocument = searchIndexClient.getDocument(documentKey); // SearchDocument is effectively a `Map<String, Object>`.", "createdAt": "2020-04-01T00:16:44Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727", "merged": true, "mergeCommit": {"oid": "34962bd0ca77595bc7271486613b94636285a5e7"}, "closed": true, "closedAt": "2020-04-29T21:52:24Z", "author": {"login": "alzimmermsft"}, "timelineItems": {"totalCount": 67, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTMVDbAH2gAyMzk2Njg5MzQ5OmI5ZmE3MGM4NDZjMzNhNDU2NmIxOWU4MmI5Y2MxY2FjNzE1NWUxOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb29FhAFqTQwMTM2OTg5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b9fa70c846c33a4566b19e82b9cc1cac7155e192", "committedDate": "2020-04-01T00:12:30Z", "message": "High-level module information and engineering system requirements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MjY3OTgx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-385267981", "createdAt": "2020-04-01T05:07:26Z", "commit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNTowNzoyNlrOF-w9zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNTowODo0NlrOF-w_Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM1ODI4Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            module azure.core.serializer.avro.apache {\n          \n          \n            \n            module com.azure.core.serializer.avro.apache {", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401358287", "createdAt": "2020-04-01T05:07:26Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-avro-apache/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,6 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module azure.core.serializer.avro.apache {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM1ODM2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            module azure.core.serializer.avro.jackson {\n          \n          \n            \n            module com.azure.core.serializer.avro.jackson {", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401358360", "createdAt": "2020-04-01T05:07:46Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-avro-jackson/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,6 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module azure.core.serializer.avro.jackson {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM1ODQ2Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            module azure.core.serializer.json.gson {\n          \n          \n            \n            module com.azure.core.serializer.json.gson {", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401358462", "createdAt": "2020-04-01T05:08:07Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-json-gson/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,6 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module azure.core.serializer.json.gson {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM1ODY3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            module azure.core.serializer.json.jackson {\n          \n          \n            \n            module com.azure.core.serializer.json.jackson {", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401358675", "createdAt": "2020-04-01T05:08:46Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,6 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module azure.core.serializer.json.jackson {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MzAzOTQw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-385303940", "createdAt": "2020-04-01T06:46:08Z", "commit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNjo0NjowOFrOF-y3sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwNjo0ODoxMFrOF-y68g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM4OTQ4OA==", "bodyText": "Since this is not a Client, builder is not mandatory but depending on what this class includes and how it gets instantiated we can still use builder if it's convenient.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401389488", "createdAt": "2020-04-01T06:46:08Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-json-gson/src/main/java/com/azure/core/serializer/json/gson/GsonJsonSerializer.java", "diffHunk": "@@ -0,0 +1,11 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.gson;\n+\n+/*\n+ * Thoughts on this class skipping the builder pattern?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDMyMg==", "bodyText": "Should these JsonDeserializer/AvroDeserializer interfaces extend from Deserializer? Same for serializers too.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r401390322", "createdAt": "2020-04-01T06:48:10Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/serializer/JsonDeserializer.java", "diffHunk": "@@ -0,0 +1,4 @@\n+package com.azure.core.serializer;\n+\n+public interface JsonDeserializer {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9fa70c846c33a4566b19e82b9cc1cac7155e192"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36caf8fe7647a24f896477cdf8328e31f3dbbf69", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/36caf8fe7647a24f896477cdf8328e31f3dbbf69", "committedDate": "2020-04-02T17:50:13Z", "message": "Updates to interfaces and simple implementations for JSON"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f14fa5a6c6deb6cfa8a5067a22194b42ad07abdf", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f14fa5a6c6deb6cfa8a5067a22194b42ad07abdf", "committedDate": "2020-04-03T19:29:12Z", "message": "Merged in master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64df338761c447f50b7d528436026464fec4dece", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/64df338761c447f50b7d528436026464fec4dece", "committedDate": "2020-04-06T20:57:44Z", "message": "Build updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c6f0441390131455656a197fae53c39b25d57eb", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9c6f0441390131455656a197fae53c39b25d57eb", "committedDate": "2020-04-06T22:58:44Z", "message": "Added simple example of Avro implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051f37af1ab957529050be917e5b0276543a60f8", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/051f37af1ab957529050be917e5b0276543a60f8", "committedDate": "2020-04-06T23:05:07Z", "message": "Fixed version tags in Jacoco"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dfc7bae6c214c032612c366d78131e3ddd18be3", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dfc7bae6c214c032612c366d78131e3ddd18be3", "committedDate": "2020-04-06T23:35:24Z", "message": "Remove accidentally added file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a710dd711e132e556a0da135504deec7e2534aa0", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a710dd711e132e556a0da135504deec7e2534aa0", "committedDate": "2020-04-06T23:35:29Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a815255096c1b49caa764dd36ae6d888a8c683ca", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a815255096c1b49caa764dd36ae6d888a8c683ca", "committedDate": "2020-04-07T00:48:59Z", "message": "Update serializers to have async only APIs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MzYzMDAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-389363000", "createdAt": "2020-04-07T18:02:43Z", "commit": {"oid": "a815255096c1b49caa764dd36ae6d888a8c683ca"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODowMjo0M1rOGCPuGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODowMjo0M1rOGCPuGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAwNzg5OA==", "bodyText": "typo: jackson", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405007898", "createdAt": "2020-04-07T18:02:43Z", "author": {"login": "joshfree"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -3,6 +3,7 @@\n com.fasterxml.jackson.core:jackson-annotations;2.10.1\n com.fasterxml.jackson.core:jackson-core;2.10.1\n com.fasterxml.jackson.core:jackson-databind;2.10.1\n+com.fasterxml.jsckson.dataformat:jackson-dataformat-avro;2.10.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a815255096c1b49caa764dd36ae6d888a8c683ca"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a39aaff9c3dbbd1776349383f2d39ed9eb09e90", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a39aaff9c3dbbd1776349383f2d39ed9eb09e90", "committedDate": "2020-04-07T18:48:55Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c31a49ff679d5e08ddcb462a32713217cd0cdd39", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c31a49ff679d5e08ddcb462a32713217cd0cdd39", "committedDate": "2020-04-07T19:10:48Z", "message": "Fixed typo in external dependency versions, added baseline Javadocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c52c1b6b68e3b2f3cb5b7b193fe1d9802bb40a3", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3c52c1b6b68e3b2f3cb5b7b193fe1d9802bb40a3", "committedDate": "2020-04-07T20:54:04Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f451ae6b9f301f11bdc6833ecb16cf3e8b8c2dbc", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f451ae6b9f301f11bdc6833ecb16cf3e8b8c2dbc", "committedDate": "2020-04-07T21:58:28Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a52bc7546a914fe1969c9733eca123f555c855bd", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a52bc7546a914fe1969c9733eca123f555c855bd", "committedDate": "2020-04-07T22:11:04Z", "message": "Add CHANGELOGs and READMEs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/031fd217caa9524cfad28da1d2d3bbe223d6d240", "committedDate": "2020-04-07T22:13:14Z", "message": "Remove lsp logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTMwNTM1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-389530535", "createdAt": "2020-04-07T22:19:40Z", "commit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMjoxOTo0MVrOGCYNVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMjoyNzozNFrOGCYZpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE0Njk2NQ==", "bodyText": "I would have this worded slightly differently perhaps - 'Azure Core - Serializer - Avro - Apache', etc.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405146965", "createdAt": "2020-04-07T22:19:41Z", "author": {"login": "JonathanGiles"}, "path": "pom.client.xml", "diffHunk": "@@ -558,6 +558,22 @@\n                 <title>Azure Core - Management</title>\n                 <packages>com.azure.core.management*</packages>\n               </group>\n+              <group>\n+                <title>Azure Core - Serializer - Apache Avro</title>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE0NzczNg==", "bodyText": "Don't need square brackets around the 1.9.2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405147736", "createdAt": "2020-04-07T22:21:44Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-avro-apache/pom.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<!--\n+  ~ Copyright (c) Microsoft Corporation. All rights reserved.\n+  ~ Licensed under the MIT License.\n+  -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../../pom.client.xml</relativePath>\n+  </parent>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-core-serializer-avro-apache</artifactId>\n+  <packaging>jar</packaging>\n+  <version>1.0.0-beta.1</version> <!-- {x-version-update;com.azure:azure-core-serializer-avro-apache;current} -->\n+\n+  <name>Microsoft Azure Apache Avro Serializer Library</name>\n+  <description>This package contains the Apache Avro serializer client plugin for azure-core.</description>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+  <licenses>\n+    <license>\n+      <name>The MIT License (MIT)</name>\n+      <url>http://opensource.org/licenses/MIT</url>\n+      <distribution>repo</distribution>\n+    </license>\n+  </licenses>\n+\n+  <distributionManagement>\n+    <site>\n+      <id>azure-java-build-docs</id>\n+      <url>${site.url}/site/${project.artifactId}</url>\n+    </site>\n+  </distributionManagement>\n+\n+  <scm>\n+    <url>https://github.com/Azure/azure-sdk-for-java</url>\n+    <connection>scm:git:https://github.com/Azure/azure-sdk-for-java.git</connection>\n+    <developerConnection>scm:git:https://github.com/Azure/azure-sdk-for-java.git</developerConnection>\n+  </scm>\n+\n+  <properties>\n+    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n+    <legal><![CDATA[[INFO] Any downloads listed may be third party software.  Microsoft grants you no rights for third party software.]]></legal>\n+  </properties>\n+\n+  <developers>\n+    <developer>\n+      <id>microsoft</id>\n+      <name>Microsoft</name>\n+    </developer>\n+  </developers>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-core</artifactId>\n+      <version>1.5.0-beta.1</version> <!-- {x-version-update;com.azure:azure-core;current} -->\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.apache.avro</groupId>\n+      <artifactId>avro</artifactId>\n+      <version>1.9.2</version> <!-- {x-version-update;org.apache.avro:avro;external_dependency} -->\n+    </dependency>\n+  </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <version>3.0.0-M3</version> <!-- {x-version-update;org.apache.maven.plugins:maven-enforcer-plugin;external_dependency} -->\n+        <configuration>\n+          <rules>\n+            <bannedDependencies>\n+              <includes>\n+                <include>com.azure:*</include>\n+                <include>org.apache.avro:avro:[1.9.2]</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE1MDExOQ==", "bodyText": "What is the use case for this method with the clazz argument?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405150119", "createdAt": "2020-04-07T22:27:34Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/serializer/JsonSerializer.java", "diffHunk": "@@ -0,0 +1,59 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.io.OutputStream;\n+\n+/**\n+ * Generic interface covering basic JSON serialization and deserialization methods.\n+ */\n+public interface JsonSerializer {\n+    /**\n+     * Reads the JSON string into its object representation.\n+     *\n+     * @param input The JSON string.\n+     * @param clazz {@link Class} representing the object.\n+     * @param <T> Type of the object.\n+     * @return The object representing the JSON string.\n+     */\n+    <T> Mono<T> read(String input, Class<T> clazz);\n+\n+    /**\n+     * Writes the object into its JSON string.\n+     *\n+     * @param value The object.\n+     * @return The JSON string representing the object.\n+     */\n+    Mono<String> write(Object value);\n+\n+    /**\n+     * Writes the object into its JSON string.\n+     *\n+     * @param value The object.\n+     * @param clazz {@link Class} representing the object.\n+     * @return The JSON string representing the object.\n+     */\n+    Mono<String> write(Object value, Class<?> clazz);\n+\n+    /**\n+     * Converts the object into a JSON string and writes it to the {@link OutputStream}.\n+     *\n+     * @param value The object.\n+     * @param stream The {@link OutputStream} where the JSON string will be written.\n+     * @return An indicator that the object's JSON string has been written to the {@link OutputStream}.\n+     */\n+    Mono<Void> write(Object value, OutputStream stream);\n+\n+    /**\n+     * Converts the object into a JSON string and writes it to the {@link OutputStream}.\n+     *\n+     * @param value The object.\n+     * @param stream The {@link OutputStream} where the JSON string will be written.\n+     * @param clazz {@link Class} representing the object.\n+     * @return An indicator that the object's JSON string has been written to the {@link OutputStream}.\n+     */\n+    Mono<Void> write(Object value, OutputStream stream, Class<?> clazz);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "455d7b813f3eeb87af7cdaefbb7d3b75fa9c2c13", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/455d7b813f3eeb87af7cdaefbb7d3b75fa9c2c13", "committedDate": "2020-04-07T22:34:59Z", "message": "Remove generics from AvroSerializer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTM0Mjc5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-389534279", "createdAt": "2020-04-07T22:27:56Z", "commit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMjoyNzo1N1rOGCYaTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMjozOToxMFrOGCYrIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE1MDI4NQ==", "bodyText": "Can this just used the provided mapper instead of making a copy?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405150285", "createdAt": "2020-04-07T22:27:57Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-avro-jackson/src/main/java/com/azure/core/serializer/avro/jackson/JacksonAvroSerializer.java", "diffHunk": "@@ -0,0 +1,69 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.avro.jackson;\n+\n+import com.azure.core.serializer.AvroSerializer;\n+import com.fasterxml.jackson.dataformat.avro.AvroMapper;\n+import com.fasterxml.jackson.dataformat.avro.AvroSchema;\n+import reactor.core.Exceptions;\n+import reactor.core.publisher.Mono;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+\n+/**\n+ * Jackson based implementation of the {@link AvroSerializer} interface.\n+ */\n+public final class JacksonAvroSerializer implements AvroSerializer<AvroSchema> {\n+    private final AvroMapper mapper;\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the default Jackson serializer.\n+     */\n+    public JacksonAvroSerializer() {\n+        this.mapper = new AvroMapper();\n+    }\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    public JacksonAvroSerializer(AvroMapper mapper) {\n+        this.mapper = mapper.copy();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE1MDY3Nw==", "bodyText": "log and return error.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405150677", "createdAt": "2020-04-07T22:28:57Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-avro-jackson/src/main/java/com/azure/core/serializer/avro/jackson/JacksonAvroSerializer.java", "diffHunk": "@@ -0,0 +1,69 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.avro.jackson;\n+\n+import com.azure.core.serializer.AvroSerializer;\n+import com.fasterxml.jackson.dataformat.avro.AvroMapper;\n+import com.fasterxml.jackson.dataformat.avro.AvroSchema;\n+import reactor.core.Exceptions;\n+import reactor.core.publisher.Mono;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+\n+/**\n+ * Jackson based implementation of the {@link AvroSerializer} interface.\n+ */\n+public final class JacksonAvroSerializer implements AvroSerializer<AvroSchema> {\n+    private final AvroMapper mapper;\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the default Jackson serializer.\n+     */\n+    public JacksonAvroSerializer() {\n+        this.mapper = new AvroMapper();\n+    }\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    public JacksonAvroSerializer(AvroMapper mapper) {\n+        this.mapper = mapper.copy();\n+    }\n+\n+    @Override\n+    public <T> Mono<T> read(byte[] input, AvroSchema schema) {\n+        return Mono.defer(() -> {\n+            try {\n+                return Mono.just(mapper.reader().with(schema).readValue(input));\n+            } catch (IOException ex) {\n+                return Mono.error(ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE1MTQwNw==", "bodyText": "Mono.fromRunnable() should be sufficient. Don't need to wrap it with Mono.defer()", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405151407", "createdAt": "2020-04-07T22:30:40Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-avro-jackson/src/main/java/com/azure/core/serializer/avro/jackson/JacksonAvroSerializer.java", "diffHunk": "@@ -0,0 +1,69 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.avro.jackson;\n+\n+import com.azure.core.serializer.AvroSerializer;\n+import com.fasterxml.jackson.dataformat.avro.AvroMapper;\n+import com.fasterxml.jackson.dataformat.avro.AvroSchema;\n+import reactor.core.Exceptions;\n+import reactor.core.publisher.Mono;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+\n+/**\n+ * Jackson based implementation of the {@link AvroSerializer} interface.\n+ */\n+public final class JacksonAvroSerializer implements AvroSerializer<AvroSchema> {\n+    private final AvroMapper mapper;\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the default Jackson serializer.\n+     */\n+    public JacksonAvroSerializer() {\n+        this.mapper = new AvroMapper();\n+    }\n+\n+    /**\n+     * Constructs a {@link AvroSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    public JacksonAvroSerializer(AvroMapper mapper) {\n+        this.mapper = mapper.copy();\n+    }\n+\n+    @Override\n+    public <T> Mono<T> read(byte[] input, AvroSchema schema) {\n+        return Mono.defer(() -> {\n+            try {\n+                return Mono.just(mapper.reader().with(schema).readValue(input));\n+            } catch (IOException ex) {\n+                return Mono.error(ex);\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public Mono<byte[]> write(Object value, AvroSchema schema) {\n+        return Mono.defer(() -> {\n+            try {\n+                return Mono.just(mapper.writer().with(schema).writeValueAsBytes(value));\n+            } catch (IOException ex) {\n+                return Mono.error(ex);\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public Mono<Void> write(Object value, AvroSchema schema, OutputStream stream) {\n+        return Mono.defer(() -> Mono.fromRunnable(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031fd217caa9524cfad28da1d2d3bbe223d6d240"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE1NDU5NA==", "bodyText": "We should have null checks for input params (in all these read/write methods)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r405154594", "createdAt": "2020-04-07T22:39:10Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-avro-apache/src/main/java/com/azure/core/serializer/avro/apache/ApacheAvroSerializer.java", "diffHunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.avro.apache;\n+\n+import com.azure.core.serializer.AvroSerializer;\n+import org.apache.avro.Schema;\n+import org.apache.avro.generic.GenericDatumReader;\n+import org.apache.avro.generic.GenericDatumWriter;\n+import org.apache.avro.io.DatumReader;\n+import org.apache.avro.io.DatumWriter;\n+import org.apache.avro.io.DecoderFactory;\n+import org.apache.avro.io.EncoderFactory;\n+import reactor.core.Exceptions;\n+import reactor.core.publisher.Mono;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.OutputStream;\n+\n+/**\n+ * Apache based implementation of the {@link AvroSerializer} interface.\n+ */\n+public class ApacheAvroSerializer implements AvroSerializer {\n+    private static final Schema.Parser PARSER = new Schema.Parser();\n+    private static final DecoderFactory DECODER_FACTORY = DecoderFactory.get();\n+    private static final EncoderFactory ENCODER_FACTORY = EncoderFactory.get();\n+\n+    @Override\n+    public <T> Mono<T> read(byte[] input, String schema) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "455d7b813f3eeb87af7cdaefbb7d3b75fa9c2c13"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1bc8b5ea9ab2ad637ae7231954164b65af6e8ea", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e1bc8b5ea9ab2ad637ae7231954164b65af6e8ea", "committedDate": "2020-04-07T23:45:17Z", "message": "Added builder classes for JSON serializers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53f6e401c43cc70b0c9873c01a2f384e7caa81ea", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/53f6e401c43cc70b0c9873c01a2f384e7caa81ea", "committedDate": "2020-04-08T19:28:11Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fd6800d7636e1bc6223c7480ba7ff1448221b4f", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7fd6800d7636e1bc6223c7480ba7ff1448221b4f", "committedDate": "2020-04-08T19:59:19Z", "message": "Add exception logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a5512bc08385bf6b1aa4e0c5af4a18fb7afcb1f", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0a5512bc08385bf6b1aa4e0c5af4a18fb7afcb1f", "committedDate": "2020-04-08T22:11:27Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88b083041e508ed0191a1003515c7f27e637b7d5", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/88b083041e508ed0191a1003515c7f27e637b7d5", "committedDate": "2020-04-09T00:18:47Z", "message": "Input validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81f7cbb47417e169e28557e87db2644c0faead0b", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/81f7cbb47417e169e28557e87db2644c0faead0b", "committedDate": "2020-04-10T17:32:43Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3045d2175459b36e5b6b435345243b5609c7c19c", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3045d2175459b36e5b6b435345243b5609c7c19c", "committedDate": "2020-04-10T22:58:58Z", "message": "Updated interface to use bytes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a80590d67b21718285a98cb7e601efd372854b64", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a80590d67b21718285a98cb7e601efd372854b64", "committedDate": "2020-04-10T23:05:10Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfef0f36b74b20b44906609bf301aa28997e1a50", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/bfef0f36b74b20b44906609bf301aa28997e1a50", "committedDate": "2020-04-13T18:39:42Z", "message": "Transition GSON library to the new interface design"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "163f23529c8300194a4a4b1304cf600cc4193938", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/163f23529c8300194a4a4b1304cf600cc4193938", "committedDate": "2020-04-13T22:20:56Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTA2NjI2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-392506626", "createdAt": "2020-04-13T23:31:18Z", "commit": {"oid": "163f23529c8300194a4a4b1304cf600cc4193938"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzozMToxOVrOGE4yog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzozMToxOVrOGE4yog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc3Nzk1NA==", "bodyText": "why this needs to be async? You have the byte array and class, this only require some computational work. IMO this doesn't need to be async. same for the other APIs as well.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r407777954", "createdAt": "2020-04-13T23:31:19Z", "author": {"login": "moderakh"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/serializer/JsonSerializer.java", "diffHunk": "@@ -0,0 +1,59 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.io.OutputStream;\n+\n+/**\n+ * Generic interface covering basic JSON serialization and deserialization methods.\n+ */\n+public interface JsonSerializer {\n+    /**\n+     * Reads the JSON byte stream into its object representation.\n+     *\n+     * @param input JSON byte stream.\n+     * @param clazz {@link Class} representing the object.\n+     * @param <T> Type of the object.\n+     * @return The object representing the JSON string.\n+     */\n+    <T> Mono<T> read(byte[] input, Class<T> clazz);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "163f23529c8300194a4a4b1304cf600cc4193938"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8d2363a92fae669620b4ef5e42a5b8922b76729", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a8d2363a92fae669620b4ef5e42a5b8922b76729", "committedDate": "2020-04-14T23:59:04Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6b654d3284cf72e673a2db4f1ae5a5a92ce2981", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a6b654d3284cf72e673a2db4f1ae5a5a92ce2981", "committedDate": "2020-04-15T00:02:56Z", "message": "Removed Avro interface and implementations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71fa56adf6c6a38dcb964f86bbc161c5b6a45116", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/71fa56adf6c6a38dcb964f86bbc161c5b6a45116", "committedDate": "2020-04-15T00:09:05Z", "message": "Changed inteface to sync only"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98b9e1fe09c5a50ff5be6df0dd08e7a6a9d620f8", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/98b9e1fe09c5a50ff5be6df0dd08e7a6a9d620f8", "committedDate": "2020-04-15T00:34:43Z", "message": "Fixed linting issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTA2MDE3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-393906017", "createdAt": "2020-04-15T15:48:32Z", "commit": {"oid": "98b9e1fe09c5a50ff5be6df0dd08e7a6a9d620f8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNTo0ODozM1rOGGALlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNTo0ODozM1rOGGALlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk0NzYwNQ==", "bodyText": "is this more performant than mapper.writeValueAsBytes(value)?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r408947605", "createdAt": "2020-04-15T15:48:33Z", "author": {"login": "moderakh"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/com/azure/core/serializer/json/jackson/JacksonJsonSerializer.java", "diffHunk": "@@ -0,0 +1,84 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.jackson;\n+\n+import com.azure.core.serializer.JsonSerializer;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import reactor.core.Exceptions;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.util.Objects;\n+\n+/**\n+ * Jackson based implementation of the {@link JsonSerializer} interface.\n+ */\n+public final class JacksonJsonSerializer implements JsonSerializer {\n+    private final ClientLogger logger = new ClientLogger(JacksonJsonSerializer.class);\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Constructs a {@link JsonSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    JacksonJsonSerializer(ObjectMapper mapper) {\n+        this.mapper = mapper;\n+    }\n+\n+    @Override\n+    public <T> T read(byte[] input, Class<T> clazz) {\n+        if (input == null) {\n+            return null;\n+        }\n+\n+        try {\n+            return mapper.readValue(input, clazz);\n+        } catch (IOException ex) {\n+            throw logger.logExceptionAsError(Exceptions.propagate(ex));\n+        }\n+    }\n+\n+    @Override\n+    public byte[] write(Object value) {\n+        try {\n+            return mapper.writeValueAsBytes(value);\n+        } catch (IOException ex) {\n+            throw logger.logExceptionAsError(Exceptions.propagate(ex));\n+        }\n+    }\n+\n+    @Override\n+    public byte[] write(Object value, Class<?> clazz) {\n+        try {\n+            return mapper.writerFor(clazz).writeValueAsBytes(value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98b9e1fe09c5a50ff5be6df0dd08e7a6a9d620f8"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTA3NjQ1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-393907645", "createdAt": "2020-04-15T15:50:22Z", "commit": {"oid": "98b9e1fe09c5a50ff5be6df0dd08e7a6a9d620f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ddf520b04683b44663a97f65f757e9ad4ece2102", "committedDate": "2020-04-15T16:45:30Z", "message": "Remove write API which takes a class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTgzODUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-393983851", "createdAt": "2020-04-15T17:26:31Z", "commit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoyNjozMVrOGGEC-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoyNjozMVrOGGEC-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAxMDkzOQ==", "bodyText": "I don't remember of top of my head, does this support ObjectNode?\ni.e., mapper.readvalue(input, ObjectNode.class)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r409010939", "createdAt": "2020-04-15T17:26:31Z", "author": {"login": "moderakh"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/com/azure/core/serializer/json/jackson/JacksonJsonSerializer.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.jackson;\n+\n+import com.azure.core.serializer.JsonSerializer;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import reactor.core.Exceptions;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.util.Objects;\n+\n+/**\n+ * Jackson based implementation of the {@link JsonSerializer} interface.\n+ */\n+public final class JacksonJsonSerializer implements JsonSerializer {\n+    private final ClientLogger logger = new ClientLogger(JacksonJsonSerializer.class);\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Constructs a {@link JsonSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    JacksonJsonSerializer(ObjectMapper mapper) {\n+        this.mapper = mapper;\n+    }\n+\n+    @Override\n+    public <T> T read(byte[] input, Class<T> clazz) {\n+        if (input == null) {\n+            return null;\n+        }\n+\n+        try {\n+            return mapper.readValue(input, clazz);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTg0MDA2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-393984006", "createdAt": "2020-04-15T17:26:42Z", "commit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoyNjo0MlrOGGEDfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoyNjo0MlrOGGEDfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAxMTA3MQ==", "bodyText": "I don't remember of top of my head, does this support ObjectNode?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r409011071", "createdAt": "2020-04-15T17:26:42Z", "author": {"login": "moderakh"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/com/azure/core/serializer/json/jackson/JacksonJsonSerializer.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.jackson;\n+\n+import com.azure.core.serializer.JsonSerializer;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import reactor.core.Exceptions;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.util.Objects;\n+\n+/**\n+ * Jackson based implementation of the {@link JsonSerializer} interface.\n+ */\n+public final class JacksonJsonSerializer implements JsonSerializer {\n+    private final ClientLogger logger = new ClientLogger(JacksonJsonSerializer.class);\n+\n+    private final ObjectMapper mapper;\n+\n+    /**\n+     * Constructs a {@link JsonSerializer} using the passed Jackson serializer.\n+     *\n+     * @param mapper Configured Jackson serializer.\n+     */\n+    JacksonJsonSerializer(ObjectMapper mapper) {\n+        this.mapper = mapper;\n+    }\n+\n+    @Override\n+    public <T> T read(byte[] input, Class<T> clazz) {\n+        if (input == null) {\n+            return null;\n+        }\n+\n+        try {\n+            return mapper.readValue(input, clazz);\n+        } catch (IOException ex) {\n+            throw logger.logExceptionAsError(Exceptions.propagate(ex));\n+        }\n+    }\n+\n+    @Override\n+    public byte[] write(Object value) {\n+        try {\n+            return mapper.writeValueAsBytes(value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTg1NTAy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-393985502", "createdAt": "2020-04-15T17:28:43Z", "commit": {"oid": "ddf520b04683b44663a97f65f757e9ad4ece2102"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3df34a218ba5cf419922171d0c84d1e1c0c44fea", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3df34a218ba5cf419922171d0c84d1e1c0c44fea", "committedDate": "2020-04-16T18:51:17Z", "message": "Merged in master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c7564ea128f0f26dd38307ffa83c36ba6348bdf", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c7564ea128f0f26dd38307ffa83c36ba6348bdf", "committedDate": "2020-04-16T23:46:37Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1ODkxMzY4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-395891368", "createdAt": "2020-04-18T07:46:51Z", "commit": {"oid": "3df34a218ba5cf419922171d0c84d1e1c0c44fea"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQwNzo0Njo1MlrOGHo8Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQwNzo0OToxMlrOGHo9Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDY2NDAwNg==", "bodyText": "Let's find a better name for the setter that sets the implementation in these builders.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r410664006", "createdAt": "2020-04-18T07:46:52Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-json-gson/src/main/java/com/azure/core/serializer/json/gson/GsonJsonSerializerBuilder.java", "diffHunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.gson;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * Fluent builder class that configures and instantiates instances of {@link GsonJsonSerializer}.\n+ */\n+public class GsonJsonSerializerBuilder {\n+    private Gson gson;\n+\n+    /**\n+     * Constructs a new instance of {@link GsonJsonSerializer} with the configurations set in this builder.\n+     *\n+     * @return A new instance of {@link GsonJsonSerializer}.\n+     */\n+    public GsonJsonSerializer build() {\n+        return (gson == null)\n+            ? new GsonJsonSerializer(new Gson())\n+            : new GsonJsonSerializer(gson);\n+    }\n+\n+    /**\n+     * Sets the {@link Gson} that will be used during serialization.\n+     * <p>\n+     * If this is set to {@code null} the default {@link Gson} will be used.\n+     *\n+     * @param gson {@link Gson} that will be used during serialization.\n+     * @return The updated GsonJsonSerializerBuilder class.\n+     */\n+    public GsonJsonSerializerBuilder gson(Gson gson) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3df34a218ba5cf419922171d0c84d1e1c0c44fea"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDY2NDIwMg==", "bodyText": "This name might be more appropriate than gson is.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r410664202", "createdAt": "2020-04-18T07:49:12Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/com/azure/core/serializer/json/jackson/JacksonJsonSerializerBuilder.java", "diffHunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.jackson;\n+\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+/**\n+ * Fluent builder class that configures and instantiates instances of {@link JacksonJsonSerializer}.\n+ */\n+public class JacksonJsonSerializerBuilder {\n+    private ObjectMapper objectMapper;\n+\n+    /**\n+     * Constructs a new instance of {@link JacksonJsonSerializer} with the configurations set in this builder.\n+     *\n+     * @return A new instance of {@link JacksonJsonSerializer}.\n+     */\n+    public JacksonJsonSerializer build() {\n+        return (objectMapper == null)\n+            ? new JacksonJsonSerializer(new ObjectMapper())\n+            : new JacksonJsonSerializer(objectMapper);\n+    }\n+\n+    /**\n+     * Sets the {@link ObjectMapper} that will be used during serialization.\n+     * <p>\n+     * If this is set to {@code null} the default {@link ObjectMapper} will be used.\n+     *\n+     * @param objectMapper {@link ObjectMapper} that will be used during serialization.\n+     * @return The updated JacksonJsonSerializerBuilder class.\n+     */\n+    public JacksonJsonSerializerBuilder objectMapper(ObjectMapper objectMapper) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3df34a218ba5cf419922171d0c84d1e1c0c44fea"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65787779e8634bb4767e03732e98a5c0c648c82a", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/65787779e8634bb4767e03732e98a5c0c648c82a", "committedDate": "2020-04-20T20:19:51Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "010ae360470bd9f8419689bb3061597065c1b153", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/010ae360470bd9f8419689bb3061597065c1b153", "committedDate": "2020-04-21T01:19:18Z", "message": "Add simple unit tests, removed Exceptions.propagate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ff4db6b514e81ca0688f536abeca20d9c91fb71", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3ff4db6b514e81ca0688f536abeca20d9c91fb71", "committedDate": "2020-04-21T16:59:52Z", "message": "Moved argLine module exports to JDK 11+ profile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f27cb790c45e6ffa2ab2d38ccefa6ab50505bf", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/31f27cb790c45e6ffa2ab2d38ccefa6ab50505bf", "committedDate": "2020-04-22T19:06:42Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43ff33e2b6ecda28f900870fca471e7ddf27e34b", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/43ff33e2b6ecda28f900870fca471e7ddf27e34b", "committedDate": "2020-04-22T19:48:53Z", "message": "Additional tests, updated GSON to use custom stream wrapping appendable to fix flushing issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86ec1cdfbc41c1a94dffc53308c455a14c41e65f", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/86ec1cdfbc41c1a94dffc53308c455a14c41e65f", "committedDate": "2020-04-22T20:34:06Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "294573e7db2d91dd3a661b7585abca5e476243e5", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/294573e7db2d91dd3a661b7585abca5e476243e5", "committedDate": "2020-04-22T20:34:26Z", "message": "Fix listed version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1588d2d9a1d417315fd266d717e39539c55adf0c", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1588d2d9a1d417315fd266d717e39539c55adf0c", "committedDate": "2020-04-23T22:33:10Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d385f140de1e17a1552557436fcfc3d90b120d7", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1d385f140de1e17a1552557436fcfc3d90b120d7", "committedDate": "2020-04-24T17:01:25Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4bfe2e249c479985b9221a9a31beb10f47c21654", "committedDate": "2020-04-24T17:58:55Z", "message": "Add tests for deserializing to generic JSON node representation type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMjc0Njc1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-400274675", "createdAt": "2020-04-24T21:14:25Z", "commit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMToxNDoyNlrOGLpeZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMTozMjo0N1rOGLp_9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg2NzA0Ng==", "bodyText": "Should serialize also support other charsets instead of always using UTF 8?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r414867046", "createdAt": "2020-04-24T21:14:26Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-json-gson/src/main/java/com/azure/core/serializer/json/gson/GsonJsonSerializer.java", "diffHunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer.json.gson;\n+\n+import com.azure.core.serializer.JsonSerializer;\n+import com.azure.core.util.CoreUtils;\n+import com.google.gson.Gson;\n+\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.nio.charset.StandardCharsets;\n+import java.util.Objects;\n+\n+/**\n+ * GSON based implementation of the {@link JsonSerializer} interface.\n+ */\n+public final class GsonJsonSerializer implements JsonSerializer {\n+    private final Gson gson;\n+\n+    /**\n+     * Constructs a {@link JsonSerializer} using the passed {@link Gson} serializer.\n+     *\n+     * @param gson Configured {@link Gson} serializer.\n+     */\n+    GsonJsonSerializer(Gson gson) {\n+        this.gson = gson;\n+    }\n+\n+    @Override\n+    public <T> T deserialize(byte[] input, Class<T> clazz) {\n+        return gson.fromJson(CoreUtils.bomAwareToString(input, null), clazz);\n+    }\n+\n+    @Override\n+    public byte[] serialize(Object value) {\n+        return gson.toJson(value).getBytes(StandardCharsets.UTF_8);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg2Nzc1Ng==", "bodyText": "This should export com.azure.core.serializer.json.gson.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r414867756", "createdAt": "2020-04-24T21:16:00Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-json-gson/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,7 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module com.azure.core.serializer.json.gson {\n+    requires transitive com.azure.core;\n+    requires transitive gson;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg3MTkwMQ==", "bodyText": "Export com.azure.core.serializer.json.jackson.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r414871901", "createdAt": "2020-04-24T21:24:29Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core-serializer-json-jackson/src/main/java/module-info.java", "diffHunk": "@@ -0,0 +1,6 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+module com.azure.core.serializer.json.jackson {\n+    requires transitive com.azure.core;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg3NTYzOA==", "bodyText": "We already have a package named com.azure.core.util.serializer. Should we move this interface to that package instead of creating this new package?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r414875638", "createdAt": "2020-04-24T21:32:47Z", "author": {"login": "srnagar"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/serializer/JsonSerializer.java", "diffHunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bfe2e249c479985b9221a9a31beb10f47c21654"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da6b650cf490e300343ec0ad859e631650731893", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/da6b650cf490e300343ec0ad859e631650731893", "committedDate": "2020-04-24T21:51:47Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29729f86d0ecb0ac5cf45a7ead46038a88e26021", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/29729f86d0ecb0ac5cf45a7ead46038a88e26021", "committedDate": "2020-04-24T21:59:39Z", "message": "Add module-info exports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0be692555747ca3c172dd301e7354c372287f488", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0be692555747ca3c172dd301e7354c372287f488", "committedDate": "2020-04-24T23:16:23Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee6a57df4774aca781f7e3a9e92a631505e0d81b", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ee6a57df4774aca781f7e3a9e92a631505e0d81b", "committedDate": "2020-04-24T23:17:19Z", "message": "Moved JsonSerializer interface into util.serializer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e99f99ba8dcd6cb0de04eabfe6b2ed902269249", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4e99f99ba8dcd6cb0de04eabfe6b2ed902269249", "committedDate": "2020-04-24T23:33:30Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "905c7e52d41e29f1378dbbd4540739f93e0ccc72", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/905c7e52d41e29f1378dbbd4540739f93e0ccc72", "committedDate": "2020-04-24T23:34:12Z", "message": "Remove export for package that no longer exists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8c00bd7a573254a226247d02263d43fa6b3d79c", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8c00bd7a573254a226247d02263d43fa6b3d79c", "committedDate": "2020-04-27T19:55:01Z", "message": "Merge branch 'master' into AzCore_PluggableSerialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMjk0MzE2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-401294316", "createdAt": "2020-04-27T20:18:17Z", "commit": {"oid": "905c7e52d41e29f1378dbbd4540739f93e0ccc72"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QyMDoxODoxOFrOGM15yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QyMDoyNjo1N1rOGM2OyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjExOTI0Mw==", "bodyText": "Our dependencies report is a bit messy around GSON. We should get MSAL to upgrade to 2.8.6 and move this to 2.8.6 as well.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r416119243", "createdAt": "2020-04-27T20:18:18Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core-serializer-json-gson/pom.xml", "diffHunk": "@@ -0,0 +1,103 @@\n+<!--\n+  ~ Copyright (c) Microsoft Corporation. All rights reserved.\n+  ~ Licensed under the MIT License.\n+  -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-core-serializer-json-gson</artifactId>\n+  <packaging>jar</packaging>\n+  <version>1.0.0-beta.1</version> <!-- {x-version-update;com.azure:azure-core-serializer-json-gson;current} -->\n+\n+  <name>Microsoft Azure Gson JSON Serializer Library</name>\n+  <description>This package contains the Gson JSON serializer client plugin for azure-core.</description>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+  <licenses>\n+    <license>\n+      <name>The MIT License (MIT)</name>\n+      <url>http://opensource.org/licenses/MIT</url>\n+      <distribution>repo</distribution>\n+    </license>\n+  </licenses>\n+\n+  <distributionManagement>\n+    <site>\n+      <id>azure-java-build-docs</id>\n+      <url>${site.url}/site/${project.artifactId}</url>\n+    </site>\n+  </distributionManagement>\n+\n+  <scm>\n+    <url>https://github.com/Azure/azure-sdk-for-java</url>\n+    <connection>scm:git:https://github.com/Azure/azure-sdk-for-java.git</connection>\n+    <developerConnection>scm:git:https://github.com/Azure/azure-sdk-for-java.git</developerConnection>\n+  </scm>\n+\n+  <properties>\n+    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n+    <legal><![CDATA[[INFO] Any downloads listed may be third party software.  Microsoft grants you no rights for third party software.]]></legal>\n+  </properties>\n+\n+  <developers>\n+    <developer>\n+      <id>microsoft</id>\n+      <name>Microsoft</name>\n+    </developer>\n+  </developers>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-core</artifactId>\n+      <version>1.5.0-beta.1</version> <!-- {x-version-update;com.azure:azure-core;current} -->\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>\n+      <artifactId>gson</artifactId>\n+      <version>2.8.5</version> <!-- {x-version-update;com.google.code.gson:gson;external_dependency} -->\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-api</artifactId>\n+      <version>5.4.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-api;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-engine</artifactId>\n+      <version>5.4.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-engine;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <version>3.0.0-M3</version> <!-- {x-version-update;org.apache.maven.plugins:maven-enforcer-plugin;external_dependency} -->\n+        <configuration>\n+          <rules>\n+            <bannedDependencies>\n+              <includes>\n+                <include>com.azure:*</include>\n+                <include>com.google.code.gson:gson:[2.8.5]</include> <!-- {x-include-update;com.google.code.gson:gson;external_dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "905c7e52d41e29f1378dbbd4540739f93e0ccc72"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjEyNDYxNw==", "bodyText": "Is there an immediate use case for this API?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#discussion_r416124617", "createdAt": "2020-04-27T20:26:57Z", "author": {"login": "JonathanGiles"}, "path": "sdk/core/azure-core/src/main/java/com/azure/core/util/serializer/JsonSerializer.java", "diffHunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.core.util.serializer;\n+\n+import java.io.OutputStream;\n+\n+/**\n+ * Generic interface covering basic JSON serialization and deserialization methods.\n+ */\n+public interface JsonSerializer {\n+    /**\n+     * Reads the JSON byte stream into its object representation.\n+     *\n+     * @param input JSON byte stream.\n+     * @param clazz {@link Class} representing the object.\n+     * @param <T> Type of the object.\n+     * @return The object representing the JSON string.\n+     */\n+    <T> T deserialize(byte[] input, Class<T> clazz);\n+\n+    /**\n+     * Writes the object into its JSON byte stream.\n+     *\n+     * @param value The object.\n+     * @return The JSON byte stream representing the object.\n+     */\n+    byte[] serialize(Object value);\n+\n+    /**\n+     * Converts the object into a JSON byte stream and writes it to the {@link OutputStream}.\n+     *\n+     * @param value The object.\n+     * @param stream The {@link OutputStream} where the JSON byte stream will be written.\n+     */\n+    void serialize(Object value, OutputStream stream);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "905c7e52d41e29f1378dbbd4540739f93e0ccc72"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23b4b37ff0c108e1a3e7fdbd2f2def2d423452ac", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/23b4b37ff0c108e1a3e7fdbd2f2def2d423452ac", "committedDate": "2020-04-27T20:37:06Z", "message": "Updated version of gson, removed write(Object, OutputStream) API from JsonSerializer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7421f17a68e6091d6331ff275be0aed4029bcf91", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7421f17a68e6091d6331ff275be0aed4029bcf91", "committedDate": "2020-04-27T20:55:35Z", "message": "Revert GSON verision increase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMzY5ODk2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9727#pullrequestreview-401369896", "createdAt": "2020-04-27T22:23:38Z", "commit": {"oid": "7421f17a68e6091d6331ff275be0aed4029bcf91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1307, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}