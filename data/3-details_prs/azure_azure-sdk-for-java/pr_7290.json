{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNjkzNzIx", "number": 7290, "title": "Fixes Missing BlobBatch Operation", "bodyText": "Fixes #6725 and #7255\nFixes an issue when submitting a BlobBatch resulted in an operation to be missing. Depending on the submitted BlobBatch this could result in an incorrect exception to be thrown, BlobStorageException instead of BlobBatchStorageException, when the batch believed it only had a single exception message or in an UnsupportedOperationException when the missing batch operation's response was accessed.\nThe root of the issue was that the internal batch management used a collection that wasn't thread safe and when the request is being constructed the collection could be mutated in a threaded scenario. To resolve this issue the internal collection will now use a ConcurrentLinkedQueue which is thread-safe.", "createdAt": "2020-01-08T23:00:30Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7290", "merged": true, "mergeCommit": {"oid": "fa0e31435c0a82a975d614c61bf6ddc7938070fe"}, "closed": true, "closedAt": "2020-01-09T18:22:32Z", "author": {"login": "alzimmermsft"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4ddOBgH2gAyMzYwNjkzNzIxOjBhMjJkNGNiNWY2NTdmYjdkMjljYzQxNjBiMjkxM2M2ZWI0NTMyZTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4rRFaAFqTM0MDU4MDQ0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a22d4cb5f657fb7d29cc4160b2913c6eb4532e6", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0a22d4cb5f657fb7d29cc4160b2913c6eb4532e6", "committedDate": "2020-01-08T22:53:51Z", "message": "Fixed issue where BlobBatch was missing an operation in the request by using a thread-safe collection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d258e1a808ca1740e19751fbd1a7c4a8e5f9641", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0d258e1a808ca1740e19751fbd1a7c4a8e5f9641", "committedDate": "2020-01-08T23:01:47Z", "message": "Updated CHANGELOG to add missing word"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMjAyMjAz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7290#pullrequestreview-340202203", "createdAt": "2020-01-08T23:04:07Z", "commit": {"oid": "0d258e1a808ca1740e19751fbd1a7c4a8e5f9641"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31292d3575d81aebcfb588e7975a8cd06a9b6d04", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/31292d3575d81aebcfb588e7975a8cd06a9b6d04", "committedDate": "2020-01-08T23:31:56Z", "message": "Update .docsettings.yml\n\nSuppress README validation failure in empty module."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7449a4eee2c6f8bfbddbaf5572e4cad5059b3bc", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c7449a4eee2c6f8bfbddbaf5572e4cad5059b3bc", "committedDate": "2020-01-09T01:11:42Z", "message": "Update .docsettings.yml\n\nAnother attempt to fix README issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5f54436914c917d2c191f1b42dcef2e4ed2269b", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e5f54436914c917d2c191f1b42dcef2e4ed2269b", "committedDate": "2020-01-09T01:21:28Z", "message": "Update .docsettings.yml\n\nAnother attempt to fix missing README issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1ed612d340f7d9caaf7d0c41cc320597c1506a6", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a1ed612d340f7d9caaf7d0c41cc320597c1506a6", "committedDate": "2020-01-09T01:57:19Z", "message": "Update .docsettings.yml\n\nAnother attempt to fix README issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwNTgwNDQx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7290#pullrequestreview-340580441", "createdAt": "2020-01-09T14:59:00Z", "commit": {"oid": "a1ed612d340f7d9caaf7d0c41cc320597c1506a6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1OTowMVrOFb4sTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1OTowMVrOFb4sTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc4NDcxNw==", "bodyText": "For the record: normally incrementing the dependency and current version at the same time would be reserved for something that wasn't released yet otherwise we should be declaring an unreleased dependency. With the aforementioned being said, in this particular case there's nothing in client sdk that has com.azure:azure-storage-blob-batch as a dependency so it's OK here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7290#discussion_r364784717", "createdAt": "2020-01-09T14:59:01Z", "author": {"login": "JimSuplizio"}, "path": "eng/versioning/version_client.txt", "diffHunk": "@@ -18,7 +18,7 @@ com.azure:azure-messaging-eventhubs;5.0.0-preview.5;5.0.0-preview.5\n com.azure:azure-messaging-eventhubs-checkpointstore-blob;1.0.0-preview.3;1.0.0-preview.3\n com.azure:azure-sdk-template;1.0.3;1.0.3\n com.azure:azure-storage-blob;12.0.1;12.0.1\n-com.azure:azure-storage-blob-batch;12.0.1;12.0.1\n+com.azure:azure-storage-blob-batch;12.0.2;12.0.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ed612d340f7d9caaf7d0c41cc320597c1506a6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 582, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}