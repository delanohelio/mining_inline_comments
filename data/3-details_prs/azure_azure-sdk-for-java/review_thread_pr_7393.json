{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMjc2MjUy", "number": 7393, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMzowNzoyMVrODXuLEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODoyMjoxN1rODXw35Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MjAwMzM4OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosItemProperties.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMzowNzoyMVrOFdLD5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMTo1Njo1NVrOFdnGwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjEzNDI0NQ==", "bodyText": "unused imports, please remove them.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7393#discussion_r366134245", "createdAt": "2020-01-14T03:07:21Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosItemProperties.java", "diffHunk": "@@ -7,6 +7,8 @@\n import com.fasterxml.jackson.databind.ObjectMapper;\n \n import java.io.IOException;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bd202476d718c335f06c0ab831bce1153e4c668"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU5MzcyOQ==", "bodyText": "done", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7393#discussion_r366593729", "createdAt": "2020-01-14T21:56:55Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosItemProperties.java", "diffHunk": "@@ -7,6 +7,8 @@\n import com.fasterxml.jackson.databind.ObjectMapper;\n \n import java.io.IOException;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjEzNDI0NQ=="}, "originalCommit": {"oid": "2bd202476d718c335f06c0ab831bce1153e4c668"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MjQ0NTgxOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/BridgeInternal.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwODoyMjoxN1rOFdPLZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMTo1MzozOVrOFdnBUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwMTcwMQ==", "bodyText": "Just for my understanding: Why is it modeled as string, isn't stream the right abstraction?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7393#discussion_r366201701", "createdAt": "2020-01-14T08:22:17Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/BridgeInternal.java", "diffHunk": "@@ -52,6 +52,10 @@ public static Document documentFromObject(Object document, ObjectMapper mapper)\n         return Document.FromObject(document, mapper);\n     }\n \n+    public static String toJsonString(Object document, ObjectMapper mapper) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bd202476d718c335f06c0ab831bce1153e4c668"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU5MjMzNw==", "bodyText": "very good question.\nThere are three options:\n\nString\nByte[]\nInputStream/OutputStream\n\nCurrently everywhere in SDK, String is passed to DocumentServiceRequest. The public constructors of DocumentServiceRequest only accept String. But DSR internally converts String to Byte[] and holds it as Byte array.\nI think there should be a potential room for optimization by passing data as Byte[] to DSR, I am planning to look at this after this PR is merged (as this is not specific to document write).\nthe other option is InputStream and OutputStream. as mentioned above DSR holds data as byte[] array and support for InputStream/OutputStream might not currently be used anywhere or even may not be in working state. The other challenge is converting from InputStream/OuputStream to Flux which might require some work. I don't know yet where we are in that regard.\nMy plan is to study the perfs for these options after this PR and make the requires changes in DSR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7393#discussion_r366592337", "createdAt": "2020-01-14T21:53:39Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/BridgeInternal.java", "diffHunk": "@@ -52,6 +52,10 @@ public static Document documentFromObject(Object document, ObjectMapper mapper)\n         return Document.FromObject(document, mapper);\n     }\n \n+    public static String toJsonString(Object document, ObjectMapper mapper) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjIwMTcwMQ=="}, "originalCommit": {"oid": "2bd202476d718c335f06c0ab831bce1153e4c668"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 485, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}