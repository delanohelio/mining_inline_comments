{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNjk1MTM5", "number": 16322, "title": "[Service Bus] Remove the use of environment variable in Service Bus", "bodyText": "A user doesn't have to provide credentials to ServiceBusClientBuilder because it will read the OS environment variable AZURE_SERVICE_BUS_CONNECTION_STRING if no credentials are provided.\nOther languages don't have this implementation. So remove it from Java to have feature parity.\nNo other use of environment is found in Java.\ncloses #16077", "createdAt": "2020-10-14T22:42:52Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16322", "merged": true, "mergeCommit": {"oid": "28d26bf1392826d89a5eca55128f6171756011a1"}, "closed": true, "closedAt": "2020-10-16T17:13:22Z", "author": {"login": "YijunXieMS"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSk8plAH2gAyNTAzNjk1MTM5OjBjZThkMjNhNzlhODU1NTUzYzc5Yjg4ZWQ1ZmYyMGQwYTllYmJmMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS6r1tgFqTUwOTg5MTkxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0ce8d23a79a855553c79b88ed5ff20d0a9ebbf1a", "author": {"user": {"login": "YijunXieMS", "name": "Yijun Xie"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0ce8d23a79a855553c79b88ed5ff20d0a9ebbf1a", "committedDate": "2020-10-14T22:30:42Z", "message": "Remove usage of environment variable AZURE_SERVICE_BUS_CONNECTION_STRING"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ea336245733067b7bb68b202928e3a796b9ae2a", "author": {"user": {"login": "YijunXieMS", "name": "Yijun Xie"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0ea336245733067b7bb68b202928e3a796b9ae2a", "committedDate": "2020-10-15T00:15:18Z", "message": "Initialize configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5Njg4NzQ1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16322#pullrequestreview-509688745", "createdAt": "2020-10-15T19:10:45Z", "commit": {"oid": "0ea336245733067b7bb68b202928e3a796b9ae2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOToxMDo0NVrOHiWQbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOToxMDo0NVrOHiWQbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc3ODI4NQ==", "bodyText": "The problem with removing this line is that if someone does:\nvar client = new ServiceBusClientBuilder().configuration(null)\n    .buildClient();\nIt won't use the default credential because you only assign it on object creation.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16322#discussion_r505778285", "createdAt": "2020-10-15T19:10:45Z", "author": {"login": "conniey"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusClientBuilder.java", "diffHunk": "@@ -332,19 +331,11 @@ private ServiceBusConnectionProcessor getOrCreateConnectionProcessor(MessageSeri\n     }\n \n     private ConnectionOptions getConnectionOptions() {\n-        configuration = configuration == null ? Configuration.getGlobalConfiguration().clone() : configuration;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ea336245733067b7bb68b202928e3a796b9ae2a"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6331c1b8379bca03568cb449b24d0ebeec5fc761", "author": {"user": {"login": "YijunXieMS", "name": "Yijun Xie"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6331c1b8379bca03568cb449b24d0ebeec5fc761", "committedDate": "2020-10-15T22:02:59Z", "message": "Add back configuration initialization in getConnectionOptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5ODkxOTEw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16322#pullrequestreview-509891910", "createdAt": "2020-10-15T23:50:15Z", "commit": {"oid": "6331c1b8379bca03568cb449b24d0ebeec5fc761"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2086, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}