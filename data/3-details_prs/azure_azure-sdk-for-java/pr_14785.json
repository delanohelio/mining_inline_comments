{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4ODAzMzg1", "number": 14785, "title": "Add commanline options to the samples code.", "bodyText": "", "createdAt": "2020-09-03T18:16:44Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785", "merged": true, "mergeCommit": {"oid": "7c4890fd79d895c84449615127ffe3b09c1ce061"}, "closed": true, "closedAt": "2020-09-03T21:51:34Z", "author": {"login": "azabbasi"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFUoWjAH2gAyNDc4ODAzMzg1OmI3OWNiNWFhNmMxN2Q1ZDc5Mjc3ZWQyYWZhNDYxN2FmNmIyMWRjMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFXnmyAFqTQ4MjIyMDU4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b79cb5aa6c17d5d79277ed2afa4617af6b21dc2d", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b79cb5aa6c17d5d79277ed2afa4617af6b21dc2d", "committedDate": "2020-09-03T18:09:02Z", "message": "Add parser functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f770a7e2f27ee6d52505dd66e596ef97901d4dc", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0f770a7e2f27ee6d52505dd66e596ef97901d4dc", "committedDate": "2020-09-03T18:15:10Z", "message": "Make minor adjustments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40daa2da10de1c6586625eaa64158b9d71857624", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/40daa2da10de1c6586625eaa64158b9d71857624", "committedDate": "2020-09-03T18:19:58Z", "message": "Update constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "981af45f40ebd9f6657ebc0d84838b170b2843e3", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/981af45f40ebd9f6657ebc0d84838b170b2843e3", "committedDate": "2020-09-03T18:28:48Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ce6cc5cbcb2edc36a8c48dcaab0d2ba98edd688", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9ce6cc5cbcb2edc36a8c48dcaab0d2ba98edd688", "committedDate": "2020-09-03T18:30:39Z", "message": "options have no arguments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8ae96716f59b121801a4693fb510fc239ec9a947", "committedDate": "2020-09-03T18:36:45Z", "message": "Update SamplesArguments.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTE0Nzcx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482114771", "createdAt": "2020-09-03T18:50:33Z", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1MDozNFrOHMzaIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1MDozNFrOHMzaIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE4NzIzMg==", "bodyText": "nit: we could get the log level from command line as well", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#discussion_r483187232", "createdAt": "2020-09-03T18:50:34Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/DigitalTwinsLifecycleAsyncSample.java", "diffHunk": "@@ -68,23 +64,26 @@\n         TwinsPath = Paths.get(DtDlDirectoryPath.toString(), \"DigitalTwins\");\n         ModelsPath = Paths.get(DtDlDirectoryPath.toString(), \"Models\");\n         RelationshipsPath = Paths.get(DtDlDirectoryPath.toString(), \"Relationships\");\n+    }\n+\n+    public static void main(String[] args) throws IOException, InterruptedException {\n+\n+        SamplesArguments parsedArguments = new SamplesArguments(args);\n \n         client = new DigitalTwinsClientBuilder()\n             .tokenCredential(\n                 new ClientSecretCredentialBuilder()\n-                    .tenantId(tenantId)\n-                    .clientId(clientId)\n-                    .clientSecret(clientSecret)\n+                    .tenantId(parsedArguments.getTenantId())\n+                    .clientId(parsedArguments.getClientId())\n+                    .clientSecret(parsedArguments.getClientSecret())\n                     .build()\n             )\n-            .endpoint(endpoint)\n+            .endpoint(parsedArguments.getDigitalTwinUrl())\n             .httpLogOptions(\n                 new HttpLogOptions()\n                     .setLogLevel(HttpLogDetailLevel.NONE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTE2Nzkw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482116790", "createdAt": "2020-09-03T18:53:22Z", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1MzoyM1rOHMzgRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1MzoyM1rOHMzgRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE4ODgwNQ==", "bodyText": "Ah, is there no way to set it inline during initialization? Or some annotation perhaps?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#discussion_r483188805", "createdAt": "2020-09-03T18:53:23Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/SamplesArguments.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package com.azure.digitaltwins.core;\n+\n+import org.apache.commons.cli.*;\n+\n+public class SamplesArguments {\n+\n+    private final String DIGITALTWINS_URL = \"DigitalTwinsEndpoint\";\n+    private final String TENANT_ID = \"tenantId\";\n+    private final String CLIENT_ID = \"clientId\";\n+    private final String CLIENT_SECRET = \"clientSecret\";\n+\n+    private String digitalTwinUrl;\n+    private String tenantId;\n+    private String clientId;\n+    private String clientSecret;\n+\n+    public SamplesArguments(String[] args) {\n+        Options options = new Options();\n+        Option input = new Option(\"d\", DIGITALTWINS_URL, false, \"DigitalTwins endpoint URL\");\n+        Option tenantId = new Option(\"t\", TENANT_ID, false, \"AAD Tenant Id\");\n+        Option clientId = new Option(\"c\", CLIENT_ID, false, \"AAD Client Id\");\n+        Option clientSecret = new Option(\"s\", CLIENT_SECRET, false, \"AAD Client Secret\");\n+\n+        input.setRequired(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTE4ODM3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482118837", "createdAt": "2020-09-03T18:56:21Z", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1NjoyMVrOHMzmXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODo1NjoyMVrOHMzmXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE5MDM2Ng==", "bodyText": "nit: Can we do an inline addition to options? Just trying to reduce the lines of code here!", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#discussion_r483190366", "createdAt": "2020-09-03T18:56:21Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/SamplesArguments.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package com.azure.digitaltwins.core;\n+\n+import org.apache.commons.cli.*;\n+\n+public class SamplesArguments {\n+\n+    private final String DIGITALTWINS_URL = \"DigitalTwinsEndpoint\";\n+    private final String TENANT_ID = \"tenantId\";\n+    private final String CLIENT_ID = \"clientId\";\n+    private final String CLIENT_SECRET = \"clientSecret\";\n+\n+    private String digitalTwinUrl;\n+    private String tenantId;\n+    private String clientId;\n+    private String clientSecret;\n+\n+    public SamplesArguments(String[] args) {\n+        Options options = new Options();\n+        Option input = new Option(\"d\", DIGITALTWINS_URL, false, \"DigitalTwins endpoint URL\");\n+        Option tenantId = new Option(\"t\", TENANT_ID, false, \"AAD Tenant Id\");\n+        Option clientId = new Option(\"c\", CLIENT_ID, false, \"AAD Client Id\");\n+        Option clientSecret = new Option(\"s\", CLIENT_SECRET, false, \"AAD Client Secret\");\n+\n+        input.setRequired(true);\n+        tenantId.setRequired(true);\n+        clientId.setRequired(true);\n+        clientSecret.setRequired(true);\n+\n+        options.addOption(input);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTE5MDU4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482119058", "createdAt": "2020-09-03T18:56:41Z", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTQyMDA3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482142007", "createdAt": "2020-09-03T19:31:59Z", "commit": {"oid": "8ae96716f59b121801a4693fb510fc239ec9a947"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "248bec4d36dfbabf9baadbf78297a0db3cc8e085", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/248bec4d36dfbabf9baadbf78297a0db3cc8e085", "committedDate": "2020-09-03T19:58:01Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95fe89465be8044dd41222c650bcc788154e4e3e", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/95fe89465be8044dd41222c650bcc788154e4e3e", "committedDate": "2020-09-03T19:58:28Z", "message": "Update DigitalTwinsLifecycleAsyncSample.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26e67f2343ccd952b3a6270a0c4b4c40a6d55abe", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/26e67f2343ccd952b3a6270a0c4b4c40a6d55abe", "committedDate": "2020-09-03T20:45:21Z", "message": "Update external_dependencies.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df49d2fe6e822ac003c51b22d4e9716bcc9be587", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/df49d2fe6e822ac003c51b22d4e9716bcc9be587", "committedDate": "2020-09-03T20:58:09Z", "message": "Update external_dependencies.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0d80ad4741eac36ad51538b9d1a395860ed5d2a", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c0d80ad4741eac36ad51538b9d1a395860ed5d2a", "committedDate": "2020-09-03T20:58:36Z", "message": "Update external_dependencies.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e576f05f60a685036622fff89454e23332c54e3", "author": {"user": {"login": "azabbasi", "name": "Azad Abbasi"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0e576f05f60a685036622fff89454e23332c54e3", "committedDate": "2020-09-03T21:16:42Z", "message": "Update external_dependencies.txt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMjIwNTg2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#pullrequestreview-482220586", "createdAt": "2020-09-03T21:37:53Z", "commit": {"oid": "0e576f05f60a685036622fff89454e23332c54e3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMTozNzo1M1rOHM4U9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMTozNzo1M1rOHM4U9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI2NzgzMA==", "bodyText": "Given that this is being used as a test dependency this is fine to add.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14785#discussion_r483267830", "createdAt": "2020-09-03T21:37:53Z", "author": {"login": "alzimmermsft"}, "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -161,6 +161,7 @@ io.opentelemetry:opentelemetry-sdk;0.6.0\n io.grpc:grpc-context;1.30.2\n io.projectreactor:reactor-test;3.3.9.RELEASE\n junit:junit;4.13\n+commons-cli:commons-cli;1.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e576f05f60a685036622fff89454e23332c54e3"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4871, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}