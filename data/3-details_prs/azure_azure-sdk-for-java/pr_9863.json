{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NDU4OTM4", "number": 9863, "title": "Support for receiving events in batches in processor client", "bodyText": "This PR is to add support for receiving events in batches in event processor.\nFixes #9878", "createdAt": "2020-04-04T03:13:59Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9863", "merged": true, "mergeCommit": {"oid": "2d2f9b2c1c5f73f0b4bfb2eabe376239998e98d7"}, "closed": true, "closedAt": "2020-04-08T21:24:11Z", "author": {"login": "srnagar"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUMqpygH2gAyMzk4NDU4OTM4OjI3MDBjMzE0YTNmYzJjOTU4NzhmOTcwZTcxMmJlMTUzZmQ4ZGJjYmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU3MqxgH2gAyMzk4NDU4OTM4OjIwMTVmZGQ0YzA0M2JjMDQxY2YxMTBkOGQ5OTdjYzc1NmMwYzc4Mzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2700c314a3fc2c95878f970e712be153fd8dbcbe", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2700c314a3fc2c95878f970e712be153fd8dbcbe", "committedDate": "2020-04-04T03:10:01Z", "message": "Support for receiving events in batches in processor client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzEzMDIx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9863#pullrequestreview-387713021", "createdAt": "2020-04-04T16:20:25Z", "commit": {"oid": "2700c314a3fc2c95878f970e712be153fd8dbcbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNjoyMDoyNVrOGAy76g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNjoyMDoyNVrOGAy76g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4NzcyMg==", "bodyText": "What happens if they set Duration.ZERO? Would we try the window timeout approach?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9863#discussion_r403487722", "createdAt": "2020-04-04T16:20:25Z", "author": {"login": "conniey"}, "path": "sdk/eventhubs/azure-messaging-eventhubs/src/main/java/com/azure/messaging/eventhubs/PartitionPumpManager.java", "diffHunk": "@@ -146,17 +160,38 @@ void startPartitionPump(PartitionOwnership claimedOwnership, Checkpoint checkpoi\n                 .createConsumer(claimedOwnership.getConsumerGroup(), EventHubClientBuilder.DEFAULT_PREFETCH_COUNT);\n \n             partitionPumps.put(claimedOwnership.getPartitionId(), eventHubConsumer);\n-            eventHubConsumer\n-                .receiveFromPartition(claimedOwnership.getPartitionId(), startFromEventPosition, receiveOptions)\n-                .subscribe(partitionEvent -> processEvent(partitionContext, partitionProcessor, eventHubConsumer,\n-                    partitionEvent),\n-                    /* EventHubConsumer receive() returned an error */\n-                    ex -> handleError(claimedOwnership, eventHubConsumer, partitionProcessor, ex, partitionContext),\n-                    () -> {\n-                        partitionProcessor.close(new CloseContext(partitionContext,\n-                            CloseReason.EVENT_PROCESSOR_SHUTDOWN));\n-                        cleanup(claimedOwnership, eventHubConsumer);\n-                    });\n+            if (maxWaitTime != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2700c314a3fc2c95878f970e712be153fd8dbcbe"}, "originalPosition": 105}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzEzMTAx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9863#pullrequestreview-387713101", "createdAt": "2020-04-04T16:21:29Z", "commit": {"oid": "2700c314a3fc2c95878f970e712be153fd8dbcbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "523ae1b3aedb6a05d01c6ef16704cb291f0c118b", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/523ae1b3aedb6a05d01c6ef16704cb291f0c118b", "committedDate": "2020-04-04T21:31:06Z", "message": "Code snippets and unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4625abc8d177cc926a5166aee14ec355119dec3d", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4625abc8d177cc926a5166aee14ec355119dec3d", "committedDate": "2020-04-05T23:56:19Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2015fdd4c043bc041cf110d8d997cc756c0c7839", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2015fdd4c043bc041cf110d8d997cc756c0c7839", "committedDate": "2020-04-06T04:43:11Z", "message": "Fix spotbugs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1195, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}