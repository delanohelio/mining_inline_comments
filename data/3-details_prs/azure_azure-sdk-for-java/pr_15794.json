{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NTcxMjAy", "number": 15794, "title": "Azure Communication Services - Refactor PhoneNumberAsyncClient to Wrap Exceptions", "bodyText": "Refactor methods in PhoneNumberAsyncClient to ensure methods return Mono.error or Flux.error instead of throwing exceptions.\nThe changes address the comment here:\n#15497 (comment)", "createdAt": "2020-09-29T05:46:04Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794", "merged": true, "mergeCommit": {"oid": "506c61d626ea06e70bd4a19bf16802dc99f11254"}, "closed": true, "closedAt": "2020-09-29T20:46:51Z", "author": {"login": "waynemo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNZix8AH2gAyNDk0NTcxMjAyOjgyZmY5MzAxNGYzMTNmZDI4NjRhOWMyMWUyNGZmNTcwNTZmNTA1NDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNthnpAFqTQ5ODgyMDg3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "82ff93014f313fd2864a9c21e24ff57056f50541", "author": {"user": {"login": "waynemo", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/82ff93014f313fd2864a9c21e24ff57056f50541", "committedDate": "2020-09-28T20:23:52Z", "message": "Catch exceptions and return error Mono/PagedFlux"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0015eb8b7cb0a9b6aa9fcec5332b3271ecbb0e4e", "author": {"user": {"login": "waynemo", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0015eb8b7cb0a9b6aa9fcec5332b3271ecbb0e4e", "committedDate": "2020-09-29T05:28:10Z", "message": "Refactor PhoneNumberAsyncClient method overloads to consolidate logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9", "author": {"user": {"login": "waynemo", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/84b206c0ef6d21908da6171e8682c1b328c09cd9", "committedDate": "2020-09-29T06:08:03Z", "message": "Fix copy/paste error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODExMjg0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#pullrequestreview-498811284", "createdAt": "2020-09-29T19:26:49Z", "commit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyNjo0OVrOHZ9x1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyNjo0OVrOHZ9x1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk4ODYyOQ==", "bodyText": "Not related to the immediate change, but wondering why these methods are not following the 'list' paradigm, like listAreaCodes, listAreaCodesWithResponse etc.?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#discussion_r496988629", "createdAt": "2020-09-29T19:26:49Z", "author": {"login": "ankitarorabit"}, "path": "sdk/communication/azure-communication-administration/src/main/java/com/azure/communication/administration/PhoneNumberAsyncClient.java", "diffHunk": "@@ -80,10 +94,8 @@\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<AreaCodes> getAllAreaCodes(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODEyODUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#pullrequestreview-498812851", "createdAt": "2020-09-29T19:29:04Z", "commit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyOTowNFrOHZ953Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToyOTowNFrOHZ953Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk5MDY4NQ==", "bodyText": "Isn't it better to invoke the regular (without response) method and wrap in an exception.. this process of invoking getAllAreaCodesWithResponse and then trying to flatten doesn't look very clean?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#discussion_r496990685", "createdAt": "2020-09-29T19:29:04Z", "author": {"login": "ankitarorabit"}, "path": "sdk/communication/azure-communication-administration/src/main/java/com/azure/communication/administration/PhoneNumberAsyncClient.java", "diffHunk": "@@ -80,10 +94,8 @@\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<AreaCodes> getAllAreaCodes(\n         String locationType, String countryCode, String phonePlanId, List<LocationOptionsQuery> locationOptions) {\n-        LocationOptionsQueries locationOptionsQueries = new LocationOptionsQueries();\n-        locationOptionsQueries.setLocationOptions(locationOptions);\n-        return phoneNumberAdministrations.getAllAreaCodesAsync(\n-            locationType, countryCode, phonePlanId, locationOptionsQueries);\n+        return getAllAreaCodesWithResponse(locationType, countryCode, phonePlanId, locationOptions)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODE5ODEz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#pullrequestreview-498819813", "createdAt": "2020-09-29T19:39:14Z", "commit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOTozOToxNFrOHZ-WBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOTozOToxNFrOHZ-WBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk5Nzg5Mw==", "bodyText": "Small clarification, based on the guidelines shouldn't it be listPhoneNumbers? Maybe 'list' and 'listAll' are both OK, just trying to get some understanding here, this is what I see in the doc..\nYOU SHOULD remain flexible and use names best suited for developer experience. Don\u2019t let the naming rules result in non-idiomatic naming patterns. For example, Java developers prefer list operations over getAll operations.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#discussion_r496997893", "createdAt": "2020-09-29T19:39:14Z", "author": {"login": "ankitarorabit"}, "path": "sdk/communication/azure-communication-administration/src/main/java/com/azure/communication/administration/PhoneNumberAsyncClient.java", "diffHunk": "@@ -61,11 +67,19 @@\n      */\n     @ServiceMethod(returns = ReturnType.COLLECTION)\n     public PagedFlux<AcquiredPhoneNumber> listAllPhoneNumbers(String locale) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODIwODc5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15794#pullrequestreview-498820879", "createdAt": "2020-09-29T19:40:42Z", "commit": {"oid": "84b206c0ef6d21908da6171e8682c1b328c09cd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3262, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}