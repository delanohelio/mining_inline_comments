{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1ODE3Njky", "number": 13449, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzoyNzo1NVrOERi8jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxODowMTozOVrOERjsLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2ODMzODA1OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzoyNzo1NVrOG2UdXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzozNTozNlrOG2UurA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxMTQ4NQ==", "bodyText": "test method name java style.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459611485", "createdAt": "2020-07-23T17:27:55Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)\n+    public void StoredProcedureRetryThrottle() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2ea8822b1a60b47727e8d0828d19b5861196847"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxMzQxNg==", "bodyText": "oops, sorry, will change right now", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459613416", "createdAt": "2020-07-23T17:31:10Z", "author": {"login": "xinlian12"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)\n+    public void StoredProcedureRetryThrottle() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxMTQ4NQ=="}, "originalCommit": {"oid": "e2ea8822b1a60b47727e8d0828d19b5861196847"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxNTkxNg==", "bodyText": "updated~", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459615916", "createdAt": "2020-07-23T17:35:36Z", "author": {"login": "xinlian12"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)\n+    public void StoredProcedureRetryThrottle() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxMTQ4NQ=="}, "originalCommit": {"oid": "e2ea8822b1a60b47727e8d0828d19b5861196847"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2ODQ1OTk3OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxODowMTozOVrOG2Vp0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOToxOTozOVrOG2YQ_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYzMTA1OA==", "bodyText": "Can we put this test in \"emulator\" group ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459631058", "createdAt": "2020-07-23T18:01:39Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "302edd044fc8b7a4deea649d40651f00726d9c63"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY0MTM5Mg==", "bodyText": "changed to emulator group. can I know what is the concern here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459641392", "createdAt": "2020-07-23T18:20:02Z", "author": {"login": "xinlian12"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYzMTA1OA=="}, "originalCommit": {"oid": "302edd044fc8b7a4deea649d40651f00726d9c63"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY1ODkwOA==", "bodyText": "Of course, since this test is not a very big test and uses mocking, so it won't take much resources.\nRunning it in \"emulator\" group makes sure it runs in the small CI that automatically triggers when we create the PR.\nWhereas if you run the test in \"long\" group, then you will have to trigger full live CI to run this test case - which doesn't make sense for these quick test cases.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459658908", "createdAt": "2020-07-23T18:51:22Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYzMTA1OA=="}, "originalCommit": {"oid": "302edd044fc8b7a4deea649d40651f00726d9c63"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY3Mzg1NA==", "bodyText": "got it, thanks for the explanation~", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13449#discussion_r459673854", "createdAt": "2020-07-23T19:19:39Z", "author": {"login": "xinlian12"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/implementation/StoredProcedureRetryThrottleTest.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.cosmos.implementation;\n+\n+import com.azure.cosmos.BridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import org.mockito.stubbing.Answer;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterMethod;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.UUID;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.mockito.Matchers.anyObject;\n+import static org.mockito.Mockito.doAnswer;\n+\n+public class StoredProcedureRetryThrottleTest extends TestSuiteBase {\n+    private final static int TIMEOUT = 10000;\n+\n+    private SpyClientUnderTestFactory.ClientWithGatewaySpy client;\n+    private DocumentCollection createdCollection;\n+\n+    public StoredProcedureRetryThrottleTest() {}\n+\n+    @Test(groups = { \"long\" }, timeOut = TIMEOUT)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYzMTA1OA=="}, "originalCommit": {"oid": "302edd044fc8b7a4deea649d40651f00726d9c63"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4818, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}