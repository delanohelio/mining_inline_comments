{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzMzNjU4", "number": 7074, "title": "AAD sample and README revised, and correct indentation", "bodyText": "fixes:  #6884\nfixes: #7089 Add java code to README by using embedme plugin:", "createdAt": "2020-01-02T17:28:20Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074", "merged": true, "mergeCommit": {"oid": "600994dd4b14736ad62b21a11a75fed01ea74179"}, "closed": true, "closedAt": "2020-01-03T22:28:16Z", "author": {"login": "mssfang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2NhcUAH2gAyMzU4NzMzNjU4OmYzZTJmNjYyNWEwNTNmMzNmM2U5OGM5Yjk5ZDQ1NDdmMDY0Mzc0NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb21jm1AH2gAyMzU4NzMzNjU4OmRmMTIzZTg5YmY2MmExNjU0ZWZmOGNmMzNhYmZlZGRkOWMxYWUzZjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f3e2f6625a053f33f3e98c9b99d4547f06437448", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f3e2f6625a053f33f3e98c9b99d4547f06437448", "committedDate": "2020-01-01T23:12:08Z", "message": "revised aad sample and readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27b1143a9cbfd48f475f1af5549d9e039e201448", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/27b1143a9cbfd48f475f1af5549d9e039e201448", "committedDate": "2020-01-02T17:24:27Z", "message": "indentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3NzcxMjIx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#pullrequestreview-337771221", "createdAt": "2020-01-02T17:39:07Z", "commit": {"oid": "27b1143a9cbfd48f475f1af5549d9e039e201448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODE3Nzg1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#pullrequestreview-337817785", "createdAt": "2020-01-02T19:29:29Z", "commit": {"oid": "27b1143a9cbfd48f475f1af5549d9e039e201448"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOToyOToyOVrOFZzQBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOToyOToyOVrOFZzQBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU5ODQwNQ==", "bodyText": "Prefer to use code embedding for READMEs.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#discussion_r362598405", "createdAt": "2020-01-02T19:29:29Z", "author": {"login": "srnagar"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/README.md", "diffHunk": "@@ -135,14 +137,60 @@ ConfigurationAsyncClient client = new ConfigurationClientBuilder()\n         .buildAsyncClient();\n ```\n \n-You can also use `TokenCredential` to create a configuration client, such as an Azure Active Directory (AAD) token.\n-Unlike a connection string if you're using an AAD token you must supply the endpoint of AppConfiguration service. The\n-endpoint can be obtained by going to your App Configuration instance in the Azure portal and navigating to \"Overview\"\n-page and look for the \"Endpoint\" keyword. \n+#### Use AAD token\n+\n+Here we demonstrate using [DefaultAzureCredential][default_cred_ref]\n+to authenticate as a service principal. However, the configuration client\n+accepts any [azure-identity][azure_identity] credential. See the\n+[azure-identity][azure_identity] documentation for more information about other\n+credentials.\n+\n+##### Create a service principal (optional)\n+This [Azure CLI][azure_cli] snippet shows how to create a\n+new service principal. Before using it, replace \"your-application-name\" with\n+the appropriate name for your service principal.\n+\n+Create a service principal:\n+```Bash\n+az ad sp create-for-rbac --name http://my-application --skip-assignment\n+```\n+\n+> Output:\n+> ```json\n+> {\n+>     \"appId\": \"generated app id\",\n+>     \"displayName\": \"my-application\",\n+>     \"name\": \"http://my-application\",\n+>     \"password\": \"random password\",\n+>     \"tenant\": \"tenant id\"\n+> }\n+> ```\n+\n+Use the output to set **AZURE_CLIENT_ID** (\"appId\" above), **AZURE_CLIENT_SECRET**\n+(\"password\" above) and **AZURE_TENANT_ID** (\"tenant\" above) environment variables.\n+The following example shows a way to do this in Bash:\n+```Bash\n+export AZURE_CLIENT_ID=\"generated app id\"\n+export AZURE_CLIENT_SECRET=\"random password\"\n+export AZURE_TENANT_ID=\"tenant id\"\n+```\n+\n+Assign one of the applicable [App Configuration roles][app_config_role] to the service principal.\n+\n+##### Create a client\n+Once the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET** and\n+**AZURE_TENANT_ID** environment variables are set,\n+[DefaultAzureCredential][default_cred_ref] will be able to authenticate the\n+configuration client.\n+\n+Constructing the client also requires your configuration store's URL, which you can\n+get from the Azure CLI or the Azure Portal. In the Azure Portal, the URL can be found listed as the service \"Endpoint\"\n \n ```Java\n-// An example of using TokenCredential and Endpoint to create a synchronous client\n-TokenCredential credential = new DefaultAzureCredential();\n+import com.azure.identity.DefaultAzureCredential;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27b1143a9cbfd48f475f1af5549d9e039e201448"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTMxOTc3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#pullrequestreview-337931977", "createdAt": "2020-01-03T02:19:36Z", "commit": {"oid": "27b1143a9cbfd48f475f1af5549d9e039e201448"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4a1b192b78412f42356b495239c767da9203083", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f4a1b192b78412f42356b495239c767da9203083", "committedDate": "2020-01-03T03:14:17Z", "message": "add ReadmeSamples and update readme automatically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5661c8f2407975640da927b58a321b0b08070813", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5661c8f2407975640da927b58a321b0b08070813", "committedDate": "2020-01-03T03:23:31Z", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into AAD-sample-and-readme-revised"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9da9b5a8076eb842413d400cf87f40295584d668", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9da9b5a8076eb842413d400cf87f40295584d668", "committedDate": "2020-01-03T18:15:28Z", "message": "fixes spotbugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MjE2OTQw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#pullrequestreview-338216940", "createdAt": "2020-01-03T18:39:51Z", "commit": {"oid": "9da9b5a8076eb842413d400cf87f40295584d668"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODozOTo1MVrOFaGokQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxODozOTo1MVrOFaGokQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjkxNTk4NQ==", "bodyText": "I'd put this in a try-finally block, so if any errors happen, it'll always try to dispose of the connection.\ntry {\n} finally {\n    if (conn != null) {\n        conn.close();\n    }\n}", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7074#discussion_r362915985", "createdAt": "2020-01-03T18:39:51Z", "author": {"login": "conniey"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/README.md", "diffHunk": "@@ -223,14 +223,15 @@ String url = configurationClient.getConfigurationSetting(urlKey, urlLabel).getVa\n Connection conn;\n try {\n     conn = DriverManager.getConnection(url);\n+    conn.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9da9b5a8076eb842413d400cf87f40295584d668"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df123e89bf62a1654eff8cf33abfeddd9c1ae3f9", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/df123e89bf62a1654eff8cf33abfeddd9c1ae3f9", "committedDate": "2020-01-03T21:50:42Z", "message": "try catch final revised"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 721, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}