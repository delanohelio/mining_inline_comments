{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NTk3MjE0", "number": 17175, "title": "Fixed the test-path and yaml files", "bodyText": "", "createdAt": "2020-11-04T19:34:51Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175", "merged": true, "mergeCommit": {"oid": "3a2735c2d0013d5a8c13a08ef5d204061bc288c6"}, "closed": true, "closedAt": "2020-11-05T21:47:41Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZSFpWAH2gAyNTE1NTk3MjE0OjQ5MmNlODIyM2FmYmQzMDhiYmE1ZGRmN2ZmNTFjNTE4NTkzNGU4YWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZpZTKgFqTUyNDY5MzEwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "492ce8223afbd308bba5ddf7ff51c5185934e8ae", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/492ce8223afbd308bba5ddf7ff51c5185934e8ae", "committedDate": "2020-11-04T18:29:48Z", "message": "Fixed the test-path and yaml files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dd7626ae78d6ff8965e08d5d0d7e8a15e944faf", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6dd7626ae78d6ff8965e08d5d0d7e8a15e944faf", "committedDate": "2020-11-04T19:33:03Z", "message": "Merge conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODAwNTAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#pullrequestreview-523800500", "createdAt": "2020-11-04T23:04:57Z", "commit": {"oid": "6dd7626ae78d6ff8965e08d5d0d7e8a15e944faf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd200d0cf10f9e53b212e7768482c0f76781d73a", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fd200d0cf10f9e53b212e7768482c0f76781d73a", "committedDate": "2020-11-04T23:07:20Z", "message": "Add publish steps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODIwMjYy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#pullrequestreview-523820262", "createdAt": "2020-11-04T23:53:56Z", "commit": {"oid": "fd200d0cf10f9e53b212e7768482c0f76781d73a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMzo1Mzo1N1rOHtt6QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMzo1Mzo1N1rOHtt6QA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcwMDE2MA==", "bodyText": "We should consider copying all of eng directory incase we get extra dependencies or other tools we use from our normal repos.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#discussion_r517700160", "createdAt": "2020-11-04T23:53:57Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/docindex.yml", "diffHunk": "@@ -34,16 +35,39 @@ jobs:\n           versionSpec: '3.6'\n       - template: /eng/common/pipelines/templates/steps/mashup-doc-index.yml\n         parameters:\n-          SourceDirectory: $(Build.SourcesDirectory)        \n-      - task: CopyFiles@2\n-        displayName: Copy HTML to Artifacts Directory\n-        inputs:\n-          sourceFolder: $(Build.SourcesDirectory)/docfx_project/\n-          content: '**\\*'\n-          targetFolder: $(Build.ArtifactStagingDirectory)/docfx_project\n-          overWrite: true\n+          SourceDirectory: $(Build.ArtifactStagingDirectory)\n+      - pwsh: |\n+          Copy-Item -Path $(Build.SourcesDirectory)/eng/common/scripts/git-branch-push.ps1 -Destination ./ -Recurse -Force", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd200d0cf10f9e53b212e7768482c0f76781d73a"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODIwNjUy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#pullrequestreview-523820652", "createdAt": "2020-11-04T23:54:58Z", "commit": {"oid": "fd200d0cf10f9e53b212e7768482c0f76781d73a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMzo1NDo1OVrOHtt7uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMzo1NDo1OVrOHtt7uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcwMDUzNg==", "bodyText": "We shouldn't need this explicit add.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#discussion_r517700536", "createdAt": "2020-11-04T23:54:59Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/docindex.yml", "diffHunk": "@@ -34,16 +35,39 @@ jobs:\n           versionSpec: '3.6'\n       - template: /eng/common/pipelines/templates/steps/mashup-doc-index.yml\n         parameters:\n-          SourceDirectory: $(Build.SourcesDirectory)        \n-      - task: CopyFiles@2\n-        displayName: Copy HTML to Artifacts Directory\n-        inputs:\n-          sourceFolder: $(Build.SourcesDirectory)/docfx_project/\n-          content: '**\\*'\n-          targetFolder: $(Build.ArtifactStagingDirectory)/docfx_project\n-          overWrite: true\n+          SourceDirectory: $(Build.ArtifactStagingDirectory)\n+      - pwsh: |\n+          Copy-Item -Path $(Build.SourcesDirectory)/eng/common/scripts/git-branch-push.ps1 -Destination ./ -Recurse -Force\n+          echo \"##vso[task.setvariable variable=gitPushScriptPath]$(Build.BinariesDirectory)/git-branch-push.ps1\"\n+        workingDirectory: $(Build.BinariesDirectory)\n+        displayName: Move Git Push scripts to Tool Directory  \n+\n       - task: PublishPipelineArtifact@0\n         condition: succeeded()\n         inputs:\n           artifactName: \"Doc.Index\"\n-          targetPath: $(Build.ArtifactStagingDirectory)/docfx_project/_site\n\\ No newline at end of file\n+          targetPath: $(Build.ArtifactStagingDirectory)/docfx_project/_site\n+          \n+      - pwsh: |\n+          git checkout -b gh-pages-local --track origin/gh-pages-root\n+        workingDirectory: $(Build.SourcesDirectory)\n+        displayName: Git pull GH pages branch\n+\n+      - pwsh: |\n+          Copy-Item -Path $(Build.ArtifactStagingDirectory)/docfx_project/_site/* -Destination ./ -Recurse -Force\n+          git add -A", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd200d0cf10f9e53b212e7768482c0f76781d73a"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a70e963ba80f9331832cf725349403cd982b61c", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3a70e963ba80f9331832cf725349403cd982b61c", "committedDate": "2020-11-05T00:53:47Z", "message": "Copy the entire eng/common folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b08618b84205304959a15c59d044c94f81498118", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b08618b84205304959a15c59d044c94f81498118", "committedDate": "2020-11-05T01:14:05Z", "message": "copy all under eng"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NjkzMTA4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17175#pullrequestreview-524693108", "createdAt": "2020-11-05T21:39:05Z", "commit": {"oid": "b08618b84205304959a15c59d044c94f81498118"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 214, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}