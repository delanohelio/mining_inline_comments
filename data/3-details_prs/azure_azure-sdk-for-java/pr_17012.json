{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMTE1Njk4", "number": 17012, "title": "Sort artifact by order in docindex", "bodyText": "", "createdAt": "2020-10-30T16:15:26Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012", "merged": true, "mergeCommit": {"oid": "a09d4171400f8194ae276b8e63d7e0bf97a255cc"}, "closed": true, "closedAt": "2020-10-31T00:36:58Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXpnZbAFqTUyMDg0OTczOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXuJjvAFqTUyMTA2MDYyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODQ5NzM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012#pullrequestreview-520849739", "createdAt": "2020-10-30T16:46:37Z", "commit": {"oid": "d1d5786feb0a8c8b9283833382c71ba7cd8cc55e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjo0NjozN1rOHrXYmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjo0NjozN1rOHrXYmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzMzk0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                foreach ($serviceMapping in $tocContent.getEnumerator() | Sort Value | Sort Key) {\n          \n          \n            \n                    $artifact = $serviceMapping.Key\n          \n          \n            \n                    $serviceName = $serviceMapping.Value\n          \n          \n            \n                foreach ($artifact in ($tocContent.Keys | Sort-Object)) {\n          \n          \n            \n                    $serviceName = $tocContent[$artifact]\n          \n      \n    \n    \n  \n\nThis will sort all the packages but which cause them to be sorted on the individual service name.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012#discussion_r515233947", "createdAt": "2020-10-30T16:46:37Z", "author": {"login": "weshaggard"}, "path": "eng/docgeneration/Generate-DocIndex.ps1", "diffHunk": "@@ -109,7 +109,7 @@ function GenerateDocfxTocContent([Hashtable]$tocContent, [String]$lang) {\n     New-Item -Path $YmlPath -Name \"toc.yml\" -Force\n     $visitedService = @{}\n     # Sort and display toc service name by alphabetical order.\n-    foreach ($serviceMapping in $tocContent.getEnumerator() | Sort Value) {\n+    foreach ($serviceMapping in $tocContent.getEnumerator() | Sort Value | Sort Key) {\n         $artifact = $serviceMapping.Key\n         $serviceName = $serviceMapping.Value", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d5786feb0a8c8b9283833382c71ba7cd8cc55e"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1d5786feb0a8c8b9283833382c71ba7cd8cc55e", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d1d5786feb0a8c8b9283833382c71ba7cd8cc55e", "committedDate": "2020-10-30T16:12:56Z", "message": "Sort artifact by order"}, "afterCommit": {"oid": "822bd370c23ca30a80625e7b5a2e98aacddcbc8e", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/822bd370c23ca30a80625e7b5a2e98aacddcbc8e", "committedDate": "2020-10-30T17:10:22Z", "message": "Sort artifact by order for githubio"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "822bd370c23ca30a80625e7b5a2e98aacddcbc8e", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/822bd370c23ca30a80625e7b5a2e98aacddcbc8e", "committedDate": "2020-10-30T17:10:22Z", "message": "Sort artifact by order for githubio"}, "afterCommit": {"oid": "0525d51a62802ebb6bd508af557aaed9e941b277", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0525d51a62802ebb6bd508af557aaed9e941b277", "committedDate": "2020-10-30T17:12:25Z", "message": "Sort artifact by order for githubio"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8adb39838609b6ead92fc124ddb0c983d9cc703", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8adb39838609b6ead92fc124ddb0c983d9cc703", "committedDate": "2020-10-30T17:13:49Z", "message": "Sort artifact by order for githubio"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0525d51a62802ebb6bd508af557aaed9e941b277", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0525d51a62802ebb6bd508af557aaed9e941b277", "committedDate": "2020-10-30T17:12:25Z", "message": "Sort artifact by order for githubio"}, "afterCommit": {"oid": "c8adb39838609b6ead92fc124ddb0c983d9cc703", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8adb39838609b6ead92fc124ddb0c983d9cc703", "committedDate": "2020-10-30T17:13:49Z", "message": "Sort artifact by order for githubio"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODk1NjI5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012#pullrequestreview-520895629", "createdAt": "2020-10-30T17:38:55Z", "commit": {"oid": "c8adb39838609b6ead92fc124ddb0c983d9cc703"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNzozODo1NlrOHrZpvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNzozODo1NlrOHrZpvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI3MTEwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                foreach ($serviceMapping in ($tocContent.GetEnumerator() | Sort-Object Value, Key)) {\n          \n          \n            \n                foreach ($serviceMapping in ($tocContent | Sort-Object Value, Key)) {\n          \n      \n    \n    \n  \n\nI don't believe the explicit call to GetEnumerator() is needed.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012#discussion_r515271103", "createdAt": "2020-10-30T17:38:56Z", "author": {"login": "weshaggard"}, "path": "eng/docgeneration/Generate-DocIndex.ps1", "diffHunk": "@@ -100,16 +100,16 @@ function GenerateDocfxTocContent([Hashtable]$tocContent, [String]$lang) {\n     LogDebug \"Initializing Default DocFx Site...\"\n     & $($DocFx) init -q -o \"${DocOutDir}\"\n     # The line below is used for testing in local\n-    # docfx init -q -o \"${DocOutDir}\"\n+    #docfx init -q -o \"${DocOutDir}\"\n     LogDebug \"Copying template and configuration...\"\n     New-Item -Path \"${DocOutDir}\" -Name \"templates\" -ItemType \"directory\" -Force\n     Copy-Item \"${DocGenDir}/templates/*\" -Destination \"${DocOutDir}/templates\" -Force -Recurse\n     Copy-Item \"${DocGenDir}/docfx.json\" -Destination \"${DocOutDir}/\" -Force\n     $YmlPath = \"${DocOutDir}/api\"\n     New-Item -Path $YmlPath -Name \"toc.yml\" -Force\n     $visitedService = @{}\n-    # Sort and display toc service name by alphabetical order.\n-    foreach ($serviceMapping in $tocContent.getEnumerator() | Sort Value) {\n+    # Sort and display toc service name by alphabetical order, and then sort artifact by order.\n+    foreach ($serviceMapping in ($tocContent.GetEnumerator() | Sort-Object Value, Key)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8adb39838609b6ead92fc124ddb0c983d9cc703"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMDYwNjI2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17012#pullrequestreview-521060626", "createdAt": "2020-10-30T22:03:34Z", "commit": {"oid": "c8adb39838609b6ead92fc124ddb0c983d9cc703"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1596, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}