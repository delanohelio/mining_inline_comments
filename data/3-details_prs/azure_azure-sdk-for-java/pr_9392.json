{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMTk2MDk2", "number": 9392, "title": "Add EnvVar AZURE_AUTHORITY_HOST", "bodyText": "Added EnvVar AZURE_AUTHORITY_HOST to azure.identity._constants.\nTokenCredentialOptions has an AuthorityHost property.\nThis will be modified to support EnvVar override with AZURE_AUTHORITY_HOST.\n/issues/5967", "createdAt": "2020-03-23T07:00:03Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392", "merged": true, "mergeCommit": {"oid": "6edef4f7334d02edafb4119ee6ff25c1c85ec7e7"}, "closed": true, "closedAt": "2020-04-02T23:03:21Z", "author": {"login": "Luyunmt"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQU_jFgH2gAyMzkyMTk2MDk2OjFmMWNiZDU4YjBkYzMxNGRhZmI1MzgxYjIxMjczZmUxNTE5ZjBlMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcT0hZTgH2gAyMzkyMTk2MDk2OjAyYzU5YTI4ZTEwODg2OWIxY2M5OTc5NGRjN2U4NjFiOTU5ZDYyNWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f1cbd58b0dc314dafb5381b21273fe1519f0e01", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1f1cbd58b0dc314dafb5381b21273fe1519f0e01", "committedDate": "2020-03-23T02:36:23Z", "message": "add env authorityhost"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93afcb85632a84e65f9bcf2463b8afd7d2347758", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/93afcb85632a84e65f9bcf2463b8afd7d2347758", "committedDate": "2020-03-23T06:54:57Z", "message": "add env authorityhost"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716", "committedDate": "2020-03-23T09:23:35Z", "message": "add .clone()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NTgxMDM4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#pullrequestreview-379581038", "createdAt": "2020-03-23T16:08:25Z", "commit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjowODoyNVrOF6Mpyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjoxMDowN1rOF6MvFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU2OTAzNA==", "bodyText": "Is there a need to have a short lived clone of the global configuration? If anything it may be better to use it directly as it could load into static memory the environment setting and will be accessed quicker in the future.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396569034", "createdAt": "2020-03-23T16:08:25Z", "author": {"login": "alzimmermsft"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU3MDM5MQ==", "bodyText": "Configuration has a T get(String configurationName, T defaultValue) method that could simplify this logic.\nauthorityHost = configuration.get(Configuration.PROPERTY_AZURE_AUTHORITY_HOST, DEFAULT_AUTHORITY_HOST);", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396570391", "createdAt": "2020-03-23T16:10:07Z", "author": {"login": "alzimmermsft"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();\n+        authorityHost = configuration.contains(configuration.PROPERTY_AZURE_AUTHORITY_HOST)\n+        ? configuration.get(configuration.PROPERTY_AZURE_AUTHORITY_HOST) : DEFAULT_AUTHORITY_HOST;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28228409c08cd351e00ddeec6c751af406871c60", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/28228409c08cd351e00ddeec6c751af406871c60", "committedDate": "2020-03-24T01:43:21Z", "message": "remove .clone()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzcyNzY1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#pullrequestreview-381372765", "createdAt": "2020-03-25T17:24:56Z", "commit": {"oid": "28228409c08cd351e00ddeec6c751af406871c60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dbaa67b087ad757bb8c1036eb8a8592452d26d6", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3dbaa67b087ad757bb8c1036eb8a8592452d26d6", "committedDate": "2020-04-01T02:13:19Z", "message": "change azureidentity azurecore version in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8439671fa6d086be73fd008c090f2c67084b2cc", "author": {"user": {"login": "Luyunmt", "name": "Yun Lu (MSFT)"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e8439671fa6d086be73fd008c090f2c67084b2cc", "committedDate": "2020-04-01T07:18:13Z", "message": "Merge branch 'master' into FixENVVars"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MTYyMzMx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#pullrequestreview-386162331", "createdAt": "2020-04-02T07:18:24Z", "commit": {"oid": "e8439671fa6d086be73fd008c090f2c67084b2cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2Njc4NTU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#pullrequestreview-386678556", "createdAt": "2020-04-02T18:13:42Z", "commit": {"oid": "e8439671fa6d086be73fd008c090f2c67084b2cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02c59a28e108869b1cc99794dc7e861b959d625f", "author": {"user": {"login": "g2vinay", "name": "Vinay Gera"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/02c59a28e108869b1cc99794dc7e861b959d625f", "committedDate": "2020-04-02T23:02:11Z", "message": "Merge branch 'master' into FixENVVars"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1480, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}