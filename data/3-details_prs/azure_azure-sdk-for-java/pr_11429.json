{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMzQzMTI4", "number": 11429, "title": "Cosmos: CFP and doc related changes", "bodyText": "Update Change Feed Processor public APIs and documentation.\nAdd implementation and respective test case for estimating the Change Feed Processor lag between the last processed batch of feeds (check-pointed in the respective lease document) and the latest feed document (see #5744).\nRemove container readAllItems() from public API surface.\nAdd new APIs for createContainerIfNotExists() that will accept a throughput properties object.\nFix docs; finish sentences with \".\", rewording.\nAdd createDatabaseIfNotExist() method that takes a throughput properties object.\nRemove readProvisionedThroughput() and replaceProvisionedThroughput(); with the introduction of auto-scale features the throughput must be explicitly handled via ThroughputProperties class.\nRemove/refactor public APIs that take throughput as an integer to use a full throughput properties object.\n\nThis PR handles following issues :\n\n#11191\n#11219\n#11190", "createdAt": "2020-05-26T17:21:27Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429", "merged": true, "mergeCommit": {"oid": "369e411fcd228e00107dbbf597185b8dd6bac38c"}, "closed": true, "closedAt": "2020-05-27T06:02:59Z", "author": {"login": "milismsft"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj3deIAH2gAyNDIzMzQzMTI4OjUzZjQwNTk2ZmQ4Mzc2MTJiYmY0YWNjMzlmNDUxNDllNzRmZjY4NWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclSKglgH2gAyNDIzMzQzMTI4OmY4ZWE2YWJhYmZhYjRiNDYxNjI1YTg5MDQ1Zjc4M2RiZGJlNTY3Mjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53f40596fd837612bbf4acc39f45149e74ff685d", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/53f40596fd837612bbf4acc39f45149e74ff685d", "committedDate": "2020-05-22T19:30:24Z", "message": "Update Change Feed Processor public APIs and documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90cce143492402576522e1570d96b6255fbac24c", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/90cce143492402576522e1570d96b6255fbac24c", "committedDate": "2020-05-23T06:44:43Z", "message": "Add implementation and respective test case for estimating the Change Feed Processor lag between the last processed batch of feeds (check-pointed in the respective lease document) and the latest feed document."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb04cbfb5bfb61c5f6d069a18ef1ec351efc935a", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb04cbfb5bfb61c5f6d069a18ef1ec351efc935a", "committedDate": "2020-05-26T02:16:05Z", "message": "Remove container readAllItems() from public API surface.\nAdd new APIs for createContainerIfNotExists() that will accept a throughput properties object.\nFix docs; finish sentences with \".\", rewording."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/16141b9e5d122c21e18d81323d1ce287d079290b", "committedDate": "2020-05-26T04:00:42Z", "message": "Add createDatabaseIfNotExist() method that takes a throughput properties object.\nDoc changes: finish sentences with \".\"."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTIyMTc4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#pullrequestreview-418522178", "createdAt": "2020-05-26T17:30:15Z", "commit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTMxMjc1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#pullrequestreview-418531275", "createdAt": "2020-05-26T17:42:45Z", "commit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTgxMjU1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#pullrequestreview-418581255", "createdAt": "2020-05-26T18:49:02Z", "commit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODo0OTowMlrOGartKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODo1MDowNFrOGarveQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjIzNA==", "bodyText": "We should hide / remove this API - as discussed in this ticket : #11191", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632234", "createdAt": "2020-05-26T18:49:02Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosContainer.java", "diffHunk": "@@ -46,134 +46,124 @@\n     }\n \n     /**\n-     * Id string.\n+     * Gets the current container id.\n      *\n-     * @return the string\n+     * @return the container id.\n      */\n     public String getId() {\n         return id;\n     }\n \n     /**\n-     * Read cosmos sync container response.\n+     * Reads the current container.\n      *\n-     * @return the cosmos sync container response\n+     * @return the Cosmos container response with the read container.\n      */\n     public CosmosContainerResponse read() {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.read());\n     }\n \n     /**\n-     * Read cosmos sync container response.\n+     * Reads the current container while specifying additional options such as If-Match.\n      *\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param options the options.\n+     * @return the Cosmos sync container response.\n      */\n     public CosmosContainerResponse read(CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.read(options));\n     }\n \n     /**\n-     * Delete cosmos sync container response.\n+     * Deletes the current cosmos sync container response while specifying additional options such as If-Match.\n      *\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param options the options.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse delete(CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.delete(options));\n     }\n \n     /**\n-     * Delete cosmos sync container response.\n+     * Deletes the current cosmos sync container response.\n      *\n-     * @return the cosmos sync container response\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse delete() {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.delete());\n     }\n \n     /**\n-     * Replace cosmos sync container response.\n+     * Replaces the current container properties.\n      *\n-     * @param containerProperties the container properties\n-     * @return the cosmos sync container response\n+     * @param containerProperties the container properties.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse replace(CosmosContainerProperties containerProperties) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.replace(containerProperties));\n     }\n \n     /**\n-     * Replace cosmos sync container response.\n+     * Replaces the current container properties while specifying additional options such as If-Match.\n      *\n-     * @param containerProperties the container properties\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param containerProperties the container properties.\n+     * @param options the options.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse replace(CosmosContainerProperties containerProperties,\n                                            CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.replace(containerProperties, options));\n     }\n \n     /**\n-     * Read provisioned throughput integer.\n+     * Read provisioned throughput for the current container.\n      *\n-     * @return the integer. null response indicates database doesn't have any provisioned RUs\n+     * @return provisioned throughput for the current container or null response if doesn't have any provisioned RUs.\n      */\n     public Integer readProvisionedThroughput() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjYwNg==", "bodyText": "Same here - hide / remove this API - #11191", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632606", "createdAt": "2020-05-26T18:49:41Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosDatabase.java", "diffHunk": "@@ -458,7 +497,7 @@ private CosmosUserResponse convertUserResponse(CosmosAsyncUserResponse response)\n     /**\n      * Read provisioned throughput integer.\n      *\n-     * @return the integer. null response indicates database doesn't have any provisioned RUs\n+     * @return the integer. null response indicates database doesn't have any provisioned RUs.\n      */\n     public Integer readProvisionedThroughput() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "originalPosition": 454}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjgyNQ==", "bodyText": "Same here : hide / remove this API - #11191", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632825", "createdAt": "2020-05-26T18:50:04Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosDatabase.java", "diffHunk": "@@ -467,8 +506,8 @@ public Integer readProvisionedThroughput() {\n     /**\n      * Replace provisioned throughput integer.\n      *\n-     * @param requestUnitsPerSecond the request units per second\n-     * @return the integer\n+     * @param requestUnitsPerSecond the request units per second.\n+     * @return the integer.\n      */\n     public Integer replaceProvisionedThroughput(int requestUnitsPerSecond) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b"}, "originalPosition": 465}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ce963f94156371ba90faff29ca2086fa4110d60", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5ce963f94156371ba90faff29ca2086fa4110d60", "committedDate": "2020-05-26T19:46:48Z", "message": "Remove readProvisionedThroughput() and replaceProvisionedThroughput(); with the introduction of auto-scale features the throughput must be explicitly handled via ThroughputProperties class.\nFix Java doc issue; remove unsopported \"@see\" annotation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba1bbf0890657bf5cfd7b921fd1416e55bc516f3", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ba1bbf0890657bf5cfd7b921fd1416e55bc516f3", "committedDate": "2020-05-26T19:56:41Z", "message": "Merge remote-tracking branch 'upstream/master' into milismsft-cfp-doc-updates\n\n# Conflicts:\n#\tsdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncContainer.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjQ3NzMz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#pullrequestreview-418647733", "createdAt": "2020-05-26T20:18:05Z", "commit": {"oid": "ba1bbf0890657bf5cfd7b921fd1416e55bc516f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d41ff2cbd3ca9db03032e92a1f5939f79db9809", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8d41ff2cbd3ca9db03032e92a1f5939f79db9809", "committedDate": "2020-05-27T01:30:33Z", "message": "Remove/refactor public APIs that take throughput as an integer to use a full throughput properties object."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "570b73b6c269e9697ebbb9f07ffe5664ea644140", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/570b73b6c269e9697ebbb9f07ffe5664ea644140", "committedDate": "2020-05-27T01:32:46Z", "message": "fix a spot-bug related issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8ea6ababfab4b461625a89045f783dbdbe56729", "author": {"user": {"login": "milismsft", "name": "Milis"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f8ea6ababfab4b461625a89045f783dbdbe56729", "committedDate": "2020-05-27T05:11:03Z", "message": "fix spot-bug related issue"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4056, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}