{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NzMzMDAz", "number": 17190, "title": "[Service Bus] Option to disable autocomplete for processor", "bodyText": "This PR adds an option on the builder to disable the autocomplete feature. If this is turned on, then the messages will not be completed when processed successfully nor will it be abandoned if there was an error during processing.", "createdAt": "2020-11-05T01:31:11Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190", "merged": true, "mergeCommit": {"oid": "81db0c2bc606e5e27b2cf478cfcdfe955d50e98c"}, "closed": true, "closedAt": "2020-11-05T07:56:10Z", "author": {"login": "srnagar"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZYEZcAH2gAyNTE1NzMzMDAzOjUxNzE2NjgyM2M1ZTBjOGJlMTE0MmRhMDIxZDc0YTRiNjNlNDQ0MDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZby0OgFqTUyMzk0MTYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/517166823c5e0c8be1142da021d74a4b63e44406", "committedDate": "2020-11-05T01:27:52Z", "message": "Option to disable autocomplete for processor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTI0MDUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#pullrequestreview-523924051", "createdAt": "2020-11-05T04:51:42Z", "commit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1MTo0M1rOHtzeVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1MzoyMVrOHtzfzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTMxOQ==", "bodyText": "Do you have a check that if user did not call this but  set receivemode to RECEIVE AND DELETE, that is not allowed.\nWe can not auto complete in that mode.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791319", "createdAt": "2020-11-05T04:51:43Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusClientBuilder.java", "diffHunk": "@@ -1191,6 +1205,20 @@ public ServiceBusProcessorClientBuilder maxConcurrentCalls(int maxConcurrentCall\n             return this;\n         }\n \n+        /**\n+         * Disables auto-complete and auto-abandon of received messages. By default, a successfully processed message is\n+         * {@link ServiceBusReceivedMessageContext#complete() completed}. If an error happens when\n+         * the message is processed, it is {@link ServiceBusReceivedMessageContext#abandon()\n+         * abandoned}.\n+         *\n+         * @return The modified {@link ServiceBusProcessorClientBuilder} object.\n+         */\n+        public ServiceBusProcessorClientBuilder disableAutoComplete() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTY5NQ==", "bodyText": "should accept be called if AutoComplete is disabled ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791695", "createdAt": "2020-11-05T04:53:21Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTI0Nzg3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#pullrequestreview-523924787", "createdAt": "2020-11-05T04:54:16Z", "commit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1NDoxNlrOHtzg1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNDo1NDoxNlrOHtzg1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzc5MTk1OA==", "bodyText": "Do you need to complete the message if isDisableAutoComplete() == false? This statement is from above,\"By default, a successfully processed message is * {@link ServiceBusReceivedMessageContext#complete() completed}\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#discussion_r517791958", "createdAt": "2020-11-05T04:54:16Z", "author": {"login": "YijunXieMS"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusProcessorClient.java", "diffHunk": "@@ -169,8 +169,10 @@ public void onNext(ServiceBusMessageContext serviceBusMessageContext) {\n                             processMessage.accept(serviceBusReceivedMessageContext);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTQwNjQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#pullrequestreview-523940646", "createdAt": "2020-11-05T05:45:20Z", "commit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTQxNjM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17190#pullrequestreview-523941639", "createdAt": "2020-11-05T05:48:17Z", "commit": {"oid": "517166823c5e0c8be1142da021d74a4b63e44406"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 243, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}