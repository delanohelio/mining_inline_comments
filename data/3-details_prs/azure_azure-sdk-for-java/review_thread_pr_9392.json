{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMTk2MDk2", "number": 9392, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjowODoyNVrODqcjpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjoxMDowN1rODqcnCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1ODM0NjYxOnYy", "diffSide": "RIGHT", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjowODoyNVrOF6Mpyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwMzowMjo0MFrOF6fdsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU2OTAzNA==", "bodyText": "Is there a need to have a short lived clone of the global configuration? If anything it may be better to use it directly as it could load into static memory the environment setting and will be accessed quicker in the future.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396569034", "createdAt": "2020-03-23T16:08:25Z", "author": {"login": "alzimmermsft"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg3Njc5Nw==", "bodyText": "I followed they way in SharedTokenCacheCredential\uff0cit cloned a configuration in its constructor.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396876797", "createdAt": "2020-03-24T03:00:41Z", "author": {"login": "Luyunmt"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU2OTAzNA=="}, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg3NzIzMg==", "bodyText": "Removed clone.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396877232", "createdAt": "2020-03-24T03:02:40Z", "author": {"login": "Luyunmt"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU2OTAzNA=="}, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1ODM1NTI4OnYy", "diffSide": "RIGHT", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjoxMDowN1rOF6MvFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNjoxMDowN1rOF6MvFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU3MDM5MQ==", "bodyText": "Configuration has a T get(String configurationName, T defaultValue) method that could simplify this logic.\nauthorityHost = configuration.get(Configuration.PROPERTY_AZURE_AUTHORITY_HOST, DEFAULT_AUTHORITY_HOST);", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9392#discussion_r396570391", "createdAt": "2020-03-23T16:10:07Z", "author": {"login": "alzimmermsft"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClientOptions.java", "diffHunk": "@@ -26,7 +27,9 @@\n      * Creates an instance of IdentityClientOptions with default settings.\n      */\n     public IdentityClientOptions() {\n-        authorityHost = DEFAULT_AUTHORITY_HOST;\n+        Configuration configuration = Configuration.getGlobalConfiguration().clone();\n+        authorityHost = configuration.contains(configuration.PROPERTY_AZURE_AUTHORITY_HOST)\n+        ? configuration.get(configuration.PROPERTY_AZURE_AUTHORITY_HOST) : DEFAULT_AUTHORITY_HOST;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ea0e325e5f4f3f6f16ac91cd4cceec7722f6716"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2176, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}