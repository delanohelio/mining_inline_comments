{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMjMwNTcx", "number": 7254, "title": "Added codesnippet for sync client and builder", "bodyText": "Fixed sync #6874,\nremoved detectLanguage(string text, string countryHint) method to align with other API.\nrenamed analyzeBatchSentimentWithResponse(String text, String language, Context context)) to analyzeSentimentWithResponse\nfixed tests, that include added tests for faultyText in sync and async client.", "createdAt": "2020-01-08T00:26:43Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254", "merged": true, "mergeCommit": {"oid": "6da172a8f5d80334c9230de54df167fe8e1ad64d"}, "closed": true, "closedAt": "2020-01-08T22:35:10Z", "author": {"login": "mssfang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4KJCygH2gAyMzYwMjMwNTcxOmIxY2YwZjE0ZmNjOTgyZDhlNzA5MjkyNzllOTBiZTIzODllMDExNGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4ckZTgH2gAyMzYwMjMwNTcxOjVjNmQzYjYxZWNhNzYyMjA1MzQ3ZWE0NDQwZmM4OGYyOWQ3OGU3NTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b1cf0f14fcc982d8e70929279e90be2389e0114f", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b1cf0f14fcc982d8e70929279e90be2389e0114f", "committedDate": "2020-01-08T00:23:37Z", "message": "add codesnippet for sync client and builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ce75a2770805760844642a1e79910d64b40d733", "committedDate": "2020-01-08T00:39:00Z", "message": "update api use cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NTkyODA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#pullrequestreview-339592809", "createdAt": "2020-01-08T00:40:41Z", "commit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDo0MDo0MVrOFbJ9EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDo0NjoyN1rOFbKCSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAxODk2MA==", "bodyText": "why is the method getting changed here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364018960", "createdAt": "2020-01-08T00:40:41Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -51,35 +51,27 @@\n      * Returns the detected language and a numeric score between zero and one. Scores close to one indicate 100%\n      * certainty that the identified language is true.\n      *\n-     * @param text The text to be analyzed.\n-     * @return the {@link DetectLanguageResult detected language} of the text.\n-     * @throws NullPointerException if {@code text} is {@code null}.\n-     */\n-    @ServiceMethod(returns = ReturnType.SINGLE)\n-    public DetectLanguageResult detectLanguage(String text) {\n-        return detectLanguage(text, client.getDefaultCountryHint());\n-    }\n-\n-    /**\n-     * Returns the detected language and a numeric score between zero and one when the hint of country specified.\n-     * Scores close to one indicate 100% certainty that the identified language is true.\n+     * <p><strong>Code Samples</strong></p>\n+     * <p>Detects the languages of single input text</p>\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguage#String}\n      *\n      * @param text The text to be analyzed.\n-     * @param countryHint Accepts two letter country codes specified by ISO 3166-1 alpha-2. Defaults to \"US\" if not\n-     * specified.\n-     *\n      * @return the {@link DetectLanguageResult detected language} of the text.\n      * @throws NullPointerException if {@code text} is {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public DetectLanguageResult detectLanguage(String text, String countryHint) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAxOTAwMQ==", "bodyText": "Code Sample, here and rest of the file.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364019001", "createdAt": "2020-01-08T00:40:48Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -51,35 +51,27 @@\n      * Returns the detected language and a numeric score between zero and one. Scores close to one indicate 100%\n      * certainty that the identified language is true.\n      *\n-     * @param text The text to be analyzed.\n-     * @return the {@link DetectLanguageResult detected language} of the text.\n-     * @throws NullPointerException if {@code text} is {@code null}.\n-     */\n-    @ServiceMethod(returns = ReturnType.SINGLE)\n-    public DetectLanguageResult detectLanguage(String text) {\n-        return detectLanguage(text, client.getDefaultCountryHint());\n-    }\n-\n-    /**\n-     * Returns the detected language and a numeric score between zero and one when the hint of country specified.\n-     * Scores close to one indicate 100% certainty that the identified language is true.\n+     * <p><strong>Code Samples</strong></p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAxOTkxMg==", "bodyText": "twice?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364019912", "createdAt": "2020-01-08T00:45:05Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClientBuilder.java", "diffHunk": "@@ -46,6 +46,14 @@\n  * {@link #credential(TokenCredential) credential(TokenCredential)} give the builder access credential.\n  * </p>\n  *\n+ * <p><strong>Instantiating an asynchronous Text Analytics Client</strong></p>\n+ *\n+ * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.instantiation}\n+ *\n+ * <p><strong>Instantiating a synchronous Text Analytics Client</strong></p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAyMDA5Mg==", "bodyText": "nit: can remove final\nhere and other examples.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364020092", "createdAt": "2020-01-08T00:45:41Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsClientJavaDocCodeSnippets.java", "diffHunk": "@@ -3,25 +3,1133 @@\n \n package com.azure.ai.textanalytics;\n \n+import com.azure.ai.textanalytics.models.AnalyzeSentimentResult;\n+import com.azure.ai.textanalytics.models.DetectLanguageInput;\n+import com.azure.ai.textanalytics.models.DetectLanguageResult;\n+import com.azure.ai.textanalytics.models.DetectedLanguage;\n+import com.azure.ai.textanalytics.models.DocumentResultCollection;\n+import com.azure.ai.textanalytics.models.ExtractKeyPhraseResult;\n+import com.azure.ai.textanalytics.models.LinkedEntity;\n+import com.azure.ai.textanalytics.models.NamedEntity;\n+import com.azure.ai.textanalytics.models.RecognizeEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizeLinkedEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextDocumentBatchStatistics;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.TextSentiment;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+import com.azure.core.util.Context;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n /**\n- * Code snippet for {@link TextAnalyticsClient}\n+ * Code snippets for {@link TextAnalyticsClient} and {@link TextAnalyticsClientBuilder}\n  */\n public class TextAnalyticsClientJavaDocCodeSnippets {\n     private static final String SUBSCRIPTION_KEY = null;\n     private static final String ENDPOINT = null;\n+    private final TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder().buildClient();\n+\n+    /**\n+     * Code snippet for creating a {@link TextAnalyticsClient} with pipeline\n+     */\n+    public void createAsyncTextAnalyticsClientWithPipeline() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.pipeline.instantiation\n+        HttpPipeline pipeline = new HttpPipelineBuilder()\n+            .policies(/* add policies */)\n+            .build();\n+\n+        TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+            .pipeline(pipeline)\n+            .endpoint(ENDPOINT)\n+            .subscriptionKey(SUBSCRIPTION_KEY)\n+            .buildClient();\n+        // END:  com.azure.ai.textanalytics.TextAnalyticsClient.pipeline.instantiation\n+    }\n \n     /**\n      * Code snippet for creating a {@link TextAnalyticsClient}\n-     *\n-     * @return The TextAnalyticsClient object.\n      */\n-    public TextAnalyticsClient createTextAnalyticsClient() {\n+    public void createTextAnalyticsClient() {\n         // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.instantiation\n         TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n             .subscriptionKey(SUBSCRIPTION_KEY)\n             .endpoint(ENDPOINT)\n             .buildClient();\n         // END: com.azure.ai.textanalytics.TextAnalyticsClient.instantiation\n-        return textAnalyticsClient;\n+    }\n+\n+    // Languages\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguage(String)}\n+     */\n+    public void detectLanguageSingleText() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguage#String\n+        final DetectLanguageResult detectLanguageResult = textAnalyticsClient.detectLanguage(\"Bonjour tout le monde\");\n+        for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+            System.out.printf(\"Detected languages name: %s, ISO 6391 name: %s, score: %s.%n\",\n+                detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguage#String\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguageWithResponse(String, String, Context)}\n+     */\n+    public void detectLanguageForSingleInputTextAndCountryHintWithResponse() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguageWithResponse#String-String-Context\n+        final DetectLanguageResult detectLanguageResult = textAnalyticsClient.detectLanguageWithResponse(\n+            \"This text is in English\", \"US\", Context.NONE).getValue();\n+        for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+            System.out.printf(\"Detected languages name: %s, ISO 6391 name: %s, score: %s.%n\",\n+                detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguageWithResponse#String-String-Context\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguages(List)}\n+     */\n+    public void detectLanguageForListInputTexts() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguages#List\n+        final List<String> textInputs = Arrays.asList(\n+            \"This is written in English\",\n+            \"Este es un document escrito en Espa\u00f1ol.\");\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =\n+            textAnalyticsClient.detectLanguages(textInputs);\n+\n+        // Batch statistics\n+        final TextDocumentBatchStatistics batchStatistics = detectLanguageResults.getStatistics();\n+        System.out.printf(\n+            \"A batch of document statistics, document count: %s, transaction count: %s, valid document count: %s.%n\",\n+            batchStatistics.getDocumentCount(),\n+            batchStatistics.getTransactionCount(),\n+            batchStatistics.getValidDocumentCount());\n+\n+        for (DetectLanguageResult detectLanguageResult : detectLanguageResults) {\n+            System.out.printf(\"Document ID: %s%n\", detectLanguageResult.getId());\n+            for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+                System.out.printf(\"Detected language: %s, ISO 6391 name: %s, score: %s.%n\",\n+                    detectedLanguage.getName(),\n+                    detectedLanguage.getIso6391Name(),\n+                    detectedLanguage.getScore());\n+            }\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguages#List\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguagesWithResponse(List, String, Context)}\n+     */\n+    public void detectLanguageForListInputTextsWithResponse() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguagesWithResponse#List-String-Context\n+        final List<String> textInputs = Arrays.asList(\n+            \"This is written in English\",\n+            \"Este es un document escrito en Espa\u00f1ol.\");\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 135}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAyMDI5Nw==", "bodyText": "Can make the snippet shorter?\nhere and other examples.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364020297", "createdAt": "2020-01-08T00:46:27Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsClientJavaDocCodeSnippets.java", "diffHunk": "@@ -3,25 +3,1133 @@\n \n package com.azure.ai.textanalytics;\n \n+import com.azure.ai.textanalytics.models.AnalyzeSentimentResult;\n+import com.azure.ai.textanalytics.models.DetectLanguageInput;\n+import com.azure.ai.textanalytics.models.DetectLanguageResult;\n+import com.azure.ai.textanalytics.models.DetectedLanguage;\n+import com.azure.ai.textanalytics.models.DocumentResultCollection;\n+import com.azure.ai.textanalytics.models.ExtractKeyPhraseResult;\n+import com.azure.ai.textanalytics.models.LinkedEntity;\n+import com.azure.ai.textanalytics.models.NamedEntity;\n+import com.azure.ai.textanalytics.models.RecognizeEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizeLinkedEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextDocumentBatchStatistics;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.TextSentiment;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+import com.azure.core.util.Context;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n /**\n- * Code snippet for {@link TextAnalyticsClient}\n+ * Code snippets for {@link TextAnalyticsClient} and {@link TextAnalyticsClientBuilder}\n  */\n public class TextAnalyticsClientJavaDocCodeSnippets {\n     private static final String SUBSCRIPTION_KEY = null;\n     private static final String ENDPOINT = null;\n+    private final TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder().buildClient();\n+\n+    /**\n+     * Code snippet for creating a {@link TextAnalyticsClient} with pipeline\n+     */\n+    public void createAsyncTextAnalyticsClientWithPipeline() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.pipeline.instantiation\n+        HttpPipeline pipeline = new HttpPipelineBuilder()\n+            .policies(/* add policies */)\n+            .build();\n+\n+        TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+            .pipeline(pipeline)\n+            .endpoint(ENDPOINT)\n+            .subscriptionKey(SUBSCRIPTION_KEY)\n+            .buildClient();\n+        // END:  com.azure.ai.textanalytics.TextAnalyticsClient.pipeline.instantiation\n+    }\n \n     /**\n      * Code snippet for creating a {@link TextAnalyticsClient}\n-     *\n-     * @return The TextAnalyticsClient object.\n      */\n-    public TextAnalyticsClient createTextAnalyticsClient() {\n+    public void createTextAnalyticsClient() {\n         // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.instantiation\n         TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n             .subscriptionKey(SUBSCRIPTION_KEY)\n             .endpoint(ENDPOINT)\n             .buildClient();\n         // END: com.azure.ai.textanalytics.TextAnalyticsClient.instantiation\n-        return textAnalyticsClient;\n+    }\n+\n+    // Languages\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguage(String)}\n+     */\n+    public void detectLanguageSingleText() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguage#String\n+        final DetectLanguageResult detectLanguageResult = textAnalyticsClient.detectLanguage(\"Bonjour tout le monde\");\n+        for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+            System.out.printf(\"Detected languages name: %s, ISO 6391 name: %s, score: %s.%n\",\n+                detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguage#String\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguageWithResponse(String, String, Context)}\n+     */\n+    public void detectLanguageForSingleInputTextAndCountryHintWithResponse() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguageWithResponse#String-String-Context\n+        final DetectLanguageResult detectLanguageResult = textAnalyticsClient.detectLanguageWithResponse(\n+            \"This text is in English\", \"US\", Context.NONE).getValue();\n+        for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+            System.out.printf(\"Detected languages name: %s, ISO 6391 name: %s, score: %s.%n\",\n+                detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguageWithResponse#String-String-Context\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguages(List)}\n+     */\n+    public void detectLanguageForListInputTexts() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguages#List\n+        final List<String> textInputs = Arrays.asList(\n+            \"This is written in English\",\n+            \"Este es un document escrito en Espa\u00f1ol.\");\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =\n+            textAnalyticsClient.detectLanguages(textInputs);\n+\n+        // Batch statistics\n+        final TextDocumentBatchStatistics batchStatistics = detectLanguageResults.getStatistics();\n+        System.out.printf(\n+            \"A batch of document statistics, document count: %s, transaction count: %s, valid document count: %s.%n\",\n+            batchStatistics.getDocumentCount(),\n+            batchStatistics.getTransactionCount(),\n+            batchStatistics.getValidDocumentCount());\n+\n+        for (DetectLanguageResult detectLanguageResult : detectLanguageResults) {\n+            System.out.printf(\"Document ID: %s%n\", detectLanguageResult.getId());\n+            for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+                System.out.printf(\"Detected language: %s, ISO 6391 name: %s, score: %s.%n\",\n+                    detectedLanguage.getName(),\n+                    detectedLanguage.getIso6391Name(),\n+                    detectedLanguage.getScore());\n+            }\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguages#List\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectLanguagesWithResponse(List, String, Context)}\n+     */\n+    public void detectLanguageForListInputTextsWithResponse() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguagesWithResponse#List-String-Context\n+        final List<String> textInputs = Arrays.asList(\n+            \"This is written in English\",\n+            \"Este es un document escrito en Espa\u00f1ol.\");\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =\n+            textAnalyticsClient.detectLanguagesWithResponse(textInputs, \"US\", Context.NONE).getValue();\n+\n+        // Batch statistics\n+        final TextDocumentBatchStatistics batchStatistics = detectLanguageResults.getStatistics();\n+        System.out.printf(\n+            \"A batch of document statistics, document count: %s, transaction count: %s, valid document count: %s.%n\",\n+            batchStatistics.getDocumentCount(),\n+            batchStatistics.getTransactionCount(),\n+            batchStatistics.getValidDocumentCount());\n+\n+        for (DetectLanguageResult detectLanguageResult : detectLanguageResults) {\n+            System.out.printf(\"Document ID: %s%n\", detectLanguageResult.getId());\n+            for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+                System.out.printf(\"Detected language: %s, ISO 6391 name: %s, score: %s.%n\",\n+                    detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+            }\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectLanguagesWithResponse#List-String-Context\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectBatchLanguages(List)}\n+     */\n+    public void detectLanguageForListDetectedLanguageInput() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectBatchLanguages#List\n+        final List<DetectLanguageInput> detectLanguageInputs = Arrays.asList(\n+            new DetectLanguageInput(\"1\", \"This is written in English.\", \"US\"),\n+            new DetectLanguageInput(\"2\", \"Este es un document escrito en Espa\u00f1ol.\", \"es\")\n+        );\n+\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =\n+            textAnalyticsClient.detectBatchLanguages(detectLanguageInputs);\n+\n+        // Batch statistics\n+        final TextDocumentBatchStatistics batchStatistics = detectLanguageResults.getStatistics();\n+        System.out.printf(\n+            \"A batch of document statistics, document count: %s, transaction count: %s, valid document count: %s.%n\",\n+            batchStatistics.getDocumentCount(),\n+            batchStatistics.getTransactionCount(),\n+            batchStatistics.getValidDocumentCount());\n+\n+        for (DetectLanguageResult detectLanguageResult : detectLanguageResults) {\n+            System.out.printf(\"Document ID: %s%n\", detectLanguageResult.getId());\n+            for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+                System.out.printf(\"Detected language: %s, ISO 6391 name: %s, score: %s.%n\",\n+                    detectedLanguage.getName(), detectedLanguage.getIso6391Name(), detectedLanguage.getScore());\n+            }\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectBatchLanguages#List\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#detectBatchLanguagesWithResponse(List, TextAnalyticsRequestOptions, Context)}\n+     */\n+    public void detectLanguageForListDetectedLanguageInputWithResponse() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.detectBatchLanguagesWithResponse#List-TextAnalyticsRequestOptions-Context\n+        final List<DetectLanguageInput> detectLanguageInputs = Arrays.asList(\n+            new DetectLanguageInput(\"1\", \"This is written in English.\", \"US\"),\n+            new DetectLanguageInput(\"2\", \"Este es un document escrito en Espa\u00f1ol.\", \"es\")\n+        );\n+\n+        final DocumentResultCollection<DetectLanguageResult> detectLanguageResults =\n+            textAnalyticsClient.detectBatchLanguagesWithResponse(detectLanguageInputs,\n+                new TextAnalyticsRequestOptions().setShowStatistics(true), Context.NONE).getValue();\n+\n+        // Batch statistics\n+        final TextDocumentBatchStatistics batchStatistics = detectLanguageResults.getStatistics();\n+        System.out.printf(\n+            \"A batch of document statistics, document count: %s, transaction count: %s, valid document count: %s.%n\",\n+            batchStatistics.getDocumentCount(),\n+            batchStatistics.getTransactionCount(),\n+            batchStatistics.getValidDocumentCount());\n+\n+        for (DetectLanguageResult detectLanguageResult : detectLanguageResults) {\n+            System.out.printf(\"Document ID: %s%n\", detectLanguageResult.getId());\n+            for (DetectedLanguage detectedLanguage : detectLanguageResult.getDetectedLanguages()) {\n+                System.out.printf(\"Detected language: %s, ISO 6391 name: %s, score: %s.%n\",\n+                    detectedLanguage.getName(),\n+                    detectedLanguage.getIso6391Name(),\n+                    detectedLanguage.getScore());\n+            }\n+        }\n+        // END: com.azure.ai.textanalytics.TextAnalyticsClient.detectBatchLanguagesWithResponse#List-TextAnalyticsRequestOptions-Context\n+    }\n+\n+    // Entity\n+    /**\n+     * Code snippet for {@link TextAnalyticsClient#recognizeEntities(String)}\n+     */\n+    public void recognizeEntitiesSingleText() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsClient.recognizeEntities#String\n+        final RecognizeEntitiesResult recognizeEntitiesResult =\n+            textAnalyticsClient.recognizeEntities(\"Satya Nadella is the CEO of Microsoft\");\n+        for (NamedEntity entity : recognizeEntitiesResult.getNamedEntities()) {\n+            System.out.printf(\n+                \"Recognized entity: %s, entity type: %s, entity subtype: %s, offset: %s, length: %s, score: %s.%n\",\n+                entity.getText(),\n+                entity.getType(),\n+                entity.getSubtype() == null || entity.getSubtype().isEmpty() ? \"N/A\" : entity.getSubtype(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 234}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NjAzNTI0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#pullrequestreview-339603524", "createdAt": "2020-01-08T01:23:04Z", "commit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMToyMzowNFrOFbKhWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMToyMzowNFrOFbKhWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAyODI1MQ==", "bodyText": "Is this supposed to be in Async file?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364028251", "createdAt": "2020-01-08T01:23:04Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsClientJavaDocCodeSnippets.java", "diffHunk": "@@ -3,25 +3,1133 @@\n \n package com.azure.ai.textanalytics;\n \n+import com.azure.ai.textanalytics.models.AnalyzeSentimentResult;\n+import com.azure.ai.textanalytics.models.DetectLanguageInput;\n+import com.azure.ai.textanalytics.models.DetectLanguageResult;\n+import com.azure.ai.textanalytics.models.DetectedLanguage;\n+import com.azure.ai.textanalytics.models.DocumentResultCollection;\n+import com.azure.ai.textanalytics.models.ExtractKeyPhraseResult;\n+import com.azure.ai.textanalytics.models.LinkedEntity;\n+import com.azure.ai.textanalytics.models.NamedEntity;\n+import com.azure.ai.textanalytics.models.RecognizeEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizeLinkedEntitiesResult;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextDocumentBatchStatistics;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.TextSentiment;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.http.HttpPipelineBuilder;\n+import com.azure.core.util.Context;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n /**\n- * Code snippet for {@link TextAnalyticsClient}\n+ * Code snippets for {@link TextAnalyticsClient} and {@link TextAnalyticsClientBuilder}\n  */\n public class TextAnalyticsClientJavaDocCodeSnippets {\n     private static final String SUBSCRIPTION_KEY = null;\n     private static final String ENDPOINT = null;\n+    private final TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder().buildClient();\n+\n+    /**\n+     * Code snippet for creating a {@link TextAnalyticsClient} with pipeline\n+     */\n+    public void createAsyncTextAnalyticsClientWithPipeline() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ce75a2770805760844642a1e79910d64b40d733"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ae68665b9bde421569dc699a4997a6afed5068", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/17ae68665b9bde421569dc699a4997a6afed5068", "committedDate": "2020-01-08T01:28:23Z", "message": "fixed feedbacks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c669d5b539216561c87ff2a3cac38739422436b", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0c669d5b539216561c87ff2a3cac38739422436b", "committedDate": "2020-01-08T02:30:36Z", "message": "fixed tests for sentiment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d20d9b8dab8035a429493f8657e65014dd47f73", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3d20d9b8dab8035a429493f8657e65014dd47f73", "committedDate": "2020-01-08T19:05:33Z", "message": "readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c8c24f13a4bf0f25d0de5b925bd91451cab7d0b", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6c8c24f13a4bf0f25d0de5b925bd91451cab7d0b", "committedDate": "2020-01-08T20:38:33Z", "message": "update readme and changelog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMTUxNTQz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#pullrequestreview-340151543", "createdAt": "2020-01-08T21:19:12Z", "commit": {"oid": "6c8c24f13a4bf0f25d0de5b925bd91451cab7d0b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMToxOToxMlrOFbkJYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMToxOToyOVrOFbkJyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ0ODA5OQ==", "bodyText": "correct the line numbers here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364448099", "createdAt": "2020-01-08T21:19:12Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -361,7 +342,25 @@ for (TextSentiment textSentiment : textAnalyticsClient.analyzeSentiment(text).ge\n ```\n \n ## Troubleshooting\n-## General\n+### General\n+Text Analytics clients raise exceptions. For example, if you try to detect the languages of a batch of text with same \n+document IDs, 400 error is return that indicating bad request. In the following code snippet, the error is handled \n+gracefully by catching the exception and display the additional information about the error.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L164-L169 -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8c24f13a4bf0f25d0de5b925bd91451cab7d0b"}, "originalPosition": 153}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ0ODIwMA==", "bodyText": "nit: 400 -> 404", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7254#discussion_r364448200", "createdAt": "2020-01-08T21:19:29Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -361,7 +342,25 @@ for (TextSentiment textSentiment : textAnalyticsClient.analyzeSentiment(text).ge\n ```\n \n ## Troubleshooting\n-## General\n+### General\n+Text Analytics clients raise exceptions. For example, if you try to detect the languages of a batch of text with same \n+document IDs, 400 error is return that indicating bad request. In the following code snippet, the error is handled ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8c24f13a4bf0f25d0de5b925bd91451cab7d0b"}, "originalPosition": 150}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c6d3b61eca762205347ea4440fc88f29d78e750", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5c6d3b61eca762205347ea4440fc88f29d78e750", "committedDate": "2020-01-08T21:51:47Z", "message": "update line number for end"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 563, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}