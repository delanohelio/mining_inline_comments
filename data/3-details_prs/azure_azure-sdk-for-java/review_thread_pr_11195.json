{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MjY4ODc1", "number": 11195, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0ODoyN1rOD8r2wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzoxOTozNlrOD95UYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0OTU5NjgyOnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0ODoyN1rOGVx3-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzo0ODoyN1rOGVx3-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ5MDQyNQ==", "bodyText": "orthogonal to your change but we probably should see about moving these to the latest windows image, windows-2019", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11195#discussion_r425490425", "createdAt": "2020-05-14T23:48:27Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -85,21 +87,58 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - pwsh: |\n-                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n-                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n-                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n-                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n-                      workingDirectory: $(Pipeline.Workspace)\n+                    - template: /eng/pipelines/templates/steps/stage-filtered-artifacts.yml\n+                      parameters:\n+                        SourceFolder: ${{parameters.ArtifactName}} \n+                        TargetFolder: ${{artifact.safeName}}\n+                        PackageName: ${{artifact.name}}\n                       displayName: Stage artifacts\n-                      timeoutInMinutes: 5\n                     - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n                       parameters:\n                         ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n                         PackageRepository: Maven\n                         ReleaseSha: $(Build.SourceVersion)\n                         RepoId: Azure/azure-sdk-for-java\n \n+\n+          - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n+            - deployment: PublicDocsMs\n+              displayName: \"Publish Updates for Docs.MS\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              environment: github\n+              timeoutInMinutes: 5\n+              dependsOn: VerifyReleaseVersion\n+\n+              pool:\n+                vmImage: vs2017-win2016", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbbad4a8ec28a24a097eb85d5deda314025de7dc"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MjI4ODM1OnYy", "diffSide": "RIGHT", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzoxOTozNlrOGXqpJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMjo1NDozOFrOGX1aDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ2OTA5NA==", "bodyText": "We should consider adding the \"-signed\" as part of the template.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11195#discussion_r427469094", "createdAt": "2020-05-19T17:19:36Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -85,14 +87,11 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - pwsh: |\n-                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n-                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n-                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n-                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n-                      workingDirectory: $(Pipeline.Workspace)\n-                      displayName: Stage artifacts\n-                      timeoutInMinutes: 5\n+                    - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n+                      parameters:\n+                        SourceFolder: ${{parameters.ArtifactName}}-signed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a72537c20aeae8b028b26ec7b46c6033d4bdc6b4"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzYxNTM4Nw==", "bodyText": "That's fair. I'm not making any further changes on this PR.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11195#discussion_r427615387", "createdAt": "2020-05-19T21:37:52Z", "author": {"login": "scbedd"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -85,14 +87,11 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - pwsh: |\n-                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n-                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n-                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n-                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n-                      workingDirectory: $(Pipeline.Workspace)\n-                      displayName: Stage artifacts\n-                      timeoutInMinutes: 5\n+                    - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n+                      parameters:\n+                        SourceFolder: ${{parameters.ArtifactName}}-signed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ2OTA5NA=="}, "originalCommit": {"oid": "a72537c20aeae8b028b26ec7b46c6033d4bdc6b4"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY0NTQ1NQ==", "bodyText": "That's fair. I am not going to make further changes to this PR at this time.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11195#discussion_r427645455", "createdAt": "2020-05-19T22:54:38Z", "author": {"login": "scbedd"}, "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -85,14 +87,11 @@ stages:\n                 deploy:\n                   steps:\n                     - checkout: self\n-                    - pwsh: |\n-                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n-                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n-                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n-                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n-                      workingDirectory: $(Pipeline.Workspace)\n-                      displayName: Stage artifacts\n-                      timeoutInMinutes: 5\n+                    - template: /eng/pipelines/templates/steps/stage-artifacts.yml\n+                      parameters:\n+                        SourceFolder: ${{parameters.ArtifactName}}-signed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ2OTA5NA=="}, "originalCommit": {"oid": "a72537c20aeae8b028b26ec7b46c6033d4bdc6b4"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4278, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}