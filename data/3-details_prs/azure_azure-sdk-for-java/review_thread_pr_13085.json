{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MTE5OTgx", "number": 13085, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjowNjo1M1rOEOHavw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjo0MzozN1rOEOH_Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjM3MDU1OnYy", "diffSide": "RIGHT", "path": "sdk/resources/mgmt/src/main/java/com/azure/resourcemanager/resources/fluentcore/AzureServiceClient.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjowNjo1M1rOGxFdhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNzoyMTo0MVrOGxxfew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyMjg4NA==", "bodyText": "why sdk version hardcoded?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13085#discussion_r454122884", "createdAt": "2020-07-14T06:06:53Z", "author": {"login": "yungezz"}, "path": "sdk/resources/mgmt/src/main/java/com/azure/resourcemanager/resources/fluentcore/AzureServiceClient.java", "diffHunk": "@@ -83,24 +70,11 @@ public SerializerAdapter getSerializerAdapter() {\n      * @return the default client context.\n      */\n     public Context getContext() {\n-        Context context = new Context(\"java.version\", JAVA_VERSION);\n-        if (!CoreUtils.isNullOrEmpty(OS_NAME)) {\n-            context = context.addData(\"os.name\", OS_NAME);\n-        }\n-        if (!CoreUtils.isNullOrEmpty(OS_VERSION)) {\n-            context = context.addData(\"os.version\", OS_VERSION);\n-        }\n         if (sdkName == null) {\n-            String packageName = this.getClass().getPackage().getName();\n-            if (packageName.endsWith(\".models\")) {\n-                sdkName = packageName.substring(0, packageName.length() - \".models\".length());\n-            } else {\n-                sdkName = packageName;\n-            }\n+            sdkName = this.getClass().getPackage().getName();\n         }\n-        context = context.addData(\"Sdk-Name\", sdkName);\n-        context = context.addData(\"Sdk-Version\", SDK_VERSION);\n-        return context;\n+        return new Context(\"Sdk-Name\", sdkName)\n+            .addData(\"Sdk-Version\", SDK_VERSION);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05db46a2ac981638aa320ae92bc2be458512b7f2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyNTYzMA==", "bodyText": "there might be other approach. not investigated yet.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13085#discussion_r454125630", "createdAt": "2020-07-14T06:14:06Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resources/mgmt/src/main/java/com/azure/resourcemanager/resources/fluentcore/AzureServiceClient.java", "diffHunk": "@@ -83,24 +70,11 @@ public SerializerAdapter getSerializerAdapter() {\n      * @return the default client context.\n      */\n     public Context getContext() {\n-        Context context = new Context(\"java.version\", JAVA_VERSION);\n-        if (!CoreUtils.isNullOrEmpty(OS_NAME)) {\n-            context = context.addData(\"os.name\", OS_NAME);\n-        }\n-        if (!CoreUtils.isNullOrEmpty(OS_VERSION)) {\n-            context = context.addData(\"os.version\", OS_VERSION);\n-        }\n         if (sdkName == null) {\n-            String packageName = this.getClass().getPackage().getName();\n-            if (packageName.endsWith(\".models\")) {\n-                sdkName = packageName.substring(0, packageName.length() - \".models\".length());\n-            } else {\n-                sdkName = packageName;\n-            }\n+            sdkName = this.getClass().getPackage().getName();\n         }\n-        context = context.addData(\"Sdk-Name\", sdkName);\n-        context = context.addData(\"Sdk-Version\", SDK_VERSION);\n-        return context;\n+        return new Context(\"Sdk-Name\", sdkName)\n+            .addData(\"Sdk-Version\", SDK_VERSION);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyMjg4NA=="}, "originalCommit": {"oid": "05db46a2ac981638aa320ae92bc2be458512b7f2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzNjAyNA==", "bodyText": "got it. let's fix it before GA.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13085#discussion_r454836024", "createdAt": "2020-07-15T07:04:10Z", "author": {"login": "yungezz"}, "path": "sdk/resources/mgmt/src/main/java/com/azure/resourcemanager/resources/fluentcore/AzureServiceClient.java", "diffHunk": "@@ -83,24 +70,11 @@ public SerializerAdapter getSerializerAdapter() {\n      * @return the default client context.\n      */\n     public Context getContext() {\n-        Context context = new Context(\"java.version\", JAVA_VERSION);\n-        if (!CoreUtils.isNullOrEmpty(OS_NAME)) {\n-            context = context.addData(\"os.name\", OS_NAME);\n-        }\n-        if (!CoreUtils.isNullOrEmpty(OS_VERSION)) {\n-            context = context.addData(\"os.version\", OS_VERSION);\n-        }\n         if (sdkName == null) {\n-            String packageName = this.getClass().getPackage().getName();\n-            if (packageName.endsWith(\".models\")) {\n-                sdkName = packageName.substring(0, packageName.length() - \".models\".length());\n-            } else {\n-                sdkName = packageName;\n-            }\n+            sdkName = this.getClass().getPackage().getName();\n         }\n-        context = context.addData(\"Sdk-Name\", sdkName);\n-        context = context.addData(\"Sdk-Version\", SDK_VERSION);\n-        return context;\n+        return new Context(\"Sdk-Name\", sdkName)\n+            .addData(\"Sdk-Version\", SDK_VERSION);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyMjg4NA=="}, "originalCommit": {"oid": "05db46a2ac981638aa320ae92bc2be458512b7f2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg0NDI4Mw==", "bodyText": "already fixed in this PR.\nnow the flow is:\n\nmaven package the project, one step it would populate azure.properties with its current project.version.\njar now has this azure.properties packaged and released with the jar\nruntime, code read version from azure.properties", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13085#discussion_r454844283", "createdAt": "2020-07-15T07:21:41Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resources/mgmt/src/main/java/com/azure/resourcemanager/resources/fluentcore/AzureServiceClient.java", "diffHunk": "@@ -83,24 +70,11 @@ public SerializerAdapter getSerializerAdapter() {\n      * @return the default client context.\n      */\n     public Context getContext() {\n-        Context context = new Context(\"java.version\", JAVA_VERSION);\n-        if (!CoreUtils.isNullOrEmpty(OS_NAME)) {\n-            context = context.addData(\"os.name\", OS_NAME);\n-        }\n-        if (!CoreUtils.isNullOrEmpty(OS_VERSION)) {\n-            context = context.addData(\"os.version\", OS_VERSION);\n-        }\n         if (sdkName == null) {\n-            String packageName = this.getClass().getPackage().getName();\n-            if (packageName.endsWith(\".models\")) {\n-                sdkName = packageName.substring(0, packageName.length() - \".models\".length());\n-            } else {\n-                sdkName = packageName;\n-            }\n+            sdkName = this.getClass().getPackage().getName();\n         }\n-        context = context.addData(\"Sdk-Name\", sdkName);\n-        context = context.addData(\"Sdk-Version\", SDK_VERSION);\n-        return context;\n+        return new Context(\"Sdk-Name\", sdkName)\n+            .addData(\"Sdk-Version\", SDK_VERSION);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyMjg4NA=="}, "originalCommit": {"oid": "05db46a2ac981638aa320ae92bc2be458512b7f2"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMjQ2MzQyOnYy", "diffSide": "RIGHT", "path": "sdk/resources/mgmt/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjo0MzozN1rOGxGVOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjo0MzozN1rOGxGVOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEzNzE0Nw==", "bodyText": "Now doing this for version @yungezz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13085#discussion_r454137147", "createdAt": "2020-07-14T06:43:37Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resources/mgmt/pom.xml", "diffHunk": "@@ -92,6 +89,13 @@\n         </dependency>\n     </dependencies>\n     <build>\n+        <resources>\n+            <resource>\n+                <directory>src/main/resources</directory>\n+                <filtering>true</filtering>\n+            </resource>\n+        </resources>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fd94a5426981ea5a61dbb3e8fb4b106c3ffa210"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4994, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}