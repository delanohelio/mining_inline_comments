{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNDQyNDk4", "number": 8098, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMjoyMTo0N1rODeq7iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoyNzoyMlrODerY1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDg3MjQxOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMjoyMTo0N1rOFn7_BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoyODoyM1rOFn8sHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQyMTU3Mw==", "bodyText": "Might be nice to format the options on different lines. Here's how it looks now: https://github.com/Azure/azure-sdk-for-java/blob/564cc2cf9cf11318078014aa3d03314039730bcb/sdk/textanalytics/azure-ai-textanalytics/README.md#create-a-text-analytics-resource", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377421573", "createdAt": "2020-02-11T02:21:47Z", "author": {"login": "kristapratico"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -35,7 +35,7 @@ Text Analytics supports both [multi-service and single-service access][service_a\n resource if you plan to access multiple cognitive services under a single endpoint/key. For Text Analytics access only,\n create a Text Analytics resource.\n \n-You can create either resource using the [Azure Portal][create_new_resource] or [Azure CLI][azure_cli].\n+You can create either resource using the **Option 1:** [Azure Portal][create_new_resource] or **Option 2:** [Azure CLI][azure_cli].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMzExOQ==", "bodyText": "updated", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377433119", "createdAt": "2020-02-11T03:28:23Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -35,7 +35,7 @@ Text Analytics supports both [multi-service and single-service access][service_a\n resource if you plan to access multiple cognitive services under a single endpoint/key. For Text Analytics access only,\n create a Text Analytics resource.\n \n-You can create either resource using the [Azure Portal][create_new_resource] or [Azure CLI][azure_cli].\n+You can create either resource using the **Option 1:** [Azure Portal][create_new_resource] or **Option 2:** [Azure CLI][azure_cli].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQyMTU3Mw=="}, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDg3NzE1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMjoyNTo1MVrOFn8B5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMjoyNTo1MVrOFn8B5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQyMjMwOQ==", "bodyText": "\"You will need...\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377422309", "createdAt": "2020-02-11T02:25:51Z", "author": {"login": "kristapratico"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -56,73 +56,30 @@ az cognitiveservices account create \\\n ```\n ### Authenticate the client\n In order to interact with the Text Analytics service, you'll need to create an instance of the \n-`TextAnalyticsClient` class. You would need an **endpoint** and **API key** to instantiate a client object.\n+`TextAnalyticsClient` class. You would need an **endpoint** and either an **API key** or **AAD TokenCredential** to instantiate a client object.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDg3OTQ3OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMjoyODowNFrOFn8DVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoyNjowMVrOFn8qlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQyMjY3OQ==", "bodyText": "\"When the operation results an error.\" I think you meant to use a comma here and include the next sentence, but not sure.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377422679", "createdAt": "2020-02-11T02:28:04Z", "author": {"login": "kristapratico"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -134,17 +91,54 @@ TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n \n credential.updateCredential(\"{new_api_key}\");\n ```\n+##### **Option 2**: Create TextAnalyticsClient with Azure Active Directory Credential\n+To use an [Azure Active Directory (AAD) token credential][aad_credential],\n+provide an instance of the desired credential type obtained from the [azure-identity][azure_identity] library.\n+Note that regional endpoints do not support AAD authentication. Create a [custom subdomain][custom_subdomain] \n+name for your resource in order to use this type of authentication.\n+\n+Authentication with AAD requires some initial setup:\n+* [Install azure-identity][install_azure_identity]\n+* [Register a new AAD application][register_AAD_application]\n+* [Grant access][grant_access] to Text Analytics by assigning the `\"Cognitive Services User\"` role to your service principal.\n+\n+After setup, you can choose which type of [credential][credential_type] from azure.identity to use. \n+As an example, [DefaultAzureCredential][default_azure_credential]\n+can be used to authenticate the client:\n+\n+Set the values of the client ID, tenant ID, and client secret of the AAD application as environment variables: \n+AZURE_CLIENT_ID, AZURE_TENANT_ID, AZURE_CLIENT_SECRET.\n+\n+Use the returned token credential to authenticate the client:\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L67-L70 -->\n+```java\n+TextAnalyticsAsyncClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+    .endpoint(\"{endpoint}\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildAsyncClient();\n+```\n+\n ## Key concepts\n+### Client\n+The Text Analytics client library provides a [TextAnalyticsClient][text_analytics_sync_client] and \n+[TextAnalyticsAsyncClient][text_analytics_async_client] to do analysis on batches of documents. It provides both synchronous and\n+asynchronous operations to access a specific use of Text Analytics, such as language detection or key phrase extraction.\n \n ### Text Input\n-A text input, sometimes called a `document`, is a single unit of input to be analyzed by the predictive models\n+A **text input**, sometimes called a **document**, is a single unit of input to be analyzed by the predictive models\n in the Text Analytics service. Operations on Text Analytics client may take a single text input or a collection\n-of inputs to be analyzed as a batch.\n+of inputs to be analyzed as a batch. \n+See [service limitations][service_input_limitation] for the input, including document length limits, maximum batch size,\n+and supported text encoding.\n \n ### Operation Result\n An operation result, such as `AnalyzeSentimentResult`, is the result of a Text Analytics operation, containing a \n prediction or predictions about a single text input. An operation's result type also may optionally include information\n-about the input document and how it was processed.\n+about the input document and how it was processed. An operation result contains a `isError` property that allows to\n+identify if an operation executed was successful or unsuccessful for the given text input. When the operation results\n+an error. You can simply call `getError()` to get `TextAnalyticsError` which contains the reason why it is unsuccessful. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 145}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMjcyNQ==", "bodyText": "yup.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377432725", "createdAt": "2020-02-11T03:26:01Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -134,17 +91,54 @@ TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n \n credential.updateCredential(\"{new_api_key}\");\n ```\n+##### **Option 2**: Create TextAnalyticsClient with Azure Active Directory Credential\n+To use an [Azure Active Directory (AAD) token credential][aad_credential],\n+provide an instance of the desired credential type obtained from the [azure-identity][azure_identity] library.\n+Note that regional endpoints do not support AAD authentication. Create a [custom subdomain][custom_subdomain] \n+name for your resource in order to use this type of authentication.\n+\n+Authentication with AAD requires some initial setup:\n+* [Install azure-identity][install_azure_identity]\n+* [Register a new AAD application][register_AAD_application]\n+* [Grant access][grant_access] to Text Analytics by assigning the `\"Cognitive Services User\"` role to your service principal.\n+\n+After setup, you can choose which type of [credential][credential_type] from azure.identity to use. \n+As an example, [DefaultAzureCredential][default_azure_credential]\n+can be used to authenticate the client:\n+\n+Set the values of the client ID, tenant ID, and client secret of the AAD application as environment variables: \n+AZURE_CLIENT_ID, AZURE_TENANT_ID, AZURE_CLIENT_SECRET.\n+\n+Use the returned token credential to authenticate the client:\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L67-L70 -->\n+```java\n+TextAnalyticsAsyncClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+    .endpoint(\"{endpoint}\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildAsyncClient();\n+```\n+\n ## Key concepts\n+### Client\n+The Text Analytics client library provides a [TextAnalyticsClient][text_analytics_sync_client] and \n+[TextAnalyticsAsyncClient][text_analytics_async_client] to do analysis on batches of documents. It provides both synchronous and\n+asynchronous operations to access a specific use of Text Analytics, such as language detection or key phrase extraction.\n \n ### Text Input\n-A text input, sometimes called a `document`, is a single unit of input to be analyzed by the predictive models\n+A **text input**, sometimes called a **document**, is a single unit of input to be analyzed by the predictive models\n in the Text Analytics service. Operations on Text Analytics client may take a single text input or a collection\n-of inputs to be analyzed as a batch.\n+of inputs to be analyzed as a batch. \n+See [service limitations][service_input_limitation] for the input, including document length limits, maximum batch size,\n+and supported text encoding.\n \n ### Operation Result\n An operation result, such as `AnalyzeSentimentResult`, is the result of a Text Analytics operation, containing a \n prediction or predictions about a single text input. An operation's result type also may optionally include information\n-about the input document and how it was processed.\n+about the input document and how it was processed. An operation result contains a `isError` property that allows to\n+identify if an operation executed was successful or unsuccessful for the given text input. When the operation results\n+an error. You can simply call `getError()` to get `TextAnalyticsError` which contains the reason why it is unsuccessful. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQyMjY3OQ=="}, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 145}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDkzNzUyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxOToyOVrOFn8l1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxOToyOVrOFn8l1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMTUwOA==", "bodyText": "\"Cognitive Services\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377431508", "createdAt": "2020-02-11T03:19:29Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -56,73 +56,30 @@ az cognitiveservices account create \\\n ```\n ### Authenticate the client\n In order to interact with the Text Analytics service, you'll need to create an instance of the \n-`TextAnalyticsClient` class. You would need an **endpoint** and **API key** to instantiate a client object.\n+`TextAnalyticsClient` class. You would need an **endpoint** and either an **API key** or **AAD TokenCredential** to instantiate a client object.\n And they can be found in the [Azure Portal][azure_portal] under the \"Quickstart\" in your created\n-Text Analytics resource. \n+Text Analytics resource. See the full details regarding [authentication][authentication] of cognitive services.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDk0NzQyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoyNzoyMlrOFn8rfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoyOTo1MlrOFn8s_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMjk1Ng==", "bodyText": "Consider changing to Return value", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377432956", "createdAt": "2020-02-11T03:27:22Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -134,17 +91,54 @@ TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n \n credential.updateCredential(\"{new_api_key}\");\n ```\n+##### **Option 2**: Create TextAnalyticsClient with Azure Active Directory Credential\n+To use an [Azure Active Directory (AAD) token credential][aad_credential],\n+provide an instance of the desired credential type obtained from the [azure-identity][azure_identity] library.\n+Note that regional endpoints do not support AAD authentication. Create a [custom subdomain][custom_subdomain] \n+name for your resource in order to use this type of authentication.\n+\n+Authentication with AAD requires some initial setup:\n+* [Install azure-identity][install_azure_identity]\n+* [Register a new AAD application][register_AAD_application]\n+* [Grant access][grant_access] to Text Analytics by assigning the `\"Cognitive Services User\"` role to your service principal.\n+\n+After setup, you can choose which type of [credential][credential_type] from azure.identity to use. \n+As an example, [DefaultAzureCredential][default_azure_credential]\n+can be used to authenticate the client:\n+\n+Set the values of the client ID, tenant ID, and client secret of the AAD application as environment variables: \n+AZURE_CLIENT_ID, AZURE_TENANT_ID, AZURE_CLIENT_SECRET.\n+\n+Use the returned token credential to authenticate the client:\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L67-L70 -->\n+```java\n+TextAnalyticsAsyncClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+    .endpoint(\"{endpoint}\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildAsyncClient();\n+```\n+\n ## Key concepts\n+### Client\n+The Text Analytics client library provides a [TextAnalyticsClient][text_analytics_sync_client] and \n+[TextAnalyticsAsyncClient][text_analytics_async_client] to do analysis on batches of documents. It provides both synchronous and\n+asynchronous operations to access a specific use of Text Analytics, such as language detection or key phrase extraction.\n \n ### Text Input\n-A text input, sometimes called a `document`, is a single unit of input to be analyzed by the predictive models\n+A **text input**, sometimes called a **document**, is a single unit of input to be analyzed by the predictive models\n in the Text Analytics service. Operations on Text Analytics client may take a single text input or a collection\n-of inputs to be analyzed as a batch.\n+of inputs to be analyzed as a batch. \n+See [service limitations][service_input_limitation] for the input, including document length limits, maximum batch size,\n+and supported text encoding.\n \n ### Operation Result", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMzM0MA==", "bodyText": "so i guess \"Operation Result Collection\" will need to change to \"Result Value Collection\"?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8098#discussion_r377433340", "createdAt": "2020-02-11T03:29:52Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -134,17 +91,54 @@ TextAnalyticsClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n \n credential.updateCredential(\"{new_api_key}\");\n ```\n+##### **Option 2**: Create TextAnalyticsClient with Azure Active Directory Credential\n+To use an [Azure Active Directory (AAD) token credential][aad_credential],\n+provide an instance of the desired credential type obtained from the [azure-identity][azure_identity] library.\n+Note that regional endpoints do not support AAD authentication. Create a [custom subdomain][custom_subdomain] \n+name for your resource in order to use this type of authentication.\n+\n+Authentication with AAD requires some initial setup:\n+* [Install azure-identity][install_azure_identity]\n+* [Register a new AAD application][register_AAD_application]\n+* [Grant access][grant_access] to Text Analytics by assigning the `\"Cognitive Services User\"` role to your service principal.\n+\n+After setup, you can choose which type of [credential][credential_type] from azure.identity to use. \n+As an example, [DefaultAzureCredential][default_azure_credential]\n+can be used to authenticate the client:\n+\n+Set the values of the client ID, tenant ID, and client secret of the AAD application as environment variables: \n+AZURE_CLIENT_ID, AZURE_TENANT_ID, AZURE_CLIENT_SECRET.\n+\n+Use the returned token credential to authenticate the client:\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L67-L70 -->\n+```java\n+TextAnalyticsAsyncClient textAnalyticsClient = new TextAnalyticsClientBuilder()\n+    .endpoint(\"{endpoint}\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildAsyncClient();\n+```\n+\n ## Key concepts\n+### Client\n+The Text Analytics client library provides a [TextAnalyticsClient][text_analytics_sync_client] and \n+[TextAnalyticsAsyncClient][text_analytics_async_client] to do analysis on batches of documents. It provides both synchronous and\n+asynchronous operations to access a specific use of Text Analytics, such as language detection or key phrase extraction.\n \n ### Text Input\n-A text input, sometimes called a `document`, is a single unit of input to be analyzed by the predictive models\n+A **text input**, sometimes called a **document**, is a single unit of input to be analyzed by the predictive models\n in the Text Analytics service. Operations on Text Analytics client may take a single text input or a collection\n-of inputs to be analyzed as a batch.\n+of inputs to be analyzed as a batch. \n+See [service limitations][service_input_limitation] for the input, including document length limits, maximum batch size,\n+and supported text encoding.\n \n ### Operation Result", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMjk1Ng=="}, "originalCommit": {"oid": "564cc2cf9cf11318078014aa3d03314039730bcb"}, "originalPosition": 139}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3187, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}