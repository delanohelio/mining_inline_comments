{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NjEyODIy", "number": 9724, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMToyNjoxNVrODtS1wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNzowMTo1MVrODtn4zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4ODIxMTg1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobOutputStream.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMToyNjoxNVrOF-o1rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMToyNjoxNVrOF-o1rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyNTEzMw==", "bodyText": "What am i supposed to do here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9724#discussion_r401225133", "createdAt": "2020-03-31T21:26:15Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobOutputStream.java", "diffHunk": "@@ -183,14 +196,16 @@ void commit() {\n             sink.complete();\n \n             // Need to wait until the uploadTask completes\n+            lock.lock();\n             while (!complete) {\n                 try {\n-                    Thread.sleep(100L);\n+                    transferComplete.await();\n                 } catch (InterruptedException e) {\n-                    // Does this need to be caught by logger?\n-                    e.printStackTrace();\n+                    this.lastError = new IOException(e.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754e3a5a49cb59edb28010816f30e0632dbd5eb7"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTY2MDMxOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobOutputStream.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNzowMTo1MVrOF_KF7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNzowMTo1MVrOF_KF7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc2OTk2Ng==", "bodyText": "Should I try catch the entire block on the lock and unlock if a generic exception is caught? Or do yall think CI is catching a false positive?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9724#discussion_r401769966", "createdAt": "2020-04-01T17:01:51Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/storage/blob/specialized/BlobOutputStream.java", "diffHunk": "@@ -174,7 +182,12 @@ private BlockBlobOutputStream(final BlobAsyncClient client,\n                     this.lastError = new IOException(e);\n                     return Mono.empty();\n                 })\n-                .doOnTerminate(() -> complete = true)\n+                .doOnTerminate(() -> {\n+                    lock.lock();\n+                    complete = true;\n+                    transferComplete.signal();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872e2d190bdfb4d352d4841ab48a80a7e829cf30"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2061, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}