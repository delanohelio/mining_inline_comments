{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MDUyMDg0", "number": 8826, "title": "Changed EncryptedBlobClient to properly override upload method", "bodyText": "Addresses the most recent discussion on #6536", "createdAt": "2020-03-06T22:38:39Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826", "merged": true, "mergeCommit": {"oid": "2df74c154849cb0ace46bdae455634b4793ac02f"}, "closed": true, "closedAt": "2020-03-12T00:01:51Z", "author": {"login": "rickle-msft"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLH8NcgH2gAyMzg1MDUyMDg0OjVkYzBkMDViYmEzNzJhZWVhYjFjNGM2ZTUyZGE0NWUzNmMxMmI3N2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMv4pTgH2gAyMzg1MDUyMDg0OmEyZTcwMTYyNTYwMzJlYmFhNzIwNWE4NDc4MjQxY2I5MmFlY2I2MmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5dc0d05bba372aeeab1c4c6e52da45e36c12b77c", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5dc0d05bba372aeeab1c4c6e52da45e36c12b77c", "committedDate": "2020-03-06T22:34:21Z", "message": "Changed EncryptedBlobClient to properly override upload method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e32e4fdd52465a085b1a26048643ca41863267d2", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e32e4fdd52465a085b1a26048643ca41863267d2", "committedDate": "2020-03-06T23:28:04Z", "message": "Checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzkyMDkz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#pullrequestreview-371392093", "createdAt": "2020-03-09T17:39:19Z", "commit": {"oid": "e32e4fdd52465a085b1a26048643ca41863267d2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozOToyMFrOFzyrjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozOToyMFrOFzyrjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg1MjA0NQ==", "bodyText": "don't feel too strongly about this but could we make this logic protected in regular Blob so its not duplicated?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#discussion_r389852045", "createdAt": "2020-03-09T17:39:20Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob-cryptography/src/main/java/com/azure/storage/blob/specialized/cryptography/EncryptedBlobClient.java", "diffHunk": "@@ -109,6 +116,32 @@ public BlobOutputStream getBlobOutputStream(ParallelTransferOptions parallelTran\n             metadata, tier, requestConditions);\n     }\n \n+    /**\n+     * {@inheritDoc}\n+     */\n+    @Override\n+    public void uploadWithResponse(InputStream data, long length, ParallelTransferOptions parallelTransferOptions,\n+        BlobHttpHeaders headers, Map<String, String> metadata, AccessTier tier, BlobRequestConditions requestConditions,\n+        Duration timeout, Context context) {\n+        final ParallelTransferOptions validatedParallelTransferOptions =\n+            ModelHelper.populateAndApplyDefaults(parallelTransferOptions);\n+\n+        // BlobOutputStream passes to buffered upload, which has logic for switching based on stream size\n+        BlobOutputStream blobOutputStream = BlobOutputStream.blockBlobOutputStream(encryptedBlobAsyncClient,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e32e4fdd52465a085b1a26048643ca41863267d2"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzkzMzk5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#pullrequestreview-371393399", "createdAt": "2020-03-09T17:40:58Z", "commit": {"oid": "e32e4fdd52465a085b1a26048643ca41863267d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f653b91551b32bdfb007600125943d0a02c02a5", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2f653b91551b32bdfb007600125943d0a02c02a5", "committedDate": "2020-03-09T17:54:17Z", "message": "Removed an obsolete test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cd7a1642a5207538249dcd9b6106b1c7485bf64", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3cd7a1642a5207538249dcd9b6106b1c7485bf64", "committedDate": "2020-03-09T18:30:56Z", "message": "Small refactor to minimize code duplication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de42b157737d8efe7897c41c2668ba08599b12ef", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/de42b157737d8efe7897c41c2668ba08599b12ef", "committedDate": "2020-03-09T19:22:47Z", "message": "Removed unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMjE1MTk5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#pullrequestreview-372215199", "createdAt": "2020-03-10T18:27:42Z", "commit": {"oid": "de42b157737d8efe7897c41c2668ba08599b12ef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyOTEyMDI5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#pullrequestreview-372912029", "createdAt": "2020-03-11T16:14:04Z", "commit": {"oid": "de42b157737d8efe7897c41c2668ba08599b12ef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24283090c9b808024458567e12141c8ff255c940", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/24283090c9b808024458567e12141c8ff255c940", "committedDate": "2020-03-11T23:00:16Z", "message": "Removed some unnecessary code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "651345a4a01abca382424023b5e5cce6c1bac24f", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/651345a4a01abca382424023b5e5cce6c1bac24f", "committedDate": "2020-03-11T23:02:06Z", "message": "Merge remote-tracking branch 'upstream/master' into uploadEncryption"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2e7016256032ebaa7205a8478241cb92aecb62f", "author": {"user": {"login": "rickle-msft", "name": "Rick Ley"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a2e7016256032ebaa7205a8478241cb92aecb62f", "committedDate": "2020-03-11T23:40:35Z", "message": "Merge remote-tracking branch 'upstream/master' into uploadEncryption"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 934, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}