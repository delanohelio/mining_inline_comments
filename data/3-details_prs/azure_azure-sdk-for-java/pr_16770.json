{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MjA2NzI3", "number": 16770, "title": "Add a Service Bus Connection String Parser", "bodyText": "Implement a Service Bus Connection String Parser, which uses amqp-core's ConnectionStringProperties\ncloses #16467", "createdAt": "2020-10-23T20:40:45Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770", "merged": true, "mergeCommit": {"oid": "40ffe6b6678a8048e6761f9396abae1f1158040b"}, "closed": true, "closedAt": "2020-10-26T23:01:11Z", "author": {"login": "YijunXieMS"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVclZXAH2gAyNTA5MjA2NzI3OjY4YjBiMzc2M2RlNGRmZmJkYzgyY2EyNTllOTgyODMwOTU1NDRkMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWZQprgFqTUxNzA4OTEwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16", "author": {"user": {"login": "YijunXieMS", "name": "Yijun Xie"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/68b0b3763de4dffbdc82ca259e98283095544d16", "committedDate": "2020-10-23T20:27:50Z", "message": "Add ServiceBusConnectionStringProperties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MDA0MzE5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#pullrequestreview-516004319", "createdAt": "2020-10-23T20:53:57Z", "commit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMDo1Mzo1N1rOHneKNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMDo1Njo0MlrOHneOWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MDY0NA==", "bodyText": "Can you add more documentation on how to use this and what is the expected format?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r511150644", "createdAt": "2020-10-23T20:53:57Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MDk5OQ==", "bodyText": "Update javadoc to include the exceptions thrown if the connection string is invalid.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r511150999", "createdAt": "2020-10-23T20:54:51Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.\n+ */\n+public final class ServiceBusConnectionStringProperties {\n+    private final URI endpoint;\n+    private final String entityPath;\n+    private final String sharedAccessKeyName;\n+    private final String sharedAccessKey;\n+    private final String sharedAccessSignature;\n+\n+    private ServiceBusConnectionStringProperties(ConnectionStringProperties properties) {\n+        this.endpoint = properties.getEndpoint();\n+        this.entityPath = properties.getEntityPath();\n+        this.sharedAccessKeyName = properties.getSharedAccessKeyName();\n+        this.sharedAccessKey = properties.getSharedAccessKey();\n+        this.sharedAccessSignature = properties.getSharedAccessSignature();\n+    }\n+\n+    /**\n+     * Parse a ServiceBus connection string into an instance of this class.\n+     * @param connectionString The connection string to be parsed.\n+     * @return An instance of this class.\n+     */\n+    public static ServiceBusConnectionStringProperties parse(String connectionString) {\n+        return new ServiceBusConnectionStringProperties(new ConnectionStringProperties(connectionString));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MTcwNg==", "bodyText": "Add unit tests.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r511151706", "createdAt": "2020-10-23T20:56:42Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.\n+ */\n+public final class ServiceBusConnectionStringProperties {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84df9fd7af149b9e1617b2a65a2b23b0046966e3", "author": {"user": {"login": "YijunXieMS", "name": "Yijun Xie"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/84df9fd7af149b9e1617b2a65a2b23b0046966e3", "committedDate": "2020-10-23T23:43:05Z", "message": "Add tests and more javadoc for ServiceBusConnectionStringProperties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MDg5MTAw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#pullrequestreview-517089100", "createdAt": "2020-10-26T19:02:02Z", "commit": {"oid": "84df9fd7af149b9e1617b2a65a2b23b0046966e3"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxOTowMjowMlrOHoeM4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxOTowNToyOFrOHoeUXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5OTkwNQ==", "bodyText": "Looks great, thanks for adding a very detailed javadoc!", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r512199905", "createdAt": "2020-10-26T19:02:02Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,87 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MDY0NA=="}, "originalCommit": {"oid": "68b0b3763de4dffbdc82ca259e98283095544d16"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5OTk5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * A connection may have the following sections:\n          \n          \n            \n             * A connection string may have the following sections:", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r512199997", "createdAt": "2020-10-26T19:02:14Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,106 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+import com.azure.core.credential.TokenCredential;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.\n+ * A Service Bus connection string is a set of key value pairs separated by semi-colon. A typical example is\n+ * \"Endpoint=sb://sbnamespace.servicebus.windows.net/;SharedAccessKeyName=someKeyName;SharedAccessKey=someKeyValue\".\n+ *\n+ * A connection may have the following sections:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84df9fd7af149b9e1617b2a65a2b23b0046966e3"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIwMTgyMg==", "bodyText": "Maybe adding a link to this article will be good:\nhttps://docs.microsoft.com/azure/service-bus-messaging/service-bus-quickstart-portal#get-the-connection-string", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16770#discussion_r512201822", "createdAt": "2020-10-26T19:05:28Z", "author": {"login": "srnagar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusConnectionStringProperties.java", "diffHunk": "@@ -0,0 +1,106 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.messaging.servicebus;\n+\n+import com.azure.core.amqp.implementation.ConnectionStringProperties;\n+import com.azure.core.credential.TokenCredential;\n+\n+import java.net.URI;\n+\n+/**\n+ * A utility class that parses a connection string into sections.\n+ * A Service Bus connection string is a set of key value pairs separated by semi-colon. A typical example is\n+ * \"Endpoint=sb://sbnamespace.servicebus.windows.net/;SharedAccessKeyName=someKeyName;SharedAccessKey=someKeyValue\".", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84df9fd7af149b9e1617b2a65a2b23b0046966e3"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1807, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}