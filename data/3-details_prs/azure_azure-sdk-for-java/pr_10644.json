{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNzkyNjk5", "number": 10644, "title": "Change accept headers for search service", "bodyText": "Added\naccept=application/json;odata.metadata=none for index\naccept=application/json;odata.metadata=minimal for service\nTried to unify the transformer change. The unified transformer change only working for latest autorest.core version, not for autorest.core version we currently used.\nCurrent transformer changes is incompatible with latest autorest.core.\nThe change on java code is also a workaround.", "createdAt": "2020-04-30T19:31:20Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10644", "merged": true, "mergeCommit": {"oid": "305dbd86fd652457b003a9c022c279c63493c4d1"}, "closed": true, "closedAt": "2020-04-30T23:50:21Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcczGtfgFqTQwMzgyOTY2MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcc1viLgH2gAyNDExNzkyNjk5OjMzYjNjNmEwNTRlNTA3ZTNhMGEwYzM3YTgzZGM3YzNlOTI1MmI1NWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODI5NjYw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10644#pullrequestreview-403829660", "createdAt": "2020-04-30T19:51:19Z", "commit": {"oid": "1e65e96dbf54eafe84350fa2b8876da8739a367c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTo1MToxOVrOGO4Arg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTo1MToxOVrOGO4Arg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI1MDkyNg==", "bodyText": "Isn't there a way to perform this by mutating the Swagger instead of the generated file?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10644#discussion_r418250926", "createdAt": "2020-04-30T19:51:19Z", "author": {"login": "alzimmermsft"}, "path": "sdk/search/azure-search-documents/swagger/readme.md", "diffHunk": "@@ -121,10 +123,25 @@ directive:\n       where: $\n       transform: >-\n           return $\n-          .replace(/(\\@HostParam\\(\\\"indexName\\\"\\) String indexName)/g, \"$1\\, @HeaderParam\\(\\\"accept\\\"\\) String accept\")\n-          .replace(/(this.client.getIndexName\\(\\),)/g, \"$1 accept,\")\n+          .replace(/(\\@QueryParam\\(\\\"api\\-version\\\"\\) String apiVersion)/g, \"$1\\, @HeaderParam\\(\\\"accept\\\"\\) String accept\")\n+          .replace(/(this\\.client\\.getApiVersion\\(\\)\\,)/g, \"$1 accept,\")\n           .replace(/(public Mono\\<(.*)\\) \\{)/g, \"$1\\n\\t\\tfinal String accept \\= \\\"application\\/json\\;odata\\.metadata\\=none\\\"\\;\\n\")\n \n+    # Change service resource impl to take Accept header parameter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e65e96dbf54eafe84350fa2b8876da8739a367c"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODYwMjE5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10644#pullrequestreview-403860219", "createdAt": "2020-04-30T20:38:44Z", "commit": {"oid": "1e65e96dbf54eafe84350fa2b8876da8739a367c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODYxMTU0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10644#pullrequestreview-403861154", "createdAt": "2020-04-30T20:40:13Z", "commit": {"oid": "1e65e96dbf54eafe84350fa2b8876da8739a367c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9141914fdd4526de6444e9af7e1545195308dd76", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9141914fdd4526de6444e9af7e1545195308dd76", "committedDate": "2020-04-30T21:48:27Z", "message": "Merge mainline changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79572e019e02ae9af9d1f1a93e0c0530093c6dd9", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/79572e019e02ae9af9d1f1a93e0c0530093c6dd9", "committedDate": "2020-04-30T21:49:04Z", "message": "Introduce new swagger changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1e65e96dbf54eafe84350fa2b8876da8739a367c", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1e65e96dbf54eafe84350fa2b8876da8739a367c", "committedDate": "2020-04-30T19:24:50Z", "message": "Change accept headers for search service"}, "afterCommit": {"oid": "79572e019e02ae9af9d1f1a93e0c0530093c6dd9", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/79572e019e02ae9af9d1f1a93e0c0530093c6dd9", "committedDate": "2020-04-30T21:49:04Z", "message": "Introduce new swagger changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "316ad8e8a9c17b9123ca3524b4fd6419063b6e4d", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/316ad8e8a9c17b9123ca3524b4fd6419063b6e4d", "committedDate": "2020-04-30T22:20:21Z", "message": "fixed boolean field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33b3c6a054e507e3a0a0c37a83dc7c3e9252b55a", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/33b3c6a054e507e3a0a0c37a83dc7c3e9252b55a", "committedDate": "2020-04-30T23:32:51Z", "message": "Update readme.md"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4490, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}