{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMzg0NDg1", "number": 10637, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTozNjoxOFrOD4LeqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTozNjoxOFrOD4LeqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjM0OTIxOnYy", "diffSide": "RIGHT", "path": "sdk/servicebus/azure-messaging-servicebus/src/test/java/com/azure/messaging/servicebus/implementation/ManagementChannelTests.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTozNjoxOFrOGO3ifw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxOTo0NTo1NlrOGO31lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0MzE5OQ==", "bodyText": "Another error case : Where user pass in a session id which is not equal to current active session id.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10637#discussion_r418243199", "createdAt": "2020-04-30T19:36:18Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/test/java/com/azure/messaging/servicebus/implementation/ManagementChannelTests.java", "diffHunk": "@@ -117,11 +137,9 @@ void teardown(TestInfo testInfo) {\n     void setsSessionState(byte[] state) {\n         // Arrange\n         final String sessionId = \"A session-id\";\n-        managementChannel = new ManagementChannel(Mono.just(requestResponseChannel), NAMESPACE, ENTITY_PATH, sessionId,\n-            tokenManager, messageSerializer, Duration.ofSeconds(10));\n \n         // Act\n-        StepVerifier.create(managementChannel.setSessionState(state))\n+        StepVerifier.create(managementChannel.setSessionState(sessionId, state, LINK_NAME))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e79698d480073ed07d40403293f5e872ad530079"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0NzM5Nw==", "bodyText": "This is done on the management channel. If another application passes you this id, you can complete it as long as someone is renewing that lock. the .NET code doesn't check that the session is not lost.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10637#discussion_r418247397", "createdAt": "2020-04-30T19:44:37Z", "author": {"login": "conniey"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/test/java/com/azure/messaging/servicebus/implementation/ManagementChannelTests.java", "diffHunk": "@@ -117,11 +137,9 @@ void teardown(TestInfo testInfo) {\n     void setsSessionState(byte[] state) {\n         // Arrange\n         final String sessionId = \"A session-id\";\n-        managementChannel = new ManagementChannel(Mono.just(requestResponseChannel), NAMESPACE, ENTITY_PATH, sessionId,\n-            tokenManager, messageSerializer, Duration.ofSeconds(10));\n \n         // Act\n-        StepVerifier.create(managementChannel.setSessionState(state))\n+        StepVerifier.create(managementChannel.setSessionState(sessionId, state, LINK_NAME))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0MzE5OQ=="}, "originalCommit": {"oid": "e79698d480073ed07d40403293f5e872ad530079"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0ODA4Ng==", "bodyText": "If this is done on the actual receive link, then it checks to see if it is not lost.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10637#discussion_r418248086", "createdAt": "2020-04-30T19:45:56Z", "author": {"login": "conniey"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/test/java/com/azure/messaging/servicebus/implementation/ManagementChannelTests.java", "diffHunk": "@@ -117,11 +137,9 @@ void teardown(TestInfo testInfo) {\n     void setsSessionState(byte[] state) {\n         // Arrange\n         final String sessionId = \"A session-id\";\n-        managementChannel = new ManagementChannel(Mono.just(requestResponseChannel), NAMESPACE, ENTITY_PATH, sessionId,\n-            tokenManager, messageSerializer, Duration.ofSeconds(10));\n \n         // Act\n-        StepVerifier.create(managementChannel.setSessionState(state))\n+        StepVerifier.create(managementChannel.setSessionState(sessionId, state, LINK_NAME))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI0MzE5OQ=="}, "originalCommit": {"oid": "e79698d480073ed07d40403293f5e872ad530079"}, "originalPosition": 109}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4389, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}