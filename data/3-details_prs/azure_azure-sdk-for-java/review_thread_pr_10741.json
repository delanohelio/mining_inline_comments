{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzODE2NjU2", "number": 10741, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTo1NDoxM1rOD5pG5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwOTozMToyNVrOD5vOvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzY4OTMyOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdConstants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTo1NDoxM1rOGRBn6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTo1NDoxM1rOGRBn6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwNTU3Nw==", "bodyText": "LGTM", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420505577", "createdAt": "2020-05-06T01:54:13Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdConstants.java", "diffHunk": "@@ -572,7 +572,8 @@ public byte id() {\n         ContentSerializationFormat((short) 0x0065, RntbdTokenType.Byte, false),\n         AllowTentativeWrites((short) 0x0066, RntbdTokenType.Byte, false),\n         IsUserRequest((short) 0x0067, RntbdTokenType.Byte, false),\n-        SharedOfferThroughput((short) 0x0068, RntbdTokenType.ULong, false);\n+        SharedOfferThroughput((short) 0x0068, RntbdTokenType.ULong, false),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzY5MjE4OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdRequestHeaders.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTo1NTo0MVrOGRBpeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMTo1NTo0MVrOGRBpeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwNTk3Ng==", "bodyText": "LGTM", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420505976", "createdAt": "2020-05-06T01:55:41Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/rntbd/RntbdRequestHeaders.java", "diffHunk": "@@ -29,6 +28,7 @@\n import java.util.function.Supplier;\n \n import static com.azure.cosmos.implementation.HttpConstants.HttpHeaders;\n+import static com.azure.cosmos.implementation.HttpConstants.HeaderValues;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcwNzExOnYy", "diffSide": "LEFT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/VeryLargeDocumentQueryTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNToxM1rOGRBxww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNToxM1rOGRBxww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODA5OQ==", "bodyText": "Thanks for removing this. I was showing some code to a customer and noticed these very old comments were still present.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420508099", "createdAt": "2020-05-06T02:05:13Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/VeryLargeDocumentQueryTest.java", "diffHunk": "@@ -39,9 +39,6 @@ public VeryLargeDocumentQueryTest(CosmosClientBuilder clientBuilder) {\n         super(clientBuilder);\n     }\n \n-    // TODO (DANOBLE) VeryLargeDocumentQueryTest::queryLargeDocuments intermittently times out", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcwNzQ1OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/VeryLargeDocumentQueryTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNTozM1rOGRBx8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNTozM1rOGRBx8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODE0Ng==", "bodyText": "Thanks for removing this too", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420508146", "createdAt": "2020-05-06T02:05:33Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/VeryLargeDocumentQueryTest.java", "diffHunk": "@@ -83,8 +80,6 @@ private void createLargeDocument() {\n                     .verify(Duration.ofMillis(subscriberValidationTimeout));\n     }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcwODE3OnYy", "diffSide": "LEFT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/UserDefinedFunctionUpsertReplaceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNjoxMVrOGRBycQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNjoxMVrOGRBycQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODI3Mw==", "bodyText": "Thanks.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420508273", "createdAt": "2020-05-06T02:06:11Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/UserDefinedFunctionUpsertReplaceTest.java", "diffHunk": "@@ -65,8 +65,6 @@ public void replaceUserDefinedFunction() throws Exception {\n         validateSuccess(replaceObservable, validatorForReplace);\n     }\n \n-    // TODO (DANOBLE) UserDefinedFunctionUpsertReplaceTest initialization consistently times out in CI environments.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcxMDAzOnYy", "diffSide": "LEFT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/ParallelDocumentQueryTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNzoyMlrOGRBzdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowNzoyMlrOGRBzdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODUzNQ==", "bodyText": "thanks.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420508535", "createdAt": "2020-05-06T02:07:22Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/rx/ParallelDocumentQueryTest.java", "diffHunk": "@@ -373,8 +373,6 @@ public void queryDocumentsPojo(){\n \n     }\n \n-    // TODO (DANOBLE) ParallelDocumentQueryTest initialization intermittently fails in CI environments", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcxMzE1OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/examples/ChangeFeed/SampleChangeFeedProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjowOToxOVrOGRB1OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoyOToxMFrOGRCHag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODk4NA==", "bodyText": "ChangeFeedProcessor is a read-only, how minimal response impacts it?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420508984", "createdAt": "2020-05-06T02:09:19Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/examples/ChangeFeed/SampleChangeFeedProcessor.java", "diffHunk": "@@ -121,6 +121,7 @@ public static CosmosAsyncClient getCosmosClient() {\n                 .key(SampleConfigurations.MASTER_KEY)\n                 .connectionPolicy(ConnectionPolicy.getDefaultPolicy())\n                 .consistencyLevel(ConsistencyLevel.EVENTUAL)\n+                .returnMinimalResponse(false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMzY0Mg==", "bodyText": "This is SampleChangeFeedProcessor example, which creates some documents before listening to them, so used it. This is not in the source code.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420513642", "createdAt": "2020-05-06T02:29:10Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/examples/ChangeFeed/SampleChangeFeedProcessor.java", "diffHunk": "@@ -121,6 +121,7 @@ public static CosmosAsyncClient getCosmosClient() {\n                 .key(SampleConfigurations.MASTER_KEY)\n                 .connectionPolicy(ConnectionPolicy.getDefaultPolicy())\n                 .consistencyLevel(ConsistencyLevel.EVENTUAL)\n+                .returnMinimalResponse(false)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwODk4NA=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcxNjMxOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncClient.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoxMDo1N1rOGRB24A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNDo1MDozNVrOGRW3fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTQwOA==", "bodyText": ".NET is using name 'NoResponseContent'.\n/cc: @j82w", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420509408", "createdAt": "2020-05-06T02:10:57Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncClient.java", "diffHunk": "@@ -163,6 +166,20 @@ CosmosKeyCredential cosmosKeyCredential() {\n         return cosmosKeyCredential;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isReturnMinimalResponse() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMTM5Mw==", "bodyText": "NoContentResponseOnWrite was the current full name .NET using.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420511393", "createdAt": "2020-05-06T02:19:35Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncClient.java", "diffHunk": "@@ -163,6 +166,20 @@ CosmosKeyCredential cosmosKeyCredential() {\n         return cosmosKeyCredential;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isReturnMinimalResponse() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTQwOA=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMzgwOQ==", "bodyText": "Will go with noContentResponseOnWrite as the new name. Thanks.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420513809", "createdAt": "2020-05-06T02:29:43Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncClient.java", "diffHunk": "@@ -163,6 +166,20 @@ CosmosKeyCredential cosmosKeyCredential() {\n         return cosmosKeyCredential;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isReturnMinimalResponse() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTQwOA=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg1MzYzMA==", "bodyText": "for similar configs we have \"Enabled\" as the suffix. To be consistent please add \"Enabled\" at the end. (noContentResponseOnWriteEnabled)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420853630", "createdAt": "2020-05-06T14:50:35Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncClient.java", "diffHunk": "@@ -163,6 +166,20 @@ CosmosKeyCredential cosmosKeyCredential() {\n         return cosmosKeyCredential;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isReturnMinimalResponse() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTQwOA=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcyMDAyOnYy", "diffSide": "LEFT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceRequest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoxMzozOFrOGRB5FA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMzo0NDoyN1rOGRDFpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTk3Mg==", "bodyText": "What are scenarios for it?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420509972", "createdAt": "2020-05-06T02:13:38Z", "author": {"login": "kirankumarkolli"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceRequest.java", "diffHunk": "@@ -26,8 +26,6 @@\n  * This is core Transport/Connection agnostic request to the Azure Cosmos DB database service.\n  */\n public class RxDocumentServiceRequest implements Cloneable {\n-    private static final char PREFER_HEADER_SEPERATOR = ';';\n-    private static final String PREFER_HEADER_VALUE_FORMAT = \"%s=%s\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxNDE0Mg==", "bodyText": "Unknown scenarios, but this already exists in the SDK, and there is a unit test as well. Didn't want to break that.\nhttps://github.com/Azure/azure-sdk-for-java/pull/10741/files#diff-7011a46947ace6e46648f8c4027e602eL414\nSo to keep the functionality intact, I am re-using the logic we already have.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420514142", "createdAt": "2020-05-06T02:31:13Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceRequest.java", "diffHunk": "@@ -26,8 +26,6 @@\n  * This is core Transport/Connection agnostic request to the Azure Cosmos DB database service.\n  */\n public class RxDocumentServiceRequest implements Cloneable {\n-    private static final char PREFER_HEADER_SEPERATOR = ';';\n-    private static final String PREFER_HEADER_VALUE_FORMAT = \"%s=%s\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTk3Mg=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxNjI4MA==", "bodyText": "I am thinking if this is not exposed through public api, we should drop the generic support and only have support for minimalResponseContent scenario", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420516280", "createdAt": "2020-05-06T02:40:59Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceRequest.java", "diffHunk": "@@ -26,8 +26,6 @@\n  * This is core Transport/Connection agnostic request to the Azure Cosmos DB database service.\n  */\n public class RxDocumentServiceRequest implements Cloneable {\n-    private static final char PREFER_HEADER_SEPERATOR = ';';\n-    private static final String PREFER_HEADER_VALUE_FORMAT = \"%s=%s\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTk3Mg=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUyOTU3Mw==", "bodyText": "I like that idea @moderakh . I will get rid of it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420529573", "createdAt": "2020-05-06T03:44:27Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentServiceRequest.java", "diffHunk": "@@ -26,8 +26,6 @@\n  * This is core Transport/Connection agnostic request to the Azure Cosmos DB database service.\n  */\n public class RxDocumentServiceRequest implements Cloneable {\n-    private static final char PREFER_HEADER_SEPERATOR = ';';\n-    private static final String PREFER_HEADER_VALUE_FORMAT = \"%s=%s\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUwOTk3Mg=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzcyMzE3OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/HttpTransportClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoxNToxMFrOGRB6ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoxNToxMFrOGRB6ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMDQwMw==", "bodyText": "good catch.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420510403", "createdAt": "2020-05-06T02:15:10Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/HttpTransportClient.java", "diffHunk": "@@ -84,7 +84,7 @@ public HttpTransportClient(Configs configs, Duration requestTimeout, UserAgentCo\n \n         // Set requested API version header for version enforcement.\n         this.defaultHeaders.put(HttpConstants.HttpHeaders.VERSION, HttpConstants.Versions.CURRENT_VERSION);\n-        this.defaultHeaders.put(HttpConstants.HttpHeaders.CACHE_CONTROL, HttpConstants.HeaderValues.NoCache);\n+        this.defaultHeaders.put(HttpConstants.HttpHeaders.CACHE_CONTROL, HttpConstants.HeaderValues.NO_CACHE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzc0MTc2OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentClientImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjoyNjoxM1rOGRCE5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMzo0NTo0NVrOGRDGsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMjk5OQ==", "bodyText": "given that currently the only preferred header is minimal response, I wonder if we can avoid string concatination here:\ninstead of\npreferHeaderName + \"=\" + preferHeaderValue\nwe just pass minimanRespose=true", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420512999", "createdAt": "2020-05-06T02:26:13Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentClientImpl.java", "diffHunk": "@@ -915,6 +928,27 @@ private static void validateResource(Resource resource) {\n         return headers;\n     }\n \n+    static Map<String, String> addPreferHeader(String preferHeaderName, String preferHeaderValue, Map<String, String> headers) {\n+        if (headers == null) {\n+            headers = new HashMap<>();\n+        }\n+        return addPreferHeader(preferHeaderName + \"=\" + preferHeaderValue, headers);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 152}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUyOTg0Mg==", "bodyText": "This doesn't get called. The other overload gets called :)\nBut since the only preferred header is minimalResponse, I will remove this overload.\nAlso, just to clarify, it is passed as: prefer:return=minimal :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420529842", "createdAt": "2020-05-06T03:45:45Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RxDocumentClientImpl.java", "diffHunk": "@@ -915,6 +928,27 @@ private static void validateResource(Resource resource) {\n         return headers;\n     }\n \n+    static Map<String, String> addPreferHeader(String preferHeaderName, String preferHeaderValue, Map<String, String> headers) {\n+        if (headers == null) {\n+            headers = new HashMap<>();\n+        }\n+        return addPreferHeader(preferHeaderName + \"=\" + preferHeaderValue, headers);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxMjk5OQ=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 152}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNzc1Njk0OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/ReturnMinimalResponseTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMjozNTozOVrOGRCNRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMzo0NzozMFrOGRDIFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxNTE0MQ==", "bodyText": "we usually target emulator for database and container CRUD test, because otherwise we may run out of master resource budget in prod.\ncan we target emulator here too? that will help in ensuring less random test failure due to master budget throttling", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420515141", "createdAt": "2020-05-06T02:35:39Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/ReturnMinimalResponseTest.java", "diffHunk": "@@ -0,0 +1,266 @@\n+/*\n+ * Copyright (c) Microsoft Corporation. All rights reserved.\n+ * Licensed under the MIT License.\n+ *\n+ */\n+\n+package com.azure.cosmos;\n+\n+import com.azure.cosmos.implementation.CosmosItemProperties;\n+import com.azure.cosmos.models.CosmosContainerProperties;\n+import com.azure.cosmos.models.CosmosContainerRequestOptions;\n+import com.azure.cosmos.models.CosmosContainerResponse;\n+import com.azure.cosmos.models.CosmosDatabaseProperties;\n+import com.azure.cosmos.models.CosmosDatabaseRequestOptions;\n+import com.azure.cosmos.models.CosmosDatabaseResponse;\n+import com.azure.cosmos.models.CosmosItemRequestOptions;\n+import com.azure.cosmos.models.CosmosItemResponse;\n+import com.azure.cosmos.models.IndexingMode;\n+import com.azure.cosmos.models.IndexingPolicy;\n+import com.azure.cosmos.models.ModelBridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import com.azure.cosmos.models.PartitionKeyDefinition;\n+import com.azure.cosmos.rx.TestSuiteBase;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Factory;\n+import org.testng.annotations.Test;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.UUID;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class ReturnMinimalResponseTest extends TestSuiteBase {\n+\n+    private final String preExistingDatabaseId = CosmosDatabaseForTest.generateId();\n+    private final List<String> databases = new ArrayList<>();\n+    private CosmosClient client;\n+    private CosmosContainer container;\n+    private CosmosDatabase createdDatabase;\n+\n+    //  Currently Gateway and Direct TCP support minimal response feature.\n+    @Factory(dataProvider = \"clientBuildersWithDirectTcpWithReturnMinimalResponse\")\n+    public ReturnMinimalResponseTest(CosmosClientBuilder clientBuilder) {\n+        super(clientBuilder);\n+    }\n+\n+    @BeforeClass(groups = {\"simple\"}, timeOut = SETUP_TIMEOUT)\n+    public void beforeClass() {\n+        assertThat(this.client).isNull();\n+        this.client = getClientBuilder().buildClient();\n+        createdDatabase = createSyncDatabase(client, preExistingDatabaseId);\n+        CosmosAsyncContainer asyncContainer = getSharedMultiPartitionCosmosContainer(this.client.asyncClient());\n+        container = client.getDatabase(asyncContainer.getDatabase().getId()).getContainer(asyncContainer.getId());\n+    }\n+\n+    @AfterClass(groups = {\"simple\"}, timeOut = SHUTDOWN_TIMEOUT, alwaysRun = true)\n+    public void afterClass() {\n+        safeDeleteSyncDatabase(createdDatabase);\n+        for (String dbId : databases) {\n+            safeDeleteSyncDatabase(client.getDatabase(dbId));\n+        }\n+        safeCloseSyncClient(client);\n+    }\n+\n+    @Test(groups = {\"simple\"}, timeOut = TIMEOUT)\n+    public void createDatabase_withMinimalResponseConfig() throws CosmosClientException {\n+        CosmosDatabaseProperties databaseDefinition = new CosmosDatabaseProperties(CosmosDatabaseForTest.generateId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUzMDE5Nw==", "bodyText": "Yes, makes sense, will do that.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420530197", "createdAt": "2020-05-06T03:47:30Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/ReturnMinimalResponseTest.java", "diffHunk": "@@ -0,0 +1,266 @@\n+/*\n+ * Copyright (c) Microsoft Corporation. All rights reserved.\n+ * Licensed under the MIT License.\n+ *\n+ */\n+\n+package com.azure.cosmos;\n+\n+import com.azure.cosmos.implementation.CosmosItemProperties;\n+import com.azure.cosmos.models.CosmosContainerProperties;\n+import com.azure.cosmos.models.CosmosContainerRequestOptions;\n+import com.azure.cosmos.models.CosmosContainerResponse;\n+import com.azure.cosmos.models.CosmosDatabaseProperties;\n+import com.azure.cosmos.models.CosmosDatabaseRequestOptions;\n+import com.azure.cosmos.models.CosmosDatabaseResponse;\n+import com.azure.cosmos.models.CosmosItemRequestOptions;\n+import com.azure.cosmos.models.CosmosItemResponse;\n+import com.azure.cosmos.models.IndexingMode;\n+import com.azure.cosmos.models.IndexingPolicy;\n+import com.azure.cosmos.models.ModelBridgeInternal;\n+import com.azure.cosmos.models.PartitionKey;\n+import com.azure.cosmos.models.PartitionKeyDefinition;\n+import com.azure.cosmos.rx.TestSuiteBase;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Factory;\n+import org.testng.annotations.Test;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.UUID;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class ReturnMinimalResponseTest extends TestSuiteBase {\n+\n+    private final String preExistingDatabaseId = CosmosDatabaseForTest.generateId();\n+    private final List<String> databases = new ArrayList<>();\n+    private CosmosClient client;\n+    private CosmosContainer container;\n+    private CosmosDatabase createdDatabase;\n+\n+    //  Currently Gateway and Direct TCP support minimal response feature.\n+    @Factory(dataProvider = \"clientBuildersWithDirectTcpWithReturnMinimalResponse\")\n+    public ReturnMinimalResponseTest(CosmosClientBuilder clientBuilder) {\n+        super(clientBuilder);\n+    }\n+\n+    @BeforeClass(groups = {\"simple\"}, timeOut = SETUP_TIMEOUT)\n+    public void beforeClass() {\n+        assertThat(this.client).isNull();\n+        this.client = getClientBuilder().buildClient();\n+        createdDatabase = createSyncDatabase(client, preExistingDatabaseId);\n+        CosmosAsyncContainer asyncContainer = getSharedMultiPartitionCosmosContainer(this.client.asyncClient());\n+        container = client.getDatabase(asyncContainer.getDatabase().getId()).getContainer(asyncContainer.getId());\n+    }\n+\n+    @AfterClass(groups = {\"simple\"}, timeOut = SHUTDOWN_TIMEOUT, alwaysRun = true)\n+    public void afterClass() {\n+        safeDeleteSyncDatabase(createdDatabase);\n+        for (String dbId : databases) {\n+            safeDeleteSyncDatabase(client.getDatabase(dbId));\n+        }\n+        safeCloseSyncClient(client);\n+    }\n+\n+    @Test(groups = {\"simple\"}, timeOut = TIMEOUT)\n+    public void createDatabase_withMinimalResponseConfig() throws CosmosClientException {\n+        CosmosDatabaseProperties databaseDefinition = new CosmosDatabaseProperties(CosmosDatabaseForTest.generateId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUxNTE0MQ=="}, "originalCommit": {"oid": "4239e8ba9a3cbe48a3ba2d607ea226a71bab4b73"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxODYzODIwOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwOToxNToyNlrOGRKeqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNTozNTowOFrOGRY_Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1MDY2NQ==", "bodyText": "NIT: I think pretty much all customers identifying this setting will also ask themselves whether this flag will have impact on RU charges. Would be good to document that it doesn't (at least my understanding) here - or at least in the FAQ for the feature.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420650665", "createdAt": "2020-05-06T09:15:26Z", "author": {"login": "FabianMeiswinkel"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {\n+        return noContentResponseOnWrite;\n+    }\n+\n+    /**\n+     * Sets the boolean to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If set to true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it on the client.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg4ODQxNQ==", "bodyText": "I like that idea, will document that \"this doesn't impact RU usage for read or write operations\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420888415", "createdAt": "2020-05-06T15:35:08Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {\n+        return noContentResponseOnWrite;\n+    }\n+\n+    /**\n+     * Sets the boolean to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If set to true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it on the client.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1MDY2NQ=="}, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxODY4OTgwOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwOTozMDozOFrOGRLABA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNTozNjoyNVrOGRZDAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1OTIwNA==", "bodyText": "For other similar configs we are using the Enabled suffix\nisSessionCapturingOverrideEnabled\nisConnectionReuseAcrossClientsEnabled\nshould we change this to isNoContentResponseOnWriteEnabled to be consistent with the other APIs?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420659204", "createdAt": "2020-05-06T09:30:38Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg4OTM0NA==", "bodyText": "Yes, makes sense to be consistent across these APIs, good catch @moderakh\nI will update this public surface API to reflect that.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420889344", "createdAt": "2020-05-06T15:36:25Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1OTIwNA=="}, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxODY5MjQ3OnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwOTozMToyNVrOGRLBqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNTozNzoyOVrOGRZGLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1OTYyNw==", "bodyText": "similarly\nFor other similar configs we are using the Enabled suffix\nsessionCapturingOverrideEnabled\nconnectionReuseAcrossClientsEnabled\nshould we change this to noContentResponseOnWriteEnabled to be consistent with the other APIs?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420659627", "createdAt": "2020-05-06T09:31:25Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {\n+        return noContentResponseOnWrite;\n+    }\n+\n+    /**\n+     * Sets the boolean to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If set to true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @param noContentResponseOnWrite a boolean indicating whether resource will be included in the response or not\n+     * @return current cosmosClientBuilder\n+     */\n+    public CosmosClientBuilder noContentResponseOnWrite(boolean noContentResponseOnWrite) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg5MDE1OA==", "bodyText": "This will differ from what we have on .Net side.\n@kirankumarkolli  - what do you think ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10741#discussion_r420890158", "createdAt": "2020-05-06T15:37:29Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosClientBuilder.java", "diffHunk": "@@ -291,6 +292,39 @@ public CosmosClientBuilder keyCredential(CosmosKeyCredential cosmosKeyCredential\n         return this;\n     }\n \n+    /**\n+     * Gets the boolean which indicates whether to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it\n+     * on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @return a boolean indicating whether resource will be included in the response or not\n+     */\n+    boolean isNoContentResponseOnWrite() {\n+        return noContentResponseOnWrite;\n+    }\n+\n+    /**\n+     * Sets the boolean to only return the headers and status code in Cosmos DB response\n+     * in case of Create, Update and Delete operations on CosmosItem.\n+     *\n+     * If set to true, this removes the resource from response. It reduces networking\n+     * and CPU load by not sending the resource back over the network and serializing it on the client.\n+     *\n+     * By-default, this is true.\n+     *\n+     * @param noContentResponseOnWrite a boolean indicating whether resource will be included in the response or not\n+     * @return current cosmosClientBuilder\n+     */\n+    public CosmosClientBuilder noContentResponseOnWrite(boolean noContentResponseOnWrite) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY1OTYyNw=="}, "originalCommit": {"oid": "85d8c46fd2ff71cfc6a149947731ea85a74ed261"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4469, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}