{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0NzUwNDIx", "number": 10312, "title": "Supporting sparse the test parameters", "bodyText": "The PR is to sparse the httpclient to matrix.\nTest over four scenarios:\n\nAppConfig live tests (Has parameterized setup, but no non-critical pipeline)\nKeyVault live tests (Has parameterized setup, also non-critical pipeline)\nNew KeyVault pipeline test for non-critical path: https://dev.azure.com/azure-sdk/internal/_build?definitionId=1673&_a=summary  (Non-critical pipeline POC)\nSearch live tests which does not have parameterized tests. (Backward compatibility for client without parameterized)", "createdAt": "2020-04-16T21:27:21Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312", "merged": true, "mergeCommit": {"oid": "36adda84b10c787c42a9a20106c7bf68eff5c057"}, "closed": true, "closedAt": "2020-04-17T18:28:34Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYTioKgH2gAyNDA0NzUwNDIxOjNkNGVkM2MwYWFjZTA1Y2M3YzQyNTMyZGVmNTI5Mzg3NzU4MDU5MzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYoD2EAFqTM5NTc3OTgxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3d4ed3c0aace05cc7c42532def52938775805933", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3d4ed3c0aace05cc7c42532def52938775805933", "committedDate": "2020-04-16T21:26:17Z", "message": "Supporting sparse the test parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9dfbb38a06c14bbb8666c1da4d59cd3cc407860", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a9dfbb38a06c14bbb8666c1da4d59cd3cc407860", "committedDate": "2020-04-16T22:22:15Z", "message": "Added some printouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc46e04fb43373f241c6738efca15ead9c6fc272", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc46e04fb43373f241c6738efca15ead9c6fc272", "committedDate": "2020-04-16T22:36:55Z", "message": "Fixed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1MzQ1ODM3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395345837", "createdAt": "2020-04-17T10:36:53Z", "commit": {"oid": "dc46e04fb43373f241c6738efca15ead9c6fc272"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMDozNjo1NFrOGHI8kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMDozNjo1NFrOGHI8kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDEzOTc5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    System.out.println(httpClient);\n          \n          \n            \n                                    System.out.println(serviceVersion);\n          \n          \n            \n                                    System.out.printf(\"HttpClient is %s; Service Version is %s\", httpClient, serviceVersion);", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#discussion_r410139795", "createdAt": "2020-04-17T10:36:54Z", "author": {"login": "srnagar"}, "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -618,7 +618,13 @@ public void sleep(long millis) {\n             .forEach(httpClient -> {\n                 Arrays.stream(CertificateServiceVersion.values()).filter(\n                     CertificateClientTestBase::shouldServiceVersionBeTested)\n-                    .forEach(serviceVersion -> argumentsList.add(Arguments.of(httpClient, serviceVersion)));\n+                    .forEach(serviceVersion -> {\n+                        argumentsList.add(Arguments.of(httpClient, serviceVersion));\n+                        System.out.println(\"-----------------------------------------------------------\");\n+                        System.out.println(httpClient);\n+                        System.out.println(serviceVersion);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc46e04fb43373f241c6738efca15ead9c6fc272"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NDk4NDMz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395498433", "createdAt": "2020-04-17T14:22:28Z", "commit": {"oid": "dc46e04fb43373f241c6738efca15ead9c6fc272"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c31fa3ddca00a58eecc213f657c1b1ce83cd3191", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c31fa3ddca00a58eecc213f657c1b1ce83cd3191", "committedDate": "2020-04-17T16:30:12Z", "message": "Update surefire version to 3.0.0-M4 to solve the display report issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7", "committedDate": "2020-04-17T17:02:42Z", "message": "Verified and remove extra code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjI5MzEz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395629313", "createdAt": "2020-04-17T17:10:21Z", "commit": {"oid": "a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNzoxMDoyMVrOGHWOKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNzoxMDo0N1rOGHWPMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM1NzI5MQ==", "bodyText": "Does this print out the running test?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#discussion_r410357291", "createdAt": "2020-04-17T17:10:21Z", "author": {"login": "alzimmermsft"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "diffHunk": "@@ -94,4 +94,20 @@\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+        <version>3.0.0-M4</version> <!-- {x-version-update;org.apache.maven.plugins:maven-surefire-plugin;external_dependency} -->\n+        <configuration>\n+          <rerunFailingTestsCount>3</rerunFailingTestsCount>\n+          <statelessTestsetReporter implementation=\"org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter\">\n+            <usePhrasedTestCaseMethodName>true</usePhrasedTestCaseMethodName>\n+          </statelessTestsetReporter>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM1NzU1Mw==", "bodyText": "Generally we don't want to be retrying failing tests as this could mask flakiness in our clients.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#discussion_r410357553", "createdAt": "2020-04-17T17:10:47Z", "author": {"login": "alzimmermsft"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "diffHunk": "@@ -94,4 +94,20 @@\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+        <version>3.0.0-M4</version> <!-- {x-version-update;org.apache.maven.plugins:maven-surefire-plugin;external_dependency} -->\n+        <configuration>\n+          <rerunFailingTestsCount>3</rerunFailingTestsCount>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d9be063627da32be9cddfe59dadffb81228c648", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4d9be063627da32be9cddfe59dadffb81228c648", "committedDate": "2020-04-17T17:16:07Z", "message": "Remove the failed retry count from appconfig"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjQxOTc0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395641974", "createdAt": "2020-04-17T17:28:49Z", "commit": {"oid": "4d9be063627da32be9cddfe59dadffb81228c648"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNzoyODo0OVrOGHW01w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNzoyODo0OVrOGHW01w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM2NzE5MQ==", "bodyText": "Yeah, I saw the comment on github issue last night and it only worked for reporting and wouldn't print the tests that are running on the console. @alzimmermsft has a PR that will print all running test names.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#discussion_r410367191", "createdAt": "2020-04-17T17:28:49Z", "author": {"login": "srnagar"}, "path": "sdk/appconfiguration/azure-data-appconfiguration/pom.xml", "diffHunk": "@@ -94,4 +94,20 @@\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+        <version>3.0.0-M4</version> <!-- {x-version-update;org.apache.maven.plugins:maven-surefire-plugin;external_dependency} -->\n+        <configuration>\n+          <rerunFailingTestsCount>3</rerunFailingTestsCount>\n+          <statelessTestsetReporter implementation=\"org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter\">\n+            <usePhrasedTestCaseMethodName>true</usePhrasedTestCaseMethodName>\n+          </statelessTestsetReporter>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM1NzI5MQ=="}, "originalCommit": {"oid": "a5e73e5548a7cb7a70bb4fe4ca95fc64e6e471d7"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjY0ODgx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395664881", "createdAt": "2020-04-17T18:03:11Z", "commit": {"oid": "4d9be063627da32be9cddfe59dadffb81228c648"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1Nzc5ODE1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10312#pullrequestreview-395779815", "createdAt": "2020-04-17T21:20:40Z", "commit": {"oid": "4d9be063627da32be9cddfe59dadffb81228c648"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 998, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}