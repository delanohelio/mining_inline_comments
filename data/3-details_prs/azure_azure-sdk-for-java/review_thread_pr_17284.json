{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3MDU4OTE2", "number": 17284, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMDo1NTo1M1rOE28xmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMzowOTozOVrOE2_Wiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDU0Mjk2OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMDo1NTo1M1rOHwBRKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxMDoyOFrOHxhlZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw==", "bodyText": "Curious - why did we remove the context that the name would be a UUID?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520114473", "createdAt": "2020-11-09T20:55:53Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1Mjc3OA==", "bodyText": "From the Arch Board meeting I got the impression that the name could be any String and not only valid UUIDs, is that not the case?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520852778", "createdAt": "2020-11-10T20:26:19Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1NTkxNQ==", "bodyText": "The one that can be any string is the principal Id. the role name must be a UUID", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520855915", "createdAt": "2020-11-10T20:32:13Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIxMzUxNw==", "bodyText": "Please see my other answer about UUID. Basically other Java SDKs take a String for these type of value and let the service validate it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521213517", "createdAt": "2020-11-11T09:05:52Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTYzNDM1Mg==", "bodyText": "Makes sense, I was just suggesting that we leave some kind of hint in the doc strings so that developers have a chance to get it right the first time.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521634352", "createdAt": "2020-11-11T20:57:57Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTY5MjUxOQ==", "bodyText": "I will make sure we indicate that it's a UUID in the Javadoc :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521692519", "createdAt": "2020-11-11T23:10:28Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDExNDQ3Mw=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 203}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDczOTgwOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMTo1NDoyOFrOHwDH0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxNDowMFrOHxhp3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE0NDg0OQ==", "bodyText": "should this be a UUID? I believe the service call will fail if it isn't a valid UUID string value.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520144849", "createdAt": "2020-11-09T21:54:28Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleDefinitionId The {@link KeyVaultRoleDefinition role definition} ID for the role assignment.\n+     * @param principalId The principal ID assigned to the role. This maps to the ID inside the Active Directory.\n      * @return A {@link Mono} containing the created {@link KeyVaultRoleAssignment}.\n-     * @throws NullPointerException if the {@link KeyVaultRoleAssignmentScope roleScope} or\n-     * {@link KeyVaultRoleAssignmentProperties properties} are {@code null}.\n+     * @throws NullPointerException if the {@link KeyVaultRoleScope roleScope}, {@link String roleAssignmentName},\n+     * {@link String roleDefinitionId} or {@link String principalId} are {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleAssignmentScope roleScope, KeyVaultRoleAssignmentProperties properties) {\n-        return createRoleAssignment(roleScope, UUID.randomUUID(), properties);\n+    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleScope roleScope, String roleDefinitionId, String principalId) {\n+        return createRoleAssignment(roleScope, UUID.randomUUID().toString(), roleDefinitionId, principalId);\n     }\n \n     /**\n      * Creates a {@link KeyVaultRoleAssignment}.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param name The name used to create the {@link KeyVaultRoleAssignment}. It can be any valid UUID.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleAssignmentName The roleAssignmentName used to create the {@link KeyVaultRoleAssignment}. It can be any", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 232}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1MzA1NQ==", "bodyText": "We decided to go with String and let the service validate to be consistent with other Java SDKs.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520853055", "createdAt": "2020-11-10T20:26:56Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleDefinitionId The {@link KeyVaultRoleDefinition role definition} ID for the role assignment.\n+     * @param principalId The principal ID assigned to the role. This maps to the ID inside the Active Directory.\n      * @return A {@link Mono} containing the created {@link KeyVaultRoleAssignment}.\n-     * @throws NullPointerException if the {@link KeyVaultRoleAssignmentScope roleScope} or\n-     * {@link KeyVaultRoleAssignmentProperties properties} are {@code null}.\n+     * @throws NullPointerException if the {@link KeyVaultRoleScope roleScope}, {@link String roleAssignmentName},\n+     * {@link String roleDefinitionId} or {@link String principalId} are {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleAssignmentScope roleScope, KeyVaultRoleAssignmentProperties properties) {\n-        return createRoleAssignment(roleScope, UUID.randomUUID(), properties);\n+    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleScope roleScope, String roleDefinitionId, String principalId) {\n+        return createRoleAssignment(roleScope, UUID.randomUUID().toString(), roleDefinitionId, principalId);\n     }\n \n     /**\n      * Creates a {@link KeyVaultRoleAssignment}.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param name The name used to create the {@link KeyVaultRoleAssignment}. It can be any valid UUID.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleAssignmentName The roleAssignmentName used to create the {@link KeyVaultRoleAssignment}. It can be any", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE0NDg0OQ=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 232}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTY5MzY2MQ==", "bodyText": "Resolving this based on this conversation.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521693661", "createdAt": "2020-11-11T23:14:00Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAccessControlAsyncClient.java", "diffHunk": "@@ -273,165 +279,162 @@ public String getVaultUrl() {\n     }\n \n     /**\n-     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated {@link UUID name}.\n+     * Creates a {@link KeyVaultRoleAssignment} with a randomly generated name.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleDefinitionId The {@link KeyVaultRoleDefinition role definition} ID for the role assignment.\n+     * @param principalId The principal ID assigned to the role. This maps to the ID inside the Active Directory.\n      * @return A {@link Mono} containing the created {@link KeyVaultRoleAssignment}.\n-     * @throws NullPointerException if the {@link KeyVaultRoleAssignmentScope roleScope} or\n-     * {@link KeyVaultRoleAssignmentProperties properties} are {@code null}.\n+     * @throws NullPointerException if the {@link KeyVaultRoleScope roleScope}, {@link String roleAssignmentName},\n+     * {@link String roleDefinitionId} or {@link String principalId} are {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleAssignmentScope roleScope, KeyVaultRoleAssignmentProperties properties) {\n-        return createRoleAssignment(roleScope, UUID.randomUUID(), properties);\n+    public Mono<KeyVaultRoleAssignment> createRoleAssignment(KeyVaultRoleScope roleScope, String roleDefinitionId, String principalId) {\n+        return createRoleAssignment(roleScope, UUID.randomUUID().toString(), roleDefinitionId, principalId);\n     }\n \n     /**\n      * Creates a {@link KeyVaultRoleAssignment}.\n      *\n-     * @param roleScope The {@link KeyVaultRoleAssignmentScope roleScope} of the {@link KeyVaultRoleAssignment} to\n+     * @param roleScope The {@link KeyVaultRoleScope roleScope} of the {@link KeyVaultRoleAssignment} to\n      * create.\n-     * @param name The name used to create the {@link KeyVaultRoleAssignment}. It can be any valid UUID.\n-     * @param properties Properties for the {@link KeyVaultRoleAssignment}.\n+     * @param roleAssignmentName The roleAssignmentName used to create the {@link KeyVaultRoleAssignment}. It can be any", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE0NDg0OQ=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 232}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDkzNzQ3OnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAdministrationServiceVersion.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMjo1OTowOFrOHwE-aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxODo0NTo1M1rOHxZ3qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3NTIxMQ==", "bodyText": "Are these valid version strings? I believe the service doesn't currently enforce any, but will that always be true?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520175211", "createdAt": "2020-11-09T22:59:08Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAdministrationServiceVersion.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.util.ServiceVersion;\n+\n+/**\n+ * The versions of Azure Key Vault Administration service supported by this client library.\n+ */\n+public enum KeyVaultAdministrationServiceVersion implements ServiceVersion {\n+    V7_0(\"7.0\"),\n+    V7_1(\"7.1\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE4NjM3NQ==", "bodyText": "For MHSM, no. They are new with 7.2-preview. Even if/when AKV supports any of these, it'll start at whatever version. At this point, MHSM and KV need to be in lock-step for api-version. /cc @jlichwa @amitbapat", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520186375", "createdAt": "2020-11-09T23:28:08Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAdministrationServiceVersion.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.util.ServiceVersion;\n+\n+/**\n+ * The versions of Azure Key Vault Administration service supported by this client library.\n+ */\n+public enum KeyVaultAdministrationServiceVersion implements ServiceVersion {\n+    V7_0(\"7.0\"),\n+    V7_1(\"7.1\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3NTIxMQ=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1MzY4MA==", "bodyText": "I think I should remove the older versions since they don't support KeyVaultAdministration, I think I added them because I based this class off of what we have in other KV SDKs. What do you think?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520853680", "createdAt": "2020-11-10T20:28:14Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAdministrationServiceVersion.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.util.ServiceVersion;\n+\n+/**\n+ * The versions of Azure Key Vault Administration service supported by this client library.\n+ */\n+public enum KeyVaultAdministrationServiceVersion implements ServiceVersion {\n+    V7_0(\"7.0\"),\n+    V7_1(\"7.1\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3NTIxMQ=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU2NjEyMA==", "bodyText": "Yes, I would remove these values for the Administration package.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521566120", "createdAt": "2020-11-11T18:45:53Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultAdministrationServiceVersion.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.util.ServiceVersion;\n+\n+/**\n+ * The versions of Azure Key Vault Administration service supported by this client library.\n+ */\n+public enum KeyVaultAdministrationServiceVersion implements ServiceVersion {\n+    V7_0(\"7.0\"),\n+    V7_1(\"7.1\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3NTIxMQ=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDk2NTIzOnYy", "diffSide": "RIGHT", "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMzowOTozOVrOHwFO0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoyNzowOFrOHxiDmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA==", "bodyText": "I'm not sure if this conflicts with being idiomatic to Java, but the .NET guidelines specify that the operation should be hydrated from a previous operation via a public constructor rather than a parameter on the begin... method.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520179410", "createdAt": "2020-11-09T23:09:39Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1NTM4NQ==", "bodyText": "There is a guildeline for that in Java that states: \"DO provide a way to instantiate a poller with the serialized state of another poller to begin where it left off, for example by passing the state as a parameter to the same method which started the operation, or by directly instantiating a poller with that state.\"\nDoes this mean we should accept a KeyVaultBackupOperation/KeyVaultRestoreOperation or even the poller object itself instead of the jobId? //cc @JonathanGiles, @srnagar", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r520855385", "createdAt": "2020-11-10T20:31:17Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTEyNTk0OA==", "bodyText": "Personally I think we should not overcomplicate things and move away from jobId, but I'm probably biased, maybe there's more data that backs the other option.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521125948", "createdAt": "2020-11-11T05:45:03Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTE2MTA0OA==", "bodyText": "The discussion we had in arch board was that Java, for now, does not offer rehydration of LROs. We have chosen to lazily add these as the demand arises, but I'm also aware that @srnagar is going to look into formalising a pattern to be used soon. For that reason my suggestion remains as it was in arch board - to not offer rehydration APIs here either.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521161048", "createdAt": "2020-11-11T07:15:48Z", "author": {"login": "JonathanGiles"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIxMjQ1NA==", "bodyText": "I was not sure where your suggestion stood on this so I went back to check the recording and got the impression these LROs were given approval after I mentioned the v-team thought we should have parity across Tier 1 languages. Thanks for clarifying that posture here. I think the best then will be removing the rehydration APIs for the time being until the guidelines are updated.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521212454", "createdAt": "2020-11-11T09:04:03Z", "author": {"login": "vcolin7"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTcwMDI1MA==", "bodyText": "I am working on a proposal for this and we should add this once that is finalized. Also, when this is formalized, we should add this to other libraries that have LRO APIs.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17284#discussion_r521700250", "createdAt": "2020-11-11T23:27:08Z", "author": {"login": "srnagar"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -406,33 +450,56 @@ private static LongRunningOperationStatus toLongRunningOperationStatus(String op\n     }\n \n     /**\n-     * Gets a pending {@link KeyVaultRestoreOperation full or selective restore operation} from the Key Vault.\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n+     *\n+     * @param jobId The operation identifier.\n+     * @throws NullPointerException if the {@code jobId} is null.\n+     * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId) {\n+        return beginRestore(jobId, getDefaultPollingInterval());\n+    }\n+\n+    /**\n+     * Gets a pending {@link KeyVaultRestoreOperation full restore operation} from the Key Vault.\n      *\n      * @param jobId The operation identifier.\n+     * @param pollingInterval The interval at which the operation status will be polled for.\n      * @throws NullPointerException if the {@code jobId} is null.\n      * @return A {@link PollerFlux} polling on the {@link KeyVaultRestoreOperation restore operation} status.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultRestoreOperation, Void> getRestoreOperation(String jobId) {\n+    public PollerFlux<KeyVaultRestoreOperation, Void> beginRestore(String jobId, Duration pollingInterval) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE3OTQxMA=="}, "originalCommit": {"oid": "2d1bba8f99d499c4582c56b86e785c6abe2ad53f"}, "originalPosition": 267}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2953, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}