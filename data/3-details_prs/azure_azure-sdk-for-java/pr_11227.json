{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4ODkyNjc0", "number": 11227, "title": "[TA] Make fromString method package-private", "bodyText": "fixes: #11213", "createdAt": "2020-05-16T01:10:00Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227", "merged": true, "mergeCommit": {"oid": "eeb65ad8d30ed8a3947f6ab8fb993e114e5fe861"}, "closed": true, "closedAt": "2020-05-21T17:27:30Z", "author": {"login": "mssfang"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchsFShgH2gAyNDE4ODkyNjc0OmQ4MmM2MmY0YjU5MWEzYzk0YWRmYWFiYmFiZDU0YzA5ODU0YjIyNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjQHlmAFqTQxNTczNDQxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d82c62f4b591a3c94adfaabbabd54c09854b2265", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d82c62f4b591a3c94adfaabbabd54c09854b2265", "committedDate": "2020-05-16T01:07:11Z", "message": "make fromString package-private"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDMzMjIw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#pullrequestreview-413033220", "createdAt": "2020-05-16T01:10:27Z", "commit": {"oid": "d82c62f4b591a3c94adfaabbabd54c09854b2265"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwMToxMDoyN1rOGWXN_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwMToxMDoyN1rOGWXN_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEwMjI2OA==", "bodyText": "Redundant null check that catched in the code quality process.\n[ERROR] Redundant nullcheck of documentSentimentLabel, which is known to be non-null in com.azure.ai.textanalytics.AnalyzeSentimentAsyncClient.convertToAnalyzeSentimentResult(DocumentSentiment) [com.azure.ai.textanalytics.AnalyzeSentimentAsyncClient] Redundant null check at AnalyzeSentimentAsyncClient.java:[line 147] RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE\n[ERROR] Redundant nullcheck of sentenceSentimentLabel, which is known to be non-null in com.azure.ai.textanalytics.AnalyzeSentimentAsyncClient.lambda$convertToAnalyzeSentimentResult$9(SentenceSentiment) [com.azure.ai.textanalytics.AnalyzeSentimentAsyncClient] Redundant null check at AnalyzeSentimentAsyncClient.java:[line 161] RCN_REDUNDANT_NULLCHECK_OF_NONNULL_", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#discussion_r426102268", "createdAt": "2020-05-16T01:10:27Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/AnalyzeSentimentAsyncClient.java", "diffHunk": "@@ -144,43 +141,21 @@\n      * @return The {@link AnalyzeSentimentResult} to be returned by the SDK.\n      */\n     private AnalyzeSentimentResult convertToAnalyzeSentimentResult(DocumentSentiment documentSentiment) {\n-        // Document text sentiment\n-        final TextSentiment documentSentimentLabel = TextSentiment.fromString(\n-            documentSentiment.getSentiment().toString());\n-        if (documentSentimentLabel == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d82c62f4b591a3c94adfaabbabd54c09854b2265"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c22acec4615badd248e370adc0241c627c0082c8", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c22acec4615badd248e370adc0241c627c0082c8", "committedDate": "2020-05-16T01:15:50Z", "message": "remove public modifiler in fromString()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9ef54069c9a599fc03bf09ad1a957a4327023e31", "committedDate": "2020-05-16T02:05:45Z", "message": "rename parameter name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzODQ0MjA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#pullrequestreview-413844209", "createdAt": "2020-05-18T18:38:14Z", "commit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxODozODoxNVrOGXDHqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxODo0Mjo1MFrOGXDQbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMTU0Ng==", "bodyText": "don't need this>", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#discussion_r426821546", "createdAt": "2020-05-18T18:38:15Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/WarningCode.java", "diffHunk": "@@ -30,7 +30,7 @@\n      * @return The corresponding {@link WarningCode}.\n      */\n     @JsonCreator", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMjAxNw==", "bodyText": "Is this a generated model https://github.com/Azure/azure-sdk-for-java/pull/11227/files#diff-2683c3cab1fd268997bc5df017c80afcL3?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#discussion_r426822017", "createdAt": "2020-05-18T18:39:17Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/WarningCode.java", "diffHunk": "@@ -30,7 +30,7 @@\n      * @return The corresponding {@link WarningCode}.\n      */\n     @JsonCreator", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMTU0Ng=="}, "originalCommit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjgyMzc5MQ==", "bodyText": "This started coming up from the current change?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#discussion_r426823791", "createdAt": "2020-05-18T18:42:50Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/AnalyzeSentimentAsyncClient.java", "diffHunk": "@@ -144,43 +141,21 @@\n      * @return The {@link AnalyzeSentimentResult} to be returned by the SDK.\n      */\n     private AnalyzeSentimentResult convertToAnalyzeSentimentResult(DocumentSentiment documentSentiment) {\n-        // Document text sentiment\n-        final TextSentiment documentSentimentLabel = TextSentiment.fromString(\n-            documentSentiment.getSentiment().toString());\n-        if (documentSentimentLabel == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEwMjI2OA=="}, "originalCommit": {"oid": "d82c62f4b591a3c94adfaabbabd54c09854b2265"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MTQzNDY2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#pullrequestreview-414143466", "createdAt": "2020-05-19T06:42:49Z", "commit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNjo0Mjo1MFrOGXR9HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNjo0Mjo1MFrOGXR9HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA2NDYwNQ==", "bodyText": "We don't want to check for nulls anymore?\nInitially, you were checking for null for sentenceSentimentLabel and documentSentimentLabel and throwing an exception.\nIs it fine for sentimentLabel and documentSentimentLabel to be null?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#discussion_r427064605", "createdAt": "2020-05-19T06:42:50Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/AnalyzeSentimentAsyncClient.java", "diffHunk": "@@ -144,43 +141,21 @@\n      * @return The {@link AnalyzeSentimentResult} to be returned by the SDK.\n      */\n     private AnalyzeSentimentResult convertToAnalyzeSentimentResult(DocumentSentiment documentSentiment) {\n-        // Document text sentiment\n-        final TextSentiment documentSentimentLabel = TextSentiment.fromString(\n-            documentSentiment.getSentiment().toString());\n-        if (documentSentimentLabel == null) {\n-            // Not throw exception for an invalid Sentiment type because we should not skip processing the\n-            // other response. It is a service issue.\n-            logger.logExceptionAsWarning(\n-                new RuntimeException(String.format(Locale.ROOT, \"'%s' is not valid text sentiment.\",\n-                    documentSentiment.getSentiment())));\n-        }\n-\n         final SentimentConfidenceScorePerLabel confidenceScorePerLabel = documentSentiment.getConfidenceScores();\n-\n         // Sentence text sentiment\n         final List<SentenceSentiment> sentenceSentiments = documentSentiment.getSentences().stream()\n             .map(sentenceSentiment -> {\n-                final TextSentiment sentenceSentimentLabel = TextSentiment.fromString(\n-                    sentenceSentiment.getSentiment().toString());\n-                if (sentenceSentimentLabel == null) {\n-                    // Not throw exception for an invalid Sentiment type because we should not skip processing the\n-                    // other response. It is a service issue.\n-                    logger.logExceptionAsWarning(\n-                        new RuntimeException(String.format(Locale.ROOT, \"'%s' is not valid text sentiment.\",\n-                            sentenceSentiment.getSentiment())));\n-                }\n                 final SentimentConfidenceScorePerLabel confidenceScorePerSentence =\n                     sentenceSentiment.getConfidenceScores();\n-\n                 return new SentenceSentiment(sentenceSentiment.getText(),\n-                    sentenceSentimentLabel,\n+                    sentenceSentiment.getSentiment().toString(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ef54069c9a599fc03bf09ad1a957a4327023e31"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e521c53467a64b97443928f4c61915b7c92b239e", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e521c53467a64b97443928f4c61915b7c92b239e", "committedDate": "2020-05-20T02:51:57Z", "message": "have null check back"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04087e09c49b2a1caeaa8525aa8762dc18961f25", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/04087e09c49b2a1caeaa8525aa8762dc18961f25", "committedDate": "2020-05-20T03:41:56Z", "message": "remove Transform conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5848b1d8561ef819f1841171968f6edb6f1afc33", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5848b1d8561ef819f1841171968f6edb6f1afc33", "committedDate": "2020-05-20T03:48:31Z", "message": "hide fromString9)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fc12f696fa02c0cc73e4bf1c63b1e2aaaca15cd", "author": {"user": {"login": "mssfang", "name": "Shawn Fang"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7fc12f696fa02c0cc73e4bf1c63b1e2aaaca15cd", "committedDate": "2020-05-20T06:10:09Z", "message": "null check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NzM0NDE3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11227#pullrequestreview-415734417", "createdAt": "2020-05-20T21:40:12Z", "commit": {"oid": "7fc12f696fa02c0cc73e4bf1c63b1e2aaaca15cd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4336, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}