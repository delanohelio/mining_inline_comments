{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4MjMyMDEz", "number": 14756, "title": "feat(design): Query API design", "bodyText": "", "createdAt": "2020-09-02T23:02:13Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756", "merged": true, "mergeCommit": {"oid": "21787ac242bec3ab23cb15da977a18a2d3db23d4"}, "closed": true, "closedAt": "2020-09-03T17:22:02Z", "author": {"login": "vinagesh"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFEPYwgH2gAyNDc4MjMyMDEzOjk1ZDZjMDg3ZmQzY2E5YWQ2MGExYjJkNWQ1MWQyYTdhYzkyNjMxMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFE8yCAFqTQ4MTM4ODY1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139", "committedDate": "2020-09-02T23:03:17Z", "message": "feat(design): Query API design"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60323f180602f5c520beccc1aa2cb2b7a44b7aec", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/60323f180602f5c520beccc1aa2cb2b7a44b7aec", "committedDate": "2020-09-02T23:00:54Z", "message": "feat(design): Query API design"}, "afterCommit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139", "author": {"user": {"login": "vinagesh", "name": "Sindhu Nagesh"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139", "committedDate": "2020-09-02T23:03:17Z", "message": "feat(design): Query API design"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzc1NTk0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#pullrequestreview-481375594", "createdAt": "2020-09-02T23:14:42Z", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzgzNjAy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#pullrequestreview-481383602", "createdAt": "2020-09-02T23:37:47Z", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzg3Mjg3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#pullrequestreview-481387287", "createdAt": "2020-09-02T23:48:44Z", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo0ODo0NFrOHMP0Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo0ODo0NFrOHMP0Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjYwNDEzMQ==", "bodyText": "query as object?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#discussion_r482604131", "createdAt": "2020-09-02T23:48:44Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/API design.md", "diffHunk": "@@ -771,12 +771,55 @@ public DigitalTwinsResponse<Void> updateComponentWithResponse(String digitalTwin\n </details>\n \n ## Query\n-<details>\n-<summary><b>APIs</b></summary>\n+<details><summary><b>Async APIs</b></summary>\n+\n+  ```java\n+  /**\n+  * Query digital twins.\n+  *\n+  * @param query The query string, in SQL-like syntax.\n+  * @return A {@link PagedFlux} of application/json for the query result items.\n+  */\n+  @ServiceMethod(returns = ReturnType.COLLECTION)\n+  public PagedFlux<String> query(String query)\n+\n+  /**\n+  * Query digital twins.\n+  *\n+  * @param query The query string, in SQL-like syntax.\n+  * @param clazz The model class to convert the query response to.\n+  * @param <T> The generic type to convert the query response to.\n+  * @return A {@link PagedFlux} of application/json for the query result items.\n+  */\n+  @ServiceMethod(returns = ReturnType.COLLECTION)\n+  public <T> PagedFlux<T> query(String query, Class<T> clazz)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzg4MDQy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#pullrequestreview-481388042", "createdAt": "2020-09-02T23:51:06Z", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo1MTowNlrOHMP3NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo1MTowNlrOHMP3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjYwNDg1Mw==", "bodyText": "should the naming be queryTwins? I know in dotnet it was queryAsync but thinking since it may be more meaningful", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#discussion_r482604853", "createdAt": "2020-09-02T23:51:06Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/API design.md", "diffHunk": "@@ -771,12 +771,55 @@ public DigitalTwinsResponse<Void> updateComponentWithResponse(String digitalTwin\n </details>\n \n ## Query\n-<details>\n-<summary><b>APIs</b></summary>\n+<details><summary><b>Async APIs</b></summary>\n+\n+  ```java\n+  /**\n+  * Query digital twins.\n+  *\n+  * @param query The query string, in SQL-like syntax.\n+  * @return A {@link PagedFlux} of application/json for the query result items.\n+  */\n+  @ServiceMethod(returns = ReturnType.COLLECTION)\n+  public PagedFlux<String> query(String query)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzg4NjU0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#pullrequestreview-481388654", "createdAt": "2020-09-02T23:52:51Z", "commit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo1Mjo1MlrOHMP5dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzo1Mjo1MlrOHMP5dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjYwNTQzMA==", "bodyText": "Don't you need withResponse?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14756#discussion_r482605430", "createdAt": "2020-09-02T23:52:52Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/API design.md", "diffHunk": "@@ -771,12 +771,55 @@ public DigitalTwinsResponse<Void> updateComponentWithResponse(String digitalTwin\n </details>\n \n ## Query\n-<details>\n-<summary><b>APIs</b></summary>\n+<details><summary><b>Async APIs</b></summary>\n+\n+  ```java\n+  /**\n+  * Query digital twins.\n+  *\n+  * @param query The query string, in SQL-like syntax.\n+  * @return A {@link PagedFlux} of application/json for the query result items.\n+  */\n+  @ServiceMethod(returns = ReturnType.COLLECTION)\n+  public PagedFlux<String> query(String query)\n+\n+  /**\n+  * Query digital twins.\n+  *\n+  * @param query The query string, in SQL-like syntax.\n+  * @param clazz The model class to convert the query response to.\n+  * @param <T> The generic type to convert the query response to.\n+  * @return A {@link PagedFlux} of application/json for the query result items.\n+  */\n+  @ServiceMethod(returns = ReturnType.COLLECTION)\n+  public <T> PagedFlux<T> query(String query, Class<T> clazz)\n+  ```\n+</details>\n \n+<details><summary><b>Sync APIs</b></summary>\n \n ```java\n-TODO:\n+/**\n+* Query digital twins.\n+*\n+* @param query The query string, in SQL-like syntax.\n+* @param context Additional context that is passed through the Http pipeline during the service call.\n+* @return A {@link PagedIterable} of application/json for the query result items.\n+*/\n+@ServiceMethod(returns = ReturnType.COLLECTION)\n+public PagedIterable<String> query(String query, Context context)\n+\n+/**\n+* Query digital twins.\n+*\n+* @param query The query string, in SQL-like syntax.\n+* @param context Additional context that is passed through the Http pipeline during the service call.\n+* @param clazz The model class to convert the query response to.\n+* @param <T> The generic type to convert the query response to.\n+* @return A {@link PagedIterable} of application/json for the query result items.\n+*/\n+@ServiceMethod(returns = ReturnType.COLLECTION)\n+public <T> PagedIterable<T> query(String query, Class<T> clazz, Context context)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95d6c087fd3ca9ad60a1b2d5d51d2a7ac9263139"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4845, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}