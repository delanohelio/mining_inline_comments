{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyMTY0ODg2", "number": 17615, "title": "Add resource searching sample description", "bodyText": "Add resource searching description using ResourcePatternResolver.\nAdd Multipart upload section", "createdAt": "2020-11-17T06:07:21Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615", "merged": true, "mergeCommit": {"oid": "d267e4a57bec031df71434dfb191ede84cd19207"}, "closed": true, "closedAt": "2020-11-19T08:25:33Z", "author": {"login": "moarychan"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddTJs_AH2gAyNTIyMTY0ODg2OmE3MWYxMzA0M2I5MThkNjkxYTcxZDEwZmNjNWMzZjExMDE5OTM1Zjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdd-bT3gFqTUzNDE3NjI1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a71f13043b918d691a71d10fcc5c3f11019935f8", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a71f13043b918d691a71d10fcc5c3f11019935f8", "committedDate": "2020-11-17T05:59:50Z", "message": "Add resource searching sample description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMjAxMzc2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#pullrequestreview-532201376", "createdAt": "2020-11-17T10:03:08Z", "commit": {"oid": "a71f13043b918d691a71d10fcc5c3f11019935f8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMDowMzowOVrOH0tRXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMDowMzowOVrOH0tRXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyOTcyNg==", "bodyText": "We should combine all these code into one code block and add some descriptions about how to search resources.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r525029726", "createdAt": "2020-11-17T10:03:09Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,38 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Inject the builder bean.\n+\n+    ```java", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a71f13043b918d691a71d10fcc5c3f11019935f8"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bd3359594616955087f61d8e2fc2ee64bb7573f", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5bd3359594616955087f61d8e2fc2ee64bb7573f", "committedDate": "2020-11-18T02:38:49Z", "message": "Combine the sample code and comment in java code block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a7654cd75278e0a9d369cf7210fb38383deb83d", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5a7654cd75278e0a9d369cf7210fb38383deb83d", "committedDate": "2020-11-18T03:02:19Z", "message": "Simple the sample code and comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17899d3e1e28dea36f978924a56265c7f809e8a5", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/17899d3e1e28dea36f978924a56265c7f809e8a5", "committedDate": "2020-11-18T04:55:11Z", "message": "Add Multipart upload section"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5647a1dc76163b97d1e0b826bff22d07ded11cde", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5647a1dc76163b97d1e0b826bff22d07ded11cde", "committedDate": "2020-11-19T03:48:48Z", "message": "Update multipart upload description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "committedDate": "2020-11-19T03:50:18Z", "message": "Update link"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MDg4MzE1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#pullrequestreview-534088315", "createdAt": "2020-11-19T05:17:37Z", "commit": {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwNToxNzozOFrOH2NHcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwNToyMToxOFrOH2NL1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMDA0OA==", "bodyText": "Is there a Java sdk implementation link for this?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526600048", "createdAt": "2020-11-19T05:17:38Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());\n+Resource[] resources = storageResourcePatternResolver.getResources(searchPattern);\n+Resource resource = storageResourcePatternResolver.getResource(searchLocation);\n+```\n+\n+#### Multipart upload\n+Files larger than 4 MiB will be uploaded to Azure Storage in parallel. Learn more at [Upload in parallel][storage-blob-scalable-app-upload-files].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMDM4OA==", "bodyText": "We could remove this line, as the code will show this creation.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526600388", "createdAt": "2020-11-19T05:18:49Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMTE3NA==", "bodyText": "Please add an empty line between these code lines.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526601174", "createdAt": "2020-11-19T05:21:18Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe52fe40fc6a118a413b58c3f7482f408ce04050", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fe52fe40fc6a118a413b58c3f7482f408ce04050", "committedDate": "2020-11-19T06:00:41Z", "message": "revised according to review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MTY2MjEy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#pullrequestreview-534166212", "createdAt": "2020-11-19T08:10:42Z", "commit": {"oid": "fe52fe40fc6a118a413b58c3f7482f408ce04050"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODoxMDo0MlrOH2RF3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODoxMDo0MlrOH2RF3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY2NTE4MQ==", "bodyText": "nit: any sources of this 4 MiB?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526665181", "createdAt": "2020-11-19T08:10:42Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());\n+\n+Resource[] resources = storageResourcePatternResolver.getResources(searchPattern);\n+Resource resource = storageResourcePatternResolver.getResource(searchLocation);\n+```\n+\n+#### Multipart upload\n+Files larger than 4 MiB will be uploaded to Azure Storage in parallel.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe52fe40fc6a118a413b58c3f7482f408ce04050"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MTc2MjU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#pullrequestreview-534176256", "createdAt": "2020-11-19T08:24:59Z", "commit": {"oid": "fe52fe40fc6a118a413b58c3f7482f408ce04050"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 29, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}