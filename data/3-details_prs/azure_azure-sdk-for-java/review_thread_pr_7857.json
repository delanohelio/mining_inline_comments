{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Mjg1MDc3", "number": 7857, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTowMjozOVrODcDzFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxNToyN1rODcEAaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzQ4OTUwOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTowMjozOVrOFj50sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTowMjozOVrOFj50sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5MTg1Ng==", "bodyText": "This type was created in this PR so that the AzureFileStore type can accurately say it is supported, but it will be given actual functionality in a later PR when setting blob/file attributes is added.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373191856", "createdAt": "2020-01-30T21:02:39Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "diffHunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.blob.nio;\n+\n+import java.nio.file.attribute.FileAttributeView;\n+\n+/**\n+ * Provides support for properties specific to Azure Blob Storage such as tier.\n+ *\n+ * {@inheritDoc}\n+ */\n+public class AzureStorageFileAttributeView implements FileAttributeView {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b61594dfe08b46562de6f826ea5116cb068d39e3"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzUwNzczOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTowOTozNlrOFj5_-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMDo1MzowOVrOFj-pfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NDc0Ng==", "bodyText": "why is the string for this azureStorage and not AzureStorage", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373194746", "createdAt": "2020-01-30T21:09:36Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "diffHunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.blob.nio;\n+\n+import java.nio.file.attribute.FileAttributeView;\n+\n+/**\n+ * Provides support for properties specific to Azure Blob Storage such as tier.\n+ *\n+ * {@inheritDoc}\n+ */\n+public class AzureStorageFileAttributeView implements FileAttributeView {\n+\n+    /**\n+     * Returns {@code \"azureStorage\"}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzIwMTYwMQ==", "bodyText": "just asking cause we call containers AzureBlobContainer", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373201601", "createdAt": "2020-01-30T21:25:24Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "diffHunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.blob.nio;\n+\n+import java.nio.file.attribute.FileAttributeView;\n+\n+/**\n+ * Provides support for properties specific to Azure Blob Storage such as tier.\n+ *\n+ * {@inheritDoc}\n+ */\n+public class AzureStorageFileAttributeView implements FileAttributeView {\n+\n+    /**\n+     * Returns {@code \"azureStorage\"}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NDc0Ng=="}, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI3MDkwOQ==", "bodyText": "It seems the names of other attribute views begins with a lower case letter", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373270909", "createdAt": "2020-01-31T00:53:09Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureStorageFileAttributeView.java", "diffHunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.storage.blob.nio;\n+\n+import java.nio.file.attribute.FileAttributeView;\n+\n+/**\n+ * Provides support for properties specific to Azure Blob Storage such as tier.\n+ *\n+ * {@inheritDoc}\n+ */\n+public class AzureStorageFileAttributeView implements FileAttributeView {\n+\n+    /**\n+     * Returns {@code \"azureStorage\"}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NDc0Ng=="}, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzUxNjY0OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxMjo1OFrOFj6FqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxMjo1OFrOFj6FqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NjIwMQ==", "bodyText": "Map.of was introduced in JDK 9, this will need to be replaced with a static initializer.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373196201", "createdAt": "2020-01-30T21:12:58Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "diffHunk": "@@ -22,6 +25,11 @@\n     private final ClientLogger logger = new ClientLogger(AzureFileStore.class);\n     private final AzureFileSystem parentFileSystem;\n     private final BlobContainerClient containerClient;\n+    private static final Map<Class<? extends FileAttributeView>, String> supportedAttributeViews = Map.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzUxNzkyOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxMzoyN1rOFj6Gbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxMzoyN1rOFj6Gbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NjM5OA==", "bodyText": "Let's make this value a constant.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373196398", "createdAt": "2020-01-30T21:13:27Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "diffHunk": "@@ -54,14 +62,22 @@ public String name() {\n     }\n \n     /**\n+     * Returns the {@code String \"AzureBlobContainer\"} to indicate that the file store is backed by a remote blob\n+     * container in Azure Storage.\n+     *\n      * {@inheritDoc}\n      */\n     @Override\n     public String type() {\n-        return null;\n+        return \"AzureBlobContainer\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzUyMTg1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxNDo1MVrOFj6IzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTowNzoxMFrOFj-21A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NzAwNA==", "bodyText": "Would -1 or a public constant be a better value for this to have clear indication that this is a unique value and shouldn't be used to determine code paths or in validation.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373197004", "createdAt": "2020-01-30T21:14:51Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "diffHunk": "@@ -70,46 +86,54 @@ public boolean isReadOnly() {\n     }\n \n     /**\n+     * Containers do not limit the amount of data stored. This method will always return max long.\n+     *\n      * {@inheritDoc}\n      */\n     @Override\n     public long getTotalSpace() throws IOException {\n-        return 0;\n+        return Long.MAX_VALUE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI3NDMyNA==", "bodyText": "I imagine there might be scenarios where customers might try to compare the amount of space in a store with the (possibly predicted) amount of data they have. In that case, a getTotalSpace() > dataSize check would always fail. Just speculation, though. Thoughts?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373274324", "createdAt": "2020-01-31T01:07:10Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "diffHunk": "@@ -70,46 +86,54 @@ public boolean isReadOnly() {\n     }\n \n     /**\n+     * Containers do not limit the amount of data stored. This method will always return max long.\n+     *\n      * {@inheritDoc}\n      */\n     @Override\n     public long getTotalSpace() throws IOException {\n-        return 0;\n+        return Long.MAX_VALUE;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NzAwNA=="}, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzUyMzYxOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxNToyN1rOFj6Jzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxNToyN1rOFj6Jzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NzI2Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    throw new UnsupportedOperationException(\"No FileStoreAttributeViews are currently supported.\");\n          \n          \n            \n                    throw new UnsupportedOperationException(\"FileStoreAttributeViews aren't supported.\");\n          \n      \n    \n    \n  \n\nIndicating currently isn't needed, let's be more blunt on the exception message.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7857#discussion_r373197262", "createdAt": "2020-01-30T21:15:27Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-blob-nio/src/main/java/com/azure/storage/blob/nio/AzureFileStore.java", "diffHunk": "@@ -118,10 +142,13 @@ public boolean supportsFileAttributeView(String s) {\n     }\n \n     /**\n+     * This method always throws an {@code UnsupportedOperationException} as no {@link FileStoreAttributeView} is\n+     * currently supported.\n+     *\n      * {@inheritDoc}\n      */\n     @Override\n     public Object getAttribute(String s) throws IOException {\n-        return null;\n+        throw new UnsupportedOperationException(\"No FileStoreAttributeViews are currently supported.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108f44380cbca68c7c138635b09171f8853e041b"}, "originalPosition": 120}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3275, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}