{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MDMwNjE3", "number": 17766, "title": "Prevent Checkstyles on External Code", "bodyText": "This PR adds an exclusion rule to the Checkstyle configuration for azure-cosmos to prevent including files from external code sources in the check. This is different than marking the files for Checkstyle suppressions as suppressions still run Checkstyle validation but prevent warnings/errors from being raised. Locally this reduced running checkstyle:check on azure-cosmos from 5 to 6 minutes to around 2 minutes.", "createdAt": "2020-11-23T22:21:07Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17766", "merged": true, "mergeCommit": {"oid": "9a3f1bc3e11891d28abdca608e7e24687da146eb"}, "closed": true, "closedAt": "2020-11-24T23:19:16Z", "author": {"login": "alzimmermsft"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfcu0VAH2gAyNTI2MDMwNjE3OjQ2YTMyOGJkMjNkNzg1ZDJlNTY3NzY4MDI0OGEzMjMxNDhmNGY3ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfxkHYgH2gAyNTI2MDMwNjE3OjZiOGQ5MDhlNjQ4NTc0MTdhNThhMWI4ODM3MzMxZjliY2JjMDI5ODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46a328bd23d785d2e5677680248a323148f4f781", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/46a328bd23d785d2e5677680248a323148f4f781", "committedDate": "2020-11-23T22:17:22Z", "message": "Exclude code from external libraries being included in Checkstyle checking"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2OTUyODU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17766#pullrequestreview-536952856", "createdAt": "2020-11-24T00:38:01Z", "commit": {"oid": "46a328bd23d785d2e5677680248a323148f4f781"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDozODowMlrOH4k6PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDozODowMlrOH4k6PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA4NzAzNg==", "bodyText": "@alzimmermsft - how does the exclusion work ?\non groupId / artifiactId / version or some sort of regex ?\nBecause I see 2 guava exclusions, but only one apachecommons, however, there are 3 apache commons libraries used : https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/cosmos/cgmanifest.json", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17766#discussion_r529087036", "createdAt": "2020-11-24T00:38:02Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/pom.xml", "diffHunk": "@@ -206,6 +206,16 @@ Licensed under the MIT License.\n           <skip>true</skip>\n         </configuration>\n       </plugin>\n+\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-checkstyle-plugin</artifactId>\n+        <version>3.1.0</version> <!-- {x-version-update;org.apache.maven.plugins:maven-checkstyle-plugin;external_dependency} -->\n+        <configuration>\n+          <excludes>**/apachecommons/**/*,**/guava25/**/*,**/guava27/**/*,**/uuid/**/*</excludes>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46a328bd23d785d2e5677680248a323148f4f781"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MDE2NDk1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17766#pullrequestreview-538016495", "createdAt": "2020-11-24T22:23:54Z", "commit": {"oid": "46a328bd23d785d2e5677680248a323148f4f781"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMjoyMzo1NFrOH5YzKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMjoyMzo1NFrOH5YzKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTkzNzE5NQ==", "bodyText": "Makes sense, thanks @alzimmermsft", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17766#discussion_r529937195", "createdAt": "2020-11-24T22:23:54Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/pom.xml", "diffHunk": "@@ -206,6 +206,16 @@ Licensed under the MIT License.\n           <skip>true</skip>\n         </configuration>\n       </plugin>\n+\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-checkstyle-plugin</artifactId>\n+        <version>3.1.0</version> <!-- {x-version-update;org.apache.maven.plugins:maven-checkstyle-plugin;external_dependency} -->\n+        <configuration>\n+          <excludes>**/apachecommons/**/*,**/guava25/**/*,**/guava27/**/*,**/uuid/**/*</excludes>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA4NzAzNg=="}, "originalCommit": {"oid": "46a328bd23d785d2e5677680248a323148f4f781"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6a40bd5154f5e9eafd9519c67dfe7a83a78c5d3", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b6a40bd5154f5e9eafd9519c67dfe7a83a78c5d3", "committedDate": "2020-11-24T22:31:22Z", "message": "Merge branch 'master' into AzCosmos_PreventCheckstyleOnShadedCode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b8d908e64857417a58a1b8837331f9bcbc02984", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6b8d908e64857417a58a1b8837331f9bcbc02984", "committedDate": "2020-11-24T22:33:41Z", "message": "Add comment explaining the excludes configuration"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1667, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}