{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMjIxMDg3", "number": 13808, "title": "add eventhub integration test", "bodyText": "", "createdAt": "2020-08-05T08:09:06Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808", "merged": true, "mergeCommit": {"oid": "507d9410f619a38def769d9aeab9e92f923ee0fe"}, "closed": true, "closedAt": "2020-08-14T06:15:04Z", "author": {"login": "lu-cheng"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc72njAgH2gAyNDYzMjIxMDg3OmYyZjYxY2NlYzM2ZTM0NzdiNTdkNWFiZjkxNGJjMzA2MTA4MjI5ZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-uZS9gFqTQ2NzMyOTI3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f2f61ccec36e3477b57d5abf914bc306108229f0", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f2f61ccec36e3477b57d5abf914bc306108229f0", "committedDate": "2020-08-05T08:05:41Z", "message": "add eventhub integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "784a9974be9b3fc5ae078d853b77e3dbd2bcc4ff", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/784a9974be9b3fc5ae078d853b77e3dbd2bcc4ff", "committedDate": "2020-08-05T08:54:23Z", "message": "modify pom verify versions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMTQzNDEz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-462143413", "createdAt": "2020-08-06T02:23:25Z", "commit": {"oid": "784a9974be9b3fc5ae078d853b77e3dbd2bcc4ff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMjoyMzoyNVrOG8g7TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNToxMDowOFrOG8jgsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjEwNzIxMg==", "bodyText": "We don't need this gitignore file since there's already one in the project.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#discussion_r466107212", "createdAt": "2020-08-06T02:23:25Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-cloud-test-eventhubs/.gitignore", "diffHunk": "@@ -0,0 +1,33 @@\n+HELP.md", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "784a9974be9b3fc5ae078d853b77e3dbd2bcc4ff"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE0OTU1Mw==", "bodyText": "We can't do integration this way, this is the integration test for EventHub client, not for Spring Cloud Stream Binder.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#discussion_r466149553", "createdAt": "2020-08-06T05:10:08Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-cloud-test-eventhubs/src/test/java/com/microsoft/azure/eventhubs/EventhubIntegrationTests.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package com.microsoft.azure.eventhubs;\n+\n+import com.azure.core.util.IterableStream;\n+import com.azure.messaging.eventhubs.EventHubClientBuilder;\n+import com.azure.messaging.eventhubs.EventHubConsumerClient;\n+import com.azure.messaging.eventhubs.models.EventPosition;\n+import com.azure.messaging.eventhubs.models.PartitionEvent;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.cloud.stream.annotation.EnableBinding;\n+import org.springframework.cloud.stream.messaging.Source;\n+import org.springframework.messaging.support.GenericMessage;\n+\n+import static com.azure.messaging.eventhubs.EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@EnableBinding(Source.class)\n+@SpringBootTest\n+class EventhubIntegrationTests {\n+\n+    private static final String MESSAGE = \"Azure Spring Cloud EventHub Test\";\n+\n+    @Value(\"${spring.cloud.azure.eventhub.connection-string}\")\n+    private String connectionString;\n+\n+    @Value(\"${spring.cloud.stream.bindings.input.destination}\")\n+    private String eventHubName;\n+\n+    @Test\n+    void integrationTest(@Autowired Source source) {\n+        source.output().send(new GenericMessage<>(MESSAGE));\n+\n+        EventHubConsumerClient consumerClient = new EventHubClientBuilder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "784a9974be9b3fc5ae078d853b77e3dbd2bcc4ff"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f572c0ca1ca8b10ee93b4d9e42c9f0c1f9dd3259", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f572c0ca1ca8b10ee93b4d9e42c9f0c1f9dd3259", "committedDate": "2020-08-06T05:15:56Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce2aa9532e571b7f00f8eedb1f39f871b0dc60b4", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ce2aa9532e571b7f00f8eedb1f39f871b0dc60b4", "committedDate": "2020-08-10T06:01:33Z", "message": "modify integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47a75c553c4a7f14f009e906156fe29c71ea055d", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/47a75c553c4a7f14f009e906156fe29c71ea055d", "committedDate": "2020-08-10T06:02:16Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e586a00e8155c083b326162487a9469887ba8d6c", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e586a00e8155c083b326162487a9469887ba8d6c", "committedDate": "2020-08-10T06:33:49Z", "message": "modify pom version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "172651932a0484f23e4b5a63dac26d0947625b1e", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/172651932a0484f23e4b5a63dac26d0947625b1e", "committedDate": "2020-08-10T07:28:54Z", "message": "Modified according to Checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7676247c5776d4b48664de12acb665f60b5353a", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e7676247c5776d4b48664de12acb665f60b5353a", "committedDate": "2020-08-10T08:21:06Z", "message": "Modified according to Checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDM5MDk3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-464039097", "createdAt": "2020-08-10T08:26:34Z", "commit": {"oid": "e7676247c5776d4b48664de12acb665f60b5353a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoyNjozNVrOG-Fgew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoyNzoxNlrOG-FhtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc1NTEzMQ==", "bodyText": "This gitignore is not necessary.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#discussion_r467755131", "createdAt": "2020-08-10T08:26:35Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-cloud-test-eventhubs/.gitignore", "diffHunk": "@@ -0,0 +1,32 @@\n+target/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7676247c5776d4b48664de12acb665f60b5353a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc1NTQ0NQ==", "bodyText": "Integration test should ends with IT?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#discussion_r467755445", "createdAt": "2020-08-10T08:27:16Z", "author": {"login": "chenrujun"}, "path": "sdk/spring/azure-spring-cloud-test-eventhubs/src/test/java/com/microsoft/azure/eventhubs/EventHubIntegrationTests.java", "diffHunk": "@@ -0,0 +1,31 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.microsoft.azure.eventhubs;\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.cloud.stream.annotation.EnableBinding;\n+import org.springframework.cloud.stream.messaging.Source;\n+import org.springframework.messaging.support.GenericMessage;\n+\n+@EnableBinding(Source.class)\n+@SpringBootTest\n+class EventHubIntegrationTests {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7676247c5776d4b48664de12acb665f60b5353a"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6d5ae3be63c13086bd86b4404d5083ce44bf937", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e6d5ae3be63c13086bd86b4404d5083ce44bf937", "committedDate": "2020-08-10T08:34:46Z", "message": "Delete .gitgnore file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4a0a41722475ff55dbbcb13944ee9d7f769ab19", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e4a0a41722475ff55dbbcb13944ee9d7f769ab19", "committedDate": "2020-08-10T08:36:09Z", "message": "Rename EventHubIntegrationTests.java to EventHubIT.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fb5200a357f5eb54fc01b0de6069a86d07fb970", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9fb5200a357f5eb54fc01b0de6069a86d07fb970", "committedDate": "2020-08-10T08:36:42Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDYzMzQx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-464063341", "createdAt": "2020-08-10T09:04:58Z", "commit": {"oid": "9fb5200a357f5eb54fc01b0de6069a86d07fb970"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53d7f2f3cc44cbf116f9d1d6ad8c194b59fcffc4", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/53d7f2f3cc44cbf116f9d1d6ad8c194b59fcffc4", "committedDate": "2020-08-11T02:27:07Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ac2b2b8947ffc27c3a9fd55ab751278c164e737", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ac2b2b8947ffc27c3a9fd55ab751278c164e737", "committedDate": "2020-08-11T03:29:42Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04f0490a27f9e7b45740f0cbae9a2e188af094d1", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/04f0490a27f9e7b45740f0cbae9a2e188af094d1", "committedDate": "2020-08-11T08:50:08Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa9d0d7d1d56ed209ea5ef04f09432744e8a4d78", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/aa9d0d7d1d56ed209ea5ef04f09432744e8a4d78", "committedDate": "2020-08-11T08:52:33Z", "message": "Modified according to Checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODg4OTA1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-464888905", "createdAt": "2020-08-11T09:13:55Z", "commit": {"oid": "aa9d0d7d1d56ed209ea5ef04f09432744e8a4d78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd77741cc2e34112e4595973c3c1b03f0f0fdb69", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dd77741cc2e34112e4595973c3c1b03f0f0fdb69", "committedDate": "2020-08-12T03:50:27Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e35d77cad32478722d52bd432bd0cdcee3dc6450", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e35d77cad32478722d52bd432bd0cdcee3dc6450", "committedDate": "2020-08-12T10:12:43Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c84410e7bb46acddcc5b1d5a55ce9c6098ce140d", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c84410e7bb46acddcc5b1d5a55ce9c6098ce140d", "committedDate": "2020-08-12T10:43:33Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "716ba5ebc90fdc9039fe53f5b977c462553db1dc", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/716ba5ebc90fdc9039fe53f5b977c462553db1dc", "committedDate": "2020-08-12T10:59:11Z", "message": "Modify resource-test.json: limit the length of Stroage account name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0746c5323ff6d5f98d47a1dbac06c68299427e8", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a0746c5323ff6d5f98d47a1dbac06c68299427e8", "committedDate": "2020-08-13T08:55:03Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NTgyMjUz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-466582253", "createdAt": "2020-08-13T09:10:55Z", "commit": {"oid": "716ba5ebc90fdc9039fe53f5b977c462553db1dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62603ac7593bca6b0e056348ef6a1de625b260dc", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/62603ac7593bca6b0e056348ef6a1de625b260dc", "committedDate": "2020-08-13T09:24:41Z", "message": "modify pom.xml test.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NjI1MjYy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-466625262", "createdAt": "2020-08-13T10:10:43Z", "commit": {"oid": "62603ac7593bca6b0e056348ef6a1de625b260dc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMDoxMDo0M1rOHAFEYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMDoxMDo0M1rOHAFEYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NTA5MQ==", "bodyText": "please also make sure we've removed it from the external_dependency.txt file", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#discussion_r469845091", "createdAt": "2020-08-13T10:10:43Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-cloud-test-eventhubs/pom.xml", "diffHunk": "@@ -27,7 +27,7 @@\n     <dependency>\n       <groupId>com.microsoft.azure</groupId>\n       <artifactId>spring-cloud-azure-eventhubs-stream-binder</artifactId>\n-      <version>1.2.7</version> <!-- {x-version-update;com.microsoft.azure:spring-cloud-azure-eventhubs-stream-binder;external_dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62603ac7593bca6b0e056348ef6a1de625b260dc"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c2c1e2e5313303797e5e15242a020bd405e906e", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0c2c1e2e5313303797e5e15242a020bd405e906e", "committedDate": "2020-08-13T11:06:40Z", "message": "Remove spring-cloud-azure-eventhubs-stream-binder from external_dependencies.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0788f35f3726223d2e1db8c3875a97e54412aa6e", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0788f35f3726223d2e1db8c3875a97e54412aa6e", "committedDate": "2020-08-13T11:07:56Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8032b4409c3a4b4f9aa1efcd5a623519d2097be0", "author": {"user": {"login": "lu-cheng", "name": "Jack Lu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8032b4409c3a4b4f9aa1efcd5a623519d2097be0", "committedDate": "2020-08-13T11:10:00Z", "message": "Merge branch 'dev' of github.com:lu-cheng/azure-sdk-for-java into dev"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MzI5Mjc0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13808#pullrequestreview-467329274", "createdAt": "2020-08-14T06:12:39Z", "commit": {"oid": "8032b4409c3a4b4f9aa1efcd5a623519d2097be0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 811, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}