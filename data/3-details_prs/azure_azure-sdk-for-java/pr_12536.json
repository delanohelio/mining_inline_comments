{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzcwNDk1", "number": 12536, "title": "Replace RequestOptions with Context Policy", "bodyText": "This PR remove RequestOptions from the public API in favor of using Context to implicitly pass x-ms-client-request-id.", "createdAt": "2020-06-26T20:20:52Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536", "merged": true, "mergeCommit": {"oid": "868fc9a039f598fbb405742e2afcad8592c8e953"}, "closed": true, "closedAt": "2020-06-27T04:13:34Z", "author": {"login": "alzimmermsft"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvJHQwAH2gAyNDQwNzcwNDk1OmUyMWY0ZTk1ZTMzNmI1NGY1Y2E3ZTZmMjUxYmI3MTVlYzQ0ZTlhMjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvMoFbAH2gAyNDQwNzcwNDk1OmE4MWZkZTY1NjFlOTVhNDYxOTJlOWU5OTRlMTc1NTJlOGUwOTdlODU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e21f4e95e336b54f5ca7e6f251bb715ec44e9a26", "committedDate": "2020-06-26T20:17:36Z", "message": "Remove RequestOptions from public APIs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTc4OTUw", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#pullrequestreview-438578950", "createdAt": "2020-06-26T20:34:31Z", "commit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMDozNDozMVrOGpt7ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMDozODo0M1rOGpuCMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM5NzM3OQ==", "bodyText": "Could you turn off the code reformatting?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#discussion_r446397379", "createdAt": "2020-06-26T20:34:31Z", "author": {"login": "sima-zhu"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/implementation/DocumentsImpl.java", "diffHunk": "@@ -40,9 +40,10 @@\n import com.azure.search.documents.implementation.models.SuggestDocumentsResult;\n import com.azure.search.documents.implementation.models.SuggestOptions;\n import com.azure.search.documents.implementation.models.SuggestRequest;\n+import reactor.core.publisher.Mono;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM5NzU0OA==", "bodyText": "Remember to remove the parameters", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#discussion_r446397548", "createdAt": "2020-06-26T20:34:59Z", "author": {"login": "sima-zhu"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/SearchAsyncClient.java", "diffHunk": "@@ -189,13 +185,13 @@ HttpPipeline getHttpPipeline() {\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<Response<IndexDocumentsResult>> uploadDocumentsWithResponse(Iterable<?> documents,\n-        IndexDocumentsOptions options, RequestOptions requestOptions) {\n-        return withContext(context -> uploadDocumentsWithResponse(documents, options, requestOptions, context));\n+        IndexDocumentsOptions options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM5ODIxNA==", "bodyText": "Could you show the example of how to set request id?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#discussion_r446398214", "createdAt": "2020-06-26T20:36:34Z", "author": {"login": "sima-zhu"}, "path": "sdk/search/azure-search-documents/src/samples/java/com/azure/search/documents/AutoCompleteExample.java", "diffHunk": "@@ -46,11 +43,8 @@ private static void autoCompleteWithOneTermContext(SearchClient searchClient) {\n         AutocompleteOptions params = new AutocompleteOptions().setAutocompleteMode(\n             AutocompleteMode.ONE_TERM_WITH_CONTEXT);\n \n-        RequestOptions requestOptions = new RequestOptions()\n-            .setClientRequestId(UUID.randomUUID());\n-\n         PagedIterableBase<AutocompleteItem, AutocompletePagedResponse> results = searchClient.autocomplete(\"coffee m\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM5OTAyNw==", "bodyText": "Could you have a test on setting request id?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#discussion_r446399027", "createdAt": "2020-06-26T20:38:43Z", "author": {"login": "sima-zhu"}, "path": "sdk/search/azure-search-documents/src/test/java/com/azure/search/documents/indexes/IndexersManagementSyncTests.java", "diffHunk": "@@ -190,7 +188,7 @@ public void canCreateAndListIndexerNames() {\n         searchIndexerClient.createIndexer(indexer2);\n         indexersToDelete.add(indexer2.getName());\n \n-        Iterator<String> indexersRes = searchIndexerClient.listIndexerNames(generateRequestOptions(), Context.NONE)\n+        Iterator<String> indexersRes = searchIndexerClient.listIndexerNames(Context.NONE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4e95e336b54f5ca7e6f251bb715ec44e9a26"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6b1483dd75f357de685185a57ee97715ce01bbb", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a6b1483dd75f357de685185a57ee97715ce01bbb", "committedDate": "2020-06-26T23:00:07Z", "message": "Add new samples and tests for passing per API call x-ms-client-request-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1197212a1696604d428a06d6acfd234927b40ec", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e1197212a1696604d428a06d6acfd234927b40ec", "committedDate": "2020-06-26T23:00:20Z", "message": "Add new samples and tests for passing per API call x-ms-client-request-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f09df8a2718c300b4e9f82f4f2052387644af0e", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3f09df8a2718c300b4e9f82f4f2052387644af0e", "committedDate": "2020-06-26T23:23:04Z", "message": "Merged in master, fixed README samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjQ0OTE2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#pullrequestreview-438644916", "createdAt": "2020-06-26T23:32:44Z", "commit": {"oid": "3f09df8a2718c300b4e9f82f4f2052387644af0e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjQ1MzE0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#pullrequestreview-438645314", "createdAt": "2020-06-26T23:34:44Z", "commit": {"oid": "3f09df8a2718c300b4e9f82f4f2052387644af0e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMzozNDo0NVrOGpxQcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQyMzozNDo0NVrOGpxQcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ1MTgyNw==", "bodyText": "Remove this. :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12536#discussion_r446451827", "createdAt": "2020-06-26T23:34:45Z", "author": {"login": "sima-zhu"}, "path": "sdk/search/azure-search-documents/src/main/java/com/azure/search/documents/implementation/DocumentsImpl.java", "diffHunk": "@@ -40,6 +40,7 @@\n import com.azure.search.documents.implementation.models.SuggestDocumentsResult;\n import com.azure.search.documents.implementation.models.SuggestOptions;\n import com.azure.search.documents.implementation.models.SuggestRequest;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f09df8a2718c300b4e9f82f4f2052387644af0e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97425a111da8284867cbb66a9c34e492b76c2dcd", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/97425a111da8284867cbb66a9c34e492b76c2dcd", "committedDate": "2020-06-26T23:44:48Z", "message": "Remove bad whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a81fde6561e95a46192e9e994e17552e8e097e85", "author": {"user": {"login": "alzimmermsft", "name": "Alan Zimmer"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a81fde6561e95a46192e9e994e17552e8e097e85", "committedDate": "2020-06-27T00:23:10Z", "message": "Fix places where context wasn't passed properly"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2952, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}