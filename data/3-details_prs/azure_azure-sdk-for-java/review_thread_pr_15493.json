{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMTg0NTQy", "number": 15493, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzoxNDowNFrOEoSpug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzoxNDowNFrOEoSpug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNjg0MDkwOnYy", "diffSide": "RIGHT", "path": "eng/scripts/Collect-Changelogs.ps1", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzoxNDowNFrOHZS3mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzoyOToxMlrOHZTKOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI4NTU5Mg==", "bodyText": "Do you plan to call this manually and filter it down to just the set of packages you are interested in?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15493#discussion_r496285592", "createdAt": "2020-09-28T23:14:04Z", "author": {"login": "weshaggard"}, "path": "eng/scripts/Collect-Changelogs.ps1", "diffHunk": "@@ -0,0 +1,48 @@\n+[CmdletBinding()]\n+param(\n+  [Parameter(Mandatory=$true)]\n+  [ValidateRange(1, 12)]\n+  [int] $Month\n+)\n+\n+$repoRoot = Resolve-Path \"$PSScriptRoot/../..\";\n+. ${repoRoot}\\eng\\common\\scripts\\SemVer.ps1\n+. ${repoRoot}\\eng\\common\\scripts\\ChangeLog-Operations.ps1\n+$InstallNotes = \"\";\n+$ReleaseNotes = \"\";\n+\n+$date = Get-Date -Month $month -Format \"yyyy-MM\"\n+$date += \"-\\d\\d\"\n+\n+Get-ChildItem \"$repoRoot/sdk\" -Filter CHANGELOG.md -Recurse | Sort-Object -Property Name | % {\n+\n+    $changeLogEntries = Get-ChangeLogEntries -ChangeLogLocation $_\n+    $package = $_.Directory.Name\n+    $serviceDirectory = $_.Directory.Parent.Name\n+    if ($serviceDirectory -ne \"resourcemanager\" -and $serviceDirectory -ne \"spring\") {\n+        foreach ($changeLogEntry in $changeLogEntries.Values)\n+        {\n+            if ($changeLogEntry.ReleaseStatus -notmatch $date)\n+            {\n+\n+                continue;\n+            }\n+\n+            $version = $changeLogEntry.ReleaseVersion\n+            $githubAnchor = $changeLogEntry.ReleaseTitle.Replace(\"## \", \"\").Replace(\".\", \"\").Replace(\"(\", \"\").Replace(\")\", \"\").Replace(\" \", \"-\")\n+            $TextInfo = (Get-Culture).TextInfo\n+            $changelogTitle = $TextInfo.ToTitleCase($package.Replace(\"-\", \" \"))\n+\n+            $InstallNotes += \"<dependency>`n  <groupId>com.azure</groupId>`n  <artifactId>$package</artifactId>`n  <version>$version</version>`n</dependency>`n`n\";\n+            $ReleaseNotes += \"### $changelogTitle $version [Changelog](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/$serviceDirectory/$package/CHANGELOG.md#$githubAnchor)`n\"\n+            $changeLogEntry.ReleaseContent | %{\n+\n+                $ReleaseNotes += $_.Replace(\"###\", \"####\")\n+                $ReleaseNotes += \"`n\"\n+            }\n+            $ReleaseNotes += \"`n\"\n+        }\n+    }\n+}\n+\n+return $InstallNotes, $ReleaseNotes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19b660bd7b952e3ffe44e08a9effbe000649bcb7"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI5MDM2MA==", "bodyText": "Yes, currently that is the plan.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15493#discussion_r496290360", "createdAt": "2020-09-28T23:29:12Z", "author": {"login": "samvaity"}, "path": "eng/scripts/Collect-Changelogs.ps1", "diffHunk": "@@ -0,0 +1,48 @@\n+[CmdletBinding()]\n+param(\n+  [Parameter(Mandatory=$true)]\n+  [ValidateRange(1, 12)]\n+  [int] $Month\n+)\n+\n+$repoRoot = Resolve-Path \"$PSScriptRoot/../..\";\n+. ${repoRoot}\\eng\\common\\scripts\\SemVer.ps1\n+. ${repoRoot}\\eng\\common\\scripts\\ChangeLog-Operations.ps1\n+$InstallNotes = \"\";\n+$ReleaseNotes = \"\";\n+\n+$date = Get-Date -Month $month -Format \"yyyy-MM\"\n+$date += \"-\\d\\d\"\n+\n+Get-ChildItem \"$repoRoot/sdk\" -Filter CHANGELOG.md -Recurse | Sort-Object -Property Name | % {\n+\n+    $changeLogEntries = Get-ChangeLogEntries -ChangeLogLocation $_\n+    $package = $_.Directory.Name\n+    $serviceDirectory = $_.Directory.Parent.Name\n+    if ($serviceDirectory -ne \"resourcemanager\" -and $serviceDirectory -ne \"spring\") {\n+        foreach ($changeLogEntry in $changeLogEntries.Values)\n+        {\n+            if ($changeLogEntry.ReleaseStatus -notmatch $date)\n+            {\n+\n+                continue;\n+            }\n+\n+            $version = $changeLogEntry.ReleaseVersion\n+            $githubAnchor = $changeLogEntry.ReleaseTitle.Replace(\"## \", \"\").Replace(\".\", \"\").Replace(\"(\", \"\").Replace(\")\", \"\").Replace(\" \", \"-\")\n+            $TextInfo = (Get-Culture).TextInfo\n+            $changelogTitle = $TextInfo.ToTitleCase($package.Replace(\"-\", \" \"))\n+\n+            $InstallNotes += \"<dependency>`n  <groupId>com.azure</groupId>`n  <artifactId>$package</artifactId>`n  <version>$version</version>`n</dependency>`n`n\";\n+            $ReleaseNotes += \"### $changelogTitle $version [Changelog](https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/$serviceDirectory/$package/CHANGELOG.md#$githubAnchor)`n\"\n+            $changeLogEntry.ReleaseContent | %{\n+\n+                $ReleaseNotes += $_.Replace(\"###\", \"####\")\n+                $ReleaseNotes += \"`n\"\n+            }\n+            $ReleaseNotes += \"`n\"\n+        }\n+    }\n+}\n+\n+return $InstallNotes, $ReleaseNotes", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI4NTU5Mg=="}, "originalCommit": {"oid": "19b660bd7b952e3ffe44e08a9effbe000649bcb7"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 916, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}