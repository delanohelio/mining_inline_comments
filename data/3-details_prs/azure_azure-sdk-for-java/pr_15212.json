{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3MTI1OTE4", "number": 15212, "title": "Mgmt: make createAsync return Mono<ModelT>", "bodyText": "close #15074\nwe don't need invoke order anyone, only add some comment in TaskGroup", "createdAt": "2020-09-15T08:23:35Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212", "merged": true, "mergeCommit": {"oid": "6bece21fe3aa9a231d2a5d91debba7624f774c6b"}, "closed": true, "closedAt": "2020-09-16T07:35:36Z", "author": {"login": "ChenTanyi"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI-2fsAH2gAyNDg3MTI1OTE4OjYzYTM0NzQ5NzQxYTdjMDBmNDkwZTIyOGE3ODY0M2Y2NTZhZmM5YzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJWekJgH2gAyNDg3MTI1OTE4OjU4ODg3ODA1NGRiYzNjODE2NGQ0ZWM4ZjMyYmY4ZTczMTU1OWNlOGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "63a34749741a7c00f490e228a78643f656afc9c4", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/63a34749741a7c00f490e228a78643f656afc9c4", "committedDate": "2020-09-15T03:02:16Z", "message": "update interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "233fbad269a8ce9dc06fa5ec8a6ebdcdb0a704c6", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/233fbad269a8ce9dc06fa5ec8a6ebdcdb0a704c6", "committedDate": "2020-09-15T03:13:17Z", "message": "fix compile error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1adf00d4bc7ef397cededf47dbe7cb172054ceeb", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/1adf00d4bc7ef397cededf47dbe7cb172054ceeb", "committedDate": "2020-09-15T06:58:04Z", "message": "fix test error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c05fbd47be879acd143355f41585291ebf7aa115", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c05fbd47be879acd143355f41585291ebf7aa115", "committedDate": "2020-09-15T08:19:12Z", "message": "create stream test to get from azure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc5acd2a6970725323180a737d9e63775c14baeb", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cc5acd2a6970725323180a737d9e63775c14baeb", "committedDate": "2020-09-15T08:19:37Z", "message": "add comment for taskgroup invoke"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7dfdbc2f1cfb46263748571f12c4fec703d7b19", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7dfdbc2f1cfb46263748571f12c4fec703d7b19", "committedDate": "2020-09-15T08:19:52Z", "message": "record"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f98420e0f08ddc4d7a04bfe688840433f6ac7c5b", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f98420e0f08ddc4d7a04bfe688840433f6ac7c5b", "committedDate": "2020-09-15T08:21:58Z", "message": "remove test suppress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/787cbb6cb3090143128a36a139c4882ba3cb2b16", "committedDate": "2020-09-15T09:05:42Z", "message": "fix compile warning"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NDg0NzA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#pullrequestreview-488484709", "createdAt": "2020-09-15T09:14:16Z", "commit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "state": "APPROVED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToxNDoxN1rOHR4cZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToyMDo1NlrOHR4sEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMjYxNA==", "bodyText": "Why need a cast? Does it need Flux<Indexable>?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488512614", "createdAt": "2020-09-15T09:14:17Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/RoleAssignmentHelper.java", "diffHunk": "@@ -94,7 +94,7 @@ public RoleAssignmentHelper withAccessTo(final String scope, final BuiltInRole a\n                     .withBuiltInRole(asRole)\n                     .withScope(resourceScope)\n                     .createAsync()\n-                    .last()\n+                    .cast(Indexable.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxMzIzNw==", "bodyText": "Seems just indexable.id()?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488513237", "createdAt": "2020-09-15T09:15:17Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-authorization/src/main/java/com/azure/resourcemanager/authorization/implementation/ServicePrincipalImpl.java", "diffHunk": "@@ -199,7 +199,7 @@ public String applicationId() {\n                                 .createAsync())\n                     .doOnNext(\n                         indexable ->\n-                            cachedRoleAssignments.put(((RoleAssignment) indexable).id(), (RoleAssignment) indexable))\n+                            cachedRoleAssignments.put((indexable).id(), indexable))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDA3Mg==", "bodyText": "If it is Mono, do not name it flux.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488514072", "createdAt": "2020-09-15T09:16:45Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "diffHunk": "@@ -44,7 +45,7 @@ public void canCreateAllPopularImageVM() {\n         }\n \n         for (KnownLinuxVirtualMachineImage image : KnownLinuxVirtualMachineImage.values()) {\n-            Flux<Indexable> flux = computeManager.virtualMachines()\n+            Mono<VirtualMachine> flux = computeManager.virtualMachines()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDM0OA==", "bodyText": "Same for vmFluxes.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488514348", "createdAt": "2020-09-15T09:17:12Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-compute/src/test/java/com/azure/resourcemanager/compute/VirtualMachinePopularImageTests.java", "diffHunk": "@@ -44,7 +45,7 @@ public void canCreateAllPopularImageVM() {\n         }\n \n         for (KnownLinuxVirtualMachineImage image : KnownLinuxVirtualMachineImage.values()) {\n-            Flux<Indexable> flux = computeManager.virtualMachines()\n+            Mono<VirtualMachine> flux = computeManager.virtualMachines()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNDA3Mg=="}, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxNjYyNA==", "bodyText": "Likely this if is no longer needed?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#discussion_r488516624", "createdAt": "2020-09-15T09:20:56Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageWebAppSourceControlAsync.java", "diffHunk": "@@ -70,9 +70,9 @@ public static boolean runSample(final Azure azure) {\n                     .withJavaVersion(JavaVersion.JAVA_8_NEWEST)\n                     .withWebContainer(WebContainer.TOMCAT_8_0_NEWEST)\n                     .createAsync()\n-                    .flatMap(indexable -> {\n+                    .flatMapMany(indexable -> {\n                         if (indexable instanceof WebApp) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787cbb6cb3090143128a36a139c4882ba3cb2b16"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a83be5056a0b68eda6eb0ffa7a05326b38b78752", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a83be5056a0b68eda6eb0ffa7a05326b38b78752", "committedDate": "2020-09-16T02:19:11Z", "message": "change some naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dbb09d08b1963ccd296dfbd153d75eae984594f", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9dbb09d08b1963ccd296dfbd153d75eae984594f", "committedDate": "2020-09-16T02:19:57Z", "message": "remove Utils.rootResource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "217b9b79ddaec3a030c44bc1e173065569fa673d", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/217b9b79ddaec3a030c44bc1e173065569fa673d", "committedDate": "2020-09-16T02:46:20Z", "message": "add convert to management exception in taskgroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b269cc732221fa946e99b8aa7fa3214ba3f9ebbc", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b269cc732221fa946e99b8aa7fa3214ba3f9ebbc", "committedDate": "2020-09-16T03:00:46Z", "message": "fix record"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "116dab0794fe653f84cb0daeadbee6c10efae3e8", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/116dab0794fe653f84cb0daeadbee6c10efae3e8", "committedDate": "2020-09-16T05:24:04Z", "message": "fix spotbugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5Mjg4OTMz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15212#pullrequestreview-489288933", "createdAt": "2020-09-16T05:40:17Z", "commit": {"oid": "116dab0794fe653f84cb0daeadbee6c10efae3e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b036a5e2812d962e94449502a88448b89cdf92", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c0b036a5e2812d962e94449502a88448b89cdf92", "committedDate": "2020-09-16T05:40:34Z", "message": "add changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9970955f4aef4b794b0fc200e5ad8860b8433a74", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9970955f4aef4b794b0fc200e5ad8860b8433a74", "committedDate": "2020-09-16T06:18:07Z", "message": "Merge branch 'master' into createAsync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "588878054dbc3c8164d4ec8f32bf8e731559ce8a", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/588878054dbc3c8164d4ec8f32bf8e731559ce8a", "committedDate": "2020-09-16T06:33:51Z", "message": "fix AggregatedManagementException"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3315, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}