{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NjA5MDIy", "number": 15375, "title": "Fix an issue preventing population of the \"tags\" and \"managed\" properties in KeyVaultKey and KeyProperties", "bodyText": "Fixed an issue that prevented the tags and managed members of KeyProperties from getting populated when retrieving a single key using KeyClient, KeyAsyncClient, CryptographyClient and CryptographyAsyncClient.\nRemoved unnecessary setter calls in KeyProperties.unpackAttributes() for values that are not a part of the attributes property in KeyVaultKey and KeyProperties.\nRemoved KeyVaultKey.unpackKid() since kid is not a top level property of the JSON returned by the Key Vault service and thus, is only populated in KeyProperties when calling KeyVaultKey.unpackAttributes().\n\nReferences:\n\nService Version 7.0\n\nKeyBundle\nKetAttributes\nAttributes\n\n\nService Version 7.1\n\nKeyBundle\nKetAttributes\nAttributes\n\n\n\nFixes #14513.", "createdAt": "2020-09-19T01:58:00Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15375", "merged": true, "mergeCommit": {"oid": "7db9f157de03a38fad3cf4d5ca0ac97f6e1997f0"}, "closed": true, "closedAt": "2020-09-24T23:29:47Z", "author": {"login": "vcolin7"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKQWSPAH2gAyNDg5NjA5MDIyOjgyZTgwYTFmNDFhYzc4Njk4OGY5NjM1ZjhkMTlhOGJhMzA4MDZlYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdME62zAFqTQ5NTgxMDM1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "82e80a1f41ac786988f9635f8d19a8ba30806eb4", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/82e80a1f41ac786988f9635f8d19a8ba30806eb4", "committedDate": "2020-09-19T01:59:18Z", "message": "- Fixed an issue that prevented the `tags` and `managed` members of `KeyProperties` from getting populated when retrieving a single key using `KeyClient`, `KeyAsyncClient`, `CryptographyClient` and `CryptographyAsyncClient`.\n- Removed unnecessary setter calls in `KeyProperties.unpackAttributes()` for values that are not a part of the `attributes` property in `KeyVaultKey` and `KeyProperties`.\n- Removed `KeyVaultKey.unpackKid()` since `kid` is not a top level property of the JSON returned by the Key Vault service and thus, is only populated in `KeyProperties` when calling `KeyVaultKey.unpackAttributes()`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNzkyNjU5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15375#pullrequestreview-493792659", "createdAt": "2020-09-22T19:46:47Z", "commit": {"oid": "82e80a1f41ac786988f9635f8d19a8ba30806eb4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxOTo0Njo0N1rOHWJz6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxOTo0Njo1M1rOHWJ0GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk5MTQ2Ng==", "bodyText": "Validate that these are not needed in V7.0 SDK.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15375#discussion_r492991466", "createdAt": "2020-09-22T19:46:47Z", "author": {"login": "g2vinay"}, "path": "sdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/models/KeyProperties.java", "diffHunk": "@@ -266,10 +267,7 @@ void unpackAttributes(Map<String, Object> attributes) {\n         this.createdOn = epochToOffsetDateTime(attributes.get(\"created\"));\n         this.updatedOn = epochToOffsetDateTime(attributes.get(\"updated\"));\n         this.recoveryLevel = (String) attributes.get(\"recoveryLevel\");\n-        this.tags = (Map<String, String>) lazyValueSelection(attributes.get(\"tags\"), this.tags);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82e80a1f41ac786988f9635f8d19a8ba30806eb4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk5MTUxMg==", "bodyText": "Validate that kid is not sent in a different location in V7.0 SDK .", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15375#discussion_r492991512", "createdAt": "2020-09-22T19:46:53Z", "author": {"login": "g2vinay"}, "path": "sdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/models/KeyVaultKey.java", "diffHunk": "@@ -106,14 +106,19 @@ private void unpackKeyMaterial(Map<String, Object> key) {\n         this.key = properties.createKeyMaterialFromJson(key);\n     }\n \n-    @JsonProperty(value = \"kid\")\n-    private void unpackKid(String kid) {\n-        properties.unpackId(kid);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82e80a1f41ac786988f9635f8d19a8ba30806eb4"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1ODEwMzU2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15375#pullrequestreview-495810356", "createdAt": "2020-09-24T17:48:14Z", "commit": {"oid": "82e80a1f41ac786988f9635f8d19a8ba30806eb4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3412, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}