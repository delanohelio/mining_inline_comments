{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5OTExODU5", "number": 13229, "title": "Update spring data cosmos to track2 cosmos SDK v4 dependency", "bodyText": "This PR updates spring-data-cosmos to track2 cosmos v4 SDK dependency", "createdAt": "2020-07-16T05:38:36Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229", "merged": true, "mergeCommit": {"oid": "61b37c98459b2290ed13b1ddc83035b0cd39069a"}, "closed": true, "closedAt": "2020-07-16T23:40:50Z", "author": {"login": "kushagraThapar"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1YMnPAH2gAyNDQ5OTExODU5OjkxODAzOGViMjc4MDA5YzQ0ODg0MjU0NjkzODcwYzkwZTg1YmVmOWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1mPKEgH2gAyNDQ5OTExODU5OjgwYTcyMDM2ZjhiNDE5Mjc4ZTgwZjI1Y2MzNTcwOTNkZTYwOTcxZWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "918038eb278009c44884254693870c90e85bef9f", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/918038eb278009c44884254693870c90e85bef9f", "committedDate": "2020-07-16T05:15:34Z", "message": "Updated spring-data-cosmos to cosmos V4 dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7bc7063e7e69c413c72985956caf13994d94f58", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e7bc7063e7e69c413c72985956caf13994d94f58", "committedDate": "2020-07-16T05:20:10Z", "message": "Updated CosmosDbUtils name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/89abdd8f405e90c7e662a22771ff9976eef96044", "committedDate": "2020-07-16T05:37:16Z", "message": "Merged latest master and resolved conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5ODc2NjY1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#pullrequestreview-449876665", "createdAt": "2020-07-16T14:00:15Z", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNDowMDoxNVrOGysVcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNDowMDoxNVrOGysVcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTgwODM2OQ==", "bodyText": "You shouldn't need com.google.code.findbugs:jsr305 in the bannedDependency includes. This particular entry was removed from this file as part of the same PR that fixed in the inheritance.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#discussion_r455808369", "createdAt": "2020-07-16T14:00:15Z", "author": {"login": "JimSuplizio"}, "path": "sdk/cosmos/azure-spring-data-cosmos/pom.xml", "diffHunk": "@@ -205,6 +204,8 @@\n                 <include>org.json:json:[20140107]</include> <!-- {x-include-update;org.json:json;external_dependency} -->\n                 <include>com.fasterxml.jackson.module:jackson-module-parameter-names:[2.10.0]</include> <!-- {x-include-update;com.fasterxml.jackson.module:jackson-module-parameter-names;external_dependency} -->\n                 <include>javax.annotation:javax.annotation-api:[1.3.2]</include> <!-- {x-include-update;javax.annotation:javax.annotation-api;external_dependency} -->\n+                <include>org.apache.commons:commons-lang3:[3.8.1]</include> <!-- {x-include-update;org.apache.commons:commons-lang3;external_dependency} -->\n+                <include>com.google.code.findbugs:jsr305:[3.0.2]</include> <!-- {x-include-update;com.google.code.findbugs:jsr305;external_dependency} -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "originalPosition": 116}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5OTk2NDgx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#pullrequestreview-449996481", "createdAt": "2020-07-16T16:05:10Z", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNToxMFrOGyx8Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNToxMFrOGyx8Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMDE3OQ==", "bodyText": "I noticed that one or two files were moved and that in the remove their names were changed from CosmosDB* to CosmosDb*. I am wondering if it makes sense to change the name of the next two files from CosmosDB* to Cosmos*.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#discussion_r455900179", "createdAt": "2020-07-16T16:05:10Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-spring-data-cosmos/src/main/java/com/azure/spring/data/cosmos/exception/CosmosDBAccessException.java", "diffHunk": "@@ -2,7 +2,7 @@\n // Licensed under the MIT License.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5OTk4Mzc0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#pullrequestreview-449998374", "createdAt": "2020-07-16T16:07:09Z", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNzoxMFrOGyyBag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjowNzoxMFrOGyyBag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTU0Ng==", "bodyText": "thank you for using UnsupportedOperationException rather than NotImplementedException as this reproduces our dependency on commons.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#discussion_r455901546", "createdAt": "2020-07-16T16:07:10Z", "author": {"login": "David-Noble-at-work"}, "path": "sdk/cosmos/azure-spring-data-cosmos/src/main/java/com/azure/spring/data/cosmos/repository/query/PartTreeReactiveCosmosQuery.java", "diffHunk": "@@ -41,7 +40,7 @@ protected DocumentQuery createQuery(ReactiveCosmosParameterAccessor accessor) {\n         final DocumentQuery query = creator.createQuery();\n \n         if (tree.isLimiting()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b96615d9b78b463f22b5a3267f964063ef005f6f", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b96615d9b78b463f22b5a3267f964063ef005f6f", "committedDate": "2020-07-16T16:32:53Z", "message": "Merge branch 'master' into spring_cosmos_track2_cosmos_v4_dependency"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDI1MTc5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#pullrequestreview-450025179", "createdAt": "2020-07-16T16:39:50Z", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjozOTo1MFrOGyzT3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjozOTo1MFrOGyzT3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkyMjY1NA==", "bodyText": "I think the brand name is Cosmos not CosmosDB.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#discussion_r455922654", "createdAt": "2020-07-16T16:39:50Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-spring-data-cosmos/src/main/java/com/azure/spring/data/cosmos/Constants.java", "diffHunk": "@@ -2,29 +2,29 @@\n // Licensed under the MIT License.\n package com.azure.spring.data.cosmos;\n \n-import com.azure.data.cosmos.IndexingMode;\n+import com.azure.cosmos.models.IndexingMode;\n \n /**\n  * Constants class of CosmosDB properties\n  */\n public final class Constants {\n \n-    public static final String DEFAULT_COLLECTION_NAME = \"\";\n-    public static final boolean DEFAULT_INDEXINGPOLICY_AUTOMATIC = true;\n-    public static final IndexingMode DEFAULT_INDEXINGPOLICY_MODE = IndexingMode.CONSISTENT;\n+    public static final String DEFAULT_CONTAINER_NAME = \"\";\n+    public static final boolean DEFAULT_INDEXING_POLICY_AUTOMATIC = true;\n+    public static final IndexingMode DEFAULT_INDEXING_POLICY_MODE = IndexingMode.CONSISTENT;\n     public static final String DEFAULT_REPOSITORY_IMPLEMENT_POSTFIX = \"Impl\";\n     public static final int DEFAULT_TIME_TO_LIVE = -1; // Indicates never expire\n     public static final boolean DEFAULT_AUTO_CREATE_CONTAINER = true;\n \n     public static final String ID_PROPERTY_NAME = \"id\";\n \n-    public static final String COSMOSDB_MODULE_NAME = \"cosmosdb\";\n-    public static final String COSMOSDB_MODULE_PREFIX = \"cosmosdb\";\n+    public static final String COSMOS_MODULE_NAME = \"cosmosDb\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDI5MTI3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#pullrequestreview-450029127", "createdAt": "2020-07-16T16:45:01Z", "commit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjo0NTowMVrOGyzgNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjo0NTowMVrOGyzgNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkyNTgxNA==", "bodyText": "is this a public class? I wonder if it should be CosmosDBFactory or CosmosFactory. the same comment applies to all other public surface area, should we go with CosmosDB or Cosmos on the public surface.\nour brand name is Cosmos", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13229#discussion_r455925814", "createdAt": "2020-07-16T16:45:01Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-spring-data-cosmos/src/main/java/com/azure/spring/data/cosmos/CosmosDBFactory.java", "diffHunk": "@@ -0,0 +1,123 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.spring.data.cosmos;\n+\n+import com.azure.cosmos.CosmosAsyncClient;\n+import com.azure.cosmos.CosmosClient;\n+import com.azure.cosmos.CosmosClientBuilder;\n+import com.azure.spring.data.cosmos.common.MacAddress;\n+import com.azure.spring.data.cosmos.common.PropertyLoader;\n+import com.azure.spring.data.cosmos.common.TelemetrySender;\n+import com.azure.spring.data.cosmos.config.CosmosDBConfig;\n+import org.apache.commons.lang3.reflect.FieldUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.lang.NonNull;\n+import org.springframework.util.Assert;\n+\n+import javax.annotation.PostConstruct;\n+import java.lang.reflect.Field;\n+\n+/**\n+ * Factory class for CosmosDb to create client\n+ */\n+public class CosmosDBFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89abdd8f405e90c7e662a22771ff9976eef96044"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f660fb009fe4a91616e6c9b5bb58c36e13692de5", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f660fb009fe4a91616e6c9b5bb58c36e13692de5", "committedDate": "2020-07-16T18:30:43Z", "message": "Updated CosmosDB* CosmosDb* to Cosmos* class names for rebranding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a68586a4e8fad1b8be88932c8aad06b7132319c1", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a68586a4e8fad1b8be88932c8aad06b7132319c1", "committedDate": "2020-07-16T20:31:13Z", "message": "Fixed readme and code snippets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a95f0d80a618068d4c577aefed7eb34cdb8d3e1", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a95f0d80a618068d4c577aefed7eb34cdb8d3e1", "committedDate": "2020-07-16T20:55:25Z", "message": "Removed unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80a72036f8b419278e80f25cc357093de60971ef", "author": {"user": {"login": "kushagraThapar", "name": "Kushagra Thapar"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/80a72036f8b419278e80f25cc357093de60971ef", "committedDate": "2020-07-16T21:37:01Z", "message": "Fixed code snippets because of unused removed import:"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1286, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}