{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxODMyNDM5", "number": 14343, "title": "Update tables public API", "bodyText": "Corresponds with the APIview here: https://apiview.dev/Assemblies/Review/064b274f6dd441e99ced81f2149a9145\nFixes: #13685", "createdAt": "2020-08-21T20:03:36Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14343", "merged": true, "mergeCommit": {"oid": "8cbf72edbb5ec6ac9426c37406df6edc1c886951"}, "closed": true, "closedAt": "2020-08-24T22:16:21Z", "author": {"login": "bsiegel"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-n26mAH2gAyNDcxODMyNDM5OjMyYjQyYTdlZTQxMDMwYTE0YTA5MDQ3ZmNmNDc1NmY5MjBmN2QxZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCJfzZAH2gAyNDcxODMyNDM5OmExZGE2ZWY3YjViMjRhNTc0MDYxZDEzYWJiYjM0Mjg1NmUzODhhMzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "32b42a7ee41030a14a09047fcf4756f920f7d1fe", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/32b42a7ee41030a14a09047fcf4756f920f7d1fe", "committedDate": "2020-08-13T22:35:40Z", "message": "Remove old / duplicate classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69f1d6a66a980d702b9c1207b71610988ba8ffae", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/69f1d6a66a980d702b9c1207b71610988ba8ffae", "committedDate": "2020-08-13T23:58:21Z", "message": "Standardize names of Models types\n\nAlso remove TSC.getTable and TC.create, they are no longer part of the\npublic API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81628974841a2a85062ec3873a0c4ddc2862616a", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/81628974841a2a85062ec3873a0c4ddc2862616a", "committedDate": "2020-08-14T00:04:19Z", "message": "Update snippets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48066f086b18f46925ae08c2ea19d97f276bfaba", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/48066f086b18f46925ae08c2ea19d97f276bfaba", "committedDate": "2020-08-14T00:17:56Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10c42e051216d3b6dbc8b092c5dd5e0e76ce9380", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/10c42e051216d3b6dbc8b092c5dd5e0e76ce9380", "committedDate": "2020-08-20T22:25:32Z", "message": "Do not return the created object from create* APIs\n\nOther upsert / merge / update APIs do not have this feature, so it's\ninconsistent to return the created object when the other APIs return\nvoid. And since we no longer need it, request that the create* APIs\nreturn no content to reduce the payload size."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e265af6dadb0ebae968b8f81a018c763fb0c781", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7e265af6dadb0ebae968b8f81a018c763fb0c781", "committedDate": "2020-08-20T22:25:57Z", "message": "Update test recordings to account for the create* API changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "333aa0b2ae49860d3331134254e8d1f7a2d28600", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/333aa0b2ae49860d3331134254e8d1f7a2d28600", "committedDate": "2020-08-21T21:18:41Z", "message": "Final API changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3170196395016c6473b9fe56aa1766e1bae0b08e", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3170196395016c6473b9fe56aa1766e1bae0b08e", "committedDate": "2020-08-21T21:12:19Z", "message": "Final API changes"}, "afterCommit": {"oid": "333aa0b2ae49860d3331134254e8d1f7a2d28600", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/333aa0b2ae49860d3331134254e8d1f7a2d28600", "committedDate": "2020-08-21T21:18:41Z", "message": "Final API changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7d945d1f6327fbc0309b71372bc8f76e6625994", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b7d945d1f6327fbc0309b71372bc8f76e6625994", "committedDate": "2020-08-24T18:26:44Z", "message": "Add missing ServiceMethod annotations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fc1c5b4b3248e73658a266c3c0f189673e29429", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7fc1c5b4b3248e73658a266c3c0f189673e29429", "committedDate": "2020-08-24T19:27:05Z", "message": "Fix verify failures"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczODM1MTMx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14343#pullrequestreview-473835131", "createdAt": "2020-08-24T20:33:08Z", "commit": {"oid": "7fc1c5b4b3248e73658a266c3c0f189673e29429"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQyMDozMzowOFrOHF1Okg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQyMDozODo1N1rOHF1atQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg3NzAxMA==", "bodyText": "I'm usually not a fan of aligning parameters, because we have some seriously long method/class names and the parameters get mushed against the right margin.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14343#discussion_r475877010", "createdAt": "2020-08-24T20:33:08Z", "author": {"login": "conniey"}, "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -244,89 +241,123 @@ public void updateEntity(Entity entity, boolean ifUnchanged, UpdateMode updateMo\n      * @return a response\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Response<Void> updateEntityWithResponse(Entity entity, boolean ifUnchanged, UpdateMode updateMode,\n-        Duration timeout, Context context) {\n+    public Response<Void> updateEntityWithResponse(TableEntity entity, boolean ifUnchanged, UpdateMode updateMode,\n+                                                   Duration timeout, Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fc1c5b4b3248e73658a266c3c0f189673e29429"}, "originalPosition": 175}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg4MDExNw==", "bodyText": "I'd consider making new ListTablesOptions() a member variable so we don't have to allocate a new object to it for every call.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14343#discussion_r475880117", "createdAt": "2020-08-24T20:38:57Z", "author": {"login": "conniey"}, "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -88,16 +77,26 @@ public void deleteTable(String tableName) {\n         return client.deleteTableWithResponse(tableName, context).block();\n     }\n \n+    /**\n+     * query all the tables under the storage account\n+     *\n+     * @return a list of tables that meet the query\n+     */\n+    @ServiceMethod(returns = ReturnType.COLLECTION)\n+    public PagedIterable<TableItem> listTables() {\n+        return new PagedIterable<>(client.listTables(new ListTablesOptions()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fc1c5b4b3248e73658a266c3c0f189673e29429"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1da6ef7b5b24a574061d13abbb342856e388a36", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a1da6ef7b5b24a574061d13abbb342856e388a36", "committedDate": "2020-08-24T21:28:58Z", "message": "Code review suggestions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 342, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}