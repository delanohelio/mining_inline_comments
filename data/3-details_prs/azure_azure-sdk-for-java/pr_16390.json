{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MjYyNDY2", "number": 16390, "title": "Test using client template", "bodyText": "The work @mitchdenny did to group the artifacts in https://github.com/Azure/azure-sdk-for-java/pull/13511/files didn't account for the track 1 libraries so they are currently broken for release.\nLooks like https://github.com/Azure/azure-sdk-for-java/blob/master/eng/pipelines/templates/jobs/archetype-sdk-client.yml (track 2 template) and https://github.com/Azure/azure-sdk-for-java/blob/master/eng/pipelines/templates/jobs/archetype-sdk-data.yml (track 1 template) have diverged a fair amount since they were split. This PR is attempting to switch one of the track 1 pipelines, eventhubs which @conniey is currently trying to release, over to just use the client template.\nAssuming we can get this to work for eventhubs we should remove the data template completely and move all the other track 1 libraries to use the client template as well.", "createdAt": "2020-10-15T17:25:52Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390", "merged": true, "mergeCommit": {"oid": "1f252373981e789fba9bbf9495ba357f9c3294f9"}, "closed": true, "closedAt": "2020-10-15T17:51:11Z", "author": {"login": "weshaggard"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS0O1GAH2gAyNTA0MjYyNDY2OmY3MzViNmZhM2FkZGQ4MmY5OGU0M2E0YThhZGFkODRiNjMxMzQxMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS1QlGgFqTUwOTYxMjIyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f735b6fa3addd82f98e43a4a8adad84b6313411a", "author": {"user": {"login": "weshaggard", "name": "Wes Haggard"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f735b6fa3addd82f98e43a4a8adad84b6313411a", "committedDate": "2020-10-15T16:19:08Z", "message": "Test using client template for track 1 library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81cfa165a029fa02333552586c2ce33ed909a37f", "author": {"user": {"login": "weshaggard", "name": "Wes Haggard"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/81cfa165a029fa02333552586c2ce33ed909a37f", "committedDate": "2020-10-15T16:35:22Z", "message": "Skip change log verification for track 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc", "author": {"user": {"login": "weshaggard", "name": "Wes Haggard"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc", "committedDate": "2020-10-15T17:15:32Z", "message": "Disable From Source test run for track 1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NjA4Nzg0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390#pullrequestreview-509608784", "createdAt": "2020-10-15T17:26:28Z", "commit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzoyNjoyOVrOHiSZ3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzoyNjoyOVrOHiSZ3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTcxNTE2Ng==", "bodyText": "A lot of track 1 libraries don't have change logs and we already shipped those checks in the release steps so I'm skipping them here as well.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390#discussion_r505715166", "createdAt": "2020-10-15T17:26:29Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -167,12 +167,13 @@ jobs:\n           Directory: sdk/${{ parameters.ServiceDirectory }}\n           CheckLinkGuidance: $true\n \n-      - ${{ each artifact in parameters.Artifacts }}:\n-        - template: /eng/common/pipelines/templates/steps/verify-changelog.yml\n-          parameters:\n-            PackageName: ${{artifact.name}}\n-            ServiceName: ${{parameters.ServiceDirectory}}\n-            ForRelease: false\n+      - ${{if ne(parameters.SDKType, 'data')}}:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NjA5MjQ4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390#pullrequestreview-509609248", "createdAt": "2020-10-15T17:27:08Z", "commit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzoyNzowOFrOHiSbQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzoyNzowOFrOHiSbQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTcxNTUyMA==", "bodyText": "TestFromSource will be difficult to get working for track 1 libraries and I'm not sure it is worth the efforts so skipping that test entry.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390#discussion_r505715520", "createdAt": "2020-10-15T17:27:08Z", "author": {"login": "weshaggard"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -224,7 +225,12 @@ jobs:\n       - template: ../variables/globals.yml\n \n     strategy:\n-      matrix: ${{ parameters.TestMatrix }}\n+      matrix:\n+        ${{ each matrixEntry in parameters.TestMatrix }}:\n+          # Skip TestFromSource jobs for SDKType data\n+          ${{ if not(and(eq(matrixEntry.value.TestFromSource, 'true'), eq(parameters.SDKType, 'data'))) }}:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NjEyMjIx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16390#pullrequestreview-509612221", "createdAt": "2020-10-15T17:30:57Z", "commit": {"oid": "6f6d3b7e9da7dd1dd42af245ab2f006e14a687cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1967, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}