{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNDI4MDAx", "number": 7489, "title": "Moving aggregate reports out of the unified pipelines.", "bodyText": "This PR moves the aggregate reports out of the Analyze stage and drops them into a separate pipeline which is setup to run on a schedule.", "createdAt": "2020-01-16T02:40:51Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489", "merged": true, "mergeCommit": {"oid": "be14e366290ed87a310021d2671d258fe8cc411d"}, "closed": true, "closedAt": "2020-01-21T02:07:06Z", "author": {"login": "mitchdenny"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6w4J9gH2gAyMzYzNDI4MDAxOmQ0MjIzZTlhYzQ0NjViMGYxNjlmYjEyYmJkMGM1ZjgzNWE2ZTlhNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8W35WgH2gAyMzYzNDI4MDAxOjg5ZDI3YjBiOGI5YTg4MGI5OWRmYTM3MjA0ZWIxMDc4YzE3YWRiYzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4223e9ac4465b0f169fb12bbd0c5f835a6e9a6f", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4223e9ac4465b0f169fb12bbd0c5f835a6e9a6f", "committedDate": "2020-01-16T02:39:19Z", "message": "Moving aggregate reports out of the unified pipelines."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb90a9eb3aaf2b156361134fb623a297bfcfadde", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/eb90a9eb3aaf2b156361134fb623a297bfcfadde", "committedDate": "2020-01-16T02:46:08Z", "message": "Remove conditions on aggregate report steps in seperate pipeline."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0339a8ce1268d93f67d71d250b6e5ba7e9fa0ae2", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0339a8ce1268d93f67d71d250b6e5ba7e9fa0ae2", "committedDate": "2020-01-16T03:06:34Z", "message": "Add variables and mmove more plumbing across."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "016c047e4d57b159bd1da8686f06e015c447e49f", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/016c047e4d57b159bd1da8686f06e015c447e49f", "committedDate": "2020-01-16T03:08:05Z", "message": "Fix typo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "committedDate": "2020-01-16T03:12:57Z", "message": "Add back install of reporting tools."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjU4Nzg1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#pullrequestreview-343658785", "createdAt": "2020-01-16T03:43:47Z", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0Mzo0N1rOFeNN4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0Mzo0N1rOFeNN4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA==", "bodyText": "This doesn't run aggregates or anything, was this removed since parent is less useful given @JimSuplizio's version management changes?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367218144", "createdAt": "2020-01-16T03:43:47Z", "author": {"login": "alzimmermsft"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -156,17 +156,17 @@ jobs:\n           Options: --batch-mode\n           MavenOptions: $(MemoryOptions) $(LoggingOptions)\n \n-      - task: Maven@3\n-        displayName: 'Install azure-sdk-parent'\n-        inputs:\n-          mavenPomFile: parent/pom.xml\n-          options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n-          mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n-          javaHomeOption: 'JDKVersion'\n-          jdkVersionOption: '1.11'\n-          jdkArchitectureOption: 'x64'\n-          publishJUnitResults: false\n-          goals: 'install'\n+      # - task: Maven@3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjU5NTA1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#pullrequestreview-343659505", "createdAt": "2020-01-16T03:47:30Z", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0NzozMFrOFeNQWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwMzo0NzozMFrOFeNQWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODc3OA==", "bodyText": "@JonathanGiles, should we skip SpotBugs and Checkstyles here given master would be in an invalid state of they failed? Another option would be to continue running them in this step but turn failures off to generate, may want to do that whole sale for Javadocs and RevApi as well here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367218778", "createdAt": "2020-01-16T03:47:30Z", "author": {"login": "alzimmermsft"}, "path": "eng/pipelines/aggregate-reports.yml", "diffHunk": "@@ -1,6 +1,67 @@\n trigger: none\n pr: none\n \n-steps:\n-    - script: | \n-        hello world\n\\ No newline at end of file\n+\n+jobs:\n+  - job: Generate\n+    variables:\n+      - template: templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-16.04'\n+    steps:\n+    - template: templates/steps/install-reporting-tools.yml\n+      parameters:\n+        Options: --batch-mode\n+        MavenOptions: $(MemoryOptions) $(LoggingOptions)\n+\n+    - task: Maven@3\n+      displayName: 'Install azure-sdk-parent'\n+      inputs:\n+        mavenPomFile: parent/pom.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install'\n+\n+    - task: Maven@3\n+      displayName: 'Generate Maven project site, including JavaDocs, SpotBugs, and CheckStyle reports'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzODQwMDA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#pullrequestreview-343840009", "createdAt": "2020-01-16T11:17:33Z", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMToxNzozM1rOFeWC2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMToxNzozM1rOFeWC2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM2Mjc3OQ==", "bodyText": "Don't need install here. site:site site:stage will generate all 3 reports.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367362779", "createdAt": "2020-01-16T11:17:33Z", "author": {"login": "srnagar"}, "path": "eng/pipelines/aggregate-reports.yml", "diffHunk": "@@ -1,6 +1,67 @@\n trigger: none\n pr: none\n \n-steps:\n-    - script: | \n-        hello world\n\\ No newline at end of file\n+\n+jobs:\n+  - job: Generate\n+    variables:\n+      - template: templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-16.04'\n+    steps:\n+    - template: templates/steps/install-reporting-tools.yml\n+      parameters:\n+        Options: --batch-mode\n+        MavenOptions: $(MemoryOptions) $(LoggingOptions)\n+\n+    - task: Maven@3\n+      displayName: 'Install azure-sdk-parent'\n+      inputs:\n+        mavenPomFile: parent/pom.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install'\n+\n+    - task: Maven@3\n+      displayName: 'Generate Maven project site, including JavaDocs, SpotBugs, and CheckStyle reports'\n+      inputs:\n+        mavenPomFile: pom.client.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions) $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install site:site site:stage'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzOTYyOTA1", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#pullrequestreview-343962905", "createdAt": "2020-01-16T14:43:53Z", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDo0Mzo1M1rOFebvJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDo0Mzo1M1rOFebvJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1NjAzNw==", "bodyText": "@alzimmermsft the parent still contains some plugin definitions. It's unclear if we can simply remove it but maybe we should look at if we can. I'd love to have less 'stuff' in our repo.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367456037", "createdAt": "2020-01-16T14:43:53Z", "author": {"login": "JimSuplizio"}, "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -156,17 +156,17 @@ jobs:\n           Options: --batch-mode\n           MavenOptions: $(MemoryOptions) $(LoggingOptions)\n \n-      - task: Maven@3\n-        displayName: 'Install azure-sdk-parent'\n-        inputs:\n-          mavenPomFile: parent/pom.xml\n-          options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n-          mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n-          javaHomeOption: 'JDKVersion'\n-          jdkVersionOption: '1.11'\n-          jdkArchitectureOption: 'x64'\n-          publishJUnitResults: false\n-          goals: 'install'\n+      # - task: Maven@3", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA=="}, "originalCommit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MDkzNzQy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#pullrequestreview-344093742", "createdAt": "2020-01-16T17:37:09Z", "commit": {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3ac0f54cecf5d2886a1dfc326ce86f71fd9fd47", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d3ac0f54cecf5d2886a1dfc326ce86f71fd9fd47", "committedDate": "2020-01-20T22:20:18Z", "message": "Remove install goal."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4c0c982fc0e24b0ca74bb6286c4168ce6a01751", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a4c0c982fc0e24b0ca74bb6286c4168ce6a01751", "committedDate": "2020-01-21T01:20:31Z", "message": "Put install goal back in."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d27b0b8b9a880b99dfa37204eb1078c17adbc1", "author": {"user": {"login": "mitchdenny", "name": "Mitch Denny"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/89d27b0b8b9a880b99dfa37204eb1078c17adbc1", "committedDate": "2020-01-21T01:29:21Z", "message": "Trying to replicate core build performance."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 404, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}