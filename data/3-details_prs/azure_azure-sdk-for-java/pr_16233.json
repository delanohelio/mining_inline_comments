{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMDQ0NjQ5", "number": 16233, "title": "Mgmt: Fix live test error", "bodyText": "left: @weidongxu-microsoft com.azure.resourcemanager.samples.AppServiceSampleLiveOnlyTests.testManageLinuxWebAppWithTrafficManager", "createdAt": "2020-10-13T07:04:10Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233", "merged": true, "mergeCommit": {"oid": "5f0b0878d3b16e4e31c5a3c1cc8bcfe94466fe65"}, "closed": true, "closedAt": "2020-10-13T07:42:07Z", "author": {"login": "ChenTanyi"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSCUqVgH2gAyNTAyMDQ0NjQ5OjZiNGQ2OWI1NTE4Y2RkYTA4N2E3NTgzMTMwNzRiMjU3ZTQ1NGU3MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSDSpIgFqTUwNzEzMzUzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b4d69b5518cdda087a758313074b257e454e732", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6b4d69b5518cdda087a758313074b257e454e732", "committedDate": "2020-10-13T06:10:15Z", "message": "fix sample test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98", "author": {"user": {"login": "ChenTanyi", "name": "Tanyi Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b551d7f3d4fe7495ea5f055767d598453d813f98", "committedDate": "2020-10-13T07:02:42Z", "message": "fix sample"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTI1MjM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#pullrequestreview-507125239", "createdAt": "2020-10-13T07:05:17Z", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNToxN1rOHgYLsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNToxN1rOHgYLsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxMjY5MQ==", "bodyText": "would need to change authenticate(httpPipeline, profile) in #16144", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503712691", "createdAt": "2020-10-13T07:05:17Z", "author": {"login": "ChenTanyi"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/test/java/com/azure/resourcemanager/samples/AppServiceSampleLiveOnlyTests.java", "diffHunk": "@@ -136,8 +142,11 @@ public void testManageFunctionAppLogs() throws IOException {\n         if (skipInPlayback()) {\n             return;\n         }\n-        // require a longer read timeout in HttpClient\n-        // e.g., new NettyAsyncHttpClientBuilder().readTimeout(Duration.ofMinutes(10))\n+        azureResourceManager = AzureResourceManager.authenticate(\n+            setReadTimeout(azureResourceManager.storageAccounts().manager().httpPipeline(), Duration.ofMinutes(10)),\n+            new AzureProfile(azureResourceManager.tenantId(), azureResourceManager.subscriptionId(), AzureEnvironment.AZURE)\n+        )\n+            .withDefaultSubscription();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTI2NDM0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#pullrequestreview-507126434", "createdAt": "2020-10-13T07:07:22Z", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNzoyM1rOHgYPJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzowNzoyM1rOHgYPJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxMzU3Mg==", "bodyText": "Why vm size changes here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503713572", "createdAt": "2020-10-13T07:07:23Z", "author": {"login": "xseeseesee"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/kubernetescluster/samples/DeployImageFromContainerRegistryToKubernetes.java", "diffHunk": "@@ -144,8 +145,9 @@ public static boolean runSample(AzureResourceManager azureResourceManager, Strin\n                 .withServicePrincipalClientId(servicePrincipalClientId)\n                 .withServicePrincipalSecret(servicePrincipalSecret)\n                 .defineAgentPool(\"agentpool\")\n-                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D1_V2)\n+                    .withVirtualMachineSize(ContainerServiceVMSizeTypes.STANDARD_D2_V2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTI3OTUx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#pullrequestreview-507127951", "createdAt": "2020-10-13T07:09:44Z", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTI4NDk5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#pullrequestreview-507128499", "createdAt": "2020-10-13T07:10:34Z", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMDozNFrOHgYVZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoxMDozNFrOHgYVZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcxNTE3Mg==", "bodyText": "Long term, we might probably try fix this docker file (or rather, use JAR deployment directly).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#discussion_r503715172", "createdAt": "2020-10-13T07:10:34Z", "author": {"login": "weidongxu-microsoft"}, "path": "sdk/resourcemanager/azure-resourcemanager-samples/src/main/java/com/azure/resourcemanager/appservice/samples/ManageLinuxWebAppCosmosDbByMsi.java", "diffHunk": "@@ -167,13 +167,18 @@ public static boolean runSample(AzureResourceManager azure, String clientId) thr\n             DockerClient dockerClient = DockerUtils.createDockerClient(azure, rgName, region,\n                     azureRegistry.loginServerUrl(), acrCredentials.username(), acrCredentials.accessKeys().get(AccessKeyType.PRIMARY));\n \n+            String imageName = \"tomcat:7.0-slim\";\n             String privateRepoUrl = azureRegistry.loginServerUrl() + \"/todoapp\";\n-            dockerClient.buildImageCmd(new File(ManageLinuxWebAppCosmosDbByMsi.class.getResource(\"/todoapp-cosmosdb/Dockerfile\").getFile()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTMzNTM5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16233#pullrequestreview-507133539", "createdAt": "2020-10-13T07:17:57Z", "commit": {"oid": "b551d7f3d4fe7495ea5f055767d598453d813f98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2140, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}