{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MTkzNDA0", "number": 15362, "title": "Return 401 instead of 500 if JWT expired.", "bodyText": "Return 401 instead of 500 if JWT expired.", "createdAt": "2020-09-18T09:28:59Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362", "merged": true, "mergeCommit": {"oid": "2265b223cffa0165fa6b05297af4f90e52ef2a5f"}, "closed": true, "closedAt": "2020-09-22T07:16:40Z", "author": {"login": "chenrujun"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdK8bsjAH2gAyNDg5MTkzNDA0OjU5ZTU0MGE3NDU1Yzc0MjM0YTAxODkyYWNlYmM5MDQ5NGU3NmRjYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLSb0qgFqTQ5MzE3MTI5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59e540a7455c74234a01892acebc90494e76dcb5", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/59e540a7455c74234a01892acebc90494e76dcb5", "committedDate": "2020-09-21T05:21:02Z", "message": "Return '401' in AADAuthenticationFilter if JWT expired."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a40ff100a34ff706b46358feb2d382aae48fec", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b8a40ff100a34ff706b46358feb2d382aae48fec", "committedDate": "2020-09-21T05:21:03Z", "message": "Return '401' in AADAppRoleStatelessAuthenticationFilter if JWT expired."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "210e444a3dfd628815f66c23f81f813c6c952b19", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/210e444a3dfd628815f66c23f81f813c6c952b19", "committedDate": "2020-09-21T05:21:03Z", "message": "Return '401' for all kinds of BadJWTException."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c3a7f63240c796946028480eb8782045e300e92", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c3a7f63240c796946028480eb8782045e300e92", "committedDate": "2020-09-21T05:21:04Z", "message": "Fix integration test: not reghrow JWTException."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e173ab1553bec4c672b3b41028f042ee9e8f644", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5e173ab1553bec4c672b3b41028f042ee9e8f644", "committedDate": "2020-09-21T01:49:55Z", "message": "Fix integration test: not reghrow JWTException."}, "afterCommit": {"oid": "4c3a7f63240c796946028480eb8782045e300e92", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c3a7f63240c796946028480eb8782045e300e92", "committedDate": "2020-09-21T05:21:04Z", "message": "Fix integration test: not reghrow JWTException."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "428b915a69056c7e6e6e20976b7099dc3a07f8ef", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/428b915a69056c7e6e6e20976b7099dc3a07f8ef", "committedDate": "2020-09-21T07:03:58Z", "message": "Fix integration test error in KeyVaultIt.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0a106063d52a7ccd69927cf1952287eac632d09", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f0a106063d52a7ccd69927cf1952287eac632d09", "committedDate": "2020-09-22T04:56:56Z", "message": "Delete boolean variable: cleanupRequired"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bebf1d850309cbd337cad248513cc444ec6431c7", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/bebf1d850309cbd337cad248513cc444ec6431c7", "committedDate": "2020-09-22T05:17:12Z", "message": "Recover logic: execute 'filterChain.doFilter' even if (aadIssuedBearerToken == null || alreadyAuthenticated())."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "213be79bb4e9319e69dd9024391c69356580959f", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/213be79bb4e9319e69dd9024391c69356580959f", "committedDate": "2020-09-22T05:21:03Z", "message": "Add aadIssuedBearerToken in AADAuthenticationFilter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02f15b2bea194b14b21544f9f74175d8dbf866b4", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/02f15b2bea194b14b21544f9f74175d8dbf866b4", "committedDate": "2020-09-22T05:22:24Z", "message": "Remove unused variable."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a0468d2f0b8f7cbe356816079d0093b6590ef35", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a0468d2f0b8f7cbe356816079d0093b6590ef35", "committedDate": "2020-09-22T05:32:12Z", "message": "Fix: use 'getHeader' instead of 'getAttribute'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f92cd968494b8f13db1ad199d76346b1089c96c9", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f92cd968494b8f13db1ad199d76346b1089c96c9", "committedDate": "2020-09-22T05:42:38Z", "message": "Move 'bearer' constant to Constants.java."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33bc4075f52fb743ff878b29ea1a7262e0cd57ee", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/33bc4075f52fb743ff878b29ea1a7262e0cd57ee", "committedDate": "2020-09-22T05:48:35Z", "message": "No logic change, just format code."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4ec7473efdcdcab4642fd764bd64a82ff126655", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c4ec7473efdcdcab4642fd764bd64a82ff126655", "committedDate": "2020-09-22T05:51:56Z", "message": "Add a whitespace at the end of 'Bearer'."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMTUyNzg0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362#pullrequestreview-493152784", "createdAt": "2020-09-22T06:21:47Z", "commit": {"oid": "c4ec7473efdcdcab4642fd764bd64a82ff126655"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNjoyMTo0N1rOHVrl0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNjoyMTo0N1rOHVrl0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ5NjMzOA==", "bodyText": "Do we need to add some verification logic here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362#discussion_r492496338", "createdAt": "2020-09-22T06:21:47Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/test/java/com/microsoft/azure/spring/autoconfigure/aad/AADAppRoleAuthenticationFilterTest.java", "diffHunk": "@@ -105,8 +105,8 @@ public void testDoFilterGoodCase()\n         assertNull(\"Authentication has not been cleaned up!\", SecurityContextHolder.getContext().getAuthentication());\n     }\n \n-    @Test(expected = ServletException.class)\n-    public void testDoFilterShouldRethrowJWTException()\n+    @Test\n+    public void testDoFilterShouldNotRethrowJWTException()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4ec7473efdcdcab4642fd764bd64a82ff126655"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00c6919952cd5ec4c928697a4c9e985054776219", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/00c6919952cd5ec4c928697a4c9e985054776219", "committedDate": "2020-09-22T06:46:39Z", "message": "Check the status of response in unit test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0cb9c310fe47d9fbd390d6fa9855ed713347f8d", "author": {"user": {"login": "chenrujun", "name": "Rujun Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d0cb9c310fe47d9fbd390d6fa9855ed713347f8d", "committedDate": "2020-09-22T06:49:42Z", "message": "Update method name of unit test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMTcxMjky", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362#pullrequestreview-493171292", "createdAt": "2020-09-22T06:59:05Z", "commit": {"oid": "d0cb9c310fe47d9fbd390d6fa9855ed713347f8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3404, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}