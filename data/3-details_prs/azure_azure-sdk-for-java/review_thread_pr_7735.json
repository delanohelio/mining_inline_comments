{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NjIwNTcx", "number": 7735, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMzowODoyNlrODbDeqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo0MTowN1rODbFGLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Njk1MTQ1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMzowODoyNlrOFiUl6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQyMDowNDo1N1rOFiyx6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzMzI4OQ==", "bodyText": "This shouldn't be true in blobs anymore", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371533289", "createdAt": "2020-01-27T23:08:26Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "diffHunk": "@@ -368,6 +376,131 @@ public String getFileName() {\n         }\n     }\n \n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions)\n+            .flatMap(FluxUtil::toMono);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAyNzg4Mw==", "bodyText": "removed them in blobs and datalake", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r372027883", "createdAt": "2020-01-28T20:04:57Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "diffHunk": "@@ -368,6 +376,131 @@ public String getFileName() {\n         }\n     }\n \n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions)\n+            .flatMap(FluxUtil::toMono);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzMzI4OQ=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Njk3MDEwOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-file-datalake/src/test/java/com/azure/storage/file/datalake/FileAPITest.groovy", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMzoxNjozMVrOFiUxJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQwMDozMzoxOVrOFtIP-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzNjE2NA==", "bodyText": "Can we converge on using the compare files method we have for blobs? It might actually be worthwhile to have a test common at some point...\nAnd testing a few different data sizes and different values for the ParallelTransferOptions would be good, too", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371536164", "createdAt": "2020-01-27T23:16:31Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/test/java/com/azure/storage/file/datalake/FileAPITest.groovy", "diffHunk": "@@ -1021,6 +1026,112 @@ class FileAPITest extends APISpec {\n         thrown(NullPointerException)\n     }\n \n+    def \"Download to file exists\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        // Default overwrite is false so this should fail\n+        fc.downloadToFile(testFile.getPath())\n+\n+        then:\n+        def ex = thrown(UncheckedIOException)\n+        ex.getCause() instanceof FileAlreadyExistsException\n+\n+        cleanup:\n+        testFile.delete()\n+    }\n+\n+    def \"Download to file exists succeeds\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        fc.downloadToFile(testFile.getPath(), true)\n+\n+        then:\n+        new String(Files.readAllBytes(testFile.toPath()), StandardCharsets.UTF_8) == defaultText", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzODUwNA==", "bodyText": "Will do, the only reason I didnt port those tests over was because I havent ported the uploadFromFile methods yet and I wanted to wait til I had that to work with larger datasets", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371538504", "createdAt": "2020-01-27T23:23:46Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/test/java/com/azure/storage/file/datalake/FileAPITest.groovy", "diffHunk": "@@ -1021,6 +1026,112 @@ class FileAPITest extends APISpec {\n         thrown(NullPointerException)\n     }\n \n+    def \"Download to file exists\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        // Default overwrite is false so this should fail\n+        fc.downloadToFile(testFile.getPath())\n+\n+        then:\n+        def ex = thrown(UncheckedIOException)\n+        ex.getCause() instanceof FileAlreadyExistsException\n+\n+        cleanup:\n+        testFile.delete()\n+    }\n+\n+    def \"Download to file exists succeeds\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        fc.downloadToFile(testFile.getPath(), true)\n+\n+        then:\n+        new String(Files.readAllBytes(testFile.toPath()), StandardCharsets.UTF_8) == defaultText", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzNjE2NA=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU0OTI2Mg==", "bodyText": "If you're planning on adding those methods and tests before the next release, I'm fine on waiting for the next PR", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371549262", "createdAt": "2020-01-28T00:00:01Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/test/java/com/azure/storage/file/datalake/FileAPITest.groovy", "diffHunk": "@@ -1021,6 +1026,112 @@ class FileAPITest extends APISpec {\n         thrown(NullPointerException)\n     }\n \n+    def \"Download to file exists\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        // Default overwrite is false so this should fail\n+        fc.downloadToFile(testFile.getPath())\n+\n+        then:\n+        def ex = thrown(UncheckedIOException)\n+        ex.getCause() instanceof FileAlreadyExistsException\n+\n+        cleanup:\n+        testFile.delete()\n+    }\n+\n+    def \"Download to file exists succeeds\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        fc.downloadToFile(testFile.getPath(), true)\n+\n+        then:\n+        new String(Files.readAllBytes(testFile.toPath()), StandardCharsets.UTF_8) == defaultText", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzNjE2NA=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg2NTQwMA==", "bodyText": "just added the extra download to file tests", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r382865400", "createdAt": "2020-02-22T00:33:19Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/test/java/com/azure/storage/file/datalake/FileAPITest.groovy", "diffHunk": "@@ -1021,6 +1026,112 @@ class FileAPITest extends APISpec {\n         thrown(NullPointerException)\n     }\n \n+    def \"Download to file exists\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        // Default overwrite is false so this should fail\n+        fc.downloadToFile(testFile.getPath())\n+\n+        then:\n+        def ex = thrown(UncheckedIOException)\n+        ex.getCause() instanceof FileAlreadyExistsException\n+\n+        cleanup:\n+        testFile.delete()\n+    }\n+\n+    def \"Download to file exists succeeds\"() {\n+        setup:\n+        def testFile = new File(testName + \".txt\")\n+        if (!testFile.exists()) {\n+            assert testFile.createNewFile()\n+        }\n+        fc.append(new ByteArrayInputStream(defaultData.array()), 0, defaultDataSize)\n+        fc.flush(defaultDataSize)\n+\n+        when:\n+        fc.downloadToFile(testFile.getPath(), true)\n+\n+        then:\n+        new String(Files.readAllBytes(testFile.toPath()), StandardCharsets.UTF_8) == defaultText", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzNjE2NA=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzIxNTgyOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo0MDozMFrOFiXFlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxOToxNToyOVrOFkVPmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3NDE2Ng==", "bodyText": "Given this will be the first time the API is present in Datalake is there a need to include both WithResponse APIs? Instead could we just keep this one and remove the one that doesn't take an OpenOption Set?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371574166", "createdAt": "2020-01-28T01:40:30Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "diffHunk": "@@ -368,6 +376,131 @@ public String getFileName() {\n         }\n     }\n \n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions)\n+            .flatMap(FluxUtil::toMono);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,\n+        ParallelTransferOptions parallelTransferOptions, DownloadRetryOptions options,\n+        DataLakeRequestConditions requestConditions, boolean rangeGetContentMd5) {\n+        return downloadToFileWithResponse(filePath, range, parallelTransferOptions, options, requestConditions,\n+            rangeGetContentMd5, null);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>By default the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown. To override this behavior, provide appropriate\n+     * {@link OpenOption OpenOptions} </p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Set}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param openOptions {@link OpenOption OpenOptions} to use to configure how to open or create the file.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjExMDQ2Ng==", "bodyText": "I'm open to that idea. I just didnt know if we wanted to be at API parity with blobs or not, but it seems unnecessary to have all these overloads.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r372110466", "createdAt": "2020-01-28T23:10:48Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "diffHunk": "@@ -368,6 +376,131 @@ public String getFileName() {\n         }\n     }\n \n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions)\n+            .flatMap(FluxUtil::toMono);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,\n+        ParallelTransferOptions parallelTransferOptions, DownloadRetryOptions options,\n+        DataLakeRequestConditions requestConditions, boolean rangeGetContentMd5) {\n+        return downloadToFileWithResponse(filePath, range, parallelTransferOptions, options, requestConditions,\n+            rangeGetContentMd5, null);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>By default the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown. To override this behavior, provide appropriate\n+     * {@link OpenOption OpenOptions} </p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Set}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param openOptions {@link OpenOption OpenOptions} to use to configure how to open or create the file.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3NDE2Ng=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY0MTExMg==", "bodyText": "removed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r373641112", "createdAt": "2020-01-31T19:15:29Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileAsyncClient.java", "diffHunk": "@@ -368,6 +376,131 @@ public String getFileName() {\n         }\n     }\n \n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return A reactive response containing the file properties and metadata.\n+     */\n+    public Mono<PathProperties> downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions)\n+            .flatMap(FluxUtil::toMono);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,\n+        ParallelTransferOptions parallelTransferOptions, DownloadRetryOptions options,\n+        DataLakeRequestConditions requestConditions, boolean rangeGetContentMd5) {\n+        return downloadToFileWithResponse(filePath, range, parallelTransferOptions, options, requestConditions,\n+            rangeGetContentMd5, null);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>By default the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown. To override this behavior, provide appropriate\n+     * {@link OpenOption OpenOptions} </p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileAsyncClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Set}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param options {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param openOptions {@link OpenOption OpenOptions} to use to configure how to open or create the file.\n+     * @return A reactive response containing the file properties and metadata.\n+     * @throws IllegalArgumentException If {@code blockSize} is less than 0 or greater than 100MB.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Mono<Response<PathProperties>> downloadToFileWithResponse(String filePath, FileRange range,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3NDE2Ng=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzIxNjQ3OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMTo0MTowN1rOFiXF9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxOToxNToyNFrOFkVPcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3NDI2Mg==", "bodyText": "Same comment as the async client with removing the other WithResponse API.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r371574262", "createdAt": "2020-01-28T01:41:07Z", "author": {"login": "alzimmermsft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileClient.java", "diffHunk": "@@ -312,6 +319,140 @@ public FileReadResponse readWithResponse(OutputStream stream, FileRange range, D\n         }, logger);\n     }\n \n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return The file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs\n+     */\n+    public PathProperties downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return The file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs\n+     */\n+    public PathProperties downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions, null, Context.NONE)\n+            .getValue();\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Duration-Context}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param downloadRetryOptions {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param timeout An optional timeout value beyond which a {@link RuntimeException} will be raised.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     * @return A response containing the file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Response<PathProperties> downloadToFileWithResponse(String filePath, FileRange range,\n+        ParallelTransferOptions parallelTransferOptions, DownloadRetryOptions downloadRetryOptions,\n+        DataLakeRequestConditions requestConditions, boolean rangeGetContentMd5, Duration timeout, Context context) {\n+        return downloadToFileWithResponse(filePath, range, parallelTransferOptions, downloadRetryOptions,\n+            requestConditions, rangeGetContentMd5, null, timeout, context);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>By default the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown. To override this behavior, provide appropriate\n+     * {@link OpenOption OpenOptions} </p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Set-Duration-Context}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param downloadRetryOptions {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param openOptions {@link OpenOption OpenOptions} to use to configure how to open or create the file.\n+     * @param timeout An optional timeout value beyond which a {@link RuntimeException} will be raised.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     * @return A response containing the file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Response<PathProperties> downloadToFileWithResponse(String filePath, FileRange range,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 157}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY0MTA3NA==", "bodyText": "removed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7735#discussion_r373641074", "createdAt": "2020-01-31T19:15:24Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeFileClient.java", "diffHunk": "@@ -312,6 +319,140 @@ public FileReadResponse readWithResponse(OutputStream stream, FileRange range, D\n         }, logger);\n     }\n \n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFile#String}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @return The file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs\n+     */\n+    public PathProperties downloadToFile(String filePath) {\n+        return downloadToFile(filePath, false);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>If overwrite is set to false, the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFile#String-boolean}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param overwrite Whether or not to overwrite the file, should the file exist.\n+     * @return The file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs\n+     */\n+    public PathProperties downloadToFile(String filePath, boolean overwrite) {\n+        Set<OpenOption> openOptions = null;\n+        if (overwrite) {\n+            openOptions = new HashSet<>();\n+            openOptions.add(StandardOpenOption.CREATE);\n+            openOptions.add(StandardOpenOption.TRUNCATE_EXISTING); // If the file already exists and it is opened\n+            // for WRITE access, then its length is truncated to 0.\n+            openOptions.add(StandardOpenOption.READ);\n+            openOptions.add(StandardOpenOption.WRITE);\n+        }\n+        return downloadToFileWithResponse(filePath, null, null, null, null, false, openOptions, null, Context.NONE)\n+            .getValue();\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>The file will be created and must not exist, if the file already exists a {@link FileAlreadyExistsException}\n+     * will be thrown.</p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Duration-Context}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param downloadRetryOptions {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param timeout An optional timeout value beyond which a {@link RuntimeException} will be raised.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     * @return A response containing the file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Response<PathProperties> downloadToFileWithResponse(String filePath, FileRange range,\n+        ParallelTransferOptions parallelTransferOptions, DownloadRetryOptions downloadRetryOptions,\n+        DataLakeRequestConditions requestConditions, boolean rangeGetContentMd5, Duration timeout, Context context) {\n+        return downloadToFileWithResponse(filePath, range, parallelTransferOptions, downloadRetryOptions,\n+            requestConditions, rangeGetContentMd5, null, timeout, context);\n+    }\n+\n+    /**\n+     * Downloads the entire file into a file specified by the path.\n+     *\n+     * <p>By default the file will be created and must not exist, if the file already exists a\n+     * {@link FileAlreadyExistsException} will be thrown. To override this behavior, provide appropriate\n+     * {@link OpenOption OpenOptions} </p>\n+     *\n+     * <p>This method makes an extra HTTP call to get the length of the file in the beginning. To avoid this extra\n+     * call, provide the {@link FileRange} parameter.</p>\n+     *\n+     * <p><strong>Code Samples</strong></p>\n+     *\n+     * {@codesnippet com.azure.storage.file.datalake.DataLakeFileClient.downloadToFileWithResponse#String-FileRange-ParallelTransferOptions-DownloadRetryOptions-DataLakeRequestConditions-boolean-Set-Duration-Context}\n+     *\n+     * <p>For more information, see the\n+     * <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob\">Azure Docs</a></p>\n+     *\n+     * @param filePath A {@link String} representing the filePath where the downloaded data will be written.\n+     * @param range {@link FileRange}\n+     * @param parallelTransferOptions {@link ParallelTransferOptions} to use to download to file. Number of parallel\n+     * transfers parameter is ignored.\n+     * @param downloadRetryOptions {@link DownloadRetryOptions}\n+     * @param requestConditions {@link DataLakeRequestConditions}\n+     * @param rangeGetContentMd5 Whether the contentMD5 for the specified file range should be returned.\n+     * @param openOptions {@link OpenOption OpenOptions} to use to configure how to open or create the file.\n+     * @param timeout An optional timeout value beyond which a {@link RuntimeException} will be raised.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     * @return A response containing the file properties and metadata.\n+     * @throws UncheckedIOException If an I/O error occurs.\n+     */\n+    public Response<PathProperties> downloadToFileWithResponse(String filePath, FileRange range,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU3NDI2Mg=="}, "originalCommit": {"oid": "3a1b09616188d839ee24b88485984d0c999176d0"}, "originalPosition": 157}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3756, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}