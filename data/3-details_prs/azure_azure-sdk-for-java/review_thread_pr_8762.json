{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0Mzg0ODgw", "number": 8762, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozMjoyNVrODmfCcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozMjoyNVrODmfCcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjgxMDA5OnYy", "diffSide": "RIGHT", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClient.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozMjoyNVrOFz7kxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozMjoyNVrOFz7kxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5Nzc2Nw==", "bodyText": "Here we need to validate the scope passed in doesn't contain any characters which could cause us to execute something unintended. See https://github.com/Azure/azure-sdk-for-net/blob/23cc9455cf501d6a65ce8faaedb27242b27c3b51/sdk/identity/Azure.Identity/src/ScopeUtilities.cs#L46-L54", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8762#discussion_r389997767", "createdAt": "2020-03-09T22:32:25Z", "author": {"login": "schaabs"}, "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/IdentityClient.java", "diffHunk": "@@ -122,6 +140,97 @@\n         }\n     }\n \n+    /**\n+     * Asynchronously acquire a token from Active Directory with Azure CLI.\n+     *\n+     * @param request the details of the token request\n+     * @return a Publisher that emits an AccessToken\n+     */\n+    public Mono<AccessToken> authenticateWithAzureCli(TokenRequestContext request) {\n+        String azCommand = \"az account get-access-token --output json --resource \";\n+\n+        StringBuilder command = new StringBuilder();\n+        command.append(azCommand);\n+        String scopes = ScopeUtil.scopesToResource(request.getScopes());\n+        command.append(scopes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5c2fea9179475fc035d1ef120a553a1cf2b7c8"}, "originalPosition": 72}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 253, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}