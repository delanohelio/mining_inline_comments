{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4OTE1NTk5", "number": 7090, "title": "Recreating connections on transient failures", "bodyText": "Reopens connection on transient errors.\nFixes #4352", "createdAt": "2020-01-03T08:55:54Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7090", "merged": true, "mergeCommit": {"oid": "cac2ac95ca9ba974a8e968b0a2665f7c07a15488"}, "closed": true, "closedAt": "2020-01-07T20:08:25Z", "author": {"login": "conniey"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb20vAngFqTMzODI3MDI2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4F1BwABqjI5Mjg3NjY3MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MjcwMjYz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7090#pullrequestreview-338270263", "createdAt": "2020-01-03T20:53:14Z", "commit": {"oid": "3e032bf6f61e1347b0b9eb35ea59ee11476334b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo1MzoxNVrOFaJLIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo1MzoxNVrOFaJLIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NzYwMA==", "bodyText": "This is not the copyright text we use. Is EventHubConnectionProcessor code provided by Pivotal Software and they require us to have this copyright text instead?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7090#discussion_r362957600", "createdAt": "2020-01-03T20:53:15Z", "author": {"login": "srnagar"}, "path": "sdk/eventhubs/azure-messaging-eventhubs/src/main/java/com/azure/messaging/eventhubs/implementation/EventHubConnectionProcessor.java", "diffHunk": "@@ -0,0 +1,268 @@\n+/*\n+ * Copyright (c) 2011-2017 Pivotal Software Inc, All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e032bf6f61e1347b0b9eb35ea59ee11476334b0"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MjcxNzEy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7090#pullrequestreview-338271712", "createdAt": "2020-01-03T20:57:16Z", "commit": {"oid": "8fa453fd56f40b43caec79841ef0a5aa6fe1dfac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fa453fd56f40b43caec79841ef0a5aa6fe1dfac", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8fa453fd56f40b43caec79841ef0a5aa6fe1dfac", "committedDate": "2020-01-03T20:55:19Z", "message": "Fix header."}, "afterCommit": {"oid": "082937ffda014d8676eb7d8be3359e79aea642fc", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/082937ffda014d8676eb7d8be3359e79aea642fc", "committedDate": "2020-01-04T15:08:51Z", "message": "Fix checkstyle."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "082937ffda014d8676eb7d8be3359e79aea642fc", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/082937ffda014d8676eb7d8be3359e79aea642fc", "committedDate": "2020-01-04T15:08:51Z", "message": "Fix checkstyle."}, "afterCommit": {"oid": "94987649d8dba7470648fba27f61450503ca0e88", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/94987649d8dba7470648fba27f61450503ca0e88", "committedDate": "2020-01-07T09:14:06Z", "message": "Fix unit tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "378fb1d7a94ce7334bbaad1d3d0e3c555d34b6a2", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/378fb1d7a94ce7334bbaad1d3d0e3c555d34b6a2", "committedDate": "2020-01-07T19:14:22Z", "message": "Adding EventHubConnectionProcessor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b36d9f63763721505199502eb59b80a226415bb1", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b36d9f63763721505199502eb59b80a226415bb1", "committedDate": "2020-01-07T19:14:22Z", "message": "Adding tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c9bfbdc265d9d82da19e002c2ca0760fe617ddd", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8c9bfbdc265d9d82da19e002c2ca0760fe617ddd", "committedDate": "2020-01-07T19:14:23Z", "message": "Removing unneeded local variable assignment."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66e9fca047c2f8c8d8da93a7f66392af9eede4ba", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/66e9fca047c2f8c8d8da93a7f66392af9eede4ba", "committedDate": "2020-01-07T19:14:23Z", "message": "Add tests for fetching new connection."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e410ce187f560f59400415026fed4bb578160702", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e410ce187f560f59400415026fed4bb578160702", "committedDate": "2020-01-07T19:14:23Z", "message": "Replace ConcurrentLinkedDequeue with ArrayList."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64ba300756ae12f07d28760a97191cfe32fdbeb3", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/64ba300756ae12f07d28760a97191cfe32fdbeb3", "committedDate": "2020-01-07T19:14:23Z", "message": "Add tests to ensure on error conditions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "721d33e1c4648c8b5c18b80e6309443b571cd687", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/721d33e1c4648c8b5c18b80e6309443b571cd687", "committedDate": "2020-01-07T19:14:23Z", "message": "Require not null for EventConnection subscribe methods\u02c6."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67cfe0f9809e6980cc84fc3f5de2d4f6726a0984", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/67cfe0f9809e6980cc84fc3f5de2d4f6726a0984", "committedDate": "2020-01-07T19:14:24Z", "message": "Remove circuar dependency on EventHubConnection from EventHubConnectionProcessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0214e1ae944db496f7ec502f8101e86f85fdc055", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0214e1ae944db496f7ec502f8101e86f85fdc055", "committedDate": "2020-01-07T19:14:24Z", "message": "Removing EventHubConnection."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3a00308e7da2ed46b1e84da74c80d7e735ca5cc", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a3a00308e7da2ed46b1e84da74c80d7e735ca5cc", "committedDate": "2020-01-07T19:14:24Z", "message": "Update AmqpConnection interface to create send and receive links."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaa362633dc608284d1921edc993e28d16af4b0c", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/aaa362633dc608284d1921edc993e28d16af4b0c", "committedDate": "2020-01-07T19:14:24Z", "message": "Fixing errors in ConnectionProcessor and update ReactorAmqpConnection to keep track of send links."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "603833fb568039439cbefda8f0469dd8865d9c76", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/603833fb568039439cbefda8f0469dd8865d9c76", "committedDate": "2020-01-07T19:14:25Z", "message": "Update clients to use ConnectionProcessor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b3a99806f563ea57232f419388d55734786f06", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/29b3a99806f563ea57232f419388d55734786f06", "committedDate": "2020-01-07T19:14:25Z", "message": "Update tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f5e19a04085943bc310d91f6f5e055800ad965", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/89f5e19a04085943bc310d91f6f5e055800ad965", "committedDate": "2020-01-07T19:14:25Z", "message": "Fix tests for consumers."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abc2a70979f036f896c83344ebe0ebf6578fcaf4", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/abc2a70979f036f896c83344ebe0ebf6578fcaf4", "committedDate": "2020-01-07T19:14:25Z", "message": "Fixing EHubClientBuilder to repeat the mono, so we have a potentially infinite stream of connections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aec04f6a3890bc25558f250bdac889e3baefd3e8", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/aec04f6a3890bc25558f250bdac889e3baefd3e8", "committedDate": "2020-01-07T19:14:26Z", "message": "Add test to verify that on non-transient errors, the connection is not revived."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a173c0f3cb61273fe048ffc68f3fce6135e1923", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a173c0f3cb61273fe048ffc68f3fce6135e1923", "committedDate": "2020-01-07T19:14:26Z", "message": "Adding log messages."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d53234e3ee8e2332705698a69a8c9473bfa500ef", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d53234e3ee8e2332705698a69a8c9473bfa500ef", "committedDate": "2020-01-07T19:14:26Z", "message": "Fix header."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30d4ec327aac9fd67787789770181bea40e34521", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/30d4ec327aac9fd67787789770181bea40e34521", "committedDate": "2020-01-07T19:14:26Z", "message": "Fix checkstyle."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad9be4abf6fa659922302c461d9981885c3aec2d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ad9be4abf6fa659922302c461d9981885c3aec2d", "committedDate": "2020-01-07T19:14:26Z", "message": "Remove logging for info."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8dd64aadca183232c1ab1814ca5d682d86c35d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a8dd64aadca183232c1ab1814ca5d682d86c35d", "committedDate": "2020-01-07T19:14:27Z", "message": "Fix Event Hub Consumer tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d44bfa677537a183542b81f531d044f06b94f29b", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d44bfa677537a183542b81f531d044f06b94f29b", "committedDate": "2020-01-07T19:14:27Z", "message": "Using parallel scheduler."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10737630e976b84917b3027395257e0d56adcec3", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/10737630e976b84917b3027395257e0d56adcec3", "committedDate": "2020-01-07T19:14:27Z", "message": "Delay retrying EventHubConnection creation on a transient error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f74cacd783302287e68653f0320bb63f1f1f761", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2f74cacd783302287e68653f0320bb63f1f1f761", "committedDate": "2020-01-07T19:14:27Z", "message": "Update to .toMillis()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "526f996e88c6597c01c2bb1d3d9e1f026205e389", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/526f996e88c6597c01c2bb1d3d9e1f026205e389", "committedDate": "2020-01-07T19:14:27Z", "message": "Setting retry options."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca903dc1afa25685639da1afc605c5c876905638", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ca903dc1afa25685639da1afc605c5c876905638", "committedDate": "2020-01-07T19:14:28Z", "message": "Complete subscriber."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "079dbdbccc6226404be321ba17d870153ec2b5bd", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/079dbdbccc6226404be321ba17d870153ec2b5bd", "committedDate": "2020-01-07T19:14:28Z", "message": "Consolidate request from upstream for new connection."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38fe3a56f44616622dda3227c2f99454b530b054", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/38fe3a56f44616622dda3227c2f99454b530b054", "committedDate": "2020-01-07T19:14:28Z", "message": "Fix unit tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27614c58b37216aa83e951ec7c806e502a48f79b", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/27614c58b37216aa83e951ec7c806e502a48f79b", "committedDate": "2020-01-07T19:14:28Z", "message": "Not requesting new connection unless needed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd404de02877c94492cd90e23542627b0db8bfa8", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cd404de02877c94492cd90e23542627b0db8bfa8", "committedDate": "2020-01-07T19:14:28Z", "message": "Fixing tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dff1595e66f89b2428a6c63fb1f4d3655dfd598", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dff1595e66f89b2428a6c63fb1f4d3655dfd598", "committedDate": "2020-01-07T19:21:46Z", "message": "Fixing checkstyle issues."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "393b6511fe8870688897da4f02c17a5e3b93c4e5", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/393b6511fe8870688897da4f02c17a5e3b93c4e5", "committedDate": "2020-01-07T18:41:15Z", "message": "Fixing tests."}, "afterCommit": {"oid": "7dff1595e66f89b2428a6c63fb1f4d3655dfd598", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dff1595e66f89b2428a6c63fb1f4d3655dfd598", "committedDate": "2020-01-07T19:21:46Z", "message": "Fixing checkstyle issues."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 737, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}