{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNTYwMzY2", "number": 10023, "title": "Remove account name from host", "bodyText": "The task is to hide the account name from playback jsons.\nI have checked the record and playback in appConfig. (Both passed)\nRecord host like below:\n\"Uri\" : \"https://REDACTED.azconfig.io/kv/key2899449606b?api-version=1.0\"\n\nFirst phase is to update the record policy.\nThen we can re-record for all client libraries.", "createdAt": "2020-04-09T17:47:20Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10023", "merged": true, "mergeCommit": {"oid": "519e250feb6ddb2794a07453d4dfe232f5fe3fac"}, "closed": true, "closedAt": "2020-04-09T21:09:53Z", "author": {"login": "sima-zhu"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWAK8PAH2gAyNDAxNTYwMzY2OmQ3M2E4ZmFlNTRkZmEyYmEyNGUwYTA5YzZlNGYxMWM5YmQ1M2E5MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWDFEWAFqTM5MTEzMzExMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d73a8fae54dfa2ba24e0a09c6e4f11c9bd53a907", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d73a8fae54dfa2ba24e0a09c6e4f11c9bd53a907", "committedDate": "2020-04-09T17:44:22Z", "message": "Remove account name from host"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e4f00b6f4888800fae2a6e283c99e8d33e17ecd", "author": {"user": {"login": "sima-zhu", "name": "Sima Zhu"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8e4f00b6f4888800fae2a6e283c99e8d33e17ecd", "committedDate": "2020-04-09T17:49:28Z", "message": "renamed the helper method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMDM0NTIy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10023#pullrequestreview-391034522", "createdAt": "2020-04-09T18:31:33Z", "commit": {"oid": "8e4f00b6f4888800fae2a6e283c99e8d33e17ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxODozMTozM1rOGDkjfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxODozMTozM1rOGDkjfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM5NzgyMQ==", "bodyText": "From what I remember when we are associating requests to responses when using the playback records we explicitly ignore the entire host string. Should be able to simplify the logic to redact the entire host string.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10023#discussion_r406397821", "createdAt": "2020-04-09T18:31:33Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core-test/src/main/java/com/azure/core/test/policy/RecordNetworkCallPolicy.java", "diffHunk": "@@ -112,6 +113,13 @@ public RecordNetworkCallPolicy(RecordedData recordedData) {\n             });\n     }\n \n+    private void redactedAccountName(UrlBuilder urlBuilder) {\n+        String[] hostParts = urlBuilder.getHost().split(\"\\\\.\");\n+        hostParts[0] = \"REDACTED\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e4f00b6f4888800fae2a6e283c99e8d33e17ecd"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMTMzMTEx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10023#pullrequestreview-391133111", "createdAt": "2020-04-09T21:07:40Z", "commit": {"oid": "8e4f00b6f4888800fae2a6e283c99e8d33e17ecd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1124, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}