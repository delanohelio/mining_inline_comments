{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NjUwMjk1", "number": 12282, "title": "Fix Schema Registry 4xx handling and add tests for negative scenarios", "bodyText": "Also - I am aware that blocking async calls is not the best behavior.  This will be fixed when CachedSchemaRegistryClient and core serializer and deserializer implementations are converted to use Reactor types.", "createdAt": "2020-06-17T07:15:07Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12282", "merged": true, "mergeCommit": {"oid": "ea9298492b92b35a36b31251d20515bda3ee6c6e"}, "closed": true, "closedAt": "2020-06-18T23:00:45Z", "author": {"login": "arerlend"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsEgHdgH2gAyNDM1NjUwMjk1OjYyOWFjNmZlODBjNmUyM2MyNjU3MDMyNjBkMmQ5NWI4YzU2ZDAxNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsicDlAFqTQzMzUyNjUxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "629ac6fe80c6e23c265703260d2d95b8c56d0146", "author": {"user": {"login": "arerlend", "name": "Arthur Erlendsson"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/629ac6fe80c6e23c265703260d2d95b8c56d0146", "committedDate": "2020-06-17T07:13:27Z", "message": "fix 4xx handling and add tests for negative scenarios"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNTIyNDA5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12282#pullrequestreview-433522409", "createdAt": "2020-06-18T18:00:15Z", "commit": {"oid": "629ac6fe80c6e23c265703260d2d95b8c56d0146"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxODowMDoxNlrOGl6ViA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxODowMjo0MVrOGl6aaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQwNjI4MA==", "bodyText": "If we want to include a timeout, it must be configurable by the user?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12282#discussion_r442406280", "createdAt": "2020-06-18T18:00:16Z", "author": {"login": "srnagar"}, "path": "sdk/schemaregistry/azure-data-schemaregistry/src/main/java/com/azure/data/schemaregistry/client/CachedSchemaRegistryClient.java", "diffHunk": "@@ -118,13 +122,26 @@ public SchemaRegistryObject register(\n             \"Registering schema. Group: '{}', name: '{}', serialization type: '{}', payload: '{}'\",\n                 schemaGroup, schemaName, schemaType, schemaString);\n \n-        SchemaId schemaId;\n+        CreateSchemaResponse response;\n         try {\n-            schemaId = this.restService.createSchema(schemaGroup, schemaName, schemaType, schemaString);\n+            response = this.restService.createSchemaWithResponseAsync(schemaGroup, schemaName, schemaType, schemaString)\n+                .block(HTTP_REQUEST_TIMEOUT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "629ac6fe80c6e23c265703260d2d95b8c56d0146"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQwNzUyOA==", "bodyText": "Same here, timeout should be an optional method param. You can still have a default in case it's not set.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12282#discussion_r442407528", "createdAt": "2020-06-18T18:02:41Z", "author": {"login": "srnagar"}, "path": "sdk/schemaregistry/azure-data-schemaregistry/src/main/java/com/azure/data/schemaregistry/client/CachedSchemaRegistryClient.java", "diffHunk": "@@ -171,23 +194,35 @@ public SchemaRegistryObject getSchemaByGuid(String schemaId) {\n     }\n \n     @Override\n-    public String getSchemaId(\n-        String schemaGroup, String schemaName, String schemaString, String schemaType) {\n+    public String getSchemaId(String schemaGroup, String schemaName, String schemaString, String schemaType) {\n         if (schemaStringCache.containsKey(schemaString)) {\n             logger.verbose(\"Cache hit schema string. Group: '{}', name: '{}'\", schemaGroup, schemaName);\n             return schemaStringCache.get(schemaString).getSchemaId();\n         }\n \n-        SchemaId schemaId;\n+        GetIdBySchemaContentResponse response;\n         try {\n-            schemaId = this.restService.getIdBySchemaContent(schemaGroup, schemaName, schemaType, schemaString);\n+            response = this.restService\n+                .getIdBySchemaContentWithResponseAsync(schemaGroup, schemaName, schemaType, schemaString)\n+                .block(HTTP_REQUEST_TIMEOUT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "629ac6fe80c6e23c265703260d2d95b8c56d0146"}, "originalPosition": 95}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNTI2NTE5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12282#pullrequestreview-433526519", "createdAt": "2020-06-18T18:06:10Z", "commit": {"oid": "629ac6fe80c6e23c265703260d2d95b8c56d0146"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3060, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}