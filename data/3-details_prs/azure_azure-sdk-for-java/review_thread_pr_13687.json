{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMjcyNjcx", "number": 13687, "reviewThreads": {"totalCount": 43, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1Mzo0MFrOEUs8lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNTozNzo0MVrOEaUWKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQzMzgyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1Mzo0MFrOG7DMag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1NToxMFrOG7DPcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MTQ5OA==", "bodyText": "qq: is java only supporting v3.1-preview.1? is v3.0 still supported. My understanding is that both need to be supported.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464571498", "createdAt": "2020-08-03T17:53:40Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -1,5 +1,7 @@\n # Release History\n ## 5.1.0-beta.1 (Unreleased)\n+**New features**\n+- Added the support for Personally Identifiable Information(PII) entity recognition feature.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MjI3NA==", "bodyText": "If both are supported, you should include this is only availbale for v3.1-preview.1 and up.\nadding a nit here too: you should add the name of the endpoint, which is recognizePiiEntities", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464572274", "createdAt": "2020-08-03T17:55:10Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -1,5 +1,7 @@\n # Release History\n ## 5.1.0-beta.1 (Unreleased)\n+**New features**\n+- Added the support for Personally Identifiable Information(PII) entity recognition feature.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MTQ5OA=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQzOTQ1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1NToyNlrOG7DP6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDoxODowOFrOG9brfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MjM5Mw==", "bodyText": "the \"that\" shouldn't have been removed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464572393", "createdAt": "2020-08-03T17:55:26Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -1,11 +1,12 @@\n # Azure Text Analytics client library for Java\n-Text Analytics is a cloud-based service that provides advanced natural language processing over raw text, \n+Text Analytics is a cloud-based service provides advanced natural language processing over raw text, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA2OTgyMQ==", "bodyText": "it was suggested by intellij, 'that' may be not necessary. but I will add it back.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467069821", "createdAt": "2020-08-07T14:18:08Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -1,11 +1,12 @@\n # Azure Text Analytics client library for Java\n-Text Analytics is a cloud-based service that provides advanced natural language processing over raw text, \n+Text Analytics is a cloud-based service provides advanced natural language processing over raw text, ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MjM5Mw=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQ0MzgwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1Njo0OVrOG7DSmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1Njo0OVrOG7DSmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MzA4Mw==", "bodyText": "this link isn't resolving. try changing #recognize-pii-entities to #recognize-personally-identifiable-information-entities.\nOr you can just change the name to Recognize PII Entities", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464573083", "createdAt": "2020-08-03T17:56:49Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -186,6 +187,7 @@ The following sections provide several code snippets covering some of the most c\n * [Detect Language](#detect-language \"Detect language\")\n * [Extract Key Phrases](#extract-key-phrases \"Extract key phrases\")\n * [Recognize Entities](#recognize-entities \"Recognize entities\")\n+* [Recognize Personally Identifiable Information Entities](#recognize-pii-entities \"Recognize personally identifiable information entities\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQ0NTgxOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1NzoyN1rOG7DT2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1NzoyN1rOG7DT2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MzQwMQ==", "bodyText": "these categories and the link here is incorrect, should be PII specific", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464573401", "createdAt": "2020-08-03T17:57:27Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,21 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize personally identifiable information entities\n+Run a predictive model to identify a collection of personally identifiable information entities in the passed-in \n+document or batch of documents and categorize those entities into categories such as person, location, or \n+organization.  For more information on available categories, see [Text Analytics Named Entity Categories][named_entities_categories].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQ2MTAwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowMjowM1rOG7DdDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowMjowM1rOG7DdDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3NTc1Ng==", "bodyText": "nit: since this code is used to get warnings, and there's code to getStatistics earlier on, would it be good to move those into a separate util function? i think this is slightly outside the scope of this PR, but was just wondering if this is something that would help clean up the flow", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464575756", "createdAt": "2020-08-03T18:02:03Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,215 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.getEmptyErrorIdHttpResponse;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize personally identifiable information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize personally identifiable information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {\n+        this.service = service;\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters that returns a {@link Mono}\n+     * which contains {@link PiiEntityCollection}.\n+     *\n+     * @param document A single document.\n+     * @param language The language code.\n+     *\n+     * @return The {@link Mono} of {@link PiiEntityCollection}.\n+     */\n+    Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        try {\n+            Objects.requireNonNull(document, \"'document' cannot be null.\");\n+            final TextDocumentInput textDocumentInput = new TextDocumentInput(\"0\", document).setLanguage(language);\n+            return recognizePiiEntitiesBatch(Collections.singletonList(textDocumentInput), null)\n+                .map(resultCollectionResponse -> {\n+                    PiiEntityCollection entityCollection = null;\n+                    // for each loop will have only one entry inside\n+                    for (RecognizePiiEntitiesResult entitiesResult : resultCollectionResponse.getValue()) {\n+                        if (entitiesResult.isError()) {\n+                            throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));\n+                        }\n+                        entityCollection = new PiiEntityCollection(entitiesResult.getEntities(),\n+                            entitiesResult.getEntities().getWarnings());\n+                    }\n+                    return entityCollection;\n+                });\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters.\n+     *\n+     * @param documents The list of documents to recognize personally identifiable information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatch(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return withContext(context -> getRecognizePiiEntitiesResponse(documents, options, context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters with {@link Context} is given.\n+     *\n+     * @param documents The list of documents to recognize personally identifiable information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatchWithContext(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return getRecognizePiiEntitiesResponse(documents, options, context);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper method to convert the service response of {@link EntitiesResult} to {@link Response} which contains\n+     * {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @param response the {@link Response} of {@link EntitiesResult} returned by the service.\n+     *\n+     * @return A {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Response<RecognizePiiEntitiesResultCollection> toRecognizePiiEntitiesResultCollectionResponse(\n+        final Response<EntitiesResult> response) {\n+        final EntitiesResult entitiesResult = response.getValue();\n+        // List of documents results\n+        final List<RecognizePiiEntitiesResult> recognizeEntitiesResults = new ArrayList<>();\n+        entitiesResult.getDocuments().forEach(documentEntities ->\n+            recognizeEntitiesResults.add(new RecognizePiiEntitiesResult(\n+                documentEntities.getId(),\n+                documentEntities.getStatistics() == null ? null\n+                    : toTextDocumentStatistics(documentEntities.getStatistics()),\n+                null,\n+                new PiiEntityCollection(\n+                    new IterableStream<>(documentEntities.getEntities().stream().map(entity ->\n+                        new PiiEntity(entity.getText(), EntityCategory.fromString(entity.getCategory()),\n+                            entity.getSubcategory(), entity.getOffset(), entity.getLength(),\n+                            entity.getConfidenceScore()))\n+                        .collect(Collectors.toList())),\n+                    new IterableStream<>(documentEntities.getWarnings().stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 156}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTU3MjgzOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODozNjo1N1rOG7Eggw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODozNjo1N1rOG7Eggw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU5MzAyNw==", "bodyText": "should link to https://aka.ms/tanerpii instead", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464593027", "createdAt": "2020-08-03T18:36:57Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,6 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n+    // PII Entity\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTU3Mzc0OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODozNzoxN1rOG7EhFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODozNzoxN1rOG7EhFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU5MzE3Mg==", "bodyText": "nit: recognized PII entity details", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464593172", "createdAt": "2020-08-03T18:37:17Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,6 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n+    // PII Entity\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>.\n+     * This method will use the default language that sets up in\n+     * {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is specified, service will use 'en' as\n+     * the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize personally identifiable information entities in a document. Subscribes to the call asynchronously\n+     * and prints out the recognized entity details when a response is received.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTYzMzM1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/TextAnalyticsRequestOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODo1NjoyMVrOG7FFAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODo1NjoyMVrOG7FFAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYwMjM2OQ==", "bodyText": "i don't think this is something we're exposing yet, but i just asked the question in the scrum chat to see if i can get some clairification", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464602369", "createdAt": "2020-08-03T18:56:21Z", "author": {"login": "iscai-msft"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/TextAnalyticsRequestOptions.java", "diffHunk": "@@ -54,4 +55,24 @@ public TextAnalyticsRequestOptions setIncludeStatistics(boolean includeStatistic\n         this.includeStatistics = includeStatistics;\n         return this;\n     }\n+\n+    /**\n+     * Get the value of {@code domain}.\n+     *\n+     * @return the value of domain.\n+     */\n+    public String getDomain() {\n+        return domain;\n+    }\n+\n+    /**\n+     * Set the value of {@code domain}.\n+     *\n+     * @param domain (Optional) if set to 'PHI', response will contain only PHI entities.\n+     * @return the {@link TextAnalyticsRequestOptions} object itself.\n+     */\n+    public TextAnalyticsRequestOptions setDomain(String domain) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY0NDU0OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjowNzoxN1rOG7Ofvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjowNzoxN1rOG7Ofvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc1NjY3MQ==", "bodyText": "you should link to specific PII documentation", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464756671", "createdAt": "2020-08-04T02:07:17Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,21 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize personally identifiable information entities\n+Run a predictive model to identify a collection of personally identifiable information entities in the passed-in \n+document or batch of documents and categorize those entities into categories such as person, location, or \n+organization.  For more information on available categories, see [Text Analytics Named Entity Categories][named_entities_categories].\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(piiEntity ->\n+    System.out.printf(\"Recognized Personally Identifiable Information entity: %s, category: %s, subCategory: %s, score: %f.%n\",\n+        piiEntity.getText(), piiEntity.getCategory(), piiEntity.getSubcategory(), piiEntity.getConfidenceScore()));\n+```\n+For samples on using the production recommended option `RecognizePiiEntitiesBatch` see [here][recognize_pii_entities_sample].\n+Please refer to the service documentation for a conceptual discussion of [PII entity recognition][named_entity_recognition].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY2NzI5OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyMDoyNFrOG7OtBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyMDoyNFrOG7OtBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MDA3MQ==", "bodyText": "we can remove this now :) Azure/azure-sdk-for-net#11946", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464760071", "createdAt": "2020-08-04T02:20:24Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,215 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.getEmptyErrorIdHttpResponse;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize personally identifiable information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize personally identifiable information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {\n+        this.service = service;\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters that returns a {@link Mono}\n+     * which contains {@link PiiEntityCollection}.\n+     *\n+     * @param document A single document.\n+     * @param language The language code.\n+     *\n+     * @return The {@link Mono} of {@link PiiEntityCollection}.\n+     */\n+    Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        try {\n+            Objects.requireNonNull(document, \"'document' cannot be null.\");\n+            final TextDocumentInput textDocumentInput = new TextDocumentInput(\"0\", document).setLanguage(language);\n+            return recognizePiiEntitiesBatch(Collections.singletonList(textDocumentInput), null)\n+                .map(resultCollectionResponse -> {\n+                    PiiEntityCollection entityCollection = null;\n+                    // for each loop will have only one entry inside\n+                    for (RecognizePiiEntitiesResult entitiesResult : resultCollectionResponse.getValue()) {\n+                        if (entitiesResult.isError()) {\n+                            throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));\n+                        }\n+                        entityCollection = new PiiEntityCollection(entitiesResult.getEntities(),\n+                            entitiesResult.getEntities().getWarnings());\n+                    }\n+                    return entityCollection;\n+                });\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters.\n+     *\n+     * @param documents The list of documents to recognize personally identifiable information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatch(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return withContext(context -> getRecognizePiiEntitiesResponse(documents, options, context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters with {@link Context} is given.\n+     *\n+     * @param documents The list of documents to recognize personally identifiable information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatchWithContext(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return getRecognizePiiEntitiesResponse(documents, options, context);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper method to convert the service response of {@link EntitiesResult} to {@link Response} which contains\n+     * {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @param response the {@link Response} of {@link EntitiesResult} returned by the service.\n+     *\n+     * @return A {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Response<RecognizePiiEntitiesResultCollection> toRecognizePiiEntitiesResultCollectionResponse(\n+        final Response<EntitiesResult> response) {\n+        final EntitiesResult entitiesResult = response.getValue();\n+        // List of documents results\n+        final List<RecognizePiiEntitiesResult> recognizeEntitiesResults = new ArrayList<>();\n+        entitiesResult.getDocuments().forEach(documentEntities ->\n+            recognizeEntitiesResults.add(new RecognizePiiEntitiesResult(\n+                documentEntities.getId(),\n+                documentEntities.getStatistics() == null ? null\n+                    : toTextDocumentStatistics(documentEntities.getStatistics()),\n+                null,\n+                new PiiEntityCollection(\n+                    new IterableStream<>(documentEntities.getEntities().stream().map(entity ->\n+                        new PiiEntity(entity.getText(), EntityCategory.fromString(entity.getCategory()),\n+                            entity.getSubcategory(), entity.getOffset(), entity.getLength(),\n+                            entity.getConfidenceScore()))\n+                        .collect(Collectors.toList())),\n+                    new IterableStream<>(documentEntities.getWarnings().stream()\n+                        .map(warning -> {\n+                            final WarningCodeValue warningCodeValue = warning.getCode();\n+                            return new TextAnalyticsWarning(\n+                                WarningCode.fromString(warningCodeValue == null ? null : warningCodeValue.toString()),\n+                                warning.getMessage());\n+                        }).collect(Collectors.toList())))\n+            )));\n+        // Document errors\n+        entitiesResult.getErrors().forEach(documentError -> {\n+            /*\n+             *  TODO: Remove this after service update to throw exception.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 167}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY3MDQ1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyMjoxN1rOG7Ou3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyMjoxN1rOG7Ou3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MDU0Mg==", "bodyText": "not sure the word \"general\" provides value here... consider removing", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464760542", "createdAt": "2020-08-04T02:22:17Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,6 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n+    // PII Entity\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities in the provided document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY3NTUxOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyNToyMFrOG7OxwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyNToyMFrOG7OxwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTI4MA==", "bodyText": "same here and other places", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464761280", "createdAt": "2020-08-04T02:25:20Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,6 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n+    // PII Entity\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>.\n+     * This method will use the default language that sets up in\n+     * {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is specified, service will use 'en' as\n+     * the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize personally identifiable information entities in a document. Subscribes to the call asynchronously\n+     * and prints out the recognized entity details when a response is received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize personally identifiable information entities for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a\n+     * {@link PiiEntityCollection recognized personally identifiable information entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, defaultLanguage);\n+    }\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize personally identifiable information entities in a document with provided language code. Subscribes\n+     * to the call asynchronously and prints out the entity details when a response is received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string-string}\n+     *\n+     * @param document the text to recognize personally identifiable information entities for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as\n+     * default.\n+     *\n+     * @return A {@link Mono} contains a\n+     * {@link PiiEntityCollection recognized personally identifiable information entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        return recognizePiiEntityAsyncClient.recognizePiiEntities(document, language);\n+    }\n+\n+    /**\n+     * Returns a list of general personally identifiable information entities for the provided list of documents with", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 106}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY3OTUwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyNzo1MlrOG7O0Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwNTowNzo0MFrOG_8LFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTg3OA==", "bodyText": "Do you think we should have a specific enum for PII entity categories?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464761878", "createdAt": "2020-08-04T02:27:52Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE1MzE2OA==", "bodyText": "Agreed. We could have a PiiEntityCatogry type since the category type varies. Also we could add HealthEntityCategory for the health endpoint as well in the future.\nhttps://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/named-entity-types?tabs=personal", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467153168", "createdAt": "2020-08-07T16:46:15Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTg3OA=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwMDQ3Mw==", "bodyText": "hmmm I like it... my worry is if endpoints start mixing what type of entities they return.\nFor example, if PPI returns HealthCareEntity then this approach won't work...\nWhen in PII we set domain... are those protected health information entities different than the ones in HealthCareEntity?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467200473", "createdAt": "2020-08-07T18:23:19Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTg3OA=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY5OTM1MQ==", "bodyText": "deleted all domain related.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469699351", "createdAt": "2020-08-13T05:07:40Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTg3OA=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY3OTkzOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyODoxNFrOG7O0Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyODoxNFrOG7O0Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTk1NA==", "bodyText": "not sure this subcategories are actually for PII", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464761954", "createdAt": "2020-08-04T02:28:14Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Age/Year/TimeRange etc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY4MTE1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyOTowNVrOG7O1Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyOToxOVrOG7O1XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjE0Ng==", "bodyText": "same here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464762146", "createdAt": "2020-08-04T02:29:05Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Age/Year/TimeRange etc\n+     */\n+    private final String subcategory;\n+\n+    /*\n+     * Start position for the entity text.\n+     */\n+    private final int offset;\n+\n+    /*\n+     * The length for the entity text.\n+     */\n+    private final int length;\n+\n+    /*\n+     * Confidence score between 0 and 1 of the extracted entity.\n+     */\n+    private final double confidenceScore;\n+\n+    /**\n+     * Creates a {@link PiiEntity} model that describes entity.\n+     *\n+     * @param text The entity text as appears in the request.\n+     * @param category The entity category, such as Person/Location/Org/SSN etc.\n+     * @param subcategory The entity subcategory, such as Age/Year/TimeRange etc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjIwNQ==", "bodyText": "and other places", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464762205", "createdAt": "2020-08-04T02:29:19Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Age/Year/TimeRange etc\n+     */\n+    private final String subcategory;\n+\n+    /*\n+     * Start position for the entity text.\n+     */\n+    private final int offset;\n+\n+    /*\n+     * The length for the entity text.\n+     */\n+    private final int length;\n+\n+    /*\n+     * Confidence score between 0 and 1 of the extracted entity.\n+     */\n+    private final double confidenceScore;\n+\n+    /**\n+     * Creates a {@link PiiEntity} model that describes entity.\n+     *\n+     * @param text The entity text as appears in the request.\n+     * @param category The entity category, such as Person/Location/Org/SSN etc.\n+     * @param subcategory The entity subcategory, such as Age/Year/TimeRange etc.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjE0Ng=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY4MzU3OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/TextAnalyticsRequestOptions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjozMDozNFrOG7O2pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0MzowNFrOG9ieBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjUzMw==", "bodyText": "also, the way it is presented here, it seems like other endpoints could use the domain property too. I'm still unclear of the scope of this property so better leave it out until we fully understand it", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464762533", "createdAt": "2020-08-04T02:30:34Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/TextAnalyticsRequestOptions.java", "diffHunk": "@@ -54,4 +55,24 @@ public TextAnalyticsRequestOptions setIncludeStatistics(boolean includeStatistic\n         this.includeStatistics = includeStatistics;\n         return this;\n     }\n+\n+    /**\n+     * Get the value of {@code domain}.\n+     *\n+     * @return the value of domain.\n+     */\n+    public String getDomain() {\n+        return domain;\n+    }\n+\n+    /**\n+     * Set the value of {@code domain}.\n+     *\n+     * @param domain (Optional) if set to 'PHI', response will contain only PHI entities.\n+     * @return the {@link TextAnalyticsRequestOptions} object itself.\n+     */\n+    public TextAnalyticsRequestOptions setDomain(String domain) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE4MTA2Mw==", "bodyText": "yup. Will leave it out for now.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467181063", "createdAt": "2020-08-07T17:43:04Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/TextAnalyticsRequestOptions.java", "diffHunk": "@@ -54,4 +55,24 @@ public TextAnalyticsRequestOptions setIncludeStatistics(boolean includeStatistic\n         this.includeStatistics = includeStatistics;\n         return this;\n     }\n+\n+    /**\n+     * Get the value of {@code domain}.\n+     *\n+     * @return the value of domain.\n+     */\n+    public String getDomain() {\n+        return domain;\n+    }\n+\n+    /**\n+     * Set the value of {@code domain}.\n+     *\n+     * @param domain (Optional) if set to 'PHI', response will contain only PHI entities.\n+     * @return the {@link TextAnalyticsRequestOptions} object itself.\n+     */\n+    public TextAnalyticsRequestOptions setDomain(String domain) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjUzMw=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY5MTU5OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjozNToxMVrOG7O7PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNToxNDo1NFrOHAnzTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MzcwOQ==", "bodyText": "as we are including offset and length again. should we print that too?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464763709", "createdAt": "2020-08-04T02:35:11Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java", "diffHunk": "@@ -150,4 +150,14 @@ public void extractKeyPhrases() {\n         System.out.println(\"Extracted phrases:\");\n         textAnalyticsClient.extractKeyPhrases(document).forEach(keyPhrase -> System.out.printf(\"%s.%n\", keyPhrase));\n     }\n+\n+    /**\n+     * Code snippet for recognizing Personally Identifiable Information entity in a document.\n+     */\n+    public void recognizePiiEntity() {\n+        String document = \"My SSN is 555-55-5555\";\n+        textAnalyticsClient.recognizePiiEntities(document).forEach(piiEntity ->\n+            System.out.printf(\"Recognized Personally Identifiable Information entity: %s, category: %s, subCategory: %s, score: %f.%n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQxNDE1OA==", "bodyText": "offset and length will be include in samples but not on codesnippet and reamde samples", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470414158", "createdAt": "2020-08-14T05:14:54Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java", "diffHunk": "@@ -150,4 +150,14 @@ public void extractKeyPhrases() {\n         System.out.println(\"Extracted phrases:\");\n         textAnalyticsClient.extractKeyPhrases(document).forEach(keyPhrase -> System.out.printf(\"%s.%n\", keyPhrase));\n     }\n+\n+    /**\n+     * Code snippet for recognizing Personally Identifiable Information entity in a document.\n+     */\n+    public void recognizePiiEntity() {\n+        String document = \"My SSN is 555-55-5555\";\n+        textAnalyticsClient.recognizePiiEntities(document).forEach(piiEntity ->\n+            System.out.printf(\"Recognized Personally Identifiable Information entity: %s, category: %s, subCategory: %s, score: %f.%n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MzcwOQ=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY5NTE1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntities.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjozNzozMFrOG7O9iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxODoyNzoyMFrOG9jxJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2NDI5Nw==", "bodyText": "consider using 859-98-0987. Same for other places", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464764297", "createdAt": "2020-08-04T02:37:30Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntities.java", "diffHunk": "@@ -0,0 +1,34 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.util.Configuration;\n+\n+/**\n+ * Sample demonstrates how to recognize the Personally Identifiable Information entities of document.\n+ */\n+public class RecognizePiiEntities {\n+    /**\n+     * Main method to invoke this demo about how to recognize the Personally Identifiable Information entities of\n+     * document.\n+     *\n+     * @param args Unused arguments to the program.\n+     */\n+    public static void main(String[] args) {\n+        // Instantiate a client that will be used to call the service.\n+        TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n+            .credential(new AzureKeyCredential(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_API_KEY\")))\n+            .endpoint(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_ENDPOINT\"))\n+            .buildClient();\n+\n+        // The document that needs be analyzed.\n+        String document = \"My SSN is 555-55-5555\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE1NTIzMQ==", "bodyText": "why this SSN number, it seems like a more real SSN number that 55555555.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467155231", "createdAt": "2020-08-07T16:50:31Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntities.java", "diffHunk": "@@ -0,0 +1,34 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.util.Configuration;\n+\n+/**\n+ * Sample demonstrates how to recognize the Personally Identifiable Information entities of document.\n+ */\n+public class RecognizePiiEntities {\n+    /**\n+     * Main method to invoke this demo about how to recognize the Personally Identifiable Information entities of\n+     * document.\n+     *\n+     * @param args Unused arguments to the program.\n+     */\n+    public static void main(String[] args) {\n+        // Instantiate a client that will be used to call the service.\n+        TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n+            .credential(new AzureKeyCredential(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_API_KEY\")))\n+            .endpoint(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_ENDPOINT\"))\n+            .buildClient();\n+\n+        // The document that needs be analyzed.\n+        String document = \"My SSN is 555-55-5555\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2NDI5Nw=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwMjM0MQ==", "bodyText": "is the one the service recommended us to use. You have a combination of that and 55555555 so I guess for consistency just choose one for all your test", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467202341", "createdAt": "2020-08-07T18:27:20Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntities.java", "diffHunk": "@@ -0,0 +1,34 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.util.Configuration;\n+\n+/**\n+ * Sample demonstrates how to recognize the Personally Identifiable Information entities of document.\n+ */\n+public class RecognizePiiEntities {\n+    /**\n+     * Main method to invoke this demo about how to recognize the Personally Identifiable Information entities of\n+     * document.\n+     *\n+     * @param args Unused arguments to the program.\n+     */\n+    public static void main(String[] args) {\n+        // Instantiate a client that will be used to call the service.\n+        TextAnalyticsClient client = new TextAnalyticsClientBuilder()\n+            .credential(new AzureKeyCredential(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_API_KEY\")))\n+            .endpoint(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_ENDPOINT\"))\n+            .buildClient();\n+\n+        // The document that needs be analyzed.\n+        String document = \"My SSN is 555-55-5555\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2NDI5Nw=="}, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMjY5NjkzOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntitiesAsync.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjozODo0MlrOG7O-oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjozODo0MlrOG7O-oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2NDU3Ng==", "bodyText": "Some places say \"Recognized Personally Identifiable Information entity\" I prefer this one too, but whichever you pick, better to have consistency in the samples", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r464764576", "createdAt": "2020-08-04T02:38:42Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntitiesAsync.java", "diffHunk": "@@ -0,0 +1,46 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.core.credential.AzureKeyCredential;\n+import com.azure.core.util.Configuration;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/**\n+ * Sample demonstrates how to recognize the Personally Identifiable Information entities of document.\n+ */\n+public class RecognizePiiEntitiesAsync {\n+    /**\n+     * Main method to invoke this demo about how to recognize the Personally Identifiable Information entities of document.\n+     *\n+     * @param args Unused arguments to the program.\n+     */\n+    public static void main(String[] args) {\n+        // Instantiate a client that will be used to call the service.\n+        TextAnalyticsAsyncClient client = new TextAnalyticsClientBuilder()\n+            .credential(new AzureKeyCredential(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_API_KEY\")))\n+            .endpoint(Configuration.getGlobalConfiguration().get(\"AZURE_TEXT_ANALYTICS_ENDPOINT\"))\n+            .buildAsyncClient();\n+\n+        // The document that needs be analyzed.\n+        String document = \"Microsoft employee with ssn 859-98-0987 is using our awesome API's.\";\n+\n+        client.recognizePiiEntities(document).subscribe(\n+            entityCollection -> entityCollection.forEach(entity -> System.out.printf(\n+                \"Recognized personal identifiable information entity: %s, entity category: %s, entity sub-category: %s, score: %f.%n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e0c5c4e979daad1d854ee42f1a55fcb3583dc1"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxODM1MzczOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClientTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxODozNzowN1rOG9kCCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxODozNzowN1rOG9kCCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwNjY2NQ==", "bodyText": "instead of comment out I prefer deleting... better to introduce than to leave dead code in case the service changes the parameter", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r467206665", "createdAt": "2020-08-07T18:37:07Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClientTest.java", "diffHunk": "@@ -455,16 +454,16 @@ public void recognizePiiEntitiesTooManyDocuments(HttpClient httpClient, TextAnal\n                 }));\n     }\n \n-    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n-    @MethodSource(\"com.azure.ai.textanalytics.TestUtils#getTestParameters\")\n-    public void recognizePiiEntitiesWithDomain(HttpClient httpClient, TextAnalyticsServiceVersion serviceVersion) {\n-        client = getTextAnalyticsAsyncClient(httpClient, serviceVersion);\n-        recognizePiiEntitiesWithDomainRunner((inputs, options) ->\n-            StepVerifier.create(client.recognizePiiEntitiesBatch(inputs, null, options))\n-                .assertNext(response -> validatePiiEntitiesResultCollection(true,\n-                    getExpectedBatchPiiEntitiesWithDomainSpecified(), response))\n-                .verifyComplete());\n-    }\n+//    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMwMzEyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxNDo1OFrOG_s9nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxNDo1OFrOG_s9nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MDE0MQ==", "bodyText": "in the passed-in provided document", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469450141", "createdAt": "2020-08-12T18:14:58Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMwNzYwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxNjoxNFrOG_tAXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxNjoxNFrOG_tAXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MDg0Ng==", "bodyText": "This endpoint is only supported for API versions v3.1-preview.1 and above.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469450846", "createdAt": "2020-08-12T18:16:14Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMxMzI1OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxNzo0OVrOG_tD5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMjo1NTozNFrOHEV7ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MTc1MQ==", "bodyText": "Didn't check what we are following now for the readme samples. But based on our last discussions these examples should be concise and hence can remove info about length, offset, confidence score.\nWhat do you think?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469451751", "createdAt": "2020-08-12T18:17:49Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM5ODQ2NQ==", "bodyText": "Agreed. will remove offset and length in codesnippets\nbut we should keep confidence score, since currently other APIs' example shows the confidence score.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470398465", "createdAt": "2020-08-14T04:05:58Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MTc1MQ=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0MDA3OA==", "bodyText": "+1 on always having confidence scores", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470740078", "createdAt": "2020-08-14T16:51:20Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MTc1MQ=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYxMzkxMA==", "bodyText": "Offset and length still present?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473613910", "createdAt": "2020-08-20T05:40:34Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MTc1MQ=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDMxNTcxNQ==", "bodyText": "looking at the older commit.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474315715", "createdAt": "2020-08-20T22:55:34Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MTc1MQ=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMxNjY5OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxODo1MVrOG_tGEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNTo0MToxNlrOHDrIFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MjMwNw==", "bodyText": "Do we do this section for all the readme snippets if not consider moving this to Next Steps?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469452307", "createdAt": "2020-08-12T18:18:51Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",\n+    entity.getText(), entity.getCategory(), entity.getSubcategory(), entity.getOffset(), entity.getLength(), entity.getConfidenceScore()));\n+```\n+For samples on using the production recommended option `RecognizePiiEntitiesBatch` see [here][recognize_pii_entities_sample].\n+Please refer to the service documentation for [supported PII entity types][pii_entity_recognition].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQwMTYyOA==", "bodyText": "Not getting what you mean here. It should already for all the README snippets. It follows the pattern.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470401628", "createdAt": "2020-08-14T04:19:55Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",\n+    entity.getText(), entity.getCategory(), entity.getSubcategory(), entity.getOffset(), entity.getLength(), entity.getConfidenceScore()));\n+```\n+For samples on using the production recommended option `RecognizePiiEntitiesBatch` see [here][recognize_pii_entities_sample].\n+Please refer to the service documentation for [supported PII entity types][pii_entity_recognition].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MjMwNw=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYxNDM1OQ==", "bodyText": "I suggested if this could be moved to Next Steps section.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473614359", "createdAt": "2020-08-20T05:41:16Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/README.md", "diffHunk": "@@ -262,6 +264,22 @@ textAnalyticsClient.recognizeEntities(document).forEach(entity ->\n For samples on using the production recommended option `RecognizeEntitiesBatch` see [here][recognize_entities_sample].\n Please refer to the service documentation for a conceptual discussion of [named entity recognition][named_entity_recognition].\n \n+### Recognize Personally Identifiable Information entities\n+Run a predictive model to identify a collection of Personally Identifiable Information(PII) entities in the passed-in \n+document. It recognizes and categorizes PII entities in its input text, such as\n+Social Security Numbers, bank account information, credit card numbers, and more. This endpoint is only available for \n+v3.1-preview.1 and up.\n+\n+<!-- embedme ./src/samples/java/com/azure/ai/textanalytics/ReadmeSamples.java#L158-L161 -->\n+```java\n+String document = \"My SSN is 555-55-5555\";\n+textAnalyticsClient.recognizePiiEntities(document).forEach(entity -> System.out.printf(\n+    \"Recognized Personally Identifiable Information entity: %s, entity category: %s, entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",\n+    entity.getText(), entity.getCategory(), entity.getSubcategory(), entity.getOffset(), entity.getLength(), entity.getConfidenceScore()));\n+```\n+For samples on using the production recommended option `RecognizePiiEntitiesBatch` see [here][recognize_pii_entities_sample].\n+Please refer to the service documentation for [supported PII entity types][pii_entity_recognition].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MjMwNw=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMyMDcyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoxOTo1OFrOG_tIqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwNDo0OTowNFrOG_74bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1Mjk3MA==", "bodyText": "You don't need the service version info here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469452970", "createdAt": "2020-08-12T18:19:58Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,205 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize Personally Identifiable Information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize Personally Identifiable Information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY5NDU3Mg==", "bodyText": "for supporting multiple service API version? If it is the case, it will be need to be addressed in this issue: #14050", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469694572", "createdAt": "2020-08-13T04:49:04Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,205 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize Personally Identifiable Information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize Personally Identifiable Information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1Mjk3MA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMyNTA3OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyMTowNlrOG_tLTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyMTowNlrOG_tLTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1MzY0NQ==", "bodyText": "nit: no need for extra variable creation here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469453645", "createdAt": "2020-08-12T18:21:06Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,205 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize Personally Identifiable Information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize Personally Identifiable Information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {\n+        this.service = service;\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters that returns a {@link Mono}\n+     * which contains {@link PiiEntityCollection}.\n+     *\n+     * @param document A single document.\n+     * @param language The language code.\n+     *\n+     * @return The {@link Mono} of {@link PiiEntityCollection}.\n+     */\n+    Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        try {\n+            Objects.requireNonNull(document, \"'document' cannot be null.\");\n+            final TextDocumentInput textDocumentInput = new TextDocumentInput(\"0\", document).setLanguage(language);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMyODkwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyMjoxNlrOG_tNug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxOTo0OTo0OFrOHAbMag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1NDI2Ng==", "bodyText": "Should it be fine to log PII information here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469454266", "createdAt": "2020-08-12T18:22:16Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,205 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize Personally Identifiable Information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize Personally Identifiable Information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {\n+        this.service = service;\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters that returns a {@link Mono}\n+     * which contains {@link PiiEntityCollection}.\n+     *\n+     * @param document A single document.\n+     * @param language The language code.\n+     *\n+     * @return The {@link Mono} of {@link PiiEntityCollection}.\n+     */\n+    Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        try {\n+            Objects.requireNonNull(document, \"'document' cannot be null.\");\n+            final TextDocumentInput textDocumentInput = new TextDocumentInput(\"0\", document).setLanguage(language);\n+            return recognizePiiEntitiesBatch(Collections.singletonList(textDocumentInput), null)\n+                .map(resultCollectionResponse -> {\n+                    PiiEntityCollection entityCollection = null;\n+                    // for each loop will have only one entry inside\n+                    for (RecognizePiiEntitiesResult entitiesResult : resultCollectionResponse.getValue()) {\n+                        if (entitiesResult.isError()) {\n+                            throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));\n+                        }\n+                        entityCollection = new PiiEntityCollection(entitiesResult.getEntities(),\n+                            entitiesResult.getEntities().getWarnings());\n+                    }\n+                    return entityCollection;\n+                });\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatch(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return withContext(context -> getRecognizePiiEntitiesResponse(documents, options, context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters with {@link Context} is given.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatchWithContext(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return getRecognizePiiEntitiesResponse(documents, options, context);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper method to convert the service response of {@link EntitiesResult} to {@link Response} which contains\n+     * {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @param response the {@link Response} of {@link EntitiesResult} returned by the service.\n+     *\n+     * @return A {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Response<RecognizePiiEntitiesResultCollection> toRecognizePiiEntitiesResultCollectionResponse(\n+        final Response<EntitiesResult> response) {\n+        final EntitiesResult entitiesResult = response.getValue();\n+        // List of documents results\n+        final List<RecognizePiiEntitiesResult> recognizeEntitiesResults = new ArrayList<>();\n+        entitiesResult.getDocuments().forEach(documentEntities -> {\n+            // Pii entities list\n+            final List<PiiEntity> piiEntities = documentEntities.getEntities().stream().map(entity ->\n+                new PiiEntity(entity.getText(), EntityCategory.fromString(entity.getCategory()),\n+                    entity.getSubcategory(), entity.getOffset(), entity.getLength(),\n+                    entity.getConfidenceScore()))\n+                .collect(Collectors.toList());\n+            // Warnings\n+            final List<TextAnalyticsWarning> warnings = documentEntities.getWarnings().stream()\n+                .map(warning -> {\n+                    final WarningCodeValue warningCodeValue = warning.getCode();\n+                    return new TextAnalyticsWarning(\n+                        WarningCode.fromString(warningCodeValue == null ? null : warningCodeValue.toString()),\n+                        warning.getMessage());\n+                }).collect(Collectors.toList());\n+\n+            recognizeEntitiesResults.add(new RecognizePiiEntitiesResult(\n+                documentEntities.getId(),\n+                documentEntities.getStatistics() == null ? null\n+                    : toTextDocumentStatistics(documentEntities.getStatistics()),\n+                null,\n+                new PiiEntityCollection(new IterableStream<>(piiEntities), new IterableStream<>(warnings))\n+            ));\n+        });\n+        // Document errors\n+        entitiesResult.getErrors().forEach(documentError -> {\n+            recognizeEntitiesResults.add(\n+                new RecognizePiiEntitiesResult(documentError.getId(), null,\n+                    toTextAnalyticsError(documentError.getError()), null));\n+        });\n+\n+        return new SimpleResponse<>(response,\n+            new RecognizePiiEntitiesResultCollection(recognizeEntitiesResults, entitiesResult.getModelVersion(),\n+                entitiesResult.getStatistics() == null ? null : toBatchStatistics(entitiesResult.getStatistics())));\n+    }\n+\n+    /**\n+     * Call the service with REST response, convert to a {@link Mono} of {@link Response} that contains\n+     * {@link RecognizePiiEntitiesResultCollection} from a {@link SimpleResponse} of {@link EntitiesResult}.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Mono<Response<RecognizePiiEntitiesResultCollection>> getRecognizePiiEntitiesResponse(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        return service.entitiesRecognitionPiiWithResponseAsync(\n+            new MultiLanguageBatchInput().setDocuments(toMultiLanguageInput(documents)),\n+            options == null ? null : options.getModelVersion(),\n+            options == null ? null : options.isIncludeStatistics(),\n+            null,\n+            context.addData(AZ_TRACING_NAMESPACE_KEY, COGNITIVE_TRACING_NAMESPACE_VALUE))\n+            .doOnSubscribe(ignoredValue -> logger.info(\"A batch of documents - {}\", documents.toString()))\n+            .doOnSuccess(response ->\n+                logger.info(\"Recognized Personally Identifiable Information entities for a batch of documents- {}\",\n+                response.getValue()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 199}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDIwNzU5NA==", "bodyText": "Good point, i can hide them.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470207594", "createdAt": "2020-08-13T19:49:48Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/RecognizePiiEntityAsyncClient.java", "diffHunk": "@@ -0,0 +1,205 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics;\n+\n+import com.azure.ai.textanalytics.implementation.TextAnalyticsClientImpl;\n+import com.azure.ai.textanalytics.implementation.models.EntitiesResult;\n+import com.azure.ai.textanalytics.implementation.models.MultiLanguageBatchInput;\n+import com.azure.ai.textanalytics.implementation.models.WarningCodeValue;\n+import com.azure.ai.textanalytics.models.EntityCategory;\n+import com.azure.ai.textanalytics.models.PiiEntity;\n+import com.azure.ai.textanalytics.models.PiiEntityCollection;\n+import com.azure.ai.textanalytics.models.RecognizePiiEntitiesResult;\n+import com.azure.ai.textanalytics.models.TextAnalyticsRequestOptions;\n+import com.azure.ai.textanalytics.models.TextAnalyticsWarning;\n+import com.azure.ai.textanalytics.models.TextDocumentInput;\n+import com.azure.ai.textanalytics.models.WarningCode;\n+import com.azure.ai.textanalytics.util.RecognizePiiEntitiesResultCollection;\n+import com.azure.core.http.rest.Response;\n+import com.azure.core.http.rest.SimpleResponse;\n+import com.azure.core.util.Context;\n+import com.azure.core.util.IterableStream;\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static com.azure.ai.textanalytics.TextAnalyticsAsyncClient.COGNITIVE_TRACING_NAMESPACE_VALUE;\n+import static com.azure.ai.textanalytics.implementation.Utility.inputDocumentsValidation;\n+import static com.azure.ai.textanalytics.implementation.Utility.mapToHttpResponseExceptionIfExist;\n+import static com.azure.ai.textanalytics.implementation.Utility.toBatchStatistics;\n+import static com.azure.ai.textanalytics.implementation.Utility.toMultiLanguageInput;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsError;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextAnalyticsException;\n+import static com.azure.ai.textanalytics.implementation.Utility.toTextDocumentStatistics;\n+import static com.azure.core.util.FluxUtil.monoError;\n+import static com.azure.core.util.FluxUtil.withContext;\n+import static com.azure.core.util.tracing.Tracer.AZ_TRACING_NAMESPACE_KEY;\n+\n+/**\n+ * Helper class for managing recognize Personally Identifiable Information entity endpoint.\n+ */\n+class RecognizePiiEntityAsyncClient {\n+    private final ClientLogger logger = new ClientLogger(RecognizePiiEntityAsyncClient.class);\n+    private final TextAnalyticsClientImpl service;\n+\n+    /**\n+     * Create a {@link RecognizePiiEntityAsyncClient} that sends requests to the Text Analytics services's\n+     * recognize Personally Identifiable Information entity endpoint.\n+     *\n+     * @param service The proxy service used to perform REST calls.\n+     */\n+    RecognizePiiEntityAsyncClient(TextAnalyticsClientImpl service) {\n+        this.service = service;\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters that returns a {@link Mono}\n+     * which contains {@link PiiEntityCollection}.\n+     *\n+     * @param document A single document.\n+     * @param language The language code.\n+     *\n+     * @return The {@link Mono} of {@link PiiEntityCollection}.\n+     */\n+    Mono<PiiEntityCollection> recognizePiiEntities(String document, String language) {\n+        try {\n+            Objects.requireNonNull(document, \"'document' cannot be null.\");\n+            final TextDocumentInput textDocumentInput = new TextDocumentInput(\"0\", document).setLanguage(language);\n+            return recognizePiiEntitiesBatch(Collections.singletonList(textDocumentInput), null)\n+                .map(resultCollectionResponse -> {\n+                    PiiEntityCollection entityCollection = null;\n+                    // for each loop will have only one entry inside\n+                    for (RecognizePiiEntitiesResult entitiesResult : resultCollectionResponse.getValue()) {\n+                        if (entitiesResult.isError()) {\n+                            throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));\n+                        }\n+                        entityCollection = new PiiEntityCollection(entitiesResult.getEntities(),\n+                            entitiesResult.getEntities().getWarnings());\n+                    }\n+                    return entityCollection;\n+                });\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatch(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return withContext(context -> getRecognizePiiEntitiesResponse(documents, options, context));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper function for calling service with max overloaded parameters with {@link Context} is given.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    Mono<Response<RecognizePiiEntitiesResultCollection>> recognizePiiEntitiesBatchWithContext(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        try {\n+            inputDocumentsValidation(documents);\n+            return getRecognizePiiEntitiesResponse(documents, options, context);\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Helper method to convert the service response of {@link EntitiesResult} to {@link Response} which contains\n+     * {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @param response the {@link Response} of {@link EntitiesResult} returned by the service.\n+     *\n+     * @return A {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Response<RecognizePiiEntitiesResultCollection> toRecognizePiiEntitiesResultCollectionResponse(\n+        final Response<EntitiesResult> response) {\n+        final EntitiesResult entitiesResult = response.getValue();\n+        // List of documents results\n+        final List<RecognizePiiEntitiesResult> recognizeEntitiesResults = new ArrayList<>();\n+        entitiesResult.getDocuments().forEach(documentEntities -> {\n+            // Pii entities list\n+            final List<PiiEntity> piiEntities = documentEntities.getEntities().stream().map(entity ->\n+                new PiiEntity(entity.getText(), EntityCategory.fromString(entity.getCategory()),\n+                    entity.getSubcategory(), entity.getOffset(), entity.getLength(),\n+                    entity.getConfidenceScore()))\n+                .collect(Collectors.toList());\n+            // Warnings\n+            final List<TextAnalyticsWarning> warnings = documentEntities.getWarnings().stream()\n+                .map(warning -> {\n+                    final WarningCodeValue warningCodeValue = warning.getCode();\n+                    return new TextAnalyticsWarning(\n+                        WarningCode.fromString(warningCodeValue == null ? null : warningCodeValue.toString()),\n+                        warning.getMessage());\n+                }).collect(Collectors.toList());\n+\n+            recognizeEntitiesResults.add(new RecognizePiiEntitiesResult(\n+                documentEntities.getId(),\n+                documentEntities.getStatistics() == null ? null\n+                    : toTextDocumentStatistics(documentEntities.getStatistics()),\n+                null,\n+                new PiiEntityCollection(new IterableStream<>(piiEntities), new IterableStream<>(warnings))\n+            ));\n+        });\n+        // Document errors\n+        entitiesResult.getErrors().forEach(documentError -> {\n+            recognizeEntitiesResults.add(\n+                new RecognizePiiEntitiesResult(documentError.getId(), null,\n+                    toTextAnalyticsError(documentError.getError()), null));\n+        });\n+\n+        return new SimpleResponse<>(response,\n+            new RecognizePiiEntitiesResultCollection(recognizeEntitiesResults, entitiesResult.getModelVersion(),\n+                entitiesResult.getStatistics() == null ? null : toBatchStatistics(entitiesResult.getStatistics())));\n+    }\n+\n+    /**\n+     * Call the service with REST response, convert to a {@link Mono} of {@link Response} that contains\n+     * {@link RecognizePiiEntitiesResultCollection} from a {@link SimpleResponse} of {@link EntitiesResult}.\n+     *\n+     * @param documents The list of documents to recognize Personally Identifiable Information entities for.\n+     * @param options The {@link TextAnalyticsRequestOptions} request options.\n+     * @param context Additional context that is passed through the Http pipeline during the service call.\n+     *\n+     * @return A mono {@link Response} that contains {@link RecognizePiiEntitiesResultCollection}.\n+     */\n+    private Mono<Response<RecognizePiiEntitiesResultCollection>> getRecognizePiiEntitiesResponse(\n+        Iterable<TextDocumentInput> documents, TextAnalyticsRequestOptions options, Context context) {\n+        return service.entitiesRecognitionPiiWithResponseAsync(\n+            new MultiLanguageBatchInput().setDocuments(toMultiLanguageInput(documents)),\n+            options == null ? null : options.getModelVersion(),\n+            options == null ? null : options.isIncludeStatistics(),\n+            null,\n+            context.addData(AZ_TRACING_NAMESPACE_KEY, COGNITIVE_TRACING_NAMESPACE_VALUE))\n+            .doOnSubscribe(ignoredValue -> logger.info(\"A batch of documents - {}\", documents.toString()))\n+            .doOnSuccess(response ->\n+                logger.info(\"Recognized Personally Identifiable Information entities for a batch of documents- {}\",\n+                response.getValue()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1NDI2Ng=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 199}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzMzODgwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyNTowNVrOG_tUBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyNTowNVrOG_tUBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1NTg3Ng==", "bodyText": "that is set using", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469455876", "createdAt": "2020-08-12T18:25:05Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM1MzgyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODoyOToxOVrOG_tdUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMjozNDoxN1rOHEVf-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA==", "bodyText": "What happens here if the document is empty?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469458258", "createdAt": "2020-08-12T18:29:19Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQwNDIwNw==", "bodyText": "api will make a TextDocumentInput with text = empty string, and call service. Service will return an batch with error result:\n if (entitiesResult.isError()) {\n        throw logger.logExceptionAsError(toTextAnalyticsException(entitiesResult.getError()));\n  }\n\nIt is the same behavior as other existing APIs", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470404207", "createdAt": "2020-08-14T04:31:05Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwMzYzOA==", "bodyText": "hmm wondering if we know we already know its going to error, should we consider validating this at client side?\ncc: @iscai-msft @maririos", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473603638", "createdAt": "2020-08-20T05:24:15Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEyNDkwOA==", "bodyText": "for single documents, in .NET we always validate that document is not null or empty. As an example: https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/textanalytics/Azure.AI.TextAnalytics/src/TextAnalyticsClient.cs#L138\nNot sure if Java is doing this for other endpoints, but worth checking and do the same we did in GA", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474124908", "createdAt": "2020-08-20T16:41:22Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEyNzE2Ng==", "bodyText": "To be fair, for batch we check that documents is not null or empty, but the whole list not every element on it\nhttps://github.com/Azure/azure-sdk-for-net/blob/master/sdk/textanalytics/Azure.AI.TextAnalytics/src/TextAnalyticsClient.cs#L248", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474127166", "createdAt": "2020-08-20T16:43:16Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDMwODYwMA==", "bodyText": "@maririos  I remember we don't check for empty document for user in single document but check for empty list for user.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474308600", "createdAt": "2020-08-20T22:34:17Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -364,7 +369,132 @@ public String getDefaultLanguage() {\n         return recognizeEntityAsyncClient.recognizeEntitiesBatch(documents, options);\n     }\n \n-    // Linked Entity\n+    // PII Entity\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>.\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.\n+     * Subscribes to the call asynchronously and prints out the recognized entity details when a response is\n+     * received.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link Mono} contains a {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public Mono<PiiEntityCollection> recognizePiiEntities(String document) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODI1OA=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM1NjYzOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMDowNFrOG_tfBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNToxNzoyMlrOHAn1tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODY5Mg==", "bodyText": "Do we need this check here too?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469458692", "createdAt": "2020-08-12T18:30:04Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,6 +291,119 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQxNDc3NQ==", "bodyText": "it check for atomic single document. For atomic single operation, document can't be null but can be empty.\nFor batch operation, documents can not be null and empty list.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470414775", "createdAt": "2020-08-14T05:17:22Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,6 +291,119 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that sets up in {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1ODY5Mg=="}, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM2MTE5OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMToxN1rOG_thwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMToxN1rOG_thwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1OTM5NA==", "bodyText": "recognized", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469459394", "createdAt": "2020-08-12T18:31:17Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Medical/Stock exchange/Sports etc\n+     */\n+    private final String subcategory;\n+\n+    /*\n+     * Start position for the entity text.\n+     */\n+    private final int offset;\n+\n+    /*\n+     * The length for the entity text.\n+     */\n+    private final int length;\n+\n+    /*\n+     * Confidence score between 0 and 1 of the extracted entity.\n+     */\n+    private final double confidenceScore;\n+\n+    /**\n+     * Creates a {@link PiiEntity} model that describes entity.\n+     *\n+     * @param text The entity text as appears in the request.\n+     * @param category The entity category, such as Person/Location/Org/SSN etc.\n+     * @param subcategory The entity subcategory, such as Medical/Stock exchange/Sports etc.\n+     * @param offset The start position for the entity text\n+     * @param length The length for the entity text\n+     * @param confidenceScore A confidence score between 0 and 1 of the extracted entity.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM2MjkyOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMTo0NFrOG_tiyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMTo0NFrOG_tiyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1OTY1OA==", "bodyText": "recognized", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469459658", "createdAt": "2020-08-12T18:31:44Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Medical/Stock exchange/Sports etc\n+     */\n+    private final String subcategory;\n+\n+    /*\n+     * Start position for the entity text.\n+     */\n+    private final int offset;\n+\n+    /*\n+     * The length for the entity text.\n+     */\n+    private final int length;\n+\n+    /*\n+     * Confidence score between 0 and 1 of the extracted entity.\n+     */\n+    private final double confidenceScore;\n+\n+    /**\n+     * Creates a {@link PiiEntity} model that describes entity.\n+     *\n+     * @param text The entity text as appears in the request.\n+     * @param category The entity category, such as Person/Location/Org/SSN etc.\n+     * @param subcategory The entity subcategory, such as Medical/Stock exchange/Sports etc.\n+     * @param offset The start position for the entity text\n+     * @param length The length for the entity text\n+     * @param confidenceScore A confidence score between 0 and 1 of the extracted entity.\n+     */\n+    public PiiEntity(String text, EntityCategory category, String subcategory, int offset, int length,\n+        double confidenceScore) {\n+        this.text = text;\n+        this.category = category;\n+        this.subcategory = subcategory;\n+        this.offset = offset;\n+        this.length = length;\n+        this.confidenceScore = confidenceScore;\n+    }\n+\n+    /**\n+     * Get the text property: PII entity text as appears in the request.\n+     *\n+     * @return The text value.\n+     */\n+    public String getText() {\n+        return this.text;\n+    }\n+\n+    /**\n+     * Get the category property: Categorized entity category, such as Person/Location/Org/SSN etc.\n+     *\n+     * @return The category value.\n+     */\n+    public EntityCategory getCategory() {\n+        return this.category;\n+    }\n+\n+    /**\n+     * Get the subcategory property: Categorized entity sub category, such as Medical/Stock exchange/Sports etc.\n+     *\n+     * @return The subcategory value.\n+     */\n+    public String getSubcategory() {\n+        return this.subcategory;\n+    }\n+\n+    /**\n+     * Get the offset property: the start position for the entity text.\n+     *\n+     * @return The offset value.\n+     */\n+    public int getOffset() {\n+        return this.offset;\n+    }\n+\n+    /**\n+     * Get the length property: the length for the entity text.\n+     *\n+     * @return The length value.\n+     */\n+    public int getLength() {\n+        return this.length;\n+    }\n+\n+    /**\n+     * Get the score property: Confidence score between 0 and 1 of the extracted entity.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM2NTAwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMjoyNFrOG_tkIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMjoyNFrOG_tkIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2MDAwMQ==", "bodyText": "For the return statements either include the {@code} value or a complete sentence.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469460001", "createdAt": "2020-08-12T18:32:24Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/PiiEntity.java", "diffHunk": "@@ -0,0 +1,116 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+\n+/**\n+ * The {@link PiiEntity} model.\n+ */\n+@Immutable\n+public final class PiiEntity {\n+    /*\n+     * PiiEntity text as appears in the request.\n+     */\n+    private final String text;\n+\n+    /*\n+     * PiiEntity category, such as Person/Location/Org/SSN etc\n+     */\n+    private final EntityCategory category;\n+\n+    /*\n+     * PiiEntity sub category, such as Medical/Stock exchange/Sports etc\n+     */\n+    private final String subcategory;\n+\n+    /*\n+     * Start position for the entity text.\n+     */\n+    private final int offset;\n+\n+    /*\n+     * The length for the entity text.\n+     */\n+    private final int length;\n+\n+    /*\n+     * Confidence score between 0 and 1 of the extracted entity.\n+     */\n+    private final double confidenceScore;\n+\n+    /**\n+     * Creates a {@link PiiEntity} model that describes entity.\n+     *\n+     * @param text The entity text as appears in the request.\n+     * @param category The entity category, such as Person/Location/Org/SSN etc.\n+     * @param subcategory The entity subcategory, such as Medical/Stock exchange/Sports etc.\n+     * @param offset The start position for the entity text\n+     * @param length The length for the entity text\n+     * @param confidenceScore A confidence score between 0 and 1 of the extracted entity.\n+     */\n+    public PiiEntity(String text, EntityCategory category, String subcategory, int offset, int length,\n+        double confidenceScore) {\n+        this.text = text;\n+        this.category = category;\n+        this.subcategory = subcategory;\n+        this.offset = offset;\n+        this.length = length;\n+        this.confidenceScore = confidenceScore;\n+    }\n+\n+    /**\n+     * Get the text property: PII entity text as appears in the request.\n+     *\n+     * @return The text value.\n+     */\n+    public String getText() {\n+        return this.text;\n+    }\n+\n+    /**\n+     * Get the category property: Categorized entity category, such as Person/Location/Org/SSN etc.\n+     *\n+     * @return The category value.\n+     */\n+    public EntityCategory getCategory() {\n+        return this.category;\n+    }\n+\n+    /**\n+     * Get the subcategory property: Categorized entity sub category, such as Medical/Stock exchange/Sports etc.\n+     *\n+     * @return The subcategory value.\n+     */\n+    public String getSubcategory() {\n+        return this.subcategory;\n+    }\n+\n+    /**\n+     * Get the offset property: the start position for the entity text.\n+     *\n+     * @return The offset value.\n+     */\n+    public int getOffset() {\n+        return this.offset;\n+    }\n+\n+    /**\n+     * Get the length property: the length for the entity text.\n+     *\n+     * @return The length value.\n+     */\n+    public int getLength() {\n+        return this.length;\n+    }\n+\n+    /**\n+     * Get the score property: Confidence score between 0 and 1 of the extracted entity.\n+     *\n+     * @return The score value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 111}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM2ODI2OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/RecognizePiiEntitiesResult.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMzoxOFrOG_tmLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozMzoxOFrOG_tmLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2MDUyNg==", "bodyText": "Should add a throws here if the underlying method could potentially throw an exception.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469460526", "createdAt": "2020-08-12T18:33:18Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/RecognizePiiEntitiesResult.java", "diffHunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.ai.textanalytics.models;\n+\n+import com.azure.core.annotation.Immutable;\n+import com.azure.core.util.IterableStream;\n+\n+/**\n+ * The {@link RecognizePiiEntitiesResult} model.\n+ */\n+@Immutable\n+public final class RecognizePiiEntitiesResult extends TextAnalyticsResult {\n+    private final PiiEntityCollection entities;\n+\n+    /**\n+     * Creates a {@link RecognizePiiEntitiesResult} model that describes recognized PII entities result.\n+     *\n+     * @param id Unique, non-empty document identifier.\n+     * @param textDocumentStatistics The text document statistics.\n+     * @param error The document error.\n+     * @param entities A {@link PiiEntityCollection} contains entities and warnings.\n+     */\n+    public RecognizePiiEntitiesResult(String id, TextDocumentStatistics textDocumentStatistics,\n+        TextAnalyticsError error, PiiEntityCollection entities) {\n+        super(id, textDocumentStatistics, error);\n+        this.entities = entities;\n+    }\n+\n+    /**\n+     * Get an {@link IterableStream} of {@link PiiEntity}.\n+     *\n+     * @return An {@link IterableStream} of {@link PiiEntity}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzM3NTY5OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClientJavaDocCodeSnippets.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozNToyMlrOG_tq3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODozNToyMlrOG_tq3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2MTcyNw==", "bodyText": "make sure to keep this concise as this gets added in between the java docs and could make the docs really verbose!", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r469461727", "createdAt": "2020-08-12T18:35:22Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -234,6 +235,102 @@ public void recognizeBatchEntitiesMaxOverload() {\n         // END: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizeCategorizedEntitiesBatch#Iterable-TextAnalyticsRequestOptions\n     }\n \n+    // Personally Identifiable Information Entity\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsAsyncClient#recognizePiiEntities(String)}\n+     */\n+    public void recognizePiiEntities() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string\n+        String document = \"My SSN is 555-55-5555\";\n+        textAnalyticsAsyncClient.recognizePiiEntities(document).subscribe(piiEntityCollection ->\n+            piiEntityCollection.forEach(entity -> System.out.printf(\n+                \"Recognized Personally Identifiable Information entity: %s, entity category: %s,\"\n+                    + \" entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",\n+                entity.getText(), entity.getCategory(), entity.getSubcategory(), entity.getOffset(),\n+                entity.getLength(), entity.getConfidenceScore())));\n+        // END: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsAsyncClient#recognizePiiEntities(String, String)}\n+     */\n+    public void recognizePiiEntitiesWithLanguage() {\n+\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string-string\n+        String document = \"My SSN is 555-55-5555\";\n+        textAnalyticsAsyncClient.recognizePiiEntities(document, \"en\")\n+            .subscribe(piiEntityCollection -> piiEntityCollection.forEach(entity -> System.out.printf(\n+                \"Recognized Personally Identifiable Information entity: %s, entity category: %s,\"\n+                    + \" entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",\n+                entity.getText(), entity.getCategory(), entity.getSubcategory(), entity.getOffset(),\n+                entity.getLength(), entity.getConfidenceScore())));\n+        // END: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntities#string-string\n+    }\n+\n+    /**\n+     * Code snippet for {@link TextAnalyticsAsyncClient#recognizePiiEntitiesBatch(Iterable, String, TextAnalyticsRequestOptions)}\n+     */\n+    public void recognizePiiEntitiesStringListWithOptions() {\n+        // BEGIN: com.azure.ai.textanalytics.TextAnalyticsAsyncClient.recognizePiiEntitiesBatch#Iterable-String-TextAnalyticsRequestOptions\n+        List<String> documents = Arrays.asList(\n+            \"My SSN is 555-55-5555.\",\n+            \"Visa card 0111 1111 1111 1111.\"\n+        );\n+\n+        // Request options: show statistics and model version\n+        TextAnalyticsRequestOptions requestOptions = new TextAnalyticsRequestOptions().setIncludeStatistics(true)\n+            .setModelVersion(\"latest\");\n+\n+        textAnalyticsAsyncClient.recognizePiiEntitiesBatch(documents, \"en\", requestOptions)\n+            .subscribe(piiEntitiesResults -> {\n+                // Batch statistics\n+                TextDocumentBatchStatistics batchStatistics = piiEntitiesResults.getStatistics();\n+                System.out.printf(\"Batch statistics, transaction count: %s, valid document count: %s.%n\",\n+                    batchStatistics.getTransactionCount(), batchStatistics.getValidDocumentCount());\n+\n+                piiEntitiesResults.forEach(recognizePiiEntitiesResult ->\n+                    recognizePiiEntitiesResult.getEntities().forEach(entity -> System.out.printf(\n+                        \"Recognized Personally Identifiable Information entity: %s, entity category: %s,\"\n+                            + \" entity subcategory: %s, offset: %s, length: %s, confidence score: %f.%n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cf6e707c9d0f5339d289d1f981c166d3233c58e"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTY5MTYwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNjo1MDoxOVrOHA7qZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0NDoxNVrOHDK0Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDczOTU1Ng==", "bodyText": "Do we always put this in the changelog? It seems redundant to put all the overloads instead of just saying PII functionality is included like you did above.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470739556", "createdAt": "2020-08-14T16:50:19Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -5,9 +5,21 @@\n   - `offset` is the offset of the text from the start of the document\n   \n **New features**\n-- Added the support for Personally Identifiable Information(PII) entity recognition feature.\n-  To use this feature, you need to make sure you are using the \n-  service's v3.1-preview.1 API.\n+- Added support for Personally Identifiable Information(PII) entity recognition feature.\n+  To use this feature, you need to make sure you are using the service's v3.1-preview.1 API.\n+  \n+  New synchronous API introduced:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4NDk0Mg==", "bodyText": "i can remove the all API here.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473084942", "createdAt": "2020-08-19T14:44:15Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -5,9 +5,21 @@\n   - `offset` is the offset of the text from the start of the document\n   \n **New features**\n-- Added the support for Personally Identifiable Information(PII) entity recognition feature.\n-  To use this feature, you need to make sure you are using the \n-  service's v3.1-preview.1 API.\n+- Added support for Personally Identifiable Information(PII) entity recognition feature.\n+  To use this feature, you need to make sure you are using the service's v3.1-preview.1 API.\n+  \n+  New synchronous API introduced:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDczOTU1Ng=="}, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTY5OTMxOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNjo1MjozN1rOHA7u_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo1NToxNFrOHDLT4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0MDczMw==", "bodyText": "that is set using .... is not clear what you mean. consider rewording", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470740733", "createdAt": "2020-08-14T16:52:37Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -254,7 +254,7 @@ public String getDefaultLanguage() {\n      *\n      * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.\n      * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>.\n-     * This method will use the default language that sets up in\n+     * This method will use the default language that is set using", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA5MzA4OQ==", "bodyText": "updated.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473093089", "createdAt": "2020-08-19T14:55:14Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsAsyncClient.java", "diffHunk": "@@ -254,7 +254,7 @@ public String getDefaultLanguage() {\n      *\n      * For a list of supported entity types, check: <a href=\"https://aka.ms/taner\">this</a>.\n      * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>.\n-     * This method will use the default language that sets up in\n+     * This method will use the default language that is set using", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0MDczMw=="}, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTcwMDYxOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/AnalyzeSentimentResult.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNjo1MzowOVrOHA7v1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDoxMzowOFrOHBCE6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0MDk0OA==", "bodyText": "was this true before and we just forgot to add it in the docstring?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470740948", "createdAt": "2020-08-14T16:53:09Z", "author": {"login": "maririos"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/AnalyzeSentimentResult.java", "diffHunk": "@@ -30,6 +30,9 @@ public AnalyzeSentimentResult(String id, TextDocumentStatistics textDocumentStat\n      * Get the document sentiment.\n      *\n      * @return The document sentiment.\n+     *\n+     * @throws TextAnalyticsException if result has {@code isError} equals to true and when a non-error property", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg0NDY0OQ==", "bodyText": "throwExceptionIfError() throws TextAnalyticsException . we forget to add it in the docstring", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r470844649", "createdAt": "2020-08-14T20:13:08Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/models/AnalyzeSentimentResult.java", "diffHunk": "@@ -30,6 +30,9 @@ public AnalyzeSentimentResult(String id, TextDocumentStatistics textDocumentStat\n      * Get the document sentiment.\n      *\n      * @return The document sentiment.\n+     *\n+     * @throws TextAnalyticsException if result has {@code isError} equals to true and when a non-error property", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0MDk0OA=="}, "originalCommit": {"oid": "17092a5ab3adccc1d8cbb0a96c74bfa0a436893b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzI5OTEwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNToyNjo0MFrOHDMt4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNTozNDozN1rOHDNDTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExNjEzMQ==", "bodyText": "can't pass ci because of broken link, so will add them back after the sample merged.\nhttps://dev.azure.com/azure-sdk/public/_build/results?buildId=501818&view=logs&j=36df4387-3551-57fa-098c-b43a23930261&t=3851d55a-4253-57f5-016e-927e8de9d21b", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473116131", "createdAt": "2020-08-19T15:26:40Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/README.md", "diffHunk": "@@ -82,6 +88,9 @@ This project welcomes contributions and suggestions. Find [more contributing][SD\n [async_sample_entities]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizeEntitiesAsync.java\n [async_sample_entities_batch]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/RecognizeEntitiesBatchDocumentsAsync.java\n [async_sample_entities_batch_convenience]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/RecognizeEntitiesBatchStringDocumentsAsync.java\n+[async_sample_pii_entities]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntitiesAsync.java", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff4f2ad2bb7cda67c903ebdd9c01a2338282c6cb"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzEyMTYxMg==", "bodyText": "#14274", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473121612", "createdAt": "2020-08-19T15:34:37Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/samples/README.md", "diffHunk": "@@ -82,6 +88,9 @@ This project welcomes contributions and suggestions. Find [more contributing][SD\n [async_sample_entities]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizeEntitiesAsync.java\n [async_sample_entities_batch]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/RecognizeEntitiesBatchDocumentsAsync.java\n [async_sample_entities_batch_convenience]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/batch/RecognizeEntitiesBatchStringDocumentsAsync.java\n+[async_sample_pii_entities]: https://github.com/Azure/azure-sdk-for-java/blob/master/sdk/textanalytics/azure-ai-textanalytics/src/samples/java/com/azure/ai/textanalytics/RecognizePiiEntitiesAsync.java", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExNjEzMQ=="}, "originalCommit": {"oid": "ff4f2ad2bb7cda67c903ebdd9c01a2338282c6cb"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MDI0ODgzOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNToxOTozNlrOHDqTdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNzo0NjozNlrOHEMuTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwMDg4NA==", "bodyText": "Shouldn't this be\n### New Features?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473600884", "createdAt": "2020-08-20T05:19:36Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -4,6 +4,10 @@\n   - `length` is the number of characters in the text of these models\n   - `offset` is the offset of the text from the start of the document\n   \n+**New features**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE2NDgxNQ==", "bodyText": "we already follow this pattern in all released changelog. I saw Storage does the same.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474164815", "createdAt": "2020-08-20T17:46:36Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/CHANGELOG.md", "diffHunk": "@@ -4,6 +4,10 @@\n   - `length` is the number of characters in the text of these models\n   - `offset` is the offset of the text from the start of the document\n   \n+**New features**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwMDg4NA=="}, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MDI4MjIwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNToyODoxNFrOHDqoZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNzo1MzozMlrOHEM9Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwNjI0NA==", "bodyText": "This can call the method on L403.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473606244", "createdAt": "2020-08-20T05:28:14Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,20 +291,133 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that is set using {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");\n+        return client.recognizePiiEntities(document, language).block();\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities for the provided list of documents with\n+     * provided language code and request options.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a list of documents with a provided language code\n+     * and request options.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntitiesBatch#Iterable-String-TextAnalyticsRequestOptions}\n+     *\n+     * @param documents A list of documents to recognize PII entities for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     * @param options The {@link TextAnalyticsRequestOptions options} to configure the scoring model for documents\n+     * and show statistics.\n+     *\n+     * @return A {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @throws NullPointerException if {@code documents} is null.\n+     * @throws IllegalArgumentException if {@code documents} is empty.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public RecognizePiiEntitiesResultCollection recognizePiiEntitiesBatch(\n+        Iterable<String> documents, String language, TextAnalyticsRequestOptions options) {\n+        return client.recognizePiiEntitiesBatch(documents, language, options).block();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 134}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE2ODY1OQ==", "bodyText": "it is better to link to call async version of it rather than depends on other sync overload.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474168659", "createdAt": "2020-08-20T17:53:32Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,20 +291,133 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that is set using {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");\n+        return client.recognizePiiEntities(document, language).block();\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities for the provided list of documents with\n+     * provided language code and request options.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a list of documents with a provided language code\n+     * and request options.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntitiesBatch#Iterable-String-TextAnalyticsRequestOptions}\n+     *\n+     * @param documents A list of documents to recognize PII entities for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     * @param options The {@link TextAnalyticsRequestOptions options} to configure the scoring model for documents\n+     * and show statistics.\n+     *\n+     * @return A {@link RecognizePiiEntitiesResultCollection}.\n+     *\n+     * @throws NullPointerException if {@code documents} is null.\n+     * @throws IllegalArgumentException if {@code documents} is empty.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public RecognizePiiEntitiesResultCollection recognizePiiEntitiesBatch(\n+        Iterable<String> documents, String language, TextAnalyticsRequestOptions options) {\n+        return client.recognizePiiEntitiesBatch(documents, language, options).block();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwNjI0NA=="}, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 134}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MDI4NDYwOnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNToyODo0NVrOHDqpwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyNDowM1rOHEN9yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwNjU5Mw==", "bodyText": "Can this call the method on L373", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473606593", "createdAt": "2020-08-20T05:28:45Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,20 +291,133 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that is set using {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");\n+        return client.recognizePiiEntities(document, language).block();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4NTE2MQ==", "bodyText": "same reason as in #13687 (comment)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474185161", "createdAt": "2020-08-20T18:24:03Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/main/java/com/azure/ai/textanalytics/TextAnalyticsClient.java", "diffHunk": "@@ -289,20 +291,133 @@ public RecognizeEntitiesResultCollection recognizeEntitiesBatch(\n         return client.recognizeEntityAsyncClient.recognizeEntitiesBatchWithContext(documents, options, context).block();\n     }\n \n+    // PII Entity\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>. This method will use the\n+     * default language that is set using {@link TextAnalyticsClientBuilder#defaultLanguage(String)}. If none is\n+     * specified, service will use 'en' as the language.\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognize the PII entities details in a document.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     *\n+     * @return A {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document) {\n+        return recognizePiiEntities(document, client.getDefaultLanguage());\n+    }\n+\n+    /**\n+     * Returns a list of Personally Identifiable Information(PII) entities in the provided document\n+     * with provided language code.\n+     *\n+     * For a list of supported entity types, check: <a href=\"https://aka.ms/tanerpii\">this</a>\n+     * For a list of enabled languages, check: <a href=\"https://aka.ms/talangs\">this</a>\n+     *\n+     * <p><strong>Code Sample</strong></p>\n+     * <p>Recognizes the PII entities details in a document with a provided language code.</p>\n+     *\n+     * {@codesnippet com.azure.ai.textanalytics.TextAnalyticsClient.recognizePiiEntities#String-String}\n+     *\n+     * @param document The document to recognize PII entities details for.\n+     * For text length limits, maximum batch size, and supported text encoding, see\n+     * <a href=\"https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview#data-limits\">data limits</a>.\n+     * @param language The 2 letter ISO 639-1 representation of language. If not set, uses \"en\" for English as default.\n+     *\n+     * @return The {@link PiiEntityCollection recognized PII entities collection}.\n+     *\n+     * @throws NullPointerException if {@code document} is null.\n+     * @throws TextAnalyticsException if the response returned with an {@link TextAnalyticsError error}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public PiiEntityCollection recognizePiiEntities(String document, String language) {\n+        Objects.requireNonNull(document, \"'document' cannot be null.\");\n+        return client.recognizePiiEntities(document, language).block();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYwNjU5Mw=="}, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 106}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MDMxNzg3OnYy", "diffSide": "RIGHT", "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsClientTestBase.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNTozNzo0MVrOHDq--A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyMDo1N1rOHEN3eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYxMjAyNA==", "bodyText": "Does this still need to be commented, could you add a corresponding TODO here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r473612024", "createdAt": "2020-08-20T05:37:41Z", "author": {"login": "samvaity"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsClientTestBase.java", "diffHunk": "@@ -268,6 +296,57 @@ void recognizeEntitiesTooManyDocumentsRunner(\n             Arrays.asList(documentInput, documentInput, documentInput, documentInput, documentInput, documentInput));\n     }\n \n+    // Personally Identifiable Information Entity runner\n+    void recognizePiiSingleDocumentRunner(Consumer<String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS.get(0));\n+    }\n+\n+    void recognizePiiLanguageHintRunner(BiConsumer<List<String>, String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, \"en\");\n+    }\n+\n+    void recognizeBatchPiiEntityDuplicateIdRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        testRunner.accept(getDuplicateTextDocumentInputs());\n+    }\n+\n+    void recognizePiiEntitiesLanguageHintRunner(BiConsumer<List<String>, String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, \"en\");\n+    }\n+\n+    void recognizeBatchPiiEntitySingleErrorRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        List<TextDocumentInput> inputs = Collections.singletonList(new TextDocumentInput(\"2\", \" \"));\n+        testRunner.accept(inputs);\n+    }\n+\n+    void recognizeBatchPiiEntitiesRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        testRunner.accept(TestUtils.getTextDocumentInputs(PII_ENTITY_INPUTS));\n+    }\n+\n+    void recognizeBatchPiiEntitiesShowStatsRunner(\n+        BiConsumer<List<TextDocumentInput>, TextAnalyticsRequestOptions> testRunner) {\n+        final List<TextDocumentInput> textDocumentInputs = TestUtils.getTextDocumentInputs(PII_ENTITY_INPUTS);\n+        TextAnalyticsRequestOptions options = new TextAnalyticsRequestOptions().setIncludeStatistics(true);\n+\n+        testRunner.accept(textDocumentInputs, options);\n+    }\n+\n+    void recognizeStringBatchPiiEntitiesShowStatsRunner(\n+        BiConsumer<List<String>, TextAnalyticsRequestOptions> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, new TextAnalyticsRequestOptions().setIncludeStatistics(true));\n+    }\n+\n+    void recognizePiiEntitiesTooManyDocumentsRunner(Consumer<List<String>> testRunner) {\n+        final String documentInput = PII_ENTITY_INPUTS.get(0);\n+        // max num of document size is 5\n+        testRunner.accept(\n+            Arrays.asList(documentInput, documentInput, documentInput, documentInput, documentInput, documentInput));\n+    }\n+\n+//    void recognizePiiEntitiesWithDomainRunner(BiConsumer<List<String>, TextAnalyticsRequestOptions> testRunner) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4MzU0Ng==", "bodyText": "this should be removed as well. We can add it back later when domain feature is on. Forget to delete it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13687#discussion_r474183546", "createdAt": "2020-08-20T18:20:57Z", "author": {"login": "mssfang"}, "path": "sdk/textanalytics/azure-ai-textanalytics/src/test/java/com/azure/ai/textanalytics/TextAnalyticsClientTestBase.java", "diffHunk": "@@ -268,6 +296,57 @@ void recognizeEntitiesTooManyDocumentsRunner(\n             Arrays.asList(documentInput, documentInput, documentInput, documentInput, documentInput, documentInput));\n     }\n \n+    // Personally Identifiable Information Entity runner\n+    void recognizePiiSingleDocumentRunner(Consumer<String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS.get(0));\n+    }\n+\n+    void recognizePiiLanguageHintRunner(BiConsumer<List<String>, String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, \"en\");\n+    }\n+\n+    void recognizeBatchPiiEntityDuplicateIdRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        testRunner.accept(getDuplicateTextDocumentInputs());\n+    }\n+\n+    void recognizePiiEntitiesLanguageHintRunner(BiConsumer<List<String>, String> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, \"en\");\n+    }\n+\n+    void recognizeBatchPiiEntitySingleErrorRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        List<TextDocumentInput> inputs = Collections.singletonList(new TextDocumentInput(\"2\", \" \"));\n+        testRunner.accept(inputs);\n+    }\n+\n+    void recognizeBatchPiiEntitiesRunner(Consumer<List<TextDocumentInput>> testRunner) {\n+        testRunner.accept(TestUtils.getTextDocumentInputs(PII_ENTITY_INPUTS));\n+    }\n+\n+    void recognizeBatchPiiEntitiesShowStatsRunner(\n+        BiConsumer<List<TextDocumentInput>, TextAnalyticsRequestOptions> testRunner) {\n+        final List<TextDocumentInput> textDocumentInputs = TestUtils.getTextDocumentInputs(PII_ENTITY_INPUTS);\n+        TextAnalyticsRequestOptions options = new TextAnalyticsRequestOptions().setIncludeStatistics(true);\n+\n+        testRunner.accept(textDocumentInputs, options);\n+    }\n+\n+    void recognizeStringBatchPiiEntitiesShowStatsRunner(\n+        BiConsumer<List<String>, TextAnalyticsRequestOptions> testRunner) {\n+        testRunner.accept(PII_ENTITY_INPUTS, new TextAnalyticsRequestOptions().setIncludeStatistics(true));\n+    }\n+\n+    void recognizePiiEntitiesTooManyDocumentsRunner(Consumer<List<String>> testRunner) {\n+        final String documentInput = PII_ENTITY_INPUTS.get(0);\n+        // max num of document size is 5\n+        testRunner.accept(\n+            Arrays.asList(documentInput, documentInput, documentInput, documentInput, documentInput, documentInput));\n+    }\n+\n+//    void recognizePiiEntitiesWithDomainRunner(BiConsumer<List<String>, TextAnalyticsRequestOptions> testRunner) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzYxMjAyNA=="}, "originalCommit": {"oid": "bda0f947808708dcbde090336a89e3b9e66fbd60"}, "originalPosition": 115}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4691, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}