{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNDAzNTEz", "number": 12671, "title": "Initial KeyVaultBackupClient for Java", "bodyText": "Tests and samples are still pending and the README is a work in progress.\nBased on issue: #12077.", "createdAt": "2020-07-01T02:35:46Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671", "merged": true, "mergeCommit": {"oid": "3e7eb21032b827ebd77fd016719b6c5ad749f600"}, "closed": true, "closedAt": "2020-09-05T01:51:14Z", "author": {"login": "vcolin7"}, "timelineItems": {"totalCount": 60, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrlhHWgH2gAyNDQyNDAzNTEzOmY5OWY4MjVhNWI5NjEzYzI1YWZlZDFmNTZkNDhiMjBjMTM0MmVjMGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFvSujgH2gAyNDQyNDAzNTEzOjdjNzVlMTcxOTU0OTA1OTQ4MzFmN2U2N2ZjNThhNDE1MDlhZDJjZWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f99f825a5b9613c25afed1f56d48b20c1342ec0a", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f99f825a5b9613c25afed1f56d48b20c1342ec0a", "committedDate": "2020-06-15T19:07:29Z", "message": "Created azure-security-keyvault-administration module including its POM, README and CHANGELOG files."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08f62648e8f9784f1b13b8f48286fa29474209e4", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/08f62648e8f9784f1b13b8f48286fa29474209e4", "committedDate": "2020-06-15T21:16:24Z", "message": "Created AutoRest README and generated artifacts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c351f1754a61243dcbb52c1f8d744648d2a5f28c", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c351f1754a61243dcbb52c1f8d744648d2a5f28c", "committedDate": "2020-06-15T21:35:57Z", "message": "Added sync methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b627b580140017d8d6d8482e8135b60b0357812", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3b627b580140017d8d6d8482e8135b60b0357812", "committedDate": "2020-06-18T20:50:47Z", "message": "Modified the AutoRest specification to generate async methods only. Renamed the generated AccessControl client and builder."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4917eb7a8f2457a4da3674844fdb02fd1e88a82", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e4917eb7a8f2457a4da3674844fdb02fd1e88a82", "committedDate": "2020-06-18T20:52:36Z", "message": "Created the AccessControl builder and clients (sync + async), public API for getting Role Definitions and some helper classes and resources."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9eebad72ea6bb3b52ad012fbbb554640d2d33cf", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f9eebad72ea6bb3b52ad012fbbb554640d2d33cf", "committedDate": "2020-06-18T22:41:23Z", "message": "Regenerated classes with AutoRest v4 instead of v3."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b69e738858cd091fd1d9f350714fb0bbf1c26435", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b69e738858cd091fd1d9f350714fb0bbf1c26435", "committedDate": "2020-06-18T22:46:41Z", "message": "Added the 'KeyVault' prefix to all access control clients, implementation classes and their builders."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42a7cba66c165f33e89dd45d407579459a155533", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/42a7cba66c165f33e89dd45d407579459a155533", "committedDate": "2020-06-19T05:17:17Z", "message": "Added an API for listing role definitions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c75941c31a888b65a0f2b82898ca5a151fce083", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0c75941c31a888b65a0f2b82898ca5a151fce083", "committedDate": "2020-06-19T05:17:35Z", "message": "Added APIs for creating, getting, deleting and listing role assignments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d003dd7ebcbcdb89714eb98aabe93fd4f82eebc", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9d003dd7ebcbcdb89714eb98aabe93fd4f82eebc", "committedDate": "2020-06-23T00:16:21Z", "message": "Polished README."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b1fd318bbcabf5f898bceae57ec47fe8d7f2d94", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b1fd318bbcabf5f898bceae57ec47fe8d7f2d94", "committedDate": "2020-06-24T20:58:46Z", "message": "Added the an entry for Key Vault Administration in version_client.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "590045a6fa30346f7fa73562b93fdd956ce2a8e6", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/590045a6fa30346f7fa73562b93fdd956ce2a8e6", "committedDate": "2020-06-24T22:13:41Z", "message": "Renamed to not break the CI build."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d556d46764bce208a8e38a9a3da7009030ac139", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8d556d46764bce208a8e38a9a3da7009030ac139", "committedDate": "2020-06-25T05:39:27Z", "message": "Fixed copy/paste error on autorest.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "614cf26a47f15beae2d34d52afc4cd7b0e4759ff", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/614cf26a47f15beae2d34d52afc4cd7b0e4759ff", "committedDate": "2020-06-25T18:58:55Z", "message": "Changed README references (keys -> administration)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6273df0f12bc99fbc0b827cffba0b3f3237b8b93", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6273df0f12bc99fbc0b827cffba0b3f3237b8b93", "committedDate": "2020-06-27T04:26:23Z", "message": "Addressed PR comments. Added a new ExpandableStringEnum: RoleScope. Corrected some of the Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b78ab052b16d472924b781fb2610f3c6a1b60a76", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b78ab052b16d472924b781fb2610f3c6a1b60a76", "committedDate": "2020-07-01T00:10:04Z", "message": "Removed AccessControl classes. Used AutoRest to generate code from the backuprestore swagger. Modified README.md, CHANGELOG.md and autorest.md."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c30da84a20546909ea4f2eb72dd479bc43d39a14", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c30da84a20546909ea4f2eb72dd479bc43d39a14", "committedDate": "2020-07-01T02:17:13Z", "message": "Created the async and syncs backup clients, as well as their builder."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "836f1053b3f505edf35ff9c08184e7e8dec789dd", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/836f1053b3f505edf35ff9c08184e7e8dec789dd", "committedDate": "2020-07-01T02:33:50Z", "message": "Made small corrections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5ee4f513c77efeba8ecd2dff967c2fe564d37dd7", "committedDate": "2020-07-01T08:24:31Z", "message": "Merge branch 'master' into users/vicolina/keyvault-backup-restore"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwODg3NzQ0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-440887744", "createdAt": "2020-07-01T13:50:27Z", "commit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMDkxMzc4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-441091378", "createdAt": "2020-07-01T18:07:47Z", "commit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODowNzo0OFrOGrwTAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0ODoxOVrOGrxhRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzMzI0OA==", "bodyText": "There are multiple clients, so probably just drop \"client\" and say \"... Administration library.\"", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448533248", "createdAt": "2020-07-01T18:07:48Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -0,0 +1,127 @@\n+# Azure Key Vault Administration library for Java\n+\n+## Getting started\n+### Adding the package to your project\n+Maven dependency for the Azure Key Vault Administration client library. Add it to your project's POM file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNjUxOA==", "bodyText": "I thought \"begin\" was the preferred LRO prefix for every language but .NET.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448536518", "createdAt": "2020-07-01T18:14:26Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNzU5Mw==", "bodyText": "@christothes I don't see this in .NET. Should it be?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448537593", "createdAt": "2020-07-01T18:16:38Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupClient.java", "diffHunk": "@@ -0,0 +1,86 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.security.keyvault.administration;\n+\n+import com.azure.core.annotation.ReturnType;\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.annotation.ServiceMethod;\n+import com.azure.core.util.polling.PollerFlux;\n+import com.azure.core.util.polling.SyncPoller;\n+import com.azure.security.keyvault.administration.implementation.models.FullBackupOperation;\n+import com.azure.security.keyvault.administration.implementation.models.KeyVaultErrorException;\n+import com.azure.security.keyvault.administration.implementation.models.RestoreOperation;\n+import com.azure.security.keyvault.administration.implementation.models.SelectiveKeyRestoreOperation;\n+\n+/**\n+ * The {@link KeyVaultBackupClient} provides synchronous methods to perform full backup and restore of an Azure Key\n+ * Vault.\n+ */\n+@ServiceClient(builder = KeyVaultBackupClientBuilder.class)\n+public class KeyVaultBackupClient {\n+    private final KeyVaultBackupAsyncClient asyncClient;\n+\n+    /**\n+     * Creates an {@link KeyVaultBackupClient} that uses a {@code pipeline} to service requests\n+     *\n+     * @param asyncClient The {@link KeyVaultBackupAsyncClient} that the client routes its request through.\n+     */\n+    KeyVaultBackupClient(KeyVaultBackupAsyncClient asyncClient) {\n+        this.asyncClient = asyncClient;\n+    }\n+\n+    /**\n+     * Get the vault endpoint URL.\n+     *\n+     * @return The vault endpoint URL.\n+     */\n+    public String getVaultUrl() {\n+        return asyncClient.getVaultUrl();\n+    }\n+\n+    /**\n+     * Initiates a full backup of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup will be located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @return A {@link SyncPoller} polling on the {@link FullBackupOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<FullBackupOperation, Void> startBackup(String blobStorageUrl, String sasToken) {\n+        return asyncClient.startBackup(blobStorageUrl, sasToken).getSyncPoller();\n+    }\n+\n+    /**\n+     * Initiates a full restore of the Key Vault.\n+     *\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link SyncPoller} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<RestoreOperation, Void> startRestore(String blobStorageUrl, String sasToken, String folderName) {\n+        return asyncClient.startRestore(blobStorageUrl, sasToken, folderName).getSyncPoller();\n+    }\n+\n+    /**\n+     * Restores all versions of a given key using the supplied SAS token pointing to a previously stored Azure Blob storage backup folder.\n+     *\n+     * @param keyName        The name of the key to be restored.\n+     * @param blobStorageUrl The URL for the Blob Storage resource where the backup is located.\n+     * @param sasToken       A Shared Access Signature (SAS) token to authorize access to the blob.\n+     * @param folderName     The name of the folder containing the backup data to restore.\n+     * @return A {@link PollerFlux} polling on the {@link RestoreOperation backup operation} status.\n+     * @throws KeyVaultErrorException if the operation is unsuccessful.\n+     * @throws NullPointerException   if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n+     */\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public SyncPoller<SelectiveKeyRestoreOperation, Void> startSelectiveRestore(String keyName, String blobStorageUrl, String sasToken, String folderName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MDk3OQ==", "bodyText": "You should have a single BackupOperation for both full- and selective-backup. The URI varies, but the functionality is exactly the same.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448550979", "createdAt": "2020-07-01T18:43:41Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MTE5OA==", "bodyText": "The user should not be able to set status - or anything on this class. It's purely a return model.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448551198", "createdAt": "2020-07-01T18:44:11Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupOperation.java", "diffHunk": "@@ -0,0 +1,196 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullBackupOperation model. */\n+@Fluent\n+public final class FullBackupOperation {\n+    /*\n+     * Status of the backup operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of backup operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the full backup operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * The start time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the backup operation in UTC\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /*\n+     * Identifier for the full backup operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The Azure blob storage container Uri which contains the full backup\n+     */\n+    @JsonProperty(value = \"azureStorageBlobContainerUri\")\n+    private String azureStorageBlobContainerUri;\n+\n+    /**\n+     * Get the status property: Status of the backup operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the backup operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the FullBackupOperation object itself.\n+     */\n+    public FullBackupOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjE0Nw==", "bodyText": "Why is this public? See https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/keyvault/Azure.Security.KeyVault.Administration/api/Azure.Security.KeyVault.Administration.netstandard2.0.cs for what should be public (idiomatic details will differ, of course, but models and clients should largely be the same).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552147", "createdAt": "2020-07-01T18:46:02Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullBackupResponse.java", "diffHunk": "@@ -0,0 +1,36 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.http.HttpHeaders;\n+import com.azure.core.http.HttpRequest;\n+import com.azure.core.http.rest.ResponseBase;\n+\n+/** Contains all response data for the fullBackup operation. */\n+public final class FullBackupResponse extends ResponseBase<FullBackupHeaders, FullBackupOperation> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjM1MA==", "bodyText": "Why are headers classes (I saw one above) public? The user shouldn't have to worry about those.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552350", "createdAt": "2020-07-01T18:46:26Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/FullRestoreOperationHeaders.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The FullRestoreOperationHeaders model. */\n+@Fluent\n+public final class FullRestoreOperationHeaders {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1Mjc4NA==", "bodyText": "This is a read-only return model. Nothing should be settable.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448552784", "createdAt": "2020-07-01T18:47:14Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/RestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The RestoreOperation model. */\n+@Fluent\n+public final class RestoreOperation {\n+    /*\n+     * Status of the restore operation.\n+     */\n+    @JsonProperty(value = \"status\")\n+    private String status;\n+\n+    /*\n+     * The status details of restore operation.\n+     */\n+    @JsonProperty(value = \"statusDetails\")\n+    private String statusDetails;\n+\n+    /*\n+     * Error encountered, if any, during the restore operation.\n+     */\n+    @JsonProperty(value = \"error\")\n+    private Error error;\n+\n+    /*\n+     * Identifier for the restore operation.\n+     */\n+    @JsonProperty(value = \"jobId\")\n+    private String jobId;\n+\n+    /*\n+     * The start time of the restore operation\n+     */\n+    @JsonProperty(value = \"startTime\")\n+    private Long startTime;\n+\n+    /*\n+     * The end time of the restore operation\n+     */\n+    @JsonProperty(value = \"endTime\")\n+    private Long endTime;\n+\n+    /**\n+     * Get the status property: Status of the restore operation.\n+     *\n+     * @return the status value.\n+     */\n+    public String getStatus() {\n+        return this.status;\n+    }\n+\n+    /**\n+     * Set the status property: Status of the restore operation.\n+     *\n+     * @param status the status value to set.\n+     * @return the RestoreOperation object itself.\n+     */\n+    public RestoreOperation setStatus(String status) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzA3Nw==", "bodyText": "Since the sasToken parameter in the client methods is a String, why is this model public?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448553077", "createdAt": "2020-07-01T18:47:50Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SASTokenParameter.java", "diffHunk": "@@ -0,0 +1,64 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SASTokenParameter model. */\n+@Fluent\n+public final class SASTokenParameter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzI4Nw==", "bodyText": "There should be only a generic RestoreOperation for full- and selective-restore (similar to BackupOperation I mentoined above).", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r448553287", "createdAt": "2020-07-01T18:48:19Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/SelectiveKeyRestoreOperation.java", "diffHunk": "@@ -0,0 +1,168 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.security.keyvault.administration.implementation.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/** The SelectiveKeyRestoreOperation model. */\n+@Fluent\n+public final class SelectiveKeyRestoreOperation {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ee4f513c77efeba8ecd2dff967c2fe564d37dd7"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "990024e797261c75e4c03fd61dca1b0488d31fdc", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/990024e797261c75e4c03fd61dca1b0488d31fdc", "committedDate": "2020-07-02T00:43:06Z", "message": "Made slight corrections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b773c9cebc10bf28bf7dd4829d28c5b8fc416d2", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b773c9cebc10bf28bf7dd4829d28c5b8fc416d2", "committedDate": "2020-08-27T09:54:05Z", "message": "Merge remote-tracking branch 'upstream/master' into users/vicolina/keyvault-backup-restore\n\n# Conflicts:\n#\teng/versioning/version_client.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3de7fb1aabc1ed10d0904017abb1f3354032f3bf", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3de7fb1aabc1ed10d0904017abb1f3354032f3bf", "committedDate": "2020-08-27T10:07:36Z", "message": "Added the new Key Vault Administration library to eng/jacoco-test-coverage/pom.xml"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a772c06550c6136d6738f8bc5adacd6c94e97622", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a772c06550c6136d6738f8bc5adacd6c94e97622", "committedDate": "2020-08-27T10:07:06Z", "message": "Added the new Key Vault Administration library to eng/jacoco-test-coverage/pom.xml"}, "afterCommit": {"oid": "3de7fb1aabc1ed10d0904017abb1f3354032f3bf", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3de7fb1aabc1ed10d0904017abb1f3354032f3bf", "committedDate": "2020-08-27T10:07:36Z", "message": "Added the new Key Vault Administration library to eng/jacoco-test-coverage/pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "941c0cc1412fdea6298efb1d82d61acbd7184bc9", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/941c0cc1412fdea6298efb1d82d61acbd7184bc9", "committedDate": "2020-08-27T10:23:59Z", "message": "Re-generated code from the Swagger specification."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ad8b2f8a18f9d59619e953e98cc139a3e3d4405", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6ad8b2f8a18f9d59619e953e98cc139a3e3d4405", "committedDate": "2020-08-27T11:57:59Z", "message": "Renamed LROs to use \"begin\" instead of \"start\". Added a way to handle errors when polling LROs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2ODg5OTY2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-476889966", "createdAt": "2020-08-27T16:28:59Z", "commit": {"oid": "3de7fb1aabc1ed10d0904017abb1f3354032f3bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjoyODo1OVrOHIYJnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjoyODo1OVrOHIYJnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU0NjMzNQ==", "bodyText": "Same comment as the other PR on removing this configuration.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r478546335", "createdAt": "2020-08-27T16:28:59Z", "author": {"login": "alzimmermsft"}, "path": "sdk/keyvault/azure-security-keyvault-administration/pom.xml", "diffHunk": "@@ -0,0 +1,109 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <parent>\n+    <groupId>com.azure</groupId>\n+    <artifactId>azure-client-sdk-parent</artifactId>\n+    <version>1.7.0</version> <!-- {x-version-update;com.azure:azure-client-sdk-parent;current} -->\n+    <relativePath>../../parents/azure-client-sdk-parent</relativePath>\n+  </parent>\n+\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <groupId>com.azure</groupId>\n+  <artifactId>azure-security-keyvault-administration</artifactId>\n+  <version>4.1.0-beta.1</version> <!-- {x-version-update;com.azure:azure-security-keyvault-administration;current} -->\n+\n+  <name>Microsoft Azure client library for KeyVault Administration</name>\n+  <description>This module contains client library for Microsoft Azure KeyVault Administration.</description>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+  <distributionManagement>\n+    <site>\n+      <id>azure-java-build-docs</id>\n+      <url>${site.url}/site/${project.artifactId}</url>\n+    </site>\n+  </distributionManagement>\n+\n+  <scm>\n+    <url>scm:git:https://github.com/Azure/azure-sdk-for-java</url>\n+    <connection>scm:git:git@github.com:Azure/azure-sdk-for-java.git</connection>\n+    <tag>HEAD</tag>\n+  </scm>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+        <version>3.0.0-M3</version> <!-- {x-version-update;org.apache.maven.plugins:maven-surefire-plugin;external_dependency} -->\n+        <configuration>\n+          <rerunFailingTestsCount>3</rerunFailingTestsCount>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de7fb1aabc1ed10d0904017abb1f3354032f3bf"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f62b00ed6139858fedde284e3bd15dd13933943", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0f62b00ed6139858fedde284e3bd15dd13933943", "committedDate": "2020-08-28T23:56:14Z", "message": "Created custom models to expose to users instead of the ones in implementation.models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9480ec816dbc074074d076fb895ef3c261e113a", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e9480ec816dbc074074d076fb895ef3c261e113a", "committedDate": "2020-08-29T00:17:55Z", "message": "Added package-info.java and module-info.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e2d5bd0d70487b4ba2f870bbea684f1616e21fe", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/8e2d5bd0d70487b4ba2f870bbea684f1616e21fe", "committedDate": "2020-08-29T00:22:07Z", "message": "Made some small corrections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/175d5df480ff2a76e28ffe6ce10dbdaafe615fed", "committedDate": "2020-08-29T00:46:18Z", "message": "Removed and added a couple entries to module-info.java. Moved KeyVaultLongRunningOperation to administration.models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65eee4e844f78f42001c1307b6fc21a6ef3bf638", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/65eee4e844f78f42001c1307b6fc21a6ef3bf638", "committedDate": "2020-08-29T00:58:56Z", "message": "Changed version of the Key Vault Administration package."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4c43a634c79c65dd5134f5048d8c982c100f914", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4c43a634c79c65dd5134f5048d8c982c100f914", "committedDate": "2020-08-29T01:14:48Z", "message": "Corrected errors highlighted by APIView."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0f261e12d079e6efe22d94e786e4e3e7bb7b46af", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0f261e12d079e6efe22d94e786e4e3e7bb7b46af", "committedDate": "2020-08-29T01:13:24Z", "message": "Corrected errors highlighted by APIView."}, "afterCommit": {"oid": "d4c43a634c79c65dd5134f5048d8c982c100f914", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4c43a634c79c65dd5134f5048d8c982c100f914", "committedDate": "2020-08-29T01:14:48Z", "message": "Corrected errors highlighted by APIView."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e3310a4028c5b4b9376a1ab93ccaa176619a36f", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e3310a4028c5b4b9376a1ab93ccaa176619a36f", "committedDate": "2020-08-31T20:18:36Z", "message": "Removed implementation classes from public API signatures and documentation. Added KeyVaultException to take the place of KeyVaultErrorException in the Javadoc of public APIs."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "22856a80c9ebfdc3e986b7a6ab120011ab4dbbcd", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/22856a80c9ebfdc3e986b7a6ab120011ab4dbbcd", "committedDate": "2020-08-31T20:15:25Z", "message": "Removed implementation classes from public API signatures and documentation. Added KeyVaultException to take the place of KeyVaultErrorException in the Javadoc of public APIs."}, "afterCommit": {"oid": "9e3310a4028c5b4b9376a1ab93ccaa176619a36f", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e3310a4028c5b4b9376a1ab93ccaa176619a36f", "committedDate": "2020-08-31T20:18:36Z", "message": "Removed implementation classes from public API signatures and documentation. Added KeyVaultException to take the place of KeyVaultErrorException in the Javadoc of public APIs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07332e546101de8e162e6b84ad9db1fd51e9afb9", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/07332e546101de8e162e6b84ad9db1fd51e9afb9", "committedDate": "2020-09-01T04:07:18Z", "message": "Removed KeyVaultException."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38f7e84ea8b2412d1280fb294ba80de922d392f7", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/38f7e84ea8b2412d1280fb294ba80de922d392f7", "committedDate": "2020-09-01T04:10:13Z", "message": "Fixed Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc92f6c54bf345a54a17b8e4215c71fb969f7153", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc92f6c54bf345a54a17b8e4215c71fb969f7153", "committedDate": "2020-09-01T18:42:33Z", "message": "Updated module-info.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "282a4880a76f20cc80893a4b2d9df10ed8732694", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/282a4880a76f20cc80893a4b2d9df10ed8732694", "committedDate": "2020-09-02T06:00:24Z", "message": "Corrected version number in files inside /eng. Fixed package-info.java Javadoc. Updated dependency versions in azure-security-keyvault-administration's POM."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d71563c6cbd8263c3b1246727e8bbd7be8bd8052", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d71563c6cbd8263c3b1246727e8bbd7be8bd8052", "committedDate": "2020-09-02T05:56:49Z", "message": "Corrected version number in files inside /eng. Fixed package-info.java Javadoc. Updated dependency versions in azure-security-keyvault-administration's POM."}, "afterCommit": {"oid": "282a4880a76f20cc80893a4b2d9df10ed8732694", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/282a4880a76f20cc80893a4b2d9df10ed8732694", "committedDate": "2020-09-02T06:00:24Z", "message": "Corrected version number in files inside /eng. Fixed package-info.java Javadoc. Updated dependency versions in azure-security-keyvault-administration's POM."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzc4MzMz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-481378333", "createdAt": "2020-09-02T23:22:24Z", "commit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzoyMjoyNFrOHMPO-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMzoyMjoyNFrOHMPO-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU5NDU1NQ==", "bodyText": "Would it make more sense to lower-case these and compare case-insensitively? I wouldn't trust the service implementation so much in this regard.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r482594555", "createdAt": "2020-09-02T23:22:24Z", "author": {"login": "heaths"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -156,19 +178,19 @@ public String getVaultUrl() {\n         };\n     }\n \n-    private Mono<PollResponse<FullBackupOperation>> processBackupOperationResponse(Response<FullBackupOperation> response) {\n+    private Mono<PollResponse<KeyVaultBackupOperation>> processBackupOperationResponse(Response<KeyVaultBackupOperation> response) {\n         String operationStatus = response.getValue().getStatus().toLowerCase();\n \n         return Mono.just(new PollResponse<>(toLongRunningOperationStatus(operationStatus), response.getValue()));\n     }\n \n     private LongRunningOperationStatus toLongRunningOperationStatus(String operationStatus) {\n         switch (operationStatus) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "175d5df480ff2a76e28ffe6ce10dbdaafe615fed"}, "originalPosition": 143}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "544c38507080472e8d33f58845ec9de5904f7bca", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/544c38507080472e8d33f58845ec9de5904f7bca", "committedDate": "2020-09-03T22:06:10Z", "message": "Fixed Javadoc formatting for public APIs. Fixed build analysis issues with the module's POM. Made utility methods in KeyVaultBackupAsyncClient static and ensured we correctly parse long running operation statuses."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51fd6e7062cbeedaabcd08f33a0370b9ee41b7a6", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/51fd6e7062cbeedaabcd08f33a0370b9ee41b7a6", "committedDate": "2020-09-03T22:12:29Z", "message": "Merge branch 'master' into users/vicolina/keyvault-backup-restore\n\n# Conflicts:\n#\teng/versioning/version_client.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2243154dfb90ffb5ecf464e9948d9f6de600823d", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2243154dfb90ffb5ecf464e9948d9f6de600823d", "committedDate": "2020-09-03T22:13:22Z", "message": "Updated Reactor version."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c33b71a907dcd3a4a39c7015784a398e1d5e50f", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7c33b71a907dcd3a4a39c7015784a398e1d5e50f", "committedDate": "2020-09-04T04:00:29Z", "message": "Changed the final result return type of the `beginBackup` operation from `Void` to `String` so it returns the blob storage URI of the resulting backup. Improved logging for LROs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b08ea73d2b4524b1ee85128aaad67ad51d2a9f", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/b6b08ea73d2b4524b1ee85128aaad67ad51d2a9f", "committedDate": "2020-09-04T04:01:27Z", "message": "Added samples to README. Fixed Build analysis issue related to README."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f62071634cf8a61be6eca3f5cc3b918049b5d261", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f62071634cf8a61be6eca3f5cc3b918049b5d261", "committedDate": "2020-09-04T07:00:35Z", "message": "Fixed broken links in autorest.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d758e04f99ea18349d37b46ab8c9783618d490f", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9d758e04f99ea18349d37b46ab8c9783618d490f", "committedDate": "2020-09-04T08:48:27Z", "message": "Made fixes for test cases."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fbc20f4848e2f8845e3c7f0f4699822c64c42d91", "committedDate": "2020-09-04T08:53:16Z", "message": "Updated azure-core versions."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjYwMjA3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482660207", "createdAt": "2020-09-04T13:39:48Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzozOTo0OFrOHNN8VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzozOTo0OFrOHNN8VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMTk3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.\n          \n          \n            \n            In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyVaultBackupClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483621973", "createdAt": "2020-09-04T13:39:48Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -24,7 +24,7 @@ Maven dependency for the Azure Key Vault Administration library. Add it to your\n     ```\n \n ### Authenticate the client\n-In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-key-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.\n+In order to interact with the Azure Key Vault service, you'll need to create an instance of the [KeyClient](#create-backup-client) class. You would need a **vault url** and **client secret credentials (client id, client secret, tenant id)** to instantiate a client object using the default `DefaultAzureCredential` examples shown in this document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjYxMjc5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482661279", "createdAt": "2020-09-04T13:41:13Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MToxM1rOHNN_eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MToxM1rOHNN_eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMjc3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Key Vault Access Control client\n          \n          \n            \n            ### Key Vault Backup client", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483622778", "createdAt": "2020-09-04T13:41:13Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjYxOTQ0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482661944", "createdAt": "2020-09-04T13:42:06Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MjowNlrOHNOBVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MjowNlrOHNOBVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMzI1Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n          \n          \n            \n            Restore a specific key from a backup using `beginSelectiveRestore`.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483623252", "createdAt": "2020-09-04T13:42:06Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 92}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjYyNzQ5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482662749", "createdAt": "2020-09-04T13:43:09Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MzowOVrOHNODrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0MzowOVrOHNODrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyMzg1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:\n          \n          \n            \n            The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup client tasks, including:", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483623853", "createdAt": "2020-09-04T13:43:09Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String> selectiveRestorePoller =\n+    backupClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+        \"<folder-name>\");\n+\n+selectiveRestorePoller.waitForCompletion();\n+String blobUri = selectiveRestorePoller.getFinalResult();\n+\n+System.out.printf(\"Key backup restored from: %s%n\", blobUri);\n+```\n \n ### Async API\n-To be added.\n+The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 107}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjY0MTg2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482664186", "createdAt": "2020-09-04T13:44:57Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NDo1N1rOHNOH6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NDo1N1rOHNOH6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyNDkzNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                backupClient.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")\n          \n          \n            \n                client.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483624936", "createdAt": "2020-09-04T13:44:57Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/README.md", "diffHunk": "@@ -59,30 +59,182 @@ Here is an [Azure Cloud Shell](https://shell.azure.com/bash) snippet below to\n     export AZURE_TENANT_ID=\"tenant-ID\"\n     ```\n \n+* Take note of the service principal objectId\n+    ```Bash\n+    az ad sp show --id <appId> --query objectId\n+    ```\n+  \n+    Output:\n+    ```\n+    \"<your-service-principal-object-id>\"\n+    ```\n+\n * Use the aforementioned Key Vault name to retrieve details of your Key Vault, which also contain your Key Vault URL:\n \n     ```Bash\n     az keyvault show --name <your-key-vault-name>\n     ```\n \n #### Create Backup client\n+Once you've populated the **AZURE_CLIENT_ID**, **AZURE_CLIENT_SECRET**, and **AZURE_TENANT_ID** environment variables and replaced **your-key-vault-url** with the URI returned above, you can create the KeyVaultBackupClient:\n+\n+```Java\n+import com.azure.identity.DefaultAzureCredentialBuilder;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClient;\n+import com.azure.security.keyvault.administration.KeyVaultBackupClientBuilder;\n+\n+KeyVaultBackupClient backupClient = new KeyVaultBackupClientBuilder()\n+    .vaultUrl(\"<your-key-vault-url>\")\n+    .credential(new DefaultAzureCredentialBuilder().build())\n+    .buildClient();\n+```\n+\n+> NOTE: For using an asynchronous client use KeyVaultBackupAsyncClient instead of KeyVaultBackupClient and call `buildAsyncClient()`\n \n ## Key concepts\n-To be added.\n+### Key Vault Access Control client\n+The Key Vault Backup Client provides both synchronous and asynchronous operations for performing full key backups, full key restores, and selective key restores. Asynchronous (KeyVaultBackupAsyncClient) and synchronous (KeyVaultBackupClient) clients exist in the SDK allowing for the selection of a client based on an application's use case.\n+\n+> NOTE: The backing store for key backups is a blob storage container using Shared Access Signature authentication. For more details on creating a SAS token using the BlobServiceClient, see the [Azure Storage Blobs client README][storage_readme_sas_token]. Alternatively, it is possible to [generate a SAS token in Storage Explorer][portal_sas_token].\n+\n+### Backup Operation\n+A backup operation represents a long running operation for a full key backup.\n+\n+### Restore Operation\n+A restore operation represents a long running operation for both a full key and selective key restore.\n \n ## Examples\n ### Sync API\n-To be added.\n+The following sections provide several code snippets covering some of the most common Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault](#backup-a-key-vault)\n+- [Restore a Key Vault](#restore-a-collection-of-keys)\n+- [Restore a key](#selectively-restore-a-key)\n+\n+### Backup a Key Vault\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, Void> backupPoller =\n+    backupClient.beginBackup(\"<blob-storage-url-to-save-backup>\", \"<sas-token>\");\n+\n+backupPoller.waitForCompletion();\n+\n+System.out.printf(\"Backup created\");\n+```\n+\n+### Restore a collection of keys\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String restorePoller =\n+    backupClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\");\n+\n+restorePoller.waitForCompletion();\n+String blobUri = restorePoller.getFinalResult();\n+\n+System.out.printf(\"Backup restored from: %s%n\", blobUri);\n+```\n+\n+### Selectively restore a key\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+SyncPoller<KeyVaultBackupOperation, String> selectiveRestorePoller =\n+    backupClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+        \"<folder-name>\");\n+\n+selectiveRestorePoller.waitForCompletion();\n+String blobUri = selectiveRestorePoller.getFinalResult();\n+\n+System.out.printf(\"Key backup restored from: %s%n\", blobUri);\n+```\n \n ### Async API\n-To be added.\n+The following sections provide several code snippets covering some of the most common asynchronous Azure Key Vault Backup service tasks, including:\n+- [Backup a Key Vault asynchronously](#backup-a-key-vault-asynchronously)\n+- [Restore a Key Vault asynchronously](#restore-a-collection-of-keys-asynchronously)\n+- [Restore a key asynchronously](#selectively-restore-a-key-asynchronously)\n+\n+> Note : You should add `System.in.read()` or `Thread.sleep()` after the function calls in the main class/thread to allow async functions/operations to execute and finish before the main application/thread exits.\n+\n+### Backup a Key Vault asynchronously\n+Back up an entire collection of keys using `beginBackup`.\n+\n+```java\n+asyncClient.beginBackup(blobStorageUrl, sasToken)\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+    \n+            if (pollResponse.getStatus().isComplete()) {\n+                pollResponse.getFinalResult().subscribe(result -> System.out.println(\"Backup location: \" + result));\n+            }\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Backup complete\");\n+        });\n+```\n \n-## Key concepts\n-To be added.\n+### Restore a collection of keys asynchronously\n+Restore an entire collection of keys from a backup using `beginRestore`.\n+\n+```java\n+backupAsyncClient.beginRestore(\"<blob-storage-url-to-backup>\", \"<sas-token>\", \"<folder-name>\")\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Restore operation complete\");\n+        });\n+```\n+\n+### Selectively restore a key asynchronously\n+Restore an entire collection of keys from a backup using `beginSelectiveRestore`.\n+\n+```java\n+backupAsyncClient.beginSelectiveRestore(\"<name-of-key-to-restore>\", \"<blob-storage-url-to-backup>\", \"<sas-token>\",\n+    .subscribe(\n+        pollResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(pollResponse.getStatus());\n+            System.out.println(pollResponse.getValue().getStatus());\n+            System.out.println(pollResponse.getValue().getStatusDetails());\n+        }, errorResponse -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Error found: \" + errorResponse.getMessage());\n+            errorResponse.printStackTrace();\n+        }, () -> {\n+            System.out.println(\"---------------------------------------------------------------------------------\");\n+            System.out.println(\"Selective restore operation complete\");\n+        });\n+```\n \n ## Troubleshooting\n ### General\n-To be added.\n+Azure Key Vault Access Control clients raise exceptions. For example, if you try to retrieve a role assignment after it is deleted a `404` error is returned, indicating the resource was not found. In the following snippet, the error is handled gracefully by catching the exception and displaying additional information about the error.\n+\n+```java\n+try {\n+    backupClient.getRoleAssignment(KeyVaultRoleAssignmentScope.GLOBAL, \"<deleted-role-assginment-name>\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 190}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjY0Nzk4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482664798", "createdAt": "2020-09-04T13:45:44Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NTo0NFrOHNOJrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo0NTo0NFrOHNOJrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyNTM5MQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#discussion_r483625391", "createdAt": "2020-09-04T13:45:44Z", "author": {"login": "christothes"}, "path": "sdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/KeyVaultBackupAsyncClient.java", "diffHunk": "@@ -93,7 +93,7 @@ public String getVaultUrl() {\n      * @throws NullPointerException if the {@code blobStorageUrl} or {@code sasToken} are {@code null}.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public PollerFlux<KeyVaultBackupOperation, Void> beginBackup(String blobStorageUrl, String sasToken) {\n+    public PollerFlux<KeyVaultBackupOperation, String> beginBackup(String blobStorageUrl, String sasToken) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjY1NTE0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12671#pullrequestreview-482665514", "createdAt": "2020-09-04T13:46:36Z", "commit": {"oid": "fbc20f4848e2f8845e3c7f0f4699822c64c42d91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d979023d75e3d79859b47ae3d9363f9255f4636e", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d979023d75e3d79859b47ae3d9363f9255f4636e", "committedDate": "2020-09-05T00:52:23Z", "message": "Corrected typos in README. Fixed a couple bugs discovered by live testing."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c75e17195490594831f7e67fc58a41509ad2cee", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/7c75e17195490594831f7e67fc58a41509ad2cee", "committedDate": "2020-09-05T01:12:51Z", "message": "Merge branch 'master' into users/vicolina/keyvault-backup-restore\n\n# Conflicts:\n#\tsdk/keyvault/azure-security-keyvault-administration/CHANGELOG.md\n#\tsdk/keyvault/azure-security-keyvault-administration/README.md\n#\tsdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/models/package-info.java\n#\tsdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/implementation/package-info.java\n#\tsdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/models/package-info.java\n#\tsdk/keyvault/azure-security-keyvault-administration/src/main/java/com/azure/security/keyvault/administration/package-info.java\n#\tsdk/keyvault/azure-security-keyvault-administration/swagger/autorest.md"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2754, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}