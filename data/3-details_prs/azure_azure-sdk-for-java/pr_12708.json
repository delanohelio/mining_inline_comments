{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyODE4MTU4", "number": 12708, "title": "Subscription and Topic Management and Service Version", "bodyText": "Adds support for Subscription and Topic management operations\nFixes visibility of QueueDescription parameters and adds EntityHelper to set internal methods similar to approach used in:\n\nhttps://github.com/teamfx/openjfx-9-dev-rt/blob/master/modules/javafx.graphics/src/main/java/com/sun/javafx/scene/ParentHelper.java\n\n\nUpdates models for Subscription and Topic\nAdds ServiceBusServiceVersion\n\nFixes #12053", "createdAt": "2020-07-01T16:46:25Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708", "merged": true, "mergeCommit": {"oid": "0a2f4b16fed3b4cf225e0a870fa7b35e7d86ff14"}, "closed": true, "closedAt": "2020-07-02T07:38:42Z", "author": {"login": "conniey"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwkiv3gH2gAyNDQyODE4MTU4OjE0NDIwMGFmMTRlNDE0YzAyMzhlNjVhY2Q0ZmRjOGUwMmRmNTYwYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcw5NgHgH2gAyNDQyODE4MTU4OjUwYWMyMjhjOWFjODQ2Yjg1ZjI1ZGVlOWI4NzdjNDg5ZDdjNDEzODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "144200af14e414c0238e65acd4fdc8e02df560b5", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/144200af14e414c0238e65acd4fdc8e02df560b5", "committedDate": "2020-07-01T06:48:59Z", "message": "Adding ServiceBusServiceVersion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "833cae426de73ec77eeddf36ea6d51084bfb895d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/833cae426de73ec77eeddf36ea6d51084bfb895d", "committedDate": "2020-07-01T06:48:59Z", "message": "QueueDescription: Rename properties and visibility."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "134226ebb00761d48408c52c2b2ab4a0a8cfe770", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/134226ebb00761d48408c52c2b2ab4a0a8cfe770", "committedDate": "2020-07-01T06:49:00Z", "message": "(WIP)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88e1d2c6cf65a20e74a369c781b575de2c6a55e7", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/88e1d2c6cf65a20e74a369c781b575de2c6a55e7", "committedDate": "2020-07-01T06:49:00Z", "message": "SubscriptionDescription: Update property visibilities."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19214101434944652c8eb6207162c721172027f5", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/19214101434944652c8eb6207162c721172027f5", "committedDate": "2020-07-01T06:49:00Z", "message": "QueueDescription: Update documentation and set defaults."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9ec94437760a95f1a5c7c41857300a69cbc2852", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d9ec94437760a95f1a5c7c41857300a69cbc2852", "committedDate": "2020-07-01T06:49:01Z", "message": "Add method for creating subscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e945d31f2e08db398f66081df80f974cdf14e71", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3e945d31f2e08db398f66081df80f974cdf14e71", "committedDate": "2020-07-01T06:49:01Z", "message": "Fix test breaks from visibility changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92b21a214f1a66a3848e76514c788111918ad4d8", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/92b21a214f1a66a3848e76514c788111918ad4d8", "committedDate": "2020-07-01T06:49:02Z", "message": "Referencing correct API call."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a75d0cb9031df9320214f10076d31c2cb429e79d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a75d0cb9031df9320214f10076d31c2cb429e79d", "committedDate": "2020-07-01T06:49:02Z", "message": "Fix test failures in RuntimeInfo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e85ea5557107b269ba07bae06b84eccfb17a13bc", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e85ea5557107b269ba07bae06b84eccfb17a13bc", "committedDate": "2020-07-01T06:49:02Z", "message": "Adding SubscriptionRuntimeInfo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e768f52112f92a1cbe057e82810b7abaf6f71f69", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e768f52112f92a1cbe057e82810b7abaf6f71f69", "committedDate": "2020-07-01T06:49:03Z", "message": "Change visibility of updatedAt."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "122bdede7168930485b3fdcc191f1a0380d68cfc", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/122bdede7168930485b3fdcc191f1a0380d68cfc", "committedDate": "2020-07-01T06:49:03Z", "message": "Add test files for Subscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f49831352f7ed0fb412f1ced1b2ef0628b7dab2", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3f49831352f7ed0fb412f1ced1b2ef0628b7dab2", "committedDate": "2020-07-01T06:49:03Z", "message": "Fix build break in integration test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "487c1da05e43b2401c273469569fef7ed3c839d7", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/487c1da05e43b2401c273469569fef7ed3c839d7", "committedDate": "2020-07-01T06:49:04Z", "message": "Add testcase for subscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15da0e94bebc9618ea16181f7e7928126c0eed1f", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/15da0e94bebc9618ea16181f7e7928126c0eed1f", "committedDate": "2020-07-01T06:49:04Z", "message": "Adding test cases for deserializing feeds."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5cd8aee06fd90438e7170b5b8ddb6f45a2631b", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2e5cd8aee06fd90438e7170b5b8ddb6f45a2631b", "committedDate": "2020-07-01T06:49:04Z", "message": "Add methods and test for getting subscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "107754a6d13acda932ac6850889c8aa722a6da73", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/107754a6d13acda932ac6850889c8aa722a6da73", "committedDate": "2020-07-01T06:49:05Z", "message": "Adding test case for getSubscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff308b7c07a4755344f74d7d1634e3e8a55e7a9e", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ff308b7c07a4755344f74d7d1634e3e8a55e7a9e", "committedDate": "2020-07-01T06:49:05Z", "message": "Add test case for non existent subscription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be2a9b285f53135696e619217c7d124943c62697", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/be2a9b285f53135696e619217c7d124943c62697", "committedDate": "2020-07-01T06:49:06Z", "message": "Add test for SubscriptionRuntimeInfo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6baf42cbb657541e13a582f4c0890d7d4000970", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c6baf42cbb657541e13a582f4c0890d7d4000970", "committedDate": "2020-07-01T06:49:06Z", "message": "Fix visibility on TopicDescription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdc470f96a2b19afb5bd1edee9e2f5c0e5d67f6d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cdc470f96a2b19afb5bd1edee9e2f5c0e5d67f6d", "committedDate": "2020-07-01T06:49:06Z", "message": "Add TopicHelper to TopicDescription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23319fb2fe5333aec724b5a23fe0a93bbdd34d53", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/23319fb2fe5333aec724b5a23fe0a93bbdd34d53", "committedDate": "2020-07-01T06:49:07Z", "message": "Clean up management test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64cda9de0da2994224ce0a95963882146985a267", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/64cda9de0da2994224ce0a95963882146985a267", "committedDate": "2020-07-01T06:49:07Z", "message": "Change from int to long."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbed215eace7ae060a3da34a1d3199a623887890", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/dbed215eace7ae060a3da34a1d3199a623887890", "committedDate": "2020-07-01T06:49:07Z", "message": "Add support for Topic operations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb243d82323d7c58c7c9572597a1c3ee29ab3c35", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/bb243d82323d7c58c7c9572597a1c3ee29ab3c35", "committedDate": "2020-07-01T06:49:08Z", "message": "Updating default values in Queue and TopicDescription."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e3957e68bc58c2b3a227a1c42ecb9f3bc86a6a2", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/5e3957e68bc58c2b3a227a1c42ecb9f3bc86a6a2", "committedDate": "2020-07-01T06:49:08Z", "message": "Fixing tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28873998cc1f903fa0622fd1cd303b9644db38a4", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/28873998cc1f903fa0622fd1cd303b9644db38a4", "committedDate": "2020-07-01T06:49:08Z", "message": "Adding TopicRuntimeInfo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f375055e6604f5434b14d79094b81e742962749", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0f375055e6604f5434b14d79094b81e742962749", "committedDate": "2020-07-01T06:49:08Z", "message": "Add workaround for invalid DateTimes.MIN returned."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ad405c3a8022cb698f8a399ff08f956c1d044c6", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9ad405c3a8022cb698f8a399ff08f956c1d044c6", "committedDate": "2020-07-01T06:49:09Z", "message": "Add test for TopicRuntimeInfo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11945041b1da189512647f04b5d87c33fecc4ccd", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/11945041b1da189512647f04b5d87c33fecc4ccd", "committedDate": "2020-07-01T06:49:09Z", "message": "Add test cases for deleting queue and subscription operations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9878b7d676daa51c347f6093129de20578ee98c5", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9878b7d676daa51c347f6093129de20578ee98c5", "committedDate": "2020-07-01T06:49:09Z", "message": "Add management operations to create queues, topics, and subscriptions with names."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcecdbeb34c1873c0cb4aaeb6e6189586cae87a5", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fcecdbeb34c1873c0cb4aaeb6e6189586cae87a5", "committedDate": "2020-07-01T06:49:10Z", "message": "Add createTopic operation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f98ffdb85ce6a6f08a6af7bc1a3eb8e72214c195", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/f98ffdb85ce6a6f08a6af7bc1a3eb8e72214c195", "committedDate": "2020-07-01T08:02:51Z", "message": "Only use JDK 8 replaceAll"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fd08fe8a1c9c2533744f2d5891d4f366699c3ec", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0fd08fe8a1c9c2533744f2d5891d4f366699c3ec", "committedDate": "2020-07-01T08:03:01Z", "message": "Fix tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d5b325e0fb0594559872e1ffd6979e33fcc98ea", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9d5b325e0fb0594559872e1ffd6979e33fcc98ea", "committedDate": "2020-07-01T08:29:40Z", "message": "Add test cases for deleting subscription and topic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "547be306f7039dddf6743f4a084411f829d39314", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/547be306f7039dddf6743f4a084411f829d39314", "committedDate": "2020-07-01T08:40:05Z", "message": "Add test case for creating topic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74689ece3d2fd67d69b6b2325cd376456180f12c", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/74689ece3d2fd67d69b6b2325cd376456180f12c", "committedDate": "2020-07-01T08:47:19Z", "message": "Add test case for list queues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff4befd5171f0eab22e0fd610d807b8e8de435f0", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/ff4befd5171f0eab22e0fd610d807b8e8de435f0", "committedDate": "2020-07-01T09:46:55Z", "message": "Fixing checkstyle issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68a3c434e23f9401d45b51f6f0e65748fd66355d", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/68a3c434e23f9401d45b51f6f0e65748fd66355d", "committedDate": "2020-07-01T10:50:12Z", "message": "Update documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb0e734e69471968ac308c567ab7eca8b29a74ca", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb0e734e69471968ac308c567ab7eca8b29a74ca", "committedDate": "2020-07-01T11:21:24Z", "message": "Add listTopics."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0229ec6f2e43f60cfee916bd8bf5533d1de46184", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/0229ec6f2e43f60cfee916bd8bf5533d1de46184", "committedDate": "2020-07-01T11:33:57Z", "message": "Add method for listing subscriptions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e407e27beffc6b0f25a1e8dd5e672171591e9b4c", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/e407e27beffc6b0f25a1e8dd5e672171591e9b4c", "committedDate": "2020-07-01T11:41:19Z", "message": "Add listSubscriptions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c48a1b54d0eb37006062721256d793b88ede585", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/3c48a1b54d0eb37006062721256d793b88ede585", "committedDate": "2020-07-01T16:38:37Z", "message": "Fix records."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/2c225cb8fb73f04479748cdc7bb45020fbcc78e3", "committedDate": "2020-07-01T17:24:54Z", "message": "Add synchronous APIs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMDkyODkx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#pullrequestreview-441092891", "createdAt": "2020-07-01T18:10:14Z", "commit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "state": "APPROVED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODoxMDoxNFrOGrwXsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxODo0ODoxM1rOGrxhJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUzNDQ1MA==", "bodyText": "Is there a online documentation which we can point user to for list of properties and default values ? More methods below have same comment.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448534450", "createdAt": "2020-07-01T18:10:14Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusManagementAsyncClient.java", "diffHunk": "@@ -342,48 +792,363 @@\n     }\n \n     /**\n-     * Creates a queue with its context.\n+     * Updates a subscription with the given {@link SubscriptionDescription}. The {@link SubscriptionDescription} must\n+     * be fully populated as all of the properties are replaced. If a property is not set the service default value is\n+     * used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 587}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NDk0MA==", "bodyText": "topicName == null : NullPointerException ? and add java doc for it.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448544940", "createdAt": "2020-07-01T18:31:42Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusManagementAsyncClient.java", "diffHunk": "@@ -537,14 +1407,92 @@\n \n         try {\n             // If-Match == \"*\" to unconditionally update. This is in line with the existing client library behaviour.\n-            return queuesClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n+            return entityClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n                 .onErrorMap(ServiceBusManagementAsyncClient::mapException)\n                 .map(response -> deserializeQueue(response));\n         } catch (RuntimeException ex) {\n             return monoError(logger, ex);\n         }\n     }\n \n+    /**\n+     * Updates a subscription with its context.\n+     *\n+     * @param subscription Information about the subscription to update. You must provide all the property values\n+     *     that are desired on the updated entity. Any values not provided are set to the service default values.\n+     * @param context Context to pass into request.\n+     *\n+     * @return A Mono that completes with the updated {@link SubscriptionDescription}.\n+     */\n+    Mono<Response<SubscriptionDescription>> updateSubscriptionWithResponse(SubscriptionDescription subscription,\n+        Context context) {\n+        if (subscription == null) {\n+            return monoError(logger, new NullPointerException(\"'subscription' cannot be null\"));\n+        }\n+\n+        final String topicName = subscription.getTopicName();\n+        final String subscriptionName = subscription.getSubscriptionName();\n+        if (topicName == null || topicName.isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'getTopicName' cannot be null or empty.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 1221}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NTQwMg==", "bodyText": "subscriptionName == null  : NullPointerException ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448545402", "createdAt": "2020-07-01T18:32:35Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusManagementAsyncClient.java", "diffHunk": "@@ -537,14 +1407,92 @@\n \n         try {\n             // If-Match == \"*\" to unconditionally update. This is in line with the existing client library behaviour.\n-            return queuesClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n+            return entityClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n                 .onErrorMap(ServiceBusManagementAsyncClient::mapException)\n                 .map(response -> deserializeQueue(response));\n         } catch (RuntimeException ex) {\n             return monoError(logger, ex);\n         }\n     }\n \n+    /**\n+     * Updates a subscription with its context.\n+     *\n+     * @param subscription Information about the subscription to update. You must provide all the property values\n+     *     that are desired on the updated entity. Any values not provided are set to the service default values.\n+     * @param context Context to pass into request.\n+     *\n+     * @return A Mono that completes with the updated {@link SubscriptionDescription}.\n+     */\n+    Mono<Response<SubscriptionDescription>> updateSubscriptionWithResponse(SubscriptionDescription subscription,\n+        Context context) {\n+        if (subscription == null) {\n+            return monoError(logger, new NullPointerException(\"'subscription' cannot be null\"));\n+        }\n+\n+        final String topicName = subscription.getTopicName();\n+        final String subscriptionName = subscription.getSubscriptionName();\n+        if (topicName == null || topicName.isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'getTopicName' cannot be null or empty.\"));\n+        } else if (subscriptionName == null || subscriptionName.isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'getSubscriptionName' cannot be null or empty.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 1223}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NTkyOQ==", "bodyText": "topic.getName() == null  : NullPointerException ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448545929", "createdAt": "2020-07-01T18:33:34Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusManagementAsyncClient.java", "diffHunk": "@@ -537,14 +1407,92 @@\n \n         try {\n             // If-Match == \"*\" to unconditionally update. This is in line with the existing client library behaviour.\n-            return queuesClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n+            return entityClient.putWithResponseAsync(queue.getName(), createEntity, \"*\", withTracing)\n                 .onErrorMap(ServiceBusManagementAsyncClient::mapException)\n                 .map(response -> deserializeQueue(response));\n         } catch (RuntimeException ex) {\n             return monoError(logger, ex);\n         }\n     }\n \n+    /**\n+     * Updates a subscription with its context.\n+     *\n+     * @param subscription Information about the subscription to update. You must provide all the property values\n+     *     that are desired on the updated entity. Any values not provided are set to the service default values.\n+     * @param context Context to pass into request.\n+     *\n+     * @return A Mono that completes with the updated {@link SubscriptionDescription}.\n+     */\n+    Mono<Response<SubscriptionDescription>> updateSubscriptionWithResponse(SubscriptionDescription subscription,\n+        Context context) {\n+        if (subscription == null) {\n+            return monoError(logger, new NullPointerException(\"'subscription' cannot be null\"));\n+        }\n+\n+        final String topicName = subscription.getTopicName();\n+        final String subscriptionName = subscription.getSubscriptionName();\n+        if (topicName == null || topicName.isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'getTopicName' cannot be null or empty.\"));\n+        } else if (subscriptionName == null || subscriptionName.isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'getSubscriptionName' cannot be null or empty.\"));\n+        } else if (context == null) {\n+            return monoError(logger, new NullPointerException(\"'context' cannot be null.\"));\n+        }\n+\n+        final CreateSubscriptionBodyContent content = new CreateSubscriptionBodyContent()\n+            .setType(CONTENT_TYPE)\n+            .setSubscriptionDescription(subscription);\n+        final CreateSubscriptionBody createEntity = new CreateSubscriptionBody()\n+            .setContent(content);\n+        final Context withTracing = context.addData(AZ_TRACING_NAMESPACE_KEY, SERVICE_BUS_TRACING_NAMESPACE_VALUE);\n+\n+        try {\n+            // If-Match == \"*\" to unconditionally update. This is in line with the existing client library behaviour.\n+            return managementClient.getSubscriptions().putWithResponseAsync(topicName, subscriptionName, createEntity,\n+                \"*\", withTracing)\n+                .onErrorMap(ServiceBusManagementAsyncClient::mapException)\n+                .map(response -> deserializeSubscription(topicName, response));\n+        } catch (RuntimeException ex) {\n+            return monoError(logger, ex);\n+        }\n+    }\n+\n+    /**\n+     * Updates a topic with its context.\n+     *\n+     * @param topic Information about the topic to update. You must provide all the property values that are desired\n+     *     on the updated entity. Any values not provided are set to the service default values.\n+     * @param context Context to pass into request.\n+     *\n+     * @return A Mono that completes with the updated {@link TopicDescription}.\n+     */\n+    Mono<Response<TopicDescription>> updateTopicWithResponse(TopicDescription topic, Context context) {\n+        if (topic == null) {\n+            return monoError(logger, new NullPointerException(\"'topic' cannot be null\"));\n+        } else if (topic.getName() == null || topic.getName().isEmpty()) {\n+            return monoError(logger, new IllegalArgumentException(\"'topic.getName' cannot be null or empty.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 1259}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MTI3OA==", "bodyText": "Should we put default values as well in documentation , so user know what are the values?.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448551278", "createdAt": "2020-07-01T18:44:20Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/SubscriptionDescription.java", "diffHunk": "@@ -175,6 +181,117 @@\n             namespace = \"http://schemas.microsoft.com/netservices/2010/10/servicebus/connect\")\n     private EntityAvailabilityStatus entityAvailabilityStatus;\n \n+    static {\n+        // This is used by classes in different packages to get access to private and package-private methods.\n+        EntityHelper.setSubscriptionAccessor(new EntityHelper.SubscriptionAccessor() {\n+            @Override\n+            public void setTopicName(SubscriptionDescription subscriptionDescription, String topicName) {\n+                subscriptionDescription.setTopicName(topicName);\n+            }\n+\n+            @Override\n+            public void setSubscriptionName(SubscriptionDescription subscriptionDescription, String subscriptionName) {\n+                subscriptionDescription.setSubscriptionName(subscriptionName);\n+            }\n+        });\n+    }\n+\n+    private String topicName;\n+    private String subscriptionName;\n+\n+    /**\n+     * Json deserialization constructor.\n+     */\n+    @JsonCreator\n+    SubscriptionDescription() {\n+    }\n+\n+    /**\n+     * Creates an instance with the name of the subscription and its associated topic. Default values for the\n+     * subscription are populated. The properties populated with defaults are:\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjAzMg==", "bodyText": "same here, should we show to user what are default values ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448552032", "createdAt": "2020-07-01T18:45:49Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/TopicDescription.java", "diffHunk": "@@ -219,6 +223,81 @@ private AuthorizationRulesWrapper(\n             namespace = \"http://schemas.microsoft.com/netservices/2010/10/servicebus/connect\")\n     private String userMetadata;\n \n+    private String topicName;\n+\n+    static {\n+        // This is used by classes in different packages to get access to private and package-private methods.\n+        EntityHelper.setTopicAccessor((topicDescription, name) -> topicDescription.setName(name));\n+    }\n+\n+    /**\n+     * Json deserialization constructor.\n+     */\n+    @JsonCreator\n+    TopicDescription() {\n+    }\n+\n+    /**\n+     * Creates an instance with the name of the topic. Default values for the topic are populated. The properties\n+     * populated with defaults are:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjUxNA==", "bodyText": "should this API be called enableSubscriptionPartitioning", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448552514", "createdAt": "2020-07-01T18:46:42Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/TopicDescription.java", "diffHunk": "@@ -635,7 +714,7 @@ public Boolean isEnableSubscriptionPartitioning() {\n      * @param enableSubscriptionPartitioning the enableSubscriptionPartitioning value to set.\n      * @return the TopicDescription object itself.\n      */\n-    public TopicDescription setEnableSubscriptionPartitioning(Boolean enableSubscriptionPartitioning) {\n+    TopicDescription setEnableSubscriptionPartitioning(Boolean enableSubscriptionPartitioning) {\n         this.enableSubscriptionPartitioning = enableSubscriptionPartitioning;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 331}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MzI1Mg==", "bodyText": "setEnableExpress -> enableExpress()", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12708#discussion_r448553252", "createdAt": "2020-07-01T18:48:13Z", "author": {"login": "hemanttanwar"}, "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/TopicDescription.java", "diffHunk": "@@ -657,7 +736,7 @@ public Boolean isEnableExpress() {\n      * @param enableExpress the enableExpress value to set.\n      * @return the TopicDescription object itself.\n      */\n-    public TopicDescription setEnableExpress(Boolean enableExpress) {\n+    TopicDescription setEnableExpress(Boolean enableExpress) {\n         this.enableExpress = enableExpress;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c225cb8fb73f04479748cdc7bb45020fbcc78e3"}, "originalPosition": 349}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d2c00767a20d5965dc8282de99abdb8a16864d6", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4d2c00767a20d5965dc8282de99abdb8a16864d6", "committedDate": "2020-07-02T00:47:23Z", "message": "Adding documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6093e4e93a3e4fc9d5528c6c62616859210351f6", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6093e4e93a3e4fc9d5528c6c62616859210351f6", "committedDate": "2020-07-02T02:24:48Z", "message": "Fix checkstyle issues."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be8ed19a5fb049eca2748d6033b6fa672568de0c", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/be8ed19a5fb049eca2748d6033b6fa672568de0c", "committedDate": "2020-07-02T05:14:41Z", "message": "Fix doesnot exist tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50ac228c9ac846b85f25dee9b877c489d7c41383", "author": {"user": {"login": "conniey", "name": "Connie Yau"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/50ac228c9ac846b85f25dee9b877c489d7c41383", "committedDate": "2020-07-02T06:53:47Z", "message": "Adding documentation for tests."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2763, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}