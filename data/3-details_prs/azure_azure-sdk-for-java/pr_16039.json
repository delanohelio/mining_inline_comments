{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDUzNTg2", "number": 16039, "title": "Initial GA work for digital twins ", "bodyText": "Regenerating the protocol layer and adding the generated options classes to our convenience layer APIs\nAlso removing the local copy of the swagger that we had, now that the digital twins GA swagger is in the rest specs repo", "createdAt": "2020-10-07T18:57:57Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039", "merged": true, "mergeCommit": {"oid": "e0da820cdde9c12e319b4548ea93a4f4cf9b2187"}, "closed": true, "closedAt": "2020-10-07T22:56:22Z", "author": {"login": "timtay-microsoft"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQRr_2AH2gAyNDk5NDUzNTg2OmVlZTc4MWM2N2ViOGZmYzY5ZTA4MDMyNTgwNmFkOGI1NjAxNDM1NWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQUj9SAH2gAyNDk5NDUzNTg2Ojk5MDU4MmM3ODJhYzIwNTZmMTNmNzY5MjU0MDY4OGE2MWNhMjRiODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eee781c67eb8ffc69e080325806ad8b56014355e", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/eee781c67eb8ffc69e080325806ad8b56014355e", "committedDate": "2020-10-07T18:56:28Z", "message": "Remove local copy of digital twins swagger in favor of rest api spec reference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96f46f4428f3f28525a44220aba14539c8ab197e", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/96f46f4428f3f28525a44220aba14539c8ab197e", "committedDate": "2020-10-07T18:56:28Z", "message": "Regenerate digital twins code for GA release\n\nGA service swagger comes with new optional parameters for all service requests. Thankfully the swagger also conveniently groups them together with existing options so that we can directly use the generated options objects in our CL APIs (except for a few cases)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/59cb8403dbcdc760cbf92189df6fed988cf40ffe", "committedDate": "2020-10-07T18:56:28Z", "message": "Update session records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTc5NTgz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504179583", "createdAt": "2020-10-07T18:59:07Z", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxODo1OTowN1rOHeBYYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxODo1OTowN1rOHeBYYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0MTk1Mw==", "bodyText": "By declaring these as custom types, they are moved to the appropriate namespace so that we can use them in our convenience layer APIs. Note that some options classes aren't here on purpose since we have to create wrapper classes for some of them instead in order to add more options to them", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501241953", "createdAt": "2020-10-07T18:59:07Z", "author": {"login": "timtay-microsoft"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/autorest.md", "diffHunk": "@@ -40,4 +40,5 @@ java:\n     context-client-method-parameter: true\n     custom-types-subpackage: models\n     required-fields-as-ctor-args: true\n+    custom-types: DigitalTwinModelsAddOptions,DigitalTwinModelsDeleteOptions,DigitalTwinModelsGetByIdOptions,DigitalTwinModelsUpdateOptions,DigitalTwinsAddOptions,DigitalTwinsAddRelationshipOptions,DigitalTwinsDeleteOptions,DigitalTwinsDeleteRelationshipOptions,DigitalTwinsGetByIdOptions,DigitalTwinsGetComponentOptions,DigitalTwinsGetRelationshipByIdOptions,DigitalTwinsListIncomingRelationshipsOptions,DigitalTwinsListRelationshipsOptions,DigitalTwinsUpdateComponentOptions,DigitalTwinsUpdateOptions,DigitalTwinsUpdateRelationshipOptions,EventRoutesAddOptions,EventRoutesDeleteOptions,EventRoutesGetByIdOptions,EventRoutesListOptions,QueryTwinsOptions", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTgwMzg4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504180388", "createdAt": "2020-10-07T19:00:11Z", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMDoxMVrOHeBa1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMDoxMVrOHeBa1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0MjU4Mg==", "bodyText": "We no longer need a wrapper class for EventRouteListOptions, so the the converter from wrapper to generated is no longer needed", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501242582", "createdAt": "2020-10-07T19:00:11Z", "author": {"login": "timtay-microsoft"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/implementation/converters/EventRouteListOptionsConverter.java", "diffHunk": "@@ -1,33 +0,0 @@\n-package com.azure.digitaltwins.core.implementation.converters;\n-\n-import com.azure.digitaltwins.core.models.EventRoute;\n-import com.azure.digitaltwins.core.models.EventRoutesListOptions;\n-\n-/**\n- * A converter between {@link com.azure.digitaltwins.core.implementation.models.EventRoutesListOptions} and\n- * {@link EventRoutesListOptions}.\n- */\n-public final class EventRouteListOptionsConverter {\n-\n-    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTgxODg2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504181886", "createdAt": "2020-10-07T19:02:11Z", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMjoxMVrOHeBfZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMjoxMVrOHeBfZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0Mzc1MQ==", "bodyText": "This field became mandatory in the latest swagger, so it is taken in at constructor time only", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501243751", "createdAt": "2020-10-07T19:02:11Z", "author": {"login": "timtay-microsoft"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/implementation/models/EventRoute.java", "diffHunk": "@@ -70,17 +74,6 @@ public String getFilter() {\n         return this.filter;\n     }\n \n-    /**\n-     * Set the filter property: An expression which describes the events which are routed to the endpoint.\n-     *\n-     * @param filter the filter value to set.\n-     * @return the EventRoute object itself.\n-     */\n-    public EventRoute setFilter(String filter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTgyNDk0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504182494", "createdAt": "2020-10-07T19:03:00Z", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMzowMFrOHeBhQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMzowMFrOHeBhQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0NDIyNw==", "bodyText": "We get this type generated for free, so no need for this manually defined type anymore", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501244227", "createdAt": "2020-10-07T19:03:00Z", "author": {"login": "timtay-microsoft"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/DeleteDigitalTwinRequestOptions.java", "diffHunk": "@@ -1,25 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-package com.azure.digitaltwins.core.models;\n-\n-import com.azure.digitaltwins.core.DigitalTwinsClient;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTgyNjkz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504182693", "createdAt": "2020-10-07T19:03:15Z", "commit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMzoxNVrOHeBh5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOTowMzoxNVrOHeBh5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0NDM4OA==", "bodyText": "We get this type generated for free, so no need for this manually defined type anymore", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501244388", "createdAt": "2020-10-07T19:03:15Z", "author": {"login": "timtay-microsoft"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/DeleteRelationshipRequestOptions.java", "diffHunk": "@@ -1,29 +0,0 @@\n-// Copyright (c) Microsoft Corporation. All rights reserved.\n-// Licensed under the MIT License.\n-\n-package com.azure.digitaltwins.core.models;\n-\n-\n-import com.azure.digitaltwins.core.DigitalTwinsClient;\n-\n-import java.util.List;\n-\n-/**\n- * Optional settings that are specific to calls to {@link DigitalTwinsClient#updateComponent(String, String, List)} and its overloads.\n- */\n-public final class DeleteRelationshipRequestOptions extends DigitalTwinsRequestOptions {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59cb8403dbcdc760cbf92189df6fed988cf40ffe"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2a02ba5cf032950393dfb5b672ff8670a4b0ea8", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d2a02ba5cf032950393dfb5b672ff8670a4b0ea8", "committedDate": "2020-10-07T19:20:28Z", "message": "fixup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c778a9a96faf6de4efb7f8ae454edc5a4e95b6bd", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/c778a9a96faf6de4efb7f8ae454edc5a4e95b6bd", "committedDate": "2020-10-07T19:37:28Z", "message": "fixup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MjE1OTY5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504215969", "createdAt": "2020-10-07T19:51:46Z", "commit": {"oid": "c778a9a96faf6de4efb7f8ae454edc5a4e95b6bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6935be00d939ccaf842ecb729d54f20a6db60e1", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/d6935be00d939ccaf842ecb729d54f20a6db60e1", "committedDate": "2020-10-07T20:19:46Z", "message": "fixup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/07a2983e33a8d3f4d40214eb063f2e7a3863d526", "committedDate": "2020-10-07T21:20:53Z", "message": "json patch name change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MjgxOTE2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504281916", "createdAt": "2020-10-07T21:30:22Z", "commit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozMDoyM1rOHeGOgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozMDoyM1rOHeGOgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyMTM0Nw==", "bodyText": "so we are defaulting options to null? is there a scenario where we would want these options to have a default value instead?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501321347", "createdAt": "2020-10-07T21:30:23Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -115,7 +113,7 @@ public DigitalTwinsServiceVersion getServiceVersion() {\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public <T> Mono<T> createDigitalTwin(String digitalTwinId, T digitalTwin, Class<T> clazz)\n     {\n-        return createDigitalTwinWithResponse(digitalTwinId, digitalTwin, clazz)\n+        return createDigitalTwinWithResponse(digitalTwinId, digitalTwin, clazz, null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MjgyODk4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504282898", "createdAt": "2020-10-07T21:32:04Z", "commit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozMjowNFrOHeGRZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTozMjowNFrOHeGRZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyMjA4NQ==", "bodyText": "q - do we have the update operations util from azure-core available for us to use here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501322085", "createdAt": "2020-10-07T21:32:04Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -244,14 +244,14 @@ public DigitalTwinsServiceVersion getServiceVersion() {\n      * {@codesnippet com.azure.digitaltwins.core.asyncClient.updateDigitalTwin#String-List}\n      *\n      * @param digitalTwinId The Id of the digital twin.\n-     * @param digitalTwinUpdateOperations The JSON patch to apply to the specified digital twin.\n+     * @param jsonPatch The JSON patch to apply to the specified digital twin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "originalPosition": 119}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb117c7bedd91d27dcec8add40e16aaab0a50353", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cb117c7bedd91d27dcec8add40e16aaab0a50353", "committedDate": "2020-10-07T21:40:02Z", "message": "versioning update + changelog\n\nI've seen other SDKs in this repo that keep all the preview release changelogs mixed in with the non-preview changelogs, so we'll do the same"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Mjg3NjQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504287646", "createdAt": "2020-10-07T21:40:40Z", "commit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo0MDo0MFrOHeGgxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo0MDo0MFrOHeGgxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyNjAyMw==", "bodyText": "q - what is the default value of OffsetDateTime?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501326023", "createdAt": "2020-10-07T21:40:40Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -1392,30 +1419,47 @@ public DigitalTwinsServiceVersion getServiceVersion() {\n      *\n      * <p>A strongly typed object such as {@link java.util.Hashtable} can be provided as the input parameter for the telemetry payload.</p>\n      *\n-     * {@codesnippet com.azure.digitaltwins.core.asyncClient.publishTelemetryWithResponse#String-Object-Options#Object}\n+     * {@codesnippet com.azure.digitaltwins.core.asyncClient.publishTelemetryWithResponse#String-String-Object-Options#Object}\n      *\n      * <p>Or alternatively String can be used as input type to construct the json string telemetry payload:</p>\n      *\n-     * {@codesnippet com.azure.digitaltwins.core.asyncClient.publishTelemetryWithResponse#String-Object-Options#String}\n+     * {@codesnippet com.azure.digitaltwins.core.asyncClient.publishTelemetryWithResponse#String-String-Object-Options#String}\n      *\n      * The result is then consumed by one or many destination endpoints (subscribers) defined under {@link EventRoute}\n      * These event routes need to be set before publishing a telemetry message, in order for the telemetry message to be consumed.\n      * @param digitalTwinId The Id of the digital twin.\n+     * @param messageId A unique message identifier (within the scope of the digital twin id) that is commonly used for de-duplicating messages. Defaults to a random UUID if argument is null.\n      * @param payload The application/json telemetry payload to be sent. payload can be a raw json string or a strongly typed object like a Dictionary.\n-     * @param publishTelemetryRequestOptions The additional information to be used when processing a telemetry request.\n+     * @param options The optional parameters for this request. If null, the default option values will be used.\n      * @return A {@link Response} containing an empty mono.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<Response<Void>> publishTelemetryWithResponse(String digitalTwinId, Object payload, PublishTelemetryRequestOptions publishTelemetryRequestOptions) {\n-        return withContext(context -> publishTelemetryWithResponse(digitalTwinId, payload, publishTelemetryRequestOptions, context));\n+    public Mono<Response<Void>> publishTelemetryWithResponse(String digitalTwinId, String messageId, Object payload, DigitalTwinsSendTelemetryOptions options) {\n+        return withContext(context -> publishTelemetryWithResponse(digitalTwinId, messageId, payload, options, context));\n     }\n \n-    Mono<Response<Void>> publishTelemetryWithResponse(String digitalTwinId, Object payload, PublishTelemetryRequestOptions publishTelemetryRequestOptions, Context context) {\n+    Mono<Response<Void>> publishTelemetryWithResponse(String digitalTwinId, String messageId, Object payload, DigitalTwinsSendTelemetryOptions options, Context context) {\n+        if (messageId == null || messageId.isEmpty()) {\n+            messageId = UUID.randomUUID().toString();\n+        }\n+\n+        com.azure.digitaltwins.core.implementation.models.DigitalTwinsSendTelemetryOptions protocolLayerOptions;\n+        if (options == null) {\n+            options = new DigitalTwinsSendTelemetryOptions();\n+            protocolLayerOptions = null;\n+        }\n+        else {\n+            protocolLayerOptions = new com.azure.digitaltwins.core.implementation.models.DigitalTwinsSendTelemetryOptions()\n+                .setTraceparent(options.getTraceparent())\n+                .setTracestate(options.getTracestate());\n+        }\n+\n         return protocolLayer.getDigitalTwins().sendTelemetryWithResponseAsync(\n             digitalTwinId,\n-            publishTelemetryRequestOptions.getMessageId(),\n+            messageId,\n             payload,\n-            publishTelemetryRequestOptions.getTimestamp().toString(),\n+            options.getTimestamp().toString(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "originalPosition": 1134}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MjkwOTg3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504290987", "createdAt": "2020-10-07T21:47:02Z", "commit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo0NzowMlrOHeGrfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo0NzowMlrOHeGrfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMyODc2NQ==", "bodyText": "Do we call out these error types in our CL? They might be helpful for customers, since they get a list of expected errors. Might be worth adding a link to any documentation that the service team maintains.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#discussion_r501328765", "createdAt": "2020-10-07T21:47:02Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/implementation/DigitalTwinModelsImpl.java", "diffHunk": "@@ -105,43 +117,67 @@\n         @UnexpectedResponseExceptionType(ErrorResponseException.class)\n         Mono<Response<Void>> delete(\n                 @HostParam(\"$host\") String host,\n+                @HeaderParam(\"traceparent\") String traceparent,\n+                @HeaderParam(\"tracestate\") String tracestate,\n                 @PathParam(\"id\") String id,\n                 @QueryParam(\"api-version\") String apiVersion,\n                 Context context);\n \n         @Get(\"{nextLink}\")\n         @ExpectedResponses({200})\n         @UnexpectedResponseExceptionType(ErrorResponseException.class)\n-        Mono<Response<PagedModelDataCollection>> listNext(\n+        Mono<Response<PagedDigitalTwinsModelDataCollection>> listNext(\n                 @PathParam(value = \"nextLink\", encoded = true) String nextLink,\n                 @HostParam(\"$host\") String host,\n-                @HeaderParam(\"x-ms-max-item-count\") Integer maxItemCount,\n+                @HeaderParam(\"traceparent\") String traceparent,\n+                @HeaderParam(\"tracestate\") String tracestate,\n+                @HeaderParam(\"max-items-per-page\") Integer maxItemsPerPage,\n                 Context context);\n     }\n \n     /**\n-     * Uploads one or more models. When any error occurs, no models are uploaded. Status codes: 200 (OK): Success. 400\n-     * (Bad Request): The request is invalid. 409 (Conflict): One or more of the provided models already exist.\n+     * Uploads one or more models. When any error occurs, no models are uploaded. Status codes: * 201 Created * 400 Bad\n+     * Request * DTDLParserError - The models provided are not valid DTDL. * InvalidArgument - The model id is invalid.\n+     * * LimitExceeded - The maximum number of model ids allowed in 'dependenciesFor' has been reached. *\n+     * ModelVersionNotSupported - The version of DTDL used is not supported. * 409 Conflict * ModelAlreadyExists - The\n+     * model provided already exists.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07a2983e33a8d3f4d40214eb063f2e7a3863d526"}, "originalPosition": 95}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Mjk1NDI3", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16039#pullrequestreview-504295427", "createdAt": "2020-10-07T21:55:23Z", "commit": {"oid": "cb117c7bedd91d27dcec8add40e16aaab0a50353"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "990582c782ac2056f13f7692540688a61ca24b84", "author": {"user": {"login": "timtay-microsoft", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/990582c782ac2056f13f7692540688a61ca24b84", "committedDate": "2020-10-07T22:17:24Z", "message": "Revert \"versioning update + changelog\"\n\nThis reverts commit cb117c7bedd91d27dcec8add40e16aaab0a50353."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2177, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}