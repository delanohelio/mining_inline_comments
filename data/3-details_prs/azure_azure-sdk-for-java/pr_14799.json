{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5MTA1MTMw", "number": 14799, "title": "Add live tests to EventGrid SDK", "bodyText": "Add live test configuration files, and edit a couple test instances so that custom events are formatted slightly differently.", "createdAt": "2020-09-03T23:37:14Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799", "merged": true, "mergeCommit": {"oid": "67864dc681d7a5cb28d5ca151e6502f0ab9fd30b"}, "closed": true, "closedAt": "2020-09-04T00:00:12Z", "author": {"login": "Soreloser2"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFZTByAH2gAyNDc5MTA1MTMwOjQ2NmIyZGY5NTVlODE2MzdlYTJiOGM1MmUxYWFlYTE5OGU1MDhkNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFZkygAFqTQ4MjI3NDE0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "466b2df955e81637ea2b8c52e1aaea198e508d71", "author": {"user": {"login": "Soreloser2", "name": "Soren Dahl"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/466b2df955e81637ea2b8c52e1aaea198e508d71", "committedDate": "2020-09-03T23:35:16Z", "message": "Add live test files\n\nFix custom event test slightly to be formatted correctly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8058881cb28b0753f244f9f0bc786af04293121", "author": {"user": {"login": "Soreloser2", "name": "Soren Dahl"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/a8058881cb28b0753f244f9f0bc786af04293121", "committedDate": "2020-09-03T23:35:27Z", "message": "Fixed test formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMjcwMjQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#pullrequestreview-482270246", "createdAt": "2020-09-03T23:41:56Z", "commit": {"oid": "a8058881cb28b0753f244f9f0bc786af04293121"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMzo0MTo1NlrOHM61zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMzo0MzoyOVrOHM63fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwOTAwNw==", "bodyText": "Nit: Key should be capitalized.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#discussion_r483309007", "createdAt": "2020-09-03T23:41:56Z", "author": {"login": "bsiegel"}, "path": "sdk/eventgrid/test-resources.json", "diffHunk": "@@ -0,0 +1,93 @@\n+{\n+  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n+  \"contentVersion\": \"1.0.0.0\",\n+  \"parameters\": {\n+    \"baseName\": {\n+      \"type\": \"String\"\n+    }\n+  },\n+  \"variables\": {\n+    \"apiVersion\": \"2020-04-01-preview\",\n+    \"eventGridTopicName\": \"[concat(parameters('baseName'), 'topic')]\",\n+    \"cloudeventTopicName\": \"[concat(parameters('baseName'), 'cloudevent-topic')]\",\n+    \"customeventTopicName\": \"[concat(parameters('baseName'), 'customevent-topic')]\"\n+  },\n+  \"resources\": [\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('eventGridTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\"\n+    },\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('cloudeventTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\",\n+      \"properties\": {\n+        \"inputSchema\": \"CloudEventSchemaV1_0\"\n+      }\n+    },\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('customeventTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\",\n+      \"properties\": {\n+        \"inputSchema\": \"CustomEventSchema\",\n+        \"inputSchemaMapping\": {\n+          \"inputSchemaMappingType\": \"Json\",\n+          \"properties\": {\n+            \"dataVersion\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"dataVersion\"\n+            },\n+            \"eventTime\": {\n+              \"sourceField\": \"time\"\n+            },\n+            \"eventType\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"type\"\n+            },\n+            \"id\": {\n+              \"sourceField\": \"id\"\n+            },\n+            \"subject\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"subject\"\n+            },\n+            \"topic\": {\n+              \"sourceField\": \"topic\"\n+            }\n+          }\n+        }\n+      }\n+    }\n+  ],\n+  \"outputs\": {\n+    \"AZURE_EVENTGRID_EVENTGRID_ENDPOINT\": {\n+      \"type\": \"string\",\n+      \"value\": \"[reference(variables('eventGridTopicName')).endpoint]\"\n+    },\n+    \"AZURE_EVENTGRID_EVENTGRID_Key\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8058881cb28b0753f244f9f0bc786af04293121"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwOTQzNg==", "bodyText": "I'm guessing we shouldn't use a preview API version here? Can probably use the most recently released one which seems to be 2020-06-01.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#discussion_r483309436", "createdAt": "2020-09-03T23:43:29Z", "author": {"login": "bsiegel"}, "path": "sdk/eventgrid/test-resources.json", "diffHunk": "@@ -0,0 +1,93 @@\n+{\n+  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n+  \"contentVersion\": \"1.0.0.0\",\n+  \"parameters\": {\n+    \"baseName\": {\n+      \"type\": \"String\"\n+    }\n+  },\n+  \"variables\": {\n+    \"apiVersion\": \"2020-04-01-preview\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8058881cb28b0753f244f9f0bc786af04293121"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e9be18be5792d22e71fa488a009dcb67d63d29a", "author": {"user": {"login": "Soreloser2", "name": "Soren Dahl"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4e9be18be5792d22e71fa488a009dcb67d63d29a", "committedDate": "2020-09-03T23:51:03Z", "message": "Small test config changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMjc0MTQ2", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#pullrequestreview-482274146", "createdAt": "2020-09-03T23:54:40Z", "commit": {"oid": "4e9be18be5792d22e71fa488a009dcb67d63d29a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4898, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}