{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MTg1OTAx", "number": 17162, "title": "Support to get transitive groups for authorization", "bodyText": "Support to get transitive groups for authorization, MicrosoftDocs/azure-dev-docs#329.\nFix spring readme broken link.", "createdAt": "2020-11-04T07:13:12Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162", "merged": true, "mergeCommit": {"oid": "9d6c39539315454940d191f17b70bb533637cb37"}, "closed": true, "closedAt": "2020-11-10T02:47:44Z", "author": {"login": "moarychan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZIZGgAH2gAyNTE1MTg1OTAxOmNiYjA1MGEwY2E4ZGMzYzE4ZDk5MWU2ODk0MzQ3NWZjMzA4NzFkMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdatLragFqTUyMzA5MzQ4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cbb050a0ca8dc3c18d991e68943475fc30871d01", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/cbb050a0ca8dc3c18d991e68943475fc30871d01", "committedDate": "2020-11-04T07:12:00Z", "message": "Fix spring readme broken link; Support to get transitive groups for authorization, https://github.com/MicrosoftDocs/azure-dev-docs/issues/329"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "283521d4e2bb5be48b8389ebec655cb56487f882", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/283521d4e2bb5be48b8389ebec655cb56487f882", "committedDate": "2020-11-04T08:30:45Z", "message": "Update unit testcase; fix build error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/da00934e4c7ac38dc14fde9347abf5ff0e20e253", "committedDate": "2020-11-04T09:10:54Z", "message": "fix checkstyle error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMjAwNDIy", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#pullrequestreview-523200422", "createdAt": "2020-11-04T09:53:21Z", "commit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253"}, "state": "DISMISSED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwOTo1MzoyMlrOHtQsag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwOTo1NToyOFrOHtQyBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIyMTQ4Mg==", "bodyText": "Why don't we have a static variable for this one?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#discussion_r517221482", "createdAt": "2020-11-04T09:53:22Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAuthenticationProperties.java", "diffHunk": "@@ -230,6 +240,11 @@ public void validateUserGroupProperties() {\n             throw new IllegalArgumentException(\"One of the User Group Properties must be populated. \"\n                 + \"Please populate azure.activedirectory.user-group.allowed-groups\");\n         }\n+        if (!DEFAULT_GROUP_RELATIONSHIP.equalsIgnoreCase(groupRelationship)\n+            && !\"transitive\".equalsIgnoreCase(groupRelationship)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIyMjAxMg==", "bodyText": "Is it better we call it xxx.user-group.xxx?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#discussion_r517222012", "createdAt": "2020-11-04T09:54:06Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAuthenticationProperties.java", "diffHunk": "@@ -230,6 +240,11 @@ public void validateUserGroupProperties() {\n             throw new IllegalArgumentException(\"One of the User Group Properties must be populated. \"\n                 + \"Please populate azure.activedirectory.user-group.allowed-groups\");\n         }\n+        if (!DEFAULT_GROUP_RELATIONSHIP.equalsIgnoreCase(groupRelationship)\n+            && !\"transitive\".equalsIgnoreCase(groupRelationship)) {\n+            throw new IllegalArgumentException(\"Configuration 'azure.activedirectory.group-relationship' \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIyMjY3MQ==", "bodyText": "Is this used anymore?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#discussion_r517222671", "createdAt": "2020-11-04T09:55:04Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/ServiceEndpoints.java", "diffHunk": "@@ -44,4 +45,12 @@ public String getAadMembershipRestUri() {\n     public void setAadMembershipRestUri(String aadMembershipRestUri) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzIyMjkxOQ==", "bodyText": "why break the line here", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#discussion_r517222919", "createdAt": "2020-11-04T09:55:28Z", "author": {"login": "saragluna"}, "path": "sdk/spring/azure-spring-boot/src/main/resources/service-endpoints.properties", "diffHunk": "@@ -2,15 +2,23 @@ azure.service.endpoints.cn.aadSigninUri=https://login.partner.microsoftonline.cn\n azure.service.endpoints.cn.aadGraphApiUri=https://graph.chinacloudapi.cn/\n azure.service.endpoints.cn.aadKeyDiscoveryUri=https://login.partner.microsoftonline.cn/common/discovery/keys\n azure.service.endpoints.cn.aadMembershipRestUri=https://graph.chinacloudapi.cn/me/memberOf?api-version=1.6\n+azure.service.endpoints.cn.aadTransitiveMemberRestUri=https://graph.chinacloudapi.cn\\\n+  /me/transitiveMemberOf?api-version=1.6\n azure.service.endpoints.cn-v2-graph.aadSigninUri=https://login.partner.microsoftonline.cn/\n azure.service.endpoints.cn-v2-graph.aadGraphApiUri=https://microsoftgraph.chinacloudapi.cn/\n azure.service.endpoints.cn-v2-graph.aadKeyDiscoveryUri=https://login.partner.microsoftonline.cn/common/discovery/keys\n azure.service.endpoints.cn-v2-graph.aadMembershipRestUri=https://microsoftgraph.chinacloudapi.cn/v1.0/me/memberOf\n+azure.service.endpoints.cn-v2-graph.aadTransitiveMemberRestUri=https://microsoftgraph.chinacloudapi.cn\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da00934e4c7ac38dc14fde9347abf5ff0e20e253"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c34a1816652398530ef1791d70c4787780ec029", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/9c34a1816652398530ef1791d70c4787780ec029", "committedDate": "2020-11-04T10:32:30Z", "message": "Update according reviewer's comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6473315e1448427b2861ab47fad1d5f8fd2b94e4", "author": {"user": {"login": "moarychan", "name": "Moary Chen"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/6473315e1448427b2861ab47fad1d5f8fd2b94e4", "committedDate": "2020-11-05T06:15:33Z", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into issue/aad-nested-group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMDkzNDg5", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#pullrequestreview-523093489", "createdAt": "2020-11-04T07:20:35Z", "commit": {"oid": "cbb050a0ca8dc3c18d991e68943475fc30871d01"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyMDozNVrOHtLm7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyMDozNVrOHtLm7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzODE1OA==", "bodyText": "should the string \"transitive\" be replaced with a final transitive here?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17162#discussion_r517138158", "createdAt": "2020-11-04T07:20:35Z", "author": {"login": "backwind1233"}, "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAuthenticationProperties.java", "diffHunk": "@@ -230,6 +239,11 @@ public void validateUserGroupProperties() {\n             throw new IllegalArgumentException(\"One of the User Group Properties must be populated. \"\n                 + \"Please populate azure.activedirectory.user-group.allowed-groups\");\n         }\n+        if (!DEFAULT_GROUP_RELATIONSHIP.equalsIgnoreCase(groupRelationship)\n+            && !\"transitive\".equalsIgnoreCase(groupRelationship)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbb050a0ca8dc3c18d991e68943475fc30871d01"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 192, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}