{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MDI0NDYx", "number": 13145, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoxNjozMFrOEOYCUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoxNjozMFrOEOYCUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTA5MzMxOnYy", "diffSide": "RIGHT", "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "isResolved": false, "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoxNjozMFrOGxfozQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOToxNDo1M1rOGxhplg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw==", "bodyText": "Fixed Operator called default onErrorDropped when stream got cancelled. what does this mean for customer?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454551757", "createdAt": "2020-07-14T18:16:30Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MjY5MQ==", "bodyText": "It reflects this fix : #12836", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454552691", "createdAt": "2020-07-14T18:17:59Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MzI2Mg==", "bodyText": "can this be reworded to be understandable by customer?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454553262", "createdAt": "2020-07-14T18:18:59Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NTkyNA==", "bodyText": "Sure, suggestions ?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454555924", "createdAt": "2020-07-14T18:23:31Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NjcwNQ==", "bodyText": "how about Fixed handling of cancelled requests in the IO stack. ?\nor Fixed issue in handling of cancelled requests in IO stack causing a failure.\nor Fixed issue by not triggering a failure when an IO request is cancelled.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454556705", "createdAt": "2020-07-14T18:24:50Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU2MzM2OA==", "bodyText": "So this is the original fix from @David-Noble-at-work :\nWe now ensure that a pending Direct TCP request in a reactive stream dropped by an end user or the HA layer completes without bubbling up to reactor.core.publisher.Hooks.onErrorDropped as a CompletionException error. Pending requests may be left outstanding when, for example, an end user calls CosmosAsyncClient.close or the HA layer detects that a partition split has occurred. The code now guarantees that each pending Mono<StoreResponse> in the stream will run to completion with a new subscriber. Consequently the default onErrorDropped handler will not be called thus preventing these distracting error messages.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454563368", "createdAt": "2020-07-14T18:36:23Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU2NTEzNw==", "bodyText": "@moderakh  - how about this ?\nFixed issue in handling of pending requests in direct\u00a0mode causing Operator called default onErrorDropped error message.\u00a0", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454565137", "createdAt": "2020-07-14T18:39:34Z", "author": {"login": "kushagraThapar"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU2OTUyMQ==", "bodyText": "it is not the pending requests which cause issue, it is the cancelled requests. no?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454569521", "createdAt": "2020-07-14T18:47:16Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3MDYxOQ==", "bodyText": "essentially an RNTBD IO request which is cancelled as per request of higher stack will trigger a failure and result in bubbling up a failure from RNTBD to consistency stack", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454570619", "createdAt": "2020-07-14T18:49:07Z", "author": {"login": "moderakh"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU4NDcyNg==", "bodyText": "As discussed offline, updated to:\n\nFixed issue in handling of cancelled requests in direct mode causing reactor onErrorDropped being called.", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13145#discussion_r454584726", "createdAt": "2020-07-14T19:14:53Z", "author": {"login": "xinlian12"}, "path": "sdk/cosmos/azure-cosmos/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,16 @@\n # Release History\n \n-## 4.2.0-beta.1 (Unreleased)\n-\n+## 4.2.0 (2020-07-14)\n+### New Features\n+* Added script logging enabled API to `CosmosStoredProcedureRequestOptions`.\n+* Updated `DirectConnectionConfig` default `idleEndpointTimeout` to 1h and default `connectTimeout` to 5s.\n+### Key Bug Fixes\n+* Fixed issue where `GatewayConnectionConfig` `idleConnectionTimeout` was overriding `DirectConnectionConfig` `idleConnectionTimeout`.\n+* Fixed `responseContinuationTokenLimitInKb` get and set APIs in `CosmosQueryRequestOptions`.\n+* Fixed issue in query and change feed when recreating the collection with same name.\n+* Fixed issue with top query throwing ClassCastException.\n+* Fixed issue with order by query throwing NullPointerException.\n+* Fixed `Operator called default onErrorDropped` when stream got cancelled.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc1Nw=="}, "originalCommit": {"oid": "cd61de54b0cbc4104f31a97a23c23e6164d7ca0c"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 24, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}