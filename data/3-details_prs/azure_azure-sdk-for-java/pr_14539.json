{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MDAxMDIz", "number": 14539, "title": "Add Context to async client method params", "bodyText": "Adding the flag:\ncontext-client-method-parameter: true to our autorest yaml generates the PL async APIs accepting a Context param.\n\nFor sync APIs - we can pass the Context the user provided context.\nAsync APIs - we use the azure-core provided FluxUtil.withContext() helper to convert reactor context to azure context.\n\nFor scenario where we don't want to specify the context, we can assign it to Context.NONE.\nContext is a property bag of key-value pairs that are passed on to the http pipeline.", "createdAt": "2020-08-27T23:23:18Z", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539", "merged": true, "mergeCommit": {"oid": "5675ec7f080f2da29abee55c45b1cf8061fe7819"}, "closed": true, "closedAt": "2020-08-28T00:02:49Z", "author": {"login": "abhipsaMisra"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDIxCwgH2gAyNDc1MDAxMDIzOjUyYjg0MTI2ZTBlMTZmY2I3NzljZjk1YmZiOTk4MDY2ZTM4M2JiMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDJbS3AFqTQ3NzE1ODI4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24", "author": {"user": {"login": "abhipsaMisra", "name": "Abhipsa Misra"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/52b84126e0e16fcb779cf95bfb998066e383bb24", "committedDate": "2020-08-27T23:11:49Z", "message": "Add Context to async client method params"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTQ3ODE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#pullrequestreview-477147818", "createdAt": "2020-08-27T23:24:30Z", "commit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNDozMFrOHIkgBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNDozMFrOHIkgBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0ODY3OA==", "bodyText": "The list API still needs work, I'll fix this in the relationships impl PR #14527", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#discussion_r478748678", "createdAt": "2020-08-27T23:24:30Z", "author": {"login": "abhipsaMisra"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -150,7 +165,20 @@ public HttpPipeline getHttpPipeline() {\n     @ServiceMethod(returns = ReturnType.COLLECTION)\n     public PagedFlux<String> listRelationships(String digitalTwinId, String relationshipName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTUwMjE4", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#pullrequestreview-477150218", "createdAt": "2020-08-27T23:31:47Z", "commit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTUwOTkz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#pullrequestreview-477150993", "createdAt": "2020-08-27T23:34:13Z", "commit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzozNDoxNFrOHIkrKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzozNDoxNFrOHIkrKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1MTUzMA==", "bodyText": "klazz or clazz>? :)", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#discussion_r478751530", "createdAt": "2020-08-27T23:34:14Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -86,9 +89,20 @@ public HttpPipeline getHttpPipeline() {\n     // Input is String and output is Response<String>.\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<DigitalTwinsResponse<String>> createDigitalTwinWithResponse(String digitalTwinId, String digitalTwin) {\n+        return withContext(context -> createDigitalTwinWithResponse(digitalTwinId, digitalTwin, context));\n+    }\n+\n+    // TODO: This is a temporary implementation for sample purposes. This should be spruced up/replaced once this API is actually designed.\n+    // Input is Object and output is Response<T>.\n+    @ServiceMethod(returns = ReturnType.SINGLE)\n+    public <T> Mono<DigitalTwinsResponse<T>> createDigitalTwinWithResponse(String digitalTwinId, Object digitalTwin, Class<T> klazz) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTUxODQz", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#pullrequestreview-477151843", "createdAt": "2020-08-27T23:36:59Z", "commit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzozNjo1OVrOHIkuPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzozNjo1OVrOHIkuPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc1MjMxNw==", "bodyText": "So is this treated as empty?", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#discussion_r478752317", "createdAt": "2020-08-27T23:36:59Z", "author": {"login": "bikamani"}, "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/SyncSample.java", "diffHunk": "@@ -34,11 +35,11 @@ public static void main(String[] args) throws JsonProcessingException {\n             .buildClient();\n \n         // Create relationship on a digital twin\n-        String createdRelationship = client.createRelationshipWithResponse(sourceDigitalTwinId, relationshipId, relationship).getValue();\n+        String createdRelationship = client.createRelationshipWithResponse(sourceDigitalTwinId, relationshipId, relationship, Context.NONE).getValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52b84126e0e16fcb779cf95bfb998066e383bb24"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f6f32d1380b5ec9268ba74a4b109e4cb39c603a", "author": {"user": {"login": "abhipsaMisra", "name": "Abhipsa Misra"}}, "url": "https://github.com/Azure/azure-sdk-for-java/commit/4f6f32d1380b5ec9268ba74a4b109e4cb39c603a", "committedDate": "2020-08-27T23:46:53Z", "message": "javadoc comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTU4Mjgx", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14539#pullrequestreview-477158281", "createdAt": "2020-08-27T23:57:58Z", "commit": {"oid": "4f6f32d1380b5ec9268ba74a4b109e4cb39c603a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 137, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}