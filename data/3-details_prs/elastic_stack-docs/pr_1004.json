{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NTE1Nzk3", "number": 1004, "title": "[DOCS] Moves feature importance out from the shared file to a standalone page", "bodyText": "Overview\nThis PR achieves the following:\n\nmoves the text about feature importance to a standalone page,\ncreates a new Further readings section on the page that contains a link to the blog post about feature importance,\nadds the new page under the Concepts section in the ML DFA book,\ndeletes shared-ml-concepts.asciidoc as feature importance was the only concept there,\nadds a short sentence about feature importance to both the classification and the regression docs and a link that points to the new page.\n\nPreview\nFeature importance\nClassification\nRegression", "createdAt": "2020-04-21T08:18:53Z", "url": "https://github.com/elastic/stack-docs/pull/1004", "merged": true, "mergeCommit": {"oid": "2f5349c1c3482131be4868c0fc2e863f4f10bd5c"}, "closed": true, "closedAt": "2020-04-27T16:01:34Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZvL9BgH2gAyNDA2NTE1Nzk3OmVmNGJlZWM0ODRjMDJjZjI2MmE3ODZkYTM3YTU3MjdhMWQzZTE5NjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcavKqjAH2gAyNDA2NTE1Nzk3OmEzODNlYjUyNTc5ZDE1ODYzZjU1NDA0OWEyMWExMGYwZDZjOGY4NzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ef4beec484c02cf262a786da37a5727a1d3e1962", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/ef4beec484c02cf262a786da37a5727a1d3e1962", "committedDate": "2020-04-21T08:12:47Z", "message": "[DOCS] Moves feature importance out from the shared file to a stand alone page."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/13be5964076b709ff33a12f6810266131a0f94b3", "committedDate": "2020-04-21T08:35:16Z", "message": "[DOCS] Adds further readings section."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjQ1OTc2", "url": "https://github.com/elastic/stack-docs/pull/1004#pullrequestreview-398645976", "createdAt": "2020-04-22T22:54:17Z", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjo1NDoxN1rOGKPJSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjo1NDoxN1rOGKPJSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM4NzA4Mw==", "bodyText": "IMO this page doesn't help you understand results yet and that title should be reserved for the deeper task\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Understanding results: {feat-imp}\n          \n          \n            \n            === {feat-imp-cap}", "url": "https://github.com/elastic/stack-docs/pull/1004#discussion_r413387083", "createdAt": "2020-04-22T22:54:17Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc", "diffHunk": "@@ -0,0 +1,35 @@\n+[role=\"xpack\"]\n+[[ml-feature-importance]]\n+=== Understanding results: {feat-imp}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjU3NDU1", "url": "https://github.com/elastic/stack-docs/pull/1004#pullrequestreview-398657455", "createdAt": "2020-04-22T23:22:42Z", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzoyMjo0MlrOGKP2sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzoyMjo0MlrOGKP2sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM5ODcwNw==", "bodyText": "Feature importance is calculated ...\n\nPerhaps this can wait to be augmented in a later PR, but it would be nice if the first sentence provided a very brief explanation of this concept. Something like:\n\"Feature importance values indicate which fields had the biggest impact on each prediction that is generated by classification or regression analysis.", "url": "https://github.com/elastic/stack-docs/pull/1004#discussion_r413398707", "createdAt": "2020-04-22T23:22:42Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc", "diffHunk": "@@ -0,0 +1,35 @@\n+[role=\"xpack\"]\n+[[ml-feature-importance]]\n+=== Understanding results: {feat-imp}\n+\n+{feat-imp-cap} is calculated for supervised {ml} methods such as \n+<<dfa-regression,{regression}>> and <<dfa-classification,{classification}>>. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjYwMTQ2", "url": "https://github.com/elastic/stack-docs/pull/1004#pullrequestreview-398660146", "createdAt": "2020-04-22T23:29:23Z", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzoyOToyM1rOGKQA9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzoyOToyM1rOGKQA9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQwMTMzMg==", "bodyText": "As we mentioned...\n\nI think this is referring to content that existed elsewhere.  I think this should be reworded or removed.", "url": "https://github.com/elastic/stack-docs/pull/1004#discussion_r413401332", "createdAt": "2020-04-22T23:29:23Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc", "diffHunk": "@@ -0,0 +1,35 @@\n+[role=\"xpack\"]\n+[[ml-feature-importance]]\n+=== Understanding results: {feat-imp}\n+\n+{feat-imp-cap} is calculated for supervised {ml} methods such as \n+<<dfa-regression,{regression}>> and <<dfa-classification,{classification}>>. \n+This value provides further insight into the results of a {dfanalytics-job} and \n+therefore helps interpret these results. As we mentioned, there are multiple ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjYwNDE4", "url": "https://github.com/elastic/stack-docs/pull/1004#pullrequestreview-398660418", "createdAt": "2020-04-22T23:30:09Z", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzozMDoxMFrOGKQB8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzozMDoxMFrOGKQB8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQwMTU4Ng==", "bodyText": "By default, feature importance values are not calculated.\n\nI think this is only true of the API.  When I use Kibana, it seems to be consistently using a default value of 2.", "url": "https://github.com/elastic/stack-docs/pull/1004#discussion_r413401586", "createdAt": "2020-04-22T23:30:10Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc", "diffHunk": "@@ -0,0 +1,35 @@\n+[role=\"xpack\"]\n+[[ml-feature-importance]]\n+=== Understanding results: {feat-imp}\n+\n+{feat-imp-cap} is calculated for supervised {ml} methods such as \n+<<dfa-regression,{regression}>> and <<dfa-classification,{classification}>>. \n+This value provides further insight into the results of a {dfanalytics-job} and \n+therefore helps interpret these results. As we mentioned, there are multiple \n+features of a data point that are analyzed during {dfanalytics}. These features \n+are responsible for a particular prediction to varying degrees. {feat-imp-cap} \n+shows to what degree a given feature of a data point contributes to the \n+prediction. The feature importance value of a feature can be either positive or \n+negative depending on its effect on the prediction. If the feature reduces the \n+prediction value, the value is negative. If the feature increases the \n+prediction, the {feat-imp} value positive. The magnitude of the {feat-imp} \n+value shows how significantly the feature affects the prediction both locally \n+(for a given data point) or generally (for the whole data set).\n+\n+{feat-imp-cap} in the {stack} is calculated using the SHAP (SHapley Additive \n+exPlanations) method as described in\n+https://papers.nips.cc/paper/7062-a-unified-approach-to-interpreting-model-predictions.pdf[Lundberg, S. M., & Lee, S.-I. A Unified Approach to Interpreting Model Predictions. In NeurIPS 2017].\n+\n+By default, {feat-imp} values are not calculated. To generate this information, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjY0NjA4", "url": "https://github.com/elastic/stack-docs/pull/1004#pullrequestreview-398664608", "createdAt": "2020-04-22T23:41:34Z", "commit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzo0MTozNVrOGKQThA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMzo0MTozNVrOGKQThA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQwNjA4NA==", "bodyText": "in fields prefixed by ml.feature_importance:\n\nI think this might have changed, since in 7.x I'm seeing that information in an array inside the results for each document, like this:\n\n\"ml\" : {\n\"FlightDelayMin_prediction\" : 4.357336521148682,\n\"feature_importance\" : [\n{\n\"feature_name\" : \"DistanceMiles\",\n\"importance\" : 15.865198439768983\n},\n{\n\"feature_name\" : \"FlightTimeMin\",\n\"importance\" : -69.57508138095754\n}\n],\n\nMaybe it's sufficient to say the feature importance values are stored in the machine learning results field for each document in the destination index.", "url": "https://github.com/elastic/stack-docs/pull/1004#discussion_r413406084", "createdAt": "2020-04-22T23:41:35Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc", "diffHunk": "@@ -0,0 +1,35 @@\n+[role=\"xpack\"]\n+[[ml-feature-importance]]\n+=== Understanding results: {feat-imp}\n+\n+{feat-imp-cap} is calculated for supervised {ml} methods such as \n+<<dfa-regression,{regression}>> and <<dfa-classification,{classification}>>. \n+This value provides further insight into the results of a {dfanalytics-job} and \n+therefore helps interpret these results. As we mentioned, there are multiple \n+features of a data point that are analyzed during {dfanalytics}. These features \n+are responsible for a particular prediction to varying degrees. {feat-imp-cap} \n+shows to what degree a given feature of a data point contributes to the \n+prediction. The feature importance value of a feature can be either positive or \n+negative depending on its effect on the prediction. If the feature reduces the \n+prediction value, the value is negative. If the feature increases the \n+prediction, the {feat-imp} value positive. The magnitude of the {feat-imp} \n+value shows how significantly the feature affects the prediction both locally \n+(for a given data point) or generally (for the whole data set).\n+\n+{feat-imp-cap} in the {stack} is calculated using the SHAP (SHapley Additive \n+exPlanations) method as described in\n+https://papers.nips.cc/paper/7062-a-unified-approach-to-interpreting-model-predictions.pdf[Lundberg, S. M., & Lee, S.-I. A Unified Approach to Interpreting Model Predictions. In NeurIPS 2017].\n+\n+By default, {feat-imp} values are not calculated. To generate this information, \n+when you create a {dfanalytics-job} you must specify the \n+`num_top_feature_importance_values` property. The {feat-imp} values are stored \n+in the destination index in fields prefixed by `ml.feature_importance`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13be5964076b709ff33a12f6810266131a0f94b3"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8dd5768cd5a88d0367177796663321660656e51", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/a8dd5768cd5a88d0367177796663321660656e51", "committedDate": "2020-04-23T07:49:16Z", "message": "Update docs/en/stack/ml/df-analytics/ml-feature-importance.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2783ec7a15e30429721637c6484ca1e501bf5ad2", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/2783ec7a15e30429721637c6484ca1e501bf5ad2", "committedDate": "2020-04-23T08:06:51Z", "message": "[DOCS] Addresses feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a383eb52579d15863f554049a21a10f0d6c8f876", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/a383eb52579d15863f554049a21a10f0d6c8f876", "committedDate": "2020-04-24T10:45:18Z", "message": "[DOCS] Reduces first paragraph."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4810, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}