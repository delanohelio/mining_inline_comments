{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NzQyNDM4", "number": 824, "title": "[DOCS] Augments list of machine learning privileges", "bodyText": "This PR clarifies the list of security privileges that are required to use the machine learning features.\nPreview: http://stack-docs_824.docs-preview.app.elstc.co/guide/en/machine-learning/master/setup.html#setup-privileges", "createdAt": "2020-01-27T22:47:37Z", "url": "https://github.com/elastic/stack-docs/pull/824", "merged": true, "mergeCommit": {"oid": "8681632cbd01b772d149b38c8e289a195c6d64fb"}, "closed": true, "closedAt": "2020-02-12T22:22:41Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-kmc-gH2gAyMzY3NzQyNDM4Ojg0MjRmNjk5ZDQ1NDg2ZjZlYWYzNjNjOWY5ZDc0ZWY3MTcxMjliZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDiXiOAFqTM1NzI3NDQwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8424f699d45486f6eaf363c9f9d74ef717129bf9", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/8424f699d45486f6eaf363c9f9d74ef717129bf9", "committedDate": "2020-01-27T22:36:49Z", "message": "[DOCS] Augments list of ML privileges"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "237a56ed6ca97051b381cd5a38ee392b99348a2a", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/237a56ed6ca97051b381cd5a38ee392b99348a2a", "committedDate": "2020-01-30T17:00:19Z", "message": "[DOCS] Adds interactive checkboxes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a9f0e1addd78d220a90aff9c82eebfe161715a7", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/4a9f0e1addd78d220a90aff9c82eebfe161715a7", "committedDate": "2020-01-30T17:11:17Z", "message": "[DOCS] Minor edits"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/577cbe69030c1d993be41134e407edc9431302fb", "committedDate": "2020-01-30T20:39:39Z", "message": "[DOCS] Adds alternative tabular format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjMzMDY5", "url": "https://github.com/elastic/stack-docs/pull/824#pullrequestreview-353233069", "createdAt": "2020-02-04T19:15:47Z", "commit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxOToxNTo0N1rOFlgOXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxOToxOTowM1rOFlgVTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg2OTU5Nw==", "bodyText": "We should avoid defining privileges within paragraphs. Can this be two separate bullets?", "url": "https://github.com/elastic/stack-docs/pull/824#discussion_r374869597", "createdAt": "2020-02-04T19:15:47Z", "author": {"login": "sophiec20"}, "path": "docs/en/stack/ml/setup.asciidoc", "diffHunk": "@@ -31,16 +31,75 @@ API requests but cannot run {ml} jobs. For more information, see\n [[setup-privileges]]\n === Security privileges\n \n-The {es} {security-features} provide `machine_learning_admin` and\n-`machine_learning_user` {ref}/built-in-roles.html[built-in roles] and\n-`manage_ml` and `monitor_ml` {ref}/security-privileges.html[cluster privileges].\n-These roles and privileges make it easier to control which users can manage or\n-view {ml} objects such as jobs, {dfeeds}, results, and model snapshots.\n-\n-Some actions might require additional authority. For example, if you are viewing\n-the results of {anomaly-jobs}, you must also have `read` index privileges on the\n-index that stores the results. If you are creating {dfanalytics-jobs}, you must\n-have specific privileges with respect to the source and destination indices.\n-For more information, see the prerequisites for each\n-{ref}/ml-apis.html[{anomaly-detect} API] and\n-{ref}/ml-df-analytics-apis.html[{dfanalytics} API].\n+The {es} {security-features} provide {ref}/built-in-roles.html[built-in roles]\n+and {ref}/security-privileges.html[privileges] that make it easier to control\n+which users can manage or view {ml} objects such as jobs, {dfeeds}, results, and\n+model snapshots. \n+\n+To _view_ the configuration, status, and results of the {ml-features}, you\n+must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_user` or `machine_learning_admin` built-in roles\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read` index privileges on destination indices (for {dfanalytics-jobs}\n+  only)\n+\n+To _manage_ {ml-features}, you must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_admin` built-in role\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read`, `manage`, and `index` index privileges on destination indices (for\n+  {dfanalytics-jobs} only)\n+\n+If you use {ml-features} in {kib}, you must also have:\n+\n+[%interactive]\n+* [ ] `kibana_user` built-in role or a custom role that\n+{kibana-ref}/xpack-security-authorization.html[grants access to {kib}]\n+* [ ] `monitor` and `manage_ingest_pipelines` cluster privileges and `read`,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg3MDA2MA==", "bodyText": "kibana_user is being deprecated, so we should say kibana_admin or a custom role ...", "url": "https://github.com/elastic/stack-docs/pull/824#discussion_r374870060", "createdAt": "2020-02-04T19:16:35Z", "author": {"login": "sophiec20"}, "path": "docs/en/stack/ml/setup.asciidoc", "diffHunk": "@@ -31,16 +31,75 @@ API requests but cannot run {ml} jobs. For more information, see\n [[setup-privileges]]\n === Security privileges\n \n-The {es} {security-features} provide `machine_learning_admin` and\n-`machine_learning_user` {ref}/built-in-roles.html[built-in roles] and\n-`manage_ml` and `monitor_ml` {ref}/security-privileges.html[cluster privileges].\n-These roles and privileges make it easier to control which users can manage or\n-view {ml} objects such as jobs, {dfeeds}, results, and model snapshots.\n-\n-Some actions might require additional authority. For example, if you are viewing\n-the results of {anomaly-jobs}, you must also have `read` index privileges on the\n-index that stores the results. If you are creating {dfanalytics-jobs}, you must\n-have specific privileges with respect to the source and destination indices.\n-For more information, see the prerequisites for each\n-{ref}/ml-apis.html[{anomaly-detect} API] and\n-{ref}/ml-df-analytics-apis.html[{dfanalytics} API].\n+The {es} {security-features} provide {ref}/built-in-roles.html[built-in roles]\n+and {ref}/security-privileges.html[privileges] that make it easier to control\n+which users can manage or view {ml} objects such as jobs, {dfeeds}, results, and\n+model snapshots. \n+\n+To _view_ the configuration, status, and results of the {ml-features}, you\n+must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_user` or `machine_learning_admin` built-in roles\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read` index privileges on destination indices (for {dfanalytics-jobs}\n+  only)\n+\n+To _manage_ {ml-features}, you must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_admin` built-in role\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read`, `manage`, and `index` index privileges on destination indices (for\n+  {dfanalytics-jobs} only)\n+\n+If you use {ml-features} in {kib}, you must also have:\n+\n+[%interactive]\n+* [ ] `kibana_user` built-in role or a custom role that", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg3MTA5Mg==", "bodyText": "The 3x column view doesn't fit with our page width .. could we see what it looks like with the first column being incorporated into the description?", "url": "https://github.com/elastic/stack-docs/pull/824#discussion_r374871092", "createdAt": "2020-02-04T19:18:26Z", "author": {"login": "sophiec20"}, "path": "docs/en/stack/ml/setup.asciidoc", "diffHunk": "@@ -31,16 +31,75 @@ API requests but cannot run {ml} jobs. For more information, see\n [[setup-privileges]]\n === Security privileges\n \n-The {es} {security-features} provide `machine_learning_admin` and\n-`machine_learning_user` {ref}/built-in-roles.html[built-in roles] and\n-`manage_ml` and `monitor_ml` {ref}/security-privileges.html[cluster privileges].\n-These roles and privileges make it easier to control which users can manage or\n-view {ml} objects such as jobs, {dfeeds}, results, and model snapshots.\n-\n-Some actions might require additional authority. For example, if you are viewing\n-the results of {anomaly-jobs}, you must also have `read` index privileges on the\n-index that stores the results. If you are creating {dfanalytics-jobs}, you must\n-have specific privileges with respect to the source and destination indices.\n-For more information, see the prerequisites for each\n-{ref}/ml-apis.html[{anomaly-detect} API] and\n-{ref}/ml-df-analytics-apis.html[{dfanalytics} API].\n+The {es} {security-features} provide {ref}/built-in-roles.html[built-in roles]\n+and {ref}/security-privileges.html[privileges] that make it easier to control\n+which users can manage or view {ml} objects such as jobs, {dfeeds}, results, and\n+model snapshots. \n+\n+To _view_ the configuration, status, and results of the {ml-features}, you\n+must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_user` or `machine_learning_admin` built-in roles\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read` index privileges on destination indices (for {dfanalytics-jobs}\n+  only)\n+\n+To _manage_ {ml-features}, you must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_admin` built-in role\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read`, `manage`, and `index` index privileges on destination indices (for\n+  {dfanalytics-jobs} only)\n+\n+If you use {ml-features} in {kib}, you must also have:\n+\n+[%interactive]\n+* [ ] `kibana_user` built-in role or a custom role that\n+{kibana-ref}/xpack-security-authorization.html[grants access to {kib}]\n+* [ ] `monitor` and `manage_ingest_pipelines` cluster privileges and `read`,\n+`manage`, and `index` index privileges for the destination index when you upload\n+files to the *Data Visualizer*\n+* [ ] `monitor` cluster privilege to manage {dfanalytics-jobs}\n+\n+[discrete]\n+==== Alternative layout", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg3MTM3NA==", "bodyText": "bullets and checkboxes -- does it have to have both?", "url": "https://github.com/elastic/stack-docs/pull/824#discussion_r374871374", "createdAt": "2020-02-04T19:19:03Z", "author": {"login": "sophiec20"}, "path": "docs/en/stack/ml/setup.asciidoc", "diffHunk": "@@ -31,16 +31,75 @@ API requests but cannot run {ml} jobs. For more information, see\n [[setup-privileges]]\n === Security privileges\n \n-The {es} {security-features} provide `machine_learning_admin` and\n-`machine_learning_user` {ref}/built-in-roles.html[built-in roles] and\n-`manage_ml` and `monitor_ml` {ref}/security-privileges.html[cluster privileges].\n-These roles and privileges make it easier to control which users can manage or\n-view {ml} objects such as jobs, {dfeeds}, results, and model snapshots.\n-\n-Some actions might require additional authority. For example, if you are viewing\n-the results of {anomaly-jobs}, you must also have `read` index privileges on the\n-index that stores the results. If you are creating {dfanalytics-jobs}, you must\n-have specific privileges with respect to the source and destination indices.\n-For more information, see the prerequisites for each\n-{ref}/ml-apis.html[{anomaly-detect} API] and\n-{ref}/ml-df-analytics-apis.html[{dfanalytics} API].\n+The {es} {security-features} provide {ref}/built-in-roles.html[built-in roles]\n+and {ref}/security-privileges.html[privileges] that make it easier to control\n+which users can manage or view {ml} objects such as jobs, {dfeeds}, results, and\n+model snapshots. \n+\n+To _view_ the configuration, status, and results of the {ml-features}, you", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "577cbe69030c1d993be41134e407edc9431302fb"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b781388635cc4778e8912e1c43a6065e73b63df", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/7b781388635cc4778e8912e1c43a6065e73b63df", "committedDate": "2020-02-04T19:44:04Z", "message": "[DOCS] Addresses feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "837efdc297c553649167b37f9e3767599c5633eb", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/837efdc297c553649167b37f9e3767599c5633eb", "committedDate": "2020-02-04T19:51:20Z", "message": "[DOCS] Removes column from table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad3a23f43e44d046043161464fecdb6d9b401784", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/ad3a23f43e44d046043161464fecdb6d9b401784", "committedDate": "2020-02-06T00:59:59Z", "message": "[DOCS] Removes tables"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTc3MjIy", "url": "https://github.com/elastic/stack-docs/pull/824#pullrequestreview-354177222", "createdAt": "2020-02-06T03:06:34Z", "commit": {"oid": "ad3a23f43e44d046043161464fecdb6d9b401784"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMzowNjozNFrOFmOD8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMzowNjozNFrOFmOD8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYyMDU5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you use job wizard in {kib} to create categorization {anomaly-jobs}, you must\n          \n          \n            \n            If you use {kib} to create categorization {anomaly-jobs}, you must", "url": "https://github.com/elastic/stack-docs/pull/824#discussion_r375620594", "createdAt": "2020-02-06T03:06:34Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/setup.asciidoc", "diffHunk": "@@ -31,16 +31,44 @@ API requests but cannot run {ml} jobs. For more information, see\n [[setup-privileges]]\n === Security privileges\n \n-The {es} {security-features} provide `machine_learning_admin` and\n-`machine_learning_user` {ref}/built-in-roles.html[built-in roles] and\n-`manage_ml` and `monitor_ml` {ref}/security-privileges.html[cluster privileges].\n-These roles and privileges make it easier to control which users can manage or\n-view {ml} objects such as jobs, {dfeeds}, results, and model snapshots.\n-\n-Some actions might require additional authority. For example, if you are viewing\n-the results of {anomaly-jobs}, you must also have `read` index privileges on the\n-index that stores the results. If you are creating {dfanalytics-jobs}, you must\n-have specific privileges with respect to the source and destination indices.\n-For more information, see the prerequisites for each\n-{ref}/ml-apis.html[{anomaly-detect} API] and\n-{ref}/ml-df-analytics-apis.html[{dfanalytics} API].\n+The {es} {security-features} provide {ref}/built-in-roles.html[built-in roles]\n+and {ref}/security-privileges.html[privileges] that make it easier to control\n+which users can manage or view {ml} objects such as jobs, {dfeeds}, results, and\n+model snapshots. \n+\n+To _view_ the configuration, status, and results of the {ml-features}, you\n+must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_user` or `machine_learning_admin` built-in roles\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read` index privileges on destination indices (for {dfanalytics-jobs}\n+  only)\n+\n+To _manage_ {ml-features}, you must have:\n+\n+[%interactive]\n+* [ ] `machine_learning_admin` built-in role\n+* [ ] `read` and `view_index_metadata` index privileges on source indices\n+* [ ] `read`, `manage`, and `index` index privileges on destination indices (for\n+  {dfanalytics-jobs} only)\n+\n+If you use {ml-features} in {kib}, you must also have:\n+\n+[%interactive]\n+* [ ] `kibana_admin` built-in role or a custom role that\n+{kibana-ref}/xpack-security-authorization.html[grants access to {kib}]\n+* [ ] `monitor` cluster privilege to manage {dfanalytics-jobs}\n+\n+If you use job wizard in {kib} to create categorization {anomaly-jobs}, you must", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad3a23f43e44d046043161464fecdb6d9b401784"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6736932b2ccb321c0682d5f3522e630a31947ae", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/e6736932b2ccb321c0682d5f3522e630a31947ae", "committedDate": "2020-02-06T03:06:53Z", "message": "Update docs/en/stack/ml/setup.asciidoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2ODcxNzY0", "url": "https://github.com/elastic/stack-docs/pull/824#pullrequestreview-356871764", "createdAt": "2020-02-11T17:58:45Z", "commit": {"oid": "e6736932b2ccb321c0682d5f3522e630a31947ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3Mjc0NDAz", "url": "https://github.com/elastic/stack-docs/pull/824#pullrequestreview-357274403", "createdAt": "2020-02-12T08:50:20Z", "commit": {"oid": "e6736932b2ccb321c0682d5f3522e630a31947ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4941, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}