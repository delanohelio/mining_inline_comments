{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0Mzk1NzMz", "number": 1047, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMDoyNTo0MlrOD6CyNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDozMDozN1rOD6mCVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTg5NjIyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMDoyNTo0MlrOGRqD2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNzo0ODo0OVrOGSJj9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE2ODA5MA==", "bodyText": "Do we need to cover how age is calculated here too? For example:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            each day, old snapshots are automatically deleted. By default, if there are\n          \n          \n            \n            each day, old snapshots are automatically deleted. The age of each snapshot is calculated relative to the timestamp of the most recent snapshot. By default, if there are", "url": "https://github.com/elastic/stack-docs/pull/1047#discussion_r421168090", "createdAt": "2020-05-07T00:25:42Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "diffHunk": "@@ -8,21 +8,28 @@ accomplished by generating models of your data.\n \n To ensure resilience in the event of a system failure, snapshots of the {ml}\n model for each {anomaly-job} are saved to an internal index within the {es}\n-cluster. By default, snapshots are captured approximately every 3 to 4 hours and \n-retained for one day (twenty-four hours). The amount of time necessary to\n-save these snapshots is proportional to the size of the model in memory.\n+cluster. The amount of time necessary to save these snapshots is proportional to\n+the size of the model in memory. By default, snapshots are captured\n+approximately every 3 to 4 hours. You can change this interval\n+(`background_persist_interval`) when you create or update a job.\n \n-You can use the {ref}/ml-update-job.html[update {anomaly-jobs} API] to change\n-the interval (`background_persist_interval`) and retention\n-(`model_snapshot_retention_days`) of these snapshots.\n+To reduce the number of snapshots consuming space on your cluster, at the end of\n+each day, old snapshots are automatically deleted. By default, if there are", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb3e5dfffd959bc0f3045663aee0611e3049877c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQwNzkxOQ==", "bodyText": "Yes, we probably should, because it's natural to think of \"age\" as being relative to now, and that's not the case here.", "url": "https://github.com/elastic/stack-docs/pull/1047#discussion_r421407919", "createdAt": "2020-05-07T10:38:30Z", "author": {"login": "droberts195"}, "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "diffHunk": "@@ -8,21 +8,28 @@ accomplished by generating models of your data.\n \n To ensure resilience in the event of a system failure, snapshots of the {ml}\n model for each {anomaly-job} are saved to an internal index within the {es}\n-cluster. By default, snapshots are captured approximately every 3 to 4 hours and \n-retained for one day (twenty-four hours). The amount of time necessary to\n-save these snapshots is proportional to the size of the model in memory.\n+cluster. The amount of time necessary to save these snapshots is proportional to\n+the size of the model in memory. By default, snapshots are captured\n+approximately every 3 to 4 hours. You can change this interval\n+(`background_persist_interval`) when you create or update a job.\n \n-You can use the {ref}/ml-update-job.html[update {anomaly-jobs} API] to change\n-the interval (`background_persist_interval`) and retention\n-(`model_snapshot_retention_days`) of these snapshots.\n+To reduce the number of snapshots consuming space on your cluster, at the end of\n+each day, old snapshots are automatically deleted. By default, if there are", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE2ODA5MA=="}, "originalCommit": {"oid": "bb3e5dfffd959bc0f3045663aee0611e3049877c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY4NDIxNA==", "bodyText": "Thanks, I've implemented those changes.", "url": "https://github.com/elastic/stack-docs/pull/1047#discussion_r421684214", "createdAt": "2020-05-07T17:48:49Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "diffHunk": "@@ -8,21 +8,28 @@ accomplished by generating models of your data.\n \n To ensure resilience in the event of a system failure, snapshots of the {ml}\n model for each {anomaly-job} are saved to an internal index within the {es}\n-cluster. By default, snapshots are captured approximately every 3 to 4 hours and \n-retained for one day (twenty-four hours). The amount of time necessary to\n-save these snapshots is proportional to the size of the model in memory.\n+cluster. The amount of time necessary to save these snapshots is proportional to\n+the size of the model in memory. By default, snapshots are captured\n+approximately every 3 to 4 hours. You can change this interval\n+(`background_persist_interval`) when you create or update a job.\n \n-You can use the {ref}/ml-update-job.html[update {anomaly-jobs} API] to change\n-the interval (`background_persist_interval`) and retention\n-(`model_snapshot_retention_days`) of these snapshots.\n+To reduce the number of snapshots consuming space on your cluster, at the end of\n+each day, old snapshots are automatically deleted. By default, if there are", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE2ODA5MA=="}, "originalCommit": {"oid": "bb3e5dfffd959bc0f3045663aee0611e3049877c"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTg5ODI2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMDoyNjozOFrOGRqFCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMDoyNjozOFrOGRqFCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE2ODM5NA==", "bodyText": "Likewise, incorporating relative age:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            snapshots over one day old, only the first snapshot for each day is retained.\n          \n          \n            \n            snapshots over one day older than the most recent snapshot, only the first snapshot for each day is retained.", "url": "https://github.com/elastic/stack-docs/pull/1047#discussion_r421168394", "createdAt": "2020-05-07T00:26:38Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "diffHunk": "@@ -8,21 +8,28 @@ accomplished by generating models of your data.\n \n To ensure resilience in the event of a system failure, snapshots of the {ml}\n model for each {anomaly-job} are saved to an internal index within the {es}\n-cluster. By default, snapshots are captured approximately every 3 to 4 hours and \n-retained for one day (twenty-four hours). The amount of time necessary to\n-save these snapshots is proportional to the size of the model in memory.\n+cluster. The amount of time necessary to save these snapshots is proportional to\n+the size of the model in memory. By default, snapshots are captured\n+approximately every 3 to 4 hours. You can change this interval\n+(`background_persist_interval`) when you create or update a job.\n \n-You can use the {ref}/ml-update-job.html[update {anomaly-jobs} API] to change\n-the interval (`background_persist_interval`) and retention\n-(`model_snapshot_retention_days`) of these snapshots.\n+To reduce the number of snapshots consuming space on your cluster, at the end of\n+each day, old snapshots are automatically deleted. By default, if there are\n+snapshots over one day old, only the first snapshot for each day is retained.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb3e5dfffd959bc0f3045663aee0611e3049877c"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzY3MTg5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDozMDozN1rOGShEfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDozMDozN1rOGShEfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA2OTM3Mw==", "bodyText": "Should we link to the APIs where the users can change the interval?", "url": "https://github.com/elastic/stack-docs/pull/1047#discussion_r422069373", "createdAt": "2020-05-08T10:30:37Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/model-snapshots.asciidoc", "diffHunk": "@@ -8,21 +8,30 @@ accomplished by generating models of your data.\n \n To ensure resilience in the event of a system failure, snapshots of the {ml}\n model for each {anomaly-job} are saved to an internal index within the {es}\n-cluster. By default, snapshots are captured approximately every 3 to 4 hours and \n-retained for one day (twenty-four hours). The amount of time necessary to\n-save these snapshots is proportional to the size of the model in memory.\n+cluster. The amount of time necessary to save these snapshots is proportional to\n+the size of the model in memory. By default, snapshots are captured\n+approximately every 3 to 4 hours. You can change this interval\n+(`background_persist_interval`) when you create or update a job.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "740549325d6a0da18d101bb5840cc263cf9b0734"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1202, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}