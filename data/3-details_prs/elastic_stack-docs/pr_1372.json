{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNTE5MDE5", "number": 1372, "title": "[DOCS] Adds runtime field limitation to AD limitations", "bodyText": "Overview\nThis PR adds a new limitation item to the anomaly detection limitations. It is about performance issues caused by runtime fields as time fields.\nPreview\nAD limitations\nNote\nLink check in docs-ci fails until the referenced PR below is merged.\nDo not merge this PR before elastic/elasticsearch#62653!", "createdAt": "2020-09-24T15:14:02Z", "url": "https://github.com/elastic/stack-docs/pull/1372", "merged": true, "mergeCommit": {"oid": "1e565b5f568106d08585aec6d79900c40e30465a"}, "closed": true, "closedAt": "2020-12-10T13:33:32Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMCk_AAH2gAyNDkyNTE5MDE5OmE4MWZhZWEyNmY0ZDA3MjAyYWY2YjljMjkwNTgzYWI1NWM1OTY1MjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkybzkAFqTU0OTE0MzU4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a81faea26f4d07202af6b9c290583ab55c596525", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/a81faea26f4d07202af6b9c290583ab55c596525", "committedDate": "2020-09-24T15:04:32Z", "message": "[DOCS] Adds runtime field limitation to AD limitations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29d31865ef36507508ed5e42a3f5a1e7840c3e37", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/29d31865ef36507508ed5e42a3f5a1e7840c3e37", "committedDate": "2020-09-24T15:22:51Z", "message": "[DOCS] Changes wording."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96608bbf73d569206f496f7fd19275b7fdc3679", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/a96608bbf73d569206f496f7fd19275b7fdc3679", "committedDate": "2020-10-01T08:28:20Z", "message": "[DOCS] Adds link to runtime fields page."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzIyMTMw", "url": "https://github.com/elastic/stack-docs/pull/1372#pullrequestreview-500322130", "createdAt": "2020-10-01T13:02:40Z", "commit": {"oid": "a96608bbf73d569206f496f7fd19275b7fdc3679"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzowMjo0MVrOHbJUfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzoxMTo1OVrOHbJsQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODIyNjMwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {anomaly-jobs-cap} sort all data by a user defined time field which is accessed \n          \n          \n            \n            frequently. If the time field is a {ref}/runtime.html[runtime field], the small \n          \n          \n            \n            performance overhead of the runtime field may become significant which slows \n          \n          \n            \n            down the job. Please consider using an indexed field as a time field.\n          \n          \n            \n            {anomaly-jobs-cap} sort all data by a user-defined time field, which is frequently \n          \n          \n            \n            accessed. If the time field is a {ref}/runtime.html[runtime field], the \n          \n          \n            \n            performance impact of calculating field values at query time can significantly slow\n          \n          \n            \n            the job. Use an indexed field as a time field when running anomaly detection jobs.", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r498226303", "createdAt": "2020-10-01T13:02:41Z", "author": {"login": "lockewritesdocs"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -235,6 +235,16 @@ When you create an {anomaly-job}, you cannot use a field with the\n `data_description` object. This limitation applies irrespective of whether you\n create jobs in {kib} or by using APIs.\n \n+[float]\n+[[ml-limitations-runtime]]\n+== {anomaly-detect-cap} performs better on indexed fields\n+\n+{anomaly-jobs-cap} sort all data by a user defined time field which is accessed \n+frequently. If the time field is a {ref}/runtime.html[runtime field], the small \n+performance overhead of the runtime field may become significant which slows \n+down the job. Please consider using an indexed field as a time field.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a96608bbf73d569206f496f7fd19275b7fdc3679"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODIzMjM4Ng==", "bodyText": "Made some clarifying suggestions, namely to indicate that calculating the values at query time is what might slow jobs. Also suggest stronger wording to \"Use an indexed field\" rather than considering it.", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r498232386", "createdAt": "2020-10-01T13:11:59Z", "author": {"login": "lockewritesdocs"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -235,6 +235,16 @@ When you create an {anomaly-job}, you cannot use a field with the\n `data_description` object. This limitation applies irrespective of whether you\n create jobs in {kib} or by using APIs.\n \n+[float]\n+[[ml-limitations-runtime]]\n+== {anomaly-detect-cap} performs better on indexed fields\n+\n+{anomaly-jobs-cap} sort all data by a user defined time field which is accessed \n+frequently. If the time field is a {ref}/runtime.html[runtime field], the small \n+performance overhead of the runtime field may become significant which slows \n+down the job. Please consider using an indexed field as a time field.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODIyNjMwMw=="}, "originalCommit": {"oid": "a96608bbf73d569206f496f7fd19275b7fdc3679"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "791d7d0176ae81abca562e09dbcfa39a276ab032", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/791d7d0176ae81abca562e09dbcfa39a276ab032", "committedDate": "2020-10-01T13:50:36Z", "message": "Update docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc\n\nCo-authored-by: Adam Locke <adam.locke@elastic.co>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzcxODkx", "url": "https://github.com/elastic/stack-docs/pull/1372#pullrequestreview-500371891", "createdAt": "2020-10-01T13:54:34Z", "commit": {"oid": "791d7d0176ae81abca562e09dbcfa39a276ab032"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzo1NDozNFrOHbLidQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMzo1NDozNFrOHbLidQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI2MjY0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            the job. Use an indexed field as a time field when running anomaly detection jobs.\n          \n          \n            \n            the job. Use an indexed field as a time field when running {anomaly-jobs}.", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r498262645", "createdAt": "2020-10-01T13:54:34Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -235,6 +235,16 @@ When you create an {anomaly-job}, you cannot use a field with the\n `data_description` object. This limitation applies irrespective of whether you\n create jobs in {kib} or by using APIs.\n \n+[float]\n+[[ml-limitations-runtime]]\n+== {anomaly-detect-cap} performs better on indexed fields\n+\n+{anomaly-jobs-cap} sort all data by a user-defined time field, which is frequently \n+accessed. If the time field is a {ref}/runtime.html[runtime field], the \n+performance impact of calculating field values at query time can significantly slow\n+the job. Use an indexed field as a time field when running anomaly detection jobs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "791d7d0176ae81abca562e09dbcfa39a276ab032"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf032b2a5640140a60383201544862a6f4ad607f", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/cf032b2a5640140a60383201544862a6f4ad607f", "committedDate": "2020-10-01T13:54:41Z", "message": "Update docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "683082e4177274bec8823d00392c4c8fa7717d4d", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/683082e4177274bec8823d00392c4c8fa7717d4d", "committedDate": "2020-12-10T10:13:02Z", "message": "Merge branch 'master' into ad.limit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051324f269e8939334342413d6447d9809ab1cd0", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/stack-docs/commit/051324f269e8939334342413d6447d9809ab1cd0", "committedDate": "2020-12-10T11:07:21Z", "message": "Merge branch 'master' into ad.limit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDk0MTky", "url": "https://github.com/elastic/stack-docs/pull/1372#pullrequestreview-549094192", "createdAt": "2020-12-10T11:16:40Z", "commit": {"oid": "051324f269e8939334342413d6447d9809ab1cd0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMToxNjo0MFrOIDELsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMToxNjo1NFrOIDEMdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA4NTE3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [float]\n          \n          \n            \n            [discrete]", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r540085170", "createdAt": "2020-12-10T11:16:40Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -117,6 +117,16 @@ For more information about any of these functions, see <<ml-functions>>.\n --\n \n \n+[float]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "051324f269e8939334342413d6447d9809ab1cd0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA4NTM2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            == {anomaly-detect-cap} performs better on indexed fields\n          \n          \n            \n            === {anomaly-detect-cap} performs better on indexed fields", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r540085364", "createdAt": "2020-12-10T11:16:54Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -117,6 +117,16 @@ For more information about any of these functions, see <<ml-functions>>.\n --\n \n \n+[float]\n+[[ml-limitations-runtime]]\n+== {anomaly-detect-cap} performs better on indexed fields", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "051324f269e8939334342413d6447d9809ab1cd0"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46e6518ef9ce4040728cac8f4f02008be2ac2281", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/46e6518ef9ce4040728cac8f4f02008be2ac2281", "committedDate": "2020-12-10T11:18:13Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MTIyMTAz", "url": "https://github.com/elastic/stack-docs/pull/1372#pullrequestreview-549122103", "createdAt": "2020-12-10T11:54:46Z", "commit": {"oid": "46e6518ef9ce4040728cac8f4f02008be2ac2281"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMTo1NDo0NlrOIDFmnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMTo1NDo0NlrOIDFmnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEwODQ0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [discrete]\n          \n          \n            \n            ////\n          \n          \n            \n            [discrete]", "url": "https://github.com/elastic/stack-docs/pull/1372#discussion_r540108445", "createdAt": "2020-12-10T11:54:46Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc", "diffHunk": "@@ -319,10 +329,9 @@ patterns.\n or NGINX web access logs), visualizations and dashboards are automatically \n generated. These objects belong to the space that was active when you created \n the job. If you change your active space, custom URLs from the {ml} results to \n-the dashboards or visualizations might fail. \n+the dashboards or visualizations might fail.\n \n \n-////\n [discrete]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46e6518ef9ce4040728cac8f4f02008be2ac2281"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6676cdcaa166987804c98283a73c5ecd5880222", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/stack-docs/commit/c6676cdcaa166987804c98283a73c5ecd5880222", "committedDate": "2020-12-10T11:54:54Z", "message": "Update docs/en/stack/ml/anomaly-detection/ml-limitations.asciidoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MTQzNTgy", "url": "https://github.com/elastic/stack-docs/pull/1372#pullrequestreview-549143582", "createdAt": "2020-12-10T12:24:08Z", "commit": {"oid": "c6676cdcaa166987804c98283a73c5ecd5880222"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4639, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}